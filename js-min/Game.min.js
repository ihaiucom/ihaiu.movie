var Games;(function(Games){var ProtoTookManager=(function(){function ProtoTookManager(){this.list=[];this.count=0;this.serverMilliseconds=0}ProtoTookManager.getInstance=function(){var Class=this;if(Class.__instance==null){Class.__instance=new Class()}return Class.__instance};ProtoTookManager.prototype.addTook=function(took){this.list.push(took)};ProtoTookManager.prototype.initTookList=function(){for(var itemKey in Proto.Tooks){var cls=Proto.Tooks[itemKey];var obj=new cls();obj.init();this.addTook(obj)}};ProtoTookManager.prototype.start=function(){this.initTookList();this.count=this.list.length;Laya.timer.loop(1000,this,this.onTick)};ProtoTookManager.prototype.stop=function(){Laya.timer.clear(this,this.onTick)};ProtoTookManager.prototype.onTick=function(){this.serverMilliseconds=Game.time.serverMilliseconds;for(var i=0;i<this.count;i++){var took=this.list[i];if(this.validate(took)){took.setParameter();took.__sender()}}};ProtoTookManager.prototype.validate=function(took){var result=true;if(took.selfHeartbeat>0&&Game.menu.isOpened(took.menuId)){result=this.serverMilliseconds-took.lastSendServerTime>=took.selfHeartbeat}else{result=this.serverMilliseconds-took.lastSendServerTime>=took.heartbeat}if(result){result=Games.MenuValidateOpening.getInstance().validate(took.menuId)}if(result){result=Games.MenuValidateUnlock.getInstance().validate(took.menuId)}if(result&&took.preconditionMenuIds&&took.preconditionMenuIds.length>0){result=false;for(var _i=0,_a=took.preconditionMenuIds;_i<_a.length;_i++){var itemId=_a[_i];if(Game.menu.isOpened(itemId)){result=true;break}}}if(result){result=took.validate()}return result};return ProtoTookManager}());Games.ProtoTookManager=ProtoTookManager})(Games||(Games={}));var Games;(function(Games){var ProtoTookHandler=(function(){function ProtoTookHandler(){this.selfHeartbeat=0;this.lastSendServerTime=0}ProtoTookHandler.prototype.init=function(){};ProtoTookHandler.prototype.validate=function(){return true};ProtoTookHandler.prototype.setParameter=function(){};ProtoTookHandler.prototype.__sender=function(){this.req.__isTook=true;this.lastSendServerTime=Game.time.serverMilliseconds;Game.proto.sendMsgByModulename(this.req,this.moduleName)};return ProtoTookHandler}());Games.ProtoTookHandler=ProtoTookHandler})(Games||(Games={}));var Games;(function(Games){var ProtoOobHandler=(function(){function ProtoOobHandler(){}return ProtoOobHandler}());Games.ProtoOobHandler=ProtoOobHandler})(Games||(Games={}));var Games;(function(Games){var ProtoModuleNames=(function(){function ProtoModuleNames(){}ProtoModuleNames.account="account";ProtoModuleNames.ClientGM="ClientGM";ProtoModuleNames.GameData="GameData";ProtoModuleNames.CinemaBuild="CinemaBuild";ProtoModuleNames.test="test";ProtoModuleNames.item="item";ProtoModuleNames.city="city";ProtoModuleNames.movie="movie";ProtoModuleNames.Actor="Actor";ProtoModuleNames.story="story";ProtoModuleNames.manageOrder="manageOrder";ProtoModuleNames.progressBox="progressBox";ProtoModuleNames.manageProduce="manageProduce";ProtoModuleNames.rank="rank";ProtoModuleNames.task="task";ProtoModuleNames.mall="mall";ProtoModuleNames.Mail="Mail";ProtoModuleNames.Gift="Gift";ProtoModuleNames.manageBusiness="manageBusiness";ProtoModuleNames.manageVisit="manageVisit";ProtoModuleNames.manageMeeting="manageMeeting";ProtoModuleNames.dailySign="dailySign";ProtoModuleNames.secretary="secretary";ProtoModuleNames.sevenAddUp="sevenAddUp";ProtoModuleNames.BeginnerGuide="BeginnerGuide";ProtoModuleNames.Danmu="Danmu";ProtoModuleNames.cooperate="cooperate";return ProtoModuleNames}());Games.ProtoModuleNames=ProtoModuleNames})(Games||(Games={}));var Games;(function(Games){var ProtoManager=(function(){function ProtoManager(){this.isInited=false;this.lastCommandTime=new Dictionary();this.commandIsRespone=new Dictionary()}ProtoManager.prototype.install=function(ip,port,useHttps){if(ip===void 0){ip="172.16.0.116"}if(port===void 0){port=8360}if(useHttps===void 0){useHttps=false}this.isInited=true;DataRespondsManager.init();OobManager.init();this.httpChannel=new frame.comm.HttpChannel(ip,port,useHttps)};ProtoManager.prototype.sendMsg=function(requestData,command){if(!this.isInited){Game.system.toastMsg(Games.TEXT.ErorNoInitProto);return}this.httpChannel.http.addReq(command,requestData)};ProtoManager.prototype.sendMsgByModulename=function(requestData,moduleName,responseRequired,limitTime){var clsname=getClassName(requestData).replace("Request","");var command=moduleName+"/"+clsname;var time=Game.time.localTime;if(requestData.__isTook&&HttpComm.SendErrorNums.hasKey(command)&&HttpComm.SendErrorNums.getValue(command)>10){return}if(limitTime){if(this.lastCommandTime.hasKey(command)){if(time-this.lastCommandTime.getValue(command)<500){return}}}if(responseRequired){if(this.commandIsRespone.hasKey(command)&&!this.commandIsRespone.getValue(command)){return}}this.commandIsRespone.add(command,false);this.lastCommandTime.add(command,time);this.sendMsg(requestData,command)};ProtoManager.prototype.__onMsgRespone=function(command){this.commandIsRespone.add(command,true)};return ProtoManager}());Games.ProtoManager=ProtoManager})(Games||(Games={}));var frame;(function(frame){var ProtoHttpTest=(function(){function ProtoHttpTest(){}ProtoHttpTest.prototype.init=function(){DataRespondsManager.init();OobManager.init();this.httpChannel=new frame.comm.HttpChannel("172.16.0.116",8360,false);this.httpChannel.on(frame.event.HttpChannelEvent.LOGIN_COMPLETE,this,this.loginHandle);this.httpChannel.login("test1")};ProtoHttpTest.prototype.loginHandle=function(rsp){this.httpChannel.off(frame.event.HttpChannelEvent.LOGIN_COMPLETE,this,this.loginHandle);if(rsp.OK){console.log("登录成功");this.doBusinessRequest()}else{console.log("登录失败");console.log(rsp.errMsg)}};ProtoHttpTest.prototype.doBusinessRequest=function(){var requestData=new Proto.API.GameData.GetLoginGameDataRequest();requestData.channel="1";this.httpChannel.http.addReq("GameData/GetLoginGameData",requestData)};return ProtoHttpTest}());frame.ProtoHttpTest=ProtoHttpTest})(frame||(frame={}));var OobManager=(function(){function OobManager(){}OobManager.init=function(){};OobManager.oobUpdateHand=function(oob,isTook){for(var i=0;i<oob.length;i++){for(var j=0;j<oob[i].length;j++){var item=oob[i][j];var ops=item.ops;var uuid=item.uuid;var type=item.type;if(type){var a=Games.ProtoOobHandler;var fun=Games.ProtoOobHandler[type+"Handler"];if(fun){if(!isTook){console.info("[oob\u534F\u8BAE\u6D88\u606F\u5904\u7406\u5668] type= "+type+"  ops="+ops+"  uuid="+uuid)}if(isString(item.data)){if(isNullOrEmpty(item.data)){item.data=null}else{item.data=JSON.parse(item.data)}}fun(item.data,ops,uuid)}else{console.warn("[oob\u534F\u8BAE\u6D88\u606F\u6CA1\u6709\u5904\u7406\u5668] \u6CA1\u6709\u8BBE\u7F6E type= "+type+"  ops="+ops+"  uuid="+uuid)}}else{console.error("[oob\u534F\u8BAE\u6D88\u606F\u51FA\u9519] \u6CA1\u6709\u8BBE\u7F6Etype, "+JSON.stringify(item)+",   type= "+type+"  ops="+ops+"  uuid="+uuid)}}}setTimeout(function(){OobManager.oobNoticMsg(oob)},10)};OobManager.oobNoticMsg=function(oob){for(var i=0;i<oob.length;i++){for(var j=0;j<oob[i].length;j++){var item=oob[i][j];var ops=item.ops;var uuid=item.uuid;var type=item.type;if(type){Game.protoOkEvent.dispatch(type,item.data,ops,uuid)}}}};return OobManager}());var DataRespondsManager=(function(){function DataRespondsManager(){}DataRespondsManager.init=function(){Frame.MessageCenter.on(frame.event.HttpChannelEvent.DATA_RESPONDS,this.dataResponds,this)};DataRespondsManager.dataResponds=function(rsp){if(rsp.OK){var arr=rsp.reqData.command.split("/");var moduleName=arr[0];var funName=arr[1];var handler=Game.protohandler[moduleName];if(handler){var fun=handler[funName];if(fun){if(!rsp.reqData.data.__isTook){console.info("[\u534F\u8BAE\u6D88\u606F\u5904\u7406\u5668]  command="+rsp.reqData.command+", "+getClassName(rsp.reqData.data))}fun.apply(handler,[rsp.data])}else{if(!rsp.reqData.data.__isTook){console.warn("[\u534F\u8BAE\u6D88\u606F\u6CA1\u6709\u5904\u7406\u5668] command="+rsp.reqData.command+", "+getClassName(rsp.reqData.data))}}}else{console.warn("[\u534F\u8BAE\u6D88\u606F\u6CA1\u6709\u5904\u7406\u5668] command="+rsp.reqData.command+", "+getClassName(rsp.reqData.data))}var eventName_1=moduleName+"_"+funName;setTimeout(function(){Game.protoOkEvent.dispatch(eventName_1,rsp.data)},10)}else{console.debug("[\u534F\u8BAE\u6D88\u606F\u51FA\u9519] command="+rsp.reqData.command+", "+getClassName(rsp.reqData.data)+",  errNo="+rsp.errNo+", errMsg="+rsp.errMsg)}};return DataRespondsManager}());var Frame=(function(){function Frame(){}Object.defineProperty(Frame,"MessageCenter",{get:function(){return frame.system.MessageCenter.getInstance()},enumerable:true,configurable:true});Object.defineProperty(Frame,"CallbackMappingCenter",{get:function(){return frame.system.CallbackMappingCenter.getInstance()},enumerable:true,configurable:true});Object.defineProperty(Frame,"Tool",{get:function(){return frame.system.ToolMod.getInstance()},enumerable:true,configurable:true});return Frame}());var frame;(function(frame){var event;(function(event){var HttpChannelEvent=(function(){function HttpChannelEvent(){}HttpChannelEvent.LOGIN_COMPLETE="HttpChannelEvent_login_complete";HttpChannelEvent.DATA_RESPONDS="HttpChannelEvent_data_reponds";HttpChannelEvent.OOB_UPDATE="HttpChannelEvent_oob_update";return HttpChannelEvent}());event.HttpChannelEvent=HttpChannelEvent})(event=frame.event||(frame.event={}))})(frame||(frame={}));var frame;(function(frame){var comm;(function(comm){var HttpRespondsData=(function(){function HttpRespondsData(){this.data=null;this.OK=false;this.reqData=null;this.errNo=0;this.errMsg=""}HttpRespondsData.prototype.destroy=function(){this.data=null;this.reqData=null;this.errMsg=""};return HttpRespondsData}());comm.HttpRespondsData=HttpRespondsData})(comm=frame.comm||(frame.comm={}))})(frame||(frame={}));var frame;(function(frame){var comm;(function(comm){var HttpRequestData=(function(){function HttpRequestData(command,data,callback,callbackThis){this.command=command;this.data=data;this.callback=callback;this.callbackThis=callbackThis;HttpRequestData.maxReqIdx++;this.reqIdx=HttpRequestData.maxReqIdx}Object.defineProperty(HttpRequestData.prototype,"protoClassType",{get:function(){if(this.data){return this.data.constructor}return null},enumerable:true,configurable:true});HttpRequestData.prototype.destroy=function(){this.command=null;this.data=null;this.callback=null;this.callbackThis=null};HttpRequestData.maxReqIdx=0;return HttpRequestData}());comm.HttpRequestData=HttpRequestData})(comm=frame.comm||(frame.comm={}))})(frame||(frame={}));var frame;(function(frame){var comm;(function(comm){var HttpConfig=(function(){function HttpConfig(host,port,useHttps){if(useHttps===void 0){useHttps=false}this._host="";this._port=80;this._useHttps=false;this._host=host;this._port=port;this._useHttps=useHttps}HttpConfig.prototype.destroy=function(){this._host=null};Object.defineProperty(HttpConfig.prototype,"hostHead",{get:function(){var host=this._host+":"+this._port;if(this._useHttps){host="https://"+host}else{host="http://"+host}return host},enumerable:true,configurable:true});HttpConfig.prototype.getFullRequestUrl=function(command){command=command.replace("//","/");if(command.charAt(0)!="/"){command="/"+command}var url=this.hostHead+command;return url};HttpConfig.prototype.getFullRequestData=function(jwt,data){var fullData={jwt:jwt,data:data};return fullData};return HttpConfig}());comm.HttpConfig=HttpConfig})(comm=frame.comm||(frame.comm={}))})(frame||(frame={}));var frame;(function(frame){var comm;(function(comm){var Event=laya.events.Event;var HttpRequest=laya.net.HttpRequest;var ReqData=frame.comm.HttpRequestData;var HttpComm=(function(){function HttpComm(host,port,useHttps,timeout){if(timeout===void 0){timeout=10000}this._jwt="";this.isInitGameData=false;this._httpConfig=new comm.HttpConfig(host,port,useHttps);this._reqDataList=[];this._httpRequest=new HttpRequest();this._httpRequest.http.timeout=timeout;this._httpRequest.reqdata=null;this._httpRequest.on(Event.COMPLETE,this,this.completeHandler);this._httpRequest.on(Event.ERROR,this,this.errorHandler);HttpComm.SetHeader("accept-language",LangManager.Instance.httpLang)}HttpComm.SetHeader=function(key,value){var index=HttpComm.HEADERS.indexOf(key);if(index!=-1){HttpComm.HEADERS[index+1]=value}else{HttpComm.HEADERS.push(key,value)}log(HttpComm.HEADERS)};HttpComm.prototype.destroy=function(){this._httpRequest.off(Event.COMPLETE,this,this.completeHandler);this._httpRequest.off(Event.ERROR,this,this.errorHandler);delete this._httpRequest.reqdata;this._httpRequest=null;this._reqDataList=null;this._httpConfig.destroy();this._httpConfig=null};HttpComm.prototype.addReq=function(command,data,callback,callbackThis,highPriority){if(data===void 0){data=null}if(callback===void 0){callback=null}if(callbackThis===void 0){callbackThis=null}if(highPriority===void 0){highPriority=false}var reqData=new ReqData(command,data,callback,callbackThis);if(highPriority){this._reqDataList.unshift(reqData)}else{this._reqDataList.push(reqData)}if(this._httpRequest.reqdata==null){this.pickAndSendReq()}return reqData.reqIdx};HttpComm.prototype.pickAndSendReq=function(){if(this._reqDataList.length>0){var reqData=this._reqDataList.shift();this._httpRequest.reqdata=reqData;var fullData=this._httpConfig.getFullRequestData(this._jwt,reqData.data);var data=JSON.stringify(fullData);var url=this._httpConfig.getFullRequestUrl(reqData.command);this._httpRequest.send(url,data,"post","json",HttpComm.HEADERS);if(HttpComm.LogRequest&&!reqData.data.__isTook){console.log("--发送："+url)}}};HttpComm.prototype.completeHandler=function(msg){if(HttpComm.LogRespond){console.log("--接收："+JSON.stringify(msg))}var reqData=this._httpRequest.reqdata;var respondsData=new frame.comm.HttpRespondsData();if(msg&&msg.data){if(msg.data.oob){OobManager.oobUpdateHand(msg.data.oob,reqData.data.__isTook)}if(msg.errno==0){respondsData.OK=true;respondsData.reqData=reqData;if(msg.data.data){respondsData.data=msg.data.data}else{respondsData.data=msg.data}if(reqData.callback!=null){reqData.callback.call(reqData.callbackThis,respondsData)}Frame.MessageCenter.event(frame.event.HttpChannelEvent.DATA_RESPONDS,respondsData)}}if(msg.errno!=0){var errorTxt="[\u9519\u8BEF] errno="+msg.errno+", errmsg="+msg.errmsg+" ";var errorConfig=Game.config.msgProtoError.getConfig(msg.errno);if(errorConfig){errorTxt=errorConfig.notice;console.warn("[\u534F\u8BAE\u6D88\u606F\u670D\u52A1\u5668\u53CD\u9988\u9519\u8BEF] errno="+msg.errno+", errmsg="+msg.errmsg+"  "+JSON.stringify(msg)+" "+errorTxt)}else{console.warn("[\u534F\u8BAE\u6D88\u606F\u670D\u52A1\u5668\u53CD\u9988\u9519\u8BEF] errno="+msg.errno+", errmsg="+msg.errmsg+"  "+JSON.stringify(msg)+" ")}if(this.isInitGameData){errorTxt=Games.TEXT.ErrorNameUsed}Game.system.toastText(errorTxt);respondsData.OK=false;respondsData.errNo=msg.errno;respondsData.errMsg=msg.errmsg;if(reqData.callback){reqData.callback.call(reqData.callbackThis,respondsData)}var arr=reqData.command.split("/");var moduleName=arr[0];var funName=arr[1];var eventName_1=moduleName+"_"+funName;setTimeout(function(){Game.protoFailEvent.dispatch(eventName_1)},10)}Game.proto.__onMsgRespone(reqData.command);this.removeReqData(reqData);reqData.destroy();this._httpRequest.reqdata=null;this.pickAndSendReq();if(this.isInitGameData){this.isInitGameData=false}};HttpComm.prototype.errorHandler=function(data){Game.system.toastText(Games.TEXT.ErrorHttpSendFail);console.warn("[\u534F\u8BAE\u53D1\u9001\u51FA\u9519] errno=-100, errmsg=Http\u8BF7\u6C42\u5931\u8D25 "+data);var reqData=this._httpRequest.reqdata;var num=HttpComm.SendErrorNums.hasKey(reqData.command)?HttpComm.SendErrorNums.getValue(reqData.command)+1:1;HttpComm.SendErrorNums.add(reqData.command,num);if(reqData.callback!=null){reqData.callback.call(reqData.callbackThis,{errno:-100,errmsg:"Http请求失败"})}Game.proto.__onMsgRespone(reqData.command);var arr=reqData.command.split("/");var moduleName=arr[0];var funName=arr[1];var eventName=moduleName+"_"+funName;setTimeout(function(){Game.protoFailEvent.dispatch(eventName)},10);this.removeReqData(reqData);reqData.destroy();this._httpRequest.reqdata=null;this.pickAndSendReq()};HttpComm.prototype.removeReqData=function(reqData){var idx=this._reqDataList.indexOf(reqData);if(idx>=0){reqData.destroy();this._reqDataList.splice(idx,1)}};HttpComm.prototype.removeReqByID=function(reqIdx){if(reqIdx===void 0){reqIdx=0}var reqData;for(var i=this._reqDataList.length-1;i>=0;i--){reqData=this._reqDataList[i];if(reqData.reqIdx==reqIdx){this._reqDataList.splice(i,1)}}};HttpComm.prototype.removeReqByCallback=function(callback){var reqData;for(var i=this._reqDataList.length-1;i>=0;i--){reqData=this._reqDataList[i];if(reqData.callback==callback){this._reqDataList.splice(i,1)}}};Object.defineProperty(HttpComm.prototype,"jwt",{get:function(){return this._jwt},enumerable:true,configurable:true});HttpComm.prototype.setJwt=function(value){this._jwt=value};HttpComm.LogRequest=true;HttpComm.LogRespond=true;HttpComm.HEADERS=["content-type","application/json","accept-language","zh-CN"];HttpComm.SendErrorNums=new Dictionary();return HttpComm}());comm.HttpComm=HttpComm})(comm=frame.comm||(frame.comm={}))})(frame||(frame={}));var ProtoEventKey=(function(){function ProtoEventKey(){}ProtoEventKey.account_auth="account_auth";ProtoEventKey.account_login="account_login";ProtoEventKey.account_refreshToken="account_refreshToken";ProtoEventKey.ClientGM_gmTest="ClientGM_gmTest";ProtoEventKey.ClientGM_gmUpdateOscar="ClientGM_gmUpdateOscar";ProtoEventKey.GameData_Auth="GameData_Auth";ProtoEventKey.GameData_InitGameData="GameData_InitGameData";ProtoEventKey.GameData_GetLoginGameData="GameData_GetLoginGameData";ProtoEventKey.GameData_GetInitGameData="GameData_GetInitGameData";ProtoEventKey.GameData_RenameGameData="GameData_RenameGameData";ProtoEventKey.GameData_RePerSignatureGameData="GameData_RePerSignatureGameData";ProtoEventKey.GameData_RePortraitGameData="GameData_RePortraitGameData";ProtoEventKey.GameData_GetGameInfoExt="GameData_GetGameInfoExt";ProtoEventKey.GameData_GetInitActor="GameData_GetInitActor";ProtoEventKey.GameData_GetNoticeList="GameData_GetNoticeList";ProtoEventKey.CinemaBuild_ExtendFloor="CinemaBuild_ExtendFloor";ProtoEventKey.CinemaBuild_BuildRoom="CinemaBuild_BuildRoom";ProtoEventKey.CinemaBuild_UpgradeRoom="CinemaBuild_UpgradeRoom";ProtoEventKey.test_AddItem="test_AddItem";ProtoEventKey.test_AddFans="test_AddFans";ProtoEventKey.test_AddExpect="test_AddExpect";ProtoEventKey.test_DeleteMovie="test_DeleteMovie";ProtoEventKey.test_AddStarStory="test_AddStarStory";ProtoEventKey.test_AddStory="test_AddStory";ProtoEventKey.test_AddActorSkillExp="test_AddActorSkillExp";ProtoEventKey.test_AddStoryProgress="test_AddStoryProgress";ProtoEventKey.test_FinishGuide="test_FinishGuide";ProtoEventKey.test_debug="test_debug";ProtoEventKey.test_AddGift="test_AddGift";ProtoEventKey.test_SetBlockLevel="test_SetBlockLevel";ProtoEventKey.test_RefreshTime="test_RefreshTime";ProtoEventKey.test_PutOrderItems="test_PutOrderItems";ProtoEventKey.test_GetAutoCooperate="test_GetAutoCooperate";ProtoEventKey.test_UpdateOscar="test_UpdateOscar";ProtoEventKey.test_setAllStoryGold="test_setAllStoryGold";ProtoEventKey.test_LockAllProduce="test_LockAllProduce";ProtoEventKey.test_SetSecretaryStatus="test_SetSecretaryStatus";ProtoEventKey.test_CleanSecretaryTimes="test_CleanSecretaryTimes";ProtoEventKey.test_GetRechargeGift="test_GetRechargeGift";ProtoEventKey.test_GotoCity="test_GotoCity";ProtoEventKey.test_GotoCityBefore="test_GotoCityBefore";ProtoEventKey.item_SellOut="item_SellOut";ProtoEventKey.item_Compound="item_Compound";ProtoEventKey.item_Split="item_Split";ProtoEventKey.item_Use="item_Use";ProtoEventKey.item_CompoundActor="item_CompoundActor";ProtoEventKey.item_UseActorSkillWater="item_UseActorSkillWater";ProtoEventKey.city_SetPropagandaActor="city_SetPropagandaActor";ProtoEventKey.city_Propaganda="city_Propaganda";ProtoEventKey.city_Roadshow="city_Roadshow";ProtoEventKey.city_SetAmbassador="city_SetAmbassador";ProtoEventKey.city_GetReward="city_GetReward";ProtoEventKey.city_HoldCity="city_HoldCity";ProtoEventKey.movie_MakeFilm="movie_MakeFilm";ProtoEventKey.movie_SetMovieName="movie_SetMovieName";ProtoEventKey.movie_SetActor="movie_SetActor";ProtoEventKey.movie_ConfirmSetActor="movie_ConfirmSetActor";ProtoEventKey.movie_ChoseType="movie_ChoseType";ProtoEventKey.movie_AcceptMediaVisit="movie_AcceptMediaVisit";ProtoEventKey.movie_PublishMovie="movie_PublishMovie";ProtoEventKey.movie_BattleOver="movie_BattleOver";ProtoEventKey.movie_SpreadMovie="movie_SpreadMovie";ProtoEventKey.movie_GetRewardMovie="movie_GetRewardMovie";ProtoEventKey.movie_SwitchCity="movie_SwitchCity";ProtoEventKey.movie_UpdateMovieState="movie_UpdateMovieState";ProtoEventKey.movie_GetStoryGoals="movie_GetStoryGoals";ProtoEventKey.movie_DeleteMovie="movie_DeleteMovie";ProtoEventKey.Actor_NoseInfoActor="Actor_NoseInfoActor";ProtoEventKey.Actor_RecruitActor="Actor_RecruitActor";ProtoEventKey.Actor_HideActor="Actor_HideActor";ProtoEventKey.Actor_AddActorSlot="Actor_AddActorSlot";ProtoEventKey.Actor_UpgradeActor="Actor_UpgradeActor";ProtoEventKey.Actor_GiveActorAssets="Actor_GiveActorAssets";ProtoEventKey.Actor_UpgradeActorSkill="Actor_UpgradeActorSkill";ProtoEventKey.Actor_ActorTrain="Actor_ActorTrain";ProtoEventKey.Actor_ActorChangeName="Actor_ActorChangeName";ProtoEventKey.Actor_ActorExerciseStart="Actor_ActorExerciseStart";ProtoEventKey.Actor_ActorExerciseReward="Actor_ActorExerciseReward";ProtoEventKey.Actor_ActorExerciseAdd="Actor_ActorExerciseAdd";ProtoEventKey.Actor_GiveLoyaltyCard="Actor_GiveLoyaltyCard";ProtoEventKey.story_findStory="story_findStory";ProtoEventKey.story_cleanFindStory="story_cleanFindStory";ProtoEventKey.story_getReward="story_getReward";ProtoEventKey.story_GetMessage="story_GetMessage";ProtoEventKey.story_SetMessage="story_SetMessage";ProtoEventKey.manageOrder_PutItem="manageOrder_PutItem";ProtoEventKey.manageOrder_DelOrder="manageOrder_DelOrder";ProtoEventKey.manageOrder_FinishOrder="manageOrder_FinishOrder";ProtoEventKey.manageOrder_DealOrder="manageOrder_DealOrder";ProtoEventKey.progressBox_GetReward="progressBox_GetReward";ProtoEventKey.manageProduce_Produce="manageProduce_Produce";ProtoEventKey.manageProduce_GetReward="manageProduce_GetReward";ProtoEventKey.manageProduce_Uplevel="manageProduce_Uplevel";ProtoEventKey.manageProduce_SendActor="manageProduce_SendActor";ProtoEventKey.manageProduce_Deblocking="manageProduce_Deblocking";ProtoEventKey.manageProduce_QuickGetReward="manageProduce_QuickGetReward";ProtoEventKey.manageProduce_QuickProduce="manageProduce_QuickProduce";ProtoEventKey.manageProduce_cleanTime="manageProduce_cleanTime";ProtoEventKey.rank_GetSelfList="rank_GetSelfList";ProtoEventKey.rank_GetServerRankList="rank_GetServerRankList";ProtoEventKey.rank_GetGroupRankList="rank_GetGroupRankList";ProtoEventKey.rank_GetGroupMovieRankList="rank_GetGroupMovieRankList";ProtoEventKey.rank_GetMovieShortData="rank_GetMovieShortData";ProtoEventKey.rank_GetPlayerShortData="rank_GetPlayerShortData";ProtoEventKey.rank_GetServerListReward="rank_GetServerListReward";ProtoEventKey.rank_ChangeServerName="rank_ChangeServerName";ProtoEventKey.rank_GetOscarData="rank_GetOscarData";ProtoEventKey.rank_GetOscarReward="rank_GetOscarReward";ProtoEventKey.rank_ChoseTheater="rank_ChoseTheater";ProtoEventKey.rank_GetStreetReward="rank_GetStreetReward";ProtoEventKey.task_reward="task_reward";ProtoEventKey.mall_buy="mall_buy";ProtoEventKey.Mail_MailGetReward="Mail_MailGetReward";ProtoEventKey.Mail_MailGetRewardMany="Mail_MailGetRewardMany";ProtoEventKey.Mail_MailDeleteMany="Mail_MailDeleteMany";ProtoEventKey.Mail_MailDelete="Mail_MailDelete";ProtoEventKey.Mail_MailRead="Mail_MailRead";ProtoEventKey.Gift_Exchange="Gift_Exchange";ProtoEventKey.manageBusiness_GetReward="manageBusiness_GetReward";ProtoEventKey.manageVisit_StartVisit="manageVisit_StartVisit";ProtoEventKey.manageVisit_GetReward="manageVisit_GetReward";ProtoEventKey.manageMeeting_GetReward="manageMeeting_GetReward";ProtoEventKey.manageMeeting_Markup="manageMeeting_Markup";ProtoEventKey.dailySign_sign="dailySign_sign";ProtoEventKey.secretary_GetDailyReward="secretary_GetDailyReward";ProtoEventKey.secretary_OpenSecretary="secretary_OpenSecretary";ProtoEventKey.secretary_ApplyMovieLicence="secretary_ApplyMovieLicence";ProtoEventKey.secretary_RewardMovieLicence="secretary_RewardMovieLicence";ProtoEventKey.sevenAddUp_GetReward="sevenAddUp_GetReward";ProtoEventKey.sevenAddUp_Touch="sevenAddUp_Touch";ProtoEventKey.BeginnerGuide_CompleteGuide="BeginnerGuide_CompleteGuide";ProtoEventKey.Danmu_set="Danmu_set";ProtoEventKey.Danmu_get="Danmu_get";ProtoEventKey.cooperate_Apply="cooperate_Apply";ProtoEventKey.cooperate_CancelCooperate="cooperate_CancelCooperate";ProtoEventKey.cooperate_Relieve="cooperate_Relieve";ProtoEventKey.cooperate_Approve="cooperate_Approve";ProtoEventKey.cooperate_GetInfo="cooperate_GetInfo";ProtoEventKey.cooperate_TaskOperate="cooperate_TaskOperate";ProtoEventKey.cooperate_GetTaskReward="cooperate_GetTaskReward";ProtoEventKey.cooperate_GiveReward="cooperate_GiveReward";ProtoEventKey.cooperate_GetProgressTask="cooperate_GetProgressTask";ProtoEventKey.cooperate_ReadCooperate="cooperate_ReadCooperate";ProtoEventKey.DBBase="DBBase";ProtoEventKey.DBObject="DBObject";ProtoEventKey.ShardDBObject="ShardDBObject";ProtoEventKey.UsrData="UsrData";ProtoEventKey.RoomInfo="RoomInfo";ProtoEventKey.GameInfo="GameInfo";ProtoEventKey.GameInfoExt="GameInfoExt";ProtoEventKey.ItemDesc="ItemDesc";ProtoEventKey.GMMsgLog="GMMsgLog";ProtoEventKey.OrderData="OrderData";ProtoEventKey.Notice="Notice";ProtoEventKey.MailDesc="MailDesc";ProtoEventKey.ItemData="ItemData";ProtoEventKey.StorySuitData="StorySuitData";ProtoEventKey.StoryData="StoryData";ProtoEventKey.StoryProgress="StoryProgress";ProtoEventKey.Assets="Assets";ProtoEventKey.shootInfo="shootInfo";ProtoEventKey.skillTriggerCondition="skillTriggerCondition";ProtoEventKey.skillInfo="skillInfo";ProtoEventKey.ActorData="ActorData";ProtoEventKey.CityData="CityData";ProtoEventKey.skillEffectInfo="skillEffectInfo";ProtoEventKey.ActorSkillEffect="ActorSkillEffect";ProtoEventKey.TempData="TempData";ProtoEventKey.MovieData="MovieData";ProtoEventKey.BattleData="BattleData";ProtoEventKey.CityGainsInfo="CityGainsInfo";ProtoEventKey.MediaVisitDesc="MediaVisitDesc";ProtoEventKey.ManageOrderData="ManageOrderData";ProtoEventKey.OrderItems="OrderItems";ProtoEventKey.ProgressBoxData="ProgressBoxData";ProtoEventKey.ManageProduceData="ManageProduceData";ProtoEventKey.SkillLevel="SkillLevel";ProtoEventKey.AttrChangeInfo="AttrChangeInfo";ProtoEventKey.MovieLicenceResetTimeData="MovieLicenceResetTimeData";ProtoEventKey.ManageBusinessData="ManageBusinessData";ProtoEventKey.ManageVisitData="ManageVisitData";ProtoEventKey.StoryMessageDesc="StoryMessageDesc";ProtoEventKey.StoryMessage="StoryMessage";ProtoEventKey.ActorShortDesc="ActorShortDesc";ProtoEventKey.MovieShortData="MovieShortData";ProtoEventKey.BestMovieDesc="BestMovieDesc";ProtoEventKey.PlayerShortData="PlayerShortData";ProtoEventKey.ServerListDesc="ServerListDesc";ProtoEventKey.GroupListDesc="GroupListDesc";ProtoEventKey.GroupMovieListDesc="GroupMovieListDesc";ProtoEventKey.SelfRankListDesc="SelfRankListDesc";ProtoEventKey.RankListData="RankListData";ProtoEventKey.TaskData="TaskData";ProtoEventKey.MallItemLimitData="MallItemLimitData";ProtoEventKey.MailData="MailData";ProtoEventKey.ManageMeetingData="ManageMeetingData";ProtoEventKey.DanmuItem="DanmuItem";ProtoEventKey.DanmuData="DanmuData";ProtoEventKey.DailySign="DailySign";ProtoEventKey.SecretaryData="SecretaryData";ProtoEventKey.SecretaryKeyValue="SecretaryKeyValue";ProtoEventKey.SevenAddUpData="SevenAddUpData";ProtoEventKey.ActortExerciseData="ActortExerciseData";ProtoEventKey.OscarDesc="OscarDesc";ProtoEventKey.OscarData="OscarData";ProtoEventKey.PlayerOscarData="PlayerOscarData";ProtoEventKey.DailyEventItem="DailyEventItem";ProtoEventKey.DailyEvent="DailyEvent";ProtoEventKey.GuideData="GuideData";ProtoEventKey.PlayerCooperateData="PlayerCooperateData";ProtoEventKey.AccountCooperateData="AccountCooperateData";ProtoEventKey.ApplyInfo="ApplyInfo";ProtoEventKey.AutoCooperateData="AutoCooperateData";ProtoEventKey.CooperateTaskData="CooperateTaskData";ProtoEventKey.Ctask="Ctask";ProtoEventKey.StarTask="StarTask";ProtoEventKey.CooperateOrderData="CooperateOrderData";ProtoEventKey.PlayerLevelUp="PlayerLevelUp";return ProtoEventKey}());var Proto;(function(Proto){var SE;(function(SE){var EError;(function(EError){EError[EError.NoError=0]="NoError";EError[EError.ServerError=1]="ServerError";EError[EError.DataError=2]="DataError";EError[EError.UnknownError=3]="UnknownError";EError[EError.DataBusy=4]="DataBusy";EError[EError.NoUsrId=5]="NoUsrId";EError[EError.Frozen=6]="Frozen";EError[EError.Dropped=7]="Dropped"})(EError=SE.EError||(SE.EError={}));var EMoneyType;(function(EMoneyType){EMoneyType[EMoneyType.Money=1]="Money";EMoneyType[EMoneyType.Diamond=2]="Diamond";EMoneyType[EMoneyType.Gold=3]="Gold";EMoneyType[EMoneyType.Coin=4]="Coin"})(EMoneyType=SE.EMoneyType||(SE.EMoneyType={}));var EGoodsFlag;(function(EGoodsFlag){EGoodsFlag[EGoodsFlag.None=0]="None";EGoodsFlag[EGoodsFlag.New=1]="New";EGoodsFlag[EGoodsFlag.Hot=2]="Hot";EGoodsFlag[EGoodsFlag.Discount=3]="Discount";EGoodsFlag[EGoodsFlag.SoldOut=4]="SoldOut"})(EGoodsFlag=SE.EGoodsFlag||(SE.EGoodsFlag={}));var EAcceptCondition;(function(EAcceptCondition){EAcceptCondition[EAcceptCondition.acceptcondition_front_id=1]="acceptcondition_front_id";EAcceptCondition[EAcceptCondition.acceptcondition_level=2]="acceptcondition_level"})(EAcceptCondition=SE.EAcceptCondition||(SE.EAcceptCondition={}));var ECompleteCondition;(function(ECompleteCondition){ECompleteCondition[ECompleteCondition.completecondition_score=1]="completecondition_score";ECompleteCondition[ECompleteCondition.completecondition_kill=2]="completecondition_kill"})(ECompleteCondition=SE.ECompleteCondition||(SE.ECompleteCondition={}));var ECompleteReward;(function(ECompleteReward){ECompleteReward[ECompleteReward.completereward_exp=1]="completereward_exp";ECompleteReward[ECompleteReward.completereward_item=2]="completereward_item";ECompleteReward[ECompleteReward.completereward_gold=3]="completereward_gold"})(ECompleteReward=SE.ECompleteReward||(SE.ECompleteReward={}));var EUsrState;(function(EUsrState){EUsrState[EUsrState.uninit=1]="uninit";EUsrState[EUsrState.init_actor=2]="init_actor";EUsrState[EUsrState.usual=3]="usual";EUsrState[EUsrState.frozen=4]="frozen";EUsrState[EUsrState.dropped=5]="dropped"})(EUsrState=SE.EUsrState||(SE.EUsrState={}));var EItemNumber;(function(EItemNumber){EItemNumber[EItemNumber.diamond=1]="diamond";EItemNumber[EItemNumber.gold=2]="gold"})(EItemNumber=SE.EItemNumber||(SE.EItemNumber={}));var EPublishTypeCode;(function(EPublishTypeCode){EPublishTypeCode[EPublishTypeCode.sdknotice=1]="sdknotice";EPublishTypeCode[EPublishTypeCode.usrmail=2]="usrmail";EPublishTypeCode[EPublishTypeCode.gamemail=9]="gamemail";EPublishTypeCode[EPublishTypeCode.gamenotice=10]="gamenotice"})(EPublishTypeCode=SE.EPublishTypeCode||(SE.EPublishTypeCode={}));var EUserSex;(function(EUserSex){EUserSex[EUserSex.boy=2001]="boy";EUserSex[EUserSex.girl=2002]="girl"})(EUserSex=SE.EUserSex||(SE.EUserSex={}));var EItemCategory;(function(EItemCategory){EItemCategory[EItemCategory.diamond=1]="diamond";EItemCategory[EItemCategory.gold=2]="gold";EItemCategory[EItemCategory.dollar=3]="dollar";EItemCategory[EItemCategory.other=4]="other";EItemCategory[EItemCategory.normal=5]="normal";EItemCategory[EItemCategory.assets=6]="assets";EItemCategory[EItemCategory.contract=7]="contract";EItemCategory[EItemCategory.giftbag=8]="giftbag";EItemCategory[EItemCategory.licence=10]="licence";EItemCategory[EItemCategory.cup=14]="cup"})(EItemCategory=SE.EItemCategory||(SE.EItemCategory={}));var EItemId;(function(EItemId){EItemId[EItemId.diamond=1]="diamond";EItemId[EItemId.gold=2]="gold";EItemId[EItemId.dollar=3]="dollar";EItemId[EItemId.licence=4]="licence";EItemId[EItemId.fans=5]="fans";EItemId[EItemId.praise=6]="praise";EItemId[EItemId.drawing=7]="drawing";EItemId[EItemId.expect=8]="expect";EItemId[EItemId.study_card=5004]="study_card";EItemId[EItemId.player_rename_card=5008]="player_rename_card";EItemId[EItemId.actor_skill_exp_water=5010]="actor_skill_exp_water";EItemId[EItemId.actor_loyalty_card=5003]="actor_loyalty_card";EItemId[EItemId.brochure=5005]="brochure"})(EItemId=SE.EItemId||(SE.EItemId={}));var EGameDataRename;(function(EGameDataRename){EGameDataRename[EGameDataRename.renameLengthMin=4]="renameLengthMin";EGameDataRename[EGameDataRename.renameLengthMax=18]="renameLengthMax";EGameDataRename[EGameDataRename.rePerSignatureLengthMax=100]="rePerSignatureLengthMax"})(EGameDataRename=SE.EGameDataRename||(SE.EGameDataRename={}));var EStoryStack;(function(EStoryStack){EStoryStack[EStoryStack.story_stack_daily_times=2045]="story_stack_daily_times";EStoryStack[EStoryStack.story_stack_search_cost=2046]="story_stack_search_cost";EStoryStack[EStoryStack.story_stack_cd_stage_cost=2047]="story_stack_cd_stage_cost";EStoryStack[EStoryStack.story_stack_cd_stage_length=2048]="story_stack_cd_stage_length";EStoryStack[EStoryStack.story_stack_cd=2050]="story_stack_cd";EStoryStack[EStoryStack.story_stack_daily_update=2051]="story_stack_daily_update";EStoryStack[EStoryStack.story_stack_cd_block_level=2052]="story_stack_cd_block_level"})(EStoryStack=SE.EStoryStack||(SE.EStoryStack={}));var EStoryModule;(function(EStoryModule){EStoryModule[EStoryModule.noFinish=0]="noFinish";EStoryModule[EStoryModule.finish=1]="finish";EStoryModule[EStoryModule.hadGet=2]="hadGet";EStoryModule[EStoryModule.randomLength=3]="randomLength";EStoryModule[EStoryModule.shootTime=5]="shootTime";EStoryModule[EStoryModule.score=8]="score"})(EStoryModule=SE.EStoryModule||(SE.EStoryModule={}));var EMovieState;(function(EMovieState){EMovieState[EMovieState.chooseScript=2]="chooseScript";EMovieState[EMovieState.renameFilm=3]="renameFilm";EMovieState[EMovieState.currentMarketInf=4]="currentMarketInf";EMovieState[EMovieState.chooseActor=5]="chooseActor";EMovieState[EMovieState.costView=6]="costView";EMovieState[EMovieState.yRShowView=7]="yRShowView";EMovieState[EMovieState.compatibility=8]="compatibility";EMovieState[EMovieState.filming=9]="filming";EMovieState[EMovieState.chooseType=10]="chooseType";EMovieState[EMovieState.chooseTip=11]="chooseTip";EMovieState[EMovieState.propaganda=12]="propaganda";EMovieState[EMovieState.complete=13]="complete";EMovieState[EMovieState.actorUpdate=14]="actorUpdate";EMovieState[EMovieState.proficiency=15]="proficiency";EMovieState[EMovieState.chooseTheater=16]="chooseTheater";EMovieState[EMovieState.noticeFeedBack=17]="noticeFeedBack";EMovieState[EMovieState.SYPF=18]="SYPF";EMovieState[EMovieState.audienceReputation=19]="audienceReputation";EMovieState[EMovieState.result=20]="result";EMovieState[EMovieState.overMarket=21]="overMarket";EMovieState[EMovieState.Jiesuan=22]="Jiesuan";EMovieState[EMovieState.rewardTip=23]="rewardTip";EMovieState[EMovieState.contineTransceiver=24]="contineTransceiver"})(EMovieState=SE.EMovieState||(SE.EMovieState={}));var EGlobalId;(function(EGlobalId){EGlobalId[EGlobalId.maxMovieNum=9]="maxMovieNum";EGlobalId[EGlobalId.tempActor=9999]="tempActor";EGlobalId[EGlobalId.loyaltyCardLimit=1035]="loyaltyCardLimit"})(EGlobalId=SE.EGlobalId||(SE.EGlobalId={}));var EMovieType;(function(EMovieType){})(EMovieType=SE.EMovieType||(SE.EMovieType={}));var EBoxOfficeEvaluation;(function(EBoxOfficeEvaluation){EBoxOfficeEvaluation[EBoxOfficeEvaluation.normal=1]="normal";EBoxOfficeEvaluation[EBoxOfficeEvaluation.good=2]="good";EBoxOfficeEvaluation[EBoxOfficeEvaluation.big_sell=3]="big_sell";EBoxOfficeEvaluation[EBoxOfficeEvaluation.great_sell=4]="great_sell";EBoxOfficeEvaluation[EBoxOfficeEvaluation.myth_sell=5]="myth_sell";EBoxOfficeEvaluation[EBoxOfficeEvaluation.marvel_sell=6]="marvel_sell"})(EBoxOfficeEvaluation=SE.EBoxOfficeEvaluation||(SE.EBoxOfficeEvaluation={}));var EProgressBoxId;(function(EProgressBoxId){EProgressBoxId[EProgressBoxId.manageOrder=1]="manageOrder";EProgressBoxId[EProgressBoxId.dailyTask=2]="dailyTask";EProgressBoxId[EProgressBoxId.cooperateTask=3]="cooperateTask"})(EProgressBoxId=SE.EProgressBoxId||(SE.EProgressBoxId={}));var EManageProduce;(function(EManageProduce){EManageProduce[EManageProduce.line=0]="line";EManageProduce[EManageProduce.save=1]="save";EManageProduce[EManageProduce.time=2]="time";EManageProduce[EManageProduce.output_initial=3]="output_initial";EManageProduce[EManageProduce.time_add=4]="time_add";EManageProduce[EManageProduce.dollarIntervalTime=11]="dollarIntervalTime";EManageProduce[EManageProduce.baseProduceId=100]="baseProduceId";EManageProduce[EManageProduce.intervalTime=300]="intervalTime"})(EManageProduce=SE.EManageProduce||(SE.EManageProduce={}));var ERankListType;(function(ERankListType){ERankListType[ERankListType.SelfList=1]="SelfList";ERankListType[ERankListType.ServerList=2]="ServerList";ERankListType[ERankListType.GroupList=3]="GroupList";ERankListType[ERankListType.GroupMovieList=4]="GroupMovieList"})(ERankListType=SE.ERankListType||(SE.ERankListType={}));var EAchievementState;(function(EAchievementState){EAchievementState[EAchievementState.none=0]="none";EAchievementState[EAchievementState.receivable=1]="receivable";EAchievementState[EAchievementState.received=2]="received";EAchievementState[EAchievementState.finished=3]="finished";EAchievementState[EAchievementState.rewarded=4]="rewarded"})(EAchievementState=SE.EAchievementState||(SE.EAchievementState={}));var EAchievementType;(function(EAchievementType){EAchievementType[EAchievementType.daily=1]="daily";EAchievementType[EAchievementType.achievement=2]="achievement";EAchievementType[EAchievementType.story=3]="story";EAchievementType[EAchievementType.mainTask=4]="mainTask"})(EAchievementType=SE.EAchievementType||(SE.EAchievementType={}));var EMallItemLimitType;(function(EMallItemLimitType){EMallItemLimitType[EMallItemLimitType.daily=1]="daily";EMallItemLimitType[EMallItemLimitType.weekly=2]="weekly"})(EMallItemLimitType=SE.EMallItemLimitType||(SE.EMallItemLimitType={}));var EManageBusiness;(function(EManageBusiness){EManageBusiness[EManageBusiness.baseLine=10]="baseLine";EManageBusiness[EManageBusiness.interval=180]="interval"})(EManageBusiness=SE.EManageBusiness||(SE.EManageBusiness={}));var EManageVisit;(function(EManageVisit){EManageVisit[EManageVisit.baseLine=3]="baseLine";EManageVisit[EManageVisit.overdueTime=180]="overdueTime";EManageVisit[EManageVisit.baseIntervalTime=300]="baseIntervalTime"})(EManageVisit=SE.EManageVisit||(SE.EManageVisit={}));var EManageOrder;(function(EManageOrder){EManageOrder[EManageOrder.baseLength=9]="baseLength";EManageOrder[EManageOrder.baseTime=1200]="baseTime";EManageOrder[EManageOrder.delTime=20]="delTime"})(EManageOrder=SE.EManageOrder||(SE.EManageOrder={}));var EMailId;(function(EMailId){EMailId[EMailId.cooperateApplyFail=3]="cooperateApplyFail";EMailId[EMailId.orderId=4]="orderId";EMailId[EMailId.partnerGive=7]="partnerGive";EMailId[EMailId.firstCooperate=8]="firstCooperate";EMailId[EMailId.firstAccountCooperate=9]="firstAccountCooperate";EMailId[EMailId.delOrderId=10]="delOrderId";EMailId[EMailId.rewardOrder=11]="rewardOrder";EMailId[EMailId.dailyTask=12]="dailyTask"})(EMailId=SE.EMailId||(SE.EMailId={}));var ESecretaryType;(function(ESecretaryType){ESecretaryType[ESecretaryType.noHave=0]="noHave";ESecretaryType[ESecretaryType.had=1]="had";ESecretaryType[ESecretaryType.temporaryHad=2]="temporaryHad"})(ESecretaryType=SE.ESecretaryType||(SE.ESecretaryType={}));var ESecretary;(function(ESecretary){ESecretary[ESecretary.skillExp=2]="skillExp";ESecretary[ESecretary.trainTime=3]="trainTime";ESecretary[ESecretary.searchTime=4]="searchTime";ESecretary[ESecretary.starSearch=5]="starSearch";ESecretary[ESecretary.cityTimes=6]="cityTimes";ESecretary[ESecretary.workTimes=7]="workTimes";ESecretary[ESecretary.visitTimes=8]="visitTimes";ESecretary[ESecretary.secretaryExpStart=9]="secretaryExpStart";ESecretary[ESecretary.secretaryExpEnd=10]="secretaryExpEnd";ESecretary[ESecretary.applicationDuration=11]="applicationDuration";ESecretary[ESecretary.applicationLicense=12]="applicationLicense";ESecretary[ESecretary.applicationLicenseNum=13]="applicationLicenseNum";ESecretary[ESecretary.freeGiftId=1001]="freeGiftId";ESecretary[ESecretary.moneyGiftId=2001]="moneyGiftId"})(ESecretary=SE.ESecretary||(SE.ESecretary={}));var EManageMeet;(function(EManageMeet){EManageMeet[EManageMeet.baseLine=3]="baseLine";EManageMeet[EManageMeet.baseIntervalTime=1200]="baseIntervalTime"})(EManageMeet=SE.EManageMeet||(SE.EManageMeet={}));var EOscarType;(function(EOscarType){EOscarType[EOscarType.man=1]="man";EOscarType[EOscarType.woman=2]="woman";EOscarType[EOscarType.perform=3]="perform";EOscarType[EOscarType.art=4]="art";EOscarType[EOscarType.publicPraise=5]="publicPraise";EOscarType[EOscarType.bestBoxOffice=6]="bestBoxOffice";EOscarType[EOscarType.totalBoxOffice=7]="totalBoxOffice";EOscarType[EOscarType.movies=8]="movies";EOscarType[EOscarType.bigSell=9]="bigSell"})(EOscarType=SE.EOscarType||(SE.EOscarType={}));var EGMRefreshType;(function(EGMRefreshType){EGMRefreshType[EGMRefreshType.dailySign=0]="dailySign";EGMRefreshType[EGMRefreshType.dailyTask=1]="dailyTask";EGMRefreshType[EGMRefreshType.dailyMall=2]="dailyMall";EGMRefreshType[EGMRefreshType.weeklyMall=3]="weeklyMall";EGMRefreshType[EGMRefreshType.manageProduce=4]="manageProduce"})(EGMRefreshType=SE.EGMRefreshType||(SE.EGMRefreshType={}));var EItemUseType;(function(EItemUseType){EItemUseType[EItemUseType.noReward=0]="noReward";EItemUseType[EItemUseType.allReward=1]="allReward";EItemUseType[EItemUseType.randomReward=2]="randomReward"})(EItemUseType=SE.EItemUseType||(SE.EItemUseType={}));var EGuideType;(function(EGuideType){EGuideType[EGuideType.guide=1]="guide";EGuideType[EGuideType.story=2]="story"})(EGuideType=SE.EGuideType||(SE.EGuideType={}));var ENoticeType;(function(ENoticeType){ENoticeType[ENoticeType.init=1]="init";ENoticeType[ENoticeType.add=2]="add";ENoticeType[ENoticeType.update=4]="update";ENoticeType[ENoticeType.remove=8]="remove"})(ENoticeType=SE.ENoticeType||(SE.ENoticeType={}));var EGameDataOps;(function(EGameDataOps){EGameDataOps[EGameDataOps.init=1]="init";EGameDataOps[EGameDataOps.add=2]="add";EGameDataOps[EGameDataOps.update=4]="update";EGameDataOps[EGameDataOps.remove=8]="remove"})(EGameDataOps=SE.EGameDataOps||(SE.EGameDataOps={}));var ECommon=(function(){function ECommon(){}ECommon.MaxNameLenth=20;ECommon.DefaultName="Brad Pitt";ECommon.MoveSpeed=1.3;ECommon.CanJump=false;return ECommon}());SE.ECommon=ECommon;var EChannel=(function(){function EChannel(){}EChannel.facebook="1";EChannel.google="2";return EChannel}());SE.EChannel=EChannel;var ProtoVersion=(function(){function ProtoVersion(){}ProtoVersion.versionCode=78;ProtoVersion.versionName="0.7.8";return ProtoVersion}());SE.ProtoVersion=ProtoVersion;var DBOType=(function(){function DBOType(){}DBOType.UsrData="UsrData";DBOType.GameInfo="GameInfo";DBOType.GameInfoExt="GameInfoExt";DBOType.GMMsgLog="GMMsgLog";DBOType.OrderData="OrderData";DBOType.ItemData="ItemData";DBOType.StorySuitData="StorySuitData";DBOType.StoryData="StoryData";DBOType.ActorData="ActorData";DBOType.CityData="CityData";DBOType.ActorSkillEffect="ActorSkillEffect";DBOType.TempData="TempData";DBOType.MovieData="MovieData";DBOType.ManageOrderData="ManageOrderData";DBOType.ProgressBoxData="ProgressBoxData";DBOType.ManageProduceData="ManageProduceData";DBOType.MovieLicenceResetTimeData="MovieLicenceResetTimeData";DBOType.ManageBusinessData="ManageBusinessData";DBOType.ManageVisitData="ManageVisitData";DBOType.StoryMessage="StoryMessage";DBOType.RankListData="RankListData";DBOType.TaskData="TaskData";DBOType.MallItemLimitData="MallItemLimitData";DBOType.MailData="MailData";DBOType.ManageMeetingData="ManageMeetingData";DBOType.DanmuData="DanmuData";DBOType.DailySign="DailySign";DBOType.SecretaryData="SecretaryData";DBOType.SevenAddUpData="SevenAddUpData";DBOType.ActortExerciseData="ActortExerciseData";DBOType.DailyEvent="DailyEvent";DBOType.GuideData="GuideData";DBOType.PlayerCooperateData="PlayerCooperateData";DBOType.AccountCooperateData="AccountCooperateData";DBOType.AutoCooperateData="AutoCooperateData";DBOType.CooperateTaskData="CooperateTaskData";DBOType.CooperateOrderData="CooperateOrderData";return DBOType}());SE.DBOType=DBOType})(SE=Proto.SE||(Proto.SE={}))})(Proto||(Proto={}));var Proto;(function(Proto){var API;(function(API){var GameData;(function(GameData){var AuthRequest=(function(){function AuthRequest(){this.pass=""}return AuthRequest}());GameData.AuthRequest=AuthRequest;var AuthResponse=(function(){function AuthResponse(){this.result=0}return AuthResponse}());GameData.AuthResponse=AuthResponse;var InitGameDataRequest=(function(){function InitGameDataRequest(){this.name="";this.sex=0}return InitGameDataRequest}());GameData.InitGameDataRequest=InitGameDataRequest;var InitGameDataResponse=(function(){function InitGameDataResponse(){this.result=0}return InitGameDataResponse}());GameData.InitGameDataResponse=InitGameDataResponse;var GetLoginGameDataRequest=(function(){function GetLoginGameDataRequest(){this.pass="";this.channel=""}return GetLoginGameDataRequest}());GameData.GetLoginGameDataRequest=GetLoginGameDataRequest;var GetLoginGameDataResponse=(function(){function GetLoginGameDataResponse(){this.serverCode="";this.serverName="";this.noticeList=null}return GetLoginGameDataResponse}());GameData.GetLoginGameDataResponse=GetLoginGameDataResponse;var GetInitGameDataRequest=(function(){function GetInitGameDataRequest(){this.nameList=null}return GetInitGameDataRequest}());GameData.GetInitGameDataRequest=GetInitGameDataRequest;var GetInitGameDataResponse=(function(){function GetInitGameDataResponse(){}return GetInitGameDataResponse}());GameData.GetInitGameDataResponse=GetInitGameDataResponse;var RenameGameDataRequest=(function(){function RenameGameDataRequest(){this.playerName=""}return RenameGameDataRequest}());GameData.RenameGameDataRequest=RenameGameDataRequest;var RenameGameDataResponse=(function(){function RenameGameDataResponse(){this.result=0}return RenameGameDataResponse}());GameData.RenameGameDataResponse=RenameGameDataResponse;var RePerSignatureGameDataRequest=(function(){function RePerSignatureGameDataRequest(){this.perSignature=""}return RePerSignatureGameDataRequest}());GameData.RePerSignatureGameDataRequest=RePerSignatureGameDataRequest;var RePerSignatureGameDataResponse=(function(){function RePerSignatureGameDataResponse(){this.result=0}return RePerSignatureGameDataResponse}());GameData.RePerSignatureGameDataResponse=RePerSignatureGameDataResponse;var RePortraitGameDataRequest=(function(){function RePortraitGameDataRequest(){this.type=0;this.portraitId=0}return RePortraitGameDataRequest}());GameData.RePortraitGameDataRequest=RePortraitGameDataRequest;var RePortraitGameDataResponse=(function(){function RePortraitGameDataResponse(){this.result=0}return RePortraitGameDataResponse}());GameData.RePortraitGameDataResponse=RePortraitGameDataResponse;var GetGameInfoExtRequest=(function(){function GetGameInfoExtRequest(){}return GetGameInfoExtRequest}());GameData.GetGameInfoExtRequest=GetGameInfoExtRequest;var GetGameInfoExtResponse=(function(){function GetGameInfoExtResponse(){}return GetGameInfoExtResponse}());GameData.GetGameInfoExtResponse=GetGameInfoExtResponse;var GetInitActorRequest=(function(){function GetInitActorRequest(){this.index=0}return GetInitActorRequest}());GameData.GetInitActorRequest=GetInitActorRequest;var GetInitActorResponse=(function(){function GetInitActorResponse(){}return GetInitActorResponse}());GameData.GetInitActorResponse=GetInitActorResponse;var GetNoticeListRequest=(function(){function GetNoticeListRequest(){}return GetNoticeListRequest}());GameData.GetNoticeListRequest=GetNoticeListRequest;var GetNoticeListResponse=(function(){function GetNoticeListResponse(){this.noticeList=null}return GetNoticeListResponse}());GameData.GetNoticeListResponse=GetNoticeListResponse})(GameData=API.GameData||(API.GameData={}));var CinemaBuild;(function(CinemaBuild){var ExtendFloorRequest=(function(){function ExtendFloorRequest(){this.floor=0}return ExtendFloorRequest}());CinemaBuild.ExtendFloorRequest=ExtendFloorRequest;var ExtendFloorResponse=(function(){function ExtendFloorResponse(){this.result=0;this.floor=0}return ExtendFloorResponse}());CinemaBuild.ExtendFloorResponse=ExtendFloorResponse;var BuildRoomRequest=(function(){function BuildRoomRequest(){this.floor=0;this.roomType=0}return BuildRoomRequest}());CinemaBuild.BuildRoomRequest=BuildRoomRequest;var BuildRoomResponse=(function(){function BuildRoomResponse(){this.result=0;this.floor=0;this.roomId=0}return BuildRoomResponse}());CinemaBuild.BuildRoomResponse=BuildRoomResponse;var UpgradeRoomRequest=(function(){function UpgradeRoomRequest(){this.roomId=0}return UpgradeRoomRequest}());CinemaBuild.UpgradeRoomRequest=UpgradeRoomRequest;var UpgradeRoomResponse=(function(){function UpgradeRoomResponse(){this.result=0;this.preRoomId=0;this.roomId=0}return UpgradeRoomResponse}());CinemaBuild.UpgradeRoomResponse=UpgradeRoomResponse})(CinemaBuild=API.CinemaBuild||(API.CinemaBuild={}));var test;(function(test){var AddItemRequest=(function(){function AddItemRequest(){this.itemId=0;this.amount=0}return AddItemRequest}());test.AddItemRequest=AddItemRequest;var AddItemResponse=(function(){function AddItemResponse(){}return AddItemResponse}());test.AddItemResponse=AddItemResponse;var AddFansRequest=(function(){function AddFansRequest(){this.amount=0}return AddFansRequest}());test.AddFansRequest=AddFansRequest;var AddFansResponse=(function(){function AddFansResponse(){}return AddFansResponse}());test.AddFansResponse=AddFansResponse;var AddExpectRequest=(function(){function AddExpectRequest(){this.amount=0}return AddExpectRequest}());test.AddExpectRequest=AddExpectRequest;var AddExpectResponse=(function(){function AddExpectResponse(){}return AddExpectResponse}());test.AddExpectResponse=AddExpectResponse;var DeleteMovieRequest=(function(){function DeleteMovieRequest(){this.uuid=""}return DeleteMovieRequest}());test.DeleteMovieRequest=DeleteMovieRequest;var DeleteMovieResponse=(function(){function DeleteMovieResponse(){}return DeleteMovieResponse}());test.DeleteMovieResponse=DeleteMovieResponse;var AddStarStoryRequest=(function(){function AddStarStoryRequest(){this.starId=0;this.amount=0}return AddStarStoryRequest}());test.AddStarStoryRequest=AddStarStoryRequest;var AddStarStoryResponse=(function(){function AddStarStoryResponse(){}return AddStarStoryResponse}());test.AddStarStoryResponse=AddStarStoryResponse;var AddStoryRequest=(function(){function AddStoryRequest(){this.storyId=0}return AddStoryRequest}());test.AddStoryRequest=AddStoryRequest;var AddStoryResponse=(function(){function AddStoryResponse(){}return AddStoryResponse}());test.AddStoryResponse=AddStoryResponse;var AddActorSkillExpRequest=(function(){function AddActorSkillExpRequest(){this.actorId=0;this.amount=0}return AddActorSkillExpRequest}());test.AddActorSkillExpRequest=AddActorSkillExpRequest;var AddActorSkillExpResponse=(function(){function AddActorSkillExpResponse(){}return AddActorSkillExpResponse}());test.AddActorSkillExpResponse=AddActorSkillExpResponse;var AddStoryProgressRequest=(function(){function AddStoryProgressRequest(){this.storyId=0;this.index=0}return AddStoryProgressRequest}());test.AddStoryProgressRequest=AddStoryProgressRequest;var AddStoryProgressResponse=(function(){function AddStoryProgressResponse(){}return AddStoryProgressResponse}());test.AddStoryProgressResponse=AddStoryProgressResponse;var FinishGuideRequest=(function(){function FinishGuideRequest(){}return FinishGuideRequest}());test.FinishGuideRequest=FinishGuideRequest;var FinishGuideResponse=(function(){function FinishGuideResponse(){}return FinishGuideResponse}());test.FinishGuideResponse=FinishGuideResponse;var debugRequest=(function(){function debugRequest(){this.num=0}return debugRequest}());test.debugRequest=debugRequest;var debugResponse=(function(){function debugResponse(){}return debugResponse}());test.debugResponse=debugResponse;var AddGiftRequest=(function(){function AddGiftRequest(){this.giftUuid="";this.giftId=0;this.targetId=0;this.startTime=0;this.endTime=0;this.total=0}return AddGiftRequest}());test.AddGiftRequest=AddGiftRequest;var AddGiftResponse=(function(){function AddGiftResponse(){}return AddGiftResponse}());test.AddGiftResponse=AddGiftResponse;var SetBlockLevelRequest=(function(){function SetBlockLevelRequest(){this.level=0}return SetBlockLevelRequest}());test.SetBlockLevelRequest=SetBlockLevelRequest;var SetBlockLevelResponse=(function(){function SetBlockLevelResponse(){}return SetBlockLevelResponse}());test.SetBlockLevelResponse=SetBlockLevelResponse;var RefreshTimeRequest=(function(){function RefreshTimeRequest(){this.type=0}return RefreshTimeRequest}());test.RefreshTimeRequest=RefreshTimeRequest;var RefreshTimeResponse=(function(){function RefreshTimeResponse(){}return RefreshTimeResponse}());test.RefreshTimeResponse=RefreshTimeResponse;var PutOrderItemsRequest=(function(){function PutOrderItemsRequest(){this.uuid=""}return PutOrderItemsRequest}());test.PutOrderItemsRequest=PutOrderItemsRequest;var PutOrderItemsResponse=(function(){function PutOrderItemsResponse(){this.uuid=""}return PutOrderItemsResponse}());test.PutOrderItemsResponse=PutOrderItemsResponse;var GetAutoCooperateRequest=(function(){function GetAutoCooperateRequest(){}return GetAutoCooperateRequest}());test.GetAutoCooperateRequest=GetAutoCooperateRequest;var GetAutoCooperateResponse=(function(){function GetAutoCooperateResponse(){this.loseNum=0;this.successNum=0}return GetAutoCooperateResponse}());test.GetAutoCooperateResponse=GetAutoCooperateResponse;var UpdateOscarRequest=(function(){function UpdateOscarRequest(){}return UpdateOscarRequest}());test.UpdateOscarRequest=UpdateOscarRequest;var UpdateOscarResponse=(function(){function UpdateOscarResponse(){}return UpdateOscarResponse}());test.UpdateOscarResponse=UpdateOscarResponse;var setAllStoryGoldRequest=(function(){function setAllStoryGoldRequest(){}return setAllStoryGoldRequest}());test.setAllStoryGoldRequest=setAllStoryGoldRequest;var setAllStoryGoldResponse=(function(){function setAllStoryGoldResponse(){}return setAllStoryGoldResponse}());test.setAllStoryGoldResponse=setAllStoryGoldResponse;var LockAllProduceRequest=(function(){function LockAllProduceRequest(){}return LockAllProduceRequest}());test.LockAllProduceRequest=LockAllProduceRequest;var LockAllProduceResponse=(function(){function LockAllProduceResponse(){}return LockAllProduceResponse}());test.LockAllProduceResponse=LockAllProduceResponse;var SetSecretaryStatusRequest=(function(){function SetSecretaryStatusRequest(){this.status=0}return SetSecretaryStatusRequest}());test.SetSecretaryStatusRequest=SetSecretaryStatusRequest;var SetSecretaryStatusResponse=(function(){function SetSecretaryStatusResponse(){}return SetSecretaryStatusResponse}());test.SetSecretaryStatusResponse=SetSecretaryStatusResponse;var CleanSecretaryTimesRequest=(function(){function CleanSecretaryTimesRequest(){}return CleanSecretaryTimesRequest}());test.CleanSecretaryTimesRequest=CleanSecretaryTimesRequest;var CleanSecretaryTimesResponse=(function(){function CleanSecretaryTimesResponse(){}return CleanSecretaryTimesResponse}());test.CleanSecretaryTimesResponse=CleanSecretaryTimesResponse;var GetRechargeGiftRequest=(function(){function GetRechargeGiftRequest(){}return GetRechargeGiftRequest}());test.GetRechargeGiftRequest=GetRechargeGiftRequest;var GetRechargeGiftResponse=(function(){function GetRechargeGiftResponse(){}return GetRechargeGiftResponse}());test.GetRechargeGiftResponse=GetRechargeGiftResponse;var GotoCityRequest=(function(){function GotoCityRequest(){this.id=0}return GotoCityRequest}());test.GotoCityRequest=GotoCityRequest;var GotoCityResponse=(function(){function GotoCityResponse(){}return GotoCityResponse}());test.GotoCityResponse=GotoCityResponse;var GotoCityBeforeRequest=(function(){function GotoCityBeforeRequest(){this.id=0}return GotoCityBeforeRequest}());test.GotoCityBeforeRequest=GotoCityBeforeRequest;var GotoCityBeforeResponse=(function(){function GotoCityBeforeResponse(){}return GotoCityBeforeResponse}());test.GotoCityBeforeResponse=GotoCityBeforeResponse})(test=API.test||(API.test={}));var item;(function(item){var SellOutRequest=(function(){function SellOutRequest(){this.uuid="";this.itemId=0;this.amount=0}return SellOutRequest}());item.SellOutRequest=SellOutRequest;var SellOutResponse=(function(){function SellOutResponse(){this.uuid=""}return SellOutResponse}());item.SellOutResponse=SellOutResponse;var CompoundRequest=(function(){function CompoundRequest(){this.uuid="";this.itemId=0;this.amount=0}return CompoundRequest}());item.CompoundRequest=CompoundRequest;var CompoundResponse=(function(){function CompoundResponse(){this.uuid=""}return CompoundResponse}());item.CompoundResponse=CompoundResponse;var SplitRequest=(function(){function SplitRequest(){this.uuid="";this.itemId=0;this.amount=0}return SplitRequest}());item.SplitRequest=SplitRequest;var SplitResponse=(function(){function SplitResponse(){this.uuid=""}return SplitResponse}());item.SplitResponse=SplitResponse;var UseRequest=(function(){function UseRequest(){this.uuid="";this.itemId=0;this.amount=0}return UseRequest}());item.UseRequest=UseRequest;var UseResponse=(function(){function UseResponse(){this.uuid="";this.dropout=null}return UseResponse}());item.UseResponse=UseResponse;var CompoundActorRequest=(function(){function CompoundActorRequest(){this.uuid="";this.itemId=0}return CompoundActorRequest}());item.CompoundActorRequest=CompoundActorRequest;var CompoundActorResponse=(function(){function CompoundActorResponse(){this.uuid=""}return CompoundActorResponse}());item.CompoundActorResponse=CompoundActorResponse;var UseActorSkillWaterRequest=(function(){function UseActorSkillWaterRequest(){this.uuid="";this.actorId=0;this.amount=0}return UseActorSkillWaterRequest}());item.UseActorSkillWaterRequest=UseActorSkillWaterRequest;var UseActorSkillWaterResponse=(function(){function UseActorSkillWaterResponse(){this.uuid=""}return UseActorSkillWaterResponse}());item.UseActorSkillWaterResponse=UseActorSkillWaterResponse})(item=API.item||(API.item={}));var city;(function(city){var SetPropagandaActorRequest=(function(){function SetPropagandaActorRequest(){this.uuid="";this.cityId=0;this.areaId=0;this.actorId=0}return SetPropagandaActorRequest}());city.SetPropagandaActorRequest=SetPropagandaActorRequest;var SetPropagandaActorResponse=(function(){function SetPropagandaActorResponse(){this.uuid=""}return SetPropagandaActorResponse}());city.SetPropagandaActorResponse=SetPropagandaActorResponse;var PropagandaRequest=(function(){function PropagandaRequest(){this.uuid="";this.cityId=0;this.areaId=0}return PropagandaRequest}());city.PropagandaRequest=PropagandaRequest;var PropagandaResponse=(function(){function PropagandaResponse(){this.uuid=""}return PropagandaResponse}());city.PropagandaResponse=PropagandaResponse;var RoadshowRequest=(function(){function RoadshowRequest(){this.uuid="";this.cityId=0;this.areaId=0}return RoadshowRequest}());city.RoadshowRequest=RoadshowRequest;var RoadshowResponse=(function(){function RoadshowResponse(){this.uuid="";this.result=0}return RoadshowResponse}());city.RoadshowResponse=RoadshowResponse;var SetAmbassadorRequest=(function(){function SetAmbassadorRequest(){this.uuid="";this.cityId=0;this.psition=0;this.actuuid=""}return SetAmbassadorRequest}());city.SetAmbassadorRequest=SetAmbassadorRequest;var SetAmbassadorResponse=(function(){function SetAmbassadorResponse(){this.uuid="";this.dropout=null}return SetAmbassadorResponse}());city.SetAmbassadorResponse=SetAmbassadorResponse;var GetRewardRequest=(function(){function GetRewardRequest(){this.uuid="";this.cityId=0}return GetRewardRequest}());city.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){this.uuid="";this.dropout=null}return GetRewardResponse}());city.GetRewardResponse=GetRewardResponse;var HoldCityRequest=(function(){function HoldCityRequest(){this.uuid=""}return HoldCityRequest}());city.HoldCityRequest=HoldCityRequest;var HoldCityResponse=(function(){function HoldCityResponse(){this.uuid=""}return HoldCityResponse}());city.HoldCityResponse=HoldCityResponse})(city=API.city||(API.city={}));var movie;(function(movie){var MakeFilmRequest=(function(){function MakeFilmRequest(){this.uuid=""}return MakeFilmRequest}());movie.MakeFilmRequest=MakeFilmRequest;var MakeFilmResponse=(function(){function MakeFilmResponse(){this.uuid=""}return MakeFilmResponse}());movie.MakeFilmResponse=MakeFilmResponse;var SetMovieNameRequest=(function(){function SetMovieNameRequest(){this.uuid="";this.index=0;this.name=""}return SetMovieNameRequest}());movie.SetMovieNameRequest=SetMovieNameRequest;var SetMovieNameResponse=(function(){function SetMovieNameResponse(){this.uuid=""}return SetMovieNameResponse}());movie.SetMovieNameResponse=SetMovieNameResponse;var SetActorRequest=(function(){function SetActorRequest(){this.uuid="";this.index=0;this.actorId=0}return SetActorRequest}());movie.SetActorRequest=SetActorRequest;var SetActorResponse=(function(){function SetActorResponse(){this.uuid=""}return SetActorResponse}());movie.SetActorResponse=SetActorResponse;var ConfirmSetActorRequest=(function(){function ConfirmSetActorRequest(){this.uuid=""}return ConfirmSetActorRequest}());movie.ConfirmSetActorRequest=ConfirmSetActorRequest;var ConfirmSetActorResponse=(function(){function ConfirmSetActorResponse(){this.uuid=""}return ConfirmSetActorResponse}());movie.ConfirmSetActorResponse=ConfirmSetActorResponse;var ChoseTypeRequest=(function(){function ChoseTypeRequest(){this.uuid="";this.type=0}return ChoseTypeRequest}());movie.ChoseTypeRequest=ChoseTypeRequest;var ChoseTypeResponse=(function(){function ChoseTypeResponse(){this.uuid="";this.storyShootType=0}return ChoseTypeResponse}());movie.ChoseTypeResponse=ChoseTypeResponse;var AcceptMediaVisitRequest=(function(){function AcceptMediaVisitRequest(){this.uuid="";this.mediaId=0}return AcceptMediaVisitRequest}());movie.AcceptMediaVisitRequest=AcceptMediaVisitRequest;var AcceptMediaVisitResponse=(function(){function AcceptMediaVisitResponse(){this.uuid="";this.addExpection=0}return AcceptMediaVisitResponse}());movie.AcceptMediaVisitResponse=AcceptMediaVisitResponse;var PublishMovieRequest=(function(){function PublishMovieRequest(){this.uuid="";this.theaterId=0}return PublishMovieRequest}());movie.PublishMovieRequest=PublishMovieRequest;var PublishMovieResponse=(function(){function PublishMovieResponse(){this.uuid=""}return PublishMovieResponse}());movie.PublishMovieResponse=PublishMovieResponse;var BattleOverRequest=(function(){function BattleOverRequest(){this.uuid=""}return BattleOverRequest}());movie.BattleOverRequest=BattleOverRequest;var BattleOverResponse=(function(){function BattleOverResponse(){this.uuid="";this.dropout=null}return BattleOverResponse}());movie.BattleOverResponse=BattleOverResponse;var SpreadMovieRequest=(function(){function SpreadMovieRequest(){this.uuid=""}return SpreadMovieRequest}());movie.SpreadMovieRequest=SpreadMovieRequest;var SpreadMovieResponse=(function(){function SpreadMovieResponse(){this.uuid=""}return SpreadMovieResponse}());movie.SpreadMovieResponse=SpreadMovieResponse;var GetRewardMovieRequest=(function(){function GetRewardMovieRequest(){this.uuid=""}return GetRewardMovieRequest}());movie.GetRewardMovieRequest=GetRewardMovieRequest;var GetRewardMovieResponse=(function(){function GetRewardMovieResponse(){this.uuid="";this.dropout=null}return GetRewardMovieResponse}());movie.GetRewardMovieResponse=GetRewardMovieResponse;var SwitchCityRequest=(function(){function SwitchCityRequest(){this.uuid="";this.cityId=0}return SwitchCityRequest}());movie.SwitchCityRequest=SwitchCityRequest;var SwitchCityResponse=(function(){function SwitchCityResponse(){this.uuid=""}return SwitchCityResponse}());movie.SwitchCityResponse=SwitchCityResponse;var UpdateMovieStateRequest=(function(){function UpdateMovieStateRequest(){this.uuid="";this.state=0}return UpdateMovieStateRequest}());movie.UpdateMovieStateRequest=UpdateMovieStateRequest;var UpdateMovieStateResponse=(function(){function UpdateMovieStateResponse(){this.uuid=""}return UpdateMovieStateResponse}());movie.UpdateMovieStateResponse=UpdateMovieStateResponse;var GetStoryGoalsRequest=(function(){function GetStoryGoalsRequest(){this.uuid=""}return GetStoryGoalsRequest}());movie.GetStoryGoalsRequest=GetStoryGoalsRequest;var GetStoryGoalsResponse=(function(){function GetStoryGoalsResponse(){this.uuid=""}return GetStoryGoalsResponse}());movie.GetStoryGoalsResponse=GetStoryGoalsResponse;var DeleteMovieRequest=(function(){function DeleteMovieRequest(){this.uuid=""}return DeleteMovieRequest}());movie.DeleteMovieRequest=DeleteMovieRequest;var DeleteMovieResponse=(function(){function DeleteMovieResponse(){this.uuid="";this.dropout=null}return DeleteMovieResponse}());movie.DeleteMovieResponse=DeleteMovieResponse})(movie=API.movie||(API.movie={}));var Actor;(function(Actor){var NoseInfoActorRequest=(function(){function NoseInfoActorRequest(){this.isUseCard=false}return NoseInfoActorRequest}());Actor.NoseInfoActorRequest=NoseInfoActorRequest;var NoseInfoActorResponse=(function(){function NoseInfoActorResponse(){this.result=0}return NoseInfoActorResponse}());Actor.NoseInfoActorResponse=NoseInfoActorResponse;var RecruitActorRequest=(function(){function RecruitActorRequest(){this.actorId=0}return RecruitActorRequest}());Actor.RecruitActorRequest=RecruitActorRequest;var RecruitActorResponse=(function(){function RecruitActorResponse(){this.result=0;this.actorId=0;this.isNewActor=false}return RecruitActorResponse}());Actor.RecruitActorResponse=RecruitActorResponse;var HideActorRequest=(function(){function HideActorRequest(){this.uuid="";this.isHide=false}return HideActorRequest}());Actor.HideActorRequest=HideActorRequest;var HideActorResponse=(function(){function HideActorResponse(){this.result=0}return HideActorResponse}());Actor.HideActorResponse=HideActorResponse;var AddActorSlotRequest=(function(){function AddActorSlotRequest(){}return AddActorSlotRequest}());Actor.AddActorSlotRequest=AddActorSlotRequest;var AddActorSlotResponse=(function(){function AddActorSlotResponse(){this.result=0}return AddActorSlotResponse}());Actor.AddActorSlotResponse=AddActorSlotResponse;var UpgradeActorRequest=(function(){function UpgradeActorRequest(){this.uuid=""}return UpgradeActorRequest}());Actor.UpgradeActorRequest=UpgradeActorRequest;var UpgradeActorResponse=(function(){function UpgradeActorResponse(){this.result=0}return UpgradeActorResponse}());Actor.UpgradeActorResponse=UpgradeActorResponse;var GiveActorAssetsRequest=(function(){function GiveActorAssetsRequest(){this.uuid="";this.giveType=0;this.giveLevel=0;this.giveNum=0}return GiveActorAssetsRequest}());Actor.GiveActorAssetsRequest=GiveActorAssetsRequest;var GiveActorAssetsResponse=(function(){function GiveActorAssetsResponse(){this.result=0}return GiveActorAssetsResponse}());Actor.GiveActorAssetsResponse=GiveActorAssetsResponse;var UpgradeActorSkillRequest=(function(){function UpgradeActorSkillRequest(){this.uuid="";this.skillId=0}return UpgradeActorSkillRequest}());Actor.UpgradeActorSkillRequest=UpgradeActorSkillRequest;var UpgradeActorSkillResponse=(function(){function UpgradeActorSkillResponse(){this.result=0}return UpgradeActorSkillResponse}());Actor.UpgradeActorSkillResponse=UpgradeActorSkillResponse;var ActorTrainRequest=(function(){function ActorTrainRequest(){this.uuid="";this.trainType=0;this.useDiamond=false}return ActorTrainRequest}());Actor.ActorTrainRequest=ActorTrainRequest;var ActorTrainResponse=(function(){function ActorTrainResponse(){this.result=0;this.uuid="";this.trainType=0;this.attrChangeList=null}return ActorTrainResponse}());Actor.ActorTrainResponse=ActorTrainResponse;var ActorChangeNameRequest=(function(){function ActorChangeNameRequest(){this.uuid="";this.name=""}return ActorChangeNameRequest}());Actor.ActorChangeNameRequest=ActorChangeNameRequest;var ActorChangeNameResponse=(function(){function ActorChangeNameResponse(){this.result=0}return ActorChangeNameResponse}());Actor.ActorChangeNameResponse=ActorChangeNameResponse;var ActorExerciseStartRequest=(function(){function ActorExerciseStartRequest(){this.aId="";this.eId=""}return ActorExerciseStartRequest}());Actor.ActorExerciseStartRequest=ActorExerciseStartRequest;var ActorExerciseStartResponse=(function(){function ActorExerciseStartResponse(){this.aId=""}return ActorExerciseStartResponse}());Actor.ActorExerciseStartResponse=ActorExerciseStartResponse;var ActorExerciseRewardRequest=(function(){function ActorExerciseRewardRequest(){this.eId="";this.useMoney=false}return ActorExerciseRewardRequest}());Actor.ActorExerciseRewardRequest=ActorExerciseRewardRequest;var ActorExerciseRewardResponse=(function(){function ActorExerciseRewardResponse(){this.aId="";this.eId=""}return ActorExerciseRewardResponse}());Actor.ActorExerciseRewardResponse=ActorExerciseRewardResponse;var ActorExerciseAddRequest=(function(){function ActorExerciseAddRequest(){}return ActorExerciseAddRequest}());Actor.ActorExerciseAddRequest=ActorExerciseAddRequest;var ActorExerciseAddResponse=(function(){function ActorExerciseAddResponse(){this.eId=""}return ActorExerciseAddResponse}());Actor.ActorExerciseAddResponse=ActorExerciseAddResponse;var GiveLoyaltyCardRequest=(function(){function GiveLoyaltyCardRequest(){this.uuid="";this.giveType=0;this.num=0}return GiveLoyaltyCardRequest}());Actor.GiveLoyaltyCardRequest=GiveLoyaltyCardRequest;var GiveLoyaltyCardResponse=(function(){function GiveLoyaltyCardResponse(){this.uuid="";this.giveType=0}return GiveLoyaltyCardResponse}());Actor.GiveLoyaltyCardResponse=GiveLoyaltyCardResponse})(Actor=API.Actor||(API.Actor={}));var story;(function(story){var findStoryRequest=(function(){function findStoryRequest(){}return findStoryRequest}());story.findStoryRequest=findStoryRequest;var findStoryResponse=(function(){function findStoryResponse(){this.type=0;this.id=0;this.num=0;this.time=0;this.refreshTime=0}return findStoryResponse}());story.findStoryResponse=findStoryResponse;var cleanFindStoryRequest=(function(){function cleanFindStoryRequest(){}return cleanFindStoryRequest}());story.cleanFindStoryRequest=cleanFindStoryRequest;var cleanFindStoryResponse=(function(){function cleanFindStoryResponse(){this.result=0;this.refreshTime=0}return cleanFindStoryResponse}());story.cleanFindStoryResponse=cleanFindStoryResponse;var getRewardRequest=(function(){function getRewardRequest(){this.storySuitId=0}return getRewardRequest}());story.getRewardRequest=getRewardRequest;var getRewardResponse=(function(){function getRewardResponse(){this.storySuitId=0;this.result=0}return getRewardResponse}());story.getRewardResponse=getRewardResponse;var GetMessageRequest=(function(){function GetMessageRequest(){this.stroyId=0}return GetMessageRequest}());story.GetMessageRequest=GetMessageRequest;var GetMessageResponse=(function(){function GetMessageResponse(){this.stroyId=0;this.message=null}return GetMessageResponse}());story.GetMessageResponse=GetMessageResponse;var SetMessageRequest=(function(){function SetMessageRequest(){this.stroyId=0;this.content=""}return SetMessageRequest}());story.SetMessageRequest=SetMessageRequest;var SetMessageResponse=(function(){function SetMessageResponse(){this.stroyId=0}return SetMessageResponse}());story.SetMessageResponse=SetMessageResponse})(story=API.story||(API.story={}));var manageOrder;(function(manageOrder){var PutItemRequest=(function(){function PutItemRequest(){this.uuid="";this.entityId=0;this.itemId=0;this.type=0}return PutItemRequest}());manageOrder.PutItemRequest=PutItemRequest;var PutItemResponse=(function(){function PutItemResponse(){this.uuid="";this.itemInfo=null;this.type=0}return PutItemResponse}());manageOrder.PutItemResponse=PutItemResponse;var DelOrderRequest=(function(){function DelOrderRequest(){this.uuid=""}return DelOrderRequest}());manageOrder.DelOrderRequest=DelOrderRequest;var DelOrderResponse=(function(){function DelOrderResponse(){this.uuid=""}return DelOrderResponse}());manageOrder.DelOrderResponse=DelOrderResponse;var FinishOrderRequest=(function(){function FinishOrderRequest(){this.uuid=""}return FinishOrderRequest}());manageOrder.FinishOrderRequest=FinishOrderRequest;var FinishOrderResponse=(function(){function FinishOrderResponse(){this.uuid=""}return FinishOrderResponse}());manageOrder.FinishOrderResponse=FinishOrderResponse;var DealOrderRequest=(function(){function DealOrderRequest(){}return DealOrderRequest}());manageOrder.DealOrderRequest=DealOrderRequest;var DealOrderResponse=(function(){function DealOrderResponse(){}return DealOrderResponse}());manageOrder.DealOrderResponse=DealOrderResponse})(manageOrder=API.manageOrder||(API.manageOrder={}));var progressBox;(function(progressBox){var GetRewardRequest=(function(){function GetRewardRequest(){this.uuid="";this.gear=0}return GetRewardRequest}());progressBox.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){this.uuid="";this.gear=0}return GetRewardResponse}());progressBox.GetRewardResponse=GetRewardResponse})(progressBox=API.progressBox||(API.progressBox={}));var manageProduce;(function(manageProduce){var ProduceRequest=(function(){function ProduceRequest(){this.uuid=""}return ProduceRequest}());manageProduce.ProduceRequest=ProduceRequest;var ProduceResponse=(function(){function ProduceResponse(){this.uuid=""}return ProduceResponse}());manageProduce.ProduceResponse=ProduceResponse;var GetRewardRequest=(function(){function GetRewardRequest(){this.uuid=""}return GetRewardRequest}());manageProduce.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){this.uuid=""}return GetRewardResponse}());manageProduce.GetRewardResponse=GetRewardResponse;var UplevelRequest=(function(){function UplevelRequest(){this.uuid="";this.skillId=0}return UplevelRequest}());manageProduce.UplevelRequest=UplevelRequest;var UplevelResponse=(function(){function UplevelResponse(){this.uuid="";this.skillId=0}return UplevelResponse}());manageProduce.UplevelResponse=UplevelResponse;var SendActorRequest=(function(){function SendActorRequest(){this.uuid="";this.actBaseId=0}return SendActorRequest}());manageProduce.SendActorRequest=SendActorRequest;var SendActorResponse=(function(){function SendActorResponse(){this.uuid="";this.actBaseId=0}return SendActorResponse}());manageProduce.SendActorResponse=SendActorResponse;var DeblockingRequest=(function(){function DeblockingRequest(){this.produceId=0}return DeblockingRequest}());manageProduce.DeblockingRequest=DeblockingRequest;var DeblockingResponse=(function(){function DeblockingResponse(){this.produceId=0}return DeblockingResponse}());manageProduce.DeblockingResponse=DeblockingResponse;var QuickGetRewardRequest=(function(){function QuickGetRewardRequest(){this.stall=0}return QuickGetRewardRequest}());manageProduce.QuickGetRewardRequest=QuickGetRewardRequest;var QuickGetRewardResponse=(function(){function QuickGetRewardResponse(){this.stall=0}return QuickGetRewardResponse}());manageProduce.QuickGetRewardResponse=QuickGetRewardResponse;var QuickProduceRequest=(function(){function QuickProduceRequest(){this.stall=0}return QuickProduceRequest}());manageProduce.QuickProduceRequest=QuickProduceRequest;var QuickProduceResponse=(function(){function QuickProduceResponse(){this.stall=0;this.num=0}return QuickProduceResponse}());manageProduce.QuickProduceResponse=QuickProduceResponse;var cleanTimeRequest=(function(){function cleanTimeRequest(){this.uuid=""}return cleanTimeRequest}());manageProduce.cleanTimeRequest=cleanTimeRequest;var cleanTimeResponse=(function(){function cleanTimeResponse(){this.uuid=""}return cleanTimeResponse}());manageProduce.cleanTimeResponse=cleanTimeResponse})(manageProduce=API.manageProduce||(API.manageProduce={}));var rank;(function(rank){var GetSelfListRequest=(function(){function GetSelfListRequest(){}return GetSelfListRequest}());rank.GetSelfListRequest=GetSelfListRequest;var GetSelfListResponse=(function(){function GetSelfListResponse(){this.data=null}return GetSelfListResponse}());rank.GetSelfListResponse=GetSelfListResponse;var GetServerRankListRequest=(function(){function GetServerRankListRequest(){}return GetServerRankListRequest}());rank.GetServerRankListRequest=GetServerRankListRequest;var GetServerRankListResponse=(function(){function GetServerRankListResponse(){this.selfRank=0;this.selfData=null;this.data=null}return GetServerRankListResponse}());rank.GetServerRankListResponse=GetServerRankListResponse;var GetGroupRankListRequest=(function(){function GetGroupRankListRequest(){}return GetGroupRankListRequest}());rank.GetGroupRankListRequest=GetGroupRankListRequest;var GetGroupRankListResponse=(function(){function GetGroupRankListResponse(){this.selfRank=0;this.selfData=null;this.data=null}return GetGroupRankListResponse}());rank.GetGroupRankListResponse=GetGroupRankListResponse;var GetGroupMovieRankListRequest=(function(){function GetGroupMovieRankListRequest(){}return GetGroupMovieRankListRequest}());rank.GetGroupMovieRankListRequest=GetGroupMovieRankListRequest;var GetGroupMovieRankListResponse=(function(){function GetGroupMovieRankListResponse(){this.selfRank=0;this.selfData=null;this.data=null}return GetGroupMovieRankListResponse}());rank.GetGroupMovieRankListResponse=GetGroupMovieRankListResponse;var GetMovieShortDataRequest=(function(){function GetMovieShortDataRequest(){this.uuid=""}return GetMovieShortDataRequest}());rank.GetMovieShortDataRequest=GetMovieShortDataRequest;var GetMovieShortDataResponse=(function(){function GetMovieShortDataResponse(){this.data=null}return GetMovieShortDataResponse}());rank.GetMovieShortDataResponse=GetMovieShortDataResponse;var GetPlayerShortDataRequest=(function(){function GetPlayerShortDataRequest(){this.userId=0}return GetPlayerShortDataRequest}());rank.GetPlayerShortDataRequest=GetPlayerShortDataRequest;var GetPlayerShortDataResponse=(function(){function GetPlayerShortDataResponse(){this.data=null}return GetPlayerShortDataResponse}());rank.GetPlayerShortDataResponse=GetPlayerShortDataResponse;var GetServerListRewardRequest=(function(){function GetServerListRewardRequest(){this.uuid=""}return GetServerListRewardRequest}());rank.GetServerListRewardRequest=GetServerListRewardRequest;var GetServerListRewardResponse=(function(){function GetServerListRewardResponse(){this.dropout=null}return GetServerListRewardResponse}());rank.GetServerListRewardResponse=GetServerListRewardResponse;var ChangeServerNameRequest=(function(){function ChangeServerNameRequest(){this.uuid="";this.name=""}return ChangeServerNameRequest}());rank.ChangeServerNameRequest=ChangeServerNameRequest;var ChangeServerNameResponse=(function(){function ChangeServerNameResponse(){}return ChangeServerNameResponse}());rank.ChangeServerNameResponse=ChangeServerNameResponse;var GetOscarDataRequest=(function(){function GetOscarDataRequest(){}return GetOscarDataRequest}());rank.GetOscarDataRequest=GetOscarDataRequest;var GetOscarDataResponse=(function(){function GetOscarDataResponse(){}return GetOscarDataResponse}());rank.GetOscarDataResponse=GetOscarDataResponse;var GetOscarRewardRequest=(function(){function GetOscarRewardRequest(){this.type=0}return GetOscarRewardRequest}());rank.GetOscarRewardRequest=GetOscarRewardRequest;var GetOscarRewardResponse=(function(){function GetOscarRewardResponse(){this.dropout=null}return GetOscarRewardResponse}());rank.GetOscarRewardResponse=GetOscarRewardResponse;var ChoseTheaterRequest=(function(){function ChoseTheaterRequest(){this.theaterId=0}return ChoseTheaterRequest}());rank.ChoseTheaterRequest=ChoseTheaterRequest;var ChoseTheaterResponse=(function(){function ChoseTheaterResponse(){}return ChoseTheaterResponse}());rank.ChoseTheaterResponse=ChoseTheaterResponse;var GetStreetRewardRequest=(function(){function GetStreetRewardRequest(){this.type=0}return GetStreetRewardRequest}());rank.GetStreetRewardRequest=GetStreetRewardRequest;var GetStreetRewardResponse=(function(){function GetStreetRewardResponse(){this.type=0;this.dropout=null}return GetStreetRewardResponse}());rank.GetStreetRewardResponse=GetStreetRewardResponse})(rank=API.rank||(API.rank={}));var task;(function(task){var rewardRequest=(function(){function rewardRequest(){this.tId=""}return rewardRequest}());task.rewardRequest=rewardRequest;var rewardResponse=(function(){function rewardResponse(){this.tId="";this.dropout=null}return rewardResponse}());task.rewardResponse=rewardResponse})(task=API.task||(API.task={}));var mall;(function(mall){var buyRequest=(function(){function buyRequest(){this.goodsId=0;this.amount=0}return buyRequest}());mall.buyRequest=buyRequest;var buyResponse=(function(){function buyResponse(){this.result=0}return buyResponse}());mall.buyResponse=buyResponse})(mall=API.mall||(API.mall={}));var Mail;(function(Mail){var MailGetRewardRequest=(function(){function MailGetRewardRequest(){this.uuid=""}return MailGetRewardRequest}());Mail.MailGetRewardRequest=MailGetRewardRequest;var MailGetRewardResponse=(function(){function MailGetRewardResponse(){this.uuid="";this.dropout=null}return MailGetRewardResponse}());Mail.MailGetRewardResponse=MailGetRewardResponse;var MailGetRewardManyRequest=(function(){function MailGetRewardManyRequest(){this.uuid=null}return MailGetRewardManyRequest}());Mail.MailGetRewardManyRequest=MailGetRewardManyRequest;var MailGetRewardManyResponse=(function(){function MailGetRewardManyResponse(){this.uuid=null;this.dropout=null}return MailGetRewardManyResponse}());Mail.MailGetRewardManyResponse=MailGetRewardManyResponse;var MailDeleteManyRequest=(function(){function MailDeleteManyRequest(){this.uuid=null}return MailDeleteManyRequest}());Mail.MailDeleteManyRequest=MailDeleteManyRequest;var MailDeleteManyResponse=(function(){function MailDeleteManyResponse(){this.uuid=null}return MailDeleteManyResponse}());Mail.MailDeleteManyResponse=MailDeleteManyResponse;var MailDeleteRequest=(function(){function MailDeleteRequest(){this.uuid=""}return MailDeleteRequest}());Mail.MailDeleteRequest=MailDeleteRequest;var MailDeleteResponse=(function(){function MailDeleteResponse(){this.uuid=""}return MailDeleteResponse}());Mail.MailDeleteResponse=MailDeleteResponse;var MailReadRequest=(function(){function MailReadRequest(){this.uuid=""}return MailReadRequest}());Mail.MailReadRequest=MailReadRequest;var MailReadResponse=(function(){function MailReadResponse(){this.uuid=""}return MailReadResponse}());Mail.MailReadResponse=MailReadResponse})(Mail=API.Mail||(API.Mail={}));var Gift;(function(Gift){var ExchangeRequest=(function(){function ExchangeRequest(){this.id=""}return ExchangeRequest}());Gift.ExchangeRequest=ExchangeRequest;var ExchangeResponse=(function(){function ExchangeResponse(){this.result=0;this.dropout=null}return ExchangeResponse}());Gift.ExchangeResponse=ExchangeResponse})(Gift=API.Gift||(API.Gift={}));var manageBusiness;(function(manageBusiness){var GetRewardRequest=(function(){function GetRewardRequest(){}return GetRewardRequest}());manageBusiness.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){}return GetRewardResponse}());manageBusiness.GetRewardResponse=GetRewardResponse})(manageBusiness=API.manageBusiness||(API.manageBusiness={}));var manageVisit;(function(manageVisit){var StartVisitRequest=(function(){function StartVisitRequest(){}return StartVisitRequest}());manageVisit.StartVisitRequest=StartVisitRequest;var StartVisitResponse=(function(){function StartVisitResponse(){}return StartVisitResponse}());manageVisit.StartVisitResponse=StartVisitResponse;var GetRewardRequest=(function(){function GetRewardRequest(){}return GetRewardRequest}());manageVisit.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){}return GetRewardResponse}());manageVisit.GetRewardResponse=GetRewardResponse})(manageVisit=API.manageVisit||(API.manageVisit={}));var manageMeeting;(function(manageMeeting){var GetRewardRequest=(function(){function GetRewardRequest(){this.type=0}return GetRewardRequest}());manageMeeting.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){this.type=0}return GetRewardResponse}());manageMeeting.GetRewardResponse=GetRewardResponse;var MarkupRequest=(function(){function MarkupRequest(){this.type=0}return MarkupRequest}());manageMeeting.MarkupRequest=MarkupRequest;var MarkupResponse=(function(){function MarkupResponse(){this.type=0}return MarkupResponse}());manageMeeting.MarkupResponse=MarkupResponse})(manageMeeting=API.manageMeeting||(API.manageMeeting={}));var dailySign;(function(dailySign){var signRequest=(function(){function signRequest(){}return signRequest}());dailySign.signRequest=signRequest;var signResponse=(function(){function signResponse(){this.dropout=null}return signResponse}());dailySign.signResponse=signResponse})(dailySign=API.dailySign||(API.dailySign={}));var secretary;(function(secretary){var GetDailyRewardRequest=(function(){function GetDailyRewardRequest(){}return GetDailyRewardRequest}());secretary.GetDailyRewardRequest=GetDailyRewardRequest;var GetDailyRewardResponse=(function(){function GetDailyRewardResponse(){}return GetDailyRewardResponse}());secretary.GetDailyRewardResponse=GetDailyRewardResponse;var OpenSecretaryRequest=(function(){function OpenSecretaryRequest(){this.key=0;this.type=0}return OpenSecretaryRequest}());secretary.OpenSecretaryRequest=OpenSecretaryRequest;var OpenSecretaryResponse=(function(){function OpenSecretaryResponse(){this.key=0;this.type=0}return OpenSecretaryResponse}());secretary.OpenSecretaryResponse=OpenSecretaryResponse;var ApplyMovieLicenceRequest=(function(){function ApplyMovieLicenceRequest(){}return ApplyMovieLicenceRequest}());secretary.ApplyMovieLicenceRequest=ApplyMovieLicenceRequest;var ApplyMovieLicenceResponse=(function(){function ApplyMovieLicenceResponse(){}return ApplyMovieLicenceResponse}());secretary.ApplyMovieLicenceResponse=ApplyMovieLicenceResponse;var RewardMovieLicenceRequest=(function(){function RewardMovieLicenceRequest(){}return RewardMovieLicenceRequest}());secretary.RewardMovieLicenceRequest=RewardMovieLicenceRequest;var RewardMovieLicenceResponse=(function(){function RewardMovieLicenceResponse(){}return RewardMovieLicenceResponse}());secretary.RewardMovieLicenceResponse=RewardMovieLicenceResponse})(secretary=API.secretary||(API.secretary={}));var sevenAddUp;(function(sevenAddUp){var GetRewardRequest=(function(){function GetRewardRequest(){this.uuid="";this.gear=0}return GetRewardRequest}());sevenAddUp.GetRewardRequest=GetRewardRequest;var GetRewardResponse=(function(){function GetRewardResponse(){this.uuid="";this.gear=0}return GetRewardResponse}());sevenAddUp.GetRewardResponse=GetRewardResponse;var TouchRequest=(function(){function TouchRequest(){}return TouchRequest}());sevenAddUp.TouchRequest=TouchRequest;var TouchResponse=(function(){function TouchResponse(){}return TouchResponse}());sevenAddUp.TouchResponse=TouchResponse})(sevenAddUp=API.sevenAddUp||(API.sevenAddUp={}));var BeginnerGuide;(function(BeginnerGuide){var CompleteGuideRequest=(function(){function CompleteGuideRequest(){this.gId=0;this.type=0}return CompleteGuideRequest}());BeginnerGuide.CompleteGuideRequest=CompleteGuideRequest;var CompleteGuideResponse=(function(){function CompleteGuideResponse(){this.gId=0;this.type=0}return CompleteGuideResponse}());BeginnerGuide.CompleteGuideResponse=CompleteGuideResponse})(BeginnerGuide=API.BeginnerGuide||(API.BeginnerGuide={}));var Danmu;(function(Danmu){var setRequest=(function(){function setRequest(){this.id=0;this.msg=""}return setRequest}());Danmu.setRequest=setRequest;var setResponse=(function(){function setResponse(){}return setResponse}());Danmu.setResponse=setResponse;var getRequest=(function(){function getRequest(){this.id=0;this.time=0}return getRequest}());Danmu.getRequest=getRequest;var getResponse=(function(){function getResponse(){this.data=null;this.time=0}return getResponse}());Danmu.getResponse=getResponse})(Danmu=API.Danmu||(API.Danmu={}));var cooperate;(function(cooperate){var ApplyRequest=(function(){function ApplyRequest(){this.entityId=0}return ApplyRequest}());cooperate.ApplyRequest=ApplyRequest;var ApplyResponse=(function(){function ApplyResponse(){}return ApplyResponse}());cooperate.ApplyResponse=ApplyResponse;var CancelCooperateRequest=(function(){function CancelCooperateRequest(){}return CancelCooperateRequest}());cooperate.CancelCooperateRequest=CancelCooperateRequest;var CancelCooperateResponse=(function(){function CancelCooperateResponse(){}return CancelCooperateResponse}());cooperate.CancelCooperateResponse=CancelCooperateResponse;var RelieveRequest=(function(){function RelieveRequest(){}return RelieveRequest}());cooperate.RelieveRequest=RelieveRequest;var RelieveResponse=(function(){function RelieveResponse(){}return RelieveResponse}());cooperate.RelieveResponse=RelieveResponse;var ApproveRequest=(function(){function ApproveRequest(){this.type=0;this.entityId=""}return ApproveRequest}());cooperate.ApproveRequest=ApproveRequest;var ApproveResponse=(function(){function ApproveResponse(){this.type=0;this.entityId=""}return ApproveResponse}());cooperate.ApproveResponse=ApproveResponse;var GetInfoRequest=(function(){function GetInfoRequest(){this.oldOrderUuids=null}return GetInfoRequest}());cooperate.GetInfoRequest=GetInfoRequest;var GetInfoResponse=(function(){function GetInfoResponse(){}return GetInfoResponse}());cooperate.GetInfoResponse=GetInfoResponse;var TaskOperateRequest=(function(){function TaskOperateRequest(){this.type=0;this.taskId=0;this.star=0}return TaskOperateRequest}());cooperate.TaskOperateRequest=TaskOperateRequest;var TaskOperateResponse=(function(){function TaskOperateResponse(){this.type=0;this.taskId=0;this.star=0}return TaskOperateResponse}());cooperate.TaskOperateResponse=TaskOperateResponse;var GetTaskRewardRequest=(function(){function GetTaskRewardRequest(){this.taskId=0;this.star=0}return GetTaskRewardRequest}());cooperate.GetTaskRewardRequest=GetTaskRewardRequest;var GetTaskRewardResponse=(function(){function GetTaskRewardResponse(){this.taskId=0;this.star=0}return GetTaskRewardResponse}());cooperate.GetTaskRewardResponse=GetTaskRewardResponse;var GiveRewardRequest=(function(){function GiveRewardRequest(){this.itemId=0}return GiveRewardRequest}());cooperate.GiveRewardRequest=GiveRewardRequest;var GiveRewardResponse=(function(){function GiveRewardResponse(){this.itemId=0}return GiveRewardResponse}());cooperate.GiveRewardResponse=GiveRewardResponse;var GetProgressTaskRequest=(function(){function GetProgressTaskRequest(){this.index=0}return GetProgressTaskRequest}());cooperate.GetProgressTaskRequest=GetProgressTaskRequest;var GetProgressTaskResponse=(function(){function GetProgressTaskResponse(){this.index=0}return GetProgressTaskResponse}());cooperate.GetProgressTaskResponse=GetProgressTaskResponse;var ReadCooperateRequest=(function(){function ReadCooperateRequest(){}return ReadCooperateRequest}());cooperate.ReadCooperateRequest=ReadCooperateRequest;var ReadCooperateResponse=(function(){function ReadCooperateResponse(){}return ReadCooperateResponse}());cooperate.ReadCooperateResponse=ReadCooperateResponse})(cooperate=API.cooperate||(API.cooperate={}));var account;(function(account){var authRequest=(function(){function authRequest(){this.account=""}return authRequest}());account.authRequest=authRequest;var authResponse=(function(){function authResponse(){this.account="";this.token=""}return authResponse}());account.authResponse=authResponse;var loginRequest=(function(){function loginRequest(){this.account="";this.token=""}return loginRequest}());account.loginRequest=loginRequest;var loginResponse=(function(){function loginResponse(){this.jwt="";this.userId=0;this.timestamp=0}return loginResponse}());account.loginResponse=loginResponse;var refreshTokenRequest=(function(){function refreshTokenRequest(){}return refreshTokenRequest}());account.refreshTokenRequest=refreshTokenRequest;var refreshTokenResponse=(function(){function refreshTokenResponse(){this.jwt=""}return refreshTokenResponse}());account.refreshTokenResponse=refreshTokenResponse})(account=API.account||(API.account={}));var ClientGM;(function(ClientGM){var gmTestRequest=(function(){function gmTestRequest(){}return gmTestRequest}());ClientGM.gmTestRequest=gmTestRequest;var gmTestResponse=(function(){function gmTestResponse(){this.num=0}return gmTestResponse}());ClientGM.gmTestResponse=gmTestResponse;var gmUpdateOscarRequest=(function(){function gmUpdateOscarRequest(){}return gmUpdateOscarRequest}());ClientGM.gmUpdateOscarRequest=gmUpdateOscarRequest;var gmUpdateOscarResponse=(function(){function gmUpdateOscarResponse(){}return gmUpdateOscarResponse}());ClientGM.gmUpdateOscarResponse=gmUpdateOscarResponse})(ClientGM=API.ClientGM||(API.ClientGM={}))})(API=Proto.API||(Proto.API={}))})(Proto||(Proto={}));var Games;(function(Games){var ProtoBaseController=(function(){function ProtoBaseController(){}ProtoBaseController.prototype.send=function(msg,responseRequired,limitTime,moduleName){if(limitTime===void 0){limitTime=true}moduleName=moduleName?moduleName:this.moduleName;Game.proto.sendMsgByModulename(msg,moduleName,responseRequired,limitTime)};ProtoBaseController.prototype.sendByCommand=function(msg,command){Game.proto.sendMsg(msg,command)};return ProtoBaseController}());Games.ProtoBaseController=ProtoBaseController})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.UsrDataHandler=function(msg,ops,uuid){if(!msg){return}console.log("msg.usrState = "+msg.usrState);switch(msg.usrState){case Proto.SE.EUsrState.uninit:Game.menu.openTab(Games.MenuId.CreateRole,Games.CreateRoleTabType.Default);break;case Proto.SE.EUsrState.init_actor:case Proto.SE.EUsrState.usual:setTimeout(function(){Game.menu.open(Games.MenuId.Home);Game.menu.close(Games.MenuId.Login);Game.menu.close(Games.MenuId.CreateRole)},100);break;case Proto.SE.EUsrState.frozen:Game.system.alertText(Games.TEXT.ErorAccountFrozen);break;case Proto.SE.EUsrState.dropped:Game.system.alertText(Games.TEXT.ErorAccountDropped);break}Game.time.serverLoginTime=msg.lastLoginTime*1000;Game.time.registerTime=msg.registerTime*1000;Games.ProtoTookManager.getInstance().start()}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.TempDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.TaskDataHandler=function(msg,ops,uuid){console.log("任务数据:"+JSON.stringify(msg));if(msg){switch(msg.type){case EAchievementType.daily:Game.moduleModel.mission.setData(msg);break}}switch(ops){case EGameDataOps.remove:Game.moduleModel.task.removeTaskDataByUUid(uuid);break;default:Game.moduleModel.task.addTaskDataByProto(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StorySuitDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:Game.moduleModel.story.removeStorySuitData(uuid);break;default:Game.moduleModel.story.addStorySuitByProto(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StoryProgressHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StoryMessageHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StoryMessageDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StoryDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:Game.moduleModel.story.removeStoryByUUid(uuid);break;default:Game.moduleModel.story.addStoryByProto(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.StarTaskHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.skillTriggerConditionHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.SkillLevelHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.skillInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.skillEffectInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.shootInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ShardDBObjectHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.SevenAddUpDataHandler=function(msg,ops,uuid){Game.moduleModel.activity.sevenInit(msg,uuid)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ServerListDescHandler=function(msg,ops,uuid){var data=msg.userId}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.SelfRankListDescHandler=function(msg,ops,uuid){Game.moduleModel.rank.UpdateSelfList(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.SecretaryKeyValueHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.SecretaryDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:Game.moduleModel.secretary.addSecretaryByProto(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.RoomInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.RankListDataHandler=function(msg,ops,uuid){Game.moduleModel.rank.UpdateRankListData(msg);Game.moduleModel.oscar.UpdateRewardData(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ProgressBoxDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:var data=Game.moduleModel.progressBox.addProgressBoxData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.PlayerShortDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.PlayerOscarDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){var playerLevel;Games.ProtoOobHandler.PlayerLevelUpHandler=function(msg,ops,uuid){console.log("PlayerLevelUpHandler = "+msg.old_level+" upgrade "+msg.now_level);Game.moduleModel.playerInfo.enqueuePlayerLevelUpMsg(msg);Game.event.dispatch(GameEventKey.GameEventKey_PlayerLevelUp,msg.old_level,msg.now_level)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.PlayerCooperateDataHandler=function(msg,ops,uuid){Game.moduleModel.cooperation.updatePlayerCooperateData(msg,ops,uuid)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.OscarDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.OscarDataHandler=function(msg,ops,uuid){Game.moduleModel.oscar.UpdateOscarData(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.OrderItemsHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.OrderDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.NoticeHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MovieShortDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MovieLicenceResetTimeDataHandler=function(msg,ops,uuid){Game.moduleModel.warData.licenceData=msg;Game.moduleModel.warData.licenceTimeLeft()}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MovieDataHandler=function(msg,ops,uuid){if(ops===EGameDataOps.remove){for(var i=0;i<Game.moduleModel.warData.movieDataList.length;i++){if(Game.moduleModel.warData.movieDataList[i].uuid===uuid){Game.moduleModel.warData.movieDataList.splice(i,1);break}}}else{if(msg&&msg!==null){if(Game.moduleModel.warData.moveData&&Game.moduleModel.warData.moveData!==null&&msg.state===EMovieState.contineTransceiver){if(Game.moduleModel.warData.moveData.uuid===msg.uuid){Game.moduleModel.warData.moveJieSuanData=msg}}if(msg.state===EMovieState.contineTransceiver){var have=false;for(var i=0;i<Game.moduleModel.warData.movieDataList.length;i++){if(Game.moduleModel.warData.movieDataList[i].uuid===msg.uuid){Game.moduleModel.warData.movieDataList[i]=msg;have=true;break}}if(!have){Game.moduleModel.warData.movieDataList.push(msg)}Game.moduleModel.warData.movieDataList=Game.moduleModel.warData.movieDataList.sort(function(a,b){return a.startTime-b.startTime})}else{Game.moduleModel.warData.moveData=msg}}}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MediaVisitDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ManageVisitDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:var data=Game.moduleModel.visit.addVisitData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ManageProduceDataHandler=function(msg,ops,uuid){var data=Game.moduleModel.produce.addProduceData(msg,uuid);switch(ops){case EGameDataOps.init:break;case EGameDataOps.add:break;case EGameDataOps.update:break;case EGameDataOps.remove:break;default:break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ManageOrderDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:var data=Game.moduleModel.order.removeOrderData(uuid);if(data){data.dispatch()}break;default:Game.moduleModel.order.addOrderData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ManageMeetingDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:var data=Game.moduleModel.meeting.addMeetingData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ManageBusinessDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:var data=Game.moduleModel.business.addBusinessData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MallItemLimitDataHandler=function(msg,ops,uuid){Game.moduleModel.shop.UpdateGoodsLimit(msg,uuid)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MailDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.MailDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:Game.moduleModel.mail.RemoveMailData(uuid);break;default:Game.moduleModel.mail.UpdateServeMailData(msg);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ItemDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ItemDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:var itemData=Game.moduleModel.item.getItemByUuid(uuid);if(itemData){Game.moduleModel.item.setItemNum(itemData.itemId,0,uuid)}break;default:Game.moduleModel.item.setItemNum(msg.itemId,msg.amount,uuid,msg.createTime);if(Game.config.item.getType(msg.itemId)==14){Game.moduleModel.street.UpdateStreetCup(msg.amount)}break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GuideDataHandler=function(msg,ops,uuid){switch(ops){case EGameDataOps.remove:break;default:Game.moduleModel.guide.initFinishId(msg.guide,msg.story);break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GroupMovieListDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GroupListDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GMMsgLogHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GameInfoHandler=function(msg,ops,uuid){if(!msg){return}User.info=msg;Game.moduleModel.actor.setup();Game.moduleModel.story.setup();User.sGameInfoUpdate.dispatch();User.startTimeTick()}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.GameInfoExtHandler=function(msg){if(!msg){return}User.infoExt=msg}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DBObjectHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DBBaseHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DanmuItemHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DanmuDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DailySignHandler=function(msg,ops,uuid){Game.moduleModel.activity.signInit(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DailyEventItemHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.DailyEventHandler=function(msg,ops,uuid){Game.moduleModel.oscar.UpdateDailyEventData(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.CtaskHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.CooperateTaskDataHandler=function(msg,ops,uuid){Game.moduleModel.cooperation.updateCooperateTaskData(msg,ops,uuid)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.CooperateOrderDataHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.CityGainsInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.CityDataHandler=function(msg){Game.moduleModel.market.UpdateCityData(msg)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.BestMovieDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.BattleDataHandler=function(msg){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.AutoCooperateDataHandler=function(msg,ops,uuid){Game.moduleModel.cooperation.updateAutoCooperateData(msg,ops,uuid)}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.AttrChangeInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.AssetsHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ApplyInfoHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ActortExerciseDataHandler=function(msg,ops,uuid){var data=Game.moduleModel.actor.addActorExerciseData(msg,uuid);switch(ops){case EGameDataOps.init:break;case EGameDataOps.add:break;case EGameDataOps.update:break;case EGameDataOps.remove:break;default:break}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ActorSkillEffectHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ActorShortDescHandler=function(msg,ops,uuid){}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.ActorDataHandler=function(msg,ops,uuid){var isAdd=false;var preHide=false;if(Game.moduleModel.actor.hasActor(msg.actorId)==false){isAdd=true}else{var preData=Game.moduleModel.actor.getActor(msg.actorId);if(preData){preHide=preData.hide}}var data=Game.moduleModel.actor.addActorData(msg);switch(ops){case EGameDataOps.init:break;case EGameDataOps.add:break;case EGameDataOps.update:break;case EGameDataOps.remove:break;default:break}console.log("艺人更新：",ops,msg.actorId);if(isAdd){Game.moduleModel.actor.sAddActorList.dispatch(data);Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_4_NoseActor);if(Game.moduleModel.actor.getAllActorLen()==1){Game.guide.finishInitActor()}}else{if(preHide!=data.hide){Game.event.dispatch(GameEventKey.GameEventKey_UpdateActorHideInfo,data)}Game.moduleModel.actor.sUpdateActorInfo.dispatch(data);Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_3_UpgradeActor)}}})(Games||(Games={}));var Games;(function(Games){Games.ProtoOobHandler.AccountCooperateDataHandler=function(msg,ops,uuid){Game.moduleModel.cooperation.updateAccountCooperateData(msg,ops,uuid)}})(Games||(Games={}));var Games;(function(Games){var TimeHelper=(function(){function TimeHelper(){}TimeHelper.TimeFormat=function(time){var str="";var hours=Math.floor(time/3600);var minutes=Math.floor((time%3600)/60);var seconds=Math.floor(time%60);str+=hours<10?"0"+hours:hours;str+=":"+(minutes<10?"0"+minutes:minutes);str+=":"+(seconds<10?"0"+seconds:seconds);return str};TimeHelper.TimeFormat2=function(time){var str="";var hours=Math.floor(time/3600);var minutes=Math.floor((time%3600)/60);var seconds=Math.floor(time%60);if(hours>0){str+=hours+Games.TEXT.Hour}str+=minutes+Games.TEXT.Minute;str+=seconds+Games.TEXT.Second;return str};TimeHelper.DateTimeFormat=function(time,isHaveYear){if(isHaveYear===void 0){isHaveYear=true}var Dates;if(time==null){Dates=new Date()}else{Dates=new Date(time*1000)}var Year=Dates.getFullYear();var Months=(Dates.getMonth()+1)<10?"0"+(Dates.getMonth()+1):(Dates.getMonth()+1);var Day=Dates.getDate()<10?"0"+Dates.getDate():Dates.getDate();var Hours=Dates.getHours()<10?"0"+Dates.getHours():Dates.getHours();var Minutes=Dates.getMinutes()<10?"0"+Dates.getMinutes():Dates.getMinutes();if(LangManager.Instance.lang==LangType.zh_cn){if(isHaveYear){return Year+"-"+Months+"-"+Day+" "+Hours+":"+Minutes}else{return Months+"-"+Day+" "+Hours+":"+Minutes}}else{if(isHaveYear){return Year+" "+TimeHelper.MonthText[Dates.getMonth()]+" "+Day+", "+Hours+":"+Minutes}else{return TimeHelper.MonthText[Dates.getMonth()]+" "+Day+", "+Hours+":"+Minutes}}};TimeHelper.DateTimeFormat2=function(time){var Dates;if(time==null){Dates=new Date()}else{Dates=new Date(time*1000)}var Year=Dates.getFullYear();var Months=(Dates.getMonth()+1)<10?"0"+(Dates.getMonth()+1):(Dates.getMonth()+1);var Day=Dates.getDate()<10?"0"+Dates.getDate():Dates.getDate();if(LangManager.Instance.lang==LangType.zh_cn){return Year+"-"+Months+"-"+Day}else{return Year+" "+TimeHelper.MonthText[Dates.getMonth()]+" "+Day}};TimeHelper.DateTimeFormat3=function(time){var Dates;if(time==null){Dates=new Date()}else{Dates=new Date(time*1000)}var Months=(Dates.getMonth()+1)<10?"0"+(Dates.getMonth()+1):(Dates.getMonth()+1);var Day=Dates.getDate()<10?"0"+Dates.getDate():Dates.getDate();if(LangManager.Instance.lang==LangType.zh_cn){return Months+"-"+Day}else{return TimeHelper.MonthText[Dates.getMonth()]+" "+Day}};TimeHelper.TimeReformat1=function(h,m,s){if(h===void 0){h=0}if(m===void 0){m=0}if(s===void 0){s=0}var date=new Date(Game.time.serverMilliseconds);date.setHours(h);date.setMinutes(m);date.setSeconds(s);return date.getTime()};TimeHelper.TimeReformat2=function(time){var strTimes=time.split(":");var h,m,s;if(strTimes[0]){h=Number(strTimes[0])||0}if(strTimes[1]){m=Number(strTimes[1])||0}if(strTimes[2]){s=Number(strTimes[2])||0}return this.TimeReformat1(h,m,s)};TimeHelper.TimeFormat3=function(time){var str="";var hours=Math.floor(time/3600);var minutes=Math.floor((time%3600)/60);var seconds=Math.floor(time%60);str+=hours==0?"":"0"+hours;str+=(hours>0?":":"")+(minutes<10?"0"+minutes:minutes);str+=":"+(seconds<10?"0"+seconds:seconds);return str};TimeHelper.TimeFormat4=function(time){var str="";var hours=Math.floor(time/3600);var minutes=Math.floor((time%3600)/60);var seconds=Math.floor(time%60);if(hours>0){str+=hours+Games.TEXT.Hour}if(minutes>0){str+=minutes+Games.TEXT.Minute}str+=seconds+Games.TEXT.Second;return str};TimeHelper.MonthText=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return TimeHelper}());Games.TimeHelper=TimeHelper})(Games||(Games={}));function toStringArray(txt,separator){if(separator===void 0){separator=/[:,;]/}return txt.split(separator)}function toIntArray(txt,separator){if(separator===void 0){separator=/[:,;]/}var list=[];var arr=toStringArray(txt,separator);for(var i=0;i<arr.length;i++){list.push(parseInt(arr[i]))}return list}function toFloatArray(txt,separator){if(separator===void 0){separator=/[:,;]/}var list=[];var arr=toStringArray(txt,separator);for(var i=0;i<arr.length;i++){list.push(parseFloat(arr[i]))}return list}function toInt(val){return parseInt(val)}function toFloat(val){return parseFloat(val)}function toBoolean(val){if(val){if(isNumber(val)){return val!=0}else{if(isString(val)){return val=="true"||parseInt(val)!=0}}return true}else{return false}}function toBooleanArray(txt,separator){if(separator===void 0){separator=/[:,;]/}var list=[];var arr=toStringArray(txt,separator);for(var i=0;i<arr.length;i++){list.push(toBoolean(arr[i]))}return list}function configCellToArray(txt,separator){if(separator===void 0){separator=/[;]/}return toStringArray(txt,separator)}function csvGetInt(csv,i){return parseInt(csv[i])}function csvGetFloat(csv,i){return parseFloat(csv[i])}function csvGetBoolean(csv,i){return toBoolean(csv[i])}function csvGetString(csv,i){return csv[i]}function firstUpperCase(str){return str.replace(/\b(\w)(\w*)/g,function($0,$1,$2){return $1.toUpperCase()+$2.toLowerCase()})}function format(value){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}try{return value.replace(/{(\d+(:.*)?)}/g,function(match,i){var s=match.split(":");if(s.length>1){i=i[0];match=s[1].replace("}","")}var arg=formatPattern(match,args[i]);return typeof arg!="undefined"&&arg!=null?arg:""})}catch(e){return""}}function formatPattern(match,arg){switch(match){case"L":arg=arg.toLowerCase();break;case"U":arg=arg.toUpperCase();break;default:break}return arg}function isNullOrWhiteSpace(value){try{if(value==null||value=="undefined"){return false}return value.replace(/\s/g,"").length<1}catch(e){return false}}function isStartOrEndWithSpace(s){var index=s.indexOf(" ");var lastIndex=s.lastIndexOf(" ");if(index==0||lastIndex==s.length-1){return true}return false}function isStartOrEndWithNumber(s){var fristChar=s.charAt(0);var lastChar=s.charAt(s.length-1);if(isInt(fristChar)||isInt(lastChar)){return true}return false}function trim(s){return s.replace(/[\r\n]/g,"")}var __NumberUnitText=(function(){function __NumberUnitText(){}__NumberUnitText.B="B";__NumberUnitText.M="M";__NumberUnitText.K="K";return __NumberUnitText}());var __NumberUnitValue=(function(){function __NumberUnitValue(){}__NumberUnitValue.K=1000;__NumberUnitValue.M=1000*1000;__NumberUnitValue.B=1000*1000*1000;return __NumberUnitValue}());function formatNumberUnit(value,fixed){if(fixed===void 0){fixed=1}var str="";if(value>=__NumberUnitValue.B*10){value=value/__NumberUnitValue.B;str=value.toFixed(fixed+1).slice(0,-1)+__NumberUnitText.B}else{if(value>=__NumberUnitValue.M*10){value=value/__NumberUnitValue.M;str=value.toFixed(fixed+1).slice(0,-1)+__NumberUnitText.M}else{if(value>=__NumberUnitValue.K*10){value=value/__NumberUnitValue.K;str=value.toFixed(fixed+1).slice(0,-1)+__NumberUnitText.K}else{str=Math.floor(value)+""}}}var a=str.split(".");var num=parseInt(a[0]);var result=num.toLocaleString("en-US");if(a.length>=2){if(fixed>0){result=result+"."+a[1]}else{result=result+a[1]}}return result}function formatArrayNumberUnit(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var args=[];for(var index=0;index<numbs.length;index++){var num=numbs[index];args.push(formatNumberUnit(num,num>1000?1:0))}return fmat.format.apply(fmat,args)}function numberToLetter(value,isCapital){if(isCapital===void 0){isCapital=true}if(value<=0){return null}var letter="";value--;if(value>26){return""}if(value<0){return""}var AString=isCapital?"A":"a";letter=String.fromCharCode(value+AString.charCodeAt(0));return letter}function getStringLength(str){var realLength=0,len=str.length,charCode=-1;for(var i=0;i<len;i++){charCode=str.charCodeAt(i);if(charCode>=0&&charCode<=128){realLength+=1}else{realLength+=2}}return realLength}var Random=(function(){function Random(){}Random.range=function(min,max){var range=max-min;var rand=Math.random();return min+Math.floor(range*rand)};Random.rangeBoth=function(min,max){var range=max-min;var rand=Math.random();return min+Math.round(range*rand)};Random.rangeBetween=function(min,max){var range=max-min;var rand=Math.random();if(Math.round(rand*range)==0){return min+1}else{if(Math.round(rand*max)==max){return max-1}else{return min+Math.round(rand*range)-1}}};Random.GetDisorderList=function(list){var countNum=list.length;var listA=new Array();var listB=new Array();for(var i=0;i<countNum;i++){listA.push(list[i])}while(listB.length<countNum){var index=Random.range(0,listA.length);if(listB.indexOf(listA[index])===-1){listB.push(listA[index]);listA.splice(index,1)}}return listB};return Random}());var Pool=(function(){function Pool(){}Pool.getItem=function(cls){var name=cls.name;return laya.utils.Pool.getItemByClass(name,cls)};Pool.recover=function(item){if(!item){return}var name=getClassName(item);laya.utils.Pool.recover(name,item)};return Pool}());var MathDesign=(function(){function MathDesign(){}MathDesign.calcActorExperciseDerateTime=function(){var roomInfo=Game.moduleModel.building.getRoomByType(Games.RoomType.Training);var roomCfg=Game.config.buildingLevel.getConfig(roomInfo.id);var roomEffects=roomCfg.effect_id;for(var _i=0,roomEffects_1=roomEffects;_i<roomEffects_1.length;_i++){var effectId=roomEffects_1[_i];var roomEffectCfg=Game.config.buildingEffect.getConfig(effectId);if(roomEffectCfg.effect==25){return roomEffectCfg.par1}}return 0};MathDesign.calcActorExperciseExp=function(){var baseExperciseExpVal=Game.config.global.getConfig(GlobalKey.Actor_Train_Exp).value;var secretaryAddExpPer=Game.moduleModel.secretary.skillExpRate/100;var roomLevelAddExpPer=this.getRoomLevelAddExp()/100;return Math.round((baseExperciseExpVal*(1+secretaryAddExpPer))*(1+roomLevelAddExpPer))};MathDesign.getRoomLevelAddExp=function(){var roomInfo=Game.moduleModel.building.getRoomByType(Games.RoomType.Training);var roomCfg=Game.config.buildingLevel.getConfig(roomInfo.id);var roomEffects=roomCfg.effect_id;for(var _i=0,roomEffects_2=roomEffects;_i<roomEffects_2.length;_i++){var effectId=roomEffects_2[_i];var roomEffectCfg=Game.config.buildingEffect.getConfig(effectId);if(roomEffectCfg.effect==24){return roomEffectCfg.par1}}return 0};return MathDesign}());var Games;(function(Games){var ItemHelper=(function(){function ItemHelper(){}ItemHelper.getItemNum=function(itemId){return Game.moduleModel.item.getItemNum(itemId)};ItemHelper.getItemName=function(itemId){var cfg=Game.config.item.getConfig(itemId);if(cfg){return cfg.name}return""};ItemHelper.getItemNumFormat=function(itemId){return formatNumberUnit(Game.moduleModel.item.getItemNum(itemId))};ItemHelper.getItemIcon=function(itemId){var cfg=Game.config.item.getConfig(itemId);if(cfg){return cfg.iconUrl}return""};ItemHelper.checkItemEnough=function(item){var id=item.itemId;var needNum=item.itemNum;var enough=ItemHelper.checkItemEnough2(id,needNum);return enough};ItemHelper.checkItemEnough2=function(id,needNum){var curNum=Game.moduleModel.item.getItemNum(id);var enough=true;if(curNum<needNum){enough=false}return enough};ItemHelper.checkItemEnough3=function(items){var enough=true;if(items.length==2){var id=items[0];var num=items[1];enough=ItemHelper.checkItemEnough2(id,num)}return enough};ItemHelper.checkItemsEnough=function(items){var enough=true;for(var index=0;index<items.length;index++){var element=items[index];enough=ItemHelper.checkItemEnough(element);if(enough==false){break}}return enough};ItemHelper.getItemNotEnough=function(items){var noEnoughId=0;var enough=true;for(var index=0;index<items.length;index++){var element=items[index];enough=ItemHelper.checkItemEnough(element);if(enough==false){return element}}return null};ItemHelper.getItemNotEnoughId=function(items){var noEnoughId=0;var enough=true;for(var index=0;index<items.length;index++){var element=items[index];enough=ItemHelper.checkItemEnough(element);if(enough==false){noEnoughId=element.itemId}}return noEnoughId};ItemHelper.getItemNotEnoughNum=function(items){var noEnoughNum=0;var enough=true;for(var index=0;index<items.length;index++){var element=items[index];enough=ItemHelper.checkItemEnough(element);if(enough==false){noEnoughNum=element.itemNum}}return noEnoughNum};return ItemHelper}());Games.ItemHelper=ItemHelper})(Games||(Games={}));function getRandomRoleName(){var surnames=Game.config.randomSurname.getConfigList();var names=Game.config.randomName.getConfigList();return names[Random.range(0,names.length)].text+" "+surnames[Random.range(0,surnames.length)].text}function validateRoleName(name,minLength,maxLenght){if(minLength===void 0){minLength=4}if(maxLenght===void 0){maxLenght=18}if(isNullOrEmpty(name)){Game.system.toastText(Games.TEXT.ErrorNameEmpty);return}var length=getStringLength(name);if(length<minLength||length>maxLenght){Game.system.toastMsg(MsgKey.account_name_long,minLength,maxLenght);return false}if(/^[0-9.]*$/.test(name)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_num));return false}if(isStartOrEndWithNumber(name)){Game.system.toastText(TEXT.SystemDisAllowHaveStartLastNumber);return false}if(isNumber(name)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_num));return false}if(isStartOrEndWithSpace(name)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_space));return false}if(!validateBlockWords(name,true)){return false}return true}function validateOtherName(name,maxLength){if(maxLength===void 0){maxLength=18}var minLength=4;if(isNullOrEmpty(name)){Game.system.toastText(Games.TEXT.ErrorNameEmpty);return}var length=getStringLength(name);if(length<minLength||length>maxLength){Game.system.toastMsg(MsgKey.account_name_long,minLength,maxLength);return false}if(isStartOrEndWithNumber(name)){Game.system.toastText(TEXT.SystemDisAllowHaveStartLastNumber);return false}if(isNumber(name)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_num));return false}if(isStartOrEndWithSpace(name)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_space));return false}if(!validateBlockWords(name,true)){return false}return true}function validateDanmu(name,minLength,maxLenght){if(minLength===void 0){minLength=4}if(maxLenght===void 0){maxLenght=100}if(isNullOrEmpty(name)){Game.system.toastText(Games.TEXT.ErrorNameEmpty);return}var length=getStringLength(name);if(length<minLength||length>maxLenght){Game.system.toastText(Games.TEXT.OscarDanmuLong);return false}if(isStartOrEndWithSpace(name)){Game.system.toastText(Games.TEXT.OscarDanmuSpace);return false}if(!validateBlockWords(name)){Game.system.toastText(Games.TEXT.OscarDanmuBlockword);return false}return true}function validateBlockWords(name,alert){var words=Game.config.blockWords.getConfigList();for(var _i=0,words_1=words;_i<words_1.length;_i++){var word=words_1[_i];if(name.toLowerCase().indexOf(word.text)!=-1){if(alert){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_blockword))}return false}}return true}function validateSendMsgBoard(content){if(isNullOrEmpty(content)){Game.system.toastText(Games.TEXT.StoryContentEmpty);return}if(content.length<1||content.length>50){Game.system.toastText(Games.TEXT.StoryContentToMax);return false}if(isStartOrEndWithSpace(content)){Game.system.toastText(Games.TEXT.StoryContentSpace);return false}if(!validateBlockWords(name)){Game.system.toastText(Games.TEXT.StoryContentBlockWord);return false}return true}function addSkillExp(actorId,amount){Game.protosender.test.AddSkillExp(actorId,amount)}function AddStoryProgress(id,index){var uuid=Game.moduleModel.story.getStoryData(id).uuid}var dark=[new Laya.ColorFilter([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0])];var gold=[new Laya.ColorFilter([0.3,0.3,0.3,0.3,0.3,0.3,0.1,0.1,0.3,0.3,0,0,0,0,0,0,0,0,1,0])];function setDark(target){target.displayObject.filters=dark}function setGold(target){target.displayObject.filters=gold}function clearFilter(target){target.displayObject.filters=[]}function ItemDesc2DTItemNum(protoItem){var item=new DTItemNum();item.id=protoItem.itemId;item.itemId=protoItem.itemId;item.itemNum=protoItem.amount;return item}function ItemDescList2DTItemNumList(protoItems){var list=[];for(var _i=0,protoItems_1=protoItems;_i<protoItems_1.length;_i++){var item=protoItems_1[_i];list.push(ItemDesc2DTItemNum(item))}return list}function getAssetItemKey(item){return item.type+" "+item.url}function addItem(itemId,itemNum){Game.protosender.test.AddItem(itemId,itemNum)}function addActor(actorId,name){}function addFans(amount){Game.protosender.test.AddFans(amount)}function setBlockLevel(level){Game.protosender.test.SetBlockLevel(level)}function getHeadPortrait(sex,headPortrait){if(headPortrait==0){if(sex==1101||sex==2002){headPortrait=1001}else{headPortrait=1101}}return headPortrait}var customStrList=["{fans}","{level}","{name}","{city}","{actor}"];function contentFormatCustom(value){var t;for(var index=0;index<customStrList.length;index++){var element=customStrList[index];var ind=value.indexOf(element);if(ind>=0){switch(element){case"{fans}":t=Game.moduleModel.item.getItemNum(EItemId.fans);break;case"{level}":t=User.info.level;break;case"{name}":t=User.info.name;break;case"{city}":t=User.info.level;break;case"{actor}":if(User.info.initActorId&&User.info.initActorId>0){t=Game.moduleModel.actor.getActor(User.info.initActorId).name}break;default:break}value=value.replace(element,t)}}return value}function contentFormatCustomId(value){var t;for(var index=0;index<customStrList.length;index++){var element=customStrList[index];var ind=value.indexOf(element);if(ind>=0){switch(element){case"{name}":t=User.info.sex==Proto.SE.EUserSex.boy?9996:9997;break;case"{actor}":if(User.info.initActorId&&User.info.initActorId>0){t=Game.moduleModel.actor.getActor(User.info.initActorId).config.avatarConfig.id}break;default:break}value=value.replace(element,t)}}return toInt(value)}var CallbackHandler=(function(){function CallbackHandler(){}CallbackHandler.prototype.apply=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}this.handler.apply(this.self,args)};CallbackHandler.prototype.equals=function(handler,self){return this.handler==handler&&this.self==self};return CallbackHandler}());Array.prototype.findOne=function(fun,thisArg){var len=this.length;if(typeof fun!="function"){throw new TypeError()}for(var i=0;i<len;i++){if(fun.call(thisArg,this[i])){return this[i]}}return null};Array.prototype.find=function(fun,thisArg){var len=this.length;if(typeof fun!="function"){throw new TypeError()}for(var i=0;i<len;i++){if(fun.call(thisArg,this[i],i,this)){return this[i]}}return null};Array.prototype.findIndex=function(fun,thisArg){var len=this.length;if(typeof fun!="function"){throw new TypeError()}for(var i=0;i<len;i++){if(fun.call(thisArg,this[i])){return i}}return -1};var Emitter=(function(){function Emitter(isDispatchName){if(isDispatchName===void 0){isDispatchName=false}this.listeners={};this.isDispatchName=false;this.isDispatchName=isDispatchName}Emitter.prototype.add=function(name,callback,context){var hasRegistered=false;var observers=this.listeners[name];if(!observers){this.listeners[name]=[]}else{var length_1=observers.length;for(var i=0;i<length_1;i++){var observer=observers[i];if(observer.comparAll(callback,context)){hasRegistered=true}}}if(!hasRegistered){this.listeners[name].push(new Observer(callback,context))}};Emitter.prototype.remove=function(name,callback,context){var observers=this.listeners[name];if(!observers){return}var length=observers.length;for(var i=0;i<length;i++){var observer=observers[i];if(observer.compar(context)){observers.splice(i,1);break}}if(observers.length==0){delete this.listeners[name]}};Emitter.prototype.dispatch=function(name){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var observers=this.listeners[name];if(!observers){return}var length=observers.length;for(var i=length-1;i>=0;i--){var observer=observers[i];if(this.isDispatchName){observer.notify.apply(observer,[name].concat(args))}else{observer.notify.apply(observer,args)}}};return Emitter}());var Observer=(function(){function Observer(callback,context){this.callback=null;this.context=null;var self=this;self.callback=callback;self.context=context}Observer.prototype.notify=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var self=this;(_a=self.callback).call.apply(_a,[self.context].concat(args));var _a};Observer.prototype.compar=function(context){return context==this.context};Observer.prototype.comparAll=function(callback,context){return callback==this.callback&&context==this.context};return Observer}());var Games;(function(Games){var GMMenuType=(function(){function GMMenuType(){}GMMenuType.ADD="添加";GMMenuType.CMD="命令";GMMenuType.SELECTSERVER="选择服务器";GMMenuType.LOG="日志";GMMenuType.MODULE="模块";GMMenuType.DisplayTree="显示树";GMMenuType.list=[GMMenuType.ADD,GMMenuType.CMD,GMMenuType.SELECTSERVER,GMMenuType.MODULE,GMMenuType.LOG,GMMenuType.DisplayTree];return GMMenuType}());Games.GMMenuType=GMMenuType;var GMDeubgMenuType=(function(){function GMDeubgMenuType(){}GMDeubgMenuType.getLogType=function(menu){switch(menu){case GMDeubgMenuType.Log:return LogType.Log;case GMDeubgMenuType.Warn:return LogType.Warn;case GMDeubgMenuType.Error:return LogType.Error}};GMDeubgMenuType.getLogTypes=function(menus){var types=[];for(var i=0;i<menus.length;i++){types.push(GMDeubgMenuType.getLogType(menus[i]))}return types};GMDeubgMenuType.Log="Log";GMDeubgMenuType.Warn="Warn";GMDeubgMenuType.Error="Error";GMDeubgMenuType.list=[GMDeubgMenuType.Log,GMDeubgMenuType.Warn,GMDeubgMenuType.Error];return GMDeubgMenuType}());Games.GMDeubgMenuType=GMDeubgMenuType;var GMAddType=(function(){function GMAddType(){}GMAddType.getItemTypes=function(itemAddType){var types=[];switch(itemAddType){case GMAddType.Item_Money:types.push(Proto.SE.EItemCategory.diamond);types.push(Proto.SE.EItemCategory.gold);types.push(Proto.SE.EItemCategory.dollar);types.push(10);types.push(11);types.push(12);types.push(13);break;case GMAddType.Item_Other:types.push(Proto.SE.EItemCategory.other);break;case GMAddType.Item_Normal:types.push(Proto.SE.EItemCategory.normal);break;case GMAddType.Item_Asset:types.push(Proto.SE.EItemCategory.assets);break;case GMAddType.Item_Contract:types.push(Proto.SE.EItemCategory.contract);break;case GMAddType.Item_Giftbag:types.push(Proto.SE.EItemCategory.giftbag);break;case GMAddType.Item_Build:types.push(9);break}return types};GMAddType.Actor="艺人";GMAddType.Story="剧本";GMAddType.Item="物品--所有";GMAddType.Item_Money="物品--货币";GMAddType.Item_Other="物品--周边产品";GMAddType.Item_Normal="物品--普通道具";GMAddType.Item_Asset="物品--资产";GMAddType.Item_Contract="物品--合同";GMAddType.Item_Giftbag="物品--礼包";GMAddType.Item_Build="物品--建筑材料";GMAddType.list=[GMAddType.Actor,GMAddType.Story,GMAddType.Item,GMAddType.Item_Money,GMAddType.Item_Other,GMAddType.Item_Normal,GMAddType.Item_Asset,GMAddType.Item_Contract,GMAddType.Item_Giftbag,GMAddType.Item_Build];return GMAddType}());Games.GMAddType=GMAddType;var GMCmdSubMenuType=(function(){function GMCmdSubMenuType(){}GMCmdSubMenuType.Server="服务器";GMCmdSubMenuType.Client="客户端";GMCmdSubMenuType.HISTORY="最近";GMCmdSubMenuType.list=[GMCmdSubMenuType.Server,GMCmdSubMenuType.Client,GMCmdSubMenuType.HISTORY];return GMCmdSubMenuType}());Games.GMCmdSubMenuType=GMCmdSubMenuType;var GMCmdList=(function(){function GMCmdList(name){this.list=[];this.dict=new Dictionary();this.name=name}GMCmdList.prototype.setList=function(arr,isClient){if(isClient===void 0){isClient=false}this.list=arr;for(var i=0;i<arr.length;i++){var item=arr[i];item.title=item.name+" ("+item.cnname+")";item.datatxt=JSON.stringify(item.data);item.isClient=isClient;this.dict.add(item.name,item)}this.read()};GMCmdList.prototype.add=function(item){this.list.push(item)};GMCmdList.prototype.clear=function(){this.list=[];this.dict.clear();this.save()};GMCmdList.prototype.clearCache=function(){Game.localStorage.removeItem(this.lsKey,true)};Object.defineProperty(GMCmdList.prototype,"lsKey",{get:function(){return this.name},enumerable:true,configurable:true});GMCmdList.prototype.save=function(){Game.localStorage.setJSON(this.lsKey,this.list,true)};GMCmdList.prototype.read=function(){var list=Game.localStorage.getJSON(this.lsKey,true);if(!list){return}for(var i=0;i<list.length;i++){var item=list[i];var pre_1=this.dict.getValue(item.name);if(pre_1){pre_1.datatxt=item.datatxt}else{this.add(item)}}};return GMCmdList}());Games.GMCmdList=GMCmdList;var GM=(function(){function GM(){}Object.defineProperty(GM,"serverCmdUrl",{get:function(){if(BrowserDetect.isLocal){return"ServerGM.json"}else{return GM._serverCmdUrl}},enumerable:true,configurable:true});Object.defineProperty(GM,"clientCmdUrl",{get:function(){if(BrowserDetect.isLocal){return"ClientGM.json"}else{return GM._clientCmdUrl}},enumerable:true,configurable:true});GM.sendCmd=function(cmdName,cmdData,isAddHostor){if(isAddHostor===void 0){isAddHostor=false}var cmdItem;if(isString(cmdData)){cmdItem={cnname:"",name:cmdName,data:JSON.parse(cmdData),datatxt:cmdData,isClient:false};cmdItem.isClient=cmdItem.data.isClient==true;cmdItem.cnname=cmdItem.data.cnname?cmdItem.data.cnname:"";var cmdList=cmdItem.isClient?GM.clientCmd:GM.serverCmd;var cmdSetting=cmdList.dict.getValue(cmdName);if(cmdSetting){cmdItem.cnname=cmdSetting.cnname;cmdItem.title=cmdSetting.title}else{cmdItem.title=cmdItem.cnname?cmdItem.name+" ("+cmdItem.cnname+")":cmdItem.name}}else{cmdItem=cmdData;if(cmdItem.isClient){GM.clientCmd.save()}else{GM.serverCmd.save()}}if(isAddHostor){GM.historCmd.add(cmdItem);GM.historCmd.save()}if(cmdItem.isClient){var fun=Game.protohandler.ClientGM[cmdName];fun.apply(cmdItem.data,Game.protohandler.ClientGM)}else{Game.proto.sendMsg(cmdItem.data,"test/"+cmdName)}};Object.defineProperty(GM,"window",{get:function(){if(!GM._window){GM._window=new Games.GMWindow()}return GM._window},enumerable:true,configurable:true});Object.defineProperty(GM,"visiable",{get:function(){if(GM._window){if(GM._window.parent){return true}else{return false}}return GM._visiable},set:function(value){if(value){GM.window.show()}else{if(GM._window){GM.window.hide()}}GM._visiable=value},enumerable:true,configurable:true});GM._serverCmdUrl="http://mbqb.ihaiu.com/GamePF/ServerGM.json";GM._clientCmdUrl="http://mbqb.ihaiu.com/GamePF/ClientGM.json";GM.serverCmd=new GMCmdList("ServerCmd");GM.clientCmd=new GMCmdList("ClientCmd");GM.historCmd=new GMCmdList("HistorCmd");return GM}());Games.GM=GM})(Games||(Games={}));var ItemHelper=Games.ItemHelper;var TimeHelper=Games.TimeHelper;var MeetingPanelType=Games.MeetingPanelType;var MeetingRewardType=Games.MeetingRewardType;var MeetingMarkUpType=Games.MeetingMarkUpType;var MeetingResultType=Games.MeetingResultType;var Signal=signals.Signal;var TypedSignal=signals.TypedSignal;var Bindable=signals.Bindable;var GuideDialogType=Games.GuideDialogType;var Games;(function(Games){var GamePreload=(function(){function GamePreload(){this.packageConfigs=[];this.assets=[]}GamePreload.prototype.addAssetForFguiPackagename=function(packagename){this.assets.push({url:packagename,type:Games.AssetItemType.FguiPackage})};GamePreload.prototype.addAssetForFguiComponent=function(fguiCom){var names=fguiCom.DependPackages;for(var i=0;i<names.length;i++){this.addAssetForFguiPackagename(names[i])}};GamePreload.prototype.addDynmicAssetForAvatarAll=function(avatarConfig){avatarConfig.getAllAssset(this.assets)};GamePreload.prototype.generate=function(){this.addAssetForFguiPackagename(Games.GuiPackageNames.Login);this.addAssetForFguiPackagename(Games.GuiPackageNames.Common);this.addAssetForFguiPackagename(Games.GuiPackageNames.Sound);this.addAssetForFguiPackagename(Games.GuiPackageNames.Cooperation);this.addAssetForFguiPackagename(Games.GuiPackageNames.Fx);this.addAssetForFguiComponent(fgui.MainUI.MainUI);this.addAssetForFguiComponent(fgui.Building.Main);this.addAssetForFguiComponent(fgui.MainUI.VisitMainTopUI);this.addAssetForFguiComponent(fgui.PfSkin.ArtistUI);var dict=new Dictionary();var packageDict=new Dictionary();for(var i=0;i<this.assets.length;i++){var item=this.assets[i];var packageConfig=null;switch(item.type){case Games.AssetItemType.FguiPackage:packageConfig=Game.guiRes.getconfig(item.url);break;case Games.AssetItemType.FspritePackage:packageConfig=Game.spriteRes.getconfig(item.url);break}if(packageConfig){if(!packageDict.hasKey(packageConfig.packagePath)){packageDict.add(packageConfig.packagePath,packageConfig)}var packageRes=packageConfig.loadList;for(var _i=0,packageRes_1=packageRes;_i<packageRes_1.length;_i++){var packageItem=packageRes_1[_i];if(!dict.hasKey(packageItem.url)){var mitem={url:packageItem.url,type:Games.AssetHelper.layaLoaderType2AssetItemType(packageItem.type)};dict.add(mitem.url,mitem)}}}else{if(!dict.hasKey(item.url)){dict.add(item.url,item)}}}this.list=dict.getValues();this.packageConfigs=packageDict.getValues()};GamePreload.prototype.begin=function(onObj,onCompleteFun){this.onObj=onObj;this.onCompleteFun=onCompleteFun;this.generate();console.log("预加载资源数量："+this.list.length);Game.asset.loadList(this.list,this,this.onEnd,this.onProgress)};GamePreload.prototype.onProgress=function(rate,index,count,item){gameLaunchLoding.onLoadedFgui(index,count)};GamePreload.prototype.onEnd=function(){for(var _i=0,_a=this.packageConfigs;_i<_a.length;_i++){var packageConfig=_a[_i];Games.GuiSetting.addPackage(packageConfig.packagePath)}if(this.onCompleteFun){if(this.onObj){this.onCompleteFun.apply(this.onObj)}else{this.onCompleteFun()}}};return GamePreload}());Games.GamePreload=GamePreload})(Games||(Games={}));var Games;(function(Games){var WarLoadPic=(function(){function WarLoadPic(){}WarLoadPic.setIcon=function(loader,val){if(val===0){loader.visible=false}else{var propertyConfig=Game.config.property.getConfig(val);if(propertyConfig&&propertyConfig.icon&&propertyConfig.icon>0){loader.icon=Game.config.avatar.getConfig(propertyConfig.icon).iconUrl}else{loader.visible=false}}};WarLoadPic.getActorIcon=function(avatar){return Game.config.avatar.getConfig(avatar).bodyIconUrl};WarLoadPic.getItemIcon=function(itemId){var conf=Game.config.item.getConfig(itemId).icon;return Game.config.avatar.getConfig(conf).iconUrl};WarLoadPic.getAvatarIcon=function(avatarId){return Game.config.avatar.getConfig(avatarId).iconUrl};WarLoadPic.getActorTypeIcon=function(type){var property=Game.config.property.getConfig(type);return Game.config.avatar.getConfig(property.icon).iconUrl};return WarLoadPic}());Games.WarLoadPic=WarLoadPic})(Games||(Games={}));var Games;(function(Games){var RoomTypeClass=(function(){function RoomTypeClass(type,newClass){this.type=type;this.newClass=newClass}return RoomTypeClass}());Games.RoomTypeClass=RoomTypeClass;var BuildingProcessMgr=(function(){function BuildingProcessMgr(){}BuildingProcessMgr.get=function(roomType){return this.dict.getValue(roomType)};BuildingProcessMgr.add=function(roomType,newClass){this.dict.add(roomType,new RoomTypeClass(roomType,newClass))};BuildingProcessMgr.install=function(){this.add(Games.RoomType.Cinema,Games.BuildingProcess1);this.add(Games.RoomType.Shoot,Games.BuildingProcess2);this.add(Games.RoomType.Actor,Games.BuildingProcess3);this.add(Games.RoomType.Reception,Games.BuildingProcess10);this.add(Games.RoomType.Meeting,Games.BuildingProcess11);this.add(Games.RoomType.Training,Games.BuildingProcess13)};BuildingProcessMgr.dict=new Dictionary();return BuildingProcessMgr}());Games.BuildingProcessMgr=BuildingProcessMgr})(Games||(Games={}));var Games;(function(Games){var BaseBuildingProcess=(function(){function BaseBuildingProcess(){}BaseBuildingProcess.prototype.init=function(refRoom){this.refRoom=refRoom;this.roomInfo=refRoom.roomInfo;this.onInit();this.onProcess()};BaseBuildingProcess.prototype.onInit=function(){};BaseBuildingProcess.prototype.onProcess=function(){};BaseBuildingProcess.prototype.dispose=function(){};BaseBuildingProcess.prototype.isSelfRoom=function(roomType){return this.roomInfo.type==roomType};return BaseBuildingProcess}());Games.BaseBuildingProcess=BaseBuildingProcess})(Games||(Games={}));var Games;(function(Games){var UserData=(function(){function UserData(){this.sGameInfoUpdate=new Signal();this.account=new Games.UserAccountData();this.info=new Proto.SS.GameInfo();this.infoExt=new Proto.SS.GameInfoExt();this.isNineToFiftyTimeOuntNum=0;this.isNineToFiftyFiveTimeOuntNum=0;this.isNineToTenTimeOuntNum=0;this.isNineToZeroTimeOuntNum=0;this.isSetIntervalStart=false;this.isZeroTime=false;this.isNineToFifty=false;this.isNineToFiftyFive=false;this.isTenTime=false}UserData.prototype.getDefaultPortrait=function(){var _this=this;var portraitCfgList=Game.config.headPortrait.getConfigList();var portraitSexList=portraitCfgList.filter(function(value,index,array){return value.sex==_this.info.sex});for(var _i=0,portraitSexList_1=portraitSexList;_i<portraitSexList_1.length;_i++){var portrait=portraitSexList_1[_i];if(portrait.unlock.itemId==0&&portrait.unlock.itemNum==0){return portrait.id}}return 0};Object.defineProperty(UserData.prototype,"headIconId",{get:function(){var portraitId=this.info.portrait;if(portraitId==0){portraitId=this.getDefaultPortrait()}return portraitId},enumerable:true,configurable:true});Object.defineProperty(UserData.prototype,"headIconUrl",{get:function(){var portraitCfg=Game.config.headPortrait.getConfig(this.headIconId);if(portraitCfg){return portraitCfg.iconUrl}return""},enumerable:true,configurable:true});Object.defineProperty(UserData.prototype,"upgradeFans",{get:function(){var config=Game.config.playerLevel.getConfig(User.info.level);if(config){return config.fans}return 0},enumerable:true,configurable:true});Object.defineProperty(UserData.prototype,"streatRank",{get:function(){return 0},enumerable:true,configurable:true});Object.defineProperty(UserData.prototype,"trainNumCount",{get:function(){var num=0;num+=Game.config.playerLevel.getConfig(User.info.level).train_count;num+=Game.moduleModel.building.getBuildEffectPar(Games.RoomType.Actor,Games.BuildingEffectType.effect_add_train_actor);return num},enumerable:true,configurable:true});UserData.prototype.startTimeTick=function(){var _this=this;if(!this.isSetIntervalStart){this.isNineToFifty=false;this.isNineToFiftyFive=false;this.isTenTime=false;this.isSetIntervalStart=true;if(Game.time.checkTime(Game.time.serverMilliseconds,21,50)){this.isNineToFifty=true}else{var server=Game.time.timeLeft(Game.time.serverMilliseconds,21,50);this.isNineToFiftyTimeOuntNum=setTimeout(function(){_this.timeoutToNineToFifty()},server)}if(Game.time.checkTime(Game.time.serverMilliseconds,21,55)){this.isNineToFiftyFive=true}else{var server=Game.time.timeLeft(Game.time.serverMilliseconds,21,55);this.isNineToFiftyFiveTimeOuntNum=setTimeout(function(){_this.timeoutToNineToFiftyFive()},server)}if(Game.time.checkTime(Game.time.serverSeconds,22,0)){this.isTenTime=true}else{var server=Game.time.timeLeft(Game.time.serverMilliseconds,22,0);this.isNineToTenTimeOuntNum=setTimeout(function(){_this.timeoutToTen()},server)}var client=Game.time.timeLeft(Game.time.serverMilliseconds,24,0);this.isNineToZeroTimeOuntNum=setTimeout(function(){_this.timeoutToZero()},client)}};UserData.prototype.timeoutToNineToFifty=function(){this.isNineToFifty=true;Game.event.dispatch(GameEventKey.GameEventKey_TimeLimitRemind50,Games.TimeLimitType.NineToFifty)};UserData.prototype.timeoutToNineToFiftyFive=function(){this.isNineToFiftyFive=true;Game.event.dispatch(GameEventKey.GameEventKey_TimeLimitRemind,Games.TimeLimitType.NineToFiftyFive)};UserData.prototype.timeoutToTen=function(){this.isTenTime=true};UserData.prototype.timeoutToZero=function(){clearTimeout(this.isNineToFiftyTimeOuntNum);clearTimeout(this.isNineToFiftyFiveTimeOuntNum);clearTimeout(this.isNineToTenTimeOuntNum);clearTimeout(this.isNineToZeroTimeOuntNum);this.isSetIntervalStart=false;this.startTimeTick();this.isZeroTime=true;Game.event.dispatch(GameEventKey.GameEventKey_TimeLimitRemind,Games.TimeLimitType.Zero)};return UserData}());Games.UserData=UserData})(Games||(Games={}));var Games;(function(Games){var UserAccountData=(function(){function UserAccountData(){}return UserAccountData}());Games.UserAccountData=UserAccountData})(Games||(Games={}));var Games;(function(Games){var TickHandlerManager=(function(){function TickHandlerManager(){this.list=[];this.count=0;this.serverMilliseconds=0}Object.defineProperty(TickHandlerManager,"Instance",{get:function(){var Class=this;if(Class.__instance==null){Class.__instance=new Class()}return Class.__instance},enumerable:true,configurable:true});TickHandlerManager.prototype.addTick=function(took){this.list.push(took)};TickHandlerManager.prototype.initTookList=function(){for(var itemKey in Games.Ticks){var cls=Games.Ticks[itemKey];var obj=new cls();this.addTick(obj)}};TickHandlerManager.prototype.start=function(){this.initTookList();this.count=this.list.length;Laya.timer.loop(1000,this,this.onTick)};TickHandlerManager.prototype.stop=function(){Laya.timer.clear(this,this.onTick)};TickHandlerManager.prototype.onTick=function(){this.serverMilliseconds=Game.time.localTime;for(var i=0;i<this.count;i++){var took=this.list[i];if(this.validate(took)){took.update()}}};TickHandlerManager.prototype.validate=function(took){var result=this.serverMilliseconds-took.lastUpdateTime>=took.heartbeat;if(result){if(!took.isInited){took.beginInit();result=took.isInited}if(result){result=took.precondition()}}return result};return TickHandlerManager}());Games.TickHandlerManager=TickHandlerManager})(Games||(Games={}));var Games;(function(Games){var TickHandler=(function(){function TickHandler(){this.heartbeat=1000;this.isInited=false;this.lastUpdateTime=0}TickHandler.prototype.beginInit=function(){};TickHandler.prototype.endInit=function(){this.isInited=true};TickHandler.prototype.precondition=function(){return true};TickHandler.prototype.update=function(){};return TickHandler}());Games.TickHandler=TickHandler})(Games||(Games={}));var Games;(function(Games){var Tick=(function(){function Tick(){this.isStart=false;this.curentTimes=0;this.currentClock=0}Tick.CreateTick=function(distance,targetTimes,clockHandler,finishHandler){var tick=new Tick();tick.isStart=false;tick.distance=distance;tick.targetTimes=targetTimes;tick.clockHandler=clockHandler;tick.finishHandler=finishHandler;return tick};Tick.prototype.UpdateTime=function(){if(!this.isStart){return}this.currentClock++;if(this.currentClock>=this.distance){this.currentClock=0;this.curentTimes++;if(this.targetTimes>0&&this.curentTimes>=this.targetTimes){if(this.finishHandler){this.isStart=false;this.finishHandler.run()}}else{if(this.clockHandler){this.clockHandler.runWith(this.targetTimes-this.curentTimes)}}}};Object.defineProperty(Tick.prototype,"Times",{get:function(){return this.curentTimes},enumerable:true,configurable:true});Tick.prototype.SetDistance=function(distance){this.distance=distance;return this};Tick.prototype.SetTargetTimes=function(target){this.targetTimes=target;return this};Tick.prototype.Start=function(){this.isStart=true;if(this.clockHandler){this.clockHandler.runWith(this.targetTimes-this.curentTimes)}};Tick.prototype.Restart=function(){this.curentTimes=0;this.currentClock=0;this.isStart=true;if(this.clockHandler){this.clockHandler.runWith(this.targetTimes-this.curentTimes)}};Tick.prototype.Continue=function(){this.isStart=true};Tick.prototype.Stop=function(){this.isStart=false};return Tick}());Games.Tick=Tick;var TickManager=(function(){function TickManager(){this.list=new Array()}TickManager.prototype.install=function(){var tick=this.AddTick(1,0,null,null);tick.Start();Laya.timer.loop(1000,this,this.LoopUpdateTime)};TickManager.prototype.AddTick=function(distance,targetTimes,clockHandler,finishHandler){var tick=Tick.CreateTick(distance,targetTimes,clockHandler,finishHandler);this.list.push(tick);return tick};TickManager.prototype.ClearTick=function(tick){var index=this.list.indexOf(tick);if(index>=0){this.list.splice(index,1)}};TickManager.prototype.LoopUpdateTime=function(){for(var _i=0,_a=this.list;_i<_a.length;_i++){var tick=_a[_i];this.UpdateTime(tick)}};TickManager.prototype.UpdateTime=function(tick){tick.UpdateTime()};return TickManager}());Games.TickManager=TickManager})(Games||(Games={}));var Games;(function(Games){var TypeWriteManager=(function(){function TypeWriteManager(){this.typewriteDict=new Dictionary();this.pools=new Array();this.id=0}TypeWriteManager.prototype.getTypeByPool=function(){var data;if(this.pools.length>0){data=this.pools[0];this.pools.splice(0,1)}return data};TypeWriteManager.prototype.createTypeWrite=function(){var data=this.getTypeByPool();if(data==null){data=new Games.TypeWriteData();this.id++;data.id=this.id;this.typewriteDict.add(this.id,data)}return data};TypeWriteManager.prototype.getTypeWriteDataById=function(id){return this.typewriteDict.getValue(id)};TypeWriteManager.prototype.stopById=function(id){var data=this.getTypeWriteDataById(id);if(data){data.stopTypeWrite()}};TypeWriteManager.prototype.removeToPool=function(id){var data=this.getTypeWriteDataById(id);if(data){data.stopTypeWrite();this.pools.push(data)}};return TypeWriteManager}());Games.TypeWriteManager=TypeWriteManager})(Games||(Games={}));var Games;(function(Games){var NoticeModel=(function(){function NoticeModel(){this.listNotice=[];this.dicNotice=new Dictionary()}NoticeModel.prototype.install=function(){};NoticeModel.prototype.UpdateNoticeMsg=function(msg){for(var index=0;index<msg.length;index++){var data=msg[index];if(this.dicNotice.getValue(data.messageDetailUrl)==null){var notice=Games.NoticeData.CreateByProto(data);this.dicNotice.add(data.messageDetailUrl,notice)}}};NoticeModel.prototype.LocalData=function(){var _this=this;var data=new Proto.SS.Notice();data.content="test--------test";data.title="test";data.itemList=[];data.messageDetailUrl=(Game.time.serverSeconds+60).toString();this.UpdateNoticeMsg([data]);setTimeout(function(){_this.UpdateNoticeMsg([data])},5000)};return NoticeModel}());Games.NoticeModel=NoticeModel})(Games||(Games={}));var Games;(function(Games){var LangModel=(function(){function LangModel(){}LangModel.level="{0}级";return LangModel}());Games.LangModel=LangModel})(Games||(Games={}));var Games;(function(Games){var MenuWindows=(function(){function MenuWindows(){}MenuWindows.get=function(menuId){return MenuWindows.dict.getValue(menuId)};MenuWindows.add=function(menuId,windowClass){MenuWindows.dict.add(menuId,new Games.ModuleConfig(menuId,windowClass))};MenuWindows.install=function(){MenuWindows.add(Games.MenuId.Login,Games.LoginWindow);MenuWindows.add(Games.MenuId.CreateRole,Games.CreateRoleWindow);MenuWindows.add(Games.MenuId.Home,Games.HomeWindow);MenuWindows.add(Games.MenuId.Produce,Games.ProduceWindow);MenuWindows.add(Games.MenuId.Market,Games.MarketWindow);MenuWindows.add(Games.MenuId.Bag,Games.BagWindow);MenuWindows.add(Games.MenuId.Order,Games.OrderWindow);MenuWindows.add(Games.MenuId.ArtistList,Games.ArtistListWindow);MenuWindows.add(Games.MenuId.ArtistDetail,Games.ArtistDetailWindow);MenuWindows.add(Games.MenuId.ActorDetail,Games.ActorDetailWindow);MenuWindows.add(Games.MenuId.ArtistFrozen,Games.ArtistFrozenWindow);MenuWindows.add(Games.MenuId.ArtistScoutResult,Games.ArtistScoutResultWindow);MenuWindows.add(Games.MenuId.ArtistScoutSuccess,Games.ArtistScoutSuccessWindow);MenuWindows.add(Games.MenuId.ArtistTrain,Games.ArtistTrainWindow);MenuWindows.add(Games.MenuId.ArtistTrainResult,Games.ArtistTrainResultWindow);MenuWindows.add(Games.MenuId.ArtistGet,Games.ArtistGetWindow);MenuWindows.add(Games.MenuId.ArtistShare,Games.ArtistShareWindow);MenuWindows.add(Games.MenuId.ArtListExercise,Games.ArtListExerciseWindow);MenuWindows.add(Games.MenuId.Artist,Games.ArtistDirectoryWindow);MenuWindows.add(Games.MenuId.PlayerInfo,Games.PlayerInfoWindow);MenuWindows.add(Games.MenuId.War,Games.WarWindow);MenuWindows.add(Games.MenuId.StoryLibrary,Games.StoryLibraryWindow);MenuWindows.add(Games.MenuId.StoryInfo,Games.StoryInfoWindow);MenuWindows.add(Games.MenuId.Mail,Games.MailWindow);MenuWindows.add(Games.MenuId.Rank,Games.RankWindow);MenuWindows.add(Games.MenuId.Mission,Games.MissionWindow);MenuWindows.add(Games.MenuId.MissionReward,Games.MissionWindow);MenuWindows.add(Games.MenuId.SystemSetting,Games.SysSettingWindow);MenuWindows.add(Games.MenuId.Event,Games.ActivityWindow);MenuWindows.add(Games.MenuId.Weal,Games.ActivityWindow);MenuWindows.add(Games.MenuId.Shop,Games.ShopWindow);MenuWindows.add(Games.MenuId.Recharge,Games.RechargeWindow);MenuWindows.add(Games.MenuId.Fans,Games.VisitWindow);MenuWindows.add(Games.MenuId.Official,Games.BusinessWindow);MenuWindows.add(Games.MenuId.Meeting,Games.MeetingWindow);MenuWindows.add(Games.MenuId.Street,Games.StreetWindow);MenuWindows.add(Games.MenuId.Awards,Games.OscarWindow);MenuWindows.add(Games.MenuId.Notice,Games.PublicNoticeWindow);MenuWindows.add(Games.MenuId.MainTask,Games.MainTaskWindow);MenuWindows.add(Games.MenuId.Cooperation,Games.CooperationWindow);MenuWindows.add(Games.MenuId.BuildRoomUpgrade,Games.BuildRoomUpgradeWindow);MenuWindows.add(Games.MenuId.BuildRoomList,Games.BuildRoomListWindow)};MenuWindows.dict=new Dictionary();return MenuWindows}());Games.MenuWindows=MenuWindows})(Games||(Games={}));var Games;(function(Games){var MenuId;(function(MenuId){MenuId[MenuId.Home=1]="Home";MenuId[MenuId.Login=101]="Login";MenuId[MenuId.CreateRole=102]="CreateRole";MenuId[MenuId.PlayerInfo=103]="PlayerInfo";MenuId[MenuId.Rank=104]="Rank";MenuId[MenuId.MainTask=105]="MainTask";MenuId[MenuId.Street=106]="Street";MenuId[MenuId.Notice=107]="Notice";MenuId[MenuId.War=3]="War";MenuId[MenuId.Market=5]="Market";MenuId[MenuId.Bag=6]="Bag";MenuId[MenuId.ArtistList=4]="ArtistList";MenuId[MenuId.ArtistDetail=401]="ArtistDetail";MenuId[MenuId.ActorDetail=402]="ActorDetail";MenuId[MenuId.ArtistFrozen=403]="ArtistFrozen";MenuId[MenuId.ArtistScoutResult=404]="ArtistScoutResult";MenuId[MenuId.ArtistScoutSuccess=405]="ArtistScoutSuccess";MenuId[MenuId.ArtistTrain=406]="ArtistTrain";MenuId[MenuId.ArtistTrainResult=407]="ArtistTrainResult";MenuId[MenuId.ArtistGet=408]="ArtistGet";MenuId[MenuId.ArtistShare=409]="ArtistShare";MenuId[MenuId.ArtListExercise=410]="ArtListExercise";MenuId[MenuId.Shop=21]="Shop";MenuId[MenuId.Recharge=22]="Recharge";MenuId[MenuId.Mission=23]="Mission";MenuId[MenuId.MissionReward=231]="MissionReward";MenuId[MenuId.Weal=24]="Weal";MenuId[MenuId.Event=25]="Event";MenuId[MenuId.SuperIdol=26]="SuperIdol";MenuId[MenuId.SystemSetting=31]="SystemSetting";MenuId[MenuId.Mail=32]="Mail";MenuId[MenuId.Chat=33]="Chat";MenuId[MenuId.Awards=41]="Awards";MenuId[MenuId.Goal=42]="Goal";MenuId[MenuId.Produce=51]="Produce";MenuId[MenuId.Order=52]="Order";MenuId[MenuId.Official=53]="Official";MenuId[MenuId.Fans=54]="Fans";MenuId[MenuId.Meeting=55]="Meeting";MenuId[MenuId.StoryLibrary=61]="StoryLibrary";MenuId[MenuId.Cinemas=62]="Cinemas";MenuId[MenuId.Screenwriter=63]="Screenwriter";MenuId[MenuId.Artist=64]="Artist";MenuId[MenuId.Treasure=65]="Treasure";MenuId[MenuId.StoryInfo=6101]="StoryInfo";MenuId[MenuId.Group=71]="Group";MenuId[MenuId.Leader=72]="Leader";MenuId[MenuId.Cooperation=73]="Cooperation";MenuId[MenuId.CooperationTask=81]="CooperationTask";MenuId[MenuId.CooperatOrder=82]="CooperatOrder";MenuId[MenuId.CooperatSentDollar=83]="CooperatSentDollar";MenuId[MenuId.CooperatSentGold=84]="CooperatSentGold";MenuId[MenuId.SubMenuButtonBegin=10000]="SubMenuButtonBegin";MenuId[MenuId.Run=10001]="Run";MenuId[MenuId.Manage=10002]="Manage";MenuId[MenuId.Social=10003]="Social";MenuId[MenuId.BuildRoomUpgrade=201]="BuildRoomUpgrade";MenuId[MenuId.BuildRoomList=202]="BuildRoomList"})(MenuId=Games.MenuId||(Games.MenuId={}))})(Games||(Games={}));var Games;(function(Games){var GuideWindow=(function(){function GuideWindow(){this.checkBtnExistHandler=0;this.isLoadComplete=false;this.hasPlayGuide=false;this.isLoading=false}GuideWindow.prototype.loadAsset=function(){Laya.loader.load([{url:"res/fgui/Guide.bin",type:Laya.Loader.BUFFER},{url:"res/fgui/Guide@atlas0.png",type:Laya.Loader.IMAGE}],Laya.Handler.create(this,this.onLoadedComplete))};GuideWindow.prototype.onLoadedComplete=function(){this.isLoadComplete=true;fairygui.UIPackage.addPackage("res/fgui/Guide");if(this.hasPlayGuide){this.play(this.currentId,this.currentType)}};GuideWindow.prototype.show=function(){if(this._guideUI){this._guideUI.visible=true}};GuideWindow.prototype.hide=function(){if(this._guideUI){this._guideUI.recyclingHand();this._guideUI.visible=false}};Object.defineProperty(GuideWindow.prototype,"guideUI",{get:function(){if(this._guideUI==null){this._guideUI=fgui.Guide.GuideUI.createInstance();this._guideUI.onClick(this,this.onClickToNext);Games.MenuLayer.guide.addChild(this._guideUI)}return this._guideUI},enumerable:true,configurable:true});GuideWindow.prototype.onClickToNext=function(){switch(this.clickFullType){case Games.GuideFullClickType.NextGuide:this.playNext();break;case Games.GuideFullClickType.CompleteWrite:this.guideUI.directComplete();break;case Games.GuideFullClickType.NextStory:this.playNext();break;default:break}};GuideWindow.prototype.play=function(id,type){this.show();this.currentId=id;this.currentType=type;this.clickFullType=Games.GuideFullClickType.None;if(this.isLoadComplete==false){this.hasPlayGuide=true;this.loadAsset()}else{switch(type){case Games.GuideType.Story:this.playStory(id);break;case Games.GuideType.Guide:this.playGuide(id);break;default:break}}};GuideWindow.prototype.playNext=function(){switch(this.currentType){case Games.GuideType.Guide:this.playNextGuide();break;case Games.GuideType.Story:this.playNextStory();break;default:break}};GuideWindow.prototype.playNextGuide=function(){Game.guide.playNextGuide()};GuideWindow.prototype.playNextStory=function(){Game.guide.playNextStory()};GuideWindow.prototype.endStory=function(){console.log("结束剧情");Game.guide.endStory()};GuideWindow.prototype.endGuide=function(){console.log("结束引导");clearInterval(this.checkBtnExistHandler);Game.guide.endGuide()};GuideWindow.prototype.pauseGuide=function(){console.log("暂停引导");this.hide()};GuideWindow.prototype.pauseStory=function(){console.log("暂停剧情");this.hide()};GuideWindow.prototype.onClickBtn=function(btn,config){clearInterval(this.checkBtnExistHandler);this.hide();if(config.finish_type==Games.GuideFinishType.GuideFinishType_20_ClickTarget){Game.guide.finishId(this.guideSystemConfig.id)}Laya.stage.off(Laya.Event.CLICK,this,this.onClickStageToNext);btn.offClick(this,this.onClickBtn)};GuideWindow.prototype.getGuideBtn=function(config){var btn=GuideHelp.getGuideUIByConfig(config);return btn};GuideWindow.prototype.playStory=function(id){this.clickFullType=Games.GuideFullClickType.None;var config=Game.config.storyline.getConfig(id);if(config){switch(config.ui_type){case Games.GuideUIType.NpcIntro:this.playNpcIntro(id);break;case Games.GuideUIType.HaiBao:this.playHaiBao(id);break;default:this.playStoryDialog(id);break}}this.storylineConfig=config};GuideWindow.prototype.playNpcIntro=function(id){var _this=this;var config=Game.config.storyline.getConfig(id);this.guideUI.showNpcUI(config,this,this.dialogClickComplete);setTimeout(function(){_this.clickFullType=Games.GuideFullClickType.NextStory},500)};GuideWindow.prototype.playHaiBao=function(id){var config=Game.config.storyline.getConfig(id);this.guideUI.showHaiBao(contentFormatCustom(config.ui_content),this,this.dialogClickComplete)};GuideWindow.prototype.playStoryDialog=function(id){var _this=this;var config=Game.config.storyline.getConfig(id);var url=config.bodyIconUrl;var name=config.nName;var msg=config.contentFormatCustom;if(config){console.log("id",id,"msg",config.contentFormatCustom,url);if(config.anchor==Games.GuideAnchor.Left){this.guideUI.showLeftDialog(url,name,msg,this,function(){_this.clickFullType=Games.GuideFullClickType.CompleteWrite},this.dialogShowComplete)}else{this.guideUI.showRightDialog(url,name,msg,this,function(){_this.clickFullType=Games.GuideFullClickType.CompleteWrite},this.dialogShowComplete)}}};GuideWindow.prototype.playGuide=function(id){var _this=this;this.clickFullType=Games.GuideFullClickType.None;var config=Game.config.guidesystem.getConfig(id);if(config){config.force=false;this.guideUI.setForce(config.force);Laya.stage.off(Laya.Event.CLICK,this,this.onClickStageToNext);if(config.assistant){this.showDialog=true;this.guideUI.showDialog(config.content,config.position);this.guideUI.m_dialog.m_t0.play(Handler.create(null,function(){Laya.stage.on(Laya.Event.CLICK,_this,_this.onClickStageToHideDialog)}),1)}else{this.guideUI.hideAll()}clearInterval(this.checkBtnExistHandler);this.checkBtnExistHandler=setInterval(function(){_this.checkBtn(config)},1000);this.checkBtn(config)}else{console.error("没有找到配置Guidesystem id=",id)}this.guideSystemConfig=config};GuideWindow.prototype.checkBtn=function(config){var _this=this;if(config.finish_type==Games.GuideFinishType.GuideFinishType_24_ClickAnyWhere){clearInterval(this.checkBtnExistHandler);Laya.stage.on(Laya.Event.CLICK,this,this.onClickStageToNext)}else{var btn_1=this.getGuideBtn(config);if(btn_1){console.log("按钮:",btn_1);clearInterval(this.checkBtnExistHandler);this.guideUI.showFinger(btn_1,config);if(config.force){btn_1.onClick(this,this.onClickBtn,[btn_1,config])}else{setTimeout(function(){btn_1.onClick(_this,_this.onClickBtn,[btn_1,config])},200)}}}};GuideWindow.prototype.onClickStageToHideDialog=function(){Laya.stage.off(Laya.Event.CLICK,this,this.onClickStageToHideDialog);if(this.showDialog){this.guideUI.m_dialog.m_t1.play(null,1)}};GuideWindow.prototype.onClickStageToNext=function(event){Laya.stage.off(Laya.Event.CLICK,this,this.onClickStageToNext);clearInterval(this.checkBtnExistHandler);Game.guide.finishId(this.guideSystemConfig.id)};GuideWindow.prototype.dialogShowComplete=function(){this.clickFullType=Games.GuideFullClickType.NextGuide};GuideWindow.prototype.dialogClickComplete=function(){this.playNext()};return GuideWindow}());Games.GuideWindow=GuideWindow})(Games||(Games={}));var Games;(function(Games){var GuideManager=(function(){function GuideManager(){this.currentGuideId=0;this.currentStoryId=0;this.guideList=new Array();this.storyList=new Array();this.guideFinishDict=new Dictionary();this.storyFinishDict=new Dictionary();this.forcePlay=false;this.fristGuideId=100101;this.initGuideEvent()}GuideManager.prototype.initGuideEvent=function(){this.guideEvents=new Dictionary();this.guideEvents.add(Games.GuideFinishType.GuideFinishType_3_UpgradeActor,[ProtoEventKey.ActorData]);this.guideEvents.add(Games.GuideFinishType.GuideFinishType_5_StreetPublicize,[ProtoEventKey.city_Propaganda]);this.guideEvents.add(Games.GuideFinishType.GuideFinishType_17_DoBusiness,[ProtoEventKey.manageBusiness_GetReward]);this.guideEvents.add(Games.GuideFinishType.GuideFinishType_25_OrderIntoBox,[ProtoEventKey.manageOrder_PutItem])};GuideManager.prototype.dealyCheckGuide=function(){var _this=this;if(this.dealyPlayGuideHandler>0){clearTimeout(this.dealyPlayGuideHandler)}this.dealyPlayGuideHandler=setTimeout(function(){_this.dealyPlayGuideHandler=0;_this.checkPlayGuide()},200)};GuideManager.prototype.resetGuidesFinished=function(){for(var index=0;index<this.guideList.length;index++){var element=this.guideList[index];var config=Game.config.guidesystem.getConfig(element);this.guideFinishDict.add(element,false)}Game.guide.dealyCheckGuide()};GuideManager.prototype.initFirstGuide=function(id){this.clearGuide();this.guideList.push(id);this.guideFinishDict.add(id,false);this.dealyCheckGuide()};GuideManager.prototype.finishInitActor=function(){if(this.storylineConfig&&this.storylineConfig.ui_type==Games.GuideUIType.InitAcotr){Game.moduleModel.guide.addFinishStoryId(this.storylineConfig.id)}};GuideManager.prototype.removeMenuEventListener=function(){Game.event.remove(GameEventKey.GameFrame_OpenMenu,this.openMenuHandler,this);Game.event.remove(GameEventKey.GameFrame_CloseMenu,this.closeMenuHandler,this)};GuideManager.prototype.openMenuHandler=function(){console.log("打开界面判断引导");this.dealyCheckGuide()};GuideManager.prototype.closeMenuHandler=function(){console.log("关闭界面判断引导");this.dealyCheckGuide()};GuideManager.prototype.addMenuEventListener=function(){this.removeMenuEventListener();Game.event.add(GameEventKey.GameFrame_OpenMenu,this.openMenuHandler,this);Game.event.add(GameEventKey.GameFrame_CloseMenu,this.closeMenuHandler,this)};GuideManager.prototype.checkPlayGuide=function(){if(this.currentStoryId>0){return}if(this.guideList.length>0){this.checkFinishGuide();var isPlay=false;for(var index=0;index<this.guideList.length;index++){var id=this.guideList[index];var config=Game.config.guidesystem.getConfig(id);if(config){var isFinished=this.guideFinishDict.getValue(config.id);var menuId=GuideHelp.getGuideMenuIdByConfig(config.path_id);var isCanPlay=this.getIsCanPlay(config);var menuIsOpen=GuideHelp.getIsOpenSubIdByConfig(config.path_id);var isLast=Game.menu.getLastOpenMenuId()==menuId;if(menuIsOpen&&isLast&&(isFinished==false||isFinished==null)&&isCanPlay){this.play(config.id,Games.GuideType.Guide);isPlay=true;break}else{if(isFinished){var storyId=config.storyline_id;if(storyId>0&&this.storyFinishDict.getValue(storyId)!=true&&Game.moduleModel.guide.isStoryFinished(storyId)==false){this.playStory(storyId);return}}if(isCanPlay==false&&(config.trigger_type==2||config.trigger_type==3)){this.readyPlayGuide(config.trigger_value);return}else{}}}}if(isPlay==false){this.endGuide()}}};GuideManager.prototype.readyPlayGuide=function(id,forcePlay){if(forcePlay===void 0){forcePlay=false}this.addMenuEventListener();this.forcePlay=forcePlay;console.log("预备播放引导id",id);this.clearGuide();var config=Game.config.guidesystem.getConfig(id);if(config){var list=Game.config.guidesystem.getConfigsByGroup(config.group);if(list){for(var index=0;index<list.length;index++){var element=list[index];this.guideList.push(element.id);this.addGuideEventListener(element.id);this.guideFinishDict.add(element.id,false);if(this.getIsFinished(element)&&element.storyline_id>0){this.storyFinishDict.add(element.storyline_id,true)}}}this.dealyCheckGuide()}};GuideManager.prototype.addGuideEventListener=function(id){var guideSystemConfig=Game.config.guidesystem.getConfig(id);if(this.guideEvents.hasKey(guideSystemConfig.finish_type)){var keys=this.guideEvents.getValue(guideSystemConfig.finish_type);for(var index=0;index<keys.length;index++){var element=keys[index];Game.protoOkEvent.add(element,this.onServerHandler,this)}}};GuideManager.prototype.onServerHandler=function(){this.dealyCheckGuide()};GuideManager.prototype.removeGuideEventListener=function(id){var guideSystemConfig=Game.config.guidesystem.getConfig(id);if(this.guideEvents.hasKey(guideSystemConfig.finish_type)){var keys=this.guideEvents.getValue(guideSystemConfig.finish_type);for(var index=0;index<keys.length;index++){var element=keys[index];Game.protoOkEvent.remove(element,this.onServerHandler,this)}}};GuideManager.prototype.checkPlayStorySelectStoryOrActor=function(){var play=false;var storylineConfigs=Game.config.storyline.getConfigByTrigger(Games.StoryTriggerType.SelectStoryMoneyNotEnough);for(var index=0;index<storylineConfigs.length;index++){var element=storylineConfigs[index];if(Game.moduleModel.guide.isStoryFinished(element.id)==false){play=true;this.checkPlayStoryByType(Games.StoryTriggerType.SelectStoryMoneyNotEnough)}}return play};GuideManager.prototype.checkOpenOscarWindow=function(step,callback){this.storyCallBack=callback;var storylineConfigs=Game.config.storyline.getConfigByTrigger(Games.StoryTriggerType.OpenOscar);var play=false;for(var index=0;index<storylineConfigs.length;index++){var element=storylineConfigs[index];if(Game.moduleModel.guide.isStoryFinished(element.id)==false&&step==element.value){play=true;this.checkPlayStoryByType(Games.StoryTriggerType.OpenOscar)}}if(play==false){this.triggerStoryCallBack()}};GuideManager.prototype.triggerStoryCallBack=function(){if(this.storyCallBack){this.storyCallBack();this.storyCallBack=null}};GuideManager.prototype.checkPlayStoryByType=function(type,value){if(value===void 0){value=0}var isPlay=false;var list;if(type==Games.StoryTriggerType.MainUI){list=Game.config.storyline.getConfigList()}else{list=Game.config.storyline.getConfigByTrigger(type)}if(list){for(var index=0;index<list.length;index++){var element=list[index];if(Game.moduleModel.guide.isStoryFinished(element.id)==false){switch(element.trigger){case Games.StoryTriggerType.Create:this.playStory(element.id);break;case Games.StoryTriggerType.SelectActor:if(Game.moduleModel.actor.getAllActorLen()==1){this.playStory(element.id)}break;case Games.StoryTriggerType.FinishStreet:if(Game.moduleModel.market.IsTaskCityPointFinish(element.value)){this.playStory(element.id)}break;case Games.StoryTriggerType.FinishRoadShow:if(Game.moduleModel.market.IsTaskRoadShowFinish(element.value)){this.playStory(element.id)}break;case Games.StoryTriggerType.FinishBuild:if(Game.moduleModel.building.hasBuildById(element.value)){this.playStory(element.id)}break;case Games.StoryTriggerType.FinishPreGuide:break;case Games.StoryTriggerType.OpenMenu:break;case Games.StoryTriggerType.FristSumitTakeMovie:break;case Games.StoryTriggerType.FristMovieUp:if(Game.moduleModel.guide.isFinishMovieUp(element.value)){this.playStory(element.id)}break;case Games.StoryTriggerType.FinishPreStory:if(Game.moduleModel.guide.isFinishStoryGroup(element.value)){this.playStory(element.id)}break;case Games.StoryTriggerType.SelectStoryMoneyNotEnough:if(type==element.trigger){this.playStory(element.id)}break;case Games.StoryTriggerType.OpenOscar:if(type==element.trigger){this.playStory(element.id)}break;default:break}if(this.currentStoryId>0){isPlay=true;break}}else{var isFinished=Game.moduleModel.guide.isGuideOrStoryFinished(element.guide_id,element.guide_type);if(element.guide_id>0){console.log("没有完成的引导",element.guide_id,element.guide_type);if(isFinished){if(element.guide_type==Proto.SE.EGuideType.guide){Game.moduleModel.guide.addFinishGuideId(element.guide_id)}else{Game.moduleModel.guide.addFinishStoryId(element.guide_id)}Game.event.dispatch(GameEventKey.GameEventKey_ClientUpdateMainTask)}else{isPlay=true;this.playNextStoryOrGuide(element.guide_type,element.guide_id)}}}}}return isPlay};GuideManager.prototype.play=function(id,type){this.currentGuideType=type;switch(type){case Games.GuideType.Story:console.log("播放剧情：",id);this.playStory(id);break;case Games.GuideType.Guide:console.log("播放引导：",id);this.playGuide(id);break;default:break}};GuideManager.prototype.playGuide=function(id){this.currentGuideId=id;var config=Game.config.guidesystem.getConfig(id);this.guideSystemConfig=config;if(config){Game.guideUI.play(id,Games.GuideType.Guide)}};GuideManager.prototype.playStory=function(id){this.currentStoryId=id;this.storyFinishDict.add(id,true);var config=Game.config.storyline.getConfig(id);this.storylineConfig=config;if(config){switch(config.ui_type){case Games.GuideUIType.InitAcotr:if(Game.moduleModel.actor.getAllActorLen()<1){this.pauseGuide();this.playInitActory()}else{Game.moduleModel.guide.addFinishStoryId(id);this.checkNextStory()}break;default:Game.moduleModel.guide.addFinishStoryId(id);Game.guideUI.play(id,Games.GuideType.Story);break}}};GuideManager.prototype.playInitActory=function(){Game.menu.openTab(Games.MenuId.CreateRole,Games.CreateRoleTabType.InitialActor)};GuideManager.prototype.playNextStory=function(){var _this=this;if(this.storylineConfig&&this.storylineConfig.reward&&this.storylineConfig.reward.length>0){Game.guideUI.hide();Game.system.alertTextIcon(this.storylineConfig.reward,Games.TEXT.RewardTitle,function(){_this.checkNextStory()})}else{this.checkNextStory()}};GuideManager.prototype.checkNextGuide=function(){if(this.guideSystemConfig){var storyId=this.guideSystemConfig.storyline_id;if(storyId>0){this.endGuide();this.playStory(storyId)}else{var guideId=this.guideSystemConfig.id;var nextConfig=Game.config.guidesystem.getNextGuide(guideId);if(nextConfig){this.playGuide(nextConfig.id)}else{this.endGuide()}}}};GuideManager.prototype.playNextStoryOrGuide=function(guideType,guideId){switch(guideType){case Proto.SE.EGuideType.story:this.playStory(guideId);break;case Proto.SE.EGuideType.guide:this.endStory();this.readyPlayGuide(guideId);break;default:break}};GuideManager.prototype.checkNextStory=function(){if(this.storylineConfig){var guideId=this.storylineConfig.guide_id;var guideType=this.storylineConfig.guide_type;if(guideId>0){this.readyPlayGuide(guideId);this.playNextStoryOrGuide(guideType,guideId)}else{var storyId=this.storylineConfig.id;var nextConfig=Game.config.storyline.getNextStoryline(storyId);if(nextConfig){this.playStory(nextConfig.id)}else{this.triggerStoryCallBack();this.endStory()}}}};GuideManager.prototype.finishFirstStep=function(){if(this.guideSystemConfig&&this.guideSystemConfig.id==100101){Game.moduleModel.guide.addFinishGuideId(this.guideSystemConfig.id);Game.event.dispatch(GameEventKey.GameEventKey_ClientUpdateMainTask);this.clearGuide()}this.checkNextGuide()};GuideManager.prototype.playNextGuide=function(){if(this.guideSystemConfig){var storyId=this.guideSystemConfig.storyline_id;var guideId=this.guideSystemConfig.id;if(storyId>0){this.endGuide();this.play(storyId,Games.GuideType.Story)}else{var nextConfig=Game.config.guidesystem.getNextGuide(guideId);if(nextConfig){this.play(nextConfig.id,Games.GuideType.Guide)}else{this.endGuide()}}}};GuideManager.prototype.endGuide=function(){this.currentGuideId=0;this.currentGuideType=Games.GuideType.None;Game.guideUI.hide()};GuideManager.prototype.clearGuide=function(){for(var index=0;index<this.guideList.length;index++){var element=this.guideList[index];this.removeGuideEventListener(element)}this.guideList.splice(0,this.guideList.length);this.storyFinishDict.clear();this.guideFinishDict.clear()};GuideManager.prototype.pauseGuide=function(){Game.guideUI.pauseGuide()};GuideManager.prototype.pauseStory=function(){Game.guideUI.pauseStory()};GuideManager.prototype.continueGuide=function(){this.playGuide(this.currentGuideId)};GuideManager.prototype.continueStory=function(){this.playStory(this.currentStoryId)};GuideManager.prototype.endStory=function(){this.currentStoryId=0;this.currentGuideType=Games.GuideType.None;Game.guideUI.hide();this.dealyCheckGuide()};GuideManager.prototype.finishId=function(id){this.guideFinishDict.add(id,true);this.checkPlayStoryByType(Games.StoryTriggerType.FinishPreGuide,id);this.dealyCheckGuide()};GuideManager.prototype.finishGuideByType=function(trigger,value1,value2){for(var index=0;index<this.guideList.length;index++){var element=this.guideList[index];var config=Game.config.guidesystem.getConfig(element);if(config&&config.finish_type==trigger){var isFinished=false;if(value1!=null){isFinished=value1==config.finish_value_1}if(value2!=null){isFinished=isFinished&&(value2==config.finish_value_2)}this.guideFinishDict.add(element,isFinished)}}};GuideManager.prototype.checkFinishGuide=function(){var allFinished=true;for(var index=0;index<this.guideList.length;index++){var element=this.guideList[index];var config=Game.config.guidesystem.getConfig(element);var isFinished=false;if(config){if(config.id!=this.fristGuideId&&this.forcePlay==false){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){isFinished=mainTask.isFinished}}if(isFinished==false){if(config.finish_type==Games.GuideFinishType.GuideFinishType_24_ClickAnyWhere){var nextConfig=Game.config.guidesystem.getNextGuide(element);if(nextConfig&&this.getIsFinished(nextConfig)){isFinished=true}else{isFinished=this.guideFinishDict.getValue(config.id)}}else{isFinished=this.getIsFinished(config)}}}this.guideFinishDict.add(element,isFinished);if(isFinished==false){allFinished=false}}if(allFinished){this.endGuide()}};GuideManager.prototype.getIsCanPlay=function(config){var isPlay=true;switch(config.trigger_type){case 1:isPlay=this.guideFinishDict.getValue(config.trigger_value);break;case 2:isPlay=Game.moduleModel.warData.isHasContinueMovie();break;case 3:isPlay=Game.moduleModel.order.getCurrrentOrderList().length>0;break;case 4:isPlay=Game.moduleModel.building.selectRoomType==config.trigger_value;break;default:break}return isPlay};GuideManager.prototype.getIsFinished=function(config){var isFinished=false;switch(config.finish_type){case Games.GuideFinishType.GuideFinishType_1_MakeBuild:isFinished=Game.moduleModel.guide.getGuideIsMakeBuild(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_2_UpgradeBuild:isFinished=Game.moduleModel.guide.getGuideIsUpgradeBuild(config.finish_value_1,config.finish_value_2);break;case Games.GuideFinishType.GuideFinishType_3_UpgradeActor:isFinished=Game.moduleModel.guide.getGuideIsUpgradeActor(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_4_NoseActor:isFinished=Game.moduleModel.guide.getGuideIsNoseActor(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_5_StreetPublicize:isFinished=Game.moduleModel.guide.getGuideIsStreetPublicize(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_6_RoadShow:isFinished=Game.moduleModel.guide.getGuideIsRoadShow(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_7_CityFinish:isFinished=Game.moduleModel.guide.getGuideIsCityFinish(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_8_TakeMovie:isFinished=Game.moduleModel.guide.getGuideIsTakeMovie(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_9_SeeMovieReward:isFinished=Game.moduleModel.guide.getGuideIsSeeMovieReward(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_10_GetMovieReward:isFinished=Game.moduleModel.guide.getGuideIsGetMovieReward(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_11_UpgradeAttention:isFinished=Game.moduleModel.guide.getGuideIsUpgradeAttention(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_12_AppointActor:isFinished=Game.moduleModel.guide.getGuideIsAppointActor(config.finish_value_1,config.finish_value_2);break;case Games.GuideFinishType.GuideFinishType_13_ChooseFocusPointCity:isFinished=this.guideFinishDict.getValue(config.id);break;case Games.GuideFinishType.GuideFinishType_14_GetCityReward:isFinished=this.guideFinishDict.getValue(config.id);break;case Games.GuideFinishType.GuideFinishType_15_DoPuduct:isFinished=Game.moduleModel.guide.getGuideIsDoPuduct(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_16_CompleteOrder:isFinished=Game.moduleModel.guide.getGuideIsCompleteOrder(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_17_DoBusiness:isFinished=Game.moduleModel.guide.getGuideIsDoBusiness(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_18_FansVisit:isFinished=Game.moduleModel.guide.getGuideIsFansVisit(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_19_GetTotalRewardMovie:isFinished=Game.moduleModel.guide.getGuideIsGetTotalRewardMovie(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_20_ClickTarget:isFinished=this.guideFinishDict.getValue(config.id);break;case Games.GuideFinishType.GuideFinishType_21_ExpendFloor:isFinished=Game.moduleModel.guide.getGuideIsExpendFloor(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_22_SelectContory:isFinished=Game.moduleModel.guide.getGuideIsSelectContory(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_23_SelectCity:isFinished=Game.moduleModel.guide.getGuideIsSelectCity(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_24_ClickAnyWhere:isFinished=this.guideFinishDict.getValue(config.id);break;case Games.GuideFinishType.GuideFinishType_25_OrderIntoBox:isFinished=Game.moduleModel.guide.getGuideIsOrderIntoBox(config.finish_value_1);break;case Games.GuideFinishType.GuideFinishType_26_SelectStory:if(Game.moduleModel.warData.moveData){isFinished=Game.moduleModel.warData.moveData.state>Proto.SE.EMovieState.chooseScript}else{isFinished=false}break;case Games.GuideFinishType.GuideFinishType_27_CostlicenceNum:if(Game.moduleModel.warData.moveData){isFinished=Game.moduleModel.warData.moveData.state>Proto.SE.EMovieState.chooseScript}else{isFinished=false}break;case Games.GuideFinishType.GuideFinishType_28_TakeMoiveType:if(Game.moduleModel.warData.moveData){isFinished=Game.moduleModel.warData.moveData.state>=config.finish_value_1}else{isFinished=false}break}return isFinished};return GuideManager}());Games.GuideManager=GuideManager})(Games||(Games={}));var GuideFindUIType;(function(GuideFindUIType){GuideFindUIType[GuideFindUIType.MenuId=1]="MenuId";GuideFindUIType[GuideFindUIType.UIPath=2]="UIPath";GuideFindUIType[GuideFindUIType.ListIndex=3]="ListIndex";GuideFindUIType[GuideFindUIType.ListFind=4]="ListFind";GuideFindUIType[GuideFindUIType.UICustomize=5]="UICustomize";GuideFindUIType[GuideFindUIType.UICustomizeParam=6]="UICustomizeParam"})(GuideFindUIType||(GuideFindUIType={}));var GuideFindUIMenuIdParameter=(function(){function GuideFindUIMenuIdParameter(){}return GuideFindUIMenuIdParameter}());var GuideFindUIPathParameter=(function(){function GuideFindUIPathParameter(){}return GuideFindUIPathParameter}());var GuideFindUIListIndexParameter=(function(){function GuideFindUIListIndexParameter(){}return GuideFindUIListIndexParameter}());var GuideFindUIListFindParameter=(function(){function GuideFindUIListFindParameter(){}return GuideFindUIListFindParameter}());var GuideHelp=(function(){function GuideHelp(){}GuideHelp.getGuideMenuIdByConfig=function(id){var config=Game.config.guidePath.getConfig(id);if(config){return config.menuid}return 0};GuideHelp.getGuideMenuWindow=function(config,systemCfg){switch(config.find_ui_type){case GuideFindUIType.MenuId:GuideHelp.findMenuIdParameter.menuId=config.sub_id;return GuideHelp.getUIForMenuId(GuideHelp.findMenuIdParameter);default:var menuCtl=Game.menu.getMenuCtl(config.menuid);if(menuCtl&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;if(config.sub_id>0){return content.getSubwindow(config.sub_id)}return content}}return null};GuideHelp.getIsOpenSubIdByConfig=function(id){var config=Game.config.guidePath.getConfig(id);var isOpen=true;if(config){isOpen=Game.menu.getLastOpenMenuId()==config.menuid;if(isOpen){var subId=config.sub_id;if(subId>0){if(config.find_ui_type==GuideFindUIType.MenuId){var menuCtl=Game.menu.getMenuCtl(MenuId.Home);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow.contentPane){var mainUI=menuCtl.moduleWindow.contentPane;isOpen=mainUI.getSubmenuIsOpened(Game.config.menu.getConfig(subId).barType)}}else{isOpen=Game.menu.isOpenedSubOrTab(config.menuid,subId)}}}}return isOpen};GuideHelp.getGuideUIByConfig=function(systemCfg){var config=Game.config.guidePath.getConfig(systemCfg.path_id);if(config){switch(config.find_ui_type){case GuideFindUIType.MenuId:GuideHelp.findMenuIdParameter.menuId=config.sub_id;return GuideHelp.getUIForMenuId(GuideHelp.findMenuIdParameter);case GuideFindUIType.UIPath:GuideHelp.findUIPathParameter.menuId=config.menuid;GuideHelp.findUIPathParameter.uiPath=config.path;return GuideHelp.getUIForMenuUIPath(GuideHelp.findUIPathParameter);case GuideFindUIType.ListIndex:GuideHelp.findUIListIndexParameter.index=config.list_index;GuideHelp.findUIListIndexParameter.itemUIPath=config.path;GuideHelp.findUIPathParameter.menuId=config.menuid;GuideHelp.findUIPathParameter.uiPath=config.list_path;GuideHelp.findUIListIndexParameter.listUIPath=GuideHelp.findUIPathParameter;return GuideHelp.getUIForListIndex(GuideHelp.findUIListIndexParameter);case GuideFindUIType.ListFind:break;case GuideFindUIType.UICustomize:return GuideHelp.getUIForCustomize(config);case GuideFindUIType.UICustomizeParam:return GuideHelp.getUIForCustomizeParam(config,systemCfg)}}return null};GuideHelp.getUIForCustomize=function(config){var menuCtl=Game.menu.getMenuCtl(config.menuid);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;return GuideHelp.getUIForFuncPath(content,config.path)}return null};GuideHelp.getUIForCustomizeParam=function(config,systemCfg){var menuCtl=Game.menu.getMenuCtl(config.menuid);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;var args=[];if(systemCfg.path_par1!=null){args.push(systemCfg.path_par1)}return GuideHelp.getUIForFuncPathParam(content,config.path,args)}return null};GuideHelp.getIsOpenMenuByMenuId=function(menuId){var menuCtl=Game.menu.getMenuCtl(menuId);if(menuCtl&&menuCtl.state==Games.MenuCtlStateType.Opened){return true}return false};GuideHelp.getUIForMenuId=function(parameter){var menuCtl=Game.menu.getMenuCtl(MenuId.Home);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow.contentPane){var mainUI=menuCtl.moduleWindow.contentPane;var menuButtonCtl=mainUI.getMenu(parameter.menuId);if(menuButtonCtl){return menuButtonCtl.button}}return null};GuideHelp.getUIForMenuUIPath=function(parameter){if(parameter.menuId){var menuCtl=Game.menu.getMenuCtl(parameter.menuId);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;return GuideHelp.getUIForPath(content,parameter.uiPath)}}else{return getFieldValueForPath(parameter.uiPath)}return null};GuideHelp.getUIForPath=function(content,uiPath){return getFieldValueForPath(uiPath,content)};GuideHelp.getUIForFuncPath=function(content,funcPath){return getFunResultForPath(funcPath,content)};GuideHelp.getUIForFuncPathParam=function(content,funcPath){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}return getFunResultForPath(funcPath,content,args)};GuideHelp.getUIForListIndex=function(parameter){var listUI=GuideHelp.getUIForMenuUIPath(parameter.listUIPath);if(listUI&&listUI.numItems>parameter.index){listUI.scrollToView(parameter.index);var itemUI=listUI.getChildAt(listUI.itemIndexToChildIndex(parameter.index));if(itemUI){if(isNullOrEmpty(parameter.itemUIPath)){return itemUI}else{return GuideHelp.getUIForPath(itemUI,parameter.itemUIPath)}}}return null};GuideHelp.getUIListIndex=function(listUI,index){if(listUI&&listUI.numItems>index){listUI.scrollToView(index);var itemUI=listUI.getChildAt(listUI.itemIndexToChildIndex(index));if(itemUI){return itemUI}}return null};GuideHelp.getUIForListFind=function(parameter){var listUI=GuideHelp.getUIForMenuUIPath(parameter.listUIPath);if(listUI){var dataList=getValueForPath(parameter.dataListPath);if(dataList!=null){var selectIndex=-1;for(var i=0;i<dataList.length;i++){var itemData=dataList[i];if(itemData){var itemValue=getFieldValueForPath(parameter.itemDataFieldName,itemData);if(itemValue==parameter.itemDataValue){selectIndex=i;break}}}if(selectIndex!=-1){listUI.scrollToView(selectIndex);var itemUI=listUI.getChildAt(listUI.itemIndexToChildIndex(selectIndex));if(itemUI){return GuideHelp.getUIForPath(itemUI,parameter.itemUIPath)}}}}return null};GuideHelp.findMenuIdParameter=new GuideFindUIMenuIdParameter;GuideHelp.findUIListParameter=new GuideFindUIListFindParameter;GuideHelp.findUIListIndexParameter=new GuideFindUIListIndexParameter;GuideHelp.findUIPathParameter=new GuideFindUIPathParameter;return GuideHelp}());var Games;(function(Games){var VisitData=(function(){function VisitData(){this.tomaxTimeOut=0}Object.defineProperty(VisitData.prototype,"actorId",{get:function(){return this._actorId},set:function(value){this._actorId=value;if(value>0){this.actorConfig=Game.config.actor.getConfig(value)}},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"leaveTime",{get:function(){return this.startTime+EManageVisit.overdueTime},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;if(this._id>0){this.config=Game.config.visit.getConfig(value)}},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"nextFansNum",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastTime;var duration=Math.max(0,nowTime-lastTime);var num=Math.floor(duration/this.intervalTime);if(this.isWaiting){num=num+1}num=Math.min(this.lineLimit,num);return num},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"isLeave",{get:function(){var nowTime=Game.time.serverSeconds;var nextTime=this.leaveTime;var duration=Math.max(0,nextTime-nowTime);var b=false;if(duration<=0){b=true}return b},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"isWaiting",{get:function(){var b=false;if(this.id>0&&this._actorId>0&&this.isLeave==false){b=true}return b},enumerable:true,configurable:true});VisitData.prototype.clearVisitTimeOut=function(){clearTimeout(this.visitTimeOut)};VisitData.prototype.starTimeToVisit=function(){var _this=this;this.clearVisitTimeOut();var nowTime=Game.time.serverSeconds;var nextTime=this.leaveTime;var duration=Math.max(0,nextTime-nowTime);if(this.id>0&&duration>0){this.visitTimeOut=setTimeout(function(){_this._id=0;Game.event.dispatch(GameEventKey.GameEventKey_UpdateVisitActor)},duration*1000)}};VisitData.prototype.startToMaxTime=function(){if(this.tomaxTimeOut>0){clearTimeout(this.tomaxTimeOut);this.tomaxTimeOut=0}var nowTime=Game.time.serverSeconds;var nextNum=this.nextFansNum;if(nextNum<this.lineLimit){var duration=(this.lineLimit-nextNum)*this.intervalTime;this.tomaxTimeOut=setTimeout(function(){Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)},duration*1000)}Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)};Object.defineProperty(VisitData.prototype,"nextFansComeTime",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastTime+this.intervalTime;return Math.max(0,lastTime-nowTime)},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"actorData",{get:function(){return Game.moduleModel.actor.getActor(this._actorId)},enumerable:true,configurable:true});Object.defineProperty(VisitData.prototype,"isMax",{get:function(){return this.nextFansNum>=this.lineLimit},enumerable:true,configurable:true});return VisitData}());Games.VisitData=VisitData})(Games||(Games={}));var Games;(function(Games){var TypeWriteData=(function(){function TypeWriteData(){}TypeWriteData.prototype.startTypeWrite=function(delay,src,textField,complete,update){if(update===void 0){update=null}this.src=src;this.completeFunc=complete;this.updateFunc=update;this.textField=textField;this.charIndex=0;this.curString="";Laya.timer.loop(delay,this,this.updateTime);this.updateTime()};TypeWriteData.prototype.stopTypeWrite=function(){Laya.timer.clear(this,this.updateTime)};TypeWriteData.prototype.setDelay=function(delay){Laya.timer.loop(delay,this,this.updateTime)};TypeWriteData.prototype.completeTypeWrite=function(){this.charByTimeComplete()};TypeWriteData.prototype.updateTime=function(){if(this.charIndex>=this.src.length){this.charByTimeComplete()}else{this.charByTimeUpdate();this.charIndex++}};TypeWriteData.prototype.charByTimeComplete=function(){this.textField.text=this.src;if(this.completeFunc){this.completeFunc()}this.stopTypeWrite()};TypeWriteData.prototype.charByTimeUpdate=function(){this.curString+=this.src.charAt(this.charIndex);if(this.textField){this.textField.text=this.curString}if(this.updateFunc){this.updateFunc(this.curString)}};return TypeWriteData}());Games.TypeWriteData=TypeWriteData})(Games||(Games={}));var Games;(function(Games){var TaskData=(function(){function TaskData(){}Object.defineProperty(TaskData.prototype,"progress",{get:function(){if(this.isMainTask){this.calClientProgress()}return this._progress},set:function(value){this._progress=value},enumerable:true,configurable:true});Object.defineProperty(TaskData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;this.config=Game.config.task.getConfig(value);if(this.config&&this.config.type==EAchievementType.mainTask){this.mainConfig=Game.config.maintask.getConfig(value)}},enumerable:true,configurable:true});Object.defineProperty(TaskData.prototype,"isFinished",{get:function(){if(this.isMainTask){return this.progress>=this.mainConfig.goal}return this.progress>=this.config.goal},enumerable:true,configurable:true});Object.defineProperty(TaskData.prototype,"isMainTask",{get:function(){if(this.config==null){return false}return this.config.type==EAchievementType.mainTask},enumerable:true,configurable:true});TaskData.prototype.calClientProgress=function(){if(this.mainConfig){switch(this.mainConfig.require){case Games.MainTaskRequireType.RequireType_1_MakeBuild:this.progress=Game.moduleModel.task.clientGetBuildRoomProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_2_UpgradeBuild:this.progress=Game.moduleModel.task.clientGetBuildUpgradeProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_3_UpgradeActor:this.progress=Game.moduleModel.task.clientGetUpgradeActorTimesProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_4_NoseActor:this.progress=Game.moduleModel.task.clientGetNoseActorProgress();break;case Games.MainTaskRequireType.RequireType_5_StreetPublicize:this.progress=Game.moduleModel.task.clientGetStreetPublicizeProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_6_RoadShow:this.progress=Game.moduleModel.task.clientGetRoadShowProgress();break;case Games.MainTaskRequireType.RequireType_7_CityFinish:this.progress=Game.moduleModel.task.clientGetCityFinishProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_8_TaskMovie:break;case Games.MainTaskRequireType.RequireType_9_SeeMovieReward:this.progress=Game.moduleModel.task.clientGetSeeMovieReward();break;case Games.MainTaskRequireType.RequireType_10_GetMovieReward:break;case Games.MainTaskRequireType.RequireType_11_UpgradeAttention:break;case Games.MainTaskRequireType.RequireType_12_AppointActor:this.progress=Game.moduleModel.task.clientGetAmbassadorNumProgress(this.mainConfig.r_value);break;case Games.MainTaskRequireType.RequireType_13_ChooseFocusPointCity:break;case Games.MainTaskRequireType.RequireType_14_GetCityReward:break;case Games.MainTaskRequireType.RequireType_20_OpenRank:this.progress=Game.moduleModel.task.clientGetOpenRankWindow();break;default:break}}};Object.defineProperty(TaskData.prototype,"mainTaskDesc",{get:function(){var desc=this.config.name+format(" ({0}/{1})",this.progress,this.mainConfig.goal);return desc},enumerable:true,configurable:true});return TaskData}());Games.TaskData=TaskData})(Games||(Games={}));var Games;(function(Games){var StreetData=(function(){function StreetData(){}StreetData.CreateStreet=function(id){var street=new StreetData();street.id=id;return street};Object.defineProperty(StreetData.prototype,"Name",{get:function(){return this.Cfg.name},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"Reward",{get:function(){return this.Cfg.upgrade_reward},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"Cfg",{get:function(){return Game.config.blockLevel.getConfig(this.id)},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"isCurrent",{get:function(){return this.id==Game.moduleModel.street.streetCurrentId},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"isLock",{get:function(){return this.id>Game.moduleModel.street.streetCurrentId},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"iconUrl",{get:function(){var cfg=Game.config.avatar.getConfig(this.Cfg.pic);if(cfg){return cfg.iconUrl}return""},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"cinemaStaticNum",{get:function(){if(this.Cfg.cinema&&this.Cfg.cinema.length>0){var cfg=Game.config.cinema.getConfig(this.Cfg.cinema[0]);if(cfg){return cfg.num}}return 0},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"cinemaNum",{get:function(){var treaterIds=User.info.theaterIds;for(var index=0;index<treaterIds.length;index++){var treater=treaterIds[index];var cfg=Game.config.cinema.getConfig(treater);if(cfg.unlock==this.id){return cfg.num}}return 0},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"cinemaName",{get:function(){var treaterIds=User.info.theaterIds;for(var index=0;index<treaterIds.length;index++){var treater=treaterIds[index];var cfg=Game.config.cinema.getConfig(treater);if(cfg.unlock==this.id){return cfg.name}}return""},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"canSign",{get:function(){return !this.isLock&&this.cinemaNum==0},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"hasCinema",{get:function(){return this.cinemaNum>0},enumerable:true,configurable:true});Object.defineProperty(StreetData.prototype,"LastStreet",{get:function(){var lastCfg=Game.config.blockLevel.GetLastStreetCfg(this.id);if(lastCfg){return StreetData.CreateStreet(lastCfg.id)}return null},enumerable:true,configurable:true});return StreetData}());Games.StreetData=StreetData})(Games||(Games={}));var Games;(function(Games){var StorySuitData=(function(){function StorySuitData(){}Object.defineProperty(StorySuitData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;this.config=Game.config.storyStackSort.getConfig(value)},enumerable:true,configurable:true});Object.defineProperty(StorySuitData.prototype,"isCollect",{get:function(){var scripts=this.config.scripts;var b=true;for(var index=0;index<scripts.length;index++){var element=scripts[index];if(Game.moduleModel.story.hasStoryData(element)==false){b=false;break}}return b},enumerable:true,configurable:true});Object.defineProperty(StorySuitData.prototype,"isGotReward",{get:function(){return this.status==EStoryModule.hadGet},enumerable:true,configurable:true});Object.defineProperty(StorySuitData.prototype,"isHasRewardCanGet",{get:function(){return(this.isCollect)&&(this.isGotReward==false)},enumerable:true,configurable:true});return StorySuitData}());Games.StorySuitData=StorySuitData})(Games||(Games={}));var Games;(function(Games){var StoryData=(function(){function StoryData(){}Object.defineProperty(StoryData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;this.config=Game.config.story.getConfig(value)},enumerable:true,configurable:true});Object.defineProperty(StoryData.prototype,"isFinish",{get:function(){return this.status==EStoryModule.finish},enumerable:true,configurable:true});return StoryData}());Games.StoryData=StoryData})(Games||(Games={}));var Games;(function(Games){var SkillData=(function(){function SkillData(){}SkillData.prototype.setDTActor=function(dtActor){this.dtActor=dtActor;this.config=Game.config.skill.getConfigByGroupIdAndLv(dtActor.group_id,1)};SkillData.prototype.update=function(data){this.data=data;this.isEffect=false;if(this.data){this.isEffect=this.data.isEffect;this.config=Game.config.skill.getConfig(this.data.skillId)}};Object.defineProperty(SkillData.prototype,"iconUrl",{get:function(){return Game.config.avatar.getConfig(this.config.icon).iconUrl},enumerable:true,configurable:true});Object.defineProperty(SkillData.prototype,"desc",{get:function(){return format(this.config.tips,this.config.value)},enumerable:true,configurable:true});Object.defineProperty(SkillData.prototype,"effectDesc",{get:function(){return format(this.config.effecttext,this.config.value)},enumerable:true,configurable:true});Object.defineProperty(SkillData.prototype,"isUnlock",{get:function(){var acotrlv=1;var data=Game.moduleModel.actor.getActor(this.actorId);if(data){acotrlv=data.level}return this.dtActor.lv<=acotrlv},enumerable:true,configurable:true});return SkillData}());Games.SkillData=SkillData})(Games||(Games={}));var Games;(function(Games){var ServerRewardItemData=(function(){function ServerRewardItemData(rank,rewardList){this.rank=rank;this.rewardList=[];for(var index=0;index<rewardList.length;index++){var reward=rewardList[index];var item=Games.ItemData.Create(reward.itemId,reward.itemNum);this.rewardList.push(item)}}Object.defineProperty(ServerRewardItemData.prototype,"stringRank",{get:function(){if(this.rank.length>=2&&this.rank[0]==this.rank[1]){return this.rank[0].toString()}return this.rank.join("~")},enumerable:true,configurable:true});return ServerRewardItemData}());Games.ServerRewardItemData=ServerRewardItemData})(Games||(Games={}));var Games;(function(Games){var RoleData=(function(){function RoleData(){}return RoleData}());Games.RoleData=RoleData})(Games||(Games={}));var Games;(function(Games){var RankServerData=(function(){function RankServerData(rank,desc){this.rank=rank;this.desc=desc;if(desc.totalBoxOffice!=null){var total=desc.totalBoxOffice.toString();this.desc.totalBoxOffice=parseInt(total);if(this.desc.totalBoxOffice<0){this.desc.totalBoxOffice=0}}else{this.desc.totalBoxOffice=-1;console.warn("[error]服务器数据 RankServerData.totalBoxOffice为空值")}}Object.defineProperty(RankServerData.prototype,"playerIconUrl",{get:function(){return Game.config.headPortrait.GetPlayerIconUrl(this.desc.portrait,this.desc.sex)},enumerable:true,configurable:true});return RankServerData}());Games.RankServerData=RankServerData;var RankGroupData=(function(){function RankGroupData(rank,desc){this.rank=rank;this.desc=desc;if(desc.totalBoxOffice!=null){var total=desc.totalBoxOffice.toString();this.desc.totalBoxOffice=parseInt(total);if(this.desc.totalBoxOffice<0){this.desc.totalBoxOffice=0}}else{this.desc.totalBoxOffice=-1;console.warn("[error]服务器数据 RankGroupData.totalBoxOffice为空值")}}Object.defineProperty(RankGroupData.prototype,"canCongratulate",{get:function(){var cfgList=Game.config.blockRankingList.getConfigList();for(var index=0;index<cfgList.length;index++){var cfg=cfgList[index];if(cfg.type==Games.RankListType.GroupMovieList&&cfg.rank==this.rank&&cfg.congratulate_switch==true){return Game.moduleModel.street.hasCongratulateNums}}return false},enumerable:true,configurable:true});Object.defineProperty(RankGroupData.prototype,"hasReward",{get:function(){var cfgList=Game.config.blockRankingList.getConfigList();for(var index=0;index<cfgList.length;index++){var cfg=cfgList[index];if(cfg.type==Games.RankListType.GroupList&&cfg.rank==this.rank&&cfg.extra_reward&&cfg.extra_reward.length>0){return true}}return false},enumerable:true,configurable:true});Object.defineProperty(RankGroupData.prototype,"playerIconUrl",{get:function(){return Game.config.headPortrait.GetPlayerIconUrl(this.desc.portrait,this.desc.sex)},enumerable:true,configurable:true});return RankGroupData}());Games.RankGroupData=RankGroupData;var RankGroupMovieData=(function(){function RankGroupMovieData(rank,desc){this.rank=rank;this.desc=desc;if(desc.totalBoxOffice!=null){var total=desc.totalBoxOffice.toString();this.desc.totalBoxOffice=parseInt(total);if(this.desc.totalBoxOffice<0){this.desc.totalBoxOffice=0}}else{this.desc.totalBoxOffice=-1;console.warn("[error]服务器数据 RankGroupMovieData.totalBoxOffice为空值")}}Object.defineProperty(RankGroupMovieData.prototype,"canCongratulate",{get:function(){var cfgList=Game.config.blockRankingList.getConfigList();for(var index=0;index<cfgList.length;index++){var cfg=cfgList[index];if(cfg.type==Games.RankListType.GroupList&&cfg.rank==this.rank&&cfg.congratulate_switch==true){return Game.moduleModel.street.hasCongratulateNums}}return false},enumerable:true,configurable:true});return RankGroupMovieData}());Games.RankGroupMovieData=RankGroupMovieData})(Games||(Games={}));var Games;(function(Games){var ProgressBoxData=(function(){function ProgressBoxData(){this.uuid="";this._id=0;this.progress=0;this.staus=0;this.lastTime=0;this.timeOutHandler=0}Object.defineProperty(ProgressBoxData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value},enumerable:true,configurable:true});ProgressBoxData.prototype.isEnableGet=function(index){var config=this.configs[index];return this.progress>=config.completion};ProgressBoxData.prototype.isGet=function(index){return((this.staus>>index)&1)!=0};ProgressBoxData.prototype.startResetTime=function(){var _this=this;var resetHour=0;var curr=Game.time.serverMilliseconds;var d=new Date();d.setTime(curr);d.setMinutes(0);d.setSeconds(0);var hour=d.getHours();d.setHours(resetHour);d.setTime(d.getTime()+24*60*60*1000);clearTimeout(this.timeOutHandler);if(Game.time.checkNewDayToRefrush(this.lastTime,0)){this.staus=0;this.progress=0}else{var nextSecond=Math.floor(d.getTime()/1000);var currSecond=Game.time.serverSeconds;if(currSecond<nextSecond){var time=nextSecond-currSecond;this.timeOutHandler=setTimeout(function(){_this.staus=0;_this.progress=0;Game.event.dispatch(GameEventKey.GameEventKey_UpdateProgressBoxStatus,_this.id);_this.startResetTime()},time*1000)}}};Object.defineProperty(ProgressBoxData.prototype,"configs",{get:function(){if(!this._configs){if(this._id>0){this._configs=Game.config.complete.getCompleteList(this._id)}}return this._configs},enumerable:true,configurable:true});Object.defineProperty(ProgressBoxData.prototype,"count",{get:function(){return this.configs.length},enumerable:true,configurable:true});Object.defineProperty(ProgressBoxData.prototype,"maxProgress",{get:function(){return this.configs[this.configs.length-1].completion},enumerable:true,configurable:true});ProgressBoxData.prototype.getReadNum=function(){var num=0;for(var i=0;i<this.count;i++){if(this.isEnableGet(i)){if(!this.isGet(i)){num++}}}return num};return ProgressBoxData}());Games.ProgressBoxData=ProgressBoxData})(Games||(Games={}));var Games;(function(Games){var ProduceSkillType;(function(ProduceSkillType){ProduceSkillType[ProduceSkillType.Process=0]="Process";ProduceSkillType[ProduceSkillType.Storage=1]="Storage";ProduceSkillType[ProduceSkillType.Time=2]="Time";ProduceSkillType[ProduceSkillType.Output=3]="Output"})(ProduceSkillType=Games.ProduceSkillType||(Games.ProduceSkillType={}));var ProduceSkill=(function(){function ProduceSkill(){}return ProduceSkill}());Games.ProduceSkill=ProduceSkill;var ProduceData=(function(){function ProduceData(){this.produceSkillList=[];this.outFactorList=[]}return ProduceData}());Games.ProduceData=ProduceData})(Games||(Games={}));var Games;(function(Games){var OscarRewardData=(function(){function OscarRewardData(){}OscarRewardData.Create=function(type,value1,value2,value3,value4,value5){var data=new OscarRewardData();data.type=type;data.value1=value1;data.value2=value2;data.value3=value3;data.value4=value4;data.value5=value5;return data};Object.defineProperty(OscarRewardData.prototype,"name",{get:function(){switch(this.type){case Proto.SE.EOscarType.bestBoxOffice:return Games.TEXT.OscarRewardNameDesc_6;case Proto.SE.EOscarType.bigSell:return Games.TEXT.OscarRewardNameDesc_9;case Proto.SE.EOscarType.totalBoxOffice:case Proto.SE.EOscarType.movies:return"";default:break}return""},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"title",{get:function(){switch(this.type){case Proto.SE.EOscarType.bestBoxOffice:var str=this.value2;return str==""?Games.TEXT.OscarRewardNoMovie:str;case Proto.SE.EOscarType.totalBoxOffice:return Games.TEXT.OscarRewardValueDesc_7.format(this.value2,formatNumberUnit(this.value1,this.value1>1000?1:0));case Proto.SE.EOscarType.movies:return Games.TEXT.OscarRewardValueDesc_8.format(this.value1);case Proto.SE.EOscarType.bigSell:return Games.TEXT.OscarRewardValueDesc_9.format(this.value1);default:break}return""},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"info",{get:function(){switch(this.type){case Proto.SE.EOscarType.bestBoxOffice:return Games.TEXT.OscarRewardInfoDesc_6.format(this.value3,formatNumberUnit(this.value1,this.value1>1000?1:0));case Proto.SE.EOscarType.totalBoxOffice:return Games.TEXT.OscarRewardInfoDesc_7.format((this.value4/this.value3*100).toFixed(1),Game.moduleModel.street.currentStreetData.Name,this.value3);case Proto.SE.EOscarType.movies:case Proto.SE.EOscarType.bigSell:return"";default:break}return""},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"tip",{get:function(){return Game.config.msg.getConfig(OscarRewardData.listTipDesc[this.type]).notice},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"RewardList",{get:function(){if(this.rewards){return this.rewards}var items=[];switch(this.type){case Proto.SE.EOscarType.bestBoxOffice:items=Game.config.blockRankingList.GetReward(2,this.value3);break;case Proto.SE.EOscarType.totalBoxOffice:items=Game.config.blockRankingList.GetReward(1,this.value2);break;case Proto.SE.EOscarType.movies:if(this.value1==0){break}var movieReward=Game.moduleModel.oscar.lastMovieReward;for(var index=0;index<movieReward.length;index++){var reward=new DTItemNum();reward.itemId=movieReward[index].itemId;reward.itemNum=movieReward[index].itemNum*this.value1;items.push(reward)}break;case Proto.SE.EOscarType.bigSell:if(this.value1==0){break}var cfg=Game.config.global.getConfig(23);if(cfg){var values=cfg.value2;for(var index=0;index<values.length;index++){var value=values[index];var item_1=new DTItemNum;item_1.itemId=value.v1;item_1.itemNum=value.v2*this.value1;items.push(item_1)}}break;default:break}this.rewards=[];for(var index=0;index<items.length;index++){var item=items[index];this.rewards.push(Games.ItemData.Create(item.itemId,item.itemNum))}return this.rewards},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"IsHistoryBest",{get:function(){switch(this.type){case Proto.SE.EOscarType.totalBoxOffice:return this.value4;default:break}return false},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"canReward",{get:function(){return this.RewardList.length>0},enumerable:true,configurable:true});Object.defineProperty(OscarRewardData.prototype,"hasGetReward",{get:function(){return Game.moduleModel.oscar.HasGetReward(this.type)},enumerable:true,configurable:true});OscarRewardData.listTipDesc=[0,0,0,0,0,0,1063,1064,1065,1066];return OscarRewardData}());Games.OscarRewardData=OscarRewardData})(Games||(Games={}));var Games;(function(Games){var OrderData=(function(){function OrderData(){this.isCooperation=false}Object.defineProperty(OrderData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;this.config=Game.config.order.getConfig(this._id)},enumerable:true,configurable:true});OrderData.prototype.isPut=function(id){var b=false;for(var index=0;index<this.items.length;index++){var element=this.items[index];if(element.itemId==id){b=true;break}}return b};OrderData.prototype.getOrderItem=function(id){for(var index=0;index<this.items.length;index++){var element=this.items[index];if(element.itemId==id){return element}}return null};Object.defineProperty(OrderData.prototype,"isCooperationOrder",{get:function(){var b=false;for(var index=0;index<this.items.length;index++){var element=this.items[index];if(element.portrait>=0){b=true;break}}return b},enumerable:true,configurable:true});Object.defineProperty(OrderData.prototype,"cooperationOrderItem",{get:function(){for(var index=0;index<this.items.length;index++){var element=this.items[index];if(element.portrait>=0){return element}}return null},enumerable:true,configurable:true});Object.defineProperty(OrderData.prototype,"isAllComplete",{get:function(){var b=true;for(var index=0;index<this.config.need.length;index++){var element=this.config.need[index];if(this.isPut(element.itemId)==false){b=false}}return b},enumerable:true,configurable:true});Object.defineProperty(OrderData.prototype,"isCanPut",{get:function(){var b=true;for(var index=0;index<this.config.need.length;index++){var element=this.config.need[index];if(this.isPut(element.itemId)==false){if(Game.moduleModel.item.getItemNum(element.itemId)<element.itemNum){b=false;break}}}return b},enumerable:true,configurable:true});Object.defineProperty(OrderData.prototype,"delTime",{get:function(){return this.lastTime+EManageOrder.baseTime},enumerable:true,configurable:true});Object.defineProperty(OrderData.prototype,"expiredTime",{get:function(){return this.lastTime+EManageOrder.baseTime},enumerable:true,configurable:true});OrderData.prototype.startDelTime=function(callBack){var _this=this;var nowTime=Game.time.serverSeconds;var endTime=this.delTime;var duration=endTime-nowTime;this.deleteCallBack=callBack;if(duration>0){this.timeOut=setTimeout(function(){_this.deleteComplete()},duration*1000)}else{this.deleteComplete()}};OrderData.prototype.startExpiredTime=function(callBack){var _this=this;var nowTime=Game.time.serverSeconds;var endTime=this.expiredTime;var duration=endTime-nowTime;this.expiredCallBack=callBack;if(duration>0){this.timeOut=setTimeout(function(){_this.expiredComplete()},duration*1000)}else{this.expiredComplete()}};OrderData.prototype.expiredComplete=function(){this.expiredCallBack(this.uuid);this.dispatch()};OrderData.prototype.dispatch=function(){if(this.isCooperation){Game.event.dispatch(GameEventKey.GameEventKey_UpdateCoopreationOrderView)}else{Game.event.dispatch(GameEventKey.GameEventKey_UpdateOrderView)}};OrderData.prototype.deleteComplete=function(){this.deleteCallBack(this.uuid)};OrderData.prototype.clearTime=function(){clearTimeout(this.timeOut)};OrderData.prototype.isRemoved=function(){var b=false;var duration=0;if(this.deleteFlag){duration=Game.time.getSubSecondsAfter(this.delTime);if(duration<=0){b=true}}else{duration=Game.time.getSubSecondsAfter(this.expiredTime)}return b};Object.defineProperty(OrderData.prototype,"rewardItems",{get:function(){this._rewardItems=[];var item=new DTItemNum();item.itemId=this.config.reward.itemId;item.itemNum=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Sale,item.itemId,this.config.reward.itemNum);this._rewardItems.push(item);item=new DTItemNum();item.itemId=8;item.itemNum=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Sale,item.itemId,this.config.expect);this._rewardItems.push(item);return this._rewardItems},enumerable:true,configurable:true});return OrderData}());Games.OrderData=OrderData})(Games||(Games={}));var Games;(function(Games){var NoticeData=(function(){function NoticeData(){this.itemList=[]}NoticeData.CreateByProto=function(msg){var notice=new NoticeData();notice.title=msg.title;notice.content=msg.content;notice.itemList=Games.ItemData.BinningItemList(msg.itemList);notice.time=this.TimeAnalysis(msg.messageDetailUrl);notice.AddTick();return notice};NoticeData.TimeAnalysis=function(str){var time=parseInt(str);return time};NoticeData.prototype.AddTick=function(){var time=this.time-Game.time.serverSeconds;if(time>NoticeData.PreNoticeTime){this.tick=Game.tick.AddTick(1,time-NoticeData.PreNoticeTime,Handler.create(this,this.OnTickClock,null,false),Handler.create(this,this.OnTickFinish1,null,false));this.tick.Restart()}else{if(time>0){this.OnTickFinish1()}else{return}}};NoticeData.prototype.AddTick2=function(){var time=this.time-Game.time.serverSeconds;this.tick=Game.tick.AddTick(1,time,Handler.create(this,this.OnTickClock,null,false),Handler.create(this,this.OnTickFinish2,null,false));this.tick.Restart()};NoticeData.prototype.ClearTick=function(){if(this.tick){this.tick.Stop();Game.tick.ClearTick(this.tick);this.tick=null}};NoticeData.prototype.OnTickClock=function(times){};NoticeData.prototype.OnTickFinish1=function(){Game.system.alrtTextFull(this.content,this.title);this.AddTick2()};NoticeData.prototype.OnTickFinish2=function(){Game.system.alrtTextFull(Games.TEXT.NoticeServerClose,Games.TEXT.NoticeTitle,null,function(){})};NoticeData.PreNoticeTime=30*60;return NoticeData}());Games.NoticeData=NoticeData})(Games||(Games={}));var Games;(function(Games){var MissionData=(function(){function MissionData(){this.id=0;this.unlock=true;this.protoData=new Proto.SS.TaskData()}return MissionData}());Games.MissionData=MissionData})(Games||(Games={}));var Games;(function(Games){var MeetingData=(function(){function MeetingData(){this.tomaxTimeOut=0}Object.defineProperty(MeetingData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;if(value>0){this.config=Game.config.meetingRewards.getConfig(value)}},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"nextMeetingNum",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastTime;var duration=0;if(nowTime>lastTime){duration=nowTime-lastTime}var num=Math.floor(duration/this.intervalTime);num=Math.min(this.lineLimit,num);return num},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"nextMeetingComeTime",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastTime+this.intervalTime;return Math.max(0,lastTime-nowTime)},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"rewards",{get:function(){var item=new DTItemNum();item.itemId=this.config.rewards.itemId;var num=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Meeting,item.itemId,this.config.rewards.itemNum);item.itemNum=num;var expect=new DTItemNum();expect.itemId=EItemId.expect;num=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Meeting,expect.itemId,this.config.expect);expect.itemNum=num;var items=[item,expect];return items},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"meetingMultipleRate",{get:function(){var rate=1;if(this.randResult>0){rate=Game.config.meetingGame.getConfig(this.randResult).times.v1/100}return rate},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"resultRewards",{get:function(){var item=new DTItemNum();item.itemId=this.config.rewards.itemId;var num=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Meeting,item.itemId,this.config.rewards.itemNum);item.itemNum=Math.floor(num*this.meetingMultipleRate);var expect=new DTItemNum();expect.itemId=EItemId.expect;num=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Meeting,expect.itemId,this.config.expect);expect.itemNum=Math.floor(num*this.meetingMultipleRate);this.rewardData=[item,expect];return this.rewardData},enumerable:true,configurable:true});Object.defineProperty(MeetingData.prototype,"costMoney",{get:function(){return Game.config.playerLevel.getConfig(User.info.level).cost},enumerable:true,configurable:true});MeetingData.prototype.startToMaxTime=function(){if(this.tomaxTimeOut>0){clearTimeout(this.tomaxTimeOut);this.tomaxTimeOut=0}var nowTime=Game.time.serverSeconds;var nextNum=this.nextMeetingNum;if(nextNum<this.lineLimit){var totalDuration=this.lineLimit*this.intervalTime;var nextTime=totalDuration+this.lastTime;if(nextTime>nowTime){var diffTime=nextTime-nowTime;if(diffTime>0){this.tomaxTimeOut=setTimeout(function(){Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)},diffTime*1000)}}}Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)};Object.defineProperty(MeetingData.prototype,"isMax",{get:function(){return this.nextMeetingNum>=this.lineLimit},enumerable:true,configurable:true});return MeetingData}());Games.MeetingData=MeetingData})(Games||(Games={}));var Games;(function(Games){var MailData=(function(){function MailData(){this.uuid="";this.title="";this.content="";this.itemList=null;this.createTime=0;this.IsRewardGot=false;this.isNew=false}MailData.Create=function(data){var item=new MailData();item.content=data.content;item.itemList=data.itemList;item.createTime=data.createTime;item.IsRewardGot=data.IsRewardGot;item.isNew=data.isNew;item.title=data.title;item.uuid=data.uuid;return item};Object.defineProperty(MailData.prototype,"IsNew",{get:function(){if(this.itemList.length>0){return this.isNew&&!this.IsRewardGot}return this.isNew},enumerable:true,configurable:true});Object.defineProperty(MailData.prototype,"HasReward",{get:function(){return this.itemList.length>0&&!this.IsRewardGot},enumerable:true,configurable:true});Object.defineProperty(MailData.prototype,"HasGetReward",{get:function(){return this.itemList.length>0&&this.IsRewardGot},enumerable:true,configurable:true});return MailData}());Games.MailData=MailData})(Games||(Games={}));var Games;(function(Games){var ItemData=(function(){function ItemData(){this.itemId=0;this.itemNum=0;this.createTime=0}Object.defineProperty(ItemData.prototype,"itemNumTxt",{get:function(){var fix=this.itemNum>1000?1:0;return formatNumberUnit(this.itemNum,fix)},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemConfig",{get:function(){return Game.config.item.getConfig(this.itemId)},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemType",{get:function(){if(this.itemConfig){return this.itemConfig.type}return 0},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemName",{get:function(){if(this.itemConfig){return this.itemConfig.name}return this.itemId+"\u6CA1\u914D\u7F6E\u8BE5\u7269\u54C1"},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemDes",{get:function(){if(this.itemConfig){return this.itemConfig.item_des}return this.itemId+"\u6CA1\u914D\u7F6E\u8BE5\u7269\u54C1"},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemStar",{get:function(){if(this.itemConfig){var propertyCfg=Game.config.property.getConfig(this.itemConfig.star);if(propertyCfg){var star=Number(propertyCfg.zh_cn_name);if(star==null){console.log("Error Item Star");return 0}star=star<0?0:star;star=star>6?6:star;return star}}return 0},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemIconUrl",{get:function(){if(this.itemConfig){var avatarConfig=Game.config.avatar.getConfig(this.itemConfig.icon);if(avatarConfig){return avatarConfig.iconUrl}}return null},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"itemBodyIconUrl",{get:function(){if(this.itemConfig){var avatarConfig=Game.config.avatar.getConfig(this.itemConfig.icon);if(avatarConfig){return avatarConfig.bodyIconUrl}}return null},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"compoundItem",{get:function(){if(this.itemConfig){var compoundConfig=Game.config.compound.getConfig(this.itemConfig.syn_id);if(compoundConfig&&compoundConfig.syn_item!=0){var item=new DTItemNum();item.itemId=compoundConfig.id;item.itemNum=compoundConfig.num_req;return item}return null}return null},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"compoundNum",{get:function(){if(this.compoundItem){var num=this.compoundItem.itemNum;return Math.floor(this.itemNum/num)}return 0},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"splitItem",{get:function(){if(this.itemConfig){var compoundConfig=Game.config.compound.getConfig(this.itemConfig.syn_id);if(compoundConfig){var splitList=compoundConfig.split_list;if(splitList.length==1&&splitList[0].itemId==0){return[]}return splitList}return null}return null},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"compoundActor",{get:function(){if(this.itemConfig){if(this.itemConfig.actor_id!=0){var item=new DTItemNum();item.itemId=this.itemConfig.actor_id;item.itemNum=this.itemConfig.actor_num;return item}return null}return null},enumerable:true,configurable:true});Object.defineProperty(ItemData.prototype,"compoundActorNum",{get:function(){if(this.compoundActor){var num=this.compoundActor.itemNum;return Math.floor(this.itemNum/num)}return 0},enumerable:true,configurable:true});ItemData.Create=function(itemId,itemNum){var item=new ItemData();item.itemId=itemId;item.itemNum=itemNum;return item};ItemData.GetIconUrl=function(id){var itemConfig=Game.config.item.getConfig(id);if(itemConfig){var avatarConfig=Game.config.avatar.getConfig(itemConfig.icon);if(avatarConfig){return avatarConfig.iconUrl}}return""};ItemData.GetName=function(id){var itemConfig=Game.config.item.getConfig(id);if(itemConfig){return itemConfig.name}return""};ItemData.Binning=function(data){if(data instanceof ItemData){return data}else{var item=new ItemData();if(data instanceof DTItemNum){item.itemId=data.itemId;item.itemNum=data.itemNum}else{item.itemId=data.itemId;item.itemNum=data.amount}return item}};ItemData.BinningItemList=function(_list){if(_list==null){return[]}var list=[];for(var index=0;index<_list.length;index++){var data=_list[index];if(!data){console.warn("ItemData.BinningItemList data=null , index="+index);continue}var item=ItemData.Binning(data);if(!item||item.itemNum===undefined||item.itemNum===null){console.warn("ItemData.BinningItemList index="+index+" item.itemNum="+item.itemNum);continue}list.push(item)}return list};return ItemData}());Games.ItemData=ItemData})(Games||(Games={}));var Games;(function(Games){var GoodsData=(function(){function GoodsData(){this.saleNums=0}Object.defineProperty(GoodsData.prototype,"Config",{get:function(){if(this.id==null){return null}return Game.config.shop.getConfig(this.id)},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"HasBuy",{set:function(num){if(this.Config&&this.Config.limit&&this.Config.limit){this.saleNums=this.Config.limit.itemNum-num;if(this.saleNums<0){this.saleNums=0}}},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"LimitType",{get:function(){if(this.Config&&this.Config.limit&&this.Config.limit){return this.Config.limit.itemId}return 0},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"LimitString",{get:function(){var str="";switch(this.LimitType){case 1:str+=Games.TEXT.ShopDayLimit;break;case 2:str+=Games.TEXT.ShopWeekLimit;break;default:return""}return str},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"Limit",{get:function(){return this.saleNums},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"ShopType",{get:function(){if(this.Config&&this.Config.type){return this.Config.type}return 0},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"isPeriodTime",{get:function(){if(this.Config.hasPeriodTime){return this.Config.isPeriodTime}return true},enumerable:true,configurable:true});Object.defineProperty(GoodsData.prototype,"Items",{get:function(){if(this.Config){if(this.Config.special==1){return this.Config.item}var item=this.Config.item[0];if(this.Config.special==2){item.itemNum=Game.config.playerLevel.GetShopGold(User.info.level);return[item]}if(this.Config.special==3){item.itemNum=Game.config.playerLevel.GetShopMoney(User.info.level);return[item]}}return[]},enumerable:true,configurable:true});GoodsData.Create=function(id,num){if(num===void 0){num=0}var goods=new GoodsData();goods.id=id;goods.HasBuy=num;return goods};return GoodsData}());Games.GoodsData=GoodsData})(Games||(Games={}));var Games;(function(Games){var GameTimeData=(function(){function GameTimeData(){this._preFrame=0;this._localTime=0;this._localLoginTime=new Date().getTime();this._registerTime=new Date().getTime();this._serverLoginTime=new Date().getTime()}GameTimeData.prototype.isLocalToday=function(localTime){var d=new Date(localTime);var c=new Date();return d.getFullYear()==c.getFullYear()&&d.getMonth()==d.getMonth()&&d.getDate()==c.getDate()};Object.defineProperty(GameTimeData.prototype,"localTime",{get:function(){if(Laya.timer.currFrame!=this._preFrame){this._localTime=new Date().getTime();this._preFrame=Laya.timer.currFrame}return this._localTime},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"localLoginTime",{get:function(){return this._localLoginTime},set:function(value){this._localLoginTime=value},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"localGameTime",{get:function(){return this.localTime-this.localLoginTime},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"registerTime",{get:function(){return this._registerTime},set:function(value){this._registerTime=value},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"registerSeconds",{get:function(){return Math.floor(this.registerTime/1000)},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"serverLoginTime",{get:function(){return this._serverLoginTime},set:function(value){this._serverLoginTime=value;this.localLoginTime=this.localTime},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"serverSeconds",{get:function(){return Math.floor(this.serverMilliseconds/1000)},enumerable:true,configurable:true});Object.defineProperty(GameTimeData.prototype,"serverMilliseconds",{get:function(){return this.serverLoginTime+this.localGameTime},enumerable:true,configurable:true});GameTimeData.prototype.timestampToTime=function(timestamp){var date=new Date(timestamp*1000);var Y=date.getFullYear();var M=date.getMonth()+1;var D=date.getDate();var h=date.getHours();var m=date.getMinutes();var s=date.getSeconds();return[Y,M,D,h,m,s]};GameTimeData.prototype.localTimestamToTime=function(){var date=new Date();var Y=date.getFullYear();var M=date.getMonth()+1;var D=date.getDate();var h=date.getHours();var m=date.getMinutes();var s=date.getSeconds();return[Y,M,D,h,m,s]};GameTimeData.prototype.getSubSecondsPre=function(preunixSeconds){var dTime=this.serverSeconds-preunixSeconds;if(dTime<0){dTime=0}return dTime};GameTimeData.prototype.getSubSecondsAfter=function(afterunixSeconds){return afterunixSeconds-this.serverSeconds};GameTimeData.prototype.getSubMillisecondsPre=function(preunixMilliseconds){return this.serverMilliseconds-preunixMilliseconds};GameTimeData.prototype.getSubMillisecondsAfter=function(afterunixMilliseconds){return afterunixMilliseconds-this.serverMilliseconds};GameTimeData.prototype.checkNewDayToRefrush=function(serverLastRefrushTime,timePoint){var newDay=false;var sevTime=this.timestampToTime(serverLastRefrushTime);var locTime=this.localTimestamToTime();for(var i=0;i<3;i++){if(sevTime[i]<locTime[i]){newDay=true;break}}if(!newDay&&timePoint>0){if(locTime[3]>=timePoint){newDay=true}}return newDay};GameTimeData.prototype.checkTime=function(localTime,h,m){if(m===void 0){m=0}var d=new Date(localTime);if(d.getHours()<h){return false}else{if(d.getHours()===h){if(d.getMinutes()<m){return false}}}return true};GameTimeData.prototype.timeLeft=function(time,hour,minutes,seconds){if(seconds===void 0){seconds=0}if(this.isLocalToday(time)){var dates=new Date(time);var h=dates.getHours();var m=dates.getMinutes();var s=dates.getSeconds();var cur=h*3600+m*60+s;var req=hour*3600+minutes*60+seconds;var res=(req-cur)*1000;if(res<0){res=0}return res}else{return 0}};return GameTimeData}());Games.GameTimeData=GameTimeData})(Games||(Games={}));var Games;(function(Games){var DanmuData=(function(){function DanmuData(){}DanmuData.CreateByProto=function(msg){var danmu=new DanmuData();danmu.id=msg.id;danmu.name=msg.name;danmu.time=msg.time;danmu.MsgAnalysis(msg.msg);return danmu};DanmuData.Create=function(msg,flag){var danmu=new DanmuData();danmu.msg=msg;danmu.flag=flag;return danmu};DanmuData.prototype.MsgAnalysis=function(msg){this.msg=msg.substr(0,msg.length-1);this.flag=parseInt(msg.substr(msg.length-1,1));if(this.flag==null){this.flag=0}};return DanmuData}());Games.DanmuData=DanmuData})(Games||(Games={}));var Games;(function(Games){var DailyEventType;(function(DailyEventType){DailyEventType[DailyEventType.Movie=1]="Movie";DailyEventType[DailyEventType.Awards=2]="Awards"})(DailyEventType=Games.DailyEventType||(Games.DailyEventType={}));var DailyEventData=(function(){function DailyEventData(){}DailyEventData.CreateByProto=function(msg){var data=new DailyEventData();data.time=msg.time;data.uuid=msg.uuid;data.name=msg.name;data.type=DailyEventType.Movie;return data};DailyEventData.Create=function(type,time,name){var data=new DailyEventData();data.time=time;data.name=name;data.type=type;return data};DailyEventData.sort=function(a,b){return a.time-b.time};Object.defineProperty(DailyEventData.prototype,"Name",{get:function(){if(this.type==DailyEventType.Movie){return Games.TEXT.OscarMovie.format(this.name)}return this.name},enumerable:true,configurable:true});Object.defineProperty(DailyEventData.prototype,"TimeNum",{get:function(){return this.time},enumerable:true,configurable:true});Object.defineProperty(DailyEventData.prototype,"Time",{get:function(){var date=new Date(this.time*1000);var hours=date.getHours();var minutes=date.getMinutes();var str="";str+=hours<10?"0"+hours:hours;str+=":"+(minutes<10?"0"+minutes:minutes);return str},enumerable:true,configurable:true});Object.defineProperty(DailyEventData.prototype,"isToday",{get:function(){var date=new Date(this.time*1000);var nowDate=new Date(Game.time.serverMilliseconds);if(date.getDay()==nowDate.getDay()){return true}return false},enumerable:true,configurable:true});Object.defineProperty(DailyEventData.prototype,"hasData",{get:function(){var date=new Date(this.time*1000);var nowDate=new Date(Game.time.serverMilliseconds);if(date.getDay()==nowDate.getDay()){if(date.getTime()<nowDate.getTime()){return true}else{return false}}else{if(nowDate.getHours()<Game.config.global.getConfig(GlobalKey.KEY_25_AoSiKaBanJiangShiJian).value){return true}else{return false}}},enumerable:true,configurable:true});return DailyEventData}());Games.DailyEventData=DailyEventData})(Games||(Games={}));var Games;(function(Games){var CountryData=(function(){function CountryData(id){this.id=id;var cfg=this.cfg;this.name=cfg.zh_cn_name;this.icon=cfg.icon;this.preCountry=cfg.pre_id;this.nextCountry=cfg.next_country}Object.defineProperty(CountryData.prototype,"cfg",{get:function(){return Game.config.country.getConfig(this.id)},enumerable:true,configurable:true});Object.defineProperty(CountryData.prototype,"iconUrl",{get:function(){return Game.config.avatar.getConfig(this.cfg.icon).iconUrl},enumerable:true,configurable:true});Object.defineProperty(CountryData.prototype,"flagUrl",{get:function(){return Game.config.avatar.getConfig(this.cfg.flag).iconUrl},enumerable:true,configurable:true});return CountryData}());Games.CountryData=CountryData})(Games||(Games={}));var Games;(function(Games){var CityStreetData=(function(){function CityStreetData(id,state,progress){if(state===void 0){state=Games.StreetStateEnum.NotOccupy}if(progress===void 0){progress=0}this.id=id;var cfg=Game.config.street.getConfig(id);this.state=state;this.progress=progress}Object.defineProperty(CityStreetData.prototype,"name",{get:function(){return this.cfg.name},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"city",{get:function(){if(this.cfg){return this.cfg.city}console.log("城市街区："+this.id+" 缺少配置");return 0},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"pos",{get:function(){return this.cfg.position},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"pre",{get:function(){return this.cfg.pre_id},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"next",{get:function(){return this.cfg.next_stage},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"num",{get:function(){if(this._num!=null){return this._num}var cityCfg=Game.config.city.getConfig(this.city);if(cityCfg==null){console.log(this.id+"街区的城市："+this.city+" 缺少配置");return 0}var streetList=cityCfg.street_id;for(var index=0;index<streetList.length;index++){var id=streetList[index];if(id==this.id){this._num=index+1;return this._num}}},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"cityNum",{get:function(){var cityCfg=Game.config.city.getConfig(this.city);if(cityCfg){return cityCfg.city_num}console.log("城市："+this.id+" 缺少配置");return 0},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"numName",{get:function(){return this.cityNum+"-"+this.num+" "+this.name},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"reward",{get:function(){var list=[];var expect=new DTItemNum();expect.itemId=8;expect.itemNum=this.cfg.expect;return list.concat(this.cfg.finale_reward,expect)},enumerable:true,configurable:true});Object.defineProperty(CityStreetData.prototype,"cfg",{get:function(){return Game.config.street.getConfig(this.id)},enumerable:true,configurable:true});return CityStreetData}());Games.CityStreetData=CityStreetData})(Games||(Games={}));var Games;(function(Games){var CityData=(function(){function CityData(id,state,isHome){this.id=id;this.state=state;this.isHome=isHome}Object.defineProperty(CityData.prototype,"name",{get:function(){return this.cfg.name},enumerable:true,configurable:true});Object.defineProperty(CityData.prototype,"num",{get:function(){return this.cfg.city_num},enumerable:true,configurable:true});Object.defineProperty(CityData.prototype,"country",{get:function(){return this.cfg.country},enumerable:true,configurable:true});Object.defineProperty(CityData.prototype,"numName",{get:function(){return this.num+"."+this.name},enumerable:true,configurable:true});Object.defineProperty(CityData.prototype,"cfg",{get:function(){return Game.config.city.getConfig(this.id)},enumerable:true,configurable:true});Object.defineProperty(CityData.prototype,"holdReward",{get:function(){var cfg=this.cfg;if(cfg){return cfg.hold_reward}return[]},enumerable:true,configurable:true});return CityData}());Games.CityData=CityData})(Games||(Games={}));var Games;(function(Games){var BusinessData=(function(){function BusinessData(){this.tomaxTimeOut=0;this.resetTimeHandler=0}Object.defineProperty(BusinessData.prototype,"id",{get:function(){return this._id},set:function(value){this._id=value;if(value>0){this.config=Game.config.business.getConfig(value)}},enumerable:true,configurable:true});Object.defineProperty(BusinessData.prototype,"interval",{get:function(){return Game.config.global.getConfig(GlobalKey.bussiness_cd).value},enumerable:true,configurable:true});Object.defineProperty(BusinessData.prototype,"nextBusinessNum",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastResetTime;var duration=0;if(nowTime>lastTime){duration=nowTime-lastTime}var num=Math.floor(duration/this.interval);num=Math.min(this.lineLimit,num);return num},enumerable:true,configurable:true});Object.defineProperty(BusinessData.prototype,"resultRewards",{get:function(){var items=[];for(var index=0;index<this.config.reward.length;index++){var element=this.config.reward[index];var item=new DTItemNum();item.itemId=element.itemId;var num=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Office,item.itemId,element.itemNum);item.itemNum=num;items.push(item)}var expect=new DTItemNum();expect.itemId=EItemId.expect;expect.itemNum=Game.moduleModel.building.getBuildEffectNum(Games.RoomType.Office,expect.itemId,this.config.expect);items.push(expect);return items},enumerable:true,configurable:true});Object.defineProperty(BusinessData.prototype,"nextBusinessComeTime",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=this.lastResetTime+this.interval;return Math.max(0,lastTime-nowTime)},enumerable:true,configurable:true});Object.defineProperty(BusinessData.prototype,"isMaxDaily",{get:function(){return this.dailyCount>=Game.config.global.getConfig(GlobalKey.bussiness_number).value},enumerable:true,configurable:true});BusinessData.prototype.startToMaxTime=function(){if(this.tomaxTimeOut>0){clearTimeout(this.tomaxTimeOut);this.tomaxTimeOut=0}var nowTime=Game.time.serverSeconds;var nextNum=this.nextBusinessNum;if(nextNum<this.lineLimit){var duration=(this.lineLimit-nextNum)*this.interval;this.tomaxTimeOut=setTimeout(function(){Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)},duration*1000)}Game.event.dispatch(GameEventKey.GameEventKey_UpdateMainUIRed)};BusinessData.prototype.startResetDailyCountTime=function(){var _this=this;clearTimeout(this.resetTimeHandler);if(Game.time.checkNewDayToRefrush(this.lastUpdateTime,0)){this.dailyCount=0}else{var resetHour=0;var curr=Game.time.serverMilliseconds;var d=new Date();d.setTime(curr);d.setMinutes(0);d.setSeconds(0);var hour=d.getHours();d.setHours(resetHour);d.setTime(d.getTime()+24*60*60*1000);var nextSecond=Math.floor(d.getTime()/1000);var currSecond=Game.time.serverSeconds;if(currSecond<nextSecond){var timeDuration=nextSecond-currSecond;this.resetTimeHandler=setTimeout(function(){_this.dailyCount=0},timeDuration*1000)}}};Object.defineProperty(BusinessData.prototype,"isMax",{get:function(){return this.nextBusinessNum>=this.lineLimit&&this.isMaxDaily==false},enumerable:true,configurable:true});return BusinessData}());Games.BusinessData=BusinessData})(Games||(Games={}));var Games;(function(Games){var AwardsData=(function(){function AwardsData(){}Object.defineProperty(AwardsData.prototype,"name",{get:function(){return Game.config.msg.getConfig(AwardsData.namelist[this.type]).notice},enumerable:true,configurable:true});Object.defineProperty(AwardsData.prototype,"winner",{get:function(){if(this.listCandidate==null||this.winnerIndex==null||this.winnerIndex<0||this.winnerIndex>=this.listCandidate.length){return null}var winner=this.listCandidate[this.winnerIndex];return winner},enumerable:true,configurable:true});AwardsData.Create=function(type,listCandidate,winnerIndex){var awards=new AwardsData();awards.type=type;awards.listCandidate=listCandidate||[];awards.winnerIndex=winnerIndex||0;return awards};AwardsData.namelist=[0,1085,1086,1087,1088,1089];return AwardsData}());Games.AwardsData=AwardsData})(Games||(Games={}));var Games;(function(Games){var ActionType;(function(ActionType){ActionType[ActionType.Time=1]="Time";ActionType[ActionType.Point=2]="Point"})(ActionType=Games.ActionType||(Games.ActionType={}));var ATEvent=(function(){function ATEvent(){}ATEvent.parse=function(eventId){var self=new ATEvent();var eventCfg=Game.config.event.getConfig(eventId);self.evtId=eventCfg.id;self.actionInfo=new ATActionInfo();self.actionInfo.parse(eventCfg);return self};ATEvent.prototype.setTalkParams=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}this.actionInfo.setTalkParams(args)};return ATEvent}());Games.ATEvent=ATEvent;var ATActionInfo=(function(){function ATActionInfo(){this.actionType=ActionType.Time;this.talkParams=[]}ATActionInfo.prototype.parse=function(config){this.config=config;this.actionType=config.type;this.actions=new Array();var act=this.getAct();this.actionId=act.v1;if(this.actionType==ActionType.Time){this.actionTime=act.v2}else{if(this.actionType==ActionType.Point){this.actionPointX=act.v2}}var talk=this.getTalk();this.talkActionId=talk.v1;this.talkActionTime=talk.v2};ATActionInfo.prototype.getAct=function(){var maxRandom=0;this.config.action.forEach(function(value,index,array){maxRandom+=value.v3});var randVal=Random.rangeBoth(0,maxRandom);var dr=0;for(var i=0;i<this.config.action.length;i++){dr+=this.config.action[i].v3;if(dr>=randVal){var act=this.config.action[i];this.actionId=act.v1;this.actionTime=act.v2;return act}}return null};ATActionInfo.prototype.getTalk=function(){var maxRandom=0;this.config.speak.forEach(function(value,index,array){maxRandom+=value.v3});var randVal=Random.rangeBoth(0,maxRandom);var dr=0;for(var i=0;i<this.config.speak.length;i++){dr+=this.config.speak[i].v3;if(dr>=randVal){var talk=this.config.speak[i];this.talkActionId=talk.v1;this.talkActionTime=talk.v2;return talk}}return null};ATActionInfo.prototype.setTalkParams=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}this.talkParams=args};return ATActionInfo}());Games.ATActionInfo=ATActionInfo})(Games||(Games={}));var Games;(function(Games){var AssetData=(function(){function AssetData(){this.lv=1;this.actorExtraLimit=0;this.extraGiveACLimit=0;this.giveItemDic=new Dictionary();this.giveItems=[]}AssetData.prototype.update=function(data){this.data=data;this.giveItemDic.clear();this.giveItems.splice(0,this.giveItems.length);if(data){this.lv=data.giveLevel;if(data.giveItemList){for(var index=0;index<data.giveItemList.length;index++){var element=data.giveItemList[index];this.giveItems.push(element.amount);this.giveItemDic.add(element.itemId,element)}}this.extraGiveACLimit=data.extraGiveACLimit}var actorConfig=Game.config.actor.getConfig(this.actorId);var assetId=this.actorId*100+this.type;this.isMax=false;if(actorConfig){var actorAssetConfig=Game.config.actorAssets.getConfig(assetId);if(actorAssetConfig){this.actor_property=actorAssetConfig.actor_property}var assetNexLvConfig=Game.config.actorAssetsLv.getConfig(this.lv+1);if(assetNexLvConfig){this.isMax=false}else{this.isMax=true}var assetLvConfig=Game.config.actorAssetsLv.getConfig(this.lv);if(assetLvConfig){var star=actorConfig.starNum;this.num=assetLvConfig["star"+star+"_num"];this.value=assetLvConfig["star"+star+"_value"];this.max=assetLvConfig["star"+star+"_max"];switch(this.type){case 1:this.item=assetLvConfig["sex_"+actorConfig.sex];break;case 2:this.item=assetLvConfig["c_"+actorConfig.country];break;case 3:this.item=assetLvConfig["p_"+actorConfig.show_type];break;case 4:this.item=assetLvConfig["y_"+actorConfig.age_type];break;default:break}}}};AssetData.prototype.getItemNum=function(id){var num=0;var d=this.giveItemDic.getValue(id);if(d){num=d.amount}return num};AssetData.prototype.getCurLvItemNum=function(id){var lv=this.lv;var count=this.getItemNum(id);while(lv>1){lv=lv-1;var actorConfig=Game.config.actor.getConfig(this.actorId);if(actorConfig){var star=actorConfig.starNum;var item=0;var num=0;var assetLvConfig=Game.config.actorAssetsLv.getConfig(lv);if(assetLvConfig){num=assetLvConfig["star"+star+"_num"];switch(this.type){case 1:item=assetLvConfig["sex_"+actorConfig.sex];break;case 2:item=assetLvConfig["c_"+actorConfig.country];break;case 3:item=assetLvConfig["p_"+actorConfig.show_type];break;case 4:item=assetLvConfig["y_"+actorConfig.age_type];break;default:break}if(item==id){count=count-num}}}}return count};Object.defineProperty(AssetData.prototype,"maxSendNum",{get:function(){var num=0;var items=this.giveItemDic.getValues();var preCount=0;for(var index=0;index<items.length;index++){var item=items[index];if(item.itemId!=this.item){preCount+=item.amount}}num=this.actorExtraLimit-preCount;return num+this.extraGiveACLimit},enumerable:true,configurable:true});Object.defineProperty(AssetData.prototype,"useCardMax",{get:function(){var max=this.num;return max},enumerable:true,configurable:true});return AssetData}());Games.AssetData=AssetData})(Games||(Games={}));var Games;(function(Games){var ActorTrainData=(function(){function ActorTrainData(){this.property=[];this.property_interval=[]}ActorTrainData.prototype.update=function(id,type,count){this.property_interval.splice(0,this.property_interval.length);this.id=id;this.type=type;this.count=count;var tId=id*100+this.type;var actorConfig=Game.config.actor.getConfig(id);if(actorConfig){this.actorTrainConfig=Game.config.actorTrain.getConfig(tId);if(this.actorTrainConfig){this.name=this.actorTrainConfig.name;this.action=this.actorTrainConfig.action;this.scene_name=this.actorTrainConfig.scene_name;this.property=this.actorTrainConfig.property;var star=actorConfig.starNum;var actorTrainLvConfig=Game.config.actorTrainLv.getConfig(count);if(actorTrainLvConfig){this.cost=actorTrainLvConfig.cost;this.diamondsCost=actorTrainLvConfig.diamonds_cost;for(var index=0;index<this.property.length;index++){var element=this.property[index];if(element==actorConfig.main_id){this.property_interval.push(actorTrainLvConfig["star"+star+"_main"])}else{this.property_interval.push(actorTrainLvConfig["star"+star+"_vice"])}}}}}};return ActorTrainData}());Games.ActorTrainData=ActorTrainData})(Games||(Games={}));var Games;(function(Games){var ActorLevelData=(function(){function ActorLevelData(){}ActorLevelData.prototype.update=function(id,lv){this.id=id;this.lv=lv;var actorConfig=Game.config.actorLevel.getConfig(lv);if(actorConfig){this.cost=actorConfig.cost}};return ActorLevelData}());Games.ActorLevelData=ActorLevelData})(Games||(Games={}));var Games;(function(Games){var ActorExerciseData=(function(){function ActorExerciseData(msg){this.seatUuid="";this.uuid="";this.id=0;this.seatIndex=0;this.startTime=0;if(msg){this.uuid=msg.actorUuid;this.seatIndex=msg.index;this.startTime=msg.startTime}}return ActorExerciseData}());Games.ActorExerciseData=ActorExerciseData;var ActorData=(function(){function ActorData(){this.spectacle=0;this.perform=0;this.plot=0;this.art=0;this.entertainment=0;this.boxOfficeCount=0;this.cupCount=0;this.movieCount=0;this.popularValue=0}ActorData.prototype.PayForFilming=function(positionId){var story=Game.moduleModel.warData.moveStory;var posCost=Game.config.position.getConfig(positionId).position_con*0.01;var starCost=Game.config.starCon.getConfig(story.stars).story_star_con*0.01;return this.payCheck*posCost*starCost};ActorData.prototype.getShootType=function(type){for(var i=0;i<this.shootTypeList.length;i++){if(this.shootTypeList[i].type===type){return this.shootTypeList[i]}}return null};ActorData.prototype.getShootListLvGreater0=function(){var list=[];for(var i=0;i<this.shootTypeList.length;i++){if(this.shootTypeList[i].proficiencyLevel>0){list.push(this.shootTypeList[i])}}return list};ActorData.prototype.setId=function(value){this.id=value;this.config=Game.config.actor.getConfig(value);this.props=[];if(this.config.spectacle>0){this.props.push(1601)}if(this.config.perform>0){this.props.push(1602)}if(this.config.plot>0){this.props.push(1603)}if(this.config.art>0){this.props.push(1604)}if(this.config.entertainment>0){this.props.push(1605)}};ActorData.prototype.setLevel=function(value){this.level=value;if(this.levelData==null){this.levelData=new Games.ActorLevelData()}this.levelData.update(this.id,value)};ActorData.prototype.setTrainCount=function(value){this.cultivateCount=value;if(this.trainData==null){this.trainData=[new Games.ActorTrainData(),new Games.ActorTrainData(),new Games.ActorTrainData(),new Games.ActorTrainData()]}if(this.nextTrainData==null){this.nextTrainData=[new Games.ActorTrainData(),new Games.ActorTrainData(),new Games.ActorTrainData(),new Games.ActorTrainData()]}for(var index=0;index<this.trainData.length;index++){var element=this.trainData[index];element.update(this.id,index+1,this.cultivateCount)}for(var index=0;index<this.nextTrainData.length;index++){var element=this.nextTrainData[index];element.update(this.id,index+1,this.cultivateCount+1)}};ActorData.prototype.getTrainDataByType=function(type){return this.trainData[type-1]};ActorData.prototype.getNextTrainDataByType=function(type){return this.nextTrainData[type]};Object.defineProperty(ActorData.prototype,"star",{get:function(){return this.config.starNum},enumerable:true,configurable:true});ActorData.prototype.getProps=function(){return this.props};ActorData.prototype.setSkills=function(){if(this.skills==null){this.skills=new Array()}if(this.skillDict==null){this.skillDict=new Dictionary()}var skills=this.config.skill;for(var index=0;index<skills.length;index++){var data;if(index<this.skills.length){data=this.skills[index]}else{data=new Games.SkillData()}data.setDTActor(skills[index]);var config=data.config;var groupId=config.group_id;data.actorId=this.id;data.update(this.getSkillByGroupId(groupId));this.skillDict.add(groupId,data);this.skills.push(data)}};ActorData.prototype.setAssets=function(){if(this.assets==null){this.assets=new Array()}for(var index=0;index<Games.ActorModel.assetLenth;index++){var data;if(index<this.assets.length){data=this.assets[index]}else{data=new Games.AssetData();data.actorId=this.id;data.type=index+1}data.actorExtraLimit=this.giveAssetsCountLimit;data.update(this.getAssetByType(index+1));this.assets.push(data)}};ActorData.prototype.getAssetByType=function(type){for(var index=0;index<this.giveAssetsList.length;index++){var element=this.giveAssetsList[index];if(element.giveType==type){return element}}return null};ActorData.prototype.getSkillByGroupId=function(id){for(var index=0;index<this.skillList.length;index++){var element=this.skillList[index];var config=Game.config.skill.getConfig(element.skillId);if(config.group_id==id){return element}}return null};ActorData.prototype.getEffectSkills=function(){return this.skills.filter(function(value,index,array){return value.isEffect==true})};ActorData.prototype.getUnlockSkillByType=function(type){var skill;for(var index=0;index<this.skills.length;index++){var element=this.skills[index];if(element.config){var effect=Game.config.skillEffect.getConfig(element.config.effect).effect;if(effect==type){skill=element;break}}}return skill};ActorData.prototype.getMaxLv=function(){return Game.config.actorLoyalty.getConfigByIdLv(this.id,this.loyaltyLevel).max_lv};ActorData.prototype.isMaxLv=function(){var lv=this.loyaltyLevel+1;var loyConfig=Game.config.actorLoyalty.getConfigByIdLv(this.id,lv);var isMax=true;if(loyConfig){isMax=false}return isMax};ActorData.prototype.getNextLvUpLoyaltyLv=function(){var lv=this.loyaltyLevel;var curMaxLv=this.getMaxLv();while(true){lv=lv+1;var loyConfig=Game.config.actorLoyalty.getConfigByIdLv(this.id,lv);if(loyConfig){if(loyConfig.max_lv>curMaxLv){break}}else{break}}return lv};ActorData.prototype.getNextLvUpLv=function(){var lv=this.loyaltyLevel;var curMaxLv=this.getMaxLv();var nextMaxLv;while(true){lv=lv+1;var loyConfig=Game.config.actorLoyalty.getConfigByIdLv(this.id,lv);if(loyConfig){if(loyConfig.max_lv>curMaxLv){nextMaxLv=loyConfig.max_lv;break}}else{break}}return nextMaxLv};Object.defineProperty(ActorData.prototype,"isLoyaltyMaxLv",{get:function(){var loyConfig=Game.config.actorLoyalty.getConfigByIdLv(this.id,this.loyaltyLevel);var nextConfig=Game.config.actorLoyalty.getConfigByIdLv(this.id,this.loyaltyLevel+1);if(!nextConfig&&this.loyaltyExp>=loyConfig.exp-1){return true}return false},enumerable:true,configurable:true});Object.defineProperty(ActorData.prototype,"bodyIconUrl",{get:function(){return this.config.avatarConfig.bodyIconUrl},enumerable:true,configurable:true});Object.defineProperty(ActorData.prototype,"upgradeCostNum",{get:function(){var srcCostNum=this.levelData.cost.itemNum-this.levelExp;var rate=1;var skill=this.getUnlockSkillByType(Games.SkillTriggerType.upgrade_gold_cost);if(skill&&skill.isUnlock){rate=rate+skill.config.value/100}srcCostNum=Math.max(0,Math.ceil(srcCostNum*rate));return srcCostNum},enumerable:true,configurable:true});Object.defineProperty(ActorData.prototype,"upgradeTotalCostNum",{get:function(){var srcCostNum=this.levelData.cost.itemNum;var rate=1;var skill=this.getUnlockSkillByType(Games.SkillTriggerType.upgrade_gold_cost);if(skill&&skill.isUnlock){rate=rate+skill.config.value/100}srcCostNum=Math.max(0,Math.ceil(srcCostNum*rate));return srcCostNum},enumerable:true,configurable:true});ActorData.prototype.getAssetDataByType=function(type){return this.assets[type]};ActorData.prototype.upgradeTrainCostGoldNum=function(type){var trianConfig=this.getNextTrainDataByType(type-1);var srcCostNum=trianConfig.cost[0].itemNum;var rate=1;var skill=this.getUnlockSkillByType(Games.SkillTriggerType.upgrade_gold_cost);if(skill&&skill.isUnlock){rate=rate+skill.config.value/100}srcCostNum=Math.max(0,Math.ceil(srcCostNum*rate));return srcCostNum};Object.defineProperty(ActorData.prototype,"preMaxLv",{get:function(){var lv=this.level-1;var maxLv=0;if(lv>0){maxLv=Game.config.actorLoyalty.getMaxLv(this.id,lv)}return maxLv},enumerable:true,configurable:true});Object.defineProperty(ActorData.prototype,"curMaxLv",{get:function(){var lv=this.level;var maxLv=0;if(lv>0){maxLv=Game.config.actorLoyalty.getMaxLv(this.id,lv)}return maxLv},enumerable:true,configurable:true});return ActorData}());Games.ActorData=ActorData})(Games||(Games={}));var Games;(function(Games){var WarSubwindowType;(function(WarSubwindowType){WarSubwindowType[WarSubwindowType.ShootingConfirmation=0]="ShootingConfirmation";WarSubwindowType[WarSubwindowType.FilmSelect=1]="FilmSelect";WarSubwindowType[WarSubwindowType.FilmInfo=2]="FilmInfo";WarSubwindowType[WarSubwindowType.CurrentMarketInf=3]="CurrentMarketInf";WarSubwindowType[WarSubwindowType.SelectYiren=4]="SelectYiren";WarSubwindowType[WarSubwindowType.CostView=5]="CostView";WarSubwindowType[WarSubwindowType.YRShowView=6]="YRShowView";WarSubwindowType[WarSubwindowType.Compatibility=7]="Compatibility";WarSubwindowType[WarSubwindowType.SelectFilmType=8]="SelectFilmType";WarSubwindowType[WarSubwindowType.Filming=9]="Filming";WarSubwindowType[WarSubwindowType.FilmSQView=10]="FilmSQView";WarSubwindowType[WarSubwindowType.NoticeFeedBack=11]="NoticeFeedBack";WarSubwindowType[WarSubwindowType.SelectNotice=12]="SelectNotice";WarSubwindowType[WarSubwindowType.FilmSQ=13]="FilmSQ";WarSubwindowType[WarSubwindowType.proficiency=14]="proficiency";WarSubwindowType[WarSubwindowType.CinemaSelection=15]="CinemaSelection";WarSubwindowType[WarSubwindowType.SYPF=16]="SYPF";WarSubwindowType[WarSubwindowType.AudienceReputation=17]="AudienceReputation";WarSubwindowType[WarSubwindowType.Shangying=18]="Shangying";WarSubwindowType[WarSubwindowType.overMarket=19]="overMarket";WarSubwindowType[WarSubwindowType.Jiesuan=20]="Jiesuan";WarSubwindowType[WarSubwindowType.Share=21]="Share";WarSubwindowType[WarSubwindowType.Baozi=22]="Baozi";WarSubwindowType[WarSubwindowType.OverTip=23]="OverTip";WarSubwindowType[WarSubwindowType.ReName=24]="ReName";WarSubwindowType[WarSubwindowType.EndIncome=25]="EndIncome";WarSubwindowType[WarSubwindowType.XukeOver=26]="XukeOver";WarSubwindowType[WarSubwindowType.XukeHuifu=27]="XukeHuifu"})(WarSubwindowType=Games.WarSubwindowType||(Games.WarSubwindowType={}))})(Games||(Games={}));var Games;(function(Games){var UnlockType;(function(UnlockType){UnlockType[UnlockType.None=0]="None";UnlockType[UnlockType.Level=1]="Level";UnlockType[UnlockType.BuildingLevel=2]="BuildingLevel";UnlockType[UnlockType.BlockLevel=3]="BlockLevel";UnlockType[UnlockType.Other=4]="Other"})(UnlockType=Games.UnlockType||(Games.UnlockType={}))})(Games||(Games={}));var Games;(function(Games){var TimeLimitType;(function(TimeLimitType){TimeLimitType[TimeLimitType.Zero=0]="Zero";TimeLimitType[TimeLimitType.Ten=1]="Ten";TimeLimitType[TimeLimitType.NineToFifty=2]="NineToFifty";TimeLimitType[TimeLimitType.NineToFiftyFive=3]="NineToFiftyFive"})(TimeLimitType=Games.TimeLimitType||(Games.TimeLimitType={}))})(Games||(Games={}));var Games;(function(Games){var StreetStateEnum;(function(StreetStateEnum){StreetStateEnum[StreetStateEnum.NotOccupy=0]="NotOccupy";StreetStateEnum[StreetStateEnum.InOccupy=1]="InOccupy";StreetStateEnum[StreetStateEnum.HasOccupy=2]="HasOccupy"})(StreetStateEnum=Games.StreetStateEnum||(Games.StreetStateEnum={}))})(Games||(Games={}));var Games;(function(Games){var SkillTriggerType;(function(SkillTriggerType){SkillTriggerType[SkillTriggerType.get_gold_speed=1]="get_gold_speed";SkillTriggerType[SkillTriggerType.production_earnings=2]="production_earnings";SkillTriggerType[SkillTriggerType.actor_paycheck=3]="actor_paycheck";SkillTriggerType[SkillTriggerType.box_office_earnings=4]="box_office_earnings";SkillTriggerType[SkillTriggerType.city_get_gold_time=5]="city_get_gold_time";SkillTriggerType[SkillTriggerType.upgrade_gold_cost=6]="upgrade_gold_cost";SkillTriggerType[SkillTriggerType.shoot_Total_attribute_increase=7]="shoot_Total_attribute_increase"})(SkillTriggerType=Games.SkillTriggerType||(Games.SkillTriggerType={}))})(Games||(Games={}));var Games;(function(Games){var RoomType;(function(RoomType){RoomType[RoomType.Cinema=1]="Cinema";RoomType[RoomType.Shoot=2]="Shoot";RoomType[RoomType.Actor=3]="Actor";RoomType[RoomType.Market=4]="Market";RoomType[RoomType.Spread=5]="Spread";RoomType[RoomType.Depot=6]="Depot";RoomType[RoomType.Sale=7]="Sale";RoomType[RoomType.Business=8]="Business";RoomType[RoomType.Office=9]="Office";RoomType[RoomType.Reception=10]="Reception";RoomType[RoomType.Meeting=11]="Meeting";RoomType[RoomType.Finance=12]="Finance";RoomType[RoomType.Training=13]="Training";RoomType[RoomType.GlobalBusiness=14]="GlobalBusiness";RoomType[RoomType.UniversalBusiness=15]="UniversalBusiness";RoomType[RoomType.Collection=16]="Collection"})(RoomType=Games.RoomType||(Games.RoomType={}))})(Games||(Games={}));var Games;(function(Games){var RankListType;(function(RankListType){RankListType[RankListType.GroupList=1]="GroupList";RankListType[RankListType.GroupMovieList=2]="GroupMovieList";RankListType[RankListType.ServerList=3]="ServerList"})(RankListType=Games.RankListType||(Games.RankListType={}))})(Games||(Games={}));var Games;(function(Games){var PerformType;(function(PerformType){PerformType[PerformType.FreeWalk=0]="FreeWalk";PerformType[PerformType.Cinema=1]="Cinema";PerformType[PerformType.Shoot=2]="Shoot";PerformType[PerformType.Reception=3]="Reception";PerformType[PerformType.Training=4]="Training";PerformType[PerformType.Meeting=5]="Meeting";PerformType[PerformType.Oscar=6]="Oscar";PerformType[PerformType.RoadShow=7]="RoadShow";PerformType[PerformType.ReceptionFansTalk=8]="ReceptionFansTalk";PerformType[PerformType.ReceptionActorTalk=9]="ReceptionActorTalk"})(PerformType=Games.PerformType||(Games.PerformType={}))})(Games||(Games={}));var Games;(function(Games){var OtherFunctionType;(function(OtherFunctionType){OtherFunctionType[OtherFunctionType.ActorSkillExp=0]="ActorSkillExp";OtherFunctionType[OtherFunctionType.ActorStarCard=1]="ActorStarCard"})(OtherFunctionType=Games.OtherFunctionType||(Games.OtherFunctionType={}))})(Games||(Games={}));var Games;(function(Games){var OscarAwardsType;(function(OscarAwardsType){OscarAwardsType[OscarAwardsType.Man=1]="Man";OscarAwardsType[OscarAwardsType.Woman=2]="Woman";OscarAwardsType[OscarAwardsType.Perform=3]="Perform";OscarAwardsType[OscarAwardsType.Art=4]="Art";OscarAwardsType[OscarAwardsType.PublicPraise=5]="PublicPraise"})(OscarAwardsType=Games.OscarAwardsType||(Games.OscarAwardsType={}))})(Games||(Games={}));var Games;(function(Games){var MainTaskRequireType;(function(MainTaskRequireType){MainTaskRequireType[MainTaskRequireType.RequireType_1_MakeBuild=1]="RequireType_1_MakeBuild";MainTaskRequireType[MainTaskRequireType.RequireType_2_UpgradeBuild=2]="RequireType_2_UpgradeBuild";MainTaskRequireType[MainTaskRequireType.RequireType_3_UpgradeActor=3]="RequireType_3_UpgradeActor";MainTaskRequireType[MainTaskRequireType.RequireType_4_NoseActor=4]="RequireType_4_NoseActor";MainTaskRequireType[MainTaskRequireType.RequireType_5_StreetPublicize=5]="RequireType_5_StreetPublicize";MainTaskRequireType[MainTaskRequireType.RequireType_6_RoadShow=6]="RequireType_6_RoadShow";MainTaskRequireType[MainTaskRequireType.RequireType_7_CityFinish=7]="RequireType_7_CityFinish";MainTaskRequireType[MainTaskRequireType.RequireType_8_TaskMovie=8]="RequireType_8_TaskMovie";MainTaskRequireType[MainTaskRequireType.RequireType_9_SeeMovieReward=9]="RequireType_9_SeeMovieReward";MainTaskRequireType[MainTaskRequireType.RequireType_10_GetMovieReward=10]="RequireType_10_GetMovieReward";MainTaskRequireType[MainTaskRequireType.RequireType_11_UpgradeAttention=11]="RequireType_11_UpgradeAttention";MainTaskRequireType[MainTaskRequireType.RequireType_12_AppointActor=12]="RequireType_12_AppointActor";MainTaskRequireType[MainTaskRequireType.RequireType_13_ChooseFocusPointCity=13]="RequireType_13_ChooseFocusPointCity";MainTaskRequireType[MainTaskRequireType.RequireType_14_GetCityReward=14]="RequireType_14_GetCityReward";MainTaskRequireType[MainTaskRequireType.RequireType_15_DoPuduct=15]="RequireType_15_DoPuduct";MainTaskRequireType[MainTaskRequireType.RequireType_16_CompleteOrder=16]="RequireType_16_CompleteOrder";MainTaskRequireType[MainTaskRequireType.RequireType_17_DoBusiness=17]="RequireType_17_DoBusiness";MainTaskRequireType[MainTaskRequireType.RequireType_18_FansVisit=18]="RequireType_18_FansVisit";MainTaskRequireType[MainTaskRequireType.RequireType_19_GetMovieReward=19]="RequireType_19_GetMovieReward";MainTaskRequireType[MainTaskRequireType.RequireType_20_OpenRank=20]="RequireType_20_OpenRank"})(MainTaskRequireType=Games.MainTaskRequireType||(Games.MainTaskRequireType={}))})(Games||(Games={}));var Games;(function(Games){var GuideType;(function(GuideType){GuideType[GuideType.None=0]="None";GuideType[GuideType.Story=1]="Story";GuideType[GuideType.Guide=2]="Guide"})(GuideType=Games.GuideType||(Games.GuideType={}));var GuideAnchor;(function(GuideAnchor){GuideAnchor[GuideAnchor.Left=1]="Left";GuideAnchor[GuideAnchor.Right=2]="Right"})(GuideAnchor=Games.GuideAnchor||(Games.GuideAnchor={}));var GuideDialogType;(function(GuideDialogType){GuideDialogType[GuideDialogType.Dialog=0]="Dialog";GuideDialogType[GuideDialogType.Left=1]="Left";GuideDialogType[GuideDialogType.Right=2]="Right";GuideDialogType[GuideDialogType.Npc=3]="Npc";GuideDialogType[GuideDialogType.HaiBao=4]="HaiBao";GuideDialogType[GuideDialogType.Hide=5]="Hide"})(GuideDialogType=Games.GuideDialogType||(Games.GuideDialogType={}));var GuideUIType;(function(GuideUIType){GuideUIType[GuideUIType.None=0]="None";GuideUIType[GuideUIType.NpcIntro=1]="NpcIntro";GuideUIType[GuideUIType.InitAcotr=2]="InitAcotr";GuideUIType[GuideUIType.HaiBao=3]="HaiBao"})(GuideUIType=Games.GuideUIType||(Games.GuideUIType={}));var GuideFullClickType;(function(GuideFullClickType){GuideFullClickType[GuideFullClickType.None=0]="None";GuideFullClickType[GuideFullClickType.CompleteWrite=1]="CompleteWrite";GuideFullClickType[GuideFullClickType.NextGuide=2]="NextGuide";GuideFullClickType[GuideFullClickType.CompleteNotForceGuide=3]="CompleteNotForceGuide";GuideFullClickType[GuideFullClickType.NextStory=4]="NextStory"})(GuideFullClickType=Games.GuideFullClickType||(Games.GuideFullClickType={}));var StoryTriggerType;(function(StoryTriggerType){StoryTriggerType[StoryTriggerType.MainUI=0]="MainUI";StoryTriggerType[StoryTriggerType.Create=1]="Create";StoryTriggerType[StoryTriggerType.ClickBtn=2]="ClickBtn";StoryTriggerType[StoryTriggerType.ClickIcon=3]="ClickIcon";StoryTriggerType[StoryTriggerType.SelectActor=4]="SelectActor";StoryTriggerType[StoryTriggerType.FinishStreet=5]="FinishStreet";StoryTriggerType[StoryTriggerType.FinishRoadShow=6]="FinishRoadShow";StoryTriggerType[StoryTriggerType.FinishBuild=7]="FinishBuild";StoryTriggerType[StoryTriggerType.FinishPreGuide=8]="FinishPreGuide";StoryTriggerType[StoryTriggerType.OpenMenu=9]="OpenMenu";StoryTriggerType[StoryTriggerType.FristSumitTakeMovie=10]="FristSumitTakeMovie";StoryTriggerType[StoryTriggerType.FristMovieUp=11]="FristMovieUp";StoryTriggerType[StoryTriggerType.FinishPreStory=12]="FinishPreStory";StoryTriggerType[StoryTriggerType.OpenOscar=13]="OpenOscar";StoryTriggerType[StoryTriggerType.SelectStoryMoneyNotEnough=14]="SelectStoryMoneyNotEnough"})(StoryTriggerType=Games.StoryTriggerType||(Games.StoryTriggerType={}));var GuideFinishType;(function(GuideFinishType){GuideFinishType[GuideFinishType.GuideFinishType_1_MakeBuild=1]="GuideFinishType_1_MakeBuild";GuideFinishType[GuideFinishType.GuideFinishType_2_UpgradeBuild=2]="GuideFinishType_2_UpgradeBuild";GuideFinishType[GuideFinishType.GuideFinishType_3_UpgradeActor=3]="GuideFinishType_3_UpgradeActor";GuideFinishType[GuideFinishType.GuideFinishType_4_NoseActor=4]="GuideFinishType_4_NoseActor";GuideFinishType[GuideFinishType.GuideFinishType_5_StreetPublicize=5]="GuideFinishType_5_StreetPublicize";GuideFinishType[GuideFinishType.GuideFinishType_6_RoadShow=6]="GuideFinishType_6_RoadShow";GuideFinishType[GuideFinishType.GuideFinishType_7_CityFinish=7]="GuideFinishType_7_CityFinish";GuideFinishType[GuideFinishType.GuideFinishType_8_TakeMovie=8]="GuideFinishType_8_TakeMovie";GuideFinishType[GuideFinishType.GuideFinishType_9_SeeMovieReward=9]="GuideFinishType_9_SeeMovieReward";GuideFinishType[GuideFinishType.GuideFinishType_10_GetMovieReward=10]="GuideFinishType_10_GetMovieReward";GuideFinishType[GuideFinishType.GuideFinishType_11_UpgradeAttention=11]="GuideFinishType_11_UpgradeAttention";GuideFinishType[GuideFinishType.GuideFinishType_12_AppointActor=12]="GuideFinishType_12_AppointActor";GuideFinishType[GuideFinishType.GuideFinishType_13_ChooseFocusPointCity=13]="GuideFinishType_13_ChooseFocusPointCity";GuideFinishType[GuideFinishType.GuideFinishType_14_GetCityReward=14]="GuideFinishType_14_GetCityReward";GuideFinishType[GuideFinishType.GuideFinishType_15_DoPuduct=15]="GuideFinishType_15_DoPuduct";GuideFinishType[GuideFinishType.GuideFinishType_16_CompleteOrder=16]="GuideFinishType_16_CompleteOrder";GuideFinishType[GuideFinishType.GuideFinishType_17_DoBusiness=17]="GuideFinishType_17_DoBusiness";GuideFinishType[GuideFinishType.GuideFinishType_18_FansVisit=18]="GuideFinishType_18_FansVisit";GuideFinishType[GuideFinishType.GuideFinishType_19_GetTotalRewardMovie=19]="GuideFinishType_19_GetTotalRewardMovie";GuideFinishType[GuideFinishType.GuideFinishType_20_ClickTarget=20]="GuideFinishType_20_ClickTarget";GuideFinishType[GuideFinishType.GuideFinishType_21_ExpendFloor=21]="GuideFinishType_21_ExpendFloor";GuideFinishType[GuideFinishType.GuideFinishType_22_SelectContory=22]="GuideFinishType_22_SelectContory";GuideFinishType[GuideFinishType.GuideFinishType_23_SelectCity=23]="GuideFinishType_23_SelectCity";GuideFinishType[GuideFinishType.GuideFinishType_24_ClickAnyWhere=24]="GuideFinishType_24_ClickAnyWhere";GuideFinishType[GuideFinishType.GuideFinishType_25_OrderIntoBox=25]="GuideFinishType_25_OrderIntoBox";GuideFinishType[GuideFinishType.GuideFinishType_26_SelectStory=26]="GuideFinishType_26_SelectStory";GuideFinishType[GuideFinishType.GuideFinishType_27_CostlicenceNum=27]="GuideFinishType_27_CostlicenceNum";GuideFinishType[GuideFinishType.GuideFinishType_28_TakeMoiveType=28]="GuideFinishType_28_TakeMoiveType";GuideFinishType[GuideFinishType.GuideFinishType_29_FinishPreGuide=29]="GuideFinishType_29_FinishPreGuide"})(GuideFinishType=Games.GuideFinishType||(Games.GuideFinishType={}))})(Games||(Games={}));var Games;(function(Games){var DirtionType;(function(DirtionType){DirtionType[DirtionType.None=0]="None";DirtionType[DirtionType.Left=1]="Left";DirtionType[DirtionType.Right=2]="Right";DirtionType[DirtionType.Up=3]="Up";DirtionType[DirtionType.Down=4]="Down"})(DirtionType=Games.DirtionType||(Games.DirtionType={}))})(Games||(Games={}));var Games;(function(Games){var Dirtion;(function(Dirtion){Dirtion[Dirtion.None=0]="None";Dirtion[Dirtion.Left=1]="Left";Dirtion[Dirtion.Right=2]="Right";Dirtion[Dirtion.Up=3]="Up";Dirtion[Dirtion.Down=4]="Down"})(Dirtion=Games.Dirtion||(Games.Dirtion={}))})(Games||(Games={}));var Games;(function(Games){var CountryStateEnum;(function(CountryStateEnum){CountryStateEnum[CountryStateEnum.NotOccupy=0]="NotOccupy";CountryStateEnum[CountryStateEnum.InOccupy=1]="InOccupy";CountryStateEnum[CountryStateEnum.HasOccupy=2]="HasOccupy"})(CountryStateEnum=Games.CountryStateEnum||(Games.CountryStateEnum={}))})(Games||(Games={}));var Games;(function(Games){var CooperationSubwindowType;(function(CooperationSubwindowType){CooperationSubwindowType[CooperationSubwindowType.serachOther=0]="serachOther";CooperationSubwindowType[CooperationSubwindowType.cooperationApply=1]="cooperationApply";CooperationSubwindowType[CooperationSubwindowType.cooperationRealtionship=2]="cooperationRealtionship";CooperationSubwindowType[CooperationSubwindowType.CooperationEnd=3]="CooperationEnd";CooperationSubwindowType[CooperationSubwindowType.CooperationAchieved=4]="CooperationAchieved"})(CooperationSubwindowType=Games.CooperationSubwindowType||(Games.CooperationSubwindowType={}))})(Games||(Games={}));var Games;(function(Games){var CityStateEnum;(function(CityStateEnum){CityStateEnum[CityStateEnum.Lock=0]="Lock";CityStateEnum[CityStateEnum.InOccupy=1]="InOccupy";CityStateEnum[CityStateEnum.FinishPublicity=2]="FinishPublicity";CityStateEnum[CityStateEnum.FinishRoadShow=3]="FinishRoadShow";CityStateEnum[CityStateEnum.hasOccupy=4]="hasOccupy"})(CityStateEnum=Games.CityStateEnum||(Games.CityStateEnum={}))})(Games||(Games={}));var Games;(function(Games){var BuildingEffectType;(function(BuildingEffectType){BuildingEffectType[BuildingEffectType.effect_add_movie_day=1]="effect_add_movie_day";BuildingEffectType[BuildingEffectType.effect_add_movie_reward=2]="effect_add_movie_reward";BuildingEffectType[BuildingEffectType.effect_add_movie_attr=3]="effect_add_movie_attr";BuildingEffectType[BuildingEffectType.effect_add_train_actor=4]="effect_add_train_actor";BuildingEffectType[BuildingEffectType.effect_add_actor_pool=5]="effect_add_actor_pool";BuildingEffectType[BuildingEffectType.effect_add_city_gold_fans=6]="effect_add_city_gold_fans";BuildingEffectType[BuildingEffectType.effect_add_movie_fans=7]="effect_add_movie_fans";BuildingEffectType[BuildingEffectType.effect_add_movie_expert=8]="effect_add_movie_expert";BuildingEffectType[BuildingEffectType.effect_add_bag_limit=9]="effect_add_bag_limit";BuildingEffectType[BuildingEffectType.effect_add_order_zan=10]="effect_add_order_zan";BuildingEffectType[BuildingEffectType.effect_add_order_xuanchuan=11]="effect_add_order_xuanchuan";BuildingEffectType[BuildingEffectType.effect_add_business_reward=13]="effect_add_business_reward";BuildingEffectType[BuildingEffectType.effect_add_business_limit=15]="effect_add_business_limit";BuildingEffectType[BuildingEffectType.effect_add_fans_limit=16]="effect_add_fans_limit";BuildingEffectType[BuildingEffectType.effect_add_fans_visit_time=17]="effect_add_fans_visit_time";BuildingEffectType[BuildingEffectType.effect_add_fans_visit_reward=18]="effect_add_fans_visit_reward";BuildingEffectType[BuildingEffectType.effect_add_meeting_limit=19]="effect_add_meeting_limit";BuildingEffectType[BuildingEffectType.effect_add_meeting_reward=20]="effect_add_meeting_reward"})(BuildingEffectType=Games.BuildingEffectType||(Games.BuildingEffectType={}))})(Games||(Games={}));var Games;(function(Games){var AssetType;(function(AssetType){AssetType[AssetType.Diamond=1]="Diamond";AssetType[AssetType.Gold=2]="Gold";AssetType[AssetType.Dollar=3]="Dollar";AssetType[AssetType.FilmLicence=4]="FilmLicence";AssetType[AssetType.Fans=5]="Fans";AssetType[AssetType.Thumb=6]="Thumb";AssetType[AssetType.Tile=9001]="Tile";AssetType[AssetType.Glass=9002]="Glass";AssetType[AssetType.Cement=9003]="Cement";AssetType[AssetType.Wood=9004]="Wood"})(AssetType=Games.AssetType||(Games.AssetType={}))})(Games||(Games={}));var Games;(function(Games){var ActorRequireEnum;(function(ActorRequireEnum){ActorRequireEnum[ActorRequireEnum.sex=1]="sex";ActorRequireEnum[ActorRequireEnum.Continents=2]="Continents";ActorRequireEnum[ActorRequireEnum.type=3]="type";ActorRequireEnum[ActorRequireEnum.age=4]="age";ActorRequireEnum[ActorRequireEnum.scene=5]="scene";ActorRequireEnum[ActorRequireEnum.performance=6]="performance";ActorRequireEnum[ActorRequireEnum.plot=7]="plot";ActorRequireEnum[ActorRequireEnum.art=8]="art";ActorRequireEnum[ActorRequireEnum.entertainment=9]="entertainment"})(ActorRequireEnum=Games.ActorRequireEnum||(Games.ActorRequireEnum={}))})(Games||(Games={}));var Games;(function(Games){var DialogManager=(function(){function DialogManager(){}DialogManager.install=function(){};DialogManager.startDialog=function(avatarA,avatarB,dialogs,performType){var dialog=new Games.Dialog();dialog.dialogId=++this.dialogId;dialog.start(avatarA,avatarB,dialogs,performType);return dialog};DialogManager.dialogId=0;DialogManager.sDialogFinish=new TypedSignal();DialogManager.sDialogEvent=new TypedSignal();DialogManager.dialogDict=new Dictionary();return DialogManager}());Games.DialogManager=DialogManager})(Games||(Games={}));var Games;(function(Games){var DialogEvent=(function(){function DialogEvent(){this.dialogId=0;this.eventId=0}return DialogEvent}());Games.DialogEvent=DialogEvent;var Dialog=(function(){function Dialog(){this.dialogId=0;this.DELTA_TIME=0.02;this.elapseTime=0;this.elapseTalkTime=0;this.eventList=[];this.currEventId=0;this.avatarList=[];this.currentIndex=-1}Dialog.prototype.start=function(avatarA,avatarB,dialogs,performType){this.performType=performType;this.eventList=dialogs;this.avatarList.length=0;this.avatarList.push(avatarA);this.avatarList.push(avatarB);Laya.timer.clear(this,this.onTimeLoop);Laya.timer.loop(this.DELTA_TIME*1000,this,this.onTimeLoop,null,true,true)};Dialog.prototype.onTimeLoop=function(){this.elapseTime+=this.DELTA_TIME*1000;if(this.currAction!=null){if(this.elapseTalkTime>=this.currAction.talkActionTime){this.curAvatar.hideTalk();this.elapseTalkTime=0}if(this.elapseTime>=this.currAction.actionTime){this.nextEvent()}}else{this.nextEvent()}};Dialog.prototype.nextEvent=function(){if(this.eventList.length==0){this.endEvent(true);return}if(this.currAction!=null){Games.DialogManager.sDialogEvent.dispatch(this.getDialogEvent())}this.currentIndex++;this.curAvatar=this.avatarList[this.currentIndex%2];var target=this.avatarList[(this.currentIndex+1)%2];target.hideTalkDirectly();target.stand();this.elapseTime=0;var event=this.eventList.splice(0,1)[0];this.currEventId=event.evtId;this.currAction=event.actionInfo;this.curAvatar.playAction(this.currAction.actionId);if(this.currAction.talkActionId!=0){var speakCfg=Game.config.speak.getConfig(this.currAction.talkActionId);if(speakCfg){this.curAvatar.setTalk(format(speakCfg.speak,this.currAction.talkParams))}}};Dialog.prototype.endEvent=function(emitEvent){if(emitEvent===void 0){emitEvent=true}if(emitEvent){Games.DialogManager.sDialogFinish.dispatch(this.performType);Games.DialogManager.sDialogEvent.dispatch(this.getDialogEvent())}this.dispose()};Dialog.prototype.dispose=function(){this.currAction=null;if(this.curAvatar){this.curAvatar.hideTalkDirectly();this.curAvatar.stand();this.curAvatar=null}Laya.timer.clear(this,this.onTimeLoop)};Dialog.prototype.getDialogEvent=function(){var data=new DialogEvent();data.dialogId=this.dialogId;data.eventId=this.currEventId;data.performType=this.performType;return data};return Dialog}());Games.Dialog=Dialog})(Games||(Games={}));var Games;(function(Games){var AvatarManager=(function(){function AvatarManager(){}AvatarManager.init=function(context){this.context=context;this.sBehaviorFinish.add(this.onAvatarBehaviorFinish,this);this.sAvatarEnter.add(this.onAvatarEnterRoom,this);this.sAvatarLeave.add(this.onAvatarLeaveRoom,this);this.sAvatarClick.add(this.onAvatarClick,this);Game.moduleModel.actor.sAddActorList.add(this.onGetActor,this);Game.event.add(GameEventKey.GameEventKey_UpdateActorHideInfo,this.onActorHideInfoUpdate,this)};AvatarManager.destroy=function(){this.sBehaviorFinish.remove(this.onAvatarBehaviorFinish,this);this.sAvatarEnter.remove(this.onAvatarEnterRoom,this);this.sAvatarLeave.remove(this.onAvatarLeaveRoom,this);this.sAvatarClick.remove(this.onAvatarClick,this);Game.moduleModel.actor.sAddActorList.remove(this.onGetActor,this);Game.event.remove(GameEventKey.GameEventKey_UpdateActorHideInfo,this.onActorHideInfoUpdate,this);var avatars=this.avatarMap.getValues();for(var _i=0,avatars_1=avatars;_i<avatars_1.length;_i++){var avatar=avatars_1[_i];avatar.endEvent(false);avatar.dispose();avatar=null}this.avatarMap.clear()};AvatarManager.addRoomAvatar=function(avatar){if(this.avatarMap.count<=this.MAX_AVATAR_NUM){this.avatarMap.add(avatar.info.uid,avatar)}};AvatarManager.getRoomAvatar=function(avatarUid){if(this.hasRoomAvatar(avatarUid)){var avatar=this.avatarMap.getValue(avatarUid);return avatar}return null};AvatarManager.hasRoomAvatar=function(avatarUid){return this.avatarMap.hasKey(avatarUid)};AvatarManager.onAvatarBehaviorFinish=function(data){if(data.performType==Games.PerformType.FreeWalk){var time=this.avatarEventTimeList.getValue(data.avatarId);if(time<=this.MAX_EVENT_TIME){this.executeActionEvent(data.roomType,data.avatarUid);this.avatarEventTimeList.add(data.avatarId,time+1)}else{this.context.startLeaveRoom(data.roomType,data.avatarUid,true)}}};AvatarManager.onAvatarEnterRoom=function(data){this.context.onEnterRoom(data.roomType,data.avatarUid);if(data.onEvent){this.executeActionEvent(data.roomType,data.avatarUid)}};AvatarManager.onAvatarLeaveRoom=function(data){this.avatarEventTimeList[data.avatarId]=0;this.context.onLeaveRoom(data.roomType,data.avatarUid);if(data.onEvent){var actor=Game.moduleModel.actor.getActor(data.avatarId);if(actor){this.allocActorToRoom(actor,data.avatarUid)}}};AvatarManager.onAvatarClick=function(data){if(data.roomId==0){return}console.log("[AvatarManager avatarClick]  avatarId= "+data.avatarId+" roomName= "+Game.config.buildingLevel.getConfig(data.roomId).name+" ");if(this.hasActorVisit){var avatar=this.context.getAvatar(data.roomType,data.avatarUid);if(this.isActorOnVisit(data.avatarId)){if(this.isActorReceptionOnLimit(data.avatarId,true)){return}if(!this.isInRoomReception(data.roomType)){avatar.endEvent(false);avatar.executeActionEvents(Game.moduleModel.visit.getActorStartTalk(),Games.PerformType.ReceptionActorTalk);this.context.startLeaveRoom(data.roomType,data.avatarUid,false,true)}else{var receptionRoomProcesser=this.context.getRoomByType(Games.RoomType.Reception).processer;receptionRoomProcesser.actorMoveRoute()}}else{if(avatar.info.type==Games.AvatarType.Actor){var visitActorName=Game.moduleModel.visit.getVisitName();avatar.setTalk(format(Game.moduleModel.visit.getWrongActorClickDialog(),visitActorName))}}}};AvatarManager.allocAvatarListToRoom=function(){this.allocNpcToRoom();this.waitAllocActorList=this.getWaitAllocActors();Laya.timer.clear(this,this.onTimeAlloc);Laya.timer.loop(1500,this,this.onTimeAlloc,null,true,true)};AvatarManager.getWaitAllocActors=function(){var _this=this;var actorList=Game.moduleModel.actor.getActors();var experciseActors=Game.moduleModel.actor.getExperciseDataList();var experciseActorDataList=[];for(var _i=0,experciseActors_1=experciseActors;_i<experciseActors_1.length;_i++){var experciseActor=experciseActors_1[_i];var actorData=Game.moduleModel.actor.getActorByUUid(experciseActor.uuid);if(actorData){experciseActorDataList.push(actorData)}}return actorList.filter(function(value,index,array){var hasAlloced=_this.hasAllocedActorList.findOne(function(allocedValue){return value.id==allocedValue.id});var hasExpercised=experciseActorDataList.findOne(function(expericesValue){return value.id==expericesValue.id});return hasAlloced==null&&hasExpercised==null})};AvatarManager.onTimeAlloc=function(){if(this.waitAllocActorList.length>0){var waitAllocActor=this.waitAllocActorList.splice(0,1)[0];this.allocActorToRoom(waitAllocActor)}else{Laya.timer.clear(this,this.onTimeAlloc)}};AvatarManager.allocNpcToRoom=function(){};AvatarManager.allocActorToRoom=function(actor,avatarUid){if(avatarUid===void 0){avatarUid=0}this.avatarEventTimeList.add(actor.id,0);if(Game.moduleModel.actor.isActorOnExercise(actor.id)){Game.event.dispatch(GameEventKey.GameEventKey_ActorBackToExperciseRoom,actor.id);return}var enterRoomType=Game.moduleModel.building.getAvatarEnterRoomType(actor);if(enterRoomType!=-1){this.hasAllocedActorList.push(actor);var avatarInfo=Games.AvatarInfo.creatByActor(actor);avatarInfo.uid=avatarUid;var direction=Math.random()>0.5?Games.DirtionType.Left:Games.DirtionType.Right;if(enterRoomType==Games.RoomType.Reception){direction=Games.DirtionType.Right}this.context.startEnterRoom(enterRoomType,avatarInfo,direction,true)}};AvatarManager.removeRoomActorList=function(actorIds){var removeActorInfoList=[];for(var _i=0,actorIds_1=actorIds;_i<actorIds_1.length;_i++){var actorId=actorIds_1[_i];var removeId=this.removeRoomActor(actorId);if(removeId!=0){removeActorInfoList.push(actorId)}}return removeActorInfoList};AvatarManager.removeRoomActor=function(actorId){var roomAvatar=Game.moduleModel.building.findActorById(actorId);if(roomAvatar!=null){var room=this.context.getRoomByType(roomAvatar.roomType);var avatar=this.context.getAvatar(roomAvatar.roomType,roomAvatar.avatarUid);if(avatar){avatar.endEvent(false);room.onAvatarLeave(avatar.uid);return actorId}}else{for(var i=this.waitAllocActorList.length-1;i>=0;i--){if(this.waitAllocActorList[i].id==actorId){var unAllocActor=this.waitAllocActorList.splice(i,1)[0];return unAllocActor.id}}}return 0};AvatarManager.onActorHideInfoUpdate=function(actor){if(actor.hide){if(!this.isActorOnVisit(actor.id)){this.removeRoomActor(actor.id)}}else{this.allocActorToRoom(actor)}};AvatarManager.onGetActor=function(actor){this.allocActorToRoom(actor)};AvatarManager.executeActionEvent=function(roomType,avatarId){var performId=this.getRDPerformId(roomType);if(performId!=-1){this.executeActionByPerformId(roomType,avatarId,performId)}};AvatarManager.executeActionByPerformId=function(roomType,avatarId,performId){var performCfg=Game.config.perform.getConfig(performId);this.context.executeActionEvents(roomType,avatarId,performCfg.eventList)};AvatarManager.getRDPerformId=function(roomType){var performList=Game.config.perform.getConfigList();performList=performList.filter(function(value,index,array){return value.building==roomType});if(performList.length>0){var totalWeight_1=0;performList.forEach(function(value,index,array){totalWeight_1+=value.weight});var randVal=Random.rangeBoth(0,totalWeight_1);var dr=0;for(var i=0;i<performList.length;i++){dr+=performList[i].weight;if(dr>=randVal){return performList[i].id}}}return -1};AvatarManager.autoActorToReception=function(actorId){console.log("autoActorToReception()");var roomAvatar=Game.moduleModel.building.findActorById(actorId);if(roomAvatar!=null){if(this.isActorOnVisit(actorId)){if(this.isActorReceptionOnLimit(actorId)){return}var receptionRoomProcesser=this.context.getRoomByType(Games.RoomType.Reception).processer;if(!this.isInRoomReception(roomAvatar.roomType)){var avatar=this.context.getAvatar(roomAvatar.roomType,roomAvatar.avatarUid);if(avatar){avatar.endEvent(false);this.context.startLeaveRoom(roomAvatar.roomType,roomAvatar.avatarUid,false,true)}}else{receptionRoomProcesser.actorMoveRoute()}receptionRoomProcesser.startReception()}}};Object.defineProperty(AvatarManager,"hasActorVisit",{get:function(){return Game.moduleModel.visit.getVisitData().isWaiting},enumerable:true,configurable:true});AvatarManager.isActorOnVisit=function(avatarId){var data=Game.moduleModel.visit.getVisitData();if(data){return data.actorId==avatarId}return false};AvatarManager.isInRoomReception=function(roomType){return roomType==Games.RoomType.Reception};AvatarManager.isActorReceptionOnLimit=function(actorId,isAlert){if(Game.moduleModel.actor.isActorOnExercise(actorId)){return true}if(Game.moduleModel.warData.moveData){var shootActorList=Game.moduleModel.warData.getRealYRList.getValues();var finder=shootActorList.findOne(function(value){return value.id==actorId});if(finder){return true}}if(Game.moduleModel.building.findActorById(actorId)==null){return true}if(Game.moduleModel.actor.isHide(actorId)){return true}if(isAlert){Game.system.toastText(Game.config.msg.getTxt(MsgKey.visit_stop))}return false};AvatarManager.sAvatarClick=new TypedSignal();AvatarManager.sEventFinish=new TypedSignal();AvatarManager.sBehaviorFinish=new TypedSignal();AvatarManager.sAvatarEnter=new TypedSignal();AvatarManager.sAvatarLeave=new TypedSignal();AvatarManager.avatarEventTimeList=new Dictionary();AvatarManager.hasAllocedActorList=new Array();AvatarManager.MAX_EVENT_TIME=1;AvatarManager.avatarMap=new Dictionary();AvatarManager.MAX_AVATAR_NUM=100;return AvatarManager}());Games.AvatarManager=AvatarManager})(Games||(Games={}));var Games;(function(Games){var GameInstaller=(function(){function GameInstaller(){}GameInstaller.prototype.install=function(){Games.MenuWindows.install();Game.guiRes.install();Game.spriteRes.install();this.installSystem()};GameInstaller.prototype.installSystem=function(){fairygui.UIConfig.packageFileExtension=Games.GuiSetting.packageFileExtension;fairygui.UIConfig.buttonSound=SoundKey.getUrl(SoundKey.MM01_Button);fguiBinderAll();this.loadConfig()};GameInstaller.prototype.loadConfig=function(){Game.config.configLoader=Game.asset;Game.config.sLoaded.add(this.onLoadedConfig,this);Game.config.initList();Game.config.loadAll()};GameInstaller.prototype.onLoadedConfig=function(){console.log("\u914D\u7F6E \u52A0\u8F7D\u5B8C\u6210\u6240\u6709");this.loadLangConfig()};GameInstaller.prototype.loadLangConfig=function(){Game.lang.current.configLoader=Game.asset;Game.lang.current.sLoaded.add(this.onLoadedLangConfig,this);Game.lang.current.initList();Game.lang.current.reloadAll()};GameInstaller.prototype.onLoadedLangConfig=function(){console.log("\u591A\u8BED\u8A00\u914D\u7F6E \u52A0\u8F7D\u5B8C\u6210\u6240\u6709");Game.moduleModel.install();this.loadRes()};GameInstaller.prototype.loadRes=function(){var preload=new Games.GamePreload();preload.begin(this,this.onLoadRes)};GameInstaller.prototype.onLoadRes=function(){fairygui.UIConfig.globalModalWaiting=fairygui.UIPackage.getItemURL("System","GlobalModalWaiting");fairygui.UIConfig.windowModalWaiting=fairygui.UIPackage.getItemURL("System","WindowModalWaiting");Game.circle=new Games.Circle();this.requestServerList()};GameInstaller.prototype.requestServerList=function(){Game.channel=Games.ChannelManager.getInstance();Game.channel.requestServerList(null,null,function(){Game.loader.close(Games.LoaderId.Launch);Game.onInstallComplete()},function(){Game.system.alertText(Games.TEXT.ErorRequestServerList);Game.loader.close(Games.LoaderId.Launch);Game.onInstallComplete()})};return GameInstaller}());Games.GameInstaller=GameInstaller})(Games||(Games={}));var Games;(function(Games){var SystemToastMessag=(function(){function SystemToastMessag(){this.list=[];this.pools=[];this.timeSpacing=1}SystemToastMessag.prototype.play=function(txt){if(txt!=this.lastTxt){this.show(txt)}else{if(getTime()-this.lastTime>=this.timeSpacing){this.show(txt)}}};SystemToastMessag.prototype.show=function(txt){this.lastTxt=txt;this.lastTime=getTime();var item;if(this.pools.length>0){item=this.pools.pop()}else{item=fgui.System.SystemToastMessage.createInstance();this.list.push(item)}item.play(txt,Handler.create(this,this.onItemComplete))};SystemToastMessag.prototype.onItemComplete=function(item){this.pools.push(item)};return SystemToastMessag}());Games.SystemToastMessag=SystemToastMessag})(Games||(Games={}));var Games;(function(Games){var SystemMessag=(function(){function SystemMessag(){this.toastMessage=new Games.SystemToastMessag();this._effectMsg=new Games.SystemEffect()}SystemMessag.prototype.playOpenSound=function(){Game.sound.playSound(SoundKey.MM02_Popup)};Object.defineProperty(SystemMessag.prototype,"alertMessage",{get:function(){if(!this._alertMessage){this._alertMessage=fgui.System.SystemAlertMessage.createInstance()}return this._alertMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"confirmMessage",{get:function(){if(!this._confirmMessage){this._confirmMessage=fgui.System.SystemConfirmMessage.createInstance()}return this._confirmMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"renameComfirm",{get:function(){if(!this._renameComfirm){this._renameComfirm=fgui.PfSkin.RenameUI.createInstance()}return this._renameComfirm},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"setNumMessage",{get:function(){if(!this._setNumMessage){this._setNumMessage=fgui.Common.SystemSetNumMessage.createInstance()}return this._setNumMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"getRewardMessage",{get:function(){if(!this._getRewardMessage){this._getRewardMessage=fgui.System.SystemAddItemMessage.createInstance()}return this._getRewardMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"selectActorPanel",{get:function(){if(!this._selectActorPanel){this._selectActorPanel=fgui.Bag.SystemSelectActorPanel.createInstance()}return this._selectActorPanel},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"getItemMessage",{get:function(){if(!this._getItemMessage){this._getItemMessage=fgui.Common.SystemGetItemMessage.createInstance()}return this._getItemMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"skillEffectUI",{get:function(){if(!this._actorSkillEffect){this._actorSkillEffect=fgui.Common.SkillEffectUI.createInstance()}return this._actorSkillEffect},enumerable:true,configurable:true});SystemMessag.prototype.playSkillEffect=function(acotrId,type){this.skillEffectUI.playSkillEffect(acotrId,type)};Object.defineProperty(SystemMessag.prototype,"addFansMessage",{get:function(){if(!this._addFansMessage){this._addFansMessage=fgui.Common.SystemAddFansMessage.createInstance()}return this._addFansMessage},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"dialog",{get:function(){if(!this._dialog){this._dialog=fgui.PfSkin.DialogUI.createInstance()}return this._dialog},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"alertAwardsDialog",{get:function(){if(!this._alertAwardsDialog){this._alertAwardsDialog=fgui.Common.SystemAlertAwards.createInstance()}return this._alertAwardsDialog},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"rankMovieInfo",{get:function(){if(!this._rankMovieInfo){this._rankMovieInfo=fgui.Common.RankMovieInfoPanel.createInstance()}return this._rankMovieInfo},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"rankPlayerInfo",{get:function(){if(!this._rankPlayerInfo){this._rankPlayerInfo=fgui.Common.RankPlayerInfoPanel.createInstance()}return this._rankPlayerInfo},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"rankRenamePanel",{get:function(){if(!this._rankRenamePanel){this._rankRenamePanel=fgui.Common.RankRenamePanel.createInstance()}return this._rankRenamePanel},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"streetLevelUpPanel",{get:function(){if(!this._streetLevelUpPanel){this._streetLevelUpPanel=fgui.Common.StreetLevelUp.createInstance()}return this._streetLevelUpPanel},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"playerLevelUpPanel",{get:function(){if(!this._playerLevelUpPanel){this._playerLevelUpPanel=fgui.PlayerInfo.PlayerLevelUp.createInstance()}return this._playerLevelUpPanel},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"alertTextIconDialog",{get:function(){if(!this._alertTextIconDialog){this._alertTextIconDialog=fgui.Common.SystemAlertTextIconMessage.createInstance()}return this._alertTextIconDialog},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"wayAlertDialog",{get:function(){if(!this._wayAlertDialog){this._wayAlertDialog=fgui.Common.GetWayAlert.createInstance()}return this._wayAlertDialog},enumerable:true,configurable:true});Object.defineProperty(SystemMessag.prototype,"itemInfoPanel",{get:function(){if(!this._itemInfoPanel){this._itemInfoPanel=fgui.Common.ItemInfo.createInstance()}return this._itemInfoPanel},enumerable:true,configurable:true});SystemMessag.prototype.toastText=function(txt){this.toastMessage.play(txt)};SystemMessag.prototype.toastMsg=function(msgKey){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var txt=(_a=Game.config.msg).getTxtFormat.apply(_a,[msgKey].concat(args));this.toastMessage.play(txt);var _a};SystemMessag.prototype.toastFormatText=function(txt){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.toastText(format(txt,args))};SystemMessag.prototype.toastItemNotEnough=function(id){var config=Game.config.item.getConfig(id);var itemName="";if(config){itemName=config.name}else{itemName=id.toString()}this.toastText(format(Games.TEXT.ToastTextItemNotEnough,itemName))};SystemMessag.prototype.alertText=function(txt,yesObj,yesFun){this.alrtTextFull(txt,"",yesObj,yesFun)};SystemMessag.prototype.alertMsg=function(msgKey,yesObj,yesFun){var txt=Game.config.msg.getTxt(msgKey);this.alrtTextFull(txt,"",yesObj,yesFun)};SystemMessag.prototype.alertMsgFormat=function(msgKey,msgargs,yesObj,yesFun){var txt=(_a=Game.config.msg).getTxtFormat.apply(_a,[msgKey].concat(msgargs));this.alrtTextFull(txt,"",yesObj,yesFun);var _a};SystemMessag.prototype.alrtTMsgFull=function(msgkey,msgargs,title,yesObj,yesFun,yesTxt,buttonEnable,isClickButtonAutoClose){if(title===void 0){title=""}if(yesObj===void 0){yesObj=null}if(yesFun===void 0){yesFun=null}if(yesTxt===void 0){yesTxt=null}if(buttonEnable===void 0){buttonEnable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}var txt=(_a=Game.config.msg).getTxtFormat.apply(_a,[msgkey].concat(msgargs));this.alrtTextFull(txt,"",yesObj,yesFun,yesTxt,buttonEnable,isClickButtonAutoClose);var _a};SystemMessag.prototype.alrtTextFull=function(txt,title,yesObj,yesFun,yesTxt,closeButtonVisiable,buttonEnable,isClickButtonAutoClose){if(title===void 0){title=""}if(yesObj===void 0){yesObj=null}if(yesFun===void 0){yesFun=null}if(yesTxt===void 0){yesTxt=null}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(buttonEnable===void 0){buttonEnable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}if(isNullOrEmpty(yesTxt)){yesTxt=Games.TEXT.ButtonOk}this.alertMessage.open(txt,title,yesObj,yesFun,yesTxt,closeButtonVisiable,buttonEnable,isClickButtonAutoClose);this.playOpenSound()};SystemMessag.prototype.confirmMsg=function(msgkey,msgargs,title,caller,yesFun,noFun,yesTxt,noTxt,closeButtonVisiable,isClickButtonAutoClose){if(title===void 0){title=""}if(caller===void 0){caller=null}if(yesFun===void 0){yesFun=null}if(noFun===void 0){noFun=null}if(yesTxt===void 0){yesTxt=null}if(noTxt===void 0){noTxt=null}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}var txt=(_a=Game.config.msg).getTxtFormat.apply(_a,[msgkey].concat(msgargs));this.confirmText(txt,title,caller,yesFun,noFun,yesTxt,noTxt,closeButtonVisiable,isClickButtonAutoClose);var _a};SystemMessag.prototype.confirmText=function(txt,title,caller,yesFun,noFun,yesTxt,noTxt,closeButtonVisiable,isClickButtonAutoClose){if(title===void 0){title=""}if(caller===void 0){caller=null}if(yesFun===void 0){yesFun=null}if(noFun===void 0){noFun=null}if(yesTxt===void 0){yesTxt=null}if(noTxt===void 0){noTxt=null}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}if(isNullOrEmpty(yesTxt)){yesTxt=Games.TEXT.ButtonYes}if(isNullOrEmpty(noTxt)){noTxt=Games.TEXT.ButtonNo}this.confirmMessage.open(txt,title,caller,yesFun,noFun,yesTxt,noTxt,closeButtonVisiable,isClickButtonAutoClose);this.playOpenSound()};SystemMessag.prototype.confirmTextIcon=function(itemList,title,content,confirm,caller,confirmText,isShowClose,isShowCurNum){if(isShowCurNum===void 0){isShowCurNum=true}this.alertTextIconDialog.open(itemList,title,content,confirm,caller,confirmText,isShowClose,isShowCurNum);this.playOpenSound()};SystemMessag.prototype.alertTextIcon=function(itemList,title,confirm,caller){this.alertTextIconDialog.open(itemList,title,"",confirm,null,null,null,false);this.playOpenSound()};SystemMessag.prototype.alertTextIconByProtoItems=function(itemList,title,content,confirm,caller,confirmText,isShowClose){this.alertTextIconDialog.open(ItemDescList2DTItemNumList(itemList),title,content,confirm,caller,confirmText,isShowClose,false);this.playOpenSound()};SystemMessag.prototype.confirmBuyText=function(txt,cost,caller,yesFun){var costId=cost[0];var costnum=cost[1];var config=Game.config.item.getConfig(costId);var costItemName="";if(cost){costItemName=config.name}else{costItemName=costId+""}if(Game.moduleModel.item.getItemNum(costId)>=costnum){this.confirmText(format(txt,costnum,costItemName),Games.TEXT.SureBuy,caller,yesFun)}else{Game.system.openItemWay(costId,costnum)}};SystemMessag.prototype.setNumText=function(limit,txt,title,caller,yesFun,noFun,yesTxt,closeButtonVisiable,isClickButtonAutoClose){if(txt===void 0){txt=""}if(title===void 0){title=""}if(caller===void 0){caller=null}if(yesFun===void 0){yesFun=null}if(noFun===void 0){noFun=null}if(yesTxt===void 0){yesTxt=null}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}if(isNullOrEmpty(yesTxt)){yesTxt=Games.TEXT.ButtonYes}this.setNumMessage.open(limit,txt,title,caller,yesFun,noFun,yesTxt,closeButtonVisiable,isClickButtonAutoClose);this.playOpenSound()};SystemMessag.prototype.getRewardText=function(items,title,autoCloseTime){var list=Games.ItemData.BinningItemList(items);this.getRewardMessage.open(list,title,autoCloseTime);this.playOpenSound()};SystemMessag.prototype.selectActor=function(actorList,selectFun,caller,title){if(caller===void 0){caller=null}if(title===void 0){title=""}this.selectActorPanel.open(actorList,selectFun,caller,title);this.playOpenSound()};SystemMessag.prototype.getItemText=function(items,closeFun,isAutoClose){var list=Games.ItemData.BinningItemList(items);this.getItemMessage.open(list,closeFun,isAutoClose)};SystemMessag.prototype.addFansText=function(addFans,closeHandler,title,autoCloseTime){if(autoCloseTime===void 0){autoCloseTime=0}this.addFansMessage.open(addFans,closeHandler,title,autoCloseTime);this.playOpenSound()};SystemMessag.prototype.tryAlertLevelUp=function(){var hasMsg=Game.moduleModel.playerInfo.hasPlayerLevelUpMsg;if(hasMsg){var msg=Game.moduleModel.playerInfo.dequeuePlayerLevelUpMsg();this.playerLevelUpPanel.show(msg.old_level,msg.now_level,msg.story);this.playOpenSound()}};SystemMessag.prototype.playerInfo=function(playerData){this.rankPlayerInfo.open(playerData)};SystemMessag.prototype.movieInfo=function(movieData){this.rankMovieInfo.open(movieData)};SystemMessag.prototype.rename=function(title,caller,renameFun,oldName){if(oldName===void 0){oldName=""}this.rankRenamePanel.open(title,caller,renameFun,oldName)};SystemMessag.prototype.streetLevelUp=function(){this.streetLevelUpPanel.open()};SystemMessag.prototype.alertMessageHide=function(){if(this._alertMessage){this._alertMessage.close()}if(this._confirmMessage){this._confirmMessage.close()}if(this._getRewardMessage){this._getRewardMessage.close()}if(this._setNumMessage){this._setNumMessage.close()}};SystemMessag.prototype.openRename=function(dialogMsg,caller,okFunc,closeFunc,okBtnTxt,defaultTxt,promptText,maxLen,url,cost,isClickButtonAutoClose,randomNames){if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}this.renameComfirm.open(dialogMsg,caller,okFunc,closeFunc,okBtnTxt,defaultTxt,promptText,maxLen,url,cost,isClickButtonAutoClose,randomNames);this.playOpenSound()};SystemMessag.prototype.hideRename=function(){this.renameComfirm.close()};SystemMessag.prototype.openDialog=function(content,okFunc){this.dialog.open(content,okFunc);this.playOpenSound()};SystemMessag.prototype.openItemWay=function(itemId,costNum){this.wayAlertDialog.setInfo(itemId,costNum);this.playOpenSound()};SystemMessag.prototype.showItemInfo=function(button,itemId){this.itemInfoPanel.Show(button,itemId)};SystemMessag.prototype.openAwardsAlert=function(itemList,title,confirm){this.alertAwardsDialog.open(itemList,title,confirm);this.playOpenSound()};SystemMessag.prototype.openAwardsAlertByProtoItems=function(itemList,title,confirm){this.openAwardsAlert(ItemDescList2DTItemNumList(itemList),title,confirm)};SystemMessag.prototype.playEffect=function(dt){this._effectMsg.playeffect(dt)};SystemMessag.prototype.playEffects=function(dts){this._effectMsg.playeffects(dts)};Object.defineProperty(SystemMessag.prototype,"alertGift",{get:function(){if(!this._alertGift){this._alertGift=fgui.Common.SystemAlertGift.createInstance()}return this._alertGift},enumerable:true,configurable:true});SystemMessag.prototype.openAwardsGift=function(itemList,title,desc,btnTxt,btnEnabled,confirm){this.alertGift.open(itemList,title,desc,btnTxt,btnEnabled,confirm);this.playOpenSound()};Object.defineProperty(SystemMessag.prototype,"actorBreakEffect",{get:function(){if(!this._actorBreakEffect){this._actorBreakEffect=fgui.Common.ActorLvBreaktUI.createInstance()}return this._actorBreakEffect},enumerable:true,configurable:true});SystemMessag.prototype.playBreakEffect=function(acotrId,desc){this.actorBreakEffect.playEffect(acotrId,desc)};Object.defineProperty(SystemMessag.prototype,"goOtherFunction",{get:function(){if(!this._goOtherFunction){this._goOtherFunction=fgui.Common.SystemGoOtherFunction.createInstance()}return this._goOtherFunction},enumerable:true,configurable:true});SystemMessag.prototype.openGoOtherFunc=function(type,title,desc,confirmFunc){this.goOtherFunction.open(type,title,desc,confirmFunc)};return SystemMessag}());Games.SystemMessag=SystemMessag})(Games||(Games={}));var Games;(function(Games){var SystemEffect=(function(){function SystemEffect(){this.list=[];this.pools=[]}SystemEffect.prototype.playeffect=function(dtItem,delay){if(delay===void 0){delay=0}this.show(dtItem,delay)};SystemEffect.prototype.playeffects=function(dts){for(var index=0;index<dts.length;index++){var element=dts[index];this.show(element,index*200)}};SystemEffect.prototype.show=function(dtItem,delay){var item;if(this.pools.length>0){item=this.pools.pop()}else{item=fgui.Common.ItemCellView.createInstance();this.list.push(item);Games.MenuLayer.floatMsg.addChild(item)}item.visible=true;item.setXY(300,700);item.updateViewByDTNum(dtItem);Laya.Tween.to(item,{x:0,y:0},500,Laya.Ease.quadOut,Handler.create(this,this.onComplete,[item]),delay)};SystemEffect.prototype.onComplete=function(item){item.visible=false;this.pools.push(item)};return SystemEffect}());Games.SystemEffect=SystemEffect})(Games||(Games={}));var DoTween;(function(DoTween){function TweenMove(target,fromtPoint,toPoint,duration,ease,complete,delay,coverBefore,autoRecover){target.x=fromtPoint.x;target.y=fromtPoint.y;laya.utils.Tween.to(target,{x:toPoint.x,y:toPoint.y},duration,ease,complete,delay,coverBefore,autoRecover)}DoTween.TweenMove=TweenMove;function TweenRect(target,fromRect,toRect,duration,ease,complete,delay,coverBefore,autoRecover){target.x=fromRect.x;target.y=fromRect.y;target.width=fromRect.width;target.height=fromRect.height;laya.utils.Tween.to(target,{x:toRect.x,y:toRect.y,width:toRect.width,height:toRect.height},duration,ease,complete,delay,coverBefore,autoRecover)}DoTween.TweenRect=TweenRect})(DoTween||(DoTween={}));var Games;(function(Games){var SoundManager=Laya.SoundManager;var AudioManager=(function(){function AudioManager(){this.localUseGlobal=false}AudioManager.prototype.install=function(){};AudioManager.prototype.onLogin=function(){this.muted=this.muted;this.soundMuted=this.soundMuted;this.musicMuted=this.musicMuted;this.musicVolume=this.musicVolume;this.soundVolume=this.soundVolume};AudioManager.prototype.playMusic=function(soundKey,loops,complete,startTime){this.lastMusic=soundKey;if(this.musicMuted){return}var path=SoundKey.getPath(soundKey);SoundManager.stopMusic();return SoundManager.playMusic(path,loops,complete,startTime)};AudioManager.prototype.replayMusic=function(){if(this.lastMusic){this.playMusic(this.lastMusic)}else{this.playMusic(SoundKey.MM_BGM_Cinema)}};AudioManager.prototype.playSound=function(soundKey,isStopPreSound,loops,complete,startTime){if(isStopPreSound){this.stopAllSound()}var path=SoundKey.getPath(soundKey);return SoundManager.playSound(path,loops,complete,startTime)};AudioManager.prototype.stopSound=function(soundKey){var path=SoundKey.getPath(soundKey);SoundManager.stopSound(path)};AudioManager.prototype.stopAll=function(){SoundManager.stopAll()};AudioManager.prototype.stopAllSound=function(){SoundManager.stopAllSound()};AudioManager.prototype.stopMusic=function(){SoundManager.stopMusic()};Object.defineProperty(AudioManager.prototype,"muted",{get:function(){if(this._muted===undefined){this._muted=Game.localStorage.hasItem("sound_muted",this.localUseGlobal)?Game.localStorage.getBoolean("sound_muted",this.localUseGlobal):false}return this._muted},set:function(value){this._muted=value;Game.localStorage.setBoolean("sound_muted",value,this.localUseGlobal);SoundManager.muted=value},enumerable:true,configurable:true});Object.defineProperty(AudioManager.prototype,"soundMuted",{get:function(){if(this._soundMuted===undefined){this._soundMuted=Game.localStorage.hasItem("sound_soundMuted",this.localUseGlobal)?Game.localStorage.getBoolean("sound_soundMuted",this.localUseGlobal):false}return this._soundMuted},set:function(value){this._soundMuted=value;Game.localStorage.setBoolean("sound_soundMuted",value,this.localUseGlobal);SoundManager.soundMuted=value},enumerable:true,configurable:true});Object.defineProperty(AudioManager.prototype,"musicMuted",{get:function(){if(this._musicMuted===undefined){this._musicMuted=Game.localStorage.hasItem("sound_musicMuted",this.localUseGlobal)?Game.localStorage.getBoolean("sound_musicMuted",this.localUseGlobal):false}return this._musicMuted},set:function(value){this._musicMuted=value;Game.localStorage.setBoolean("sound_musicMuted",value,this.localUseGlobal);SoundManager.musicMuted=value;if(value){SoundManager.stopMusic()}else{this.replayMusic()}},enumerable:true,configurable:true});Object.defineProperty(AudioManager.prototype,"musicVolume",{get:function(){if(this._musicVolume===undefined){this._musicVolume=Game.localStorage.hasItem("sound_musicVolume",this.localUseGlobal)?Game.localStorage.getFloat("sound_musicVolume",this.localUseGlobal):1}return this._musicVolume},set:function(value){this._musicVolume=value;Game.localStorage.setFloat("sound_musicVolume",value,this.localUseGlobal);SoundManager.musicVolume=value},enumerable:true,configurable:true});Object.defineProperty(AudioManager.prototype,"soundVolume",{get:function(){if(this._soundVolume===undefined){this._soundVolume=Game.localStorage.hasItem("sound_soundVolume",this.localUseGlobal)?Game.localStorage.getFloat("sound_soundVolume",this.localUseGlobal):1}return this._soundVolume},set:function(value){this._soundVolume=value;Game.localStorage.setFloat("sound_soundVolume",value,this.localUseGlobal);SoundManager.soundVolume=value},enumerable:true,configurable:true});return AudioManager}());Games.AudioManager=AudioManager})(Games||(Games={}));var Games;(function(Games){var Actioner=(function(){function Actioner(){}Actioner.prototype.addedToEmitter=function(emitter){};Actioner.prototype.removedFromEmitter=function(emitter){};Actioner.prototype.update=function(emitter,particle,time){};return Actioner}());Games.Actioner=Actioner})(Games||(Games={}));var Games;(function(Games){var ModuleConfig=(function(){function ModuleConfig(menuId,windowClass){this.menuId=menuId;this.windowClass=windowClass}return ModuleConfig}());Games.ModuleConfig=ModuleConfig})(Games||(Games={}));var Games;(function(Games){var MModel=(function(){function MModel(){}MModel.prototype.install=function(){};return MModel}());Games.MModel=MModel})(Games||(Games={}));var Games;(function(Games){var MenuOpenType;(function(MenuOpenType){MenuOpenType[MenuOpenType.None=0]="None";MenuOpenType[MenuOpenType.Tab=2]="Tab";MenuOpenType[MenuOpenType.Subwindow=3]="Subwindow"})(MenuOpenType=Games.MenuOpenType||(Games.MenuOpenType={}))})(Games||(Games={}));var Games;(function(Games){var MenuManager=(function(){function MenuManager(){this.dict=new Dictionary();this.list=[];this.stack=[]}MenuManager.prototype.install=function(){};MenuManager.prototype.getMenuCtl=function(menuId){return this.dict.getValue(menuId)};MenuManager.prototype.destory=function(menuId){var ctl=this.getMenuCtl(menuId);if(ctl){if(ctl.state==Games.MenuCtlStateType.Opened){ctl.close();setTimeout(function(){ctl.destory()},100)}else{ctl.destory()}}};MenuManager.prototype.openTab=function(menuId,tabIndex){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}return this._open(menuId,{openType:Games.MenuOpenType.Tab,openIndex:tabIndex,args:args})};MenuManager.prototype.openSubWindow=function(menuId,subwindowIndex){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}return this._open(menuId,{openType:Games.MenuOpenType.Subwindow,openIndex:subwindowIndex,args:args})};MenuManager.prototype.open=function(menuId){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return this._open(menuId,{openType:Games.MenuOpenType.None,openIndex:0,args:args})};MenuManager.prototype.openByMenuIndexId=function(menuIndexId){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var indexConfig=Game.config.menuIndex.getConfig(menuIndexId);if(indexConfig){switch(indexConfig.openType){case Games.MenuOpenType.Subwindow:this.openSubWindow.apply(this,[indexConfig.menuId,indexConfig.menuIndex].concat(args));break;case Games.MenuOpenType.Tab:this.openTab.apply(this,[indexConfig.menuId,indexConfig.menuIndex].concat(args));break;default:this.open.apply(this,[indexConfig.menuId].concat(args));break}}else{var menuConfig=Game.config.menu.getConfig(menuIndexId);if(menuConfig){this.open.apply(this,[menuIndexId].concat(args))}}};MenuManager.prototype.openHome=function(){var home=this.getMenuCtl(Games.MenuId.Home);if(!home||home.state!=Games.MenuCtlStateType.Opened){home=this.open(Games.MenuId.Home)}if(home.moduleWindow.contentPane&&!home.moduleWindow.contentPane.visible){home.moduleWindow.contentPane.visible=true}};MenuManager.prototype.closeHome=function(){var home=this.getMenuCtl(Games.MenuId.Home);if(home&&home.moduleWindow&&home.moduleWindow.contentPane){home.moduleWindow.contentPane.visible=false}};MenuManager.prototype._open=function(menuId,parametar){var ctl=this.getMenuCtl(menuId);if(!ctl){var menuConfig=Game.config.menu.getConfig(menuId);if(!menuConfig){error("MenuManager.open \u6CA1\u6709\u627E\u5230menuConfig, menuId="+menuId);return null}var menuWindowConfig=Games.MenuWindows.get(menuId);if(!menuWindowConfig){error("MenuManager.open \u6CA1\u6709\u627E\u5230menuWindowConfig, menuId="+menuId);return null}if(!menuWindowConfig.windowClass){error("MenuManager.open menuWindowConfig.windowClass="+menuWindowConfig.windowClass+", menuId="+menuId);return null}ctl=new Games.MenuCtl();ctl.__menuManager=this;ctl.menuId=menuId;ctl.menuConfig=menuConfig;ctl.menuWindowConfig=menuWindowConfig;this.dict.add(menuId,ctl);if(ctl.menuId!=Games.MenuId.Home){this.list.push(ctl)}}ctl.open(parametar);var index=this.stack.indexOf(ctl);if(index!=-1){this.stack.splice(index,1)}this.stack.push(ctl);return ctl};MenuManager.prototype.back=function(menuId){var _this=this;var ctl=this.getMenuCtl(menuId);if(ctl){var backMenuId=ctl.backMenuId;if(backMenuId>0){var backMenuCtl=this.getMenuCtl(backMenuId);if(backMenuCtl){backMenuCtl.backExcludeMenuIdMenuId=menuId;var openParametar=backMenuCtl.moduleWindow?backMenuCtl.moduleWindow.getLastMenuParameter():null;if(!openParametar){openParametar=backMenuCtl.openParametar}this._open(backMenuId,openParametar)}}setTimeout(function(){_this.close(menuId)},100)}};MenuManager.prototype.close=function(menuId){var ctl=this.getMenuCtl(menuId);if(ctl){ctl.closeIsDestory=true;ctl.close()}};MenuManager.prototype.__onMenuClose=function(ctl){for(var i=this.stack.length-1;i>=0;i--){if(this.stack[i]==ctl){this.stack.splice(i,1)}}var openedNum=0;var sameLayoutOpenedNum=0;var moduleOpenedNum=0;for(var _i=0,_a=this.list;_i<_a.length;_i++){var item=_a[_i];if(item.menuId==ctl.menuId){continue}switch(item.state){case Games.MenuCtlStateType.Opened:openedNum++;if(item.menuConfig.menuLayer==ctl.menuConfig.menuLayer){sameLayoutOpenedNum++}if(item.menuConfig.menuLayer==Games.MenuLayerType.Module){moduleOpenedNum++}break}}console.log("\u5173\u95ED\u9762\u677F "+ctl.menuConfig.zh_cn_name+" ( "+ctl.menuConfig.moduleName+')  :" + openedNum='+openedNum+", sameLayoutOpenedNum="+sameLayoutOpenedNum+", moduleOpenedNum="+moduleOpenedNum);if(moduleOpenedNum==0&&ctl.menuConfig.isAutoOpenHomeWindow){var home=this.getMenuCtl(Games.MenuId.Home);if(!home||home.state!=Games.MenuCtlStateType.Opened){home=this.open(Games.MenuId.Home)}if(home.moduleWindow.contentPane&&!home.moduleWindow.contentPane.visible){home.moduleWindow.contentPane.visible=true}}ctl.__delayClose()};MenuManager.prototype.getLastOpenMenuId=function(){if(this.stack.length>0){return this.stack[this.stack.length-1].menuId}return -1};MenuManager.prototype.getLastModuleOpenMenuId=function(excludeMenuId){for(var i=this.stack.length-1;i>=0;i--){var ctl=this.stack[i];if(ctl.menuConfig.menuLayer==Games.MenuLayerType.Module){if(excludeMenuId&&excludeMenuId.indexOf(ctl.menuId)!=-1){continue}return ctl.menuId}}return -1};MenuManager.prototype.isOpened=function(menuId){var result=false;var ctl=this.getMenuCtl(menuId);if(ctl&&ctl.state==Games.MenuCtlStateType.Opened){if(ctl.menuId==Games.MenuId.Home){result=ctl.moduleWindow.contentPane.visible}else{result=true}}return result};MenuManager.prototype.isOpenedSubOrTab=function(menuId,index){if(!this.isOpened(menuId)){return false}var ctl=this.getMenuCtl(menuId);if(ctl){return ctl.moduleWindow.isOpenSubOrTab(index)}return false};MenuManager.prototype.getSubWindow=function(menuId,index){if(!this.isOpened(menuId)){return null}var ctl=this.getMenuCtl(menuId);if(ctl){return ctl.moduleWindow.getSubwindow(index)}return null};MenuManager.prototype.onTick=function(){for(var i=0;i<this.list.length;i++){var ctl=this.list[i];if(ctl.state==Games.MenuCtlStateType.Closed){if(ctl.menuConfig.cacheTime!=-1){var subtime=Game.time.localTime-ctl.closeTime;if(subtime>=ctl.menuConfig.cacheTime&&ctl.closeIsDestory){ctl.destory()}}}}};return MenuManager}());Games.MenuManager=MenuManager})(Games||(Games={}));var Games;(function(Games){var MenuCtlStateType;(function(MenuCtlStateType){MenuCtlStateType[MenuCtlStateType.Closed=1]="Closed";MenuCtlStateType[MenuCtlStateType.Loading=2]="Loading";MenuCtlStateType[MenuCtlStateType.Opened=3]="Opened";MenuCtlStateType[MenuCtlStateType.Destoryed=4]="Destoryed"})(MenuCtlStateType=Games.MenuCtlStateType||(Games.MenuCtlStateType={}))})(Games||(Games={}));var Games;(function(Games){var MenuCtl=(function(){function MenuCtl(){this.backMenuId=-1;this.backExcludeMenuIdMenuId=-1;this.closeTime=0;this.closeIsDestory=true}MenuCtl.prototype.open=function(parametar){this.openParametar=parametar;if(!this.moduleWindow){this.moduleWindow=new this.menuWindowConfig.windowClass();this.moduleWindow.menuId=this.menuId;this.moduleWindow.name=this.menuConfig.name;this.moduleWindow.windowContainer=Games.MenuLayer.getLayer(this.menuConfig.menuLayer)}this.load()};MenuCtl.prototype.close=function(){if(this.state==Games.MenuCtlStateType.Closed||this.state==Games.MenuCtlStateType.Destoryed){return}this.__menuManager.__onMenuClose(this)};MenuCtl.prototype.__delayClose=function(){this.backMenuId=-1;if(this.moduleWindow&&this.moduleWindow.menuIsCreated){Game.event.dispatch(GameEventKey.GameFrame_CloseMenu,this.moduleWindow.menuId);this.moduleWindow.onMenuClose();this.closeTime=Game.time.localTime}this.state=Games.MenuCtlStateType.Closed};MenuCtl.prototype.destory=function(){if(this.moduleWindow){this.moduleWindow.sShowComplete.remove(this.closeOther,this);this.moduleWindow.destory();this.moduleWindow=null}this.state=Games.MenuCtlStateType.Destoryed};MenuCtl.prototype.load=function(){this.state=Games.MenuCtlStateType.Loading;var list=this.getLoadAssets();if(!list||list.length==0){this.loadBeginTime=0;this.onLoadComplete()}else{this.loadBeginTime=Game.time.localTime;var loaderCtl_1=Game.loader.open(this.menuConfig.menuLoaderId);loaderCtl_1.setMax(list.length);loaderCtl_1.setProgress(0);var onProgress=function(rate,current,max,assetItemInfo){loaderCtl_1.setProgress(current)};Game.asset.loadList(list,this,this.onLoadComplete,onProgress)}};MenuCtl.prototype.onLoadComplete=function(){this.setShow();Game.loader.close(this.menuConfig.menuLoaderId);if(this.loadBeginTime>0){console.log("加载界面花费时间 ("+this.menuConfig.moduleName+") :"+(Game.time.localTime-this.loadBeginTime)+" 毫秒")}};MenuCtl.prototype.getLoadAssets=function(){var list=[];var dict=new Dictionary();if(!this.moduleWindow.menuIsCreated){this.moduleWindow.getLoadAssets(list,dict)}this.moduleWindow.generateAssetsForDynmic();this.moduleWindow.getLoadAssetsForDynamic(list,dict);return list};MenuCtl.prototype.setShow=function(){this.moduleWindow.sShowComplete.addOnce(this.closeOther,this);this.moduleWindow.sShowSubwindowComplete.addOnce(this.closeOther,this);this.state=Games.MenuCtlStateType.Opened;if(this.moduleWindow.menuIsCreated){this.moduleWindow.onMenuOpen(this.openParametar)}else{this.moduleWindow.menuParameter=this.openParametar}this.moduleWindow.menuShow(this.moduleWindow.windowContainer);switch(this.menuId){case Games.MenuId.Login:Game.sound.playMusic(SoundKey.MM_BGM_Cinema);break;case Games.MenuId.Home:Game.sound.playMusic(SoundKey.MM_BGM_Cinema);break}Game.guide.checkPlayStoryByType(Games.StoryTriggerType.OpenMenu,this.menuId)};MenuCtl.prototype.setCloseDontDestory=function(){};MenuCtl.prototype.closeOther=function(){var homeIsOpen=this.__menuManager.isOpened(Games.MenuId.Home);var backMenuId=this.__menuManager.getLastModuleOpenMenuId([this.backExcludeMenuIdMenuId,this.menuId]);var hasCloseOtherMenu=false;var list=Game.menu.dict.getValues();switch(this.menuConfig.menuCloseOtherType){case Games.MenuCloseOtherType.None:break;case Games.MenuCloseOtherType.ExceptSelf_All:for(var i=0;i<list.length;i++){var ctl=list[i];if(ctl.menuId==Games.MenuId.Home){continue}if(ctl!=this){ctl.closeIsDestory=homeIsOpen;ctl.close();hasCloseOtherMenu=true}}break;case Games.MenuCloseOtherType.ExceptSelf_Module:for(var i=0;i<list.length;i++){var ctl=list[i];if(ctl!=this&&ctl.menuConfig.menuLayer==Games.MenuLayerType.Module){ctl.closeIsDestory=homeIsOpen;ctl.close();hasCloseOtherMenu=true}}break;case Games.MenuCloseOtherType.ExceptSelf_SameLayer:for(var i=0;i<list.length;i++){var ctl=list[i];if(ctl.menuId==Games.MenuId.Home){continue}if(ctl!=this&&ctl.menuConfig.menuLayer==this.menuConfig.menuLayer){ctl.closeIsDestory=homeIsOpen;ctl.close();hasCloseOtherMenu=true}}break}if(this.menuConfig.closeHomeWindow){var home=this.__menuManager.getMenuCtl(Games.MenuId.Home);if(home&&home.moduleWindow&&home.moduleWindow.contentPane){home.moduleWindow.contentPane.visible=false}}this.backMenuId=hasCloseOtherMenu?backMenuId:-1};return MenuCtl}());Games.MenuCtl=MenuCtl})(Games||(Games={}));var Games;(function(Games){var MenuCloseOtherType;(function(MenuCloseOtherType){MenuCloseOtherType[MenuCloseOtherType.None=0]="None";MenuCloseOtherType[MenuCloseOtherType.ExceptSelf_All=1]="ExceptSelf_All";MenuCloseOtherType[MenuCloseOtherType.ExceptSelf_Module=2]="ExceptSelf_Module";MenuCloseOtherType[MenuCloseOtherType.ExceptSelf_SameLayer=3]="ExceptSelf_SameLayer"})(MenuCloseOtherType=Games.MenuCloseOtherType||(Games.MenuCloseOtherType={}))})(Games||(Games={}));var Games;(function(Games){var MenuBarType;(function(MenuBarType){MenuBarType[MenuBarType.None=0]="None";MenuBarType[MenuBarType.Bottom=1]="Bottom";MenuBarType[MenuBarType.Right_Bottom=2]="Right_Bottom";MenuBarType[MenuBarType.Right_Top=3]="Right_Top";MenuBarType[MenuBarType.SumBar_Run=10001]="SumBar_Run";MenuBarType[MenuBarType.SumBar_Manage=10002]="SumBar_Manage";MenuBarType[MenuBarType.SumBar_Social=10003]="SumBar_Social";MenuBarType[MenuBarType.SumBar_Cooperation=10004]="SumBar_Cooperation"})(MenuBarType=Games.MenuBarType||(Games.MenuBarType={}))})(Games||(Games={}));var Games;(function(Games){var AssetItemType;(function(AssetItemType){AssetItemType[AssetItemType.FguiPackage=0]="FguiPackage";AssetItemType[AssetItemType.FspritePackage=1]="FspritePackage";AssetItemType[AssetItemType.Image=2]="Image";AssetItemType[AssetItemType.Buffer=3]="Buffer";AssetItemType[AssetItemType.Sound=4]="Sound";AssetItemType[AssetItemType.Text=5]="Text";AssetItemType[AssetItemType.Json=6]="Json";AssetItemType[AssetItemType.Xml=7]="Xml";AssetItemType[AssetItemType.Font=8]="Font";AssetItemType[AssetItemType.TTF=9]="TTF";AssetItemType[AssetItemType.PKM=10]="PKM"})(AssetItemType=Games.AssetItemType||(Games.AssetItemType={}));var AssetHelper=(function(){function AssetHelper(){}Object.defineProperty(AssetHelper,"layaLoaderType2AssetItemTypeDict",{get:function(){if(!AssetHelper._layaLoaderType2AssetItemTypeDict){var dict=new Dictionary();dict.add(Loader.IMAGE,AssetItemType.Image);dict.add(Loader.BUFFER,AssetItemType.Buffer);dict.add(Loader.SOUND,AssetItemType.Sound);dict.add(Loader.TEXT,AssetItemType.Text);dict.add(Loader.JSON,AssetItemType.Json);dict.add(Loader.XML,AssetItemType.Xml);dict.add(Loader.FONT,AssetItemType.Font);dict.add(Loader.TTF,AssetItemType.TTF);dict.add(Loader.PKM,AssetItemType.PKM);AssetHelper._layaLoaderType2AssetItemTypeDict=dict}return AssetHelper._layaLoaderType2AssetItemTypeDict},enumerable:true,configurable:true});AssetHelper.layaLoaderType2AssetItemType=function(loader){return AssetHelper.layaLoaderType2AssetItemTypeDict.getValue(loader)};return AssetHelper}());Games.AssetHelper=AssetHelper})(Games||(Games={}));var Games;(function(Games){var Event=laya.events.Event;var TempletPool=(function(){function TempletPool(){this.callbackHandlerPool=[];this.callbackDict=new Dictionary();this.parseingDict=new Dictionary();this.dict=new Dictionary();this.referenceCountDict=new Dictionary();this.lastTimeDict=new Dictionary()}TempletPool.prototype.getCallbackHandler=function(caller,onComplete,onError){var item;if(this.callbackHandlerPool.length>0){item=this.callbackHandlerPool.pop();item.caller=caller;item.onComplete=onComplete;item.onError=onError}else{item={caller:caller,onComplete:onComplete,onError:onError}}return item};TempletPool.prototype.recoverCallbackHandler=function(item){item.caller=undefined;item.onComplete=undefined;item.onError=undefined;this.callbackHandlerPool.push(item)};TempletPool.prototype.addCallbackHandler=function(texturePath,caller,onComplete,onError){var list=this.callbackDict.getValue(texturePath);if(!list){list=[];this.callbackDict.add(texturePath,list)}var item=this.getCallbackHandler(caller,onComplete,onError);list.push(item)};TempletPool.prototype.getCallbackHandlerList=function(texturePath){return this.callbackDict.getValue(texturePath)};TempletPool.prototype.destoryItem=function(texturePath,skPath){var tpl=this.getCacheItem(texturePath);if(tpl){console.log("destory Skeleton Templet:"+texturePath);tpl.destroy();tpl.dispose();this.dict.remove(texturePath)}Laya.loader.clearRes(texturePath,true);Laya.loader.clearRes(skPath,true)};TempletPool.prototype.recoverItem=function(texturePath,skPath){var num=this.referenceCountDict.getValueOrDefault(texturePath,0);if(num>0){num=num-1;this.referenceCountDict.set(texturePath,num)}this.lastTimeDict.add(texturePath,Game.time.localTime);if(num<=0){this.destoryItem(texturePath,skPath)}};TempletPool.prototype.getCacheItem=function(texturePath){return this.dict.getValue(texturePath)};TempletPool.prototype.requrestItem=function(texturePath,skPath,caller,onComplete,onError){if(onComplete){var num=this.referenceCountDict.getValueOrDefault(texturePath,0);this.referenceCountDict.add(texturePath,num+1)}var tpl=this.getCacheItem(texturePath);if(tpl){if(onComplete){setTimeout(function(){if(caller){onComplete.apply(caller,[tpl])}else{onComplete(tpl)}},100)}}else{if(onComplete||onError){this.addCallbackHandler(texturePath,caller,onComplete,onError)}tpl=this.parseingDict.getValue(texturePath);if(!tpl){var args=[texturePath,skPath];tpl=new Templet();tpl.on(Event.COMPLETE,this,this.onTempletComplete,args);tpl.on(Event.ERROR,this,this.onTempletError,args);this.parseingDict.add(texturePath,tpl);var assets=[{url:texturePath,type:Loader.IMAGE},{url:skPath,type:Loader.BUFFER}];Laya.loader.load(assets,Handler.create(this,this.onLoader,args))}}};TempletPool.prototype.onLoader=function(texturePath,skPath,isSuccess){if(isSuccess){var tpl=this.parseingDict.getValue(texturePath);tpl.parseData(Laya.loader.getRes(texturePath),Laya.loader.getRes(skPath))}else{console.error("TempletPool 加载资源失败 texturePath="+texturePath);this.onTempletError(texturePath,skPath,"加载资源失败")}};TempletPool.prototype.onTempletComplete=function(texturePath,skPath){var tpl=this.parseingDict.getValue(texturePath);this.dict.add(texturePath,tpl);var callers=this.getCallbackHandlerList(texturePath);if(callers){for(var _i=0,callers_1=callers;_i<callers_1.length;_i++){var caller=callers_1[_i];if(caller.onComplete){if(caller.caller){caller.onComplete.apply(caller.caller,[tpl])}else{caller.onComplete(tpl)}this.recoverCallbackHandler(caller)}}this.callbackDict.remove(texturePath)}this.onTempleteEnd(texturePath)};TempletPool.prototype.onTempletError=function(texturePath,skPath,error){console.error("TempletPool 解析失败 texturePath="+texturePath);var tpl=this.parseingDict.getValue(texturePath);var callers=this.getCallbackHandlerList(texturePath);if(callers){for(var _i=0,callers_2=callers;_i<callers_2.length;_i++){var caller=callers_2[_i];if(caller.onError){if(caller.caller){caller.onError.apply(caller.caller,[error])}else{caller.onError(error)}}this.recoverCallbackHandler(caller)}this.callbackDict.remove(texturePath)}this.onTempleteEnd(texturePath);tpl.destroy()};TempletPool.prototype.onTempleteEnd=function(texturePath){var tpl=this.parseingDict.getValue(texturePath);tpl.on(Event.COMPLETE,this,this.onTempletComplete);tpl.on(Event.ERROR,this,this.onTempletError);this.parseingDict.remove(texturePath)};return TempletPool}());Games.TempletPool=TempletPool})(Games||(Games={}));var Games;(function(Games){var SkeletonPool=(function(){function SkeletonPool(){this.isLoadFail=false;this.allList=[];this.list=[];this.callbackList=[];this.clearNum=0}Object.defineProperty(SkeletonPool.prototype,"totalNum",{get:function(){return this.allList.length},enumerable:true,configurable:true});Object.defineProperty(SkeletonPool.prototype,"poolNum",{get:function(){return this.list.length},enumerable:true,configurable:true});Object.defineProperty(SkeletonPool.prototype,"useNum",{get:function(){return this.totalNum-this.poolNum},enumerable:true,configurable:true});SkeletonPool.prototype.addCallbackHandler=function(caller,onComplete,onError){for(var i=0;i<this.callbackList.length;i++){if(this.callbackList[i].caller==caller&&this.callbackList[i].onComplete==onComplete){return}}var item=laya.utils.Pool.getItem(SkeletonPool.CallbackPoolKey);if(!item){item={caller:caller,onComplete:onComplete,onError:onError}}this.callbackList.push(item)};SkeletonPool.prototype.createItem=function(){var item;if(this.templet){item=this.templet.buildArmature(0);this.allList.push(item)}return item};SkeletonPool.prototype.getItem=function(){var item;if(this.list.length>0){item=this.list.pop()}return item};SkeletonPool.prototype.getItemOrCreate=function(){var item=this.getItem();if(!item){if(this.templet){item=this.createItem()}}return item};SkeletonPool.prototype.recover=function(skeleton){if(this.list.indexOf(skeleton)==-1){this.list.push(skeleton)}else{console.error("该对象已经返还对象池了:"+this.texturePath)}};SkeletonPool.prototype.requrestItem=function(caller,onComplete,onError){var item=this.getItemOrCreate();if(item){if(onComplete){setTimeout(function(){if(caller){onComplete.apply(caller,[item])}else{onComplete(item)}},100)}}else{if(this.isLoadFail){if(onError){if(caller){onError.apply(caller,["加载失败"])}else{onError("加载失败")}}}else{if(onComplete||onError){this.addCallbackHandler(caller,onComplete,onError)}GameBoone.templetPool.requrestItem(this.texturePath,this.skPath,this,this.onLoadTempleteComplete,this.onLoadTempleteError)}}};SkeletonPool.prototype.onLoadTempleteComplete=function(templet){if(this.templet){return}this.templet=templet;while(this.callbackList.length>0){var caller=this.callbackList.pop();if(caller.onComplete){var item=this.getItemOrCreate();if(caller.caller){caller.onComplete.apply(caller.caller,[item])}else{caller.onComplete(item)}}}};SkeletonPool.prototype.onLoadTempleteError=function(error){if(this.isLoadFail){return}this.isLoadFail=true;while(this.callbackList.length>0){var caller=this.callbackList.pop();if(caller.onError){if(caller.caller){caller.onError.apply(caller.caller,["加载失败"])}else{caller.onError("加载失败")}}}};SkeletonPool.prototype.toString=function(){return"totalNum:"+this.totalNum+", poolNum:"+this.poolNum+", useNum:"+this.useNum+": "+this.texturePath};SkeletonPool.prototype.removeFromAll=function(self){for(var i=0;i<this.allList.length;i++){if(this.allList[i]==self){this.allList.splice(i,1);break}}};SkeletonPool.prototype.clearNoUse=function(){if(this.callbackList.length>0){return 0}var clearNum=0;while(this.list.length>0){var skeleton=this.list.pop();this.removeFromAll(skeleton);skeleton.destroy();this.clearNum++;clearNum++}if(this.totalNum<=0){GameBoone.templetPool.recoverItem(this.texturePath,this.skPath);this.templet=undefined}return clearNum};SkeletonPool.CallbackPoolKey="TempletCallbackHandler";return SkeletonPool}());Games.SkeletonPool=SkeletonPool})(Games||(Games={}));var Games;(function(Games){var SkeletonCache=(function(){function SkeletonCache(){this.maxNum=10;this.poolDict=new Dictionary()}SkeletonCache.prototype.getPool=function(texturePath){return this.poolDict.getValue(texturePath)};SkeletonCache.prototype.requrestItem=function(texturePath,skPath,caller,onComplete,onError){var pool=this.getPool(texturePath);if(!pool){pool=new Games.SkeletonPool();pool.texturePath=texturePath;pool.skPath=skPath;this.poolDict.add(texturePath,pool)}pool.requrestItem(caller,onComplete,onError);this.tickClear()};SkeletonCache.prototype.recoverItem=function(texturePath,skeleton){skeleton.stop();skeleton.removeSelf();var pool=this.getPool(texturePath);if(pool){pool.recover(skeleton);this.tickClear()}else{skeleton.destroy()}};SkeletonCache.prototype.tickClear=function(isPringLog){if(isPringLog===void 0){isPringLog=true}var poolCount=0;var skeletonTotal=0;var skeletonNoUse=0;var skeletonUse=0;var dict=this.poolDict.__getDict();for(var key in dict){var pool=dict[key];skeletonTotal+=pool.totalNum;skeletonNoUse+=pool.poolNum;skeletonUse+=pool.useNum;poolCount++}var clearNum=0;if(skeletonTotal>this.maxNum){for(var key in dict){var pool=dict[key];pool.clearNoUse();clearNum+=1}}if(isPringLog){poolCount=0;skeletonTotal=0;skeletonNoUse=0;skeletonUse=0;for(var key in dict){var pool=dict[key];skeletonTotal+=pool.totalNum;skeletonNoUse+=pool.poolNum;skeletonUse+=pool.useNum;poolCount++}console.log("===============");console.log("poolCount:"+poolCount+", skeletonTotal:"+skeletonTotal+", skeletonNoUse:"+skeletonNoUse+", skeletonUse:"+skeletonUse);for(var key in dict){var pool=dict[key];console.log(pool.toString())}}};return SkeletonCache}());Games.SkeletonCache=SkeletonCache})(Games||(Games={}));var Games;(function(Games){var Bone=(function(){function Bone(){this.templetPool=new Games.TempletPool();this.skeletonCache=new Games.SkeletonCache()}return Bone}());Games.Bone=Bone})(Games||(Games={}));var GameBoone=new Games.Bone();var Games;(function(Games){var Event=laya.events.Event;var CAnimation=(function(){function CAnimation(){this.sPlayEnd=new Signal();this.curSkinIndex=0;this.enableHasSkeleton=true;this._nameOrIndex="zhanli1";this._loop=true;this.init()}CAnimation.prototype.init=function(){this.dict=new Dictionary()};CAnimation.prototype.dispose=function(){this.recoverSkeleton();this.animLoadCompleteCallBack=null;this.animLoadErrorCallBack=null;this.dict.clear()};Object.defineProperty(CAnimation.prototype,"Skeleton",{get:function(){return this.animator},enumerable:true,configurable:true});CAnimation.prototype.getSkeleton=function(){this.enableHasSkeleton=true;GameBoone.skeletonCache.requrestItem(this.texturePath,this.skeletonPath,this,this.onSkeletonComplete,this.onSkeletonError)};CAnimation.prototype.recoverSkeleton=function(skeleton){this.enableHasSkeleton=false;if(!skeleton){skeleton=this.animator;this.animator=null}if(skeleton){skeleton.off(Event.STOPPED,this,this.onSkeletonPlayEnd);GameBoone.skeletonCache.recoverItem(this.texturePath,skeleton)}};CAnimation.prototype.loadAnim=function(texturePath,skeletonPath,parent,isChangeSkin,complete,error){if(isChangeSkin===void 0){isChangeSkin=true}this.texturePath=texturePath;this.skeletonPath=skeletonPath;this.parent=parent;this.isChangeSkin=isChangeSkin;this.animLoadCompleteCallBack=complete;this.animLoadErrorCallBack=error};CAnimation.prototype.onSkeletonComplete=function(skeleton){if(!this.enableHasSkeleton){this.recoverSkeleton(skeleton);this.animator=null;return}if(this.animator){this.recoverSkeleton()}this.animator=skeleton;this.animator.on(Event.STOPPED,this,this.onSkeletonPlayEnd);this.playLast();this.parent.addChild(this.animator);if(this.animLoadCompleteCallBack!=null){this.animLoadCompleteCallBack.apply(null);this.animLoadCompleteCallBack=null}};CAnimation.prototype.onSkeletonError=function(){if(this.animLoadErrorCallBack!=null){this.animLoadErrorCallBack.apply(null);this.animLoadErrorCallBack=null}};CAnimation.prototype.onSkeletonPlayEnd=function(){this.sPlayEnd.dispatch()};CAnimation.prototype.setSlotSkinPath=function(slotName,slotTexturePath,useScale){var _this=this;if(useScale===void 0){useScale=true}var slotTexture;var onAssetsLoaded=function(result){slotTexture=Loader.getRes(slotTexturePath);_this.setSlotSkin(slotName,slotTexture,useScale)};Laya.loader.load([{url:slotTexturePath,type:Loader.IMAGE}],Handler.create(this,onAssetsLoaded));var slotBone=this.animator.getSlotByName(slotName)};CAnimation.prototype.setSlotSkin=function(slotName,texture,useScale){if(useScale===void 0){useScale=true}var slotBone=this.animator.getSlotByName(slotName);texture.active();this.animator.setSlotSkin(slotName,texture);var scX=texture.width;var scY=texture.height;var scaleFactor=1;if(useScale){scaleFactor=1/CAnimation.SCALE_DEFAULT}slotBone.currDisplayData.transform.scX=scX*scaleFactor;slotBone.currDisplayData.transform.scY=scY*scaleFactor};CAnimation.prototype.resetSlotSkin=function(slotName){var slotBone=this.animator.getSlotByName(slotName);slotBone.currDisplayData.transform.scX=1;slotBone.currDisplayData.transform.scY=1;slotBone.currDisplayData.destory();this.animator.setSlotSkin(slotName,null)};CAnimation.prototype.onSpineLabel=function(e){var tEventData=e;console.log("onSpineLabel")};CAnimation.prototype.playLast=function(){if(this.animator){this.animator.play(this._nameOrIndex,this._loop,this._force,this._start,this._end,this._freshSkin)}};CAnimation.prototype.play=function(nameOrIndex,loop,force,start,end,freshSkin){this._nameOrIndex=nameOrIndex;this._loop=loop;this._force=force;this._start=start;this._end=end;this._freshSkin=freshSkin;if(this.animator){this.animator.play(nameOrIndex,loop,force,start,end,freshSkin)}};CAnimation.prototype.crossFade=function(nameOrIndex,loop){if(loop===void 0){loop=true}this.play(nameOrIndex,loop)};CAnimation.prototype.setBounds=function(rect){this.animator.setBounds(rect)};CAnimation.prototype.getBounds=function(){return this.animator.getBounds()};CAnimation.prototype.scale=function(scaleX,scaleY,speedMode){this.animator.scale(scaleX,scaleY,speedMode)};CAnimation.prototype.pos=function(x,y){if(this.animator!=null){this.animator.pos(x,y)}};CAnimation.prototype.changeSkin=function(nameOrIndex){if(typeof(nameOrIndex)=="string"){this.animator.showSkinByName(nameOrIndex)}if(typeof(nameOrIndex)=="number"){this.animator.showSkinByIndex(nameOrIndex)}};CAnimation.SCALE_DEFAULT=0.26;return CAnimation}());Games.CAnimation=CAnimation})(Games||(Games={}));var GameEventKey=(function(){function GameEventKey(){}GameEventKey.Test="Test";GameEventKey.GameFrame_OpenMenu="GameFrame_OpenMenu";GameEventKey.GameFrame_CloseMenu="GameFrame_CloseMenu";GameEventKey.PopupPanel="PopupPanel";GameEventKey.updateOrderView="GameEventKeyUpdateOrderView";GameEventKey.GameEventKey_UpdateOrderView="GameEventKey_UpdateOrderView";GameEventKey.GameEventKey_UpdateCoopreationOrderView="GameEventKey_UpdateCoopreationOrderView";GameEventKey.GameEventKey_ResetFindStoryTime="GameEventKey_ResetFindStoryTime";GameEventKey.GameEventKey_UpdateVisitActor="GameEventKey_UpdateVisitActor";GameEventKey.GameEventKey_MeetingShowPanel="GameEventKey_MeetingShowPanel";GameEventKey.GameEventKey_ScrollMainRoom="GameEventKey_ScrollMainRoom";GameEventKey.GameEventKey_StartReception="GameEventKey_StartReception";GameEventKey.GameEventKey_FindActorToReception="GameEventKey_FindActorToReception";GameEventKey.GameEventKey_EnabledScrollMain="GameEventKey_EnabledScrollMain";GameEventKey.GameEventKey_MeetingStep="GameEventKey_MeetingStep";GameEventKey.GameEventKey_ShootStart="GameEventKey_ShootStart";GameEventKey.GameEventKey_ShootEnd="GameEventKey_ShootEnd";GameEventKey.GameEventKey_ShootStartAddActor="GameEventKey_ShootStartAddActor";GameEventKey.GameEventKey_FilmStart="GameEventKey_FilmStart";GameEventKey.GameEventKey_FilmOn="GameEventKey_FilmOn";GameEventKey.GameEventKey_FilmEnd="GameEventKey_FilmEnd";GameEventKey.GameEventKey_ActorExperciseStart="GameEventKey_ActorExperciseStart";GameEventKey.GameEventKey_ActorExperciseEnd="GameEventKey_ActorExperciseEnd";GameEventKey.GameEventKey_ActorBackToExperciseRoom="GameEventKey_ActorBackToExperciseRoom";GameEventKey.GameEventKey_UpdateActorHideInfo="GameEventKey_UpdateActorHideInfo";GameEventKey.GameEventKey_UpdateProgressBoxStatus="GameEventKey_UpdateProgressBoxStatus";GameEventKey.GameEventKey_UpdateMainUIRed="GameEventKey_UpdateStoryRed";GameEventKey.GameEventKey_UpdateFilmingStatus="GameEventKey_UpdateFilmingStatus";GameEventKey.GameEventKey_PlayerLevelUp="GameEventKey_PlayerLevelUp";GameEventKey.GameEventKey_ClientUpdateMainTask="GameEventKey_ClientUpdateMainTask";GameEventKey.GameEventKey_StoryUnLock="GameEventKey_StoryUnLock";GameEventKey.GameEventKey_TimeLimitRemind="GameEventKey_TimeLimitRemind";GameEventKey.GameEventKey_TimeLimitRemind50="GameEventKey_TimeLimitRemind";return GameEventKey}());var Games;(function(Games){var SpriteResPackageConfigReader=(function(){function SpriteResPackageConfigReader(){this.dict=new Dictionary()}SpriteResPackageConfigReader.prototype.addconfig=function(config){this.dict.add(config.packageName,config)};SpriteResPackageConfigReader.prototype.getconfig=function(packageName){return this.dict.getValue(packageName)};SpriteResPackageConfigReader.prototype.install=function(){var config;config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ActivityIcon";config.resBin="ActivityIcon.bin";config.resAtlas.push("ActivityIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ActorBodyIcon";config.resBin="ActorBodyIcon.bin";config.resAtlas.push("ActorBodyIcon@atlas0.png");config.resAtlas.push("ActorBodyIcon@atlas0_1.png");config.resAtlas.push("ActorBodyIcon@atlas0_2.png");config.resAtlas.push("ActorBodyIcon@atlas0_3.png");config.resAtlas.push("ActorBodyIcon@atlas0_4.png");config.resAtlas.push("ActorBodyIcon@atlas0_5.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ActorHeadIcon";config.resBin="ActorHeadIcon.bin";config.resAtlas.push("ActorHeadIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ActorPieceIcon";config.resBin="ActorPieceIcon.bin";config.resAtlas.push("ActorPieceIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="BlockIcon";config.resBin="BlockIcon.bin";config.resAtlas.push("BlockIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="Building";config.resBin="Building.bin";config.resAtlas.push("Building@atlas0.png");config.resAtlas.push("Building@atlas0_1.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="BuildingSmall";config.resBin="BuildingSmall.bin";config.resAtlas.push("BuildingSmall@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="CinemaIcon";config.resBin="CinemaIcon.bin";config.resAtlas.push("CinemaIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="GeneralIcon";config.resBin="GeneralIcon.bin";config.resAtlas.push("GeneralIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="Icon_En";config.resBin="Icon_En.bin";config.resAtlas.push("Icon_En@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="Icon_ZH_CN";config.resBin="Icon_ZH_CN.bin";config.resAtlas.push("Icon_ZH_CN@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ItemIcon";config.resBin="ItemIcon.bin";config.resAtlas.push("ItemIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="MeetingIcon";config.resBin="MeetingIcon.bin";config.resAtlas.push("MeetingIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="MenuIcon";config.resBin="MenuIcon.bin";config.resAtlas.push("MenuIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="NPCHeadIcon";config.resBin="NPCHeadIcon.bin";config.resAtlas.push("NPCHeadIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="PlayerBodyIcon";config.resBin="PlayerBodyIcon.bin";config.resAtlas.push("PlayerBodyIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="PlayerHeadIcon";config.resBin="PlayerHeadIcon.bin";config.resAtlas.push("PlayerHeadIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="PopularityIcon";config.resBin="PopularityIcon.bin";config.resAtlas.push("PopularityIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="SettingIcon";config.resBin="SettingIcon.bin";config.resAtlas.push("SettingIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="ShootIcon";config.resBin="ShootIcon.bin";config.resAtlas.push("ShootIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="SkillIcon";config.resBin="SkillIcon.bin";config.resAtlas.push("SkillIcon@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="StoryIcon";config.resBin="StoryIcon.bin";config.resAtlas.push("StoryIcon@atlas0.png");config.resAtlas.push("StoryIcon@atlas0_1.png");config.resAtlas.push("StoryIcon@atlas0_2.png");config.resAtlas.push("StoryIcon@atlas0_3.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fsprite";config.packageName="StoryStackIcon";config.resBin="StoryStackIcon.bin";config.resAtlas.push("StoryStackIcon@atlas0.png");this.addconfig(config)};return SpriteResPackageConfigReader}());Games.SpriteResPackageConfigReader=SpriteResPackageConfigReader})(Games||(Games={}));var Games;(function(Games){var GuiResPackageConfigReader=(function(){function GuiResPackageConfigReader(){this.dict=new Dictionary()}GuiResPackageConfigReader.prototype.addconfig=function(config){this.dict.add(config.packageName,config)};GuiResPackageConfigReader.prototype.getconfig=function(packageName){return this.dict.getValue(packageName)};GuiResPackageConfigReader.prototype.install=function(){var config;config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Activity";config.resBin="Activity.bin";config.resAtlas.push("Activity@atlas0.png");config.resAtlas.push("Activity@atlas_ac07l.png");config.resAtlas.push("Activity@atlas_ac07m.png");config.resAtlas.push("Activity@atlas_f9f11d.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="ArtistDic";config.resBin="ArtistDic.bin";config.resAtlas.push("ArtistDic@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Bag";config.resBin="Bag.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Building";config.resBin="Building.bin";config.resAtlas.push("Building@atlas0.png");config.resAtlas.push("Building@atlas0_1.png");config.resAtlas.push("Building@atlas_cpc911l.png");config.resAtlas.push("Building@atlas_dyfe120.png");config.resAtlas.push("Building@atlas_iacm12l.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Common";config.resBin="Common.bin";config.resAtlas.push("Common@atlas0.png");config.resAtlas.push("Common@atlas0_1.png");config.resAtlas.push("Common@atlas0_2.png");config.resAtlas.push("Common@atlas0_3.png");config.resAtlas.push("Common@atlas0_4.png");config.resAtlas.push("Common@atlas0_5.png");config.resAtlas.push("Common@atlas2.png");config.resAtlas.push("Common@atlas_dm31t22d.png");config.resAtlas.push("Common@atlas_hh765m.png");config.resAtlas.push("Common@atlas_hh765n.png");config.resAtlas.push("Common@atlas_hh7681.png");config.resAtlas.push("Common@atlas_hh7688.png");config.resAtlas.push("Common@atlas_i4hgt240.png");config.resAtlas.push("Common@atlas_jmopn4.png");config.resAtlas.push("Common@atlas_l7rut207.png");config.resAtlas.push("Common@atlas_m9lgt21y.png");config.resAtlas.push("Common@atlas_m9lgt21z.png");config.resAtlas.push("Common@atlas_m9lgt220.png");config.resAtlas.push("Common@atlas_m9lgt221.png");config.resAtlas.push("Common@atlas_mu1z2k.png");config.resAtlas.push("Common@atlas_s9dx1g.png");config.resAtlas.push("Common@atlas_s9dx1h.png");config.resAtlas.push("Common@atlas_s9dx1i.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Cooperation";config.resBin="Cooperation.bin";config.resAtlas.push("Cooperation@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="FilmScreenAnim1";config.resBin="FilmScreenAnim1.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="FilmScreenAnim2";config.resBin="FilmScreenAnim2.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="FilmScreenCommon";config.resBin="FilmScreenCommon.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Fx";config.resBin="Fx.bin";config.resAtlas.push("Fx@atlas0.png");config.resAtlas.push("Fx@atlas0_1.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="GM";config.resBin="GM.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Guide";config.resBin="Guide.bin";config.resAtlas.push("Guide@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="LangEn";config.resBin="LangEn.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="LangZhCn";config.resBin="LangZhCn.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Login";config.resBin="Login.bin";config.resAtlas.push("Login@atlas0.png");config.resAtlas.push("Login@atlas_8zgr15.png");config.resAtlas.push("Login@atlas_dk944n.png");config.resAtlas.push("Login@atlas_dk944o.png");config.resAtlas.push("Login@atlas_dk944t.png");config.resAtlas.push("Login@atlas_l1hm4w.png");config.resAtlas.push("Login@atlas_l1hm4x.png");config.resAtlas.push("Login@atlas_l1hm4y.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="MainUI";config.resBin="MainUI.bin";config.resAtlas.push("MainUI@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Manage";config.resBin="Manage.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Market";config.resBin="Market.bin";config.resAtlas.push("Market@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Mission";config.resBin="Mission.bin";config.resAtlas.push("Mission@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Notice";config.resBin="Notice.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Oscar";config.resBin="Oscar.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="PfSkin";config.resBin="PfSkin.bin";config.resAtlas.push("PfSkin@atlas0.png");config.resAtlas.push("PfSkin@atlas0_1.png");config.resAtlas.push("PfSkin@atlas_dk94t21h.png");config.resAtlas.push("PfSkin@atlas_iacmt1w7.png");config.resAtlas.push("PfSkin@atlas_l7rut1z7.png");config.resAtlas.push("PfSkin@atlas_l7rut1z9.png");config.resAtlas.push("PfSkin@atlas_sm6tt1ve.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="PlayerInfo";config.resBin="PlayerInfo.bin";config.resAtlas.push("PlayerInfo@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Produce";config.resBin="Produce.bin";config.resAtlas.push("Produce@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Rank";config.resBin="Rank.bin";this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Sound";config.resBin="Sound.bin";config.sounds.push("Sound@8z3l2h.wav");config.sounds.push("Sound@8z3l2i.wav");config.sounds.push("Sound@8z3l2j.wav");config.sounds.push("Sound@8z3l2k.wav");config.sounds.push("Sound@8z3l2l.wav");config.sounds.push("Sound@8z3l2m.wav");config.sounds.push("Sound@8z3l2n.wav");config.sounds.push("Sound@o3172q.wav");config.sounds.push("Sound@o3172r.wav");config.sounds.push("Sound@o3172s.wav");config.sounds.push("Sound@q9mu2o.wav");config.sounds.push("Sound@q9mu2p.wav");config.sounds.push("Sound@s3xz1n.mp3");config.sounds.push("Sound@s3xz1o.mp3");config.sounds.push("Sound@s3xz1p.mp3");config.sounds.push("Sound@s3xz1q.wav");config.sounds.push("Sound@s3xz1r.wav");config.sounds.push("Sound@s3xz1s.wav");config.sounds.push("Sound@s3xz1t.wav");config.sounds.push("Sound@s3xz1u.wav");config.sounds.push("Sound@s3xz1v.wav");config.sounds.push("Sound@s3xz1w.wav");config.sounds.push("Sound@s3xz1x.wav");config.sounds.push("Sound@s3xz1y.wav");config.sounds.push("Sound@s3xz1z.wav");config.sounds.push("Sound@s3xz20.wav");config.sounds.push("Sound@s3xz21.wav");config.sounds.push("Sound@s3xz22.wav");config.sounds.push("Sound@s3xz23.wav");config.sounds.push("Sound@s3xz24.wav");config.sounds.push("Sound@s3xz25.wav");config.sounds.push("Sound@s3xz26.wav");config.sounds.push("Sound@s3xz27.wav");config.sounds.push("Sound@s3xz28.wav");config.sounds.push("Sound@s3xz29.wav");config.sounds.push("Sound@s3xz2a.wav");config.sounds.push("Sound@s3xz2b.wav");config.sounds.push("Sound@s3xz2c.wav");config.sounds.push("Sound@s3xz2d.wav");config.sounds.push("Sound@s3xz2e.wav");config.sounds.push("Sound@s3xz2f.wav");config.sounds.push("Sound@s3xz2g.wav");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="Street";config.resBin="Street.bin";config.resAtlas.push("Street@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="System";config.resBin="System.bin";config.resAtlas.push("System@atlas0.png");config.resAtlas.push("System@atlas_5sasa.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="SystemSettings";config.resBin="SystemSettings.bin";config.resAtlas.push("SystemSettings@atlas0.png");this.addconfig(config);config=new Games.GuiResPackageConfig();config.resDir="fgui";config.packageName="WarMovie";config.resBin="WarMovie.bin";config.resAtlas.push("WarMovie@atlas0.png");config.resAtlas.push("WarMovie@atlas0_1.png");config.resAtlas.push("WarMovie@atlas_lsbtdw.png");config.resAtlas.push("WarMovie@atlas_qbxl8s.png");config.resAtlas.push("WarMovie@atlas_qbxl8t.png");config.resAtlas.push("WarMovie@atlas_qbxl8u.png");config.resAtlas.push("WarMovie@atlas_qbxl8v.png");config.resAtlas.push("WarMovie@atlas_qbxl8w.png");config.resAtlas.push("WarMovie@atlas_qbxl93.png");config.resAtlas.push("WarMovie@atlas_r0zd1e.png");config.resAtlas.push("WarMovie@atlas_r0zd1f.png");config.resAtlas.push("WarMovie@atlas_r0zd1g.png");config.resAtlas.push("WarMovie@atlas_r0zd1x.png");config.resAtlas.push("WarMovie@atlas_r0zd3p.png");this.addconfig(config)};return GuiResPackageConfigReader}());Games.GuiResPackageConfigReader=GuiResPackageConfigReader})(Games||(Games={}));var Games;(function(Games){var GuiResPackageConfig=(function(){function GuiResPackageConfig(){this.resAtlas=[];this.sounds=[]}Object.defineProperty(GuiResPackageConfig.prototype,"loadList",{get:function(){if(!this._loadList){var list=[];list.push({url:Games.GuiSetting.getResPath(this.resBin,this.resDir),type:Loader.BUFFER});if(this.resAtlas){for(var i=0;i<this.resAtlas.length;i++){list.push({url:Games.GuiSetting.getResPath(this.resAtlas[i],this.resDir),type:Loader.IMAGE})}}if(this.sounds){for(var i=0;i<this.sounds.length;i++){list.push({url:Games.GuiSetting.getResPath(this.sounds[i],this.resDir),type:Loader.SOUND})}}this._loadList=list}return this._loadList},enumerable:true,configurable:true});Object.defineProperty(GuiResPackageConfig.prototype,"packagePath",{get:function(){return Games.GuiSetting.getResPackagePath(this.packageName,this.resDir)},enumerable:true,configurable:true});return GuiResPackageConfig}());Games.GuiResPackageConfig=GuiResPackageConfig})(Games||(Games={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMovieBinder=(function(){function WarMovieBinder(){}WarMovieBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarPaishequeren.URL,WarMovie.WarPaishequeren);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarCostView.URL,WarMovie.WarCostView);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.CloseBtn.URL,WarMovie.CloseBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmStar.URL,WarMovie.WarFilmStar);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Star.URL,WarMovie.Star);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarYRCostItem.URL,WarMovie.WarYRCostItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ConfirmBtn.URL,WarMovie.ConfirmBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarYRForFilm.URL,WarMovie.WarYRForFilm);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Warbubble.URL,WarMovie.Warbubble);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarYRFilmItem.URL,WarMovie.WarYRFilmItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilming.URL,WarMovie.WarFilming);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmProgress.URL,WarMovie.FilmProgress);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmingTip.URL,WarMovie.FilmingTip);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarMoveTextUD.URL,WarMovie.WarMoveTextUD);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmTypeItem.URL,WarMovie.WarFilmTypeItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmSelecting.URL,WarMovie.WarFilmSelecting);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarPeople.URL,WarMovie.WarPeople);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmIcon.URL,WarMovie.FilmIcon);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarPeopleSmall.URL,WarMovie.WarPeopleSmall);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmSelectItem.URL,WarMovie.FilmSelectItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmingYRItem.URL,WarMovie.WarFilmingYRItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmingSelectTipItem.URL,WarMovie.WarFilmingSelectTipItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmInfo.URL,WarMovie.WarFilmInfo);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.CompletedConditions.URL,WarMovie.CompletedConditions);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmYirenReq.URL,WarMovie.WarFilmYirenReq);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmYirenItem.URL,WarMovie.WarFilmYirenItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarSelectActor.URL,WarMovie.WarSelectActor);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmInfBtn.URL,WarMovie.FilmInfBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarSelectActorItem.URL,WarMovie.WarSelectActorItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorProperty.URL,WarMovie.WarActorProperty);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorSelectTip.URL,WarMovie.WarActorSelectTip);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorItem.URL,WarMovie.WarActorItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarSelectFilmType.URL,WarMovie.WarSelectFilmType);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmTypeSelectItem.URL,WarMovie.WarFilmTypeSelectItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarNotice.URL,WarMovie.WarNotice);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarYRProficiency.URL,WarMovie.WarYRProficiency);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmProgressBlue.URL,WarMovie.FilmProgressBlue);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorProficiencyItem.URL,WarMovie.WarActorProficiencyItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmSQView.URL,WarMovie.WarFilmSQView);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActor160.URL,WarMovie.WarActor160);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.FilmProgressBlue2.URL,WarMovie.FilmProgressBlue2);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.AveragePress.URL,WarMovie.AveragePress);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarSQViewItem.URL,WarMovie.WarSQViewItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarCinemaSelection.URL,WarMovie.WarCinemaSelection);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarCinemaItem.URL,WarMovie.WarCinemaItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFeedBack.URL,WarMovie.WarFeedBack);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.StarProgress.URL,WarMovie.StarProgress);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.StarProgressSmall.URL,WarMovie.StarProgressSmall);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFrreBackItem.URL,WarMovie.WarFrreBackItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarAudienceReputation.URL,WarMovie.WarAudienceReputation);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarAudienceItem.URL,WarMovie.WarAudienceItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmShangYing.URL,WarMovie.WarFilmShangYing);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTape.URL,WarMovie.WarTape);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarShangYingProgress.URL,WarMovie.WarShangYingProgress);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmOverMarketInfo.URL,WarMovie.WarFilmOverMarketInfo);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmJiesuan.URL,WarMovie.WarFilmJiesuan);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ProgressYellow.URL,WarMovie.ProgressYellow);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ProgressBlue.URL,WarMovie.ProgressBlue);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarGoodsItem.URL,WarMovie.WarGoodsItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ShareBtn.URL,WarMovie.ShareBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarPeopleFaceItem.URL,WarMovie.WarPeopleFaceItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarContinuousIncome.URL,WarMovie.WarContinuousIncome);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.GoodsItem.URL,WarMovie.GoodsItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarContinueRewardItem.URL,WarMovie.WarContinueRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarCityItem.URL,WarMovie.WarCityItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarEndingIncome.URL,WarMovie.WarEndingIncome);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ConfirmBtn2.URL,WarMovie.ConfirmBtn2);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarEndIncomeItem.URL,WarMovie.WarEndIncomeItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmYRShow.URL,WarMovie.WarFilmYRShow);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarCurrentMarketInfo.URL,WarMovie.WarCurrentMarketInfo);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarMarketPeople.URL,WarMovie.WarMarketPeople);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarXKHuifu.URL,WarMovie.WarXKHuifu);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarBtn.URL,WarMovie.WarBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarXukezhengOver.URL,WarMovie.WarXukezhengOver);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarMain.URL,WarMovie.WarMain);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmMoveShow.URL,WarMovie.WarFilmMoveShow);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorItemShow.URL,WarMovie.WarActorItemShow);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Warjiaojuan.URL,WarMovie.Warjiaojuan);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTip.URL,WarMovie.WarTip);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTipKuang.URL,WarMovie.WarTipKuang);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmSQ.URL,WarMovie.WarFilmSQ);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTargetSucces.URL,WarMovie.WarTargetSucces);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTargetFailed.URL,WarMovie.WarTargetFailed);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarTargetFailItem.URL,WarMovie.WarTargetFailItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmLiuxing.URL,WarMovie.WarFilmLiuxing);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarFilmSYPF.URL,WarMovie.WarFilmSYPF);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarBgCloseBtn.URL,WarMovie.WarBgCloseBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ConfirmCostBtn.URL,WarMovie.ConfirmCostBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarInfBtn.URL,WarMovie.WarInfBtn);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActorShowItem.URL,WarMovie.WarActorShowItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarJiesuanNum.URL,WarMovie.WarJiesuanNum);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.BG.URL,WarMovie.BG);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.BG2.URL,WarMovie.BG2);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Touxiang44.URL,WarMovie.Touxiang44);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Touxiang80.URL,WarMovie.Touxiang80);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Touxiang160.URL,WarMovie.Touxiang160);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActor80.URL,WarMovie.WarActor80);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActor44.URL,WarMovie.WarActor44);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Touxiang80noMask.URL,WarMovie.Touxiang80noMask);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActor80noMask.URL,WarMovie.WarActor80noMask);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarActor120.URL,WarMovie.WarActor120);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.Touxiang120.URL,WarMovie.Touxiang120);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarjiaojuanPinPu.URL,WarMovie.WarjiaojuanPinPu);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.NoticeIcon.URL,WarMovie.NoticeIcon);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarAttributeUpTip.URL,WarMovie.WarAttributeUpTip);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarYRNoticeItem.URL,WarMovie.WarYRNoticeItem);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.MinDialog.URL,WarMovie.MinDialog);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ShwoMinDialog.URL,WarMovie.ShwoMinDialog);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.WarGoldProgressBar.URL,WarMovie.WarGoldProgressBar);fairygui.UIObjectFactory.setPackageItemExtension(WarMovie.ZhuIcon.URL,WarMovie.ZhuIcon)};return WarMovieBinder}());WarMovie.WarMovieBinder=WarMovieBinder})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SystemSettingsBinder=(function(){function SystemSettingsBinder(){}SystemSettingsBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.SettingsPanel.URL,SystemSettings.SettingsPanel);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.SettingsItem.URL,SystemSettings.SettingsItem);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.GiftPackageExchange.URL,SystemSettings.GiftPackageExchange);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.SelectLanguage.URL,SystemSettings.SelectLanguage);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.LanguageItem.URL,SystemSettings.LanguageItem);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.OnC.URL,SystemSettings.OnC);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.OffC.URL,SystemSettings.OffC);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.NoneC.URL,SystemSettings.NoneC);fairygui.UIObjectFactory.setPackageItemExtension(SystemSettings.ButtonItem.URL,SystemSettings.ButtonItem)};return SystemSettingsBinder}());SystemSettings.SystemSettingsBinder=SystemSettingsBinder})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetBinder=(function(){function StreetBinder(){}StreetBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Street.CinemaSelectItem.URL,Street.CinemaSelectItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetCinemaSelectedPanel.URL,Street.StreetCinemaSelectedPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetInfoPanel.URL,Street.StreetInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetItem.URL,Street.StreetItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetIcon.URL,Street.StreetIcon);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetListPanel.URL,Street.StreetListPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetLvUpInfoPanel.URL,Street.StreetLvUpInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetMainPanel.URL,Street.StreetMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetRankPanel.URL,Street.StreetRankPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetSelectCinemaPanel.URL,Street.StreetSelectCinemaPanel);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetRewardView.URL,Street.StreetRewardView);fairygui.UIObjectFactory.setPackageItemExtension(Street.StreetCinemaView.URL,Street.StreetCinemaView);fairygui.UIObjectFactory.setPackageItemExtension(Street.CinemaIcon.URL,Street.CinemaIcon);fairygui.UIObjectFactory.setPackageItemExtension(Street.CinemaItem.URL,Street.CinemaItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.CinemaItem_llittle.URL,Street.CinemaItem_llittle);fairygui.UIObjectFactory.setPackageItemExtension(Street.MenuIcon.URL,Street.MenuIcon);fairygui.UIObjectFactory.setPackageItemExtension(Street.ActorCircleItem.URL,Street.ActorCircleItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.RankGroupItem.URL,Street.RankGroupItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.RankGroupMovieItem.URL,Street.RankGroupMovieItem);fairygui.UIObjectFactory.setPackageItemExtension(Street.TabStreet.URL,Street.TabStreet);fairygui.UIObjectFactory.setPackageItemExtension(Street.BtnBack.URL,Street.BtnBack);fairygui.UIObjectFactory.setPackageItemExtension(Street.CircleIcon.URL,Street.CircleIcon)};return StreetBinder}());Street.StreetBinder=StreetBinder})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var SoundKey=(function(){function SoundKey(){}Object.defineProperty(SoundKey,"idDict",{get:function(){if(!SoundKey._idDict){SoundKey.init()}return SoundKey._idDict},enumerable:true,configurable:true});Object.defineProperty(SoundKey,"extDict",{get:function(){if(!SoundKey._extDict){SoundKey.init()}return SoundKey._extDict},enumerable:true,configurable:true});SoundKey.getId=function(key){if(!SoundKey.idDict.hasKey(key)){console.error("SoundKey 不存在 key="+key);return""}return SoundKey.idDict.getValue(key)};SoundKey.getUrl=function(key){return"ui://"+SoundKey.SoundPackageId+SoundKey.getId(key)};SoundKey.getPath=function(key){return Games.GuiSetting.getResPath(SoundKey.SoundPackageName+"@"+SoundKey.getId(key)+SoundKey.extDict.getValue(key),"fgui")};SoundKey.init=function(){var dict=SoundKey._idDict=new Dictionary();dict.add("MM_BGM_Cinema.mp3","s3xz1n");dict.add("MM_BGM_Propaganda.mp3","s3xz1o");dict.add("MM_BGM_RoadShow.mp3","s3xz1p");dict.add("MM01_Button.wav","s3xz1q");dict.add("MM02_Popup.wav","s3xz1r");dict.add("MM03_ReachGoal.wav","s3xz1s");dict.add("MM04_Lose.wav","s3xz1t");dict.add("MM05_Upgrade.wav","s3xz1u");dict.add("MM06_Building.wav","s3xz1v");dict.add("MM07_GoldMuch.wav","s3xz1w");dict.add("MM08_GoldLess.wav","s3xz1x");dict.add("MM09_GoldReward.wav","s3xz1y");dict.add("MM10_PayMent.wav","s3xz1z");dict.add("MM11_NewsPaperTop.wav","s3xz20");dict.add("MM12_RecruitArtist.wav","s3xz21");dict.add("MM13_GetArtist.wav","s3xz22");dict.add("MM14_ArtistGradeUp.wav","s3xz23");dict.add("MM15_Propaganda.wav","s3xz24");dict.add("MM16_ScriptRolling.wav","s3xz25");dict.add("MM17_Action.wav","s3xz26");dict.add("MM18_Screen.wav","s3xz27");dict.add("MM19_ArtistShow.wav","s3xz28");dict.add("MM20_ArtistData.wav","s3xz29");dict.add("MM21_ArtistAccord.wav","s3xz2a");dict.add("MM22_ScreenOver.wav","s3xz2b");dict.add("MM23_Premiere.wav","s3xz2c");dict.add("MM24_NiceScore1.wav","s3xz2d");dict.add("MM25_NiceScore2.wav","s3xz2e");dict.add("MM26_DialogBox.wav","s3xz2f");dict.add("MM27_TicketStatistics.wav","s3xz2g");dict.add("MM27_TicketsOrdinary.wav","8z3l2h");dict.add("MM28_TicketsGood.wav","8z3l2i");dict.add("MM29_TicketsGreat.wav","8z3l2j");dict.add("MM30_Settlements.wav","8z3l2k");dict.add("MM31_ClickScreenMenu.wav","8z3l2l");dict.add("MM32_FilmStart.wav","8z3l2m");dict.add("MM33_FilmShow.wav","8z3l2n");dict.add("MM26_NiceScore3.wav","q9mu2o");dict.add("MM33_NiceScore4.wav","q9mu2p");dict.add("MM17_FoundArtist.wav","o3172q");dict.add("MM32_GetScript .wav","o3172r");dict.add("MM34_CultrueArtist.wav","o3172s");var exts=SoundKey._extDict=new Dictionary();exts.add("MM_BGM_Cinema.mp3",".mp3");exts.add("MM_BGM_Propaganda.mp3",".mp3");exts.add("MM_BGM_RoadShow.mp3",".mp3");exts.add("MM01_Button.wav",".wav");exts.add("MM02_Popup.wav",".wav");exts.add("MM03_ReachGoal.wav",".wav");exts.add("MM04_Lose.wav",".wav");exts.add("MM05_Upgrade.wav",".wav");exts.add("MM06_Building.wav",".wav");exts.add("MM07_GoldMuch.wav",".wav");exts.add("MM08_GoldLess.wav",".wav");exts.add("MM09_GoldReward.wav",".wav");exts.add("MM10_PayMent.wav",".wav");exts.add("MM11_NewsPaperTop.wav",".wav");exts.add("MM12_RecruitArtist.wav",".wav");exts.add("MM13_GetArtist.wav",".wav");exts.add("MM14_ArtistGradeUp.wav",".wav");exts.add("MM15_Propaganda.wav",".wav");exts.add("MM16_ScriptRolling.wav",".wav");exts.add("MM17_Action.wav",".wav");exts.add("MM18_Screen.wav",".wav");exts.add("MM19_ArtistShow.wav",".wav");exts.add("MM20_ArtistData.wav",".wav");exts.add("MM21_ArtistAccord.wav",".wav");exts.add("MM22_ScreenOver.wav",".wav");exts.add("MM23_Premiere.wav",".wav");exts.add("MM24_NiceScore1.wav",".wav");exts.add("MM25_NiceScore2.wav",".wav");exts.add("MM26_DialogBox.wav",".wav");exts.add("MM27_TicketStatistics.wav",".wav");exts.add("MM27_TicketsOrdinary.wav",".wav");exts.add("MM28_TicketsGood.wav",".wav");exts.add("MM29_TicketsGreat.wav",".wav");exts.add("MM30_Settlements.wav",".wav");exts.add("MM31_ClickScreenMenu.wav",".wav");exts.add("MM32_FilmStart.wav",".wav");exts.add("MM33_FilmShow.wav",".wav");exts.add("MM26_NiceScore3.wav",".wav");exts.add("MM33_NiceScore4.wav",".wav");exts.add("MM17_FoundArtist.wav",".wav");exts.add("MM32_GetScript .wav",".wav");exts.add("MM34_CultrueArtist.wav",".wav")};SoundKey.SoundPackageName="Sound";SoundKey.SoundPackageId="44whq70o";SoundKey.MM_BGM_Cinema="MM_BGM_Cinema.mp3";SoundKey.MM_BGM_Propaganda="MM_BGM_Propaganda.mp3";SoundKey.MM_BGM_RoadShow="MM_BGM_RoadShow.mp3";SoundKey.MM01_Button="MM01_Button.wav";SoundKey.MM02_Popup="MM02_Popup.wav";SoundKey.MM03_ReachGoal="MM03_ReachGoal.wav";SoundKey.MM04_Lose="MM04_Lose.wav";SoundKey.MM05_Upgrade="MM05_Upgrade.wav";SoundKey.MM06_Building="MM06_Building.wav";SoundKey.MM07_GoldMuch="MM07_GoldMuch.wav";SoundKey.MM08_GoldLess="MM08_GoldLess.wav";SoundKey.MM09_GoldReward="MM09_GoldReward.wav";SoundKey.MM10_PayMent="MM10_PayMent.wav";SoundKey.MM11_NewsPaperTop="MM11_NewsPaperTop.wav";SoundKey.MM12_RecruitArtist="MM12_RecruitArtist.wav";SoundKey.MM13_GetArtist="MM13_GetArtist.wav";SoundKey.MM14_ArtistGradeUp="MM14_ArtistGradeUp.wav";SoundKey.MM15_Propaganda="MM15_Propaganda.wav";SoundKey.MM16_ScriptRolling="MM16_ScriptRolling.wav";SoundKey.MM17_Action="MM17_Action.wav";SoundKey.MM18_Screen="MM18_Screen.wav";SoundKey.MM19_ArtistShow="MM19_ArtistShow.wav";SoundKey.MM20_ArtistData="MM20_ArtistData.wav";SoundKey.MM21_ArtistAccord="MM21_ArtistAccord.wav";SoundKey.MM22_ScreenOver="MM22_ScreenOver.wav";SoundKey.MM23_Premiere="MM23_Premiere.wav";SoundKey.MM24_NiceScore1="MM24_NiceScore1.wav";SoundKey.MM25_NiceScore2="MM25_NiceScore2.wav";SoundKey.MM26_DialogBox="MM26_DialogBox.wav";SoundKey.MM27_TicketStatistics="MM27_TicketStatistics.wav";SoundKey.MM27_TicketsOrdinary="MM27_TicketsOrdinary.wav";SoundKey.MM28_TicketsGood="MM28_TicketsGood.wav";SoundKey.MM29_TicketsGreat="MM29_TicketsGreat.wav";SoundKey.MM30_Settlements="MM30_Settlements.wav";SoundKey.MM31_ClickScreenMenu="MM31_ClickScreenMenu.wav";SoundKey.MM32_FilmStart="MM32_FilmStart.wav";SoundKey.MM33_FilmShow="MM33_FilmShow.wav";SoundKey.MM26_NiceScore3="MM26_NiceScore3.wav";SoundKey.MM33_NiceScore4="MM33_NiceScore4.wav";SoundKey.MM17_FoundArtist="MM17_FoundArtist.wav";SoundKey.MM32_GetScript="MM32_GetScript .wav";SoundKey.MM34_CultrueArtist="MM34_CultrueArtist.wav";return SoundKey}());var fgui;(function(fgui){var Sound;(function(Sound){var SoundBinder=(function(){function SoundBinder(){}SoundBinder.bindAll=function(){};return SoundBinder}());Sound.SoundBinder=SoundBinder})(Sound=fgui.Sound||(fgui.Sound={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankBinder=(function(){function RankBinder(){}RankBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Rank.RankMainPanel.URL,Rank.RankMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Rank.RankRewardPanel.URL,Rank.RankRewardPanel);fairygui.UIObjectFactory.setPackageItemExtension(Rank.RankItem.URL,Rank.RankItem);fairygui.UIObjectFactory.setPackageItemExtension(Rank.RankRewardItem.URL,Rank.RankRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(Rank.UserRank.URL,Rank.UserRank)};return RankBinder}());Rank.RankBinder=RankBinder})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceBinder=(function(){function ProduceBinder(){}ProduceBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Produce.Main.URL,Produce.Main);fairygui.UIObjectFactory.setPackageItemExtension(Produce.TabGrade.URL,Produce.TabGrade);fairygui.UIObjectFactory.setPackageItemExtension(Produce.BtnUpgrade.URL,Produce.BtnUpgrade);fairygui.UIObjectFactory.setPackageItemExtension(Produce.BtnAdd.URL,Produce.BtnAdd);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ItemProduceLine.URL,Produce.ItemProduceLine);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceItem.URL,Produce.ProduceItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceLimitItem.URL,Produce.ProduceLimitItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceUpgrade.URL,Produce.ProduceUpgrade);fairygui.UIObjectFactory.setPackageItemExtension(Produce.BtnUpgradeLock.URL,Produce.BtnUpgradeLock);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceUpgradeItem.URL,Produce.ProduceUpgradeItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ActorItem.URL,Produce.ActorItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceSelectActorPanel.URL,Produce.ProduceSelectActorPanel);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ActorFilterItem.URL,Produce.ActorFilterItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceRenderItem.URL,Produce.ProduceRenderItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ItemProduceMaxLine.URL,Produce.ItemProduceMaxLine);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceTip.URL,Produce.ProduceTip);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ProduceOffActor.URL,Produce.ProduceOffActor);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ActorAttrItem.URL,Produce.ActorAttrItem);fairygui.UIObjectFactory.setPackageItemExtension(Produce.TabCircleList.URL,Produce.TabCircleList);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ButtonEndTime.URL,Produce.ButtonEndTime);fairygui.UIObjectFactory.setPackageItemExtension(Produce.ItemIconEffectLoader.URL,Produce.ItemIconEffectLoader)};return ProduceBinder}());Produce.ProduceBinder=ProduceBinder})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerInfoBinder=(function(){function PlayerInfoBinder(){}PlayerInfoBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.ProgressRedBar.URL,PlayerInfo.ProgressRedBar);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.BarSquare.URL,PlayerInfo.BarSquare);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Main.URL,PlayerInfo.Main);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Btn_editor_desc.URL,PlayerInfo.Btn_editor_desc);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Btn_editor_name.URL,PlayerInfo.Btn_editor_name);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.PersonInfo.URL,PlayerInfo.PersonInfo);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.AssetItem.URL,PlayerInfo.AssetItem);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Btn_topClose.URL,PlayerInfo.Btn_topClose);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.PlayerTopAsset.URL,PlayerInfo.PlayerTopAsset);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.TabPanel.URL,PlayerInfo.TabPanel);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.HomeRankTop.URL,PlayerInfo.HomeRankTop);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.HomeRankItem.URL,PlayerInfo.HomeRankItem);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.RenameCompany.URL,PlayerInfo.RenameCompany);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.ItemBuy.URL,PlayerInfo.ItemBuy);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Btn_buy.URL,PlayerInfo.Btn_buy);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.ChooseAvatar.URL,PlayerInfo.ChooseAvatar);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.Btn_choose.URL,PlayerInfo.Btn_choose);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.AvatarIconItem.URL,PlayerInfo.AvatarIconItem);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.PlayerLevelUp.URL,PlayerInfo.PlayerLevelUp);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.PlayerLevelNumber.URL,PlayerInfo.PlayerLevelNumber);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.PlayerInfoAwardItem.URL,PlayerInfo.PlayerInfoAwardItem);fairygui.UIObjectFactory.setPackageItemExtension(PlayerInfo.HeadCircleIcon.URL,PlayerInfo.HeadCircleIcon)};return PlayerInfoBinder}());PlayerInfo.PlayerInfoBinder=PlayerInfoBinder})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PfSkinBinder=(function(){function PfSkinBinder(){}PfSkinBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabAsset.URL,PfSkin.LabAsset);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabAsset_BG.URL,PfSkin.LabAsset_BG);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabItem.URL,PfSkin.LabItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ActorDetailUI.URL,PfSkin.ActorDetailUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistAssetPanel.URL,PfSkin.ArtistAssetPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistBasePanel.URL,PfSkin.ArtistBasePanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistDetailUI.URL,PfSkin.ArtistDetailUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistExpertItem1.URL,PfSkin.ArtistExpertItem1);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistExpertItem2.URL,PfSkin.ArtistExpertItem2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistExpertPanel.URL,PfSkin.ArtistExpertPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistForzenUI.URL,PfSkin.ArtistForzenUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistScoutResultUI.URL,PfSkin.ArtistScoutResultUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistScoutSuccessUI.URL,PfSkin.ArtistScoutSuccessUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistSkillPanel.URL,PfSkin.ArtistSkillPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTagTip.URL,PfSkin.ArtistTagTip);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTrainResultUI.URL,PfSkin.ArtistTrainResultUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTrainUI.URL,PfSkin.ArtistTrainUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistUI.URL,PfSkin.ArtistUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ComfirmUI.URL,PfSkin.ComfirmUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ItemNotEnoughUI.URL,PfSkin.ItemNotEnoughUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ModalUI.URL,PfSkin.ModalUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RenameUI.URL,PfSkin.RenameUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.TipRewardUI.URL,PfSkin.TipRewardUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.TipUI.URL,PfSkin.TipUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ActionItem.URL,PfSkin.ActionItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistAssetItem.URL,PfSkin.ArtistAssetItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistForzenItem.URL,PfSkin.ArtistForzenItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistItemView.URL,PfSkin.ArtistItemView);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistScoutResultItem.URL,PfSkin.ArtistScoutResultItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistSkillItem.URL,PfSkin.ArtistSkillItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTabBtn.URL,PfSkin.ArtistTabBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTag.URL,PfSkin.ArtistTag);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTrainAttrUpItem.URL,PfSkin.ArtistTrainAttrUpItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTrainItem1.URL,PfSkin.ArtistTrainItem1);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistTrainItem2.URL,PfSkin.ArtistTrainItem2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CollectBtn.URL,PfSkin.CollectBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CommonBtn.URL,PfSkin.CommonBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CommonBtn2.URL,PfSkin.CommonBtn2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CommonDialogUI.URL,PfSkin.CommonDialogUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.IconLabelItem.URL,PfSkin.IconLabelItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RewardCellView.URL,PfSkin.RewardCellView);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LineText.URL,PfSkin.LineText);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LockFunctionItem.URL,PfSkin.LockFunctionItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ProgressBarYellow.URL,PfSkin.ProgressBarYellow);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.Red.URL,PfSkin.Red);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RenameBtn.URL,PfSkin.RenameBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.SkillCell.URL,PfSkin.SkillCell);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.SpeedBtn.URL,PfSkin.SpeedBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StarItem.URL,PfSkin.StarItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.Text.URL,PfSkin.Text);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.TrainResultItem.URL,PfSkin.TrainResultItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.YellowBtn2.URL,PfSkin.YellowBtn2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.YellowBtn5.URL,PfSkin.YellowBtn5);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.WarFilmLabel.URL,PfSkin.WarFilmLabel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.WarFilmStar.URL,PfSkin.WarFilmStar);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.WarFilmTypeItem.URL,PfSkin.WarFilmTypeItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.WarBtn.URL,PfSkin.WarBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabItem_little.URL,PfSkin.LabItem_little);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.Star.URL,PfSkin.Star);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CheckBox.URL,PfSkin.CheckBox);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.AttrUpView.URL,PfSkin.AttrUpView);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ItemGetUI.URL,PfSkin.ItemGetUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ResultItemBtn.URL,PfSkin.ResultItemBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LevelUpLimitUI.URL,PfSkin.LevelUpLimitUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.AssetLoyaltyBar.URL,PfSkin.AssetLoyaltyBar);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.DialogUI.URL,PfSkin.DialogUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.Dialog.URL,PfSkin.Dialog);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryLibraryUI.URL,PfSkin.StoryLibraryUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryGroupRewardItem.URL,PfSkin.StoryGroupRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryGroupItem.URL,PfSkin.StoryGroupItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.CheckMark.URL,PfSkin.CheckMark);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryItem.URL,PfSkin.StoryItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.GroupItemRewardDialog.URL,PfSkin.GroupItemRewardDialog);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryAchevementUI.URL,PfSkin.StoryAchevementUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryAchevementItem.URL,PfSkin.StoryAchevementItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryAchevementTargetItem.URL,PfSkin.StoryAchevementTargetItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryAchevementTargetUI.URL,PfSkin.StoryAchevementTargetUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryInfoUI.URL,PfSkin.StoryInfoUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryInfoItem.URL,PfSkin.StoryInfoItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistShareUI.URL,PfSkin.ArtistShareUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistGetUI.URL,PfSkin.ArtistGetUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.MailMainPanel.URL,PfSkin.MailMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.MailItem.URL,PfSkin.MailItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.MailContentPanel.URL,PfSkin.MailContentPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.TextScroll.URL,PfSkin.TextScroll);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.EmptyBtn.URL,PfSkin.EmptyBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryItemMask.URL,PfSkin.StoryItemMask);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OtherPlayerUI.URL,PfSkin.OtherPlayerUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopMainPanel.URL,PfSkin.ShopMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopItem.URL,PfSkin.ShopItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopSpecialItem.URL,PfSkin.ShopSpecialItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.BtnShopTab.URL,PfSkin.BtnShopTab);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RechargeMainPanel.URL,PfSkin.RechargeMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopRechargeItem.URL,PfSkin.ShopRechargeItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabItem_big.URL,PfSkin.LabItem_big);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopGoodsItem.URL,PfSkin.ShopGoodsItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RoomDisplayContainer.URL,PfSkin.RoomDisplayContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyShow.URL,PfSkin.LyShow);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyChair1.URL,PfSkin.LyChair1);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyChair2.URL,PfSkin.LyChair2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyChair3.URL,PfSkin.LyChair3);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyChair4.URL,PfSkin.LyChair4);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LyContainer.URL,PfSkin.LyContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtListExerciseItem.URL,PfSkin.ArtListExerciseItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtListExerciseUI.URL,PfSkin.ArtListExerciseUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistExperciseRoom.URL,PfSkin.ArtistExperciseRoom);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ActorExperciseSelectPanel.URL,PfSkin.ActorExperciseSelectPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ActorExperciseItem.URL,PfSkin.ActorExperciseItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.RoadShowContainer.URL,PfSkin.RoadShowContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarAnim.URL,PfSkin.OscarAnim);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarChair1.URL,PfSkin.OscarChair1);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarChair2.URL,PfSkin.OscarChair2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarChair3.URL,PfSkin.OscarChair3);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarChair4.URL,PfSkin.OscarChair4);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarContainer.URL,PfSkin.OscarContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.AnimContainer.URL,PfSkin.AnimContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistDetailContent.URL,PfSkin.ArtistDetailContent);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LeftTimeBtn.URL,PfSkin.LeftTimeBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryAchieveItemView.URL,PfSkin.StoryAchieveItemView);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.BtnBigAdd.URL,PfSkin.BtnBigAdd);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistBtn.URL,PfSkin.ArtistBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.NewArtistItem.URL,PfSkin.NewArtistItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.NewArtistBg.URL,PfSkin.NewArtistBg);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryTypeItem.URL,PfSkin.StoryTypeItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShareBtn.URL,PfSkin.ShareBtn);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabCost.URL,PfSkin.LabCost);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryFindUI.URL,PfSkin.StoryFindUI);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ShopTopPanel.URL,PfSkin.ShopTopPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.LabCost2.URL,PfSkin.LabCost2);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.GoodsLine.URL,PfSkin.GoodsLine);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ActionContainer.URL,PfSkin.ActionContainer);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.MailViewPanel.URL,PfSkin.MailViewPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.MailRewardItem.URL,PfSkin.MailRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.OscarPanel.URL,PfSkin.OscarPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistIcon.URL,PfSkin.ArtistIcon);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistIcon150.URL,PfSkin.ArtistIcon150);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.StoryItemStar.URL,PfSkin.StoryItemStar);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistFindPanel.URL,PfSkin.ArtistFindPanel);fairygui.UIObjectFactory.setPackageItemExtension(PfSkin.ArtistListPanel.URL,PfSkin.ArtistListPanel)};return PfSkinBinder}());PfSkin.PfSkinBinder=PfSkinBinder})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarBinder=(function(){function OscarBinder(){}OscarBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarAwardsListPanel.URL,Oscar.OscarAwardsListPanel);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarRewardPanel.URL,Oscar.OscarRewardPanel);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarShowPanel.URL,Oscar.OscarShowPanel);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarDailyCheckbox.URL,Oscar.OscarDailyCheckbox);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarRewardItem.URL,Oscar.OscarRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.AwardsInfoItemts.URL,Oscar.AwardsInfoItemts);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarShowWinner.URL,Oscar.OscarShowWinner);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarCandidateItem.URL,Oscar.OscarCandidateItem);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarShowFrontView.URL,Oscar.OscarShowFrontView);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.OscarCupItem.URL,Oscar.OscarCupItem);fairygui.UIObjectFactory.setPackageItemExtension(Oscar.AwardsTitle.URL,Oscar.AwardsTitle)};return OscarBinder}());Oscar.OscarBinder=OscarBinder})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Notice;(function(Notice){var NoticeBinder=(function(){function NoticeBinder(){}NoticeBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Notice.PublicNoticePanel.URL,Notice.PublicNoticePanel)};return NoticeBinder}());Notice.NoticeBinder=NoticeBinder})(Notice=fgui.Notice||(fgui.Notice={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionBinder=(function(){function MissionBinder(){}MissionBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Mission.MissionMainPanel.URL,Mission.MissionMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Mission.MissionItem.URL,Mission.MissionItem);fairygui.UIObjectFactory.setPackageItemExtension(Mission.CommonProgressBar.URL,Mission.CommonProgressBar);fairygui.UIObjectFactory.setPackageItemExtension(Mission.ProgressMission.URL,Mission.ProgressMission);fairygui.UIObjectFactory.setPackageItemExtension(Mission.MissionReward.URL,Mission.MissionReward)};return MissionBinder}());Mission.MissionBinder=MissionBinder})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketBinder=(function(){function MarketBinder(){}MarketBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketCityInfoPanel.URL,Market.MarketCityInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketCountryListPanel.URL,Market.MarketCountryListPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketMainPanel.URL,Market.MarketMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketOccupyPanel.URL,Market.MarketOccupyPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.BtnRoadShow.URL,Market.BtnRoadShow);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketPublicityPanel.URL,Market.MarketPublicityPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketRoadShowPanel.URL,Market.MarketRoadShowPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketSelectActorPanel.URL,Market.MarketSelectActorPanel);fairygui.UIObjectFactory.setPackageItemExtension(Market.ProgressBar.URL,Market.ProgressBar);fairygui.UIObjectFactory.setPackageItemExtension(Market.BtnAddActer_Blue.URL,Market.BtnAddActer_Blue);fairygui.UIObjectFactory.setPackageItemExtension(Market.BtnCityPoint.URL,Market.BtnCityPoint);fairygui.UIObjectFactory.setPackageItemExtension(Market.BtnAddActer.URL,Market.BtnAddActer);fairygui.UIObjectFactory.setPackageItemExtension(Market.ActorPropert.URL,Market.ActorPropert);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketSelectActorItem.URL,Market.MarketSelectActorItem);fairygui.UIObjectFactory.setPackageItemExtension(Market.BtnCity.URL,Market.BtnCity);fairygui.UIObjectFactory.setPackageItemExtension(Market.CountryItem.URL,Market.CountryItem);fairygui.UIObjectFactory.setPackageItemExtension(Market.MarketRoadShowSuccess.URL,Market.MarketRoadShowSuccess)};return MarketBinder}());Market.MarketBinder=MarketBinder})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManageBinder=(function(){function ManageBinder(){}ManageBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Manage.BusinessLoadingPanel.URL,Manage.BusinessLoadingPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.BusinessMsgPanel.URL,Manage.BusinessMsgPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.BusinessUI.URL,Manage.BusinessUI);fairygui.UIObjectFactory.setPackageItemExtension(Manage.VisitUI.URL,Manage.VisitUI);fairygui.UIObjectFactory.setPackageItemExtension(Manage.VisitDialogPanel.URL,Manage.VisitDialogPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.ManagerOrderNeedItem.URL,Manage.ManagerOrderNeedItem);fairygui.UIObjectFactory.setPackageItemExtension(Manage.ManagerOrderNeedPanel.URL,Manage.ManagerOrderNeedPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.DeleteBtn.URL,Manage.DeleteBtn);fairygui.UIObjectFactory.setPackageItemExtension(Manage.ManagerOrderUI.URL,Manage.ManagerOrderUI);fairygui.UIObjectFactory.setPackageItemExtension(Manage.OrderTargetItem.URL,Manage.OrderTargetItem);fairygui.UIObjectFactory.setPackageItemExtension(Manage.OrderBox.URL,Manage.OrderBox);fairygui.UIObjectFactory.setPackageItemExtension(Manage.OrderHeadItem.URL,Manage.OrderHeadItem);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingAskPricePanel.URL,Manage.MeetingAskPricePanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingGameItem.URL,Manage.MeetingGameItem);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingGamePanel.URL,Manage.MeetingGamePanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingResultPanel.URL,Manage.MeetingResultPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingUI.URL,Manage.MeetingUI);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MettingStartPanel.URL,Manage.MettingStartPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingDialogRewardPanel.URL,Manage.MeetingDialogRewardPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingResultDialogPanel.URL,Manage.MeetingResultDialogPanel);fairygui.UIObjectFactory.setPackageItemExtension(Manage.MeetingResultEffect.URL,Manage.MeetingResultEffect)};return ManageBinder}());Manage.ManageBinder=ManageBinder})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MainUIBinder=(function(){function MainUIBinder(){}MainUIBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MenuBMainButton.URL,MainUI.MenuBMainButton);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MenuRButton.URL,MainUI.MenuRButton);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopHeadIcon.URL,MainUI.TopHeadIcon);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.Red.URL,MainUI.Red);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MainMenuBar.URL,MainUI.MainMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.RightBottomMenuBar.URL,MainUI.RightBottomMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopHeadInfo.URL,MainUI.TopHeadInfo);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopMoneyMainBar.URL,MainUI.TopMoneyMainBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.WarFilmSmalls.URL,MainUI.WarFilmSmalls);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.WarShangyingProgressBar2.URL,MainUI.WarShangyingProgressBar2);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.WarFilmContinue.URL,MainUI.WarFilmContinue);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MainUI.URL,MainUI.MainUI);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopMainBar.URL,MainUI.TopMainBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopStreet.URL,MainUI.TopStreet);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopServer.URL,MainUI.TopServer);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopMoneyItem.URL,MainUI.TopMoneyItem);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TopHeadIconMask.URL,MainUI.TopHeadIconMask);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MenuBButton.URL,MainUI.MenuBButton);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.RightTopMenuBar.URL,MainUI.RightTopMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.Submenu.URL,MainUI.Submenu);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.SubMenuBgArrow.URL,MainUI.SubMenuBgArrow);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.MenuSubButton.URL,MainUI.MenuSubButton);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TimeMenuButton.URL,MainUI.TimeMenuButton);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.ButtonTime.URL,MainUI.ButtonTime);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.RightMiddleMenuBar.URL,MainUI.RightMiddleMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.SubmenuContainer.URL,MainUI.SubmenuContainer);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.ExpectProgress1.URL,MainUI.ExpectProgress1);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.WarExpect.URL,MainUI.WarExpect);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.GuideTaskDialog.URL,MainUI.GuideTaskDialog);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.GuideTaskRole.URL,MainUI.GuideTaskRole);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.GuideFinishItem.URL,MainUI.GuideFinishItem);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.FxArrow.URL,MainUI.FxArrow);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.VisitMainTopUI.URL,MainUI.VisitMainTopUI);fairygui.UIObjectFactory.setPackageItemExtension(MainUI.TaskDialogMsgPanel.URL,MainUI.TaskDialogMsgPanel)};return MainUIBinder}());MainUI.MainUIBinder=MainUIBinder})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginBinder=(function(){function LoginBinder(){}LoginBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Login.Main.URL,Login.Main);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_login.URL,Login.Btn_login);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_register.URL,Login.Btn_register);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_guest.URL,Login.Btn_guest);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_accountlist.URL,Login.Btn_accountlist);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_pwdeye.URL,Login.Btn_pwdeye);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_forgot.URL,Login.Btn_forgot);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_accoutsec.URL,Login.Btn_accoutsec);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_onRegister.URL,Login.Btn_onRegister);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_userAgreement.URL,Login.Btn_userAgreement);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_back.URL,Login.Btn_back);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_closeAgreement.URL,Login.Btn_closeAgreement);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_guestlogin.URL,Login.Btn_guestlogin);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_linkaccount.URL,Login.Btn_linkaccount);fairygui.UIObjectFactory.setPackageItemExtension(Login.AccountInput.URL,Login.AccountInput);fairygui.UIObjectFactory.setPackageItemExtension(Login.PasswordInput.URL,Login.PasswordInput);fairygui.UIObjectFactory.setPackageItemExtension(Login.Login.URL,Login.Login);fairygui.UIObjectFactory.setPackageItemExtension(Login.Register.URL,Login.Register);fairygui.UIObjectFactory.setPackageItemExtension(Login.Agreement.URL,Login.Agreement);fairygui.UIObjectFactory.setPackageItemExtension(Login.Version.URL,Login.Version);fairygui.UIObjectFactory.setPackageItemExtension(Login.CreatRole.URL,Login.CreatRole);fairygui.UIObjectFactory.setPackageItemExtension(Login.Btn_next.URL,Login.Btn_next);fairygui.UIObjectFactory.setPackageItemExtension(Login.NameInput.URL,Login.NameInput);fairygui.UIObjectFactory.setPackageItemExtension(Login.LoginGuest.URL,Login.LoginGuest);fairygui.UIObjectFactory.setPackageItemExtension(Login.LoginFrame.URL,Login.LoginFrame);fairygui.UIObjectFactory.setPackageItemExtension(Login.AccountComboBox.URL,Login.AccountComboBox);fairygui.UIObjectFactory.setPackageItemExtension(Login.RandomButton.URL,Login.RandomButton);fairygui.UIObjectFactory.setPackageItemExtension(Login.InitialActor.URL,Login.InitialActor);fairygui.UIObjectFactory.setPackageItemExtension(Login.InitialActorItem.URL,Login.InitialActorItem);fairygui.UIObjectFactory.setPackageItemExtension(Login.InitialActorGroup.URL,Login.InitialActorGroup);fairygui.UIObjectFactory.setPackageItemExtension(Login.LoginWindowUI.URL,Login.LoginWindowUI);fairygui.UIObjectFactory.setPackageItemExtension(Login.PopupMenu.URL,Login.PopupMenu);fairygui.UIObjectFactory.setPackageItemExtension(Login.PopupMenu_item.URL,Login.PopupMenu_item)};return LoginBinder}());Login.LoginBinder=LoginBinder})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var Games;(function(Games){var GuiPackageNames=(function(){function GuiPackageNames(){}GuiPackageNames.Activity="Activity";GuiPackageNames.ArtistDic="ArtistDic";GuiPackageNames.Bag="Bag";GuiPackageNames.Building="Building";GuiPackageNames.Common="Common";GuiPackageNames.Cooperation="Cooperation";GuiPackageNames.FilmScreenAnim1="FilmScreenAnim1";GuiPackageNames.FilmScreenAnim2="FilmScreenAnim2";GuiPackageNames.FilmScreenCommon="FilmScreenCommon";GuiPackageNames.Fx="Fx";GuiPackageNames.GM="GM";GuiPackageNames.Guide="Guide";GuiPackageNames.LangEn="LangEn";GuiPackageNames.LangZhCn="LangZhCn";GuiPackageNames.Login="Login";GuiPackageNames.MainUI="MainUI";GuiPackageNames.Manage="Manage";GuiPackageNames.Market="Market";GuiPackageNames.Mission="Mission";GuiPackageNames.Notice="Notice";GuiPackageNames.Oscar="Oscar";GuiPackageNames.PfSkin="PfSkin";GuiPackageNames.PlayerInfo="PlayerInfo";GuiPackageNames.Produce="Produce";GuiPackageNames.Rank="Rank";GuiPackageNames.Sound="Sound";GuiPackageNames.Street="Street";GuiPackageNames.System="System";GuiPackageNames.SystemSettings="SystemSettings";GuiPackageNames.WarMovie="WarMovie";return GuiPackageNames}());Games.GuiPackageNames=GuiPackageNames})(Games||(Games={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideBinder=(function(){function GuideBinder(){}GuideBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideClickHand.URL,Guide.GuideClickHand);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideMinDialog.URL,Guide.GuideMinDialog);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideDialog.URL,Guide.GuideDialog);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideTaskUI.URL,Guide.GuideTaskUI);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideTaskRecordUI.URL,Guide.GuideTaskRecordUI);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideTaskItem.URL,Guide.GuideTaskItem);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideUI.URL,Guide.GuideUI);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideLeftDialog.URL,Guide.GuideLeftDialog);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideRightDialog.URL,Guide.GuideRightDialog);fairygui.UIObjectFactory.setPackageItemExtension(Guide.Hand.URL,Guide.Hand);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideNpcIntroductionUI.URL,Guide.GuideNpcIntroductionUI);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideTalkItem.URL,Guide.GuideTalkItem);fairygui.UIObjectFactory.setPackageItemExtension(Guide.RecordBtn.URL,Guide.RecordBtn);fairygui.UIObjectFactory.setPackageItemExtension(Guide.WarNewspaperHeadlines.URL,Guide.WarNewspaperHeadlines);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideDialogMsgPanel.URL,Guide.GuideDialogMsgPanel);fairygui.UIObjectFactory.setPackageItemExtension(Guide.GuideDialogMinPanel.URL,Guide.GuideDialogMinPanel);fairygui.UIObjectFactory.setPackageItemExtension(Guide.ZhuIcon.URL,Guide.ZhuIcon);fairygui.UIObjectFactory.setPackageItemExtension(Guide.Text.URL,Guide.Text)};return GuideBinder}());Guide.GuideBinder=GuideBinder})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));function fguiBinderAll(){fgui.Activity.ActivityBinder.bindAll();fgui.ArtistDic.ArtistDicBinder.bindAll();fgui.Bag.BagBinder.bindAll();fgui.Building.BuildingBinder.bindAll();fgui.Common.CommonBinder.bindAll();fgui.Cooperation.CooperationBinder.bindAll();fgui.Fx.FxBinder.bindAll();fgui.GM.GMBinder.bindAll();fgui.Guide.GuideBinder.bindAll();fgui.Login.LoginBinder.bindAll();fgui.MainUI.MainUIBinder.bindAll();fgui.Manage.ManageBinder.bindAll();fgui.Market.MarketBinder.bindAll();fgui.Mission.MissionBinder.bindAll();fgui.Notice.NoticeBinder.bindAll();fgui.Oscar.OscarBinder.bindAll();fgui.PfSkin.PfSkinBinder.bindAll();fgui.PlayerInfo.PlayerInfoBinder.bindAll();fgui.Produce.ProduceBinder.bindAll();fgui.Rank.RankBinder.bindAll();fgui.Sound.SoundBinder.bindAll();fgui.Street.StreetBinder.bindAll();fgui.System.SystemBinder.bindAll();fgui.SystemSettings.SystemSettingsBinder.bindAll();fgui.WarMovie.WarMovieBinder.bindAll()}var fgui;(function(fgui){var GM;(function(GM){var GMBinder=(function(){function GMBinder(){}GMBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(GM.GMMain.URL,GM.GMMain);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMMenuBar.URL,GM.GMMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMPopupMenu_item.URL,GM.GMPopupMenu_item);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMPopupMenu.URL,GM.GMPopupMenu);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMPopupButton.URL,GM.GMPopupButton);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMSubMenuBar.URL,GM.GMSubMenuBar);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMDebugPage.URL,GM.GMDebugPage);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMAddPage.URL,GM.GMAddPage);fairygui.UIObjectFactory.setPackageItemExtension(GM.Checkbox.URL,GM.Checkbox);fairygui.UIObjectFactory.setPackageItemExtension(GM.TextInput.URL,GM.TextInput);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMAddItem.URL,GM.GMAddItem);fairygui.UIObjectFactory.setPackageItemExtension(GM.ButtonCorner.URL,GM.ButtonCorner);fairygui.UIObjectFactory.setPackageItemExtension(GM.NumberInput.URL,GM.NumberInput);fairygui.UIObjectFactory.setPackageItemExtension(GM.ButtonRect.URL,GM.ButtonRect);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMSelectServerPage.URL,GM.GMSelectServerPage);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMCmdPage.URL,GM.GMCmdPage);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMSubMenuRadioBar.URL,GM.GMSubMenuRadioBar);fairygui.UIObjectFactory.setPackageItemExtension(GM.TextArea.URL,GM.TextArea);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMCmdItem.URL,GM.GMCmdItem);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMLogItem.URL,GM.GMLogItem);fairygui.UIObjectFactory.setPackageItemExtension(GM.Tree.URL,GM.Tree);fairygui.UIObjectFactory.setPackageItemExtension(GM.TreeItem.URL,GM.TreeItem);fairygui.UIObjectFactory.setPackageItemExtension(GM.TreeItemCheckbox.URL,GM.TreeItemCheckbox);fairygui.UIObjectFactory.setPackageItemExtension(GM.GMDisplayTreePage.URL,GM.GMDisplayTreePage);fairygui.UIObjectFactory.setPackageItemExtension(GM.TreeItemOpenCheckbox.URL,GM.TreeItemOpenCheckbox);fairygui.UIObjectFactory.setPackageItemExtension(GM.TreeList.URL,GM.TreeList)};return GMBinder}());GM.GMBinder=GMBinder})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var FxBinder=(function(){function FxBinder(){}FxBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill.URL,Fx.Effect_actor_skill);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starfly.URL,Fx.Starfly);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks_light01.URL,Fx.Effect_fireworks_light01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starboom.URL,Fx.Starboom);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_levelup_word.URL,Fx.Effect_levelup_word);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starshanshan.URL,Fx.Starshanshan);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks_light02.URL,Fx.Effect_fireworks_light02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_spotlights0001.URL,Fx.Fireworks_spotlights0001);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_spotlights0002.URL,Fx.Fireworks_spotlights0002);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_spotlights_all.URL,Fx.Fireworks_spotlights_all);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_spotlights0003.URL,Fx.Fireworks_spotlights0003);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_spotlights0004.URL,Fx.Fireworks_spotlights0004);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks002.URL,Fx.Effect_fireworks002);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starboom_allneed.URL,Fx.Starboom_allneed);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_level_up.URL,Fx.Fireworks_level_up);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_successful.URL,Fx.Fireworks_successful);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_level_up_002.URL,Fx.Fireworks_level_up_002);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Fireworks_congrats.URL,Fx.Fireworks_congrats);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle.URL,Fx.Particle);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starboom002.URL,Fx.Starboom002);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_01.URL,Fx.Particle_01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_all.URL,Fx.Particle_all);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_02.URL,Fx.Particle_02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_03.URL,Fx.Particle_03);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_04.URL,Fx.Particle_04);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Smoke003.URL,Fx.Smoke003);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Beat01.URL,Fx.Beat01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Beat02.URL,Fx.Beat02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Oscar_Choose02.URL,Fx.Effect_Oscar_Choose02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Oscar_particle.URL,Fx.Effect_Oscar_particle);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Oscar_light02.URL,Fx.Effect_Oscar_light02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_MovieTarget_Failed.URL,Fx.Effect_MovieTarget_Failed);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Movie_Earnings.URL,Fx.Effect_Movie_Earnings);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Oscar_particle2323.URL,Fx.Effect_Oscar_particle2323);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Particle_02333.URL,Fx.Particle_02333);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_Oscar_Choose01.URL,Fx.Effect_Oscar_Choose01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks_golden.URL,Fx.Effect_fireworks_golden);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks_light03.URL,Fx.Effect_fireworks_light03);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_filming02.URL,Fx.Effect_filming02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_upgrade_01.URL,Fx.Effect_upgrade_01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_flower01.URL,Fx.Effect_flower01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_propagate_01.URL,Fx.Effect_propagate_01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_pro002.URL,Fx.Effect_pro002);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top.URL,Fx.Effect_actor_skill_top);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_transparent.URL,Fx.Effect_actor_skill_transparent);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_red.URL,Fx.Effect_actor_skill_top_red);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_blue.URL,Fx.Effect_actor_skill_top_blue);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_yellow.URL,Fx.Effect_actor_skill_top_yellow);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_gray.URL,Fx.Effect_actor_skill_top_gray);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Pro_drop.URL,Fx.Pro_drop);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_build02.URL,Fx.Effect_build02);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_diban22.URL,Fx.Effect_actor_skill_diban22);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerStar1.URL,Fx.TrailerStar1);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerStar2.URL,Fx.TrailerStar2);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerStar3.URL,Fx.TrailerStar3);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerStar4.URL,Fx.TrailerStar4);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Halo.URL,Fx.Halo);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerPaper1.URL,Fx.TrailerPaper1);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerPaper2.URL,Fx.TrailerPaper2);fairygui.UIObjectFactory.setPackageItemExtension(Fx.TrailerPaper3.URL,Fx.TrailerPaper3);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_0000.URL,Fx.Heart_0000);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_win.URL,Fx.Effect_actor_skill_top_win);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_deuce.URL,Fx.Effect_actor_skill_top_deuce);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor_skill_top_lose.URL,Fx.Effect_actor_skill_top_lose);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_chapter.URL,Fx.Effect_chapter);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_story_unlock.URL,Fx.Effect_story_unlock);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Button_yellow_001.URL,Fx.Button_yellow_001);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_rotate_light.URL,Fx.Effect_rotate_light);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_num1.URL,Fx.Effect_num1);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_firework_blue.URL,Fx.Effect_firework_blue);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_firework_blue55.URL,Fx.Effect_firework_blue55);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starboom_allneed.URL,Fx.Starboom_allneed);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_actor01.URL,Fx.Effect_actor01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_starfly0222.URL,Fx.Effect_starfly0222);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_starfly0333.URL,Fx.Effect_starfly0333);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_starfly0223.URL,Fx.Effect_starfly0223);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_starfly0224.URL,Fx.Effect_starfly0224);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_011.URL,Fx.Heart_011);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_003.URL,Fx.Heart_003);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_004.URL,Fx.Heart_004);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_show_55454.URL,Fx.Effect_show_55454);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_01233.URL,Fx.Heart_01233);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_005.URL,Fx.Heart_005);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Heart_77.URL,Fx.Heart_77);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_goldappear_01.URL,Fx.Effect_goldappear_01);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Starboom_blue.URL,Fx.Starboom_blue);fairygui.UIObjectFactory.setPackageItemExtension(Fx.Effect_fireworks_blue.URL,Fx.Effect_fireworks_blue)};return FxBinder}());Fx.FxBinder=FxBinder})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenCommon;(function(FilmScreenCommon){var FilmScreenCommonBinder=(function(){function FilmScreenCommonBinder(){}FilmScreenCommonBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(FilmScreenCommon.FilmScreenCommon.URL,FilmScreenCommon.FilmScreenCommon)};return FilmScreenCommonBinder}());FilmScreenCommon.FilmScreenCommonBinder=FilmScreenCommonBinder})(FilmScreenCommon=fgui.FilmScreenCommon||(fgui.FilmScreenCommon={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim2;(function(FilmScreenAnim2){var FilmScreenAnim2Binder=(function(){function FilmScreenAnim2Binder(){}FilmScreenAnim2Binder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(FilmScreenAnim2.FilmScreenAnim2.URL,FilmScreenAnim2.FilmScreenAnim2)};return FilmScreenAnim2Binder}());FilmScreenAnim2.FilmScreenAnim2Binder=FilmScreenAnim2Binder})(FilmScreenAnim2=fgui.FilmScreenAnim2||(fgui.FilmScreenAnim2={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim1;(function(FilmScreenAnim1){var FilmScreenAnim1Binder=(function(){function FilmScreenAnim1Binder(){}FilmScreenAnim1Binder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(FilmScreenAnim1.FilmScreenAnim1.URL,FilmScreenAnim1.FilmScreenAnim1)};return FilmScreenAnim1Binder}());FilmScreenAnim1.FilmScreenAnim1Binder=FilmScreenAnim1Binder})(FilmScreenAnim1=fgui.FilmScreenAnim1||(fgui.FilmScreenAnim1={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationBinder=(function(){function CooperationBinder(){}CooperationBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationMainPanel.URL,Cooperation.CooperationMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationAchieved.URL,Cooperation.CooperationAchieved);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationEnd.URL,Cooperation.CooperationEnd);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationApply.URL,Cooperation.CooperationApply);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationRealtionship.URL,Cooperation.CooperationRealtionship);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationRewardItem.URL,Cooperation.CooperationRewardItem);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationReward.URL,Cooperation.CooperationReward);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationTotalBar.URL,Cooperation.CooperationTotalBar);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationRewardBox.URL,Cooperation.CooperationRewardBox);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationItemBtn.URL,Cooperation.CooperationItemBtn);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationItemBtn2.URL,Cooperation.CooperationItemBtn2);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationItemBtn3.URL,Cooperation.CooperationItemBtn3);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationForMainUI.URL,Cooperation.CooperationForMainUI);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.IconBtn.URL,Cooperation.IconBtn);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationMain.URL,Cooperation.CooperationMain);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationReward2.URL,Cooperation.CooperationReward2);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.CooperationAdd.URL,Cooperation.CooperationAdd);fairygui.UIObjectFactory.setPackageItemExtension(Cooperation.TopHeadIconMask.URL,Cooperation.TopHeadIconMask)};return CooperationBinder}());Cooperation.CooperationBinder=CooperationBinder})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonBinder=(function(){function CommonBinder(){}CommonBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemCellView.URL,Common.ItemCellView);fairygui.UIObjectFactory.setPackageItemExtension(Common.CloseBtn.URL,Common.CloseBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonDialogUI.URL,Common.CommonDialogUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemSetNumMessage.URL,Common.SystemSetNumMessage);fairygui.UIObjectFactory.setPackageItemExtension(Common.YellowBtn.URL,Common.YellowBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.Slider.URL,Common.Slider);fairygui.UIObjectFactory.setPackageItemExtension(Common.GripButton.URL,Common.GripButton);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemGetItemMessage.URL,Common.SystemGetItemMessage);fairygui.UIObjectFactory.setPackageItemExtension(Common.Button_Common.URL,Common.Button_Common);fairygui.UIObjectFactory.setPackageItemExtension(Common.GetWayAlert.URL,Common.GetWayAlert);fairygui.UIObjectFactory.setPackageItemExtension(Common.GetWayItem.URL,Common.GetWayItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemAddFansMessage.URL,Common.SystemAddFansMessage);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBar.URL,Common.ProgressBar);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemLevelUpMessage.URL,Common.SystemLevelUpMessage);fairygui.UIObjectFactory.setPackageItemExtension(Common.Main.URL,Common.Main);fairygui.UIObjectFactory.setPackageItemExtension(Common.AssetItem.URL,Common.AssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnBlueClose.URL,Common.BtnBlueClose);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnItemBuy.URL,Common.BtnItemBuy);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemAlertAwards.URL,Common.SystemAlertAwards);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnConfirm.URL,Common.BtnConfirm);fairygui.UIObjectFactory.setPackageItemExtension(Common.AssetItemVertical.URL,Common.AssetItemVertical);fairygui.UIObjectFactory.setPackageItemExtension(Common.AssetItemList.URL,Common.AssetItemList);fairygui.UIObjectFactory.setPackageItemExtension(Common.HeadIconItem.URL,Common.HeadIconItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.TalkBox.URL,Common.TalkBox);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnYellow.URL,Common.BtnYellow);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnGreen.URL,Common.BtnGreen);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBar.URL,Common.ProgressBar);fairygui.UIObjectFactory.setPackageItemExtension(Common.Checkbox.URL,Common.Checkbox);fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemIcon50x50.URL,Common.ItemIcon50x50);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressTotalBar.URL,Common.ProgressTotalBar);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressGreenBar.URL,Common.ProgressGreenBar);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressReward.URL,Common.ProgressReward);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressYellowBar.URL,Common.ProgressYellowBar);fairygui.UIObjectFactory.setPackageItemExtension(Common.TipReward.URL,Common.TipReward);fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemIcon100x100.URL,Common.ItemIcon100x100);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUpSmall.URL,Common.PopUpSmall);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUpBig.URL,Common.PopUpBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.CloseBtn.URL,Common.CloseBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonYellowSmall.URL,Common.ButtonYellowSmall);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonBlueSmall.URL,Common.ButtonBlueSmall);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonPurpleSmall.URL,Common.ButtonPurpleSmall);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonPurpleBig.URL,Common.ButtonPurpleBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonBlueBig.URL,Common.ButtonBlueBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonYellowBig.URL,Common.ButtonYellowBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonTipBlue.URL,Common.ButtonTipBlue);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonTipYellow.URL,Common.ButtonTipYellow);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarRed.URL,Common.ProgressBarRed);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarBlue.URL,Common.ProgressBarBlue);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarMain.URL,Common.ProgressBarMain);fairygui.UIObjectFactory.setPackageItemExtension(Common.SliderRed_grip.URL,Common.SliderRed_grip);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUp1056.URL,Common.PopUp1056);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUp406.URL,Common.PopUp406);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUp446.URL,Common.PopUp446);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUp916.URL,Common.PopUp916);fairygui.UIObjectFactory.setPackageItemExtension(Common.PopUpMsg.URL,Common.PopUpMsg);fairygui.UIObjectFactory.setPackageItemExtension(Common.AddBtn.URL,Common.AddBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonButton.URL,Common.CommonButton);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonBlue.URL,Common.ButtonBlue);fairygui.UIObjectFactory.setPackageItemExtension(Common.UpgradeBtn.URL,Common.UpgradeBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.AvatarShadow.URL,Common.AvatarShadow);fairygui.UIObjectFactory.setPackageItemExtension(Common.EmptyBtn.URL,Common.EmptyBtn);fairygui.UIObjectFactory.setPackageItemExtension(Common.AddBtn2.URL,Common.AddBtn2);fairygui.UIObjectFactory.setPackageItemExtension(Common.AddBtn3.URL,Common.AddBtn3);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonYellowIconBig.URL,Common.ButtonYellowIconBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.TopAsset.URL,Common.TopAsset);fairygui.UIObjectFactory.setPackageItemExtension(Common.TopAssetItem.URL,Common.TopAssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.SkillEffectUI.URL,Common.SkillEffectUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemAlertGift.URL,Common.SystemAlertGift);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonItem.URL,Common.CommonItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemGoOtherFunction.URL,Common.SystemGoOtherFunction);fairygui.UIObjectFactory.setPackageItemExtension(Common.FunctionItem.URL,Common.FunctionItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.StoryItem.URL,Common.StoryItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemView.URL,Common.ItemView);fairygui.UIObjectFactory.setPackageItemExtension(Common.AssetItemBig.URL,Common.AssetItemBig);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBlue.URL,Common.ProgressBlue);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonProgressBlue.URL,Common.CommonProgressBlue);fairygui.UIObjectFactory.setPackageItemExtension(Common.RoomContainer.URL,Common.RoomContainer);fairygui.UIObjectFactory.setPackageItemExtension(Common.SystemAlertTextIconMessage.URL,Common.SystemAlertTextIconMessage);fairygui.UIObjectFactory.setPackageItemExtension(Common.CheckBox2.URL,Common.CheckBox2);fairygui.UIObjectFactory.setPackageItemExtension(Common.DialogMsgPanel.URL,Common.DialogMsgPanel);fairygui.UIObjectFactory.setPackageItemExtension(Common.HeadItem100.URL,Common.HeadItem100);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonSmallItem.URL,Common.CommonSmallItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonCost.URL,Common.ButtonCost);fairygui.UIObjectFactory.setPackageItemExtension(Common.Red.URL,Common.Red);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonDoubleLabel.URL,Common.ButtonDoubleLabel);fairygui.UIObjectFactory.setPackageItemExtension(Common.HeadItemIcon.URL,Common.HeadItemIcon);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonAssetItem_little.URL,Common.CommonAssetItem_little);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonViewUI.URL,Common.CommonViewUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.MovieIcon_little.URL,Common.MovieIcon_little);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnHelp.URL,Common.BtnHelp);fairygui.UIObjectFactory.setPackageItemExtension(Common.RankPlayerInfoPanel.URL,Common.RankPlayerInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Common.RankPlayerInfo.URL,Common.RankPlayerInfo);fairygui.UIObjectFactory.setPackageItemExtension(Common.RankRenamePanel.URL,Common.RankRenamePanel);fairygui.UIObjectFactory.setPackageItemExtension(Common.PlayerMovieInfo.URL,Common.PlayerMovieInfo);fairygui.UIObjectFactory.setPackageItemExtension(Common.RankMovieInfoPanel.URL,Common.RankMovieInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Common.MovieInfoItem.URL,Common.MovieInfoItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.MovieEvaluationIcon.URL,Common.MovieEvaluationIcon);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProperText.URL,Common.ProperText);fairygui.UIObjectFactory.setPackageItemExtension(Common.MovieIcon.URL,Common.MovieIcon);fairygui.UIObjectFactory.setPackageItemExtension(Common.ActorIcon.URL,Common.ActorIcon);fairygui.UIObjectFactory.setPackageItemExtension(Common.Star.URL,Common.Star);fairygui.UIObjectFactory.setPackageItemExtension(Common.TextScroll.URL,Common.TextScroll);fairygui.UIObjectFactory.setPackageItemExtension(Common.Btn_editor_name.URL,Common.Btn_editor_name);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonYellowAdd.URL,Common.ButtonYellowAdd);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnNext.URL,Common.BtnNext);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnLeft.URL,Common.BtnLeft);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnRight.URL,Common.BtnRight);fairygui.UIObjectFactory.setPackageItemExtension(Common.TextInput.URL,Common.TextInput);fairygui.UIObjectFactory.setPackageItemExtension(Common.OscarDanmu.URL,Common.OscarDanmu);fairygui.UIObjectFactory.setPackageItemExtension(Common.OscarDanmuWay.URL,Common.OscarDanmuWay);fairygui.UIObjectFactory.setPackageItemExtension(Common.OscarDanmuContent.URL,Common.OscarDanmuContent);fairygui.UIObjectFactory.setPackageItemExtension(Common.Marquee.URL,Common.Marquee);fairygui.UIObjectFactory.setPackageItemExtension(Common.ActorLvBreaktUI.URL,Common.ActorLvBreaktUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonAssetItem.URL,Common.CommonAssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonTitleAssetCloseUI.URL,Common.CommonTitleAssetCloseUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonTitleAssetUI.URL,Common.CommonTitleAssetUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonTitlePanelUI.URL,Common.CommonTitlePanelUI);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonCostPurple.URL,Common.ButtonCostPurple);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonCostYellow.URL,Common.ButtonCostYellow);fairygui.UIObjectFactory.setPackageItemExtension(Common.ButtonTips.URL,Common.ButtonTips);fairygui.UIObjectFactory.setPackageItemExtension(Common.ActorSelectItem.URL,Common.ActorSelectItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.StreetLevelUp.URL,Common.StreetLevelUp);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarYellow2.URL,Common.ProgressBarYellow2);fairygui.UIObjectFactory.setPackageItemExtension(Common.BtnCongra.URL,Common.BtnCongra);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonTape.URL,Common.CommonTape);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarYellow.URL,Common.ProgressBarYellow);fairygui.UIObjectFactory.setPackageItemExtension(Common.AssetItem_little.URL,Common.AssetItem_little);fairygui.UIObjectFactory.setPackageItemExtension(Common.ProgressBarYellow_small.URL,Common.ProgressBarYellow_small);fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemInfo.URL,Common.ItemInfo);fairygui.UIObjectFactory.setPackageItemExtension(Common.ItemInfoPanel.URL,Common.ItemInfoPanel);fairygui.UIObjectFactory.setPackageItemExtension(Common.PactIcon_44.URL,Common.PactIcon_44);fairygui.UIObjectFactory.setPackageItemExtension(Common.StreetLevelUpItem.URL,Common.StreetLevelUpItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.TalkBox1.URL,Common.TalkBox1);fairygui.UIObjectFactory.setPackageItemExtension(Common.PactIcon_80.URL,Common.PactIcon_80);fairygui.UIObjectFactory.setPackageItemExtension(Common.RawAssetItem.URL,Common.RawAssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.CommonItem_70.URL,Common.CommonItem_70);fairygui.UIObjectFactory.setPackageItemExtension(Common.SplashAssetItem.URL,Common.SplashAssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Common.Touxiang.URL,Common.Touxiang)};return CommonBinder}());Common.CommonBinder=CommonBinder})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildingBinder=(function(){function BuildingBinder(){}BuildingBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Building.Main.URL,Building.Main);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildRoom.URL,Building.BuildRoom);fairygui.UIObjectFactory.setPackageItemExtension(Building.Btn_roomTitle.URL,Building.Btn_roomTitle);fairygui.UIObjectFactory.setPackageItemExtension(Building.Btn_buildRoom.URL,Building.Btn_buildRoom);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildRoomUpgrade.URL,Building.BuildRoomUpgrade);fairygui.UIObjectFactory.setPackageItemExtension(Building.LevelupProp.URL,Building.LevelupProp);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildRoomList.URL,Building.BuildRoomList);fairygui.UIObjectFactory.setPackageItemExtension(Building.Btn_roomTip.URL,Building.Btn_roomTip);fairygui.UIObjectFactory.setPackageItemExtension(Building.RoomInfoItem.URL,Building.RoomInfoItem);fairygui.UIObjectFactory.setPackageItemExtension(Building.RoomInfoLockItem.URL,Building.RoomInfoLockItem);fairygui.UIObjectFactory.setPackageItemExtension(Building.Btn_buildFloor.URL,Building.Btn_buildFloor);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildRoomUpgradeSuccess.URL,Building.BuildRoomUpgradeSuccess);fairygui.UIObjectFactory.setPackageItemExtension(Building.AssetItem.URL,Building.AssetItem);fairygui.UIObjectFactory.setPackageItemExtension(Building.AvatarDisplayObject.URL,Building.AvatarDisplayObject);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildRoomTips.URL,Building.BuildRoomTips);fairygui.UIObjectFactory.setPackageItemExtension(Building.AvatarSample.URL,Building.AvatarSample);fairygui.UIObjectFactory.setPackageItemExtension(Building.ExperciseAvatar.URL,Building.ExperciseAvatar);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildScene.URL,Building.BuildScene);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildScene1.URL,Building.BuildScene1);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildScene13.URL,Building.BuildScene13);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildScenePart.URL,Building.BuildScenePart);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildListItemIcon.URL,Building.BuildListItemIcon);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildUpgradePropitem.URL,Building.BuildUpgradePropitem);fairygui.UIObjectFactory.setPackageItemExtension(Building.LevelupNextProp.URL,Building.LevelupNextProp);fairygui.UIObjectFactory.setPackageItemExtension(Building.Btn_add.URL,Building.Btn_add);fairygui.UIObjectFactory.setPackageItemExtension(Building.BtnNpcTips.URL,Building.BtnNpcTips);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildScene3.URL,Building.BuildScene3);fairygui.UIObjectFactory.setPackageItemExtension(Building.TouchComponent.URL,Building.TouchComponent);fairygui.UIObjectFactory.setPackageItemExtension(Building.UpgradeSuccessGroup.URL,Building.UpgradeSuccessGroup);fairygui.UIObjectFactory.setPackageItemExtension(Building.BuildSceneFilmEnter.URL,Building.BuildSceneFilmEnter);fairygui.UIObjectFactory.setPackageItemExtension(Building.FilmDoorPoint.URL,Building.FilmDoorPoint)};return BuildingBinder}());Building.BuildingBinder=BuildingBinder})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BagBinder=(function(){function BagBinder(){}BagBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Bag.BagItemInfo.URL,Bag.BagItemInfo);fairygui.UIObjectFactory.setPackageItemExtension(Bag.BagMainPanel.URL,Bag.BagMainPanel);fairygui.UIObjectFactory.setPackageItemExtension(Bag.SystemSelectActorPanel.URL,Bag.SystemSelectActorPanel);fairygui.UIObjectFactory.setPackageItemExtension(Bag.ActorItem.URL,Bag.ActorItem);fairygui.UIObjectFactory.setPackageItemExtension(Bag.PactItem.URL,Bag.PactItem);fairygui.UIObjectFactory.setPackageItemExtension(Bag.PropItem.URL,Bag.PropItem);fairygui.UIObjectFactory.setPackageItemExtension(Bag.BtnTab.URL,Bag.BtnTab);fairygui.UIObjectFactory.setPackageItemExtension(Bag.ActorBg.URL,Bag.ActorBg);fairygui.UIObjectFactory.setPackageItemExtension(Bag.MarketLabAsset.URL,Bag.MarketLabAsset)};return BagBinder}());Bag.BagBinder=BagBinder})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistDicBinder=(function(){function ArtistDicBinder(){}ArtistDicBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.ArtistDicUI.URL,ArtistDic.ArtistDicUI);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.ArtistShow.URL,ArtistDic.ArtistShow);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.ActorBg.URL,ArtistDic.ActorBg);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.ActorIcon.URL,ArtistDic.ActorIcon);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.StarTitle.URL,ArtistDic.StarTitle);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.ArtistList.URL,ArtistDic.ArtistList);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.SelectItem.URL,ArtistDic.SelectItem);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.SelectItem2.URL,ArtistDic.SelectItem2);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.SelectItem3.URL,ArtistDic.SelectItem3);fairygui.UIObjectFactory.setPackageItemExtension(ArtistDic.Star.URL,ArtistDic.Star)};return ArtistDicBinder}());ArtistDic.ArtistDicBinder=ArtistDicBinder})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivityBinder=(function(){function ActivityBinder(){}ActivityBinder.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(Activity.ActivityMain.URL,Activity.ActivityMain);fairygui.UIObjectFactory.setPackageItemExtension(Activity.ActivityTopItemBtn.URL,Activity.ActivityTopItemBtn);fairygui.UIObjectFactory.setPackageItemExtension(Activity.ActivitySeven.URL,Activity.ActivitySeven);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SevenItem.URL,Activity.SevenItem);fairygui.UIObjectFactory.setPackageItemExtension(Activity.RewardItem.URL,Activity.RewardItem);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SignPanel.URL,Activity.SignPanel);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SignItem.URL,Activity.SignItem);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryButton.URL,Activity.SecretaryButton);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryCommon.URL,Activity.SecretaryCommon);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryGiftButton.URL,Activity.SecretaryGiftButton);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryGiftPanel.URL,Activity.SecretaryGiftPanel);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryPanel.URL,Activity.SecretaryPanel);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SecretaryWelfareMsgItem.URL,Activity.SecretaryWelfareMsgItem);fairygui.UIObjectFactory.setPackageItemExtension(Activity.WelfareMain.URL,Activity.WelfareMain);fairygui.UIObjectFactory.setPackageItemExtension(Activity.ApplyLicensePanel.URL,Activity.ApplyLicensePanel);fairygui.UIObjectFactory.setPackageItemExtension(Activity.LicenseReq.URL,Activity.LicenseReq);fairygui.UIObjectFactory.setPackageItemExtension(Activity.LoadPanel.URL,Activity.LoadPanel);fairygui.UIObjectFactory.setPackageItemExtension(Activity.SignItem2.URL,Activity.SignItem2);fairygui.UIObjectFactory.setPackageItemExtension(Activity.PactIcon_44.URL,Activity.PactIcon_44);fairygui.UIObjectFactory.setPackageItemExtension(Activity.Dialog.URL,Activity.Dialog)};return ActivityBinder}());Activity.ActivityBinder=ActivityBinder})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var Games;(function(Games){var TEXT=(function(){function TEXT(){}TEXT.LangSelectMsg="语言需要重启游戏才有效!";TEXT.FunNoOpen="此功能暂未开放，敬请期待！";TEXT.ButtonSelect="选择";TEXT.ButtonOk="确定";TEXT.ButtonCannel="取消";TEXT.ButtonYes="是";TEXT.ButtonNo="否";TEXT.Complete="完成";TEXT.Disable="没有开放";TEXT.Lock="没解锁";TEXT.TitleTip="提示";TEXT.ErorNoInitProto="没有初始化网络";TEXT.ErorRequestServerList="请求服务器列表失败";TEXT.ErorAccountFrozen="账号被冻结";TEXT.ErorAccountDropped="账号被停用";TEXT.TipEnterRoleName="输入你的名称";TEXT.ErrorNameEmpty="名字不能是空的";TEXT.ErrorNameUsed="名称已经被使用";TEXT.ErrorHttpSendFail="[Error] 发送请求失败";TEXT.HttpTimeOut="网络超时! 当前设置的超时时间是{0}";TEXT.AlertTextBuyActor="是否花费{0}{1}增加艺人数量";TEXT.AlertTextScountActor="是否花费{0}{1} 探查艺人？";TEXT.ToastTextItemNotEnough="{0}数量不足";TEXT.ToastTextItemNotEnough2="数量不足，需要{0} {1}";TEXT.AfterToScountActor="{0}后探查次数加1";TEXT.AfterToClearNoseTimes="星探今天已下班，{0}后即可在派他出去。\n也可消耗星探卡即刻派出";TEXT.ScountActor="探查";TEXT.ActorMax="艺人招募数量最大";TEXT.HideActorMax="雪藏艺人数量达到最大,请升级公司等级或艺人教室等级";TEXT.DisHideAllActor="无法雪藏全部艺人";TEXT.DisHideActorInUse="无法雪藏正在使用的艺人";TEXT.SureHideActor="是否确认雪藏{0}";TEXT.ActorWillLeave="这些艺人将于{0}后离开";TEXT.ActorWillLeave1="艺人剩余离开时间：";TEXT.SureResetActors="是否重新探查艺人？";TEXT.CostToResetActors="探查次数已用完是否花费星探卡";TEXT.ResetNose="重新探查";TEXT.TalentText="星探";TEXT.HiddenText="雪藏";TEXT.TalentTimes="探查次数";TEXT.UnlockSkill="艺人等级达到{0}级";TEXT.AlertNoseActor="是否花费{0}{1}招募";TEXT.SrcActorName="原艺名：{0}";TEXT.Lv="{0}级";TEXT.CurNextLv="等级：{0}/[color=#488fc1]{1}[/color]";TEXT.UpgradeNeedGold="升级所需金币：{0}";TEXT.Upgrade="升级";TEXT.RemainTimes="剩余次数";TEXT.CanScountActor="可招募：";TEXT.CanHideActorNums="可雪藏{0}/{1}";TEXT.ActorTrain="培养";TEXT.ActorTabBase="基础";TEXT.ActorTabSkill="技能";TEXT.ActorTabAsset="资产";TEXT.ActorTabExport="擅长";TEXT.ActorTabAgent="助理";TEXT.PopularValue="人气值";TEXT.RewardTitle="奖励";TEXT.HideActor="雪藏艺人";TEXT.HideActorDesc="被雪藏的艺人无法工作，您可以在这里重新启用艺人";TEXT.RenameForActor="给{0}起一个艺名吧？";TEXT.Rename="改名";TEXT.Sure="确定";TEXT.Num="{0}个";TEXT.RenameDefault="改名";TEXT.He="他";TEXT.She="她";TEXT.NewActorJoin="新的艺人加入公司";TEXT.NoseSuccess="招募成功";TEXT.SameActorJoin="已有同名艺人";TEXT.SureUseDefaultName="确认使用默认名字？";TEXT.RenameAnGoodName="给{0}取个好名字吧";TEXT.NameDisNull="名字不能为空";TEXT.Input4toNumChar="输入4到{0}个字符";TEXT.NoseActor="招募";TEXT.AliveAcotr="是否确认花费{0}{1}复活该艺人";TEXT.Hour="小时";TEXT.Minute="分";TEXT.Second="秒";TEXT.ActorRecoverToDealAsset="已转化为艺人合同和艺人资产";TEXT.NoForzen="[没有雪藏的艺人]";TEXT.ChooseSendAssetNum="选择要赠送的资产数量";TEXT.GetAssetToGetProp="每得到{0}个即可";TEXT.LoyaltyText="忠诚度";TEXT.NeedLoyalty="需要忠诚度{0}级";TEXT.LvUpMax="等级达到最大";TEXT.UpLvLimit="提高等级上限";TEXT.LvUpTo="{0} 等级上限 {1} → {2}";TEXT.Send="赠送";TEXT.ExpertStory="擅长的剧本";TEXT.ExpertCharacter="擅长的角色";TEXT.ExpertType="擅长的类型";TEXT.SendAssetMax="赠送数量达到上限";TEXT.LvMax="等级已满";TEXT.SkillLvMaxTip="技能等级已满，无法继续升级";TEXT.ExpCosts="经验消耗";TEXT.SkillExpNotEnough="技能经验不足";TEXT.GetRandomTrainAttr="随机获取两种属性提升";TEXT.CompanyTodayTrain="公司今日培养次数：";TEXT.ActorCanUseTrain="艺人可用培训次数:";TEXT.ActorAutoVisit="自动接待";TEXT.ActorBreakToLv="该艺人等级限制突破到{0}";TEXT.CompanyTodayTrainMax="公司今日培养次数达到上限";TEXT.ActorTrainMax="艺人培养次数达到上限";TEXT.TrainCompleteRightNow="立即完成培养";TEXT.HaveAgentCanComplete="拥有终身秘书可立即完成";TEXT.HaveAgentCanAutoRead="拥有终身秘书可自动批阅";TEXT.AutoRead="自动批阅";TEXT.HaveAgentCanAutoPublicize="拥有终身秘书可自动宣传";TEXT.TrainOpen="艺人培养需先占领{0}";TEXT.SkillOpen="艺人技能需要公司等级{0}";TEXT.AssetOpen="艺人资产需要公司等级{0}";TEXT.CompanySignAcotr="{0}签约了新艺人";TEXT.ActorUpgradeAssetCount="艺人资产上限增加{0}";TEXT.Use="使用";TEXT.AssetSendMax="赠送数量已达上限";TEXT.AssetSendMaxToExpend="该艺人无法收下更多礼物了，可以通过提升艺人等级或使用忠诚卡增加上限?";TEXT.AssetExpend="增加赠送上限";TEXT.AssetChooseCardNum="选择需要使用忠诚卡的数量";TEXT.AssetArtistUpgrade="艺人升级";TEXT.AssetUseCard="使用忠诚卡";TEXT.ActorSkillExp="技能经验:{0}";TEXT.age="年龄";TEXT.sex="性别";TEXT.country="国籍";TEXT.type="类型";TEXT.OldName="原艺名：";TEXT.Level="等级:";TEXT.RenameTip="老板，要给我重新起个艺名吗?";TEXT.DiamondTrain="钻石培养";TEXT.DiamondMustBeMax="(钻石培养必然获得最大值)";TEXT.PropertyTipMsg="在仓库可分解高星资产，或者用低星资产合成。";TEXT.ClickAnyWhereToClose="点击任意位置关闭界面";TEXT.Year="年";TEXT.Month="月";TEXT.Day="日";TEXT.MaxLevel="满级";TEXT.SecondBuyArtistMsg="您已经拥有此艺人了，是花费{0}{1}再次招募？(会转换得到该艺人的合同和资产)";TEXT.RelieveArtist="启用";TEXT.FilmProficiencyTitle="艺人熟练度展示";TEXT.FilmSelectActorTitle="艺人选择";TEXT.FilmCostViewTitle="薪酬统计";TEXT.PleaseSelectActor="Click assign artist.";TEXT.ActorForFilmTitle="艺人对剧本和角色的发挥";TEXT.FilmTypeSelectTitle="请选择本次拍摄的类型";TEXT.CurMarketTip="当前市场情况";TEXT.FilmNoticeTitle="通告选择";TEXT.FilmSQViewTitle="杀青属性对比";TEXT.CinemaSelectionTitle="院线选择";TEXT.FeedBackTitle="媒体评分";TEXT.AudienceReputationTitle="观众口碑";TEXT.SysTipTitle="系统提示";TEXT.AllTempTip="不能全部使用临时演员";TEXT.NoStoryList="未发现任何剧本，请稍候再试";TEXT.ChangeStoryName="修改剧本名称";TEXT.StoryNameLimit="剧本名称{0}个字符";TEXT.SelectTypeNone="请选择类型";TEXT.NoticeScore="{0}分";TEXT.CostFree="free";TEXT.SYNTH="SYNTH";TEXT.Play="Play:";TEXT.NoAttAdd="不加属性";TEXT.NameLV="{0}\nLV.{1}";TEXT.FilmActor="饰：{0}";TEXT.FilmProficiency="熟练度{0}级： + {1}";TEXT.FilmAverage="同档电影平均 {0}";TEXT.sexMan="男";TEXT.sexWomen="女";TEXT.sexChild="儿童";TEXT.TotalFilm="总票房：{0}";TEXT.filmOverMarketTip1="当前市场喜好导致 {0}% 票房提升，有超过 {1}% 的观众非常喜欢这个故事！";TEXT.filmOverMarketTip2="有 {0}% 还认为 {1} 电影非常适合此故事！";TEXT.filmOverMarketTip3="There're more";TEXT.filmOverMarketTip4="Now.";TEXT.filmJiesuanWin="盈利：\n+ {0}%";TEXT.filmJiesuanFail="亏损：\n- {0}%";TEXT.filmJiesuanRewardTip="通过拍摄这部电影，我们获得以下奖励：";TEXT.filmOverTip="收益已结束";TEXT.guanzhuduValue="关注度：{0}";TEXT.guanzhuduOpenTip="关注度{0}级解锁";TEXT.continueTip="可能获得以下物品：";TEXT.TimeLeftTip="剩余时间：";TEXT.EndingTitle="正在运营的电影已满";TEXT.EndingTip="最多只能有5部持续收益的电影";TEXT.promotionBtn="提升";TEXT.gainEvaluationOver="最终收益：{0}";TEXT.gainEvaluation="收益评价：{0}/分钟";TEXT.GZMax="已经提升到最大等级";TEXT.CinemaSignTip="请先签约院线！";TEXT.NineToFiftyTip="为保证比赛公平，21点55分开始将无法拍摄电影！请各位导演周知，以免造成不必要的损失！";TEXT.NineToFiftyFiveTip="很抱歉，为保证比赛公平，21点55分后将无法进行电影拍摄";TEXT.GoldFilmActorTalk=["金本爆发时的人物喊话1金本爆发时的人物喊话1金本爆发时的人物喊话1","金本爆发时的人物喊话2金本爆发时的人物喊话2金本爆发时的人物喊话2","金本爆发时的人物喊话3金本爆发时的人物喊话3金本爆发时的人物喊话3"];TEXT.FilmLongTime="{0}分钟";TEXT.FilmKouBei="观众口碑：{0}";TEXT.ActivityTitle="活动大厅";TEXT.WelfTitle="福利大厅";TEXT.NoGetReward="未登录";TEXT.GetReward="领取";TEXT.Secretary_GetWelfare="领取福利";TEXT.Secretary_DailyGiftTitle="每日礼包";TEXT.Secretary_NeedBuySecretary="你需要购买小秘书";TEXT.Secretary_GetRewardDailySecretary="礼包每日购买一次";TEXT.Secretary_AlreadyPurchased="已购买";TEXT.Buy="购买";TEXT.SureBuy="确认购买";TEXT.Buyed="已购买";TEXT.CooperateTaskType10="拍摄一部电影";TEXT.CooperateTaskType11="\n类型：{0}";TEXT.CooperateTaskType12="\n媒体评分：{0}分";TEXT.CooperateTaskType13="\n口碑：{0}分";TEXT.CooperateTaskType14="\n剧本：{0}星";TEXT.CooperateTaskType15="\n收益：{0}";TEXT.CooperateTaskType20="完成{0}次会议、公务或粉丝探班";TEXT.CooperateTaskType30="完成{0}次订单";TEXT.CooperateTaskType40="领取{0}个{1}";TEXT.CooperateTaskType50="领取{0}个任意周边产品";TEXT.CooperateTaskType60="领取{0}次城市收益";TEXT.CooperateTaskType70="完成{0}次艺人培养";TEXT.CooperateTaskType80="消费{0}钻石";TEXT.CooperateTaskType90="完成{0}次星探搜索";TEXT.CooperateTaskType100="完成{0}次剧本搜罗";TEXT.CooperateTaskProgress="\n（{0}/{1}）";TEXT.CooperateReceiveBtn="接受";TEXT.CooperateassistBtn="协助";TEXT.CooperategetBtn="领取";TEXT.CooperateassitingText="协助中";TEXT.CooperateHaveTaskText="你已经接受任务了，请完成后再次领取任务";TEXT.CooperationApplyTitle="合作请求";TEXT.CooperationremindTip="每周最多能与3家不同公司合作";TEXT.CooperationrefuseBtn="拒绝";TEXT.CooperationreceiveBtn="同意";TEXT.CooperationApplyTip="希望与你签署合作协议，是否同意?";TEXT.CooperationEndTitle="解除合作";TEXT.CooperationEndTip1="是否解除合作关系？";TEXT.CooperationEndTip2="注意：每周只能和三家不同的公司进行合作。";TEXT.CooperationMainPanelTitle="公司合作";TEXT.Cooperationtext1="首次建立合作关系可得：";TEXT.Cooperationtext2="与熟人之间建立合作：";TEXT.Cooperationtext3="公开寻找合作公司：";TEXT.Cooperationremind="首次账号查找建立合作提示";TEXT.Cooperationintro="填写对方ID";TEXT.CooperationinviteBtn1="发出邀请";TEXT.CooperationinviteBtn2="公开邀请";TEXT.CooperationdisinviteBtn="取消邀请";TEXT.CooperationMainPanelTip1="请输入对方用户id";TEXT.CooperationMainPanelTip2="请稍候再次输入";TEXT.CooperationMainPanelID="本地玩家ID： {0}";TEXT.CooperationRealtionshipTitle="合作任务";TEXT.CooperationRealtionshipTip="星级越高奖励越好！";TEXT.CooperationRealtionshiprelieveBtn="解除";TEXT.CooperationGiveRewardDollar="赠送美元";TEXT.CooperationGiveRewardGold="赠送金币";TEXT.Floor="第{0}层";TEXT.BuildFloor="扩建第{0}层";TEXT.BuildUpgrade="升级至{0}级";TEXT.BuildUpgrade_UBB="[color=#66ff66]升级至{0}级[/color]";TEXT.CompanyLevel="LV.{0}解锁";TEXT.BuildEffect="建筑作用：";TEXT.BuildLevelEffect="升级效果：";TEXT.BuildLevelup="升级";TEXT.BuildConfirm="确认";TEXT.BuildLevel="等级{0}";TEXT.BuildFloorAlert="确认要扩建{0}层吗？";TEXT.BuildTitle="建造";TEXT.ActorExperciseExpedite="加速";TEXT.BuildFloorFailLevel="需要公司等级达到：{0}";TEXT.BuildFloorFailCity="需要占领城市：{0}. {1}";TEXT.BuildActorRoomTalentNpc="星探";TEXT.BuildActorRoomTrainerNpc="培训师";TEXT.LincenceMax="拍摄许可证达到上限";TEXT.ArtistDicUITitle="艺人名录";TEXT.ArtistDicUInotHired="未获得此艺人";TEXT.ArtistDicUIStar="星级";TEXT.ArtistDicUICountry="国籍";TEXT.ArtistDicUISex="性别";TEXT.ArtistDicUIAge="年龄类型";TEXT.ArtistDicUIShow="表演类型";TEXT.ArtistDicUIDefName="原艺名：";TEXT.ArtistDicUIHowHave="如何签约该艺人？";TEXT.ArtistDicUIPinglun="请输入留言内容";TEXT.ArtistDicUINoActor="没有符合筛选条件的艺人";TEXT.ArtistDicUINoPinglun="暂时没有玩家留言";TEXT.ArtistDicUIPinglunTitle="留言薄：";TEXT.PlayerUpgradeGetAward="Recieve";TEXT.PlayerSelfSignature="Edit Self-Introduction";TEXT.PlayerSignature="This person didn't leave a messege, just like a closed book~";TEXT.ItemHave="拥有：";TEXT.PlayerInfoTab0="HOME";TEXT.PlayerInfoTab1="CAREER";TEXT.PlayerInfoTab2="TROPHY";TEXT.PlayerInfoTab3="FILMS";TEXT.PlayerInfoTab4="ACTORS";TEXT.PlayerInfoTabHome_Rank0="建筑层数";TEXT.PlayerInfoTabHome_Rank1="艺人数量";TEXT.PlayerInfoTabHome_Rank2="好友数量";TEXT.PlayerInfoTabHome_Rank3="市场占领";TEXT.PlayerInfoTabHome_Rank4="宝物数量";TEXT.PlayerInfoTabHome_Rank5="仓库容量";TEXT.PlayerInfoTabCareer_Rank0="拍摄过的电影数";TEXT.PlayerInfoTabCareer_Rank1="上映电影总数";TEXT.PlayerInfoTabCareer_Rank2="得到的票房总数";TEXT.PlayerInfoTabCareer_Rank3="完成的订单数量";TEXT.PlayerInfoTabCareer_Rank4="解锁过的最高档生产线";TEXT.PlayerInfoTabCareer_Rank5="完成公务次数";TEXT.PlayerInfoTabCareer_Rank6="会议达成协议次数";TEXT.PlayerInfoTabCareer_Rank7="粉丝成功拜访次数";TEXT.PlayerInfoTabCareer_Rank8="得到过多少次分组第一";TEXT.PlayerInfoTabTrophy_Rank00="最佳男演员得奖次数";TEXT.PlayerInfoTabTrophy_Rank11="最佳女演员得奖次数";TEXT.PlayerInfoTabTrophy_Rank22="最佳表演电影得奖次数";TEXT.PlayerInfoTabTrophy_Rank3="最佳艺术电影得奖次数";TEXT.PlayerInfoTabTrophy_Rank4="最受欢迎电影得奖次数";TEXT.PlayerInfoTabTrophy_Rank5="铁齿轮奖得奖次数";TEXT.PlayerInfoTabTrophy_Rank6="金羊驼奖得奖次数";TEXT.PlayerInfoTabTrophy_Rank7="火星人奖得奖次数";TEXT.PlayerInfoTabTrophy_Rank8="金月球奖得奖次数";TEXT.PlayerInfoTabFilm_Rank0="大众口碑最高的电影";TEXT.PlayerInfoTabFilm_Rank1="票房最高的电影";TEXT.PlayerInfoTabFilm_Rank2="拍摄过的恐怖片数量";TEXT.PlayerInfoTabFilm_Rank3="拍摄过的悬疑片数量";TEXT.PlayerInfoTabFilm_Rank4="拍摄过的歌舞片数量";TEXT.PlayerInfoTabFilm_Rank5="拍摄过的喜剧片数量";TEXT.PlayerInfoTabFilm_Rank6="拍摄过的动画片数量";TEXT.PlayerInfoTabFilm_Rank7="拍摄过的叙事片数量";TEXT.PlayerInfoTabFilm_Rank8="拍摄过的爱情片数量";TEXT.PlayerInfoTabFilm_Rank9="拍摄过的动作片数量";TEXT.PlayerInfoTabActor_Rank0="票房号召力最强的艺人";TEXT.PlayerInfoTabActor_Rank1="得奖最多的艺人";TEXT.PlayerInfoTabActor_Rank1Value="{0}次";TEXT.PlayerInfoTabActor_Rank2="拍摄电影最多的艺人";TEXT.PlayerInfoTabActor_Rank2Value="{0}部";TEXT.PlayerInfoTabActor_Rank3="最偏爱的艺人";TEXT.PlayerInfoTabActor_Rank3Value="赠送{0}个";TEXT.PlayerInfoTabActor_Rank4="最重视的艺人";TEXT.PlayerInfoTabActor_Rank4Value="培养{0}次";TEXT.PlayerInfoTabActor_Rank5="最信赖的艺人";TEXT.PlayerInfoTabActor_Rank5Value="技能共{0}级";TEXT.StoryFindTime="搜罗次数:";TEXT.StoryTitle="剧本";TEXT.StoryCollect="集齐剧本";TEXT.StoryFind="收罗剧本";TEXT.StoryCompleteAllChallenge="完成所有挑战";TEXT.StoryAchieve="剧本成就";TEXT.ZuiGaoPiaoFang="最高票房";TEXT.StoryDesc1="用本组剧本拍摄电影时{0}";TEXT.StoryDesc2="{0}属性增加{1}%";TEXT.StoryAchieveTarget1="剧本拍摄{0}/5次";TEXT.StoryAchieveTarget2="媒体评分8分或以上{0}/3次";TEXT.StoryAchieveTarget3="票房档次大卖或以上{0}/5次";TEXT.StorySou="搜罗";TEXT.StoryRewardTitle="奖励";TEXT.StoryRemainNotEnough="剩余次数不足";TEXT.StoryContentEmpty="内容不能是空的";TEXT.StoryContentToMax="内容长度不得超过50";TEXT.StoryContentSpace="内容开头结尾不能有空格";TEXT.StoryContentBlockWord="内容中有屏蔽字符";TEXT.SendMsg="发送";TEXT.StoryInputPromptText="发表我的影评";TEXT.StoryAchievementDesc="成就达成后拍摄时艺人可能会状态爆发";TEXT.StoryAchievementTitle="成就目标";TEXT.StoryGetReward="领取奖励";TEXT.ProduceTime="每次生产时间：{0}";TEXT.ProduceGrade="第{0}档";TEXT.ProduceLevel="等级{0}";TEXT.ProduceSkillType1="队列数量";TEXT.ProduceSkillType2="存储上限";TEXT.ProduceSkillType3="时长减免";TEXT.ProduceSkillType4="每次产出";TEXT.ProduceActorTitle="请选择艺人";TEXT.ProduceOffActorTitle="正在进行[{0}]的艺人";TEXT.ProduceQuickBtnName="一键生产";TEXT.ProduceQuickAwardBtnName="一键领取";TEXT.ProduceStart="开始生产";TEXT.ProduceItemStore="库存";TEXT.ProduceUnlock="解锁";TEXT.ProduceActorBusy="忙碌";TEXT.ProduceActorFree="空闲";TEXT.ProduceOffActor="取消派遣";TEXT.OrderNeedTitle="满足粉丝会的需求会让他们更加沉迷";TEXT.OrderNeed="订单需求";TEXT.OrderCompleteReward="完成报酬";TEXT.OrderExtraReward="额外效果";TEXT.OrderNoneOrder="暂无更多订单";TEXT.OrderNewOrderWay="拍电影、市场宣传，都可能获得新订单";TEXT.OrderSortOrder="排队订单：{0}";TEXT.OrderCooperationComfirmTitle="资助";TEXT.OrderTheBoxHasPut="该箱子已装箱完毕";TEXT.OrderSureDeleteOrder="我们要拒绝这个订单吗？需要过一段时间才能收到新的订单哦~~（已装箱资源会被扣除）";TEXT.OrderRefuseOrder="拒绝订单";TEXT.OrderComplete="完成";TEXT.OrderNeedCompleteBox="需要先完成装箱";TEXT.OrderRewardTitle="获得奖励";TEXT.OrderArealyGotReward="已经领取过奖励";TEXT.OrderNeedCompleteBoxNum="需要完成订单{0}个";TEXT.OrderCooperation="合作者";TEXT.VisitNextFansNum="待接见粉丝数量：{0}/{1}";TEXT.VisitStartBtnOk="嗯，去找";TEXT.VisitAutoReceive="自动接待";TEXT.VisitFansTomeetActor="老板，有粉丝想见我司艺人。";TEXT.VisitNextVisitActor="接待室还有{0}名粉丝，是否现在接待";TEXT.VisitNextFans="下一个粉丝";TEXT.VisitHaveOtherFansWaiting="当前已经有粉丝正在等待";TEXT.VisitDonotHaveFans="当前没有粉丝";TEXT.VisitFansWantMeet="粉丝想见";TEXT.BusinessRemainRead="待批阅：{0}/{1}";TEXT.BusinessSendName="发件人：{0}";TEXT.BusinessNextPage="下一页";TEXT.BusinessReadNewMsg="读取新任务";TEXT.BusinessDonotHaveBusiness="没有公务";TEXT.BusinessGet="获得";TEXT.MeetingNextNum="待接见会议数量{0}/{1}";TEXT.MeetingInMeeting="在会议中";TEXT.MeetingVisitCompany="老板{0}的谈判代表已等候多时了。";TEXT.MeetingStartOkBtnText="嗯，开会";TEXT.MeetingStartCancelBtnText="拒绝";TEXT.MeetingMantianYaojia="漫天要价";TEXT.MeetingTaojiahuanjia="讨价还价";TEXT.MeetingChengjiao="成交";TEXT.MeetingChengjiaoSure="成交确认";TEXT.MeetingHuijue="回绝";TEXT.MeetingBye="再见";TEXT.MeetingGameStop="停";TEXT.MeetingRewardTitle="奖励";TEXT.MeetingNext="{0}的会议代表已在门外等候多时，是否马上接见？";TEXT.MeetingNextMeet="下一个会议";TEXT.MeetingNeedAddPiece="不太满意需要加价";TEXT.TaskArrangement="今天的日程安排";TEXT.TaskState="完成度: [color=#488fc1]{0}[/color]";TEXT.ActorExperciser="训练师";TEXT.ActorExperciserStart="点击加号选择艺人进行训练";TEXT.ActorExperciserOn="完成训练剩余时间";TEXT.ActorExperciseMaxLine="训练队列已达到上限";TEXT.ActorExperciseUnlock="开始新的训练需要";TEXT.ActorExperciseQuick="加速训练需要";TEXT.ActorExperciceCompleteDesc="点击完成训练";TEXT.ActorExperciceKey="艺人经验";TEXT.MissionPanelTipMsg="日程任务提示信息";TEXT.NoticeTitle="提示";TEXT.NoticeServerClose="服务器开始维护， 请退出游戏";TEXT.RankText="第{0}名";TEXT.MarketOccupe="已占领城市{0}/{1}";TEXT.MarketChangeHomeContent="只能在经营总部所在城市派驻形象大使，是否更换总部";TEXT.MarketChangeHomeTitle="更换总部所在城市";TEXT.MarketAddFansTip="得益于公司的市场推广";TEXT.MainTaskAddFansTip="得益于主线任务奖励";TEXT.MarketAddFansInfo="{0}粉丝数 +{1}";TEXT.MarketLvUpNeedFans="公司还需要{0}个粉丝即可升级";TEXT.MarketShare="市场占有率";TEXT.MarketReward="获得奖励";TEXT.MarketActorPromot="提升{0}";TEXT.MarketNoSecretary="您还没有购买终身秘书，是否立即购买";TEXT.MarketPublicityInfo="根据调查，当地观众比较青睐{0}若能找到相关艺人来进行市场代言，将会事半功倍！";TEXT.MarketSelectActor="请选择代言人在 {0} 宣传";TEXT.MarketSelectActorForCity="请选择 {0} 的形象大使";TEXT.MarketMaxAsset="最多存储{0}小时收益";TEXT.StreetCinemaInfo="{0}家电影院（{1}）";TEXT.StreetTitle="{1}的第{0}组";TEXT.OscarTitle="{1},{0}";TEXT.StreetCongratulateSelf="不能祝贺自己";TEXT.BagSelectNum="选择数量";TEXT.BagNeedMoreItem="物品不足，还需要{0}个才能合成";TEXT.BagSelectCompoundNum="选择要合成的数量";TEXT.BagCompound="物品合成";TEXT.BagSelectGive="选择赠送对象";TEXT.BagSelectGiveNum="选择要赠送的数量";TEXT.BagGive="物品赠送";TEXT.BagSelectResolveNum="选择要拆分的数量";TEXT.BagResolve="物品拆分";TEXT.BagSelectSaleNum="选择要出售的数量";TEXT.BagSale="物品出售";TEXT.BagSelectUseNum="选择要使用的数量";TEXT.BagUse="物品使用";TEXT.BagSelectActor="请选择一名演员";TEXT.ShopGive="送";TEXT.ShopDayLimit="今日限购";TEXT.ShopWeekLimit="每周限购";TEXT.RechargeTitle="充值";TEXT.RechargeTipsMsg="充值界面提示信息 提示信息 提示信息";TEXT.ShopAvailable="有效期{0}天";TEXT.OscarName="奥斯卡";TEXT.OscarRewardNameDesc_6="今日最佳：";TEXT.OscarRewardNameDesc_9="今日票房达到大卖：";TEXT.OscarRewardValueDesc_7="总票房第{0}名[color=#e3b121]（{1}）[/color]";TEXT.OscarRewardValueDesc_8="今日拍摄电影达到{0}部";TEXT.OscarRewardValueDesc_9="{0}部";TEXT.OscarRewardInfoDesc_6="票房第{0}名（{1}）";TEXT.OscarRewardInfoDesc_7="超过{0}%的{1}玩家（共{2}人）";TEXT.OscarRewardNoMovie="未拍摄电影";TEXT.OscarDanmuLong="弹幕规定长度为【4-100】";TEXT.OscarDanmuSpace="弹幕开头和结尾不能有空格";TEXT.OscarDanmuBlockword="弹幕中有非法字符";TEXT.OscarMovie="我的《{0}》拍摄完成";TEXT.SystemGoOtherFunction_Title="提示";TEXT.SystemGoOtherFunction_Desc_1="技能经验不足，可以安排艺人前往训练室训练已获得技能经验";TEXT.SystemGoOtherFunction_Desc_2="星探次数还在恢复或者今日次数已用完，可以使用星探卡立刻进行一次星探（使用后当前为招募的艺人会离开）";TEXT.SystemGoOtherFunction_Go_1="前往训练";TEXT.SystemGoOtherFunction_Go_2="星探卡";TEXT.SecretaryRemainAutoReadNum="自动批阅次数{0}";TEXT.SecretaryRemainAutoVisitNum="自动接待次数{0}";TEXT.SecretaryRemainAutoPublicizeNum="自动宣传次数{0}";TEXT.SecretaryForeverAgent="终身秘书";TEXT.SystemDisAllowHaveNumber="不能含有数字";TEXT.SystemDisAllowHaveStartLastNumber="开头结尾不能含有数字";TEXT.StateText="完成度:";TEXT.SexTip="请选择你喜欢的艺人";TEXT.LanguageSettings="语言";TEXT.FeedBackSettings="反馈";TEXT.SwitchAccount="切换账号";TEXT.SwitchLanguage="切换语言";TEXT.SureaSwitchAccount="是否确认切换账号？";TEXT.MailTitle="邮件";TEXT.DeleteRead="删除已读";TEXT.ToReader="致玩家：";TEXT.ReawrdMsg="奖励内容：";TEXT.TaskGetReward="点击领取奖励";return TEXT}());Games.TEXT=TEXT})(Games||(Games={}));var SettingKey=(function(){function SettingKey(){}SettingKey.music_switch="music_switch";SettingKey.soundeffect_switch="soundeffect_switch";SettingKey.energy_switch="energy_switch";SettingKey.push_switch="push_switch";SettingKey.title_switch="title_switch";SettingKey.language_setting="language_setting";SettingKey.advice_feedback="advice_feedback";SettingKey.gift_exchange="gift_exchange";return SettingKey}());var Res=(function(){function Res(){}Res.getSpineSKPath=function(path){return Res.root+"spine/"+path+".sk"};Res.getSpinePngPath=function(path){return Res.root+"spine/"+path+".png"};Res.getSpineSoltPartPath=function(path){return Res.root+"spine/SlotTexture/"+path+".png"};Res.getSpritePath=function(path){return Res.root+"fspriteassets/"+path+".png"};Res.getRoom=function(id){return Res.getSpritePath("Building/"+id)};Res.getCinemaCanvasSK=function(){return Res.getSpineSKPath("Scene/Scene_SheYingpeng/Scene_SheYingpeng")};Res.getCinemaCanvasSkin=function(){return Res.getSpinePngPath("Scene/Scene_SheYingpeng/Scene_SheYingpeng")};Res.getAudienceSK=function(){return Res.getSpineSKPath("Scene/Audience01/Audience01")};Res.getAudienceSkin=function(){var skinIndex=Random.rangeBoth(1,4);return Res.getSpinePngPath("Scene/Audience01/Audience0"+skinIndex)};Object.defineProperty(Res,"cinemaHallActorSK",{get:function(){return Res.getSpineSKPath("Scene/Cinema_Hall/Cinema_Hall1")},enumerable:true,configurable:true});Object.defineProperty(Res,"cinemaHallActorSkin",{get:function(){return Res.getSpinePngPath("Scene/Cinema_Hall/Cinema_Hall1")},enumerable:true,configurable:true});Object.defineProperty(Res,"cinemaHallDoorSK",{get:function(){return Res.getSpineSKPath("Scene/Cinema_Hall/Cinema_Hall2")},enumerable:true,configurable:true});Object.defineProperty(Res,"cinemaHallDoorSkin",{get:function(){return Res.getSpinePngPath("Scene/Cinema_Hall/Cinema_Hall2")},enumerable:true,configurable:true});Res.getFx=function(path){return Res.rootFx+path+".part"};Res.rootFx="fx/";Res.root="res/";return Res}());var MsgKey=(function(){function MsgKey(){}MsgKey.Msg_test="Msg_test";MsgKey.account_name_long="account_name_long";MsgKey.account_name_num="account_name_num";MsgKey.account_name_space="account_name_space";MsgKey.account_name_repeat="account_name_repeat";MsgKey.account_name_blockword="account_name_blockword";MsgKey.account_name_repeatothers="account_name_repeatothers";MsgKey.account_name_ok="account_name_ok";MsgKey.account_name_often="account_name_often";MsgKey.produce_one_click="produce_one_click";MsgKey.produce_warehouse_max="produce_warehouse_max";MsgKey.produce_recvip_less="produce_recvip_less";MsgKey.produce_item_less="produce_item_less";MsgKey.produce_paper_less="produce_paper_less";MsgKey.produce_item_max="produce_item_max";MsgKey.produce_line_max="produce_line_max";MsgKey.produce_pre_unlock="produce_pre_unlock";MsgKey.produce_diamond_less="produce_diamond_less";MsgKey.produce_gold_less="produce_gold_less";MsgKey.produce_provip_less="produce_provip_less";MsgKey.produce_lines_max="produce_lines_max";MsgKey.non_midia_visit="non_midia_visit";MsgKey.movie_non_suitable_actor="movie_non_suitable_actor";MsgKey.movie_non_enough_actor="movie_non_enough_actor";MsgKey.movie_actor_recruit="movie_actor_recruit";MsgKey.ranking_list_reset="ranking_list_reset";MsgKey.movie_stop_tips="movie_stop_tips";MsgKey.ranking_list_tips1="ranking_list_tips1";MsgKey.ranking_list_tips2="ranking_list_tips2";MsgKey.movie_ranking_list_hidden="movie_ranking_list_hidden";MsgKey.block_upgrade_requirement="block_upgrade_requirement";MsgKey.trophy_tips="trophy_tips";MsgKey.trophy_tips2="trophy_tips2";MsgKey.finished_block="finished_block";MsgKey.cinema_sign="cinema_sign";MsgKey.ranking_list_instruction1="ranking_list_instruction1";MsgKey.ranking_list_instruction2="ranking_list_instruction2";MsgKey.ranking_list_instruction3="ranking_list_instruction3";MsgKey.change_server_name="change_server_name";MsgKey.choose_cinema="choose_cinema";MsgKey.movie_get_tips="movie_get_tips";MsgKey.movie_story_coordination="movie_story_coordination";MsgKey.movie_character_coordination="movie_character_coordination";MsgKey.movie_story_character_coordination="movie_story_character_coordination";MsgKey.movie_none_coordination="movie_none_coordination";MsgKey.movie_drop_tips="movie_drop_tips";MsgKey.movie_too_much="movie_too_much";MsgKey.movie_critical1="movie_critical1";MsgKey.movie_critical2="movie_critical2";MsgKey.movie_critical3="movie_critical3";MsgKey.movie_critical4="movie_critical4";MsgKey.movie_target_fail="movie_target_fail";MsgKey.movie_big_sell_tips="movie_big_sell_tips";MsgKey.earnings_over="earnings_over";MsgKey.oscar_non_rank_tips="oscar_non_rank_tips";MsgKey.oscar_non_rank_tips2="oscar_non_rank_tips2";MsgKey.oscar_non_movie_tips="oscar_non_movie_tips";MsgKey.oscar_non_bigsell_tips="oscar_non_bigsell_tips";MsgKey.oscar_non_target_tips="oscar_non_target_tips";MsgKey.block_upgrade_msg="block_upgrade_msg";MsgKey.movie_big_sell1="movie_big_sell1";MsgKey.movie_big_sell2="movie_big_sell2";MsgKey.movie_big_sell3="movie_big_sell3";MsgKey.oscar_non_actor="oscar_non_actor";MsgKey.oscar_non_actress="oscar_non_actress";MsgKey.oscar_non_performance="oscar_non_performance";MsgKey.oscar_non_art="oscar_non_art";MsgKey.oscar_non_popular="oscar_non_popular";MsgKey.oscar_actor="oscar_actor";MsgKey.oscar_actress="oscar_actress";MsgKey.oscar_performance="oscar_performance";MsgKey.oscar_art="oscar_art";MsgKey.oscar_popular="oscar_popular";MsgKey.oscar_forbid_movie="oscar_forbid_movie";MsgKey.non_deletable_mail="non_deletable_mail";MsgKey.non_can_receive_mail="non_can_receive_mail";MsgKey.non_mail="non_mail";MsgKey.story_target_tips="story_target_tips";MsgKey.story_non_target_tips="story_non_target_tips";MsgKey.story_midia_tips="story_midia_tips";MsgKey.null_id="null_id";MsgKey.cooperated_player="cooperated_player";MsgKey.no_cooperation_num="no_cooperation_num";MsgKey.no_cooperation_orders="no_cooperation_orders";MsgKey.relieve_cooperation="relieve_cooperation";MsgKey.repetition_cooperation="repetition_cooperation";MsgKey.null_actor_send="null_actor_send";MsgKey.build_confirm="build_confirm";MsgKey.build_non_material="build_non_material";MsgKey.build_non_level="build_non_level";MsgKey.build_non_prebuilding="build_non_prebuilding";MsgKey.build_non_block="build_non_block";MsgKey.build_be_builded="build_be_builded";MsgKey.movie_market_bad1="movie_market_bad1";MsgKey.movie_market_bad2="movie_market_bad2";MsgKey.movie_market_good1="movie_market_good1";MsgKey.movie_market_good2="movie_market_good2";MsgKey.movie_actor_pay="movie_actor_pay";MsgKey.movie_mediavisit_tips="movie_mediavisit_tips";MsgKey.movie_type_addition="movie_type_addition";MsgKey.movie_cinema_tips="movie_cinema_tips";MsgKey.movie_unlock_cinema_tips="movie_unlock_cinema_tips";MsgKey.movie_market_feedback="movie_market_feedback";MsgKey.movie_story_feedback="movie_story_feedback";MsgKey.movie_shoottype_feedback="movie_shoottype_feedback";MsgKey.movie_licence_finish_tips="movie_licence_finish_tips";MsgKey.movie_type_tips="movie_type_tips";MsgKey.movie_state_tips1="movie_state_tips1";MsgKey.movie_state_tips2="movie_state_tips2";MsgKey.movie_state_tips3="movie_state_tips3";MsgKey.bag_own_actor_tips="bag_own_actor_tips";MsgKey.bag_no_compound_tips="bag_no_compound_tips";MsgKey.bag_no_compound_choose_tips="bag_no_compound_choose_tips";MsgKey.bag_no_send_choose_tips="bag_no_send_choose_tips";MsgKey.bag_no_split_choose_tips="bag_no_split_choose_tips";MsgKey.bag_no_sell_choose_tips="bag_no_sell_choose_tips";MsgKey.oscar_presentation_title="oscar_presentation_title";MsgKey.oscar_default_presentation1="oscar_default_presentation1";MsgKey.oscar_default_presentation2="oscar_default_presentation2";MsgKey.oscar_default_presentation3="oscar_default_presentation3";MsgKey.movie_day="movie_day";MsgKey.movie_remaining_days="movie_remaining_days";MsgKey.movie_story_times="movie_story_times";MsgKey.movie_character_coordination_tips="movie_character_coordination_tips";MsgKey.movie_story_coordination_tips="movie_story_coordination_tips";MsgKey.bag_send_no_target="bag_send_no_target";MsgKey.movie_off_line_remaining_time="movie_off_line_remaining_time";MsgKey.movie_off_line_gain_tips="movie_off_line_gain_tips";MsgKey.movie_licence_limit_tips="movie_licence_limit_tips";MsgKey.movie_city_unlock_tips="movie_city_unlock_tips";MsgKey.movie_off_line_gain_evaluation="movie_off_line_gain_evaluation";MsgKey.movie_off_line_tips="movie_off_line_tips";MsgKey.movie_confirm="movie_confirm";MsgKey.train_title_level="train_title_level";MsgKey.train_title_tips="train_title_tips";MsgKey.train_remaining_times="train_remaining_times";MsgKey.train_area_tips="train_area_tips";MsgKey.train_exp="train_exp";MsgKey.train_actor_tips="train_actor_tips";MsgKey.cooperated_send="cooperated_send";MsgKey.movie_licence_get_tips="movie_licence_get_tips";MsgKey.order_fail="order_fail";MsgKey.order_complete="order_complete";MsgKey.order_received="order_received";MsgKey.order_npc_default="order_npc_default";MsgKey.business_countdown="business_countdown";MsgKey.business_secretary="business_secretary";MsgKey.business_down="business_down";MsgKey.visit_countdown="visit_countdown";MsgKey.visit_secretary="visit_secretary";MsgKey.visit_point="visit_point";MsgKey.market_envoy_wrong1="market_envoy_wrong1";MsgKey.market_envoy_wrong2="market_envoy_wrong2";MsgKey.market_envoy_wrong3="market_envoy_wrong3";MsgKey.market_envoy_wrong4="market_envoy_wrong4";MsgKey.market_envoy_wrong5="market_envoy_wrong5";MsgKey.market_dollar_less="market_dollar_less";MsgKey.market_show_failure="market_show_failure";MsgKey.story_comment_wrong="story_comment_wrong";MsgKey.thumbsup_less="thumbsup_less";MsgKey.story_search_less="story_search_less";MsgKey.block_level_less="block_level_less";MsgKey.story_cd_success="story_cd_success";MsgKey.meeting_time="meeting_time";MsgKey.secretary_bought="secretary_bought";MsgKey.secretary_buy_fail="secretary_buy_fail";MsgKey.sectrary_cannot_buy="sectrary_cannot_buy";MsgKey.daily_sign="daily_sign";MsgKey.setting_not_open="setting_not_open";MsgKey.gift_success="gift_success";MsgKey.gift_used="gift_used";MsgKey.gift_illegal="gift_illegal";MsgKey.shop_period="shop_period";MsgKey.produce_down="produce_down";MsgKey.produce_produce_limit="produce_produce_limit";MsgKey.player_id="player_id";MsgKey.version_num="version_num";MsgKey.choose_language="choose_language";MsgKey.CHS="CHS";MsgKey.CHT="CHT";MsgKey.EN="EN";MsgKey.choose_language_confirm="choose_language_confirm";MsgKey.feedback_title="feedback_title";MsgKey.feedback_words="feedback_words";MsgKey.Qgroup="Qgroup";MsgKey.Wechat="Wechat";MsgKey.Weibo="Weibo";MsgKey.mailbox="mailbox";MsgKey.exchange_title="exchange_title";MsgKey.exchange_input="exchange_input";MsgKey.exhange_button="exhange_button";MsgKey.setting_title="setting_title";MsgKey.setting_notice="setting_notice";MsgKey.meeting_wait="meeting_wait";MsgKey.meeting_goal1="meeting_goal1";MsgKey.meeting_goal2="meeting_goal2";MsgKey.meeting_goal3="meeting_goal3";MsgKey.meeting_goal4="meeting_goal4";MsgKey.meeting_fair="meeting_fair";MsgKey.meeting_win="meeting_win";MsgKey.meeting_lose1="meeting_lose1";MsgKey.meeting_lose2="meeting_lose2";MsgKey.story_stack_locked="story_stack_locked";MsgKey.produce_lock="produce_lock";MsgKey.meeting_goal="meeting_goal";MsgKey.meeting_battle="meeting_battle";MsgKey.meeting_boss_hello="meeting_boss_hello";MsgKey.meeting_client_hello1="meeting_client_hello1";MsgKey.meeting_client_hello2="meeting_client_hello2";MsgKey.meeting_bargain1_boss="meeting_bargain1_boss";MsgKey.meeting_bargain1_client="meeting_bargain1_client";MsgKey.meeting_bargain2_boss="meeting_bargain2_boss";MsgKey.meeting_bargain2_client="meeting_bargain2_client";MsgKey.meeting_bargain_not_fail_boss="meeting_bargain_not_fail_boss";MsgKey.meeting_bargain_not_fail_client="meeting_bargain_not_fail_client";MsgKey.meeting_bargain_fail_boss="meeting_bargain_fail_boss";MsgKey.meeting_bargain_fail_client="meeting_bargain_fail_client";MsgKey.day_count="day_count";MsgKey.daily_sign_title="daily_sign_title";MsgKey.secretary_title="secretary_title";MsgKey.permition_title="permition_title";MsgKey.month_card_title="month_card_title";MsgKey.meeting_midtime="meeting_midtime";MsgKey.day_duration="day_duration";MsgKey.time_out_sevendays="time_out_sevendays";MsgKey.month_card_type1="month_card_type1";MsgKey.month_card_type2="month_card_type2";MsgKey.month_card_firstbuy="month_card_firstbuy";MsgKey.month_card_buy="month_card_buy";MsgKey.month_card_daily_gift="month_card_daily_gift";MsgKey.month_card_contracts_info="month_card_contracts_info";MsgKey.icon_buy="icon_buy";MsgKey.days_left="days_left";MsgKey.month_card_special_package1_title="month_card_special_package1_title";MsgKey.month_card_special_package2_title="month_card_special_package2_title";MsgKey.month_card_not_owned1="month_card_not_owned1";MsgKey.month_card_not_owned2="month_card_not_owned2";MsgKey.box_target_progress1="box_target_progress1";MsgKey.box_target_progress2="box_target_progress2";MsgKey.box_target_progress3="box_target_progress3";MsgKey.box_target_progress4="box_target_progress4";MsgKey.box_target_progress5="box_target_progress5";MsgKey.license_limit="license_limit";MsgKey.license_apply_secretary_not_owned="license_apply_secretary_not_owned";MsgKey.cooperative_order_no="cooperative_order_no";MsgKey.cooperative_order_notice="cooperative_order_notice";MsgKey.cooperative_order_repeat="cooperative_order_repeat";MsgKey.secretary_experience="secretary_experience";MsgKey.go_to_hire="go_to_hire";MsgKey.secretary_not_owned="secretary_not_owned";MsgKey.produce_special="produce_special";MsgKey.visit_wrong1="visit_wrong1";MsgKey.visit_wrong2="visit_wrong2";MsgKey.visit_wrong3="visit_wrong3";MsgKey.produce_inspire_buildlock="produce_inspire_buildlock";MsgKey.produce_inspire_linelock="produce_inspire_linelock";MsgKey.visit_noone="visit_noone";MsgKey.secretary_talk1="secretary_talk1";MsgKey.secretary_talk2="secretary_talk2";MsgKey.secretary_title1="secretary_title1";MsgKey.secretary_title2="secretary_title2";MsgKey.secretary_owned="secretary_owned";MsgKey.market_ambassador="market_ambassador";MsgKey.secretary_gift_received="secretary_gift_received";MsgKey.secretary_rights1="secretary_rights1";MsgKey.secretary_rights2="secretary_rights2";MsgKey.secretary_rights3="secretary_rights3";MsgKey.secretary_rights4="secretary_rights4";MsgKey.secretary_rights5="secretary_rights5";MsgKey.secretary_rights6="secretary_rights6";MsgKey.secretary_rights7="secretary_rights7";MsgKey.secretary_rights8="secretary_rights8";MsgKey.secretary_rights9="secretary_rights9";MsgKey.secretary_rights10="secretary_rights10";MsgKey.secretary_auto1="secretary_auto1";MsgKey.secretary_auto2="secretary_auto2";MsgKey.secretary_auto3="secretary_auto3";MsgKey.chat_notime="chat_notime";MsgKey.chat_nomessage="chat_nomessage";MsgKey.chat_moremessage="chat_moremessage";MsgKey.chat_nospeaker="chat_nospeaker";MsgKey.chat_unlock="chat_unlock";MsgKey.chat_5star1="chat_5star1";MsgKey.chat_5star2="chat_5star2";MsgKey.chat_supersale="chat_supersale";MsgKey.chat_rename="chat_rename";MsgKey.Turntable_full="Turntable_full";MsgKey.order_give="order_give";MsgKey.actor_adept_lv1="actor_adept_lv1";MsgKey.actor_adept_lv2="actor_adept_lv2";MsgKey.actor_adept_lv3="actor_adept_lv3";MsgKey.actor_adept_lv4="actor_adept_lv4";MsgKey.movie_play="movie_play";MsgKey.actor_trainingroom="actor_trainingroom";MsgKey.license_apply_table1="license_apply_table1";MsgKey.license_apply_table2="license_apply_table2";MsgKey.license_apply_table3="license_apply_table3";MsgKey.license_apply_table4="license_apply_table4";MsgKey.license_apply_dialog1="license_apply_dialog1";MsgKey.license_apply_dialog2="license_apply_dialog2";MsgKey.license_apply_dialog3="license_apply_dialog3";MsgKey.license_apply_button1="license_apply_button1";MsgKey.license_apply_button2="license_apply_button2";MsgKey.license_apply_info="license_apply_info";MsgKey.license_apply_limit="license_apply_limit";MsgKey.license_apply_limit_num="license_apply_limit_num";MsgKey.month1="month1";MsgKey.month2="month2";MsgKey.month3="month3";MsgKey.month4="month4";MsgKey.month5="month5";MsgKey.month6="month6";MsgKey.month7="month7";MsgKey.month8="month8";MsgKey.month9="month9";MsgKey.month10="month10";MsgKey.month11="month11";MsgKey.month12="month12";MsgKey.eventhall_moneyless1="eventhall_moneyless1";MsgKey.eventhall_daysless="eventhall_daysless";MsgKey.eventhall_moneyless2="eventhall_moneyless2";MsgKey.eventhall_scoreless2="eventhall_scoreless2";MsgKey.eventhall_scoretext1="eventhall_scoretext1";MsgKey.eventhall_scoretext2="eventhall_scoretext2";MsgKey.eventhall_scoretext3="eventhall_scoretext3";MsgKey.eventhall_scoretext4="eventhall_scoretext4";MsgKey.eventhall_scoretext5="eventhall_scoretext5";MsgKey.eventhall_scoretext6="eventhall_scoretext6";MsgKey.scoring_format="scoring_format";MsgKey.task_unfinished="task_unfinished";MsgKey.task_bottom="task_bottom";MsgKey.eventhall_diamondless2="eventhall_diamondless2";MsgKey.visit_stop="visit_stop";MsgKey.account_load_long="account_load_long";MsgKey.account_load_again="account_load_again";MsgKey.account_load_wrong1="account_load_wrong1";MsgKey.account_load_wrong2="account_load_wrong2";return MsgKey}());var GlobalKey=(function(){function GlobalKey(){}GlobalKey.Gold_Convert_Count="Gold_Convert_Count";GlobalKey.Gold_Convert_Times="Gold_Convert_Times";GlobalKey.Actor_Training_OpenLevel="Actor_Training_OpenLevel";GlobalKey.Licence_Store_Max="Licence_Store_Max";GlobalKey.Licence_Restore_Max="Licence_Restore_Max";GlobalKey.Script_choose_num="Script_choose_num";GlobalKey.Popularize_Duration="Popularize_Duration";GlobalKey.Movie_Shoot_Time="Movie_Shoot_Time";GlobalKey.Max_Movie_Num="Max_Movie_Num";GlobalKey.Max_Movie_Popularize_Level="Max_Movie_Popularize_Level";GlobalKey.Licence_Restore_Time="Licence_Restore_Time";GlobalKey.Max_Expect="Max_Expect";GlobalKey.Tired_Times="Tired_Times";GlobalKey.Movie_Stop_Tips="Movie_Stop_Tips";GlobalKey.Block_Ranking_List_Reset="Block_Ranking_List_Reset";GlobalKey.Block_Ranking_List_Player_Num="Block_Ranking_List_Player_Num";GlobalKey.Server_Ranking_List_Reset="Server_Ranking_List_Reset";GlobalKey.Block_Ranking_List_Congratulate_Times="Block_Ranking_List_Congratulate_Times";GlobalKey.Block_Ranking_List_Congratulate_Cd="Block_Ranking_List_Congratulate_Cd";GlobalKey.Story_CD="Story_CD";GlobalKey.Golden_Story_Time="Golden_Story_Time";GlobalKey.Golden_Story_Num="Golden_Story_Num";GlobalKey.KEY_23_AoSiKaBi__JiangLiDaoJu="KEY_23_AoSiKaBi__JiangLiDaoJu";GlobalKey.KEY_24_AoSiKaBi__JiangLiShangXian="KEY_24_AoSiKaBi__JiangLiShangXian";GlobalKey.KEY_25_AoSiKaBanJiangShiJian="KEY_25_AoSiKaBanJiangShiJian";GlobalKey.KEY_26_AoSiKaBan__YingShiJianMiao="KEY_26_AoSiKaBan__YingShiJianMiao";GlobalKey.KEY_27_ShouCiGeZuoJiangLi="KEY_27_ShouCiGeZuoJiangLi";GlobalKey.KEY_28_ShouCiZhangHao__GeZuoJiangLi="KEY_28_ShouCiZhangHao__GeZuoJiangLi";GlobalKey.KEY_29_MeiZhouGeZuoCiShu="KEY_29_MeiZhouGeZuoCiShu";GlobalKey.KEY_30_GeZuoRenWu__MeiRiNDian="KEY_30_GeZuoRenWu__MeiRiNDian";GlobalKey.KEY_31_MeiTiFangWen__DengJiShangXian="KEY_31_MeiTiFangWen__DengJiShangXian";GlobalKey.KEY_32_MeiTiFangWen__ShuLiangOuJian="KEY_32_MeiTiFangWen__ShuLiangOuJian";GlobalKey.KEY_33_MeiTiFangWen__ShuLiangShangXian="KEY_33_MeiTiFangWen__ShuLiangShangXian";GlobalKey.KEY_34_MeiRiPaiShe__MeiRiNDian="KEY_34_MeiRiPaiShe__MeiRiNDian";GlobalKey.Bag_Initial_Capacity="Bag_Initial_Capacity";GlobalKey.Movie_License_default_Cd="Movie_License_default_Cd";GlobalKey.Movie_Histogram_Time="Movie_Histogram_Time";GlobalKey.Movie_Licence_ID="Movie_Licence_ID";GlobalKey.Oscar_Candidate_Num="Oscar_Candidate_Num";GlobalKey.Actor_Train_Exp="Actor_Train_Exp";GlobalKey.Actor_Train_Time="Actor_Train_Time";GlobalKey.Oscar_Best_Actor="Oscar_Best_Actor";GlobalKey.Oscar_Best_Actress="Oscar_Best_Actress";GlobalKey.Oscar_Best_Performance="Oscar_Best_Performance";GlobalKey.Oscar_Best_Art="Oscar_Best_Art";GlobalKey.Oscar_Best_Welcome="Oscar_Best_Welcome";GlobalKey.Training_Area_Price="Training_Area_Price";GlobalKey.Oscar_Congratulated_Reward="Oscar_Congratulated_Reward";GlobalKey.Cooperate_Send_Dollar_times="Cooperate_Send_Dollar_times";GlobalKey.Cooperate_Send_Gold_times="Cooperate_Send_Gold_times";GlobalKey.Cooperate_Invited_CD="Cooperate_Invited_CD";GlobalKey.Cooperate_Public_Invited_Time="Cooperate_Public_Invited_Time";GlobalKey.Cooperate_Open_data="Cooperate_Open_data";GlobalKey.Shoot_Golden_Story_Nums="Shoot_Golden_Story_Nums";GlobalKey.KEY_1001_TanChaXiaoHao="KEY_1001_TanChaXiaoHao";GlobalKey.KEY_1002_XingTanQiaoMu__ChaCDFen="KEY_1002_XingTanQiaoMu__ChaCDFen";GlobalKey.KEY_1003_MeiCiTanCha__JiaShiJianFen="KEY_1003_MeiCiTanCha__JiaShiJianFen";GlobalKey.KEY_1004_TanChaCiShuShangXian="KEY_1004_TanChaCiShuShangXian";GlobalKey.KEY_1005_TanChaCD__WuQiShiJian="KEY_1005_TanChaCD__WuQiShiJian";GlobalKey.KEY_1006_TanChaChuYi__RenShuLiangGe="KEY_1006_TanChaChuYi__RenShuLiangGe";GlobalKey.KEY_1007_TanChaChuYi__ZaiShiJianFen="KEY_1007_TanChaChuYi__ZaiShiJianFen";GlobalKey.KEY_1008_JiangZhiTanCha__PinHeShuLiang="KEY_1008_JiangZhiTanCha__PinHeShuLiang";GlobalKey.KEY_1009_ZuanDanZengJia__ShuLiangXiaoHao="KEY_1009_ZuanDanZengJia__ShuLiangXiaoHao";GlobalKey.KEY_1010_ZiDingYiYi__MingChenXiaoHao="KEY_1010_ZiDingYiYi__MingChenXiaoHao";GlobalKey.KEY_1011_TiLiChongZhi__WuQiShiJian="KEY_1011_TiLiChongZhi__WuQiShiJian";GlobalKey.KEY_1012_ZuanDanPeiYang__YiRenXiaoHao="KEY_1012_ZuanDanPeiYang__YiRenXiaoHao";GlobalKey.KEY_1013_XingTanCiShu="KEY_1013_XingTanCiShu";GlobalKey.KEY_1014_TanChaXingJi__SuiJiGongShi="KEY_1014_TanChaXingJi__SuiJiGongShi";GlobalKey.KEY_1015_YiRenZaiLou__ShuLiangShangXian="KEY_1015_YiRenZaiLou__ShuLiangShangXian";GlobalKey.KEY_1016_MoXingZaiLou__JianDeShuLiang="KEY_1016_MoXingZaiLou__JianDeShuLiang";GlobalKey.KEY_1017_MoXingZaiLou__YiDongSuDu="KEY_1017_MoXingZaiLou__YiDongSuDu";GlobalKey.KEY_1018_DianYingShangYing__ShuaXinShuLiang="KEY_1018_DianYingShangYing__ShuaXinShuLiang";GlobalKey.KEY_1019_TanBanShiYi__ZuoDeSuDu="KEY_1019_TanBanShiYi__ZuoDeSuDu";GlobalKey.KEY_1020_YiRenPaiShe__HuoBiLeiXing="KEY_1020_YiRenPaiShe__HuoBiLeiXing";GlobalKey.KEY_1021_1JiShanChang__MiaoShuWenZi="KEY_1021_1JiShanChang__MiaoShuWenZi";GlobalKey.KEY_1022_2JiShanChang__MiaoShuWenZi="KEY_1022_2JiShanChang__MiaoShuWenZi";GlobalKey.KEY_1023_3JiShanChang__MiaoShuWenZi="KEY_1023_3JiShanChang__MiaoShuWenZi";GlobalKey.KEY_1024_4JiShanChang__MiaoShuWenZi="KEY_1024_4JiShanChang__MiaoShuWenZi";GlobalKey.KEY_1025_WanGuChuShi__ShangXianShuLiang="KEY_1025_WanGuChuShi__ShangXianShuLiang";GlobalKey.KEY_1026_WanGuChuShi__ShuLiangShangXian="KEY_1026_WanGuChuShi__ShuLiangShangXian";GlobalKey.KEY_1027_YiRenPeiYang__ShiJianHaoMiao="KEY_1027_YiRenPeiYang__ShiJianHaoMiao";GlobalKey.KEY_1028_YiRenPeiYang__ShiJianHaoMiao="KEY_1028_YiRenPeiYang__ShiJianHaoMiao";GlobalKey.KEY_1029_YiRenPeiYang__ShiJianHaoMiao="KEY_1029_YiRenPeiYang__ShiJianHaoMiao";GlobalKey.KEY_1030_YiRenPeiYang__ShiJianHaoMiao="KEY_1030_YiRenPeiYang__ShiJianHaoMiao";GlobalKey.KEY_1031_GongSiPeiYang__WuQiShiJian="KEY_1031_GongSiPeiYang__WuQiShiJian";GlobalKey.KEY_1032_YiRenPeiYang__ChengShiID="KEY_1032_YiRenPeiYang__ChengShiID";GlobalKey.KEY_1033_YiRenJiNeng__GongSiDengJi="KEY_1033_YiRenJiNeng__GongSiDengJi";GlobalKey.KEY_1034_YiRenZiChan__GongSiDengJi="KEY_1034_YiRenZiChan__GongSiDengJi";GlobalKey.KEY_1035_YiRenZhongCheng__ShangXianShuLiang="KEY_1035_YiRenZhongCheng__ShangXianShuLiang";GlobalKey.KEY_1036="KEY_1036";GlobalKey.KEY_1037="KEY_1037";GlobalKey.KEY_1038="KEY_1038";GlobalKey.KEY_1039="KEY_1039";GlobalKey.KEY_1040="KEY_1040";GlobalKey.KEY_1041="KEY_1041";GlobalKey.KEY_1042="KEY_1042";GlobalKey.KEY_1043="KEY_1043";GlobalKey.KEY_1044="KEY_1044";GlobalKey.KEY_1045="KEY_1045";GlobalKey.KEY_1046="KEY_1046";GlobalKey.KEY_1047="KEY_1047";GlobalKey.KEY_1048="KEY_1048";GlobalKey.KEY_1049="KEY_1049";GlobalKey.story_cost_rand="story_cost_rand";GlobalKey.actor_cost_rand="actor_cost_rand";GlobalKey.rand_1="rand_1";GlobalKey.rand_2="rand_2";GlobalKey.tired_base="tired_base";GlobalKey.tired_con_1="tired_con_1";GlobalKey.tired_con_2="tired_con_2";GlobalKey.time="time";GlobalKey.type_timer_con="type_timer_con";GlobalKey.att_rate="att_rate";GlobalKey.att_rand="att_rand";GlobalKey.delay_con="delay_con";GlobalKey.delay_base="delay_base";GlobalKey.delay_count="delay_count";GlobalKey.gold_att_con="gold_att_con";GlobalKey.gold_count="gold_count";GlobalKey.bar_con="bar_con";GlobalKey.evaluate_rand="evaluate_rand";GlobalKey.evaluate_con="evaluate_con";GlobalKey.box_office_rand="box_office_rand";GlobalKey.opinions_rand="opinions_rand";GlobalKey.opinions_con="opinions_con";GlobalKey.day_con="day_con";GlobalKey.follow_rand="follow_rand";GlobalKey.random_value="random_value";GlobalKey.random_rand="random_rand";GlobalKey.random_con_1="random_con_1";GlobalKey.random_con_2="random_con_2";GlobalKey.random_con_3="random_con_3";GlobalKey.random_con_4="random_con_4";GlobalKey.task_convert_times="task_convert_times";GlobalKey.story_stack_daily_times="story_stack_daily_times";GlobalKey.story_stack_search_cost="story_stack_search_cost";GlobalKey.story_stack_cd_stage_cost="story_stack_cd_stage_cost";GlobalKey.story_stack_cd_stage_length="story_stack_cd_stage_length";GlobalKey.story_stack_cd_stages="story_stack_cd_stages";GlobalKey.story_stack_cd="story_stack_cd";GlobalKey.story_stack_daily_update="story_stack_daily_update";GlobalKey.story_stack_cd_block_level="story_stack_cd_block_level";GlobalKey.shop_daily_limit="shop_daily_limit";GlobalKey.shop_weekly_limit="shop_weekly_limit";GlobalKey.opinions="opinions";GlobalKey.evaluate="evaluate";GlobalKey.fans_rand="fans_rand";GlobalKey.BarGraph_rand="BarGraph_rand";GlobalKey.BattlePoint_count="BattlePoint_count";GlobalKey.Extension_level_con="Extension_level_con";GlobalKey.default_language="default_language";GlobalKey.month_card_duration="month_card_duration";GlobalKey.proficiency="proficiency";GlobalKey.cooperative_order_reward="cooperative_order_reward";GlobalKey.produce_inspire_buildlock="produce_inspire_buildlock";GlobalKey.produce_inspire_linelock="produce_inspire_linelock";GlobalKey.produce_production_less="produce_production_less";GlobalKey.produce_collection_less="produce_collection_less";GlobalKey.market_ambassador="market_ambassador";GlobalKey.eventhall_score1="eventhall_score1";GlobalKey.eventhall_score2="eventhall_score2";GlobalKey.Extension_box_office_con="Extension_box_office_con";GlobalKey.Extension_con="Extension_con";GlobalKey.Firstday_Actor="Firstday_Actor";GlobalKey.Secondday_Actor="Secondday_Actor";GlobalKey.bussiness_number="bussiness_number";GlobalKey.bussiness_max="bussiness_max";GlobalKey.bussiness_cd="bussiness_cd";GlobalKey.visit_number="visit_number";GlobalKey.visit_max="visit_max";GlobalKey.visit_cd="visit_cd";GlobalKey.meeting_times_basic="meeting_times_basic";return GlobalKey}());var FxKey=(function(){function FxKey(){}FxKey.BuildFog="Effect_build01";FxKey.BuildHammer="Effect_build02";FxKey.Jinbi01="jinbi_01";return FxKey}());var Particle2D=Laya.Particle2D;var ParticleSetting=Laya.ParticleSetting;var FxCtrl=(function(){function FxCtrl(fxKey){this.displayIndex=-1;this.isPlay=true;this.isDestroyed=false;this.pivotCenter=true;this._x=0;this._y=0;this.key=fxKey;this.pathFull=Res.getFx(fxKey)}Object.defineProperty(FxCtrl.prototype,"x",{get:function(){return this._x},set:function(value){this._x=value;if(this.sp){this.sp.x=this.pivotCenter?value-this.sp.width*0.5:value}},enumerable:true,configurable:true});Object.defineProperty(FxCtrl.prototype,"y",{get:function(){return this._y},set:function(value){this._y=value;if(this.sp){this.sp.y=this.pivotCenter?value-this.sp.height*0.5:value}},enumerable:true,configurable:true});FxCtrl.prototype.load=function(onComplete){this.onComplete=onComplete;Laya.loader.load(this.pathFull,Handler.create(this,this.onAssetsLoaded),null,Loader.JSON)};FxCtrl.prototype.onAssetsLoaded=function(settings){if(this.isDestroyed){return}if(!settings.textureName.startsWith("fx/")){settings.textureName=Res.rootFx+settings.textureName}this.sp=new Particle2D(settings);this.sp.emitter.start();if(this.isPlay){this.sp.play()}this.checkShow();this.sp.x=this.pivotCenter?this.x-this.sp.width*0.5:this.x;this.sp.y=this.pivotCenter?this.y-this.sp.height*0.5:this.y;if(this.onComplete){this.onComplete.run()}};FxCtrl.prototype.showOn=function(parent,displayIndex){if(displayIndex===void 0){displayIndex=-1}if(parent instanceof laya.display.Sprite){this.parent=parent}else{this.parent=parent.displayObject}this.displayIndex=displayIndex;this.checkShow()};FxCtrl.prototype.checkShow=function(){if(this.parent&&this.sp){if(this.displayIndex>=0){this.parent.addChildAt(this.sp,this.displayIndex)}else{this.parent.addChild(this.sp)}}};Object.defineProperty(FxCtrl.prototype,"visible",{set:function(value){if(this.sp){this.sp.visible=value}},enumerable:true,configurable:true});FxCtrl.prototype.play=function(){if(this.sp){this.sp.play()}this.isPlay=true};FxCtrl.prototype.stop=function(){if(this.sp){this.sp.stop()}this.isPlay=false};FxCtrl.prototype.destroy=function(destroyChild){this.isDestroyed=true;if(this.sp){this.sp.destroy(destroyChild);this.sp.removeSelf();this.sp=null}};return FxCtrl}());var FxManager=(function(){function FxManager(){}FxManager.prototype.create=function(fxKey,parent,displayIndex,x,y,pivotCenter,onComplete){if(displayIndex===void 0){displayIndex=-1}if(x===void 0){x=0}if(y===void 0){y=0}if(pivotCenter===void 0){pivotCenter=true}var ctl=new FxCtrl(fxKey);ctl.pivotCenter=pivotCenter;ctl.showOn(parent,displayIndex);ctl.x=x;ctl.y=y;ctl.load(onComplete);return ctl};FxManager.prototype.creatTrail=function(renderClassList,parent,displayIndex,x,y,autoStart){if(displayIndex===void 0){displayIndex=-1}if(x===void 0){x=0}if(y===void 0){y=0}if(autoStart===void 0){autoStart=true}var emitter2D=new Games.TrailEmitter();emitter2D.x=x;emitter2D.y=y;emitter2D.showOn(parent,displayIndex);emitter2D.setRenderList(renderClassList);if(autoStart){emitter2D.start()}return emitter2D};return FxManager}());var configs;(function(configs){var ConfigFieldType=(function(){function ConfigFieldType(){}ConfigFieldType.MString="string";ConfigFieldType.MStringArray="string[]";return ConfigFieldType}());configs.ConfigFieldType=ConfigFieldType})(configs||(configs={}));var configs;(function(configs){var ActionConfigStruct=(function(_super){__extends(ActionConfigStruct,_super);function ActionConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActionConfigStruct}(configs.BaseConfig));configs.ActionConfigStruct=ActionConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActionConfig=(function(_super){__extends(ActionConfig,_super);function ActionConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActionConfig.prototype,"actionSequence",{get:function(){this.sequenceIds=[];this.sequenceIds.push(this.id);var connectActionId=this.getNextAction(this.id);if(connectActionId>0){this.getNextAction(connectActionId)}return this.sequenceIds},enumerable:true,configurable:true});ActionConfig.prototype.getNextAction=function(id){var cfg=Game.config.action.getConfig(id);if(cfg){if(cfg.Connect>0){this.sequenceIds.push(cfg.Connect)}return cfg.Connect}};return ActionConfig}(configs.ActionConfigStruct));configs.ActionConfig=ActionConfig})(configs||(configs={}));var configs;(function(configs){var ActivitiesConfigStruct=(function(_super){__extends(ActivitiesConfigStruct,_super);function ActivitiesConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActivitiesConfigStruct.prototype,"activities_name",{get:function(){var value=LangManager.Instance.getValue("activities",this.id,"activities_name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_activities_name},enumerable:true,configurable:true});Object.defineProperty(ActivitiesConfigStruct.prototype,"activities_info",{get:function(){var value=LangManager.Instance.getValue("activities",this.id,"activities_info");if(!isNullOrEmpty(value)){return value}return this.zh_cn_activities_info},enumerable:true,configurable:true});return ActivitiesConfigStruct}(configs.BaseConfig));configs.ActivitiesConfigStruct=ActivitiesConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActivitiesConfig=(function(_super){__extends(ActivitiesConfig,_super);function ActivitiesConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActivitiesConfig}(configs.ActivitiesConfigStruct));configs.ActivitiesConfig=ActivitiesConfig})(configs||(configs={}));var configs;(function(configs){var ActorAideattachConfigStruct=(function(_super){__extends(ActorAideattachConfigStruct,_super);function ActorAideattachConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAideattachConfigStruct}(configs.BaseConfig));configs.ActorAideattachConfigStruct=ActorAideattachConfigStruct})(configs||(configs={}));configs.ActorAideattachConfig=configs.ActorAideattachConfigStruct;var configs;(function(configs){var ActorAideConfigStruct=(function(_super){__extends(ActorAideConfigStruct,_super);function ActorAideConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActorAideConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("actorAide",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});return ActorAideConfigStruct}(configs.BaseConfig));configs.ActorAideConfigStruct=ActorAideConfigStruct})(configs||(configs={}));configs.ActorAideConfig=configs.ActorAideConfigStruct;var configs;(function(configs){var ActorAideIntimacyConfigStruct=(function(_super){__extends(ActorAideIntimacyConfigStruct,_super);function ActorAideIntimacyConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAideIntimacyConfigStruct}(configs.BaseConfig));configs.ActorAideIntimacyConfigStruct=ActorAideIntimacyConfigStruct})(configs||(configs={}));configs.ActorAideIntimacyConfig=configs.ActorAideIntimacyConfigStruct;var configs;(function(configs){var ActorAssetsConfigStruct=(function(_super){__extends(ActorAssetsConfigStruct,_super);function ActorAssetsConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAssetsConfigStruct}(configs.BaseConfig));configs.ActorAssetsConfigStruct=ActorAssetsConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorAssetsConfig=(function(_super){__extends(ActorAssetsConfig,_super);function ActorAssetsConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAssetsConfig}(configs.ActorAssetsConfigStruct));configs.ActorAssetsConfig=ActorAssetsConfig})(configs||(configs={}));var configs;(function(configs){var ActorAssetsLvConfigStruct=(function(_super){__extends(ActorAssetsLvConfigStruct,_super);function ActorAssetsLvConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAssetsLvConfigStruct}(configs.BaseConfig));configs.ActorAssetsLvConfigStruct=ActorAssetsLvConfigStruct})(configs||(configs={}));configs.ActorAssetsLvConfig=configs.ActorAssetsLvConfigStruct;var configs;(function(configs){var ActorConfigStruct=(function(_super){__extends(ActorConfigStruct,_super);function ActorConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActorConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("actor",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});Object.defineProperty(ActorConfigStruct.prototype,"tips",{get:function(){var value=LangManager.Instance.getValue("actor",this.id,"tips");if(!isNullOrEmpty(value)){return value}return this.cn_tips},enumerable:true,configurable:true});Object.defineProperty(ActorConfigStruct.prototype,"getway",{get:function(){var value=LangManager.Instance.getValue("actor",this.id,"getway");if(!isNullOrEmpty(value)){return value}return this.cn_getway},enumerable:true,configurable:true});return ActorConfigStruct}(configs.BaseConfig));configs.ActorConfigStruct=ActorConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorConfig=(function(_super){__extends(ActorConfig,_super);function ActorConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActorConfig.prototype,"sexUrl",{get:function(){if(this.sex==1101){return"res/sprites/icon/nv_logo.png"}else{if(this.sex==1102){return"res/sprites/icon/nan_logo.png"}}},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"ID",{get:function(){return this.id},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"yrName",{get:function(){return this.cn_name},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getSex",{get:function(){return this.sex},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getReqCountry",{get:function(){return this.country},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getReqShowType",{get:function(){return this.show_type},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getReqageType",{get:function(){return this.age_type},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getSpectacle",{get:function(){return this.spectacle},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getPerform",{get:function(){return this.perform},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getPlot",{get:function(){return this.plot},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getArt",{get:function(){return this.art},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getEntertainment",{get:function(){return this.entertainment},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"getPayCost",{get:function(){return this.paycheck},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"avatarConfig",{get:function(){return Game.config.avatar.getConfig(this.avatar)},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"starProperty",{get:function(){if(this._starPropertyConfig==null){this._starPropertyConfig=Game.config.property.getConfig(this.star)}return this._starPropertyConfig},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"starNum",{get:function(){if(this._star==null){if(this.starProperty){this._star=parseInt(this.starProperty.field)}else{this._star=0}}return this._star},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"starUrl",{get:function(){if(isNullOrEmpty(this._starUrl)){this._starUrl=Game.config.avatar.getConfig(this.starProperty.icon).iconUrl}return this._starUrl},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"modelSkinUrl",{get:function(){var avatarCfg=Game.config.avatar.getConfig(this.avatar);if(avatarCfg){return avatarCfg.modelSkinUrl}return""},enumerable:true,configurable:true});Object.defineProperty(ActorConfig.prototype,"modelBoneUrl",{get:function(){var avatarCfg=Game.config.avatar.getConfig(this.avatar);if(avatarCfg){return avatarCfg.modelBoneUrl}return""},enumerable:true,configurable:true});return ActorConfig}(configs.ActorConfigStruct));configs.ActorConfig=ActorConfig})(configs||(configs={}));var configs;(function(configs){var ActorLevelConfigStruct=(function(_super){__extends(ActorLevelConfigStruct,_super);function ActorLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorLevelConfigStruct}(configs.BaseConfig));configs.ActorLevelConfigStruct=ActorLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorLevelConfig=(function(_super){__extends(ActorLevelConfig,_super);function ActorLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActorLevelConfig}(configs.ActorLevelConfigStruct));configs.ActorLevelConfig=ActorLevelConfig})(configs||(configs={}));var configs;(function(configs){var ActorLoyaltyConfigStruct=(function(_super){__extends(ActorLoyaltyConfigStruct,_super);function ActorLoyaltyConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorLoyaltyConfigStruct}(configs.BaseConfig));configs.ActorLoyaltyConfigStruct=ActorLoyaltyConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorLoyaltyConfig=(function(_super){__extends(ActorLoyaltyConfig,_super);function ActorLoyaltyConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActorLoyaltyConfig}(configs.ActorLoyaltyConfigStruct));configs.ActorLoyaltyConfig=ActorLoyaltyConfig})(configs||(configs={}));var configs;(function(configs){var ActorProficiencyConfigStruct=(function(_super){__extends(ActorProficiencyConfigStruct,_super);function ActorProficiencyConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorProficiencyConfigStruct}(configs.BaseConfig));configs.ActorProficiencyConfigStruct=ActorProficiencyConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorProficiencyConfig=(function(_super){__extends(ActorProficiencyConfig,_super);function ActorProficiencyConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActorProficiencyConfig}(configs.ActorProficiencyConfigStruct));configs.ActorProficiencyConfig=ActorProficiencyConfig})(configs||(configs={}));var configs;(function(configs){var ActorTrainConfigStruct=(function(_super){__extends(ActorTrainConfigStruct,_super);function ActorTrainConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ActorTrainConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("actorTrain",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});Object.defineProperty(ActorTrainConfigStruct.prototype,"scene_name",{get:function(){var value=LangManager.Instance.getValue("actorTrain",this.id,"scene_name");if(!isNullOrEmpty(value)){return value}return this.cn_scene_name},enumerable:true,configurable:true});return ActorTrainConfigStruct}(configs.BaseConfig));configs.ActorTrainConfigStruct=ActorTrainConfigStruct})(configs||(configs={}));var configs;(function(configs){var ActorTrainConfig=(function(_super){__extends(ActorTrainConfig,_super);function ActorTrainConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ActorTrainConfig}(configs.ActorTrainConfigStruct));configs.ActorTrainConfig=ActorTrainConfig})(configs||(configs={}));var configs;(function(configs){var ActorTrainLvConfigStruct=(function(_super){__extends(ActorTrainLvConfigStruct,_super);function ActorTrainLvConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ActorTrainLvConfigStruct}(configs.BaseConfig));configs.ActorTrainLvConfigStruct=ActorTrainLvConfigStruct})(configs||(configs={}));configs.ActorTrainLvConfig=configs.ActorTrainLvConfigStruct;var configs;(function(configs){var AvatarConfigStruct=(function(_super){__extends(AvatarConfigStruct,_super);function AvatarConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(AvatarConfigStruct.prototype,"icon",{get:function(){var value=LangManager.Instance.getValue("avatar",this.id,"icon");if(!isNullOrEmpty(value)){return value}return this.zh_cn_icon},enumerable:true,configurable:true});return AvatarConfigStruct}(configs.BaseConfig));configs.AvatarConfigStruct=AvatarConfigStruct})(configs||(configs={}));var configs;(function(configs){var AvatarConfig=(function(_super){__extends(AvatarConfig,_super);function AvatarConfig(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._assetList=[];return _this}Object.defineProperty(AvatarConfig.prototype,"icon",{get:function(){var value=this.zh_cn_icon;switch(LangManager.Instance.lang){case LangType.en:value=this.en_icon;break}if(!isNullOrEmpty(value)){return value}return this.zh_cn_icon},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"modelPath",{get:function(){var arr=this.model_skin.split("/");return this.model_skin.replace("Unit/","")+"/"+arr[arr.length-1]},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"modelSkinUrl",{get:function(){if(!this.model_skin){return null}if(!this._modelSkinUrl){this._modelSkinUrl=Res.getSpinePngPath(this.modelPath)}return this._modelSkinUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"modelBoneUrl",{get:function(){if(!this.model_bones){return null}if(!this._modelBoneUrl){this._modelBoneUrl=Res.getSpineSKPath(this.modelPath)}return this._modelBoneUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"picUrl",{get:function(){if(!this.bg_pic){return null}if(!this._picUrl){this._picUrl=Res.getSpritePath(this.bg_pic)}return this._picUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"modelSkinAssetItem",{get:function(){if(isNullOrEmpty(this.model_skin)){return null}if(!this._modelSkinAssetItem){this._modelSkinAssetItem={url:this.modelSkinUrl,type:Games.AssetItemType.Image}}return this._modelSkinAssetItem},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"modelBoneAssetItem",{get:function(){if(isNullOrEmpty(this.model_bones)){return null}if(!this._modelBoneAssetItem){this._modelBoneAssetItem={url:this.modelBoneUrl,type:Games.AssetItemType.Buffer}}return this._modelBoneAssetItem},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"picAssetItem",{get:function(){if(isNullOrEmpty(this.bg_pic)){return null}if(!this._picAssetItem){this._picAssetItem={url:this.picUrl,type:Games.AssetItemType.Image}}return this._picAssetItem},enumerable:true,configurable:true});AvatarConfig.prototype.getPackagenameByUrl=function(url){return url.split("/")[0]};Object.defineProperty(AvatarConfig.prototype,"iconUrl",{get:function(){if(!this._iconUrl){this._iconUrl="res/fspriteassets/"+this.icon+".png"}return this._iconUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"bodyIconUrl",{get:function(){if(!this._bodyIconUrl){this._bodyIconUrl="res/fspriteassets/"+this.body_icon+".png"}return this._bodyIconUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"pieceIconUrl",{get:function(){if(!this._pieceIconUrl){this._pieceIconUrl="res/fspriteassets/"+this.piece_icon+".png"}return this._pieceIconUrl},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"iconPackagename",{get:function(){if(isNullOrEmpty(this.icon)){return null}if(!this._iconPackagename){this._iconPackagename=this.icon.split("/")[0]}return this._iconPackagename},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"bodyIconPackageName",{get:function(){if(isNullOrEmpty(this.body_icon)){return null}if(!this._bodyIconPackageName){this._bodyIconPackageName=this.body_icon.split("/")[0]}return this._bodyIconPackageName},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"pieceIconPackageName",{get:function(){if(isNullOrEmpty(this.piece_icon)){return null}if(!this._pieceIconPackageName){this._pieceIconPackageName=this.piece_icon.split("/")[0]}return this._pieceIconPackageName},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"iconAssetItem",{get:function(){if(isNullOrEmpty(this.icon)){return null}if(!this._iconAssetItem){this._iconAssetItem={url:this.iconPackagename,type:Games.AssetItemType.FspritePackage}}return this._iconAssetItem},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"bodyIconAssetItem",{get:function(){if(isNullOrEmpty(this.body_icon)){return null}if(!this._bodyIconAssetItem){this._bodyIconAssetItem={url:this.bodyIconPackageName,type:Games.AssetItemType.FspritePackage}}return this._bodyIconAssetItem},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"pieceIconAssetItem",{get:function(){if(isNullOrEmpty(this.piece_icon)){return null}if(!this._pieceIconAssetItem){this._pieceIconAssetItem={url:this.pieceIconPackageName,type:Games.AssetItemType.FspritePackage}}return this._pieceIconAssetItem},enumerable:true,configurable:true});Object.defineProperty(AvatarConfig.prototype,"assetList",{get:function(){if(!this._assetList){this._assetList=[];if(this.iconAssetItem){this._assetList.push(this.iconAssetItem)}if(this.bodyIconAssetItem){this._assetList.push(this.bodyIconAssetItem)}if(this.pieceIconAssetItem){this._assetList.push(this.pieceIconAssetItem)}if(this.modelSkinAssetItem){this._assetList.push(this.modelSkinAssetItem)}if(this.modelBoneAssetItem){this._assetList.push(this.modelBoneAssetItem)}if(this.picAssetItem){this._assetList.push(this.picAssetItem)}}return this._assetList},enumerable:true,configurable:true});AvatarConfig.prototype.getAllAssset=function(list,dict){if(!list){return this.assetList}for(var i=0;i<this.assetList.length;i++){var item=this.assetList[i];if(dict){var key=getAssetItemKey(item);if(!dict.hasKey(key)){list.push(item);dict.add(key,item)}}else{list.push(item)}}return list};return AvatarConfig}(configs.AvatarConfigStruct));configs.AvatarConfig=AvatarConfig})(configs||(configs={}));var configs;(function(configs){var BattleLevelConfigStruct=(function(_super){__extends(BattleLevelConfigStruct,_super);function BattleLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return BattleLevelConfigStruct}(configs.BaseConfig));configs.BattleLevelConfigStruct=BattleLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var BattleLevelConfig=(function(_super){__extends(BattleLevelConfig,_super);function BattleLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BattleLevelConfig}(configs.BattleLevelConfigStruct));configs.BattleLevelConfig=BattleLevelConfig})(configs||(configs={}));var configs;(function(configs){var BattleShootTypeConfigStruct=(function(_super){__extends(BattleShootTypeConfigStruct,_super);function BattleShootTypeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return BattleShootTypeConfigStruct}(configs.BaseConfig));configs.BattleShootTypeConfigStruct=BattleShootTypeConfigStruct})(configs||(configs={}));var configs;(function(configs){var BattleShootTypeConfig=(function(_super){__extends(BattleShootTypeConfig,_super);function BattleShootTypeConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BattleShootTypeConfig}(configs.BattleShootTypeConfigStruct));configs.BattleShootTypeConfig=BattleShootTypeConfig})(configs||(configs={}));var configs;(function(configs){var BlockLevelConfigStruct=(function(_super){__extends(BlockLevelConfigStruct,_super);function BlockLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BlockLevelConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("blockLevel",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(BlockLevelConfigStruct.prototype,"current_msg",{get:function(){var value=LangManager.Instance.getValue("blockLevel",this.id,"current_msg");if(!isNullOrEmpty(value)){return value}return this.zh_cn_current_msg},enumerable:true,configurable:true});Object.defineProperty(BlockLevelConfigStruct.prototype,"next_msg",{get:function(){var value=LangManager.Instance.getValue("blockLevel",this.id,"next_msg");if(!isNullOrEmpty(value)){return value}return this.zh_cn_next_msg},enumerable:true,configurable:true});Object.defineProperty(BlockLevelConfigStruct.prototype,"name_tips",{get:function(){var value=LangManager.Instance.getValue("blockLevel",this.id,"name_tips");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name_tips},enumerable:true,configurable:true});return BlockLevelConfigStruct}(configs.BaseConfig));configs.BlockLevelConfigStruct=BlockLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var BlockLevelConfig=(function(_super){__extends(BlockLevelConfig,_super);function BlockLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BlockLevelConfig.prototype,"nextMsg",{get:function(){var value=this.next_msg;var msg;if(value instanceof Array){msg=value.join("<br />")}else{msg=value}var nextCfg=Game.config.blockLevel.GetNextSteetCfg(this.id);if(nextCfg){var addMoney=nextCfg.daily_reward.itemNum-this.daily_reward.itemNum;var addGold=nextCfg.movie_daily_reward[0].itemNum-this.movie_daily_reward[0].itemNum;var addReward=nextCfg.movie_daily_reward[1].itemNum-this.movie_daily_reward[1].itemNum;return formatArrayNumberUnit(msg,addMoney,addGold,addReward)}return msg.format(0,0,0)},enumerable:true,configurable:true});Object.defineProperty(BlockLevelConfig.prototype,"currentMsg",{get:function(){var value=this.current_msg;var msg;if(value instanceof Array){msg=value.join("<br />")}else{msg=value}var addMoney=this.daily_reward.itemNum;var addGold=this.movie_daily_reward[0].itemNum;var addReward=this.movie_daily_reward[1].itemNum;return formatArrayNumberUnit(msg,addMoney,addGold,addReward)},enumerable:true,configurable:true});BlockLevelConfig.prototype.GetSellIcon=function(val){if(val>=this.marvel_sell){return 6028}else{if(val>=this.myth_sell){return 6027}else{if(val>=this.great_sell){return 6026}else{if(val>=this.big_sell){return 6025}else{if(val>=this.good){return 6024}else{return 6023}}}}}};BlockLevelConfig.prototype.GetSellIconUrl=function(val){var avatarId=this.GetSellIcon(val);return Game.config.avatar.GetIconUrl(avatarId)};Object.defineProperty(BlockLevelConfig.prototype,"UpgradeMenu",{get:function(){if(this.upgrade_menu&&this.upgrade_menu.length>0&&this.upgrade_menu[0]!=0){return this.upgrade_menu}return[]},enumerable:true,configurable:true});return BlockLevelConfig}(configs.BlockLevelConfigStruct));configs.BlockLevelConfig=BlockLevelConfig})(configs||(configs={}));var configs;(function(configs){var BlockRankingListConfigStruct=(function(_super){__extends(BlockRankingListConfigStruct,_super);function BlockRankingListConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return BlockRankingListConfigStruct}(configs.BaseConfig));configs.BlockRankingListConfigStruct=BlockRankingListConfigStruct})(configs||(configs={}));var configs;(function(configs){var BlockRankingListConfig=(function(_super){__extends(BlockRankingListConfig,_super);function BlockRankingListConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BlockRankingListConfig.prototype,"reward",{get:function(){if(this.type==1){var rewards=this.box_office_reward.concat(this.extra_reward);return rewards}if(this.type==2){return this.movie_reward}return[]},enumerable:true,configurable:true});return BlockRankingListConfig}(configs.BlockRankingListConfigStruct));configs.BlockRankingListConfig=BlockRankingListConfig})(configs||(configs={}));var configs;(function(configs){var BlockWordsConfigStruct=(function(_super){__extends(BlockWordsConfigStruct,_super);function BlockWordsConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return BlockWordsConfigStruct}(configs.BaseConfig));configs.BlockWordsConfigStruct=BlockWordsConfigStruct})(configs||(configs={}));var configs;(function(configs){var BlockWordsConfig=(function(_super){__extends(BlockWordsConfig,_super);function BlockWordsConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BlockWordsConfig}(configs.BlockWordsConfigStruct));configs.BlockWordsConfig=BlockWordsConfig})(configs||(configs={}));var configs;(function(configs){var BoxTargetConfigStruct=(function(_super){__extends(BoxTargetConfigStruct,_super);function BoxTargetConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BoxTargetConfigStruct.prototype,"dialog",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"dialog");if(!isNullOrEmpty(value)){return value}return this.zh_cn_dialog},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"title",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"title");if(!isNullOrEmpty(value)){return value}return this.zh_cn_title},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"targettext",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"targettext");if(!isNullOrEmpty(value)){return value}return this.zh_cn_targettext},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"timetext",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"timetext");if(!isNullOrEmpty(value)){return value}return this.zh_cn_timetext},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"reward",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"reward");if(!isNullOrEmpty(value)){return value}return this.zh_cn_reward},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"_final",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"final");if(!isNullOrEmpty(value)){return value}return this.zh_cn__final},enumerable:true,configurable:true});Object.defineProperty(BoxTargetConfigStruct.prototype,"button",{get:function(){var value=LangManager.Instance.getValue("boxTarget",this.id,"button");if(!isNullOrEmpty(value)){return value}return this.zh_cn_button},enumerable:true,configurable:true});return BoxTargetConfigStruct}(configs.BaseConfig));configs.BoxTargetConfigStruct=BoxTargetConfigStruct})(configs||(configs={}));configs.BoxTargetConfig=configs.BoxTargetConfigStruct;var configs;(function(configs){var BuildingEffectConfigStruct=(function(_super){__extends(BuildingEffectConfigStruct,_super);function BuildingEffectConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BuildingEffectConfigStruct.prototype,"effect_des",{get:function(){var value=LangManager.Instance.getValue("buildingEffect",this.id,"effect_des");if(!isNullOrEmpty(value)){return value}return this.zh_cn_effect_des},enumerable:true,configurable:true});return BuildingEffectConfigStruct}(configs.BaseConfig));configs.BuildingEffectConfigStruct=BuildingEffectConfigStruct})(configs||(configs={}));var configs;(function(configs){var BuildingEffectConfig=(function(_super){__extends(BuildingEffectConfig,_super);function BuildingEffectConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BuildingEffectConfig}(configs.BuildingEffectConfigStruct));configs.BuildingEffectConfig=BuildingEffectConfig})(configs||(configs={}));var configs;(function(configs){var BuildingLevelConfigStruct=(function(_super){__extends(BuildingLevelConfigStruct,_super);function BuildingLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BuildingLevelConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("buildingLevel",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(BuildingLevelConfigStruct.prototype,"effect_tips",{get:function(){var value=LangManager.Instance.getValue("buildingLevel",this.id,"effect_tips");if(!isNullOrEmpty(value)){return value}return this.zh_cn_effect_tips},enumerable:true,configurable:true});Object.defineProperty(BuildingLevelConfigStruct.prototype,"level_tips",{get:function(){var value=LangManager.Instance.getValue("buildingLevel",this.id,"level_tips");if(!isNullOrEmpty(value)){return value}return this.zh_cn_level_tips},enumerable:true,configurable:true});return BuildingLevelConfigStruct}(configs.BaseConfig));configs.BuildingLevelConfigStruct=BuildingLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var BuildingLevelConfig=(function(_super){__extends(BuildingLevelConfig,_super);function BuildingLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BuildingLevelConfig}(configs.BuildingLevelConfigStruct));configs.BuildingLevelConfig=BuildingLevelConfig})(configs||(configs={}));var configs;(function(configs){var BusinessConfigStruct=(function(_super){__extends(BusinessConfigStruct,_super);function BusinessConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BusinessConfigStruct.prototype,"from",{get:function(){var value=LangManager.Instance.getValue("business",this.id,"from");if(!isNullOrEmpty(value)){return value}return this.zh_cn_from},enumerable:true,configurable:true});Object.defineProperty(BusinessConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("business",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(BusinessConfigStruct.prototype,"description",{get:function(){var value=LangManager.Instance.getValue("business",this.id,"description");if(!isNullOrEmpty(value)){return value}return this.zh_cn_description},enumerable:true,configurable:true});return BusinessConfigStruct}(configs.BaseConfig));configs.BusinessConfigStruct=BusinessConfigStruct})(configs||(configs={}));var configs;(function(configs){var BusinessConfig=(function(_super){__extends(BusinessConfig,_super);function BusinessConfig(){return _super!==null&&_super.apply(this,arguments)||this}return BusinessConfig}(configs.BusinessConfigStruct));configs.BusinessConfig=BusinessConfig})(configs||(configs={}));var configs;(function(configs){var CinemaConfigStruct=(function(_super){__extends(CinemaConfigStruct,_super);function CinemaConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CinemaConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("cinema",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return CinemaConfigStruct}(configs.BaseConfig));configs.CinemaConfigStruct=CinemaConfigStruct})(configs||(configs={}));var configs;(function(configs){var CinemaConfig=(function(_super){__extends(CinemaConfig,_super);function CinemaConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CinemaConfig.prototype,"iconUrl",{get:function(){var avatarCfg=Game.config.avatar.getConfig(this.pic);if(avatarCfg){return avatarCfg.iconUrl}return""},enumerable:true,configurable:true});Object.defineProperty(CinemaConfig.prototype,"favoriteActor",{get:function(){var cfg=Game.config.property.getConfig(this.favorite_actor);if(cfg){return cfg.name}return""},enumerable:true,configurable:true});Object.defineProperty(CinemaConfig.prototype,"proportionString",{get:function(){var prop=Math.floor(this.proportion*100)+"%";return Games.TEXT.StreetCinemaInfo.format(this.num,prop)},enumerable:true,configurable:true});return CinemaConfig}(configs.CinemaConfigStruct));configs.CinemaConfig=CinemaConfig})(configs||(configs={}));var configs;(function(configs){var CityConfigStruct=(function(_super){__extends(CityConfigStruct,_super);function CityConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CityConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("city",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return CityConfigStruct}(configs.BaseConfig));configs.CityConfigStruct=CityConfigStruct})(configs||(configs={}));var configs;(function(configs){var CityConfig=(function(_super){__extends(CityConfig,_super);function CityConfig(){return _super!==null&&_super.apply(this,arguments)||this}CityConfig.prototype.GetStreetList=function(){var list=this.street_id;return list};Object.defineProperty(CityConfig.prototype,"Require",{get:function(){if(this._requireList==null){this._requireList=[];var list=[];if(this.envoy1_art!=0){list.push({type:Games.ActorRequireEnum.art,value:this.envoy1_art})}if(this.envoy1_entertainment!=0){list.push({type:Games.ActorRequireEnum.entertainment,value:this.envoy1_entertainment})}if(this.envoy1_performance!=0){list.push({type:Games.ActorRequireEnum.performance,value:this.envoy1_performance})}if(this.envoy1_plot!=0){list.push({type:Games.ActorRequireEnum.plot,value:this.envoy1_plot})}if(this.envoy1_scene!=0){list.push({type:Games.ActorRequireEnum.scene,value:this.envoy1_scene})}if(this.envoy1_sex!=0){list.push({type:Games.ActorRequireEnum.sex,value:this.envoy1_sex})}if(this.envoy1_age!=0){list.push({type:Games.ActorRequireEnum.age,value:this.envoy1_age})}if(this.envoy1_Continents!=0){list.push({type:Games.ActorRequireEnum.Continents,value:this.envoy1_Continents})}if(this.envoy1_type!=0){list.push({type:Games.ActorRequireEnum.type,value:this.envoy1_type})}this._requireList.push(list);list=[];if(this.envoy2_art!=0){list.push({type:Games.ActorRequireEnum.art,value:this.envoy2_art})}if(this.envoy2_entertainment!=0){list.push({type:Games.ActorRequireEnum.entertainment,value:this.envoy2_entertainment})}if(this.envoy2_performance!=0){list.push({type:Games.ActorRequireEnum.performance,value:this.envoy2_performance})}if(this.envoy2_plot!=0){list.push({type:Games.ActorRequireEnum.plot,value:this.envoy2_plot})}if(this.envoy2_scene!=0){list.push({type:Games.ActorRequireEnum.scene,value:this.envoy2_scene})}if(this.envoy2_sex!=0){list.push({type:Games.ActorRequireEnum.sex,value:this.envoy2_sex})}if(this.envoy2_age!=0){list.push({type:Games.ActorRequireEnum.age,value:this.envoy2_age})}if(this.envoy2_Continents!=0){list.push({type:Games.ActorRequireEnum.Continents,value:this.envoy2_Continents})}if(this.envoy2_type!=0){list.push({type:Games.ActorRequireEnum.type,value:this.envoy2_type})}this._requireList.push(list);list=[];if(this.envoy3_art!=0){list.push({type:Games.ActorRequireEnum.art,value:this.envoy3_art})}if(this.envoy3_entertainment!=0){list.push({type:Games.ActorRequireEnum.entertainment,value:this.envoy3_entertainment})}if(this.envoy3_performance!=0){list.push({type:Games.ActorRequireEnum.performance,value:this.envoy3_performance})}if(this.envoy3_plot!=0){list.push({type:Games.ActorRequireEnum.plot,value:this.envoy3_plot})}if(this.envoy3_scene!=0){list.push({type:Games.ActorRequireEnum.scene,value:this.envoy3_scene})}if(this.envoy3_sex!=0){list.push({type:Games.ActorRequireEnum.sex,value:this.envoy3_sex})}if(this.envoy3_age!=0){list.push({type:Games.ActorRequireEnum.age,value:this.envoy3_age})}if(this.envoy3_Continents!=0){list.push({type:Games.ActorRequireEnum.Continents,value:this.envoy3_Continents})}if(this.envoy3_type!=0){list.push({type:Games.ActorRequireEnum.type,value:this.envoy3_type})}this._requireList.push(list);list=[];if(this.envoy4_art!=0){list.push({type:Games.ActorRequireEnum.art,value:this.envoy4_art})}if(this.envoy4_entertainment!=0){list.push({type:Games.ActorRequireEnum.entertainment,value:this.envoy4_entertainment})}if(this.envoy4_performance!=0){list.push({type:Games.ActorRequireEnum.performance,value:this.envoy4_performance})}if(this.envoy4_plot!=0){list.push({type:Games.ActorRequireEnum.plot,value:this.envoy4_plot})}if(this.envoy4_scene!=0){list.push({type:Games.ActorRequireEnum.scene,value:this.envoy4_scene})}if(this.envoy4_sex!=0){list.push({type:Games.ActorRequireEnum.sex,value:this.envoy4_sex})}if(this.envoy4_age!=0){list.push({type:Games.ActorRequireEnum.age,value:this.envoy4_age})}if(this.envoy4_Continents!=0){list.push({type:Games.ActorRequireEnum.Continents,value:this.envoy4_Continents})}if(this.envoy4_type!=0){list.push({type:Games.ActorRequireEnum.type,value:this.envoy4_type})}this._requireList.push(list);list=[];if(this.envoy5_art!=0){list.push({type:Games.ActorRequireEnum.art,value:this.envoy5_art})}if(this.envoy5_entertainment!=0){list.push({type:Games.ActorRequireEnum.entertainment,value:this.envoy5_entertainment})}if(this.envoy5_performance!=0){list.push({type:Games.ActorRequireEnum.performance,value:this.envoy5_performance})}if(this.envoy5_plot!=0){list.push({type:Games.ActorRequireEnum.plot,value:this.envoy5_plot})}if(this.envoy5_scene!=0){list.push({type:Games.ActorRequireEnum.scene,value:this.envoy5_scene})}if(this.envoy5_sex!=0){list.push({type:Games.ActorRequireEnum.sex,value:this.envoy5_sex})}if(this.envoy5_age!=0){list.push({type:Games.ActorRequireEnum.age,value:this.envoy5_age})}if(this.envoy5_Continents!=0){list.push({type:Games.ActorRequireEnum.Continents,value:this.envoy5_Continents})}if(this.envoy5_type!=0){list.push({type:Games.ActorRequireEnum.type,value:this.envoy5_type})}this._requireList.push(list)}return this._requireList},enumerable:true,configurable:true});return CityConfig}(configs.CityConfigStruct));configs.CityConfig=CityConfig})(configs||(configs={}));var configs;(function(configs){var CityPopularizeConfigStruct=(function(_super){__extends(CityPopularizeConfigStruct,_super);function CityPopularizeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CityPopularizeConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("cityPopularize",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return CityPopularizeConfigStruct}(configs.BaseConfig));configs.CityPopularizeConfigStruct=CityPopularizeConfigStruct})(configs||(configs={}));var configs;(function(configs){var CityPopularizeConfig=(function(_super){__extends(CityPopularizeConfig,_super);function CityPopularizeConfig(){return _super!==null&&_super.apply(this,arguments)||this}return CityPopularizeConfig}(configs.CityPopularizeConfigStruct));configs.CityPopularizeConfig=CityPopularizeConfig})(configs||(configs={}));var configs;(function(configs){var CompleteConfigStruct=(function(_super){__extends(CompleteConfigStruct,_super);function CompleteConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return CompleteConfigStruct}(configs.BaseConfig));configs.CompleteConfigStruct=CompleteConfigStruct})(configs||(configs={}));configs.CompleteConfig=configs.CompleteConfigStruct;var configs;(function(configs){var CompoundConfigStruct=(function(_super){__extends(CompoundConfigStruct,_super);function CompoundConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return CompoundConfigStruct}(configs.BaseConfig));configs.CompoundConfigStruct=CompoundConfigStruct})(configs||(configs={}));var configs;(function(configs){var CompoundConfig=(function(_super){__extends(CompoundConfig,_super);function CompoundConfig(){return _super!==null&&_super.apply(this,arguments)||this}return CompoundConfig}(configs.CompoundConfigStruct));configs.CompoundConfig=CompoundConfig})(configs||(configs={}));var configs;(function(configs){var CooperateRewardConfigStruct=(function(_super){__extends(CooperateRewardConfigStruct,_super);function CooperateRewardConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return CooperateRewardConfigStruct}(configs.BaseConfig));configs.CooperateRewardConfigStruct=CooperateRewardConfigStruct})(configs||(configs={}));var configs;(function(configs){var CooperateRewardConfig=(function(_super){__extends(CooperateRewardConfig,_super);function CooperateRewardConfig(){return _super!==null&&_super.apply(this,arguments)||this}return CooperateRewardConfig}(configs.CooperateRewardConfigStruct));configs.CooperateRewardConfig=CooperateRewardConfig})(configs||(configs={}));var configs;(function(configs){var CooperateTaskConfigStruct=(function(_super){__extends(CooperateTaskConfigStruct,_super);function CooperateTaskConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return CooperateTaskConfigStruct}(configs.BaseConfig));configs.CooperateTaskConfigStruct=CooperateTaskConfigStruct})(configs||(configs={}));var configs;(function(configs){var CooperateTaskConfig=(function(_super){__extends(CooperateTaskConfig,_super);function CooperateTaskConfig(){return _super!==null&&_super.apply(this,arguments)||this}return CooperateTaskConfig}(configs.CooperateTaskConfigStruct));configs.CooperateTaskConfig=CooperateTaskConfig})(configs||(configs={}));var configs;(function(configs){var CountActivitiesConfigStruct=(function(_super){__extends(CountActivitiesConfigStruct,_super);function CountActivitiesConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return CountActivitiesConfigStruct}(configs.BaseConfig));configs.CountActivitiesConfigStruct=CountActivitiesConfigStruct})(configs||(configs={}));configs.CountActivitiesConfig=configs.CountActivitiesConfigStruct;var configs;(function(configs){var CountryConfigStruct=(function(_super){__extends(CountryConfigStruct,_super);function CountryConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CountryConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("country",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return CountryConfigStruct}(configs.BaseConfig));configs.CountryConfigStruct=CountryConfigStruct})(configs||(configs={}));var configs;(function(configs){var CountryConfig=(function(_super){__extends(CountryConfig,_super);function CountryConfig(){return _super!==null&&_super.apply(this,arguments)||this}return CountryConfig}(configs.CountryConfigStruct));configs.CountryConfig=CountryConfig})(configs||(configs={}));var configs;(function(configs){var DailySignConfigStruct=(function(_super){__extends(DailySignConfigStruct,_super);function DailySignConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return DailySignConfigStruct}(configs.BaseConfig));configs.DailySignConfigStruct=DailySignConfigStruct})(configs||(configs={}));var configs;(function(configs){var DailySignConfig=(function(_super){__extends(DailySignConfig,_super);function DailySignConfig(){return _super!==null&&_super.apply(this,arguments)||this}return DailySignConfig}(configs.DailySignConfigStruct));configs.DailySignConfig=DailySignConfig})(configs||(configs={}));var configs;(function(configs){var DailySignTrailerConfigStruct=(function(_super){__extends(DailySignTrailerConfigStruct,_super);function DailySignTrailerConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(DailySignTrailerConfigStruct.prototype,"info",{get:function(){var value=LangManager.Instance.getValue("dailySignTrailer",this.id,"info");if(!isNullOrEmpty(value)){return value}return this.zh_cn_info},enumerable:true,configurable:true});return DailySignTrailerConfigStruct}(configs.BaseConfig));configs.DailySignTrailerConfigStruct=DailySignTrailerConfigStruct})(configs||(configs={}));configs.DailySignTrailerConfig=configs.DailySignTrailerConfigStruct;var configs;(function(configs){var DialogueConfigStruct=(function(_super){__extends(DialogueConfigStruct,_super);function DialogueConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(DialogueConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("dialogue",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.zh_cn_content},enumerable:true,configurable:true});return DialogueConfigStruct}(configs.BaseConfig));configs.DialogueConfigStruct=DialogueConfigStruct})(configs||(configs={}));var configs;(function(configs){var DialogueConfig=(function(_super){__extends(DialogueConfig,_super);function DialogueConfig(){return _super!==null&&_super.apply(this,arguments)||this}return DialogueConfig}(configs.DialogueConfigStruct));configs.DialogueConfig=DialogueConfig})(configs||(configs={}));var configs;(function(configs){var DTActorCharacterStruct=(function(_super){__extends(DTActorCharacterStruct,_super);function DTActorCharacterStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTActorCharacterStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTActorCharacter();config.character=csvGetInt(csv,0);config.lv=csvGetInt(csv,1);config.property=csvGetInt(csv,2);return config};DTActorCharacterStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTActorCharacter.parse(csv[i]))}return list};return DTActorCharacterStruct}(configs.BaseConfig));configs.DTActorCharacterStruct=DTActorCharacterStruct})(configs||(configs={}));var configs;(function(configs){var DTActorCharacter=(function(_super){__extends(DTActorCharacter,_super);function DTActorCharacter(){return _super!==null&&_super.apply(this,arguments)||this}return DTActorCharacter}(configs.DTActorCharacterStruct));configs.DTActorCharacter=DTActorCharacter})(configs||(configs={}));var configs;(function(configs){var DTActorFeatureStruct=(function(_super){__extends(DTActorFeatureStruct,_super);function DTActorFeatureStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTActorFeatureStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTActorFeature();config.feature=csvGetInt(csv,0);config.lv=csvGetInt(csv,1);config.property=csvGetInt(csv,2);return config};DTActorFeatureStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTActorFeature.parse(csv[i]))}return list};return DTActorFeatureStruct}(configs.BaseConfig));configs.DTActorFeatureStruct=DTActorFeatureStruct})(configs||(configs={}));var configs;(function(configs){var DTActorFeature=(function(_super){__extends(DTActorFeature,_super);function DTActorFeature(){return _super!==null&&_super.apply(this,arguments)||this}return DTActorFeature}(configs.DTActorFeatureStruct));configs.DTActorFeature=DTActorFeature})(configs||(configs={}));var configs;(function(configs){var DTActorSkillStruct=(function(_super){__extends(DTActorSkillStruct,_super);function DTActorSkillStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTActorSkillStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTActorSkill();config.group_id=csvGetInt(csv,0);config.lv=csvGetInt(csv,1);return config};DTActorSkillStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTActorSkill.parse(csv[i]))}return list};return DTActorSkillStruct}(configs.BaseConfig));configs.DTActorSkillStruct=DTActorSkillStruct})(configs||(configs={}));var configs;(function(configs){var DTActorSkill=(function(_super){__extends(DTActorSkill,_super);function DTActorSkill(){return _super!==null&&_super.apply(this,arguments)||this}return DTActorSkill}(configs.DTActorSkillStruct));configs.DTActorSkill=DTActorSkill})(configs||(configs={}));var configs;(function(configs){var DTActorStoryStruct=(function(_super){__extends(DTActorStoryStruct,_super);function DTActorStoryStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTActorStoryStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTActorStory();config.story=csvGetInt(csv,0);config.lv=csvGetInt(csv,1);config.property=csvGetInt(csv,2);return config};DTActorStoryStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTActorStory.parse(csv[i]))}return list};return DTActorStoryStruct}(configs.BaseConfig));configs.DTActorStoryStruct=DTActorStoryStruct})(configs||(configs={}));var configs;(function(configs){var DTActorStory=(function(_super){__extends(DTActorStory,_super);function DTActorStory(){return _super!==null&&_super.apply(this,arguments)||this}return DTActorStory}(configs.DTActorStoryStruct));configs.DTActorStory=DTActorStory})(configs||(configs={}));var configs;(function(configs){var DTBuildingReqStruct=(function(_super){__extends(DTBuildingReqStruct,_super);function DTBuildingReqStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTBuildingReqStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTBuildingReq();config.type=csvGetInt(csv,0);config.level=csvGetInt(csv,1);return config};DTBuildingReqStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTBuildingReq.parse(csv[i]))}return list};return DTBuildingReqStruct}(configs.BaseConfig));configs.DTBuildingReqStruct=DTBuildingReqStruct})(configs||(configs={}));var configs;(function(configs){var DTBuildingReq=(function(_super){__extends(DTBuildingReq,_super);function DTBuildingReq(){return _super!==null&&_super.apply(this,arguments)||this}return DTBuildingReq}(configs.DTBuildingReqStruct));configs.DTBuildingReq=DTBuildingReq})(configs||(configs={}));var configs;(function(configs){var DTDropStruct=(function(_super){__extends(DTDropStruct,_super);function DTDropStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTDropStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTDrop();config.x=csvGetInt(csv,0);config.y=csvGetFloat(csv,1);return config};DTDropStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTDrop.parse(csv[i]))}return list};return DTDropStruct}(configs.BaseConfig));configs.DTDropStruct=DTDropStruct})(configs||(configs={}));configs.DTDrop=configs.DTDropStruct;var configs;(function(configs){var DTItemNumStruct=(function(_super){__extends(DTItemNumStruct,_super);function DTItemNumStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTItemNumStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTItemNum();config.itemId=csvGetInt(csv,0);config.itemNum=csvGetInt(csv,1);return config};DTItemNumStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTItemNum.parse(csv[i]))}return list};return DTItemNumStruct}(configs.BaseConfig));configs.DTItemNumStruct=DTItemNumStruct})(configs||(configs={}));var configs;(function(configs){var DTItemNum=(function(_super){__extends(DTItemNum,_super);function DTItemNum(){return _super!==null&&_super.apply(this,arguments)||this}DTItemNum.parse=function(txt){var csv=toStringArray(txt);if(csv.length<2){return null}var config=new DTItemNum();config.itemId=csvGetInt(csv,0);config.itemNum=csvGetInt(csv,1);return config};DTItemNum.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){var item=DTItemNum.parse(csv[i]);if(item){list.push(DTItemNum.parse(csv[i]))}}return list};Object.defineProperty(DTItemNum.prototype,"itemConfig",{get:function(){return Game.config.item.getConfig(this.itemId)},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemType",{get:function(){if(this.itemConfig){return this.itemConfig.type}return 0},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemName",{get:function(){if(this.itemConfig){return this.itemConfig.name}return this.itemId+"\u6CA1\u914D\u7F6E\u8BE5\u7269\u54C1"},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemDes",{get:function(){if(this.itemConfig){return this.itemConfig.item_des}return this.itemId+"\u6CA1\u914D\u7F6E\u8BE5\u7269\u54C1"},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemStar",{get:function(){if(this.itemConfig){var propertyCfg=Game.config.property.getConfig(this.itemConfig.star);if(propertyCfg){var star=Number(propertyCfg.zh_cn_name);if(star==null){console.log("Error Item Star");return 0}star=star<0?0:star;star=star>6?6:star;return star}}return 0},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemIconUrl",{get:function(){if(this.itemConfig){var avatarConfig=Game.config.avatar.getConfig(this.itemConfig.icon);if(avatarConfig){return avatarConfig.iconUrl}}return null},enumerable:true,configurable:true});Object.defineProperty(DTItemNum.prototype,"itemNumTxt",{get:function(){return formatNumberUnit(this.itemNum)},enumerable:true,configurable:true});return DTItemNum}(configs.DTItemNumStruct));configs.DTItemNum=DTItemNum})(configs||(configs={}));var configs;(function(configs){var DTlValue2Struct=(function(_super){__extends(DTlValue2Struct,_super);function DTlValue2Struct(){return _super!==null&&_super.apply(this,arguments)||this}DTlValue2Struct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTlValue2();config.v1=csvGetInt(csv,0);config.v2=csvGetInt(csv,1);return config};DTlValue2Struct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTlValue2.parse(csv[i]))}return list};return DTlValue2Struct}(configs.BaseConfig));configs.DTlValue2Struct=DTlValue2Struct})(configs||(configs={}));var configs;(function(configs){var DTlValue2=(function(_super){__extends(DTlValue2,_super);function DTlValue2(){return _super!==null&&_super.apply(this,arguments)||this}return DTlValue2}(configs.DTlValue2Struct));configs.DTlValue2=DTlValue2})(configs||(configs={}));var configs;(function(configs){var DTlValue3Struct=(function(_super){__extends(DTlValue3Struct,_super);function DTlValue3Struct(){return _super!==null&&_super.apply(this,arguments)||this}DTlValue3Struct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTlValue3();config.v1=csvGetInt(csv,0);config.v2=csvGetInt(csv,1);config.v3=csvGetInt(csv,2);return config};DTlValue3Struct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTlValue3.parse(csv[i]))}return list};return DTlValue3Struct}(configs.BaseConfig));configs.DTlValue3Struct=DTlValue3Struct})(configs||(configs={}));var configs;(function(configs){var DTlValue3=(function(_super){__extends(DTlValue3,_super);function DTlValue3(){return _super!==null&&_super.apply(this,arguments)||this}return DTlValue3}(configs.DTlValue3Struct));configs.DTlValue3=DTlValue3})(configs||(configs={}));var configs;(function(configs){var DTPartsStruct=(function(_super){__extends(DTPartsStruct,_super);function DTPartsStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTPartsStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTParts();config.v1=csvGetString(csv,0);config.v2=csvGetString(csv,1);return config};DTPartsStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTParts.parse(csv[i]))}return list};return DTPartsStruct}(configs.BaseConfig));configs.DTPartsStruct=DTPartsStruct})(configs||(configs={}));configs.DTParts=configs.DTPartsStruct;var configs;(function(configs){var DTPerformActoinStruct=(function(_super){__extends(DTPerformActoinStruct,_super);function DTPerformActoinStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTPerformActoinStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTPerformActoin();config.v1=csvGetInt(csv,0);config.v2=csvGetInt(csv,1);config.v3=csvGetInt(csv,2);return config};DTPerformActoinStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTPerformActoin.parse(csv[i]))}return list};return DTPerformActoinStruct}(configs.BaseConfig));configs.DTPerformActoinStruct=DTPerformActoinStruct})(configs||(configs={}));configs.DTPerformActoin=configs.DTPerformActoinStruct;var configs;(function(configs){var DTPerformSpeakStruct=(function(_super){__extends(DTPerformSpeakStruct,_super);function DTPerformSpeakStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTPerformSpeakStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTPerformSpeak();config.v1=csvGetInt(csv,0);config.v2=csvGetInt(csv,1);config.v3=csvGetInt(csv,2);return config};DTPerformSpeakStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTPerformSpeak.parse(csv[i]))}return list};return DTPerformSpeakStruct}(configs.BaseConfig));configs.DTPerformSpeakStruct=DTPerformSpeakStruct})(configs||(configs={}));configs.DTPerformSpeak=configs.DTPerformSpeakStruct;var configs;(function(configs){var DTProficiencyStruct=(function(_super){__extends(DTProficiencyStruct,_super);function DTProficiencyStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTProficiencyStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTProficiency();config.v1=csvGetInt(csv,0);config.v2=csvGetInt(csv,1);return config};DTProficiencyStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTProficiency.parse(csv[i]))}return list};return DTProficiencyStruct}(configs.BaseConfig));configs.DTProficiencyStruct=DTProficiencyStruct})(configs||(configs={}));configs.DTProficiency=configs.DTProficiencyStruct;var configs;(function(configs){var DTRandomIntervalStruct=(function(_super){__extends(DTRandomIntervalStruct,_super);function DTRandomIntervalStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTRandomIntervalStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTRandomInterval();config.num1=csvGetInt(csv,0);config.num2=csvGetInt(csv,1);return config};DTRandomIntervalStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTRandomInterval.parse(csv[i]))}return list};return DTRandomIntervalStruct}(configs.BaseConfig));configs.DTRandomIntervalStruct=DTRandomIntervalStruct})(configs||(configs={}));var configs;(function(configs){var DTRandomInterval=(function(_super){__extends(DTRandomInterval,_super);function DTRandomInterval(){return _super!==null&&_super.apply(this,arguments)||this}return DTRandomInterval}(configs.DTRandomIntervalStruct));configs.DTRandomInterval=DTRandomInterval})(configs||(configs={}));var configs;(function(configs){var DTShootTypeStruct=(function(_super){__extends(DTShootTypeStruct,_super);function DTShootTypeStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTShootTypeStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTShootType();config.shoottypeid=csvGetInt(csv,0);config.rate=csvGetInt(csv,1);return config};DTShootTypeStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTShootType.parse(csv[i]))}return list};return DTShootTypeStruct}(configs.BaseConfig));configs.DTShootTypeStruct=DTShootTypeStruct})(configs||(configs={}));var configs;(function(configs){var DTShootType=(function(_super){__extends(DTShootType,_super);function DTShootType(){return _super!==null&&_super.apply(this,arguments)||this}return DTShootType}(configs.DTShootTypeStruct));configs.DTShootType=DTShootType})(configs||(configs={}));var configs;(function(configs){var DTStoryEffectStruct=(function(_super){__extends(DTStoryEffectStruct,_super);function DTStoryEffectStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTStoryEffectStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTStoryEffect();config.storyeffect=csvGetInt(csv,0);config.rate=csvGetInt(csv,1);return config};DTStoryEffectStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTStoryEffect.parse(csv[i]))}return list};return DTStoryEffectStruct}(configs.BaseConfig));configs.DTStoryEffectStruct=DTStoryEffectStruct})(configs||(configs={}));var configs;(function(configs){var DTStoryEffect=(function(_super){__extends(DTStoryEffect,_super);function DTStoryEffect(){return _super!==null&&_super.apply(this,arguments)||this}return DTStoryEffect}(configs.DTStoryEffectStruct));configs.DTStoryEffect=DTStoryEffect})(configs||(configs={}));var configs;(function(configs){var DTStoryNumStruct=(function(_super){__extends(DTStoryNumStruct,_super);function DTStoryNumStruct(){return _super!==null&&_super.apply(this,arguments)||this}DTStoryNumStruct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTStoryNum();config.star=csvGetInt(csv,0);config.num=csvGetInt(csv,1);return config};DTStoryNumStruct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTStoryNum.parse(csv[i]))}return list};return DTStoryNumStruct}(configs.BaseConfig));configs.DTStoryNumStruct=DTStoryNumStruct})(configs||(configs={}));var configs;(function(configs){var DTStoryNum=(function(_super){__extends(DTStoryNum,_super);function DTStoryNum(){return _super!==null&&_super.apply(this,arguments)||this}return DTStoryNum}(configs.DTStoryNumStruct));configs.DTStoryNum=DTStoryNum})(configs||(configs={}));var configs;(function(configs){var DTVector2Struct=(function(_super){__extends(DTVector2Struct,_super);function DTVector2Struct(){return _super!==null&&_super.apply(this,arguments)||this}DTVector2Struct.parse=function(txt){var csv=toStringArray(txt);var config=new configs.DTVector2();config.x=csvGetFloat(csv,0);config.y=csvGetFloat(csv,1);return config};DTVector2Struct.parseArray=function(txt){var csv=toStringArray(txt,/[;]/);var list=[];for(var i=0;i<csv.length;i++){list.push(configs.DTVector2.parse(csv[i]))}return list};return DTVector2Struct}(configs.BaseConfig));configs.DTVector2Struct=DTVector2Struct})(configs||(configs={}));var configs;(function(configs){var DTVector2=(function(_super){__extends(DTVector2,_super);function DTVector2(){return _super!==null&&_super.apply(this,arguments)||this}return DTVector2}(configs.DTVector2Struct));configs.DTVector2=DTVector2})(configs||(configs={}));var configs;(function(configs){var EventConfigStruct=(function(_super){__extends(EventConfigStruct,_super);function EventConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return EventConfigStruct}(configs.BaseConfig));configs.EventConfigStruct=EventConfigStruct})(configs||(configs={}));configs.EventConfig=configs.EventConfigStruct;var configs;(function(configs){var FloorConfigStruct=(function(_super){__extends(FloorConfigStruct,_super);function FloorConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(FloorConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("floor",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return FloorConfigStruct}(configs.BaseConfig));configs.FloorConfigStruct=FloorConfigStruct})(configs||(configs={}));var configs;(function(configs){var FloorConfig=(function(_super){__extends(FloorConfig,_super);function FloorConfig(){return _super!==null&&_super.apply(this,arguments)||this}return FloorConfig}(configs.FloorConfigStruct));configs.FloorConfig=FloorConfig})(configs||(configs={}));var configs;(function(configs){var GameLevelConfigStruct=(function(_super){__extends(GameLevelConfigStruct,_super);function GameLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(GameLevelConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("gameLevel",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return GameLevelConfigStruct}(configs.BaseConfig));configs.GameLevelConfigStruct=GameLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var GameLevelConfig=(function(_super){__extends(GameLevelConfig,_super);function GameLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}return GameLevelConfig}(configs.GameLevelConfigStruct));configs.GameLevelConfig=GameLevelConfig})(configs||(configs={}));var configs;(function(configs){var GameRandomNameConfigStruct=(function(_super){__extends(GameRandomNameConfigStruct,_super);function GameRandomNameConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(GameRandomNameConfigStruct.prototype,"names",{get:function(){var value=LangManager.Instance.getValue("gameRandomName",this.id,"names");if(!isNullOrEmpty(value)){return value}return this.zh_cn_names},enumerable:true,configurable:true});return GameRandomNameConfigStruct}(configs.BaseConfig));configs.GameRandomNameConfigStruct=GameRandomNameConfigStruct})(configs||(configs={}));var configs;(function(configs){var GameRandomNameConfig=(function(_super){__extends(GameRandomNameConfig,_super);function GameRandomNameConfig(){return _super!==null&&_super.apply(this,arguments)||this}return GameRandomNameConfig}(configs.GameRandomNameConfigStruct));configs.GameRandomNameConfig=GameRandomNameConfig})(configs||(configs={}));var configs;(function(configs){var GiftPackageConfigStruct=(function(_super){__extends(GiftPackageConfigStruct,_super);function GiftPackageConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return GiftPackageConfigStruct}(configs.BaseConfig));configs.GiftPackageConfigStruct=GiftPackageConfigStruct})(configs||(configs={}));var configs;(function(configs){var GiftPackageConfig=(function(_super){__extends(GiftPackageConfig,_super);function GiftPackageConfig(){return _super!==null&&_super.apply(this,arguments)||this}return GiftPackageConfig}(configs.GiftPackageConfigStruct));configs.GiftPackageConfig=GiftPackageConfig})(configs||(configs={}));var configs;(function(configs){var GlobalConfigStruct=(function(_super){__extends(GlobalConfigStruct,_super);function GlobalConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return GlobalConfigStruct}(configs.BaseConfig));configs.GlobalConfigStruct=GlobalConfigStruct})(configs||(configs={}));var configs;(function(configs){var GlobalConfig=(function(_super){__extends(GlobalConfig,_super);function GlobalConfig(){return _super!==null&&_super.apply(this,arguments)||this}GlobalConfig.getConfig=function(key){return Game.config.global.getConfig(key)};GlobalConfig.getValue=function(key){var config=GlobalConfig.getConfig(key);if(config){return config.value}return 0};GlobalConfig.getValue1=function(key){var config=GlobalConfig.getConfig(key);if(config){return config.value1}return[]};GlobalConfig.getValue2=function(key){var config=GlobalConfig.getConfig(key);if(config){return config.value2}return[]};GlobalConfig.getValue3=function(key){var config=GlobalConfig.getConfig(key);if(config){return config.value3}return[]};GlobalConfig.getValue4=function(key){var config=GlobalConfig.getConfig(key);if(config){return config.value4}return""};return GlobalConfig}(configs.GlobalConfigStruct));configs.GlobalConfig=GlobalConfig})(configs||(configs={}));var configs;(function(configs){var GuidePathConfigStruct=(function(_super){__extends(GuidePathConfigStruct,_super);function GuidePathConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return GuidePathConfigStruct}(configs.BaseConfig));configs.GuidePathConfigStruct=GuidePathConfigStruct})(configs||(configs={}));configs.GuidePathConfig=configs.GuidePathConfigStruct;var configs;(function(configs){var GuidesystemConfigStruct=(function(_super){__extends(GuidesystemConfigStruct,_super);function GuidesystemConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(GuidesystemConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("guidesystem",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.cn_content},enumerable:true,configurable:true});return GuidesystemConfigStruct}(configs.BaseConfig));configs.GuidesystemConfigStruct=GuidesystemConfigStruct})(configs||(configs={}));var configs;(function(configs){var GuidesystemConfig=(function(_super){__extends(GuidesystemConfig,_super);function GuidesystemConfig(){return _super!==null&&_super.apply(this,arguments)||this}return GuidesystemConfig}(configs.GuidesystemConfigStruct));configs.GuidesystemConfig=GuidesystemConfig})(configs||(configs={}));var configs;(function(configs){var HeadPortraitConfigStruct=(function(_super){__extends(HeadPortraitConfigStruct,_super);function HeadPortraitConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(HeadPortraitConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("headPortrait",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return HeadPortraitConfigStruct}(configs.BaseConfig));configs.HeadPortraitConfigStruct=HeadPortraitConfigStruct})(configs||(configs={}));var configs;(function(configs){var HeadPortraitConfig=(function(_super){__extends(HeadPortraitConfig,_super);function HeadPortraitConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(HeadPortraitConfig.prototype,"iconUrl",{get:function(){var avatarConfig=Game.config.avatar.getConfig(this.icon);if(avatarConfig){return avatarConfig.iconUrl}},enumerable:true,configurable:true});return HeadPortraitConfig}(configs.HeadPortraitConfigStruct));configs.HeadPortraitConfig=HeadPortraitConfig})(configs||(configs={}));var configs;(function(configs){var InitialActorConfigStruct=(function(_super){__extends(InitialActorConfigStruct,_super);function InitialActorConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return InitialActorConfigStruct}(configs.BaseConfig));configs.InitialActorConfigStruct=InitialActorConfigStruct})(configs||(configs={}));configs.InitialActorConfig=configs.InitialActorConfigStruct;var configs;(function(configs){var ItemConfigStruct=(function(_super){__extends(ItemConfigStruct,_super);function ItemConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ItemConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("item",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(ItemConfigStruct.prototype,"item_des",{get:function(){var value=LangManager.Instance.getValue("item",this.id,"item_des");if(!isNullOrEmpty(value)){return value}return this.zh_cn_item_des},enumerable:true,configurable:true});Object.defineProperty(ItemConfigStruct.prototype,"get_way_explain",{get:function(){var value=LangManager.Instance.getValue("item",this.id,"get_way_explain");if(!isNullOrEmpty(value)){return value}return this.zh_cn_get_way_explain},enumerable:true,configurable:true});return ItemConfigStruct}(configs.BaseConfig));configs.ItemConfigStruct=ItemConfigStruct})(configs||(configs={}));var configs;(function(configs){var ItemConfig=(function(_super){__extends(ItemConfig,_super);function ItemConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ItemConfig.prototype,"avatarConfig",{get:function(){return Game.config.avatar.getConfig(this.icon)},enumerable:true,configurable:true});Object.defineProperty(ItemConfig.prototype,"iconUrl",{get:function(){if(this.avatarConfig){if(this.type==7){return this.avatarConfig.bodyIconUrl}return this.avatarConfig.iconUrl}return""},enumerable:true,configurable:true});Object.defineProperty(ItemConfig.prototype,"itemStarNum",{get:function(){var propertyCfg=Game.config.property.getConfig(this.star);if(propertyCfg){var star=Number(propertyCfg.zh_cn_name);if(star==null){console.log("Error Item Star");return 0}star=star<0?0:star;star=star>6?6:star;return star}return 0},enumerable:true,configurable:true});return ItemConfig}(configs.ItemConfigStruct));configs.ItemConfig=ItemConfig})(configs||(configs={}));var configs;(function(configs){var LanguageTypeConfigStruct=(function(_super){__extends(LanguageTypeConfigStruct,_super);function LanguageTypeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return LanguageTypeConfigStruct}(configs.BaseConfig));configs.LanguageTypeConfigStruct=LanguageTypeConfigStruct})(configs||(configs={}));configs.LanguageTypeConfig=configs.LanguageTypeConfigStruct;var configs;(function(configs){var LoaderConfigStruct=(function(_super){__extends(LoaderConfigStruct,_super);function LoaderConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return LoaderConfigStruct}(configs.BaseConfig));configs.LoaderConfigStruct=LoaderConfigStruct})(configs||(configs={}));var configs;(function(configs){var LoaderConfig=(function(_super){__extends(LoaderConfig,_super);function LoaderConfig(){return _super!==null&&_super.apply(this,arguments)||this}return LoaderConfig}(configs.LoaderConfigStruct));configs.LoaderConfig=LoaderConfig})(configs||(configs={}));var configs;(function(configs){var LoadingConfigStruct=(function(_super){__extends(LoadingConfigStruct,_super);function LoadingConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return LoadingConfigStruct}(configs.BaseConfig));configs.LoadingConfigStruct=LoadingConfigStruct})(configs||(configs={}));var configs;(function(configs){var LoadingConfig=(function(_super){__extends(LoadingConfig,_super);function LoadingConfig(){return _super!==null&&_super.apply(this,arguments)||this}return LoadingConfig}(configs.LoadingConfigStruct));configs.LoadingConfig=LoadingConfig})(configs||(configs={}));var configs;(function(configs){var MailConfigStruct=(function(_super){__extends(MailConfigStruct,_super);function MailConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MailConfigStruct.prototype,"title",{get:function(){var value=LangManager.Instance.getValue("mail",this.id,"title");if(!isNullOrEmpty(value)){return value}return this.zh_cn_title},enumerable:true,configurable:true});Object.defineProperty(MailConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("mail",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.zh_cn_content},enumerable:true,configurable:true});return MailConfigStruct}(configs.BaseConfig));configs.MailConfigStruct=MailConfigStruct})(configs||(configs={}));var configs;(function(configs){var MailConfig=(function(_super){__extends(MailConfig,_super);function MailConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MailConfig}(configs.MailConfigStruct));configs.MailConfig=MailConfig})(configs||(configs={}));var configs;(function(configs){var MaintaskConfigStruct=(function(_super){__extends(MaintaskConfigStruct,_super);function MaintaskConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MaintaskConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("maintask",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});Object.defineProperty(MaintaskConfigStruct.prototype,"info",{get:function(){var value=LangManager.Instance.getValue("maintask",this.id,"info");if(!isNullOrEmpty(value)){return value}return this.cn_info},enumerable:true,configurable:true});Object.defineProperty(MaintaskConfigStruct.prototype,"cinfo",{get:function(){var value=LangManager.Instance.getValue("maintask",this.id,"cinfo");if(!isNullOrEmpty(value)){return value}return this.cn_cinfo},enumerable:true,configurable:true});Object.defineProperty(MaintaskConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("maintask",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.cn_content},enumerable:true,configurable:true});return MaintaskConfigStruct}(configs.BaseConfig));configs.MaintaskConfigStruct=MaintaskConfigStruct})(configs||(configs={}));var configs;(function(configs){var MaintaskConfig=(function(_super){__extends(MaintaskConfig,_super);function MaintaskConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MaintaskConfig}(configs.MaintaskConfigStruct));configs.MaintaskConfig=MaintaskConfig})(configs||(configs={}));var configs;(function(configs){var MediaVisitConfigStruct=(function(_super){__extends(MediaVisitConfigStruct,_super);function MediaVisitConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MediaVisitConfigStruct}(configs.BaseConfig));configs.MediaVisitConfigStruct=MediaVisitConfigStruct})(configs||(configs={}));var configs;(function(configs){var MediaVisitConfig=(function(_super){__extends(MediaVisitConfig,_super);function MediaVisitConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MediaVisitConfig}(configs.MediaVisitConfigStruct));configs.MediaVisitConfig=MediaVisitConfig})(configs||(configs={}));var configs;(function(configs){var MeetingConfigStruct=(function(_super){__extends(MeetingConfigStruct,_super);function MeetingConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingConfigStruct}(configs.BaseConfig));configs.MeetingConfigStruct=MeetingConfigStruct})(configs||(configs={}));var configs;(function(configs){var MeetingConfig=(function(_super){__extends(MeetingConfig,_super);function MeetingConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingConfig}(configs.MeetingConfigStruct));configs.MeetingConfig=MeetingConfig})(configs||(configs={}));var configs;(function(configs){var MeetingGameConfigStruct=(function(_super){__extends(MeetingGameConfigStruct,_super);function MeetingGameConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MeetingGameConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("meetingGame",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return MeetingGameConfigStruct}(configs.BaseConfig));configs.MeetingGameConfigStruct=MeetingGameConfigStruct})(configs||(configs={}));var configs;(function(configs){var MeetingGameConfig=(function(_super){__extends(MeetingGameConfig,_super);function MeetingGameConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingGameConfig}(configs.MeetingGameConfigStruct));configs.MeetingGameConfig=MeetingGameConfig})(configs||(configs={}));var configs;(function(configs){var MeetingRewardsConfigStruct=(function(_super){__extends(MeetingRewardsConfigStruct,_super);function MeetingRewardsConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingRewardsConfigStruct}(configs.BaseConfig));configs.MeetingRewardsConfigStruct=MeetingRewardsConfigStruct})(configs||(configs={}));var configs;(function(configs){var MeetingRewardsConfig=(function(_super){__extends(MeetingRewardsConfig,_super);function MeetingRewardsConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingRewardsConfig}(configs.MeetingRewardsConfigStruct));configs.MeetingRewardsConfig=MeetingRewardsConfig})(configs||(configs={}));var configs;(function(configs){var MeetingTextConfigStruct=(function(_super){__extends(MeetingTextConfigStruct,_super);function MeetingTextConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MeetingTextConfigStruct.prototype,"text",{get:function(){return this.zh_cn_text},enumerable:true,configurable:true});return MeetingTextConfigStruct}(configs.BaseConfig));configs.MeetingTextConfigStruct=MeetingTextConfigStruct})(configs||(configs={}));var configs;(function(configs){var MeetingTextConfig=(function(_super){__extends(MeetingTextConfig,_super);function MeetingTextConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingTextConfig}(configs.MeetingTextConfigStruct));configs.MeetingTextConfig=MeetingTextConfig})(configs||(configs={}));var configs;(function(configs){var MenuConfigStruct=(function(_super){__extends(MenuConfigStruct,_super);function MenuConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MenuConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("menu",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return MenuConfigStruct}(configs.BaseConfig));configs.MenuConfigStruct=MenuConfigStruct})(configs||(configs={}));var MenuId=Games.MenuId;var MenuLayerType=Games.MenuLayerType;var MenuCloseOtherType=Games.MenuCloseOtherType;var LoaderId=Games.LoaderId;var configs;(function(configs){var MenuConfig=(function(_super){__extends(MenuConfig,_super);function MenuConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MenuConfig.prototype,"menuId",{get:function(){return this.id},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"menuLayer",{get:function(){return this.layer},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"menuCloseOtherType",{get:function(){return this.closeOtherType},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"menuLoaderId",{get:function(){return this.loaderId},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"iconUrl",{get:function(){var avatarConfig=Game.config.avatar.getConfig(this.icon);if(avatarConfig){return avatarConfig.iconUrl}else{return""}},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"isUnlock",{get:function(){return Games.MenuValidateUnlock.getInstance().validate(this.menuId)},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"lockText",{get:function(){var unlockConfig=Game.config.unlock.getConfig(this.menuId);if(unlockConfig){return unlockConfig.touch_txt}return Games.TEXT.Lock},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"lockVisiable",{get:function(){var unlockConfig=Game.config.unlock.getConfig(this.menuId);if(unlockConfig){return unlockConfig.icon_type==1}return true},enumerable:true,configurable:true});Object.defineProperty(MenuConfig.prototype,"enableOpen",{get:function(){return Games.MenuValidateEnableOpen.getInstance().validate(this.menuId)},enumerable:true,configurable:true});MenuConfig.prototype.openMenu=function(){if(this.menuId<MenuId.SubMenuButtonBegin){if(!this.isUnlock){Game.system.toastText(this.lockText);return false}if(!Games.MenuWindows.get(this.menuId)){Game.system.toastText(Games.TEXT.Disable);return false}if(this.enableOpen){Game.menu.open(this.menuId);return true}}return false};return MenuConfig}(configs.MenuConfigStruct));configs.MenuConfig=MenuConfig})(configs||(configs={}));var configs;(function(configs){var MenuIndexConfigStruct=(function(_super){__extends(MenuIndexConfigStruct,_super);function MenuIndexConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MenuIndexConfigStruct}(configs.BaseConfig));configs.MenuIndexConfigStruct=MenuIndexConfigStruct})(configs||(configs={}));configs.MenuIndexConfig=configs.MenuIndexConfigStruct;var configs;(function(configs){var MonthCardConfigStruct=(function(_super){__extends(MonthCardConfigStruct,_super);function MonthCardConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MonthCardConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("monthCard",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return MonthCardConfigStruct}(configs.BaseConfig));configs.MonthCardConfigStruct=MonthCardConfigStruct})(configs||(configs={}));configs.MonthCardConfig=configs.MonthCardConfigStruct;var configs;(function(configs){var MovieAdaptationMsgConfigStruct=(function(_super){__extends(MovieAdaptationMsgConfigStruct,_super);function MovieAdaptationMsgConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieAdaptationMsgConfigStruct.prototype,"msg",{get:function(){var value=LangManager.Instance.getValue("movieAdaptationMsg",this.id,"msg");if(!isNullOrEmpty(value)){return value}return this.zh_cn_msg},enumerable:true,configurable:true});return MovieAdaptationMsgConfigStruct}(configs.BaseConfig));configs.MovieAdaptationMsgConfigStruct=MovieAdaptationMsgConfigStruct})(configs||(configs={}));configs.MovieAdaptationMsgConfig=configs.MovieAdaptationMsgConfigStruct;var configs;(function(configs){var MovieAudienceEvaluationConfigStruct=(function(_super){__extends(MovieAudienceEvaluationConfigStruct,_super);function MovieAudienceEvaluationConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieAudienceEvaluationConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieAudienceEvaluation",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(MovieAudienceEvaluationConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("movieAudienceEvaluation",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.zh_cn_content},enumerable:true,configurable:true});return MovieAudienceEvaluationConfigStruct}(configs.BaseConfig));configs.MovieAudienceEvaluationConfigStruct=MovieAudienceEvaluationConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieAudienceEvaluationConfig=(function(_super){__extends(MovieAudienceEvaluationConfig,_super);function MovieAudienceEvaluationConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieAudienceEvaluationConfig}(configs.MovieAudienceEvaluationConfigStruct));configs.MovieAudienceEvaluationConfig=MovieAudienceEvaluationConfig})(configs||(configs={}));var configs;(function(configs){var MovieDailyRewardConfigStruct=(function(_super){__extends(MovieDailyRewardConfigStruct,_super);function MovieDailyRewardConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MovieDailyRewardConfigStruct}(configs.BaseConfig));configs.MovieDailyRewardConfigStruct=MovieDailyRewardConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieDailyRewardConfig=(function(_super){__extends(MovieDailyRewardConfig,_super);function MovieDailyRewardConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieDailyRewardConfig}(configs.MovieDailyRewardConfigStruct));configs.MovieDailyRewardConfig=MovieDailyRewardConfig})(configs||(configs={}));var configs;(function(configs){var MovieDropConfigStruct=(function(_super){__extends(MovieDropConfigStruct,_super);function MovieDropConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieDropConfigStruct.prototype,"gain_name",{get:function(){var value=LangManager.Instance.getValue("movieDrop",this.id,"gain_name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_gain_name},enumerable:true,configurable:true});Object.defineProperty(MovieDropConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieDrop",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return MovieDropConfigStruct}(configs.BaseConfig));configs.MovieDropConfigStruct=MovieDropConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieDropConfig=(function(_super){__extends(MovieDropConfig,_super);function MovieDropConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieDropConfig}(configs.MovieDropConfigStruct));configs.MovieDropConfig=MovieDropConfig})(configs||(configs={}));var configs;(function(configs){var MovieExpectConfigStruct=(function(_super){__extends(MovieExpectConfigStruct,_super);function MovieExpectConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieExpectConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieExpect",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(MovieExpectConfigStruct.prototype,"pic_word",{get:function(){var value=LangManager.Instance.getValue("movieExpect",this.id,"pic_word");if(!isNullOrEmpty(value)){return value}return this.zh_cn_pic_word},enumerable:true,configurable:true});return MovieExpectConfigStruct}(configs.BaseConfig));configs.MovieExpectConfigStruct=MovieExpectConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieExpectConfig=(function(_super){__extends(MovieExpectConfig,_super);function MovieExpectConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieExpectConfig}(configs.MovieExpectConfigStruct));configs.MovieExpectConfig=MovieExpectConfig})(configs||(configs={}));var configs;(function(configs){var MovieLicenceConfigStruct=(function(_super){__extends(MovieLicenceConfigStruct,_super);function MovieLicenceConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MovieLicenceConfigStruct}(configs.BaseConfig));configs.MovieLicenceConfigStruct=MovieLicenceConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieLicenceConfig=(function(_super){__extends(MovieLicenceConfig,_super);function MovieLicenceConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieLicenceConfig}(configs.MovieLicenceConfigStruct));configs.MovieLicenceConfig=MovieLicenceConfig})(configs||(configs={}));var configs;(function(configs){var MovieMediaVisitConfigStruct=(function(_super){__extends(MovieMediaVisitConfigStruct,_super);function MovieMediaVisitConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieMediaVisitConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieMediaVisit",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return MovieMediaVisitConfigStruct}(configs.BaseConfig));configs.MovieMediaVisitConfigStruct=MovieMediaVisitConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieMediaVisitConfig=(function(_super){__extends(MovieMediaVisitConfig,_super);function MovieMediaVisitConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieMediaVisitConfig}(configs.MovieMediaVisitConfigStruct));configs.MovieMediaVisitConfig=MovieMediaVisitConfig})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationConfigStruct=(function(_super){__extends(MovieMidiaEvaluationConfigStruct,_super);function MovieMidiaEvaluationConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieMidiaEvaluationConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieMidiaEvaluation",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(MovieMidiaEvaluationConfigStruct.prototype,"commentators",{get:function(){var value=LangManager.Instance.getValue("movieMidiaEvaluation",this.id,"commentators");if(!isNullOrEmpty(value)){return value}return this.zh_cn_commentators},enumerable:true,configurable:true});Object.defineProperty(MovieMidiaEvaluationConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("movieMidiaEvaluation",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.zh_cn_content},enumerable:true,configurable:true});return MovieMidiaEvaluationConfigStruct}(configs.BaseConfig));configs.MovieMidiaEvaluationConfigStruct=MovieMidiaEvaluationConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationConfig=(function(_super){__extends(MovieMidiaEvaluationConfig,_super);function MovieMidiaEvaluationConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieMidiaEvaluationConfig}(configs.MovieMidiaEvaluationConfigStruct));configs.MovieMidiaEvaluationConfig=MovieMidiaEvaluationConfig})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationMsgConfigStruct=(function(_super){__extends(MovieMidiaEvaluationMsgConfigStruct,_super);function MovieMidiaEvaluationMsgConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieMidiaEvaluationMsgConfigStruct.prototype,"msg",{get:function(){var value=LangManager.Instance.getValue("movieMidiaEvaluationMsg",this.id,"msg");if(!isNullOrEmpty(value)){return value}return this.zh_cn_msg},enumerable:true,configurable:true});return MovieMidiaEvaluationMsgConfigStruct}(configs.BaseConfig));configs.MovieMidiaEvaluationMsgConfigStruct=MovieMidiaEvaluationMsgConfigStruct})(configs||(configs={}));configs.MovieMidiaEvaluationMsgConfig=configs.MovieMidiaEvaluationMsgConfigStruct;var configs;(function(configs){var MoviePopularizeConfigStruct=(function(_super){__extends(MoviePopularizeConfigStruct,_super);function MoviePopularizeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MoviePopularizeConfigStruct}(configs.BaseConfig));configs.MoviePopularizeConfigStruct=MoviePopularizeConfigStruct})(configs||(configs={}));var configs;(function(configs){var MoviePopularizeConfig=(function(_super){__extends(MoviePopularizeConfig,_super);function MoviePopularizeConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MoviePopularizeConfig}(configs.MoviePopularizeConfigStruct));configs.MoviePopularizeConfig=MoviePopularizeConfig})(configs||(configs={}));var configs;(function(configs){var MovieRandomNameConfigStruct=(function(_super){__extends(MovieRandomNameConfigStruct,_super);function MovieRandomNameConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return MovieRandomNameConfigStruct}(configs.BaseConfig));configs.MovieRandomNameConfigStruct=MovieRandomNameConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieRandomNameConfig=(function(_super){__extends(MovieRandomNameConfig,_super);function MovieRandomNameConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MovieRandomNameConfig}(configs.MovieRandomNameConfigStruct));configs.MovieRandomNameConfig=MovieRandomNameConfig})(configs||(configs={}));var configs;(function(configs){var MovieShootTypeConfigStruct=(function(_super){__extends(MovieShootTypeConfigStruct,_super);function MovieShootTypeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieShootTypeConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("movieShootType",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(MovieShootTypeConfigStruct.prototype,"type_des",{get:function(){var value=LangManager.Instance.getValue("movieShootType",this.id,"type_des");if(!isNullOrEmpty(value)){return value}return this.zh_cn_type_des},enumerable:true,configurable:true});return MovieShootTypeConfigStruct}(configs.BaseConfig));configs.MovieShootTypeConfigStruct=MovieShootTypeConfigStruct})(configs||(configs={}));var configs;(function(configs){var MovieShootTypeConfig=(function(_super){__extends(MovieShootTypeConfig,_super);function MovieShootTypeConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MovieShootTypeConfig.prototype,"getName",{get:function(){return this.name},enumerable:true,configurable:true});Object.defineProperty(MovieShootTypeConfig.prototype,"getLove",{get:function(){return this.type_des},enumerable:true,configurable:true});Object.defineProperty(MovieShootTypeConfig.prototype,"rewardItem",{get:function(){return this.item_id},enumerable:true,configurable:true});return MovieShootTypeConfig}(configs.MovieShootTypeConfigStruct));configs.MovieShootTypeConfig=MovieShootTypeConfig})(configs||(configs={}));var configs;(function(configs){var MsgConfigStruct=(function(_super){__extends(MsgConfigStruct,_super);function MsgConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MsgConfigStruct.prototype,"notice",{get:function(){var value=LangManager.Instance.getValue("msg",this.id,"notice");if(!isNullOrEmpty(value)){return value}return this.zh_cn_notice},enumerable:true,configurable:true});return MsgConfigStruct}(configs.BaseConfig));configs.MsgConfigStruct=MsgConfigStruct})(configs||(configs={}));var configs;(function(configs){var MsgConfig=(function(_super){__extends(MsgConfig,_super);function MsgConfig(){return _super!==null&&_super.apply(this,arguments)||this}return MsgConfig}(configs.MsgConfigStruct));configs.MsgConfig=MsgConfig})(configs||(configs={}));var configs;(function(configs){var MsgProtoErrorConfigStruct=(function(_super){__extends(MsgProtoErrorConfigStruct,_super);function MsgProtoErrorConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MsgProtoErrorConfigStruct.prototype,"notice",{get:function(){var value=LangManager.Instance.getValue("msgProtoError",this.id,"notice");if(!isNullOrEmpty(value)){return value}return this.zh_cn_notice},enumerable:true,configurable:true});return MsgProtoErrorConfigStruct}(configs.BaseConfig));configs.MsgProtoErrorConfigStruct=MsgProtoErrorConfigStruct})(configs||(configs={}));configs.MsgProtoErrorConfig=configs.MsgProtoErrorConfigStruct;var configs;(function(configs){var NpcConfigStruct=(function(_super){__extends(NpcConfigStruct,_super);function NpcConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(NpcConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("npc",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});return NpcConfigStruct}(configs.BaseConfig));configs.NpcConfigStruct=NpcConfigStruct})(configs||(configs={}));var configs;(function(configs){var NpcConfig=(function(_super){__extends(NpcConfig,_super);function NpcConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(NpcConfig.prototype,"modelSkinUrl",{get:function(){var avatarCfg=Game.config.avatar.getConfig(this.avatar);if(avatarCfg){return avatarCfg.modelSkinUrl}return""},enumerable:true,configurable:true});Object.defineProperty(NpcConfig.prototype,"modelBoneUrl",{get:function(){var avatarCfg=Game.config.avatar.getConfig(this.avatar);if(avatarCfg){return avatarCfg.modelBoneUrl}return""},enumerable:true,configurable:true});return NpcConfig}(configs.NpcConfigStruct));configs.NpcConfig=NpcConfig})(configs||(configs={}));var configs;(function(configs){var OrderCompleteConfigStruct=(function(_super){__extends(OrderCompleteConfigStruct,_super);function OrderCompleteConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return OrderCompleteConfigStruct}(configs.BaseConfig));configs.OrderCompleteConfigStruct=OrderCompleteConfigStruct})(configs||(configs={}));var configs;(function(configs){var OrderCompleteConfig=(function(_super){__extends(OrderCompleteConfig,_super);function OrderCompleteConfig(){return _super!==null&&_super.apply(this,arguments)||this}return OrderCompleteConfig}(configs.OrderCompleteConfigStruct));configs.OrderCompleteConfig=OrderCompleteConfig})(configs||(configs={}));var configs;(function(configs){var OrderConfigStruct=(function(_super){__extends(OrderConfigStruct,_super);function OrderConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(OrderConfigStruct.prototype,"name1",{get:function(){var value=LangManager.Instance.getValue("order",this.id,"name1");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name1},enumerable:true,configurable:true});Object.defineProperty(OrderConfigStruct.prototype,"name2",{get:function(){var value=LangManager.Instance.getValue("order",this.id,"name2");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name2},enumerable:true,configurable:true});return OrderConfigStruct}(configs.BaseConfig));configs.OrderConfigStruct=OrderConfigStruct})(configs||(configs={}));var configs;(function(configs){var OrderConfig=(function(_super){__extends(OrderConfig,_super);function OrderConfig(){return _super!==null&&_super.apply(this,arguments)||this}return OrderConfig}(configs.OrderConfigStruct));configs.OrderConfig=OrderConfig})(configs||(configs={}));var configs;(function(configs){var OscarConfigStruct=(function(_super){__extends(OscarConfigStruct,_super);function OscarConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(OscarConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("oscar",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.zh_cn_content},enumerable:true,configurable:true});return OscarConfigStruct}(configs.BaseConfig));configs.OscarConfigStruct=OscarConfigStruct})(configs||(configs={}));var configs;(function(configs){var OscarConfig=(function(_super){__extends(OscarConfig,_super);function OscarConfig(){return _super!==null&&_super.apply(this,arguments)||this}return OscarConfig}(configs.OscarConfigStruct));configs.OscarConfig=OscarConfig})(configs||(configs={}));var configs;(function(configs){var PerformConfigStruct=(function(_super){__extends(PerformConfigStruct,_super);function PerformConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return PerformConfigStruct}(configs.BaseConfig));configs.PerformConfigStruct=PerformConfigStruct})(configs||(configs={}));var configs;(function(configs){var ATEvent=Games.ATEvent;var PerformConfig=(function(_super){__extends(PerformConfig,_super);function PerformConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(PerformConfig.prototype,"eventList",{get:function(){var evtList=[];this.event.forEach(function(value,index,array){var event=ATEvent.parse(value);evtList.push(event)});return evtList},enumerable:true,configurable:true});return PerformConfig}(configs.PerformConfigStruct));configs.PerformConfig=PerformConfig})(configs||(configs={}));var configs;(function(configs){var PlayActConfigStruct=(function(_super){__extends(PlayActConfigStruct,_super);function PlayActConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return PlayActConfigStruct}(configs.BaseConfig));configs.PlayActConfigStruct=PlayActConfigStruct})(configs||(configs={}));var configs;(function(configs){var ATEvent=Games.ATEvent;var PlayActConfig=(function(_super){__extends(PlayActConfig,_super);function PlayActConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(PlayActConfig.prototype,"eventList",{get:function(){var evtList=[];this.event.forEach(function(value,index,array){var event=ATEvent.parse(value);evtList.push(event)});return evtList},enumerable:true,configurable:true});return PlayActConfig}(configs.PlayActConfigStruct));configs.PlayActConfig=PlayActConfig})(configs||(configs={}));var configs;(function(configs){var PlayerDefaultConfigStruct=(function(_super){__extends(PlayerDefaultConfigStruct,_super);function PlayerDefaultConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return PlayerDefaultConfigStruct}(configs.BaseConfig));configs.PlayerDefaultConfigStruct=PlayerDefaultConfigStruct})(configs||(configs={}));configs.PlayerDefaultConfig=configs.PlayerDefaultConfigStruct;var configs;(function(configs){var PlayerLevelConfigStruct=(function(_super){__extends(PlayerLevelConfigStruct,_super);function PlayerLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return PlayerLevelConfigStruct}(configs.BaseConfig));configs.PlayerLevelConfigStruct=PlayerLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var PlayerLevelConfig=(function(_super){__extends(PlayerLevelConfig,_super);function PlayerLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}PlayerLevelConfig.prototype.setLevelData=function(level){this.dtLevel=level};Object.defineProperty(PlayerLevelConfig.prototype,"ShopGold",{get:function(){return this.shop_1003},enumerable:true,configurable:true});Object.defineProperty(PlayerLevelConfig.prototype,"ShopMoney",{get:function(){return this.shop_1004},enumerable:true,configurable:true});return PlayerLevelConfig}(configs.PlayerLevelConfigStruct));configs.PlayerLevelConfig=PlayerLevelConfig})(configs||(configs={}));var configs;(function(configs){var PositionConfigStruct=(function(_super){__extends(PositionConfigStruct,_super);function PositionConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return PositionConfigStruct}(configs.BaseConfig));configs.PositionConfigStruct=PositionConfigStruct})(configs||(configs={}));var configs;(function(configs){var PositionConfig=(function(_super){__extends(PositionConfig,_super);function PositionConfig(){return _super!==null&&_super.apply(this,arguments)||this}return PositionConfig}(configs.PositionConfigStruct));configs.PositionConfig=PositionConfig})(configs||(configs={}));var configs;(function(configs){var ProduceConfigStruct=(function(_super){__extends(ProduceConfigStruct,_super);function ProduceConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ProduceConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("produce",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(ProduceConfigStruct.prototype,"tip",{get:function(){var value=LangManager.Instance.getValue("produce",this.id,"tip");if(!isNullOrEmpty(value)){return value}return this.zh_cn_tip},enumerable:true,configurable:true});return ProduceConfigStruct}(configs.BaseConfig));configs.ProduceConfigStruct=ProduceConfigStruct})(configs||(configs={}));var configs;(function(configs){var ProduceConfig=(function(_super){__extends(ProduceConfig,_super);function ProduceConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ProduceConfig}(configs.ProduceConfigStruct));configs.ProduceConfig=ProduceConfig})(configs||(configs={}));var configs;(function(configs){var ProduceLevelConfigStruct=(function(_super){__extends(ProduceLevelConfigStruct,_super);function ProduceLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ProduceLevelConfigStruct}(configs.BaseConfig));configs.ProduceLevelConfigStruct=ProduceLevelConfigStruct})(configs||(configs={}));var configs;(function(configs){var ProduceLevelConfig=(function(_super){__extends(ProduceLevelConfig,_super);function ProduceLevelConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ProduceLevelConfig}(configs.ProduceLevelConfigStruct));configs.ProduceLevelConfig=ProduceLevelConfig})(configs||(configs={}));var configs;(function(configs){var ProduceSouvenirConfigStruct=(function(_super){__extends(ProduceSouvenirConfigStruct,_super);function ProduceSouvenirConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ProduceSouvenirConfigStruct}(configs.BaseConfig));configs.ProduceSouvenirConfigStruct=ProduceSouvenirConfigStruct})(configs||(configs={}));var configs;(function(configs){var ProduceSouvenirConfig=(function(_super){__extends(ProduceSouvenirConfig,_super);function ProduceSouvenirConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ProduceSouvenirConfig}(configs.ProduceSouvenirConfigStruct));configs.ProduceSouvenirConfig=ProduceSouvenirConfig})(configs||(configs={}));var configs;(function(configs){var PropertyConfigStruct=(function(_super){__extends(PropertyConfigStruct,_super);function PropertyConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(PropertyConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("property",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return PropertyConfigStruct}(configs.BaseConfig));configs.PropertyConfigStruct=PropertyConfigStruct})(configs||(configs={}));var configs;(function(configs){var PropertyConfig=(function(_super){__extends(PropertyConfig,_super);function PropertyConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(PropertyConfig.prototype,"iconUrl",{get:function(){var cfg=Game.config.avatar.getConfig(this.icon);if(cfg){return cfg.iconUrl}return""},enumerable:true,configurable:true});return PropertyConfig}(configs.PropertyConfigStruct));configs.PropertyConfig=PropertyConfig})(configs||(configs={}));var configs;(function(configs){var RandomNameConfigStruct=(function(_super){__extends(RandomNameConfigStruct,_super);function RandomNameConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return RandomNameConfigStruct}(configs.BaseConfig));configs.RandomNameConfigStruct=RandomNameConfigStruct})(configs||(configs={}));var configs;(function(configs){var RandomNameConfig=(function(_super){__extends(RandomNameConfig,_super);function RandomNameConfig(){return _super!==null&&_super.apply(this,arguments)||this}return RandomNameConfig}(configs.RandomNameConfigStruct));configs.RandomNameConfig=RandomNameConfig})(configs||(configs={}));var configs;(function(configs){var RandomSurnameConfigStruct=(function(_super){__extends(RandomSurnameConfigStruct,_super);function RandomSurnameConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return RandomSurnameConfigStruct}(configs.BaseConfig));configs.RandomSurnameConfigStruct=RandomSurnameConfigStruct})(configs||(configs={}));var configs;(function(configs){var RandomSurnameConfig=(function(_super){__extends(RandomSurnameConfig,_super);function RandomSurnameConfig(){return _super!==null&&_super.apply(this,arguments)||this}return RandomSurnameConfig}(configs.RandomSurnameConfigStruct));configs.RandomSurnameConfig=RandomSurnameConfig})(configs||(configs={}));var configs;(function(configs){var RechargeConfigStruct=(function(_super){__extends(RechargeConfigStruct,_super);function RechargeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(RechargeConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("recharge",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return RechargeConfigStruct}(configs.BaseConfig));configs.RechargeConfigStruct=RechargeConfigStruct})(configs||(configs={}));var configs;(function(configs){var RechargeConfig=(function(_super){__extends(RechargeConfig,_super);function RechargeConfig(){return _super!==null&&_super.apply(this,arguments)||this}return RechargeConfig}(configs.RechargeConfigStruct));configs.RechargeConfig=RechargeConfig})(configs||(configs={}));var configs;(function(configs){var RoadshowConfigStruct=(function(_super){__extends(RoadshowConfigStruct,_super);function RoadshowConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return RoadshowConfigStruct}(configs.BaseConfig));configs.RoadshowConfigStruct=RoadshowConfigStruct})(configs||(configs={}));configs.RoadshowConfig=configs.RoadshowConfigStruct;var configs;(function(configs){var SecretaryConfigStruct=(function(_super){__extends(SecretaryConfigStruct,_super);function SecretaryConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SecretaryConfigStruct.prototype,"info",{get:function(){var value=LangManager.Instance.getValue("secretary",this.id,"info");if(!isNullOrEmpty(value)){return value}return this.zh_cn_info},enumerable:true,configurable:true});return SecretaryConfigStruct}(configs.BaseConfig));configs.SecretaryConfigStruct=SecretaryConfigStruct})(configs||(configs={}));var configs;(function(configs){var SecretaryConfig=(function(_super){__extends(SecretaryConfig,_super);function SecretaryConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryConfig}(configs.SecretaryConfigStruct));configs.SecretaryConfig=SecretaryConfig})(configs||(configs={}));var configs;(function(configs){var SecretaryGiftConfigStruct=(function(_super){__extends(SecretaryGiftConfigStruct,_super);function SecretaryGiftConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryGiftConfigStruct}(configs.BaseConfig));configs.SecretaryGiftConfigStruct=SecretaryGiftConfigStruct})(configs||(configs={}));var configs;(function(configs){var SecretaryGiftConfig=(function(_super){__extends(SecretaryGiftConfig,_super);function SecretaryGiftConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryGiftConfig}(configs.SecretaryGiftConfigStruct));configs.SecretaryGiftConfig=SecretaryGiftConfig})(configs||(configs={}));var configs;(function(configs){var SecretaryTextConfigStruct=(function(_super){__extends(SecretaryTextConfigStruct,_super);function SecretaryTextConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SecretaryTextConfigStruct.prototype,"text",{get:function(){var value=LangManager.Instance.getValue("secretaryText",this.id,"text");if(!isNullOrEmpty(value)){return value}return this.zh_cn_text},enumerable:true,configurable:true});return SecretaryTextConfigStruct}(configs.BaseConfig));configs.SecretaryTextConfigStruct=SecretaryTextConfigStruct})(configs||(configs={}));var configs;(function(configs){var SecretaryTextConfig=(function(_super){__extends(SecretaryTextConfig,_super);function SecretaryTextConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryTextConfig}(configs.SecretaryTextConfigStruct));configs.SecretaryTextConfig=SecretaryTextConfig})(configs||(configs={}));var configs;(function(configs){var SecretaryTypeConfigStruct=(function(_super){__extends(SecretaryTypeConfigStruct,_super);function SecretaryTypeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SecretaryTypeConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("secretaryType",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return SecretaryTypeConfigStruct}(configs.BaseConfig));configs.SecretaryTypeConfigStruct=SecretaryTypeConfigStruct})(configs||(configs={}));var configs;(function(configs){var SecretaryTypeConfig=(function(_super){__extends(SecretaryTypeConfig,_super);function SecretaryTypeConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SecretaryTypeConfig.prototype,"bodyIconUrl",{get:function(){if(isNullOrEmpty(this._bodyIconUrl)){var avatarConfig=Game.config.avatar.getConfig(this.picid);if(avatarConfig){this._bodyIconUrl=avatarConfig.bodyIconUrl}}return this._bodyIconUrl},enumerable:true,configurable:true});return SecretaryTypeConfig}(configs.SecretaryTypeConfigStruct));configs.SecretaryTypeConfig=SecretaryTypeConfig})(configs||(configs={}));var configs;(function(configs){var ServerRankingListConfigStruct=(function(_super){__extends(ServerRankingListConfigStruct,_super);function ServerRankingListConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return ServerRankingListConfigStruct}(configs.BaseConfig));configs.ServerRankingListConfigStruct=ServerRankingListConfigStruct})(configs||(configs={}));var configs;(function(configs){var ServerRankingListConfig=(function(_super){__extends(ServerRankingListConfig,_super);function ServerRankingListConfig(){return _super!==null&&_super.apply(this,arguments)||this}return ServerRankingListConfig}(configs.ServerRankingListConfigStruct));configs.ServerRankingListConfig=ServerRankingListConfig})(configs||(configs={}));var configs;(function(configs){var SettingDefaultConfigStruct=(function(_super){__extends(SettingDefaultConfigStruct,_super);function SettingDefaultConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SettingDefaultConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("settingDefault",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return SettingDefaultConfigStruct}(configs.BaseConfig));configs.SettingDefaultConfigStruct=SettingDefaultConfigStruct})(configs||(configs={}));var configs;(function(configs){var SettingDefaultConfig=(function(_super){__extends(SettingDefaultConfig,_super);function SettingDefaultConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SettingDefaultConfig.prototype,"OnOff",{get:function(){return this._default==1},enumerable:true,configurable:true});return SettingDefaultConfig}(configs.SettingDefaultConfigStruct));configs.SettingDefaultConfig=SettingDefaultConfig})(configs||(configs={}));var configs;(function(configs){var SettingTextConfigStruct=(function(_super){__extends(SettingTextConfigStruct,_super);function SettingTextConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SettingTextConfigStruct.prototype,"text",{get:function(){return this.zh_cn_text},enumerable:true,configurable:true});return SettingTextConfigStruct}(configs.BaseConfig));configs.SettingTextConfigStruct=SettingTextConfigStruct})(configs||(configs={}));var configs;(function(configs){var SettingTextConfig=(function(_super){__extends(SettingTextConfig,_super);function SettingTextConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SettingTextConfig}(configs.SettingTextConfigStruct));configs.SettingTextConfig=SettingTextConfig})(configs||(configs={}));var configs;(function(configs){var SevenDaysConfigStruct=(function(_super){__extends(SevenDaysConfigStruct,_super);function SevenDaysConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return SevenDaysConfigStruct}(configs.BaseConfig));configs.SevenDaysConfigStruct=SevenDaysConfigStruct})(configs||(configs={}));var configs;(function(configs){var SevenDaysConfig=(function(_super){__extends(SevenDaysConfig,_super);function SevenDaysConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SevenDaysConfig}(configs.SevenDaysConfigStruct));configs.SevenDaysConfig=SevenDaysConfig})(configs||(configs={}));var configs;(function(configs){var SevenDaysTextConfigStruct=(function(_super){__extends(SevenDaysTextConfigStruct,_super);function SevenDaysTextConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SevenDaysTextConfigStruct.prototype,"text",{get:function(){return this.zh_cn_text},enumerable:true,configurable:true});return SevenDaysTextConfigStruct}(configs.BaseConfig));configs.SevenDaysTextConfigStruct=SevenDaysTextConfigStruct})(configs||(configs={}));var configs;(function(configs){var SevenDaysTextConfig=(function(_super){__extends(SevenDaysTextConfig,_super);function SevenDaysTextConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SevenDaysTextConfig}(configs.SevenDaysTextConfigStruct));configs.SevenDaysTextConfig=SevenDaysTextConfig})(configs||(configs={}));var configs;(function(configs){var ShopConfigStruct=(function(_super){__extends(ShopConfigStruct,_super);function ShopConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ShopConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("shop",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return ShopConfigStruct}(configs.BaseConfig));configs.ShopConfigStruct=ShopConfigStruct})(configs||(configs={}));var configs;(function(configs){var ShopConfig=(function(_super){__extends(ShopConfig,_super);function ShopConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ShopConfig.prototype,"name",{get:function(){if(this.type==1&&this.item.length==1){return this.item[0].itemName}var value=LangManager.Instance.getValue("shop",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(ShopConfig.prototype,"isPeriodTime",{get:function(){var strTime=this.period.split("-");if(strTime.length>=2){var timeBegin=TimeHelper.TimeReformat2(strTime[0]);var timeEnd=TimeHelper.TimeReformat2(strTime[1]);var time=Game.time.serverMilliseconds;return timeBegin<time&&time<timeEnd}return true},enumerable:true,configurable:true});Object.defineProperty(ShopConfig.prototype,"hasPeriodTime",{get:function(){return this.period!="0"},enumerable:true,configurable:true});return ShopConfig}(configs.ShopConfigStruct));configs.ShopConfig=ShopConfig})(configs||(configs={}));var configs;(function(configs){var SkillConfigStruct=(function(_super){__extends(SkillConfigStruct,_super);function SkillConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SkillConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("skill",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});Object.defineProperty(SkillConfigStruct.prototype,"tips",{get:function(){var value=LangManager.Instance.getValue("skill",this.id,"tips");if(!isNullOrEmpty(value)){return value}return this.cn_tips},enumerable:true,configurable:true});Object.defineProperty(SkillConfigStruct.prototype,"effecttext",{get:function(){var value=LangManager.Instance.getValue("skill",this.id,"effecttext");if(!isNullOrEmpty(value)){return value}return this.cn_effecttext},enumerable:true,configurable:true});return SkillConfigStruct}(configs.BaseConfig));configs.SkillConfigStruct=SkillConfigStruct})(configs||(configs={}));var configs;(function(configs){var SkillConfig=(function(_super){__extends(SkillConfig,_super);function SkillConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SkillConfig}(configs.SkillConfigStruct));configs.SkillConfig=SkillConfig})(configs||(configs={}));var configs;(function(configs){var SkillEffectConfigStruct=(function(_super){__extends(SkillEffectConfigStruct,_super);function SkillEffectConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return SkillEffectConfigStruct}(configs.BaseConfig));configs.SkillEffectConfigStruct=SkillEffectConfigStruct})(configs||(configs={}));var configs;(function(configs){var SkillEffectConfig=(function(_super){__extends(SkillEffectConfig,_super);function SkillEffectConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SkillEffectConfig}(configs.SkillEffectConfigStruct));configs.SkillEffectConfig=SkillEffectConfig})(configs||(configs={}));var configs;(function(configs){var SkillTriggerConfigStruct=(function(_super){__extends(SkillTriggerConfigStruct,_super);function SkillTriggerConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return SkillTriggerConfigStruct}(configs.BaseConfig));configs.SkillTriggerConfigStruct=SkillTriggerConfigStruct})(configs||(configs={}));var configs;(function(configs){var SkillTriggerConfig=(function(_super){__extends(SkillTriggerConfig,_super);function SkillTriggerConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SkillTriggerConfig}(configs.SkillTriggerConfigStruct));configs.SkillTriggerConfig=SkillTriggerConfig})(configs||(configs={}));var configs;(function(configs){var SpeakConfigStruct=(function(_super){__extends(SpeakConfigStruct,_super);function SpeakConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SpeakConfigStruct.prototype,"speak",{get:function(){var value=LangManager.Instance.getValue("speak",this.id,"speak");if(!isNullOrEmpty(value)){return value}return this.cn_speak},enumerable:true,configurable:true});return SpeakConfigStruct}(configs.BaseConfig));configs.SpeakConfigStruct=SpeakConfigStruct})(configs||(configs={}));var configs;(function(configs){var SpeakConfig=(function(_super){__extends(SpeakConfig,_super);function SpeakConfig(){return _super!==null&&_super.apply(this,arguments)||this}return SpeakConfig}(configs.SpeakConfigStruct));configs.SpeakConfig=SpeakConfig})(configs||(configs={}));var configs;(function(configs){var StarConConfigStruct=(function(_super){__extends(StarConConfigStruct,_super);function StarConConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return StarConConfigStruct}(configs.BaseConfig));configs.StarConConfigStruct=StarConConfigStruct})(configs||(configs={}));var configs;(function(configs){var StarConConfig=(function(_super){__extends(StarConConfig,_super);function StarConConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StarConConfig}(configs.StarConConfigStruct));configs.StarConConfig=StarConConfig})(configs||(configs={}));var configs;(function(configs){var StoryCharactersConfigStruct=(function(_super){__extends(StoryCharactersConfigStruct,_super);function StoryCharactersConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StoryCharactersConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("storyCharacters",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfigStruct.prototype,"introduction",{get:function(){var value=LangManager.Instance.getValue("storyCharacters",this.id,"introduction");if(!isNullOrEmpty(value)){return value}return this.zh_cn_introduction},enumerable:true,configurable:true});return StoryCharactersConfigStruct}(configs.BaseConfig));configs.StoryCharactersConfigStruct=StoryCharactersConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryCharactersConfig=(function(_super){__extends(StoryCharactersConfig,_super);function StoryCharactersConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StoryCharactersConfig.prototype,"getSex",{get:function(){return this.type_pic},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getType",{get:function(){return Game.config.property.getConfig(this.type).name},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getName",{get:function(){return this.name},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getDes",{get:function(){return this.introduction},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getReqShowTypeToString",{get:function(){if(this.show_type===0){return""}return Game.config.property.getConfig(this.show_type).name},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getReqageType",{get:function(){return this.age_type},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"getReqageTypeToString",{get:function(){if(this.age_type===0){return""}return Game.config.property.getConfig(this.age_type).name},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"geteffect",{get:function(){var result=new Array(this.effect.length);for(var index=0;index<this.effect.length;index++){result[index]=Game.config.property.getConfig(this.effect[index]).name}return result},enumerable:true,configurable:true});Object.defineProperty(StoryCharactersConfig.prototype,"geteffectVal",{get:function(){return this.effect},enumerable:true,configurable:true});return StoryCharactersConfig}(configs.StoryCharactersConfigStruct));configs.StoryCharactersConfig=StoryCharactersConfig})(configs||(configs={}));var configs;(function(configs){var StoryConfigStruct=(function(_super){__extends(StoryConfigStruct,_super);function StoryConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StoryConfigStruct.prototype,"story_name",{get:function(){var value=LangManager.Instance.getValue("story",this.id,"story_name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_story_name},enumerable:true,configurable:true});Object.defineProperty(StoryConfigStruct.prototype,"introduction",{get:function(){var value=LangManager.Instance.getValue("story",this.id,"introduction");if(!isNullOrEmpty(value)){return value}return this.zh_cn_introduction},enumerable:true,configurable:true});return StoryConfigStruct}(configs.BaseConfig));configs.StoryConfigStruct=StoryConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryConfig=(function(_super){__extends(StoryConfig,_super);function StoryConfig(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._newStoryName=null;return _this}Object.defineProperty(StoryConfig.prototype,"filmIndex",{get:function(){return this.id},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"filmName",{get:function(){if(!this._newStoryName){this._newStoryName=this.story_name}return this._newStoryName},set:function(value){if(!value){console.error("剧本名字 有问题 StoryConfig.filmName value="+value)}this._newStoryName=value},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"starNumber",{get:function(){return parseInt(Game.config.property.getConfig(this.stars).name)},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"filmType",{get:function(){return Game.config.property.getConfig(this.type).name},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"filmTags",{get:function(){var result=new Array(this.tags.length);for(var index=0;index<this.tags.length;index++){result[index]=Game.config.property.getConfig(this.tags[index]).name}return result},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"filmDes",{get:function(){return this.introduction},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"filmCosts",{get:function(){return this.cost.toString()},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"characterProperty",{get:function(){var result=new Array(this.property.length);for(var index=0;index<this.property.length;index++){result[index]=Game.config.storyCharacters.getConfig(this.property[index])}return result},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"getMale",{get:function(){return this.male_percent},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"getFemale",{get:function(){return this.female_percent},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"getChild",{get:function(){return this.child_percent},enumerable:true,configurable:true});Object.defineProperty(StoryConfig.prototype,"getReward",{get:function(){return this.reward},enumerable:true,configurable:true});return StoryConfig}(configs.StoryConfigStruct));configs.StoryConfig=StoryConfig})(configs||(configs={}));var configs;(function(configs){var StoryGoalsConfigStruct=(function(_super){__extends(StoryGoalsConfigStruct,_super);function StoryGoalsConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return StoryGoalsConfigStruct}(configs.BaseConfig));configs.StoryGoalsConfigStruct=StoryGoalsConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryGoalsConfig=(function(_super){__extends(StoryGoalsConfig,_super);function StoryGoalsConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryGoalsConfig}(configs.StoryGoalsConfigStruct));configs.StoryGoalsConfig=StoryGoalsConfig})(configs||(configs={}));var configs;(function(configs){var StorylineConfigStruct=(function(_super){__extends(StorylineConfigStruct,_super);function StorylineConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StorylineConfigStruct.prototype,"ui_content",{get:function(){var value=LangManager.Instance.getValue("storyline",this.id,"ui_content");if(!isNullOrEmpty(value)){return value}return this.cn_ui_content},enumerable:true,configurable:true});Object.defineProperty(StorylineConfigStruct.prototype,"content",{get:function(){var value=LangManager.Instance.getValue("storyline",this.id,"content");if(!isNullOrEmpty(value)){return value}return this.cn_content},enumerable:true,configurable:true});Object.defineProperty(StorylineConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("storyline",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.cn_name},enumerable:true,configurable:true});return StorylineConfigStruct}(configs.BaseConfig));configs.StorylineConfigStruct=StorylineConfigStruct})(configs||(configs={}));var configs;(function(configs){var StorylineConfig=(function(_super){__extends(StorylineConfig,_super);function StorylineConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StorylineConfig.prototype,"contentFormatCustom",{get:function(){if(isNullOrEmpty(this.fcontent)){this.fcontent=contentFormatCustom(this.content)}return this.fcontent},enumerable:true,configurable:true});Object.defineProperty(StorylineConfig.prototype,"bodyIconUrl",{get:function(){var actorId=contentFormatCustomId(this.type_id);if(actorId>0){return Game.config.avatar.getConfig(actorId).bodyIconUrl}return""},enumerable:true,configurable:true});Object.defineProperty(StorylineConfig.prototype,"nName",{get:function(){var n=contentFormatCustom(this.name);return n},enumerable:true,configurable:true});return StorylineConfig}(configs.StorylineConfigStruct));configs.StorylineConfig=StorylineConfig})(configs||(configs={}));var configs;(function(configs){var StoryRateConfigStruct=(function(_super){__extends(StoryRateConfigStruct,_super);function StoryRateConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return StoryRateConfigStruct}(configs.BaseConfig));configs.StoryRateConfigStruct=StoryRateConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryRateConfig=(function(_super){__extends(StoryRateConfig,_super);function StoryRateConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryRateConfig}(configs.StoryRateConfigStruct));configs.StoryRateConfig=StoryRateConfig})(configs||(configs={}));var configs;(function(configs){var StoryStackConfigStruct=(function(_super){__extends(StoryStackConfigStruct,_super);function StoryStackConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackConfigStruct}(configs.BaseConfig));configs.StoryStackConfigStruct=StoryStackConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryStackConfig=(function(_super){__extends(StoryStackConfig,_super);function StoryStackConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackConfig}(configs.StoryStackConfigStruct));configs.StoryStackConfig=StoryStackConfig})(configs||(configs={}));var configs;(function(configs){var StoryStackItemConfigStruct=(function(_super){__extends(StoryStackItemConfigStruct,_super);function StoryStackItemConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackItemConfigStruct}(configs.BaseConfig));configs.StoryStackItemConfigStruct=StoryStackItemConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryStackItemConfig=(function(_super){__extends(StoryStackItemConfig,_super);function StoryStackItemConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackItemConfig}(configs.StoryStackItemConfigStruct));configs.StoryStackItemConfig=StoryStackItemConfig})(configs||(configs={}));var configs;(function(configs){var StoryStackSortConfigStruct=(function(_super){__extends(StoryStackSortConfigStruct,_super);function StoryStackSortConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StoryStackSortConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("storyStackSort",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return StoryStackSortConfigStruct}(configs.BaseConfig));configs.StoryStackSortConfigStruct=StoryStackSortConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryStackSortConfig=(function(_super){__extends(StoryStackSortConfig,_super);function StoryStackSortConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackSortConfig}(configs.StoryStackSortConfigStruct));configs.StoryStackSortConfig=StoryStackSortConfig})(configs||(configs={}));var configs;(function(configs){var StoryTaskConfigStruct=(function(_super){__extends(StoryTaskConfigStruct,_super);function StoryTaskConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StoryTaskConfigStruct.prototype,"description",{get:function(){return this.zh_cn_description},enumerable:true,configurable:true});return StoryTaskConfigStruct}(configs.BaseConfig));configs.StoryTaskConfigStruct=StoryTaskConfigStruct})(configs||(configs={}));var configs;(function(configs){var StoryTaskConfig=(function(_super){__extends(StoryTaskConfig,_super);function StoryTaskConfig(){return _super!==null&&_super.apply(this,arguments)||this}return StoryTaskConfig}(configs.StoryTaskConfigStruct));configs.StoryTaskConfig=StoryTaskConfig})(configs||(configs={}));var configs;(function(configs){var StreetConfigStruct=(function(_super){__extends(StreetConfigStruct,_super);function StreetConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StreetConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("street",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return StreetConfigStruct}(configs.BaseConfig));configs.StreetConfigStruct=StreetConfigStruct})(configs||(configs={}));var configs;(function(configs){var StreetConfig=(function(_super){__extends(StreetConfig,_super);function StreetConfig(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StreetConfig.prototype,"Require",{get:function(){if(this._require==null){this._require=[];if(this.spokesperson_art!=0){this._require.push({type:Games.ActorRequireEnum.art,value:this.spokesperson_art})}if(this.spokesperson_entertainment!=0){this._require.push({type:Games.ActorRequireEnum.entertainment,value:this.spokesperson_entertainment})}if(this.spokesperson_performance!=0){this._require.push({type:Games.ActorRequireEnum.performance,value:this.spokesperson_performance})}if(this.spokesperson_plot!=0){this._require.push({type:Games.ActorRequireEnum.plot,value:this.spokesperson_plot})}if(this.spokesperson_scene!=0){this._require.push({type:Games.ActorRequireEnum.scene,value:this.spokesperson_scene})}if(this.spokesperson_sex!=0){this._require.push({type:Games.ActorRequireEnum.sex,value:this.spokesperson_sex})}if(this.spokesperson_age!=0){this._require.push({type:Games.ActorRequireEnum.age,value:this.spokesperson_age})}if(this.spokesperson_Continents!=0){this._require.push({type:Games.ActorRequireEnum.Continents,value:this.spokesperson_Continents})}if(this.spokesperson_type!=0){this._require.push({type:Games.ActorRequireEnum.type,value:this.spokesperson_type})}}return this._require},enumerable:true,configurable:true});return StreetConfig}(configs.StreetConfigStruct));configs.StreetConfig=StreetConfig})(configs||(configs={}));var configs;(function(configs){var TaskCompleteConfigStruct=(function(_super){__extends(TaskCompleteConfigStruct,_super);function TaskCompleteConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return TaskCompleteConfigStruct}(configs.BaseConfig));configs.TaskCompleteConfigStruct=TaskCompleteConfigStruct})(configs||(configs={}));var configs;(function(configs){var TaskCompleteConfig=(function(_super){__extends(TaskCompleteConfig,_super);function TaskCompleteConfig(){return _super!==null&&_super.apply(this,arguments)||this}return TaskCompleteConfig}(configs.TaskCompleteConfigStruct));configs.TaskCompleteConfig=TaskCompleteConfig})(configs||(configs={}));var configs;(function(configs){var TaskConfigStruct=(function(_super){__extends(TaskConfigStruct,_super);function TaskConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(TaskConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("task",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return TaskConfigStruct}(configs.BaseConfig));configs.TaskConfigStruct=TaskConfigStruct})(configs||(configs={}));var configs;(function(configs){var TaskConfig=(function(_super){__extends(TaskConfig,_super);function TaskConfig(){return _super!==null&&_super.apply(this,arguments)||this}return TaskConfig}(configs.TaskConfigStruct));configs.TaskConfig=TaskConfig})(configs||(configs={}));var configs;(function(configs){var TestConfigStruct=(function(_super){__extends(TestConfigStruct,_super);function TestConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return TestConfigStruct}(configs.BaseConfig));configs.TestConfigStruct=TestConfigStruct})(configs||(configs={}));var configs;(function(configs){var TestConfig=(function(_super){__extends(TestConfig,_super);function TestConfig(){return _super!==null&&_super.apply(this,arguments)||this}return TestConfig}(configs.TestConfigStruct));configs.TestConfig=TestConfig})(configs||(configs={}));var configs;(function(configs){var TurntableCompleteConfigStruct=(function(_super){__extends(TurntableCompleteConfigStruct,_super);function TurntableCompleteConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return TurntableCompleteConfigStruct}(configs.BaseConfig));configs.TurntableCompleteConfigStruct=TurntableCompleteConfigStruct})(configs||(configs={}));configs.TurntableCompleteConfig=configs.TurntableCompleteConfigStruct;var configs;(function(configs){var TurntableRewardConfigStruct=(function(_super){__extends(TurntableRewardConfigStruct,_super);function TurntableRewardConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return TurntableRewardConfigStruct}(configs.BaseConfig));configs.TurntableRewardConfigStruct=TurntableRewardConfigStruct})(configs||(configs={}));configs.TurntableRewardConfig=configs.TurntableRewardConfigStruct;var configs;(function(configs){var TypeConfigStruct=(function(_super){__extends(TypeConfigStruct,_super);function TypeConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return TypeConfigStruct}(configs.BaseConfig));configs.TypeConfigStruct=TypeConfigStruct})(configs||(configs={}));var configs;(function(configs){var TypeConfig=(function(_super){__extends(TypeConfig,_super);function TypeConfig(){return _super!==null&&_super.apply(this,arguments)||this}return TypeConfig}(configs.TypeConfigStruct));configs.TypeConfig=TypeConfig})(configs||(configs={}));var configs;(function(configs){var UnlockConfigStruct=(function(_super){__extends(UnlockConfigStruct,_super);function UnlockConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(UnlockConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("unlock",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});Object.defineProperty(UnlockConfigStruct.prototype,"touch_txt",{get:function(){var value=LangManager.Instance.getValue("unlock",this.id,"touch_txt");if(!isNullOrEmpty(value)){return value}return this.zh_cn_touch_txt},enumerable:true,configurable:true});return UnlockConfigStruct}(configs.BaseConfig));configs.UnlockConfigStruct=UnlockConfigStruct})(configs||(configs={}));var configs;(function(configs){var UnlockConfig=(function(_super){__extends(UnlockConfig,_super);function UnlockConfig(){return _super!==null&&_super.apply(this,arguments)||this}return UnlockConfig}(configs.UnlockConfigStruct));configs.UnlockConfig=UnlockConfig})(configs||(configs={}));var configs;(function(configs){var VisitConfigStruct=(function(_super){__extends(VisitConfigStruct,_super);function VisitConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(VisitConfigStruct.prototype,"fans_speak0",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"fans_speak0");if(!isNullOrEmpty(value)){return value}return this.zh_cn_fans_speak0},enumerable:true,configurable:true});Object.defineProperty(VisitConfigStruct.prototype,"actor_speak0",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"actor_speak0");if(!isNullOrEmpty(value)){return value}return this.zh_cn_actor_speak0},enumerable:true,configurable:true});Object.defineProperty(VisitConfigStruct.prototype,"fans_speak1",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"fans_speak1");if(!isNullOrEmpty(value)){return value}return this.zh_cn_fans_speak1},enumerable:true,configurable:true});Object.defineProperty(VisitConfigStruct.prototype,"actor_speak1",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"actor_speak1");if(!isNullOrEmpty(value)){return value}return this.zh_cn_actor_speak1},enumerable:true,configurable:true});Object.defineProperty(VisitConfigStruct.prototype,"fans_speak2",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"fans_speak2");if(!isNullOrEmpty(value)){return value}return this.zh_cn_fans_speak2},enumerable:true,configurable:true});Object.defineProperty(VisitConfigStruct.prototype,"actor_speak2",{get:function(){var value=LangManager.Instance.getValue("visit",this.id,"actor_speak2");if(!isNullOrEmpty(value)){return value}return this.zh_cn_actor_speak2},enumerable:true,configurable:true});return VisitConfigStruct}(configs.BaseConfig));configs.VisitConfigStruct=VisitConfigStruct})(configs||(configs={}));var configs;(function(configs){var VisitConfig=(function(_super){__extends(VisitConfig,_super);function VisitConfig(){return _super!==null&&_super.apply(this,arguments)||this}return VisitConfig}(configs.VisitConfigStruct));configs.VisitConfig=VisitConfig})(configs||(configs={}));var configs;(function(configs){var WelfareConfigStruct=(function(_super){__extends(WelfareConfigStruct,_super);function WelfareConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(WelfareConfigStruct.prototype,"activities_name",{get:function(){var value=LangManager.Instance.getValue("welfare",this.id,"activities_name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_activities_name},enumerable:true,configurable:true});return WelfareConfigStruct}(configs.BaseConfig));configs.WelfareConfigStruct=WelfareConfigStruct})(configs||(configs={}));configs.WelfareConfig=configs.WelfareConfigStruct;var configs;(function(configs){var WriterAbilityConfigStruct=(function(_super){__extends(WriterAbilityConfigStruct,_super);function WriterAbilityConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return WriterAbilityConfigStruct}(configs.BaseConfig));configs.WriterAbilityConfigStruct=WriterAbilityConfigStruct})(configs||(configs={}));configs.WriterAbilityConfig=configs.WriterAbilityConfigStruct;var configs;(function(configs){var WriterAdaptEffectConfigStruct=(function(_super){__extends(WriterAdaptEffectConfigStruct,_super);function WriterAdaptEffectConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(WriterAdaptEffectConfigStruct.prototype,"adapt",{get:function(){var value=LangManager.Instance.getValue("writerAdaptEffect",this.id,"adapt");if(!isNullOrEmpty(value)){return value}return this.zh_cn_adapt},enumerable:true,configurable:true});Object.defineProperty(WriterAdaptEffectConfigStruct.prototype,"adapt_des",{get:function(){var value=LangManager.Instance.getValue("writerAdaptEffect",this.id,"adapt_des");if(!isNullOrEmpty(value)){return value}return this.zh_cn_adapt_des},enumerable:true,configurable:true});return WriterAdaptEffectConfigStruct}(configs.BaseConfig));configs.WriterAdaptEffectConfigStruct=WriterAdaptEffectConfigStruct})(configs||(configs={}));configs.WriterAdaptEffectConfig=configs.WriterAdaptEffectConfigStruct;var configs;(function(configs){var WriterConfigStruct=(function(_super){__extends(WriterConfigStruct,_super);function WriterConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(WriterConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("writer",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return WriterConfigStruct}(configs.BaseConfig));configs.WriterConfigStruct=WriterConfigStruct})(configs||(configs={}));configs.WriterConfig=configs.WriterConfigStruct;var configs;(function(configs){var WriterLevelConfigStruct=(function(_super){__extends(WriterLevelConfigStruct,_super);function WriterLevelConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(WriterLevelConfigStruct.prototype,"name",{get:function(){var value=LangManager.Instance.getValue("writerLevel",this.id,"name");if(!isNullOrEmpty(value)){return value}return this.zh_cn_name},enumerable:true,configurable:true});return WriterLevelConfigStruct}(configs.BaseConfig));configs.WriterLevelConfigStruct=WriterLevelConfigStruct})(configs||(configs={}));configs.WriterLevelConfig=configs.WriterLevelConfigStruct;var configs;(function(configs){var WriterSkillConfigStruct=(function(_super){__extends(WriterSkillConfigStruct,_super);function WriterSkillConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return WriterSkillConfigStruct}(configs.BaseConfig));configs.WriterSkillConfigStruct=WriterSkillConfigStruct})(configs||(configs={}));configs.WriterSkillConfig=configs.WriterSkillConfigStruct;var configs;(function(configs){var WriterStationConfigStruct=(function(_super){__extends(WriterStationConfigStruct,_super);function WriterStationConfigStruct(){return _super!==null&&_super.apply(this,arguments)||this}return WriterStationConfigStruct}(configs.BaseConfig));configs.WriterStationConfigStruct=WriterStationConfigStruct})(configs||(configs={}));configs.WriterStationConfig=configs.WriterStationConfigStruct;var configs;(function(configs){var ActionConfigReaderStruct=(function(_super){__extends(ActionConfigReaderStruct,_super);function ActionConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Action";return _this}ActionConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActionConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.action=csvGetString(csv,this.GetHeadIndex("action"));config.parts=configs.DTParts.parse(csvGetString(csv,this.GetHeadIndex("parts")));config.loop=csvGetInt(csv,this.GetHeadIndex("loop"));config.Connect=csvGetInt(csv,this.GetHeadIndex("Connect"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActionConfigReaderStruct}(configs.CsvConfigRender));configs.ActionConfigReaderStruct=ActionConfigReaderStruct})(configs||(configs={}));configs.ActionConfigReader=configs.ActionConfigReaderStruct;var configs;(function(configs){var ActivitiesConfigReaderStruct=(function(_super){__extends(ActivitiesConfigReaderStruct,_super);function ActivitiesConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Activities";return _this}ActivitiesConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActivitiesConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.start_type=csvGetInt(csv,this.GetHeadIndex("start_type"));config.start=csvGetInt(csv,this.GetHeadIndex("start"));config.duration=csvGetInt(csv,this.GetHeadIndex("duration"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.icon_chosen=csvGetInt(csv,this.GetHeadIndex("icon_chosen"));config.zh_cn_activities_name=csvGetString(csv,this.GetHeadIndex("zh_cn_activities_name"));config.zh_cn_activities_info=csvGetString(csv,this.GetHeadIndex("zh_cn_activities_info"));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return ActivitiesConfigReaderStruct}(configs.CsvConfigRender));configs.ActivitiesConfigReaderStruct=ActivitiesConfigReaderStruct})(configs||(configs={}));configs.ActivitiesConfigReader=configs.ActivitiesConfigReaderStruct;var configs;(function(configs){var ActorAideattachConfigReaderStruct=(function(_super){__extends(ActorAideattachConfigReaderStruct,_super);function ActorAideattachConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorAideattach";return _this}ActorAideattachConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorAideattachConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.actor=csvGetInt(csv,this.GetHeadIndex("actor"));config.aide_type=csvGetInt(csv,this.GetHeadIndex("aide_type"));config.attach_type=csvGetInt(csv,this.GetHeadIndex("attach_type"));config.value=toIntArray(csvGetString(csv,this.GetHeadIndex("value")));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorAideattachConfigReaderStruct}(configs.CsvConfigRender));configs.ActorAideattachConfigReaderStruct=ActorAideattachConfigReaderStruct})(configs||(configs={}));configs.ActorAideattachConfigReader=configs.ActorAideattachConfigReaderStruct;var configs;(function(configs){var ActorAideConfigReaderStruct=(function(_super){__extends(ActorAideConfigReaderStruct,_super);function ActorAideConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorAide";return _this}ActorAideConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorAideConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.star=csvGetInt(csv,this.GetHeadIndex("star"));config.aide_type=csvGetInt(csv,this.GetHeadIndex("aide_type"));config.number=csvGetInt(csv,this.GetHeadIndex("number"));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.cost=csvGetInt(csv,this.GetHeadIndex("cost"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.avatar=csvGetInt(csv,this.GetHeadIndex("avatar"));config.secondary_property=csvGetInt(csv,this.GetHeadIndex("secondary_property"));config.main_property=csvGetInt(csv,this.GetHeadIndex("main_property"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorAideConfigReaderStruct}(configs.CsvConfigRender));configs.ActorAideConfigReaderStruct=ActorAideConfigReaderStruct})(configs||(configs={}));configs.ActorAideConfigReader=configs.ActorAideConfigReaderStruct;var configs;(function(configs){var ActorAideIntimacyConfigReaderStruct=(function(_super){__extends(ActorAideIntimacyConfigReaderStruct,_super);function ActorAideIntimacyConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorAideIntimacy";return _this}ActorAideIntimacyConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorAideIntimacyConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.percent=csvGetInt(csv,this.GetHeadIndex("percent"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorAideIntimacyConfigReaderStruct}(configs.CsvConfigRender));configs.ActorAideIntimacyConfigReaderStruct=ActorAideIntimacyConfigReaderStruct})(configs||(configs={}));configs.ActorAideIntimacyConfigReader=configs.ActorAideIntimacyConfigReaderStruct;var configs;(function(configs){var ActorAssetsConfigReaderStruct=(function(_super){__extends(ActorAssetsConfigReaderStruct,_super);function ActorAssetsConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorAssets";return _this}ActorAssetsConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorAssetsConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.actor_property=csvGetInt(csv,this.GetHeadIndex("actor_property"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorAssetsConfigReaderStruct}(configs.CsvConfigRender));configs.ActorAssetsConfigReaderStruct=ActorAssetsConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ActorAssetsConfigReader=(function(_super){__extends(ActorAssetsConfigReader,_super);function ActorAssetsConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}ActorAssetsConfigReader.prototype.onGameLoadedAll=function(){};return ActorAssetsConfigReader}(configs.ActorAssetsConfigReaderStruct));configs.ActorAssetsConfigReader=ActorAssetsConfigReader})(configs||(configs={}));var configs;(function(configs){var ActorAssetsLvConfigReaderStruct=(function(_super){__extends(ActorAssetsLvConfigReaderStruct,_super);function ActorAssetsLvConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorAssetsLv";return _this}ActorAssetsLvConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorAssetsLvConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.star1_num=csvGetInt(csv,this.GetHeadIndex("star1_num"));config.star2_num=csvGetInt(csv,this.GetHeadIndex("star2_num"));config.star3_num=csvGetInt(csv,this.GetHeadIndex("star3_num"));config.star4_num=csvGetInt(csv,this.GetHeadIndex("star4_num"));config.star5_num=csvGetInt(csv,this.GetHeadIndex("star5_num"));config.star6_num=csvGetInt(csv,this.GetHeadIndex("star6_num"));config.star1_value=csvGetInt(csv,this.GetHeadIndex("star1_value"));config.star2_value=csvGetInt(csv,this.GetHeadIndex("star2_value"));config.star3_value=csvGetInt(csv,this.GetHeadIndex("star3_value"));config.star4_value=csvGetInt(csv,this.GetHeadIndex("star4_value"));config.star5_value=csvGetInt(csv,this.GetHeadIndex("star5_value"));config.star6_value=csvGetInt(csv,this.GetHeadIndex("star6_value"));config.sex_1101=csvGetInt(csv,this.GetHeadIndex("sex_1101"));config.sex_1102=csvGetInt(csv,this.GetHeadIndex("sex_1102"));config.c_1201=csvGetInt(csv,this.GetHeadIndex("c_1201"));config.c_1202=csvGetInt(csv,this.GetHeadIndex("c_1202"));config.c_1203=csvGetInt(csv,this.GetHeadIndex("c_1203"));config.p_1401=csvGetInt(csv,this.GetHeadIndex("p_1401"));config.p_1402=csvGetInt(csv,this.GetHeadIndex("p_1402"));config.y_1501=csvGetInt(csv,this.GetHeadIndex("y_1501"));config.y_1502=csvGetInt(csv,this.GetHeadIndex("y_1502"));config.star1_max=csvGetInt(csv,this.GetHeadIndex("star1_max"));config.star2_max=csvGetInt(csv,this.GetHeadIndex("star2_max"));config.star3_max=csvGetInt(csv,this.GetHeadIndex("star3_max"));config.star4_max=csvGetInt(csv,this.GetHeadIndex("star4_max"));config.star5_max=csvGetInt(csv,this.GetHeadIndex("star5_max"));config.star6_max=csvGetInt(csv,this.GetHeadIndex("star6_max"));this.addConfig(config)};return ActorAssetsLvConfigReaderStruct}(configs.CsvConfigRender));configs.ActorAssetsLvConfigReaderStruct=ActorAssetsLvConfigReaderStruct})(configs||(configs={}));configs.ActorAssetsLvConfigReader=configs.ActorAssetsLvConfigReaderStruct;var configs;(function(configs){var ActorConfigReaderStruct=(function(_super){__extends(ActorConfigReaderStruct,_super);function ActorConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Actor";return _this}ActorConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.random_name=csvGetInt(csv,this.GetHeadIndex("random_name"));config.star=csvGetInt(csv,this.GetHeadIndex("star"));config.sex=csvGetInt(csv,this.GetHeadIndex("sex"));config.country=csvGetInt(csv,this.GetHeadIndex("country"));config.show_type=csvGetInt(csv,this.GetHeadIndex("show_type"));config.age_type=csvGetInt(csv,this.GetHeadIndex("age_type"));config.avatar=csvGetInt(csv,this.GetHeadIndex("avatar"));config.spectacle=csvGetInt(csv,this.GetHeadIndex("spectacle"));config.perform=csvGetInt(csv,this.GetHeadIndex("perform"));config.plot=csvGetInt(csv,this.GetHeadIndex("plot"));config.art=csvGetInt(csv,this.GetHeadIndex("art"));config.entertainment=csvGetInt(csv,this.GetHeadIndex("entertainment"));config.main_id=csvGetInt(csv,this.GetHeadIndex("main_id"));config.skill=configs.DTActorSkill.parseArray(csvGetString(csv,this.GetHeadIndex("skill")));config.story_type=configs.DTActorStory.parseArray(csvGetString(csv,this.GetHeadIndex("story_type")));config.story_feature=configs.DTActorFeature.parseArray(csvGetString(csv,this.GetHeadIndex("story_feature")));config.character=configs.DTActorCharacter.parseArray(csvGetString(csv,this.GetHeadIndex("character")));config.surprise=csvGetInt(csv,this.GetHeadIndex("surprise"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.recruit_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("recruit_reward")));config.enable_cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("enable_cost")));config.random_value=csvGetInt(csv,this.GetHeadIndex("random_value"));config.exp=csvGetInt(csv,this.GetHeadIndex("exp"));config.paycheck=csvGetInt(csv,this.GetHeadIndex("paycheck"));config.stamina=csvGetInt(csv,this.GetHeadIndex("stamina"));config.culture=csvGetInt(csv,this.GetHeadIndex("culture"));config.assets=csvGetInt(csv,this.GetHeadIndex("assets"));config.en_tips=csvGetString(csv,this.GetHeadIndex("en_tips"));config.cn_tips=csvGetString(csv,this.GetHeadIndex("cn_tips"));config.en_getway=csvGetString(csv,this.GetHeadIndex("en_getway"));config.cn_getway=csvGetString(csv,this.GetHeadIndex("cn_getway"));this.addConfig(config)};return ActorConfigReaderStruct}(configs.CsvConfigRender));configs.ActorConfigReaderStruct=ActorConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ActorConfigReader=(function(_super){__extends(ActorConfigReader,_super);function ActorConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}ActorConfigReader.prototype.GetRequire=function(id){var cfg=this.getConfig(id);var list=[];var map={};map[Games.ActorRequireEnum.sex.toString()]=cfg.sex;map[Games.ActorRequireEnum.age.toString()]=cfg.age_type;map[Games.ActorRequireEnum.Continents.toString()]=cfg.country;map[Games.ActorRequireEnum.type.toString()]=cfg.show_type;return map};ActorConfigReader.prototype.GetBodyIconUrl=function(id){var cfg=this.getConfig(id);if(cfg){return Game.config.avatar.GetBodyIconUrl(cfg.avatar)}return""};return ActorConfigReader}(configs.ActorConfigReaderStruct));configs.ActorConfigReader=ActorConfigReader})(configs||(configs={}));var configs;(function(configs){var ActorLevelConfigReaderStruct=(function(_super){__extends(ActorLevelConfigReaderStruct,_super);function ActorLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorLevel";return _this}ActorLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.star1_vice=csvGetInt(csv,this.GetHeadIndex("star1_vice"));config.star1_main=csvGetInt(csv,this.GetHeadIndex("star1_main"));config.star2_vice=csvGetInt(csv,this.GetHeadIndex("star2_vice"));config.star2_main=csvGetInt(csv,this.GetHeadIndex("star2_main"));config.star3_vice=csvGetInt(csv,this.GetHeadIndex("star3_vice"));config.star3_main=csvGetInt(csv,this.GetHeadIndex("star3_main"));config.star4_vice=csvGetInt(csv,this.GetHeadIndex("star4_vice"));config.star4_main=csvGetInt(csv,this.GetHeadIndex("star4_main"));config.star5_vice=csvGetInt(csv,this.GetHeadIndex("star5_vice"));config.star5_main=csvGetInt(csv,this.GetHeadIndex("star5_main"));config.star6_vice=csvGetInt(csv,this.GetHeadIndex("star6_vice"));config.star6_main=csvGetInt(csv,this.GetHeadIndex("star6_main"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.star1_paycheck=csvGetInt(csv,this.GetHeadIndex("star1_paycheck"));config.star2_paycheck=csvGetInt(csv,this.GetHeadIndex("star2_paycheck"));config.star3_paycheck=csvGetInt(csv,this.GetHeadIndex("star3_paycheck"));config.star4_paycheck=csvGetInt(csv,this.GetHeadIndex("star4_paycheck"));config.star5_paycheck=csvGetInt(csv,this.GetHeadIndex("star5_paycheck"));config.star6_paycheck=csvGetInt(csv,this.GetHeadIndex("star6_paycheck"));config.star1_assets=csvGetInt(csv,this.GetHeadIndex("star1_assets"));config.star2_assets=csvGetInt(csv,this.GetHeadIndex("star2_assets"));config.star3_assets=csvGetInt(csv,this.GetHeadIndex("star3_assets"));config.star4_assets=csvGetInt(csv,this.GetHeadIndex("star4_assets"));config.star5_assets=csvGetInt(csv,this.GetHeadIndex("star5_assets"));config.star6_assets=csvGetInt(csv,this.GetHeadIndex("star6_assets"));config.star1_stamina=csvGetInt(csv,this.GetHeadIndex("star1_stamina"));config.star2_stamina=csvGetInt(csv,this.GetHeadIndex("star2_stamina"));config.star3_stamina=csvGetInt(csv,this.GetHeadIndex("star3_stamina"));config.star4_stamina=csvGetInt(csv,this.GetHeadIndex("star4_stamina"));config.star5_stamina=csvGetInt(csv,this.GetHeadIndex("star5_stamina"));config.star6_stamina=csvGetInt(csv,this.GetHeadIndex("star6_stamina"));config.culture=csvGetInt(csv,this.GetHeadIndex("culture"));this.addConfig(config)};return ActorLevelConfigReaderStruct}(configs.CsvConfigRender));configs.ActorLevelConfigReaderStruct=ActorLevelConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ActorLevelConfigReader=(function(_super){__extends(ActorLevelConfigReader,_super);function ActorLevelConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}ActorLevelConfigReader.prototype.getConfigByIdLv=function(id,lv){var actorConfig=Game.config.actor.getConfig(id);if(actorConfig){}return this.getConfig(id)};return ActorLevelConfigReader}(configs.ActorLevelConfigReaderStruct));configs.ActorLevelConfigReader=ActorLevelConfigReader})(configs||(configs={}));var configs;(function(configs){var ActorLoyaltyConfigReaderStruct=(function(_super){__extends(ActorLoyaltyConfigReaderStruct,_super);function ActorLoyaltyConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorLoyalty";return _this}ActorLoyaltyConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorLoyaltyConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.exp=csvGetInt(csv,this.GetHeadIndex("exp"));config.max_lv=csvGetInt(csv,this.GetHeadIndex("max_lv"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorLoyaltyConfigReaderStruct}(configs.CsvConfigRender));configs.ActorLoyaltyConfigReaderStruct=ActorLoyaltyConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ActorLoyaltyConfigReader=(function(_super){__extends(ActorLoyaltyConfigReader,_super);function ActorLoyaltyConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.acotrLoyaltyDict=new Dictionary();return _this}ActorLoyaltyConfigReader.prototype.addConfig=function(cfg){_super.prototype.addConfig.call(this,cfg);var actorId=this.getActorId(cfg.id);var lvs;if(this.acotrLoyaltyDict.hasKey(actorId)==false){lvs=[];this.acotrLoyaltyDict.add(actorId,lvs)}else{lvs=this.acotrLoyaltyDict.getValue(actorId)}if(lvs.length==0||(lvs.length>0&&lvs[lvs.length-1]!=cfg.max_lv)){lvs.push(cfg.max_lv)}};ActorLoyaltyConfigReader.prototype.getLoyaltyId=function(id,lv){return id*100+lv};ActorLoyaltyConfigReader.prototype.getActorId=function(id){return Math.floor(id/100)};ActorLoyaltyConfigReader.prototype.getConfigByIdLv=function(id,lv){var id=this.getLoyaltyId(id,lv);return this.getConfig(id)};ActorLoyaltyConfigReader.prototype.getCurMaxLv=function(id,lv,realMaxLv){var maxlv=0;var lvs=this.acotrLoyaltyDict.getValue(id);if(lvs&&lvs.length>0){for(var index=0;index<lvs.length;index++){var element=lvs[index];if(element>lv){maxlv=element;break}else{if(element==lv){if(realMaxLv<=element){maxlv=element;break}}}}}return maxlv};ActorLoyaltyConfigReader.prototype.getMaxLv=function(id,lv){var maxlv=0;var lvs=this.acotrLoyaltyDict.getValue(id);if(lvs&&lvs.length>0){for(var index=0;index<lvs.length;index++){var element=lvs[index];if(element>=lv){maxlv=element;break}}}return maxlv};return ActorLoyaltyConfigReader}(configs.ActorLoyaltyConfigReaderStruct));configs.ActorLoyaltyConfigReader=ActorLoyaltyConfigReader})(configs||(configs={}));var configs;(function(configs){var ActorProficiencyConfigReaderStruct=(function(_super){__extends(ActorProficiencyConfigReaderStruct,_super);function ActorProficiencyConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorProficiency";return _this}ActorProficiencyConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorProficiencyConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.shoot_type=csvGetInt(csv,this.GetHeadIndex("shoot_type"));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.shoot_exp=csvGetInt(csv,this.GetHeadIndex("shoot_exp"));config.exp=csvGetInt(csv,this.GetHeadIndex("exp"));config.proficiency=configs.DTProficiency.parse(csvGetString(csv,this.GetHeadIndex("proficiency")));this.addConfig(config)};return ActorProficiencyConfigReaderStruct}(configs.CsvConfigRender));configs.ActorProficiencyConfigReaderStruct=ActorProficiencyConfigReaderStruct})(configs||(configs={}));configs.ActorProficiencyConfigReader=configs.ActorProficiencyConfigReaderStruct;var configs;(function(configs){var ActorTrainConfigReaderStruct=(function(_super){__extends(ActorTrainConfigReaderStruct,_super);function ActorTrainConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorTrain";return _this}ActorTrainConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorTrainConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.train_type=csvGetInt(csv,this.GetHeadIndex("train_type"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.property=toIntArray(csvGetString(csv,this.GetHeadIndex("property")));config.en_scene_name=csvGetString(csv,this.GetHeadIndex("en_scene_name"));config.cn_scene_name=csvGetString(csv,this.GetHeadIndex("cn_scene_name"));config.action=csvGetInt(csv,this.GetHeadIndex("action"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return ActorTrainConfigReaderStruct}(configs.CsvConfigRender));configs.ActorTrainConfigReaderStruct=ActorTrainConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ActorTrainConfigReader=(function(_super){__extends(ActorTrainConfigReader,_super);function ActorTrainConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return ActorTrainConfigReader}(configs.ActorTrainConfigReaderStruct));configs.ActorTrainConfigReader=ActorTrainConfigReader})(configs||(configs={}));var configs;(function(configs){var ActorTrainLvConfigReaderStruct=(function(_super){__extends(ActorTrainLvConfigReaderStruct,_super);function ActorTrainLvConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ActorTrainLv";return _this}ActorTrainLvConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ActorTrainLvConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.star1_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star1_vice")));config.star1_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star1_main")));config.star2_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star2_vice")));config.star2_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star2_main")));config.star3_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star3_vice")));config.star3_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star3_main")));config.star4_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star4_vice")));config.star4_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star4_main")));config.star5_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star5_vice")));config.star5_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star5_main")));config.star6_vice=toIntArray(csvGetString(csv,this.GetHeadIndex("star6_vice")));config.star6_main=toIntArray(csvGetString(csv,this.GetHeadIndex("star6_main")));config.cost=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("cost")));config.diamonds_cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("diamonds_cost")));this.addConfig(config)};return ActorTrainLvConfigReaderStruct}(configs.CsvConfigRender));configs.ActorTrainLvConfigReaderStruct=ActorTrainLvConfigReaderStruct})(configs||(configs={}));configs.ActorTrainLvConfigReader=configs.ActorTrainLvConfigReaderStruct;var configs;(function(configs){var AvatarConfigReaderStruct=(function(_super){__extends(AvatarConfigReaderStruct,_super);function AvatarConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Avatar";return _this}AvatarConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.AvatarConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name_e=csvGetString(csv,this.GetHeadIndex("name_e"));config.name_c=csvGetString(csv,this.GetHeadIndex("name_c"));config.body_icon=csvGetString(csv,this.GetHeadIndex("body_icon"));config.zh_cn_icon=csvGetString(csv,this.GetHeadIndex("zh_cn_icon"));config.en_icon=csvGetString(csv,this.GetHeadIndex("en_icon"));config.piece_icon=csvGetString(csv,this.GetHeadIndex("piece_icon"));config.model_skin=csvGetString(csv,this.GetHeadIndex("model_skin"));config.model_bones=csvGetString(csv,this.GetHeadIndex("model_bones"));config.bg_pic=csvGetString(csv,this.GetHeadIndex("bg_pic"));config.co_vector=configs.DTVector2.parse(csvGetString(csv,this.GetHeadIndex("co_vector")));this.addConfig(config)};return AvatarConfigReaderStruct}(configs.CsvConfigRender));configs.AvatarConfigReaderStruct=AvatarConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var AvatarConfigReader=(function(_super){__extends(AvatarConfigReader,_super);function AvatarConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listBoxOfficeIcon=[6023,6024,6025,6026,6027,6028];return _this}AvatarConfigReader.prototype.GetAvatarInfo=function(id){var avatarCfg=this.getConfig(id);var avatarInfo=new Games.AvatarInfo();avatarInfo.texturePath=avatarCfg.modelSkinUrl;avatarInfo.skeletonPath=avatarCfg.modelBoneUrl;avatarInfo.type=Games.AvatarType.Npc;return avatarInfo};AvatarConfigReader.prototype.GetBodyIconUrl=function(avatarId){var cfg=this.getConfig(avatarId);if(cfg){return cfg.bodyIconUrl}return""};AvatarConfigReader.prototype.GetIconUrl=function(avatarId){var cfg=this.getConfig(avatarId);if(cfg){return cfg.iconUrl}return""};AvatarConfigReader.prototype.GetBoxOfficEvaluationIconUrl=function(index){var avatarIcon=this.listBoxOfficeIcon[index];if(avatarIcon){return Game.config.avatar.GetIconUrl(this.listBoxOfficeIcon[index])}console.log("票房等级"+index+"没有数据");return""};return AvatarConfigReader}(configs.AvatarConfigReaderStruct));configs.AvatarConfigReader=AvatarConfigReader})(configs||(configs={}));var configs;(function(configs){var BattleLevelConfigReaderStruct=(function(_super){__extends(BattleLevelConfigReaderStruct,_super);function BattleLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BattleLevel";return _this}BattleLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BattleLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type_con=csvGetInt(csv,this.GetHeadIndex("type_con"));config.tag_con=csvGetInt(csv,this.GetHeadIndex("tag_con"));config.character_con=csvGetInt(csv,this.GetHeadIndex("character_con"));this.addConfig(config)};return BattleLevelConfigReaderStruct}(configs.CsvConfigRender));configs.BattleLevelConfigReaderStruct=BattleLevelConfigReaderStruct})(configs||(configs={}));configs.BattleLevelConfigReader=configs.BattleLevelConfigReaderStruct;var configs;(function(configs){var BattleShootTypeConfigReaderStruct=(function(_super){__extends(BattleShootTypeConfigReaderStruct,_super);function BattleShootTypeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BattleShootType";return _this}BattleShootTypeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BattleShootTypeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.man=csvGetInt(csv,this.GetHeadIndex("man"));config.woman=csvGetInt(csv,this.GetHeadIndex("woman"));config.child=csvGetInt(csv,this.GetHeadIndex("child"));this.addConfig(config)};return BattleShootTypeConfigReaderStruct}(configs.CsvConfigRender));configs.BattleShootTypeConfigReaderStruct=BattleShootTypeConfigReaderStruct})(configs||(configs={}));configs.BattleShootTypeConfigReader=configs.BattleShootTypeConfigReaderStruct;var configs;(function(configs){var BlockLevelConfigReaderStruct=(function(_super){__extends(BlockLevelConfigReaderStruct,_super);function BlockLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BlockLevel";return _this}BlockLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BlockLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));config.upgrade_req=csvGetInt(csv,this.GetHeadIndex("upgrade_req"));config.upgrade_menu=toIntArray(csvGetString(csv,this.GetHeadIndex("upgrade_menu")));config.upgrade_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("upgrade_reward")));config.daily_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("daily_reward")));config.cinema=toIntArray(csvGetString(csv,this.GetHeadIndex("cinema")));config.storysearchcost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("storysearchcost")));config.storysearchdollar=csvGetInt(csv,this.GetHeadIndex("storysearchdollar"));config.level_multiple=csvGetInt(csv,this.GetHeadIndex("level_multiple"));config.level_con=csvGetInt(csv,this.GetHeadIndex("level_con"));config.theater_level_con=csvGetInt(csv,this.GetHeadIndex("theater_level_con"));config.good=csvGetInt(csv,this.GetHeadIndex("good"));config.big_sell=csvGetInt(csv,this.GetHeadIndex("big_sell"));config.great_sell=csvGetInt(csv,this.GetHeadIndex("great_sell"));config.myth_sell=csvGetInt(csv,this.GetHeadIndex("myth_sell"));config.marvel_sell=csvGetInt(csv,this.GetHeadIndex("marvel_sell"));config.zh_cn_current_msg=toStringArray(csvGetString(csv,this.GetHeadIndex("zh_cn_current_msg")));config.zh_cn_next_msg=toStringArray(csvGetString(csv,this.GetHeadIndex("zh_cn_next_msg")));config.movie_daily_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("movie_daily_reward")));config.task_cd=csvGetInt(csv,this.GetHeadIndex("task_cd"));config.city_gold=csvGetInt(csv,this.GetHeadIndex("city_gold"));config.city_fans=csvGetInt(csv,this.GetHeadIndex("city_fans"));config.party_guest=csvGetInt(csv,this.GetHeadIndex("party_guest"));config.shoot_story=csvGetInt(csv,this.GetHeadIndex("shoot_story"));config.city_envoy_max=csvGetInt(csv,this.GetHeadIndex("city_envoy_max"));config.finance_exchange=csvGetInt(csv,this.GetHeadIndex("finance_exchange"));config.actor_max=csvGetInt(csv,this.GetHeadIndex("actor_max"));config.certificate=csvGetInt(csv,this.GetHeadIndex("certificate"));config.sequel_max=csvGetInt(csv,this.GetHeadIndex("sequel_max"));config.screenwriter_max=csvGetInt(csv,this.GetHeadIndex("screenwriter_max"));config.box_target1=csvGetInt(csv,this.GetHeadIndex("box_target1"));config.box_target1_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("box_target1_reward")));config.box_target2=csvGetInt(csv,this.GetHeadIndex("box_target2"));config.box_target2_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("box_target2_reward")));config.box_target3=csvGetInt(csv,this.GetHeadIndex("box_target3"));config.box_target3_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("box_target3_reward")));config.box_target_all=csvGetInt(csv,this.GetHeadIndex("box_target_all"));config.box_target_all_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("box_target_all_reward")));config.new_effect=csvGetBoolean(csv,this.GetHeadIndex("new_effect"));config.zh_cn_name_tips=csvGetString(csv,this.GetHeadIndex("zh_cn_name_tips"));this.addConfig(config)};return BlockLevelConfigReaderStruct}(configs.CsvConfigRender));configs.BlockLevelConfigReaderStruct=BlockLevelConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var BlockLevelConfigReader=(function(_super){__extends(BlockLevelConfigReader,_super);function BlockLevelConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}BlockLevelConfigReader.prototype.getSellIcon=function(val){var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].id===User.info.stall){if(val>=list[i].marvel_sell){return 6028}else{if(val>=list[i].myth_sell){return 6027}else{if(val>=list[i].great_sell){return 6026}else{if(val>=list[i].big_sell){return 6025}else{if(val>=list[i].good){return 6024}else{return 6023}}}}}}}};BlockLevelConfigReader.prototype.GetSellIconUrl=function(block,boxOffic){var cfg=Game.config.blockLevel.getConfig(block);if(cfg){return cfg.GetSellIconUrl(boxOffic)}console.log("街区"+block+"缺少配置");return""};BlockLevelConfigReader.prototype.GetNextSteetCfg=function(streetId){var list=this.getConfigList();for(var index=0;index<list.length;index++){var cfg=list[index];if(cfg.id==streetId){return list[index+1]}}return null};BlockLevelConfigReader.prototype.GetLastStreetCfg=function(streetId){var list=this.getConfigList();for(var index=0;index<list.length;index++){var cfg=list[index];if(cfg.id==streetId){if(index>0){return list[index-1]}}}return null};return BlockLevelConfigReader}(configs.BlockLevelConfigReaderStruct));configs.BlockLevelConfigReader=BlockLevelConfigReader})(configs||(configs={}));var configs;(function(configs){var BlockRankingListConfigReaderStruct=(function(_super){__extends(BlockRankingListConfigReaderStruct,_super);function BlockRankingListConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BlockRankingList";return _this}BlockRankingListConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BlockRankingListConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.rank=csvGetInt(csv,this.GetHeadIndex("rank"));config.movie_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("movie_reward")));config.box_office_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("box_office_reward")));config.extra_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("extra_reward")));config.congratulate_switch=csvGetBoolean(csv,this.GetHeadIndex("congratulate_switch"));config.congratulate_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("congratulate_reward")));this.addConfig(config)};return BlockRankingListConfigReaderStruct}(configs.CsvConfigRender));configs.BlockRankingListConfigReaderStruct=BlockRankingListConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var BlockRankingListConfigReader=(function(_super){__extends(BlockRankingListConfigReader,_super);function BlockRankingListConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}BlockRankingListConfigReader.prototype.GetReward=function(type,rank){var id=type*1000+rank;var cfg=this.getConfig(id);if(cfg){return cfg.reward}return[]};return BlockRankingListConfigReader}(configs.BlockRankingListConfigReaderStruct));configs.BlockRankingListConfigReader=BlockRankingListConfigReader})(configs||(configs={}));var configs;(function(configs){var BlockWordsConfigReaderStruct=(function(_super){__extends(BlockWordsConfigReaderStruct,_super);function BlockWordsConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BlockWords";return _this}BlockWordsConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BlockWordsConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.text=csvGetString(csv,this.GetHeadIndex("text"));this.addConfig(config)};return BlockWordsConfigReaderStruct}(configs.CsvConfigRender));configs.BlockWordsConfigReaderStruct=BlockWordsConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var BlockWordsConfigReader=(function(_super){__extends(BlockWordsConfigReader,_super);function BlockWordsConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}BlockWordsConfigReader.prototype.hasWord=function(target){var words=this.getConfigList();for(var _i=0,words_1=words;_i<words_1.length;_i++){var word=words_1[_i];if(target.indexOf(word.text)!=-1){return true}}return false};return BlockWordsConfigReader}(configs.BlockWordsConfigReaderStruct));configs.BlockWordsConfigReader=BlockWordsConfigReader})(configs||(configs={}));var configs;(function(configs){var BoxTargetConfigReaderStruct=(function(_super){__extends(BoxTargetConfigReaderStruct,_super);function BoxTargetConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BoxTarget";return _this}BoxTargetConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BoxTargetConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.target=csvGetInt(csv,this.GetHeadIndex("target"));config.zh_cn_dialog=csvGetString(csv,this.GetHeadIndex("zh_cn_dialog"));config.zh_cn_title=csvGetString(csv,this.GetHeadIndex("zh_cn_title"));config.zh_cn_targettext=csvGetString(csv,this.GetHeadIndex("zh_cn_targettext"));config.zh_cn_timetext=csvGetString(csv,this.GetHeadIndex("zh_cn_timetext"));config.time=csvGetInt(csv,this.GetHeadIndex("time"));config.zh_cn_reward=csvGetString(csv,this.GetHeadIndex("zh_cn_reward"));config.zh_cn__final=csvGetString(csv,this.GetHeadIndex("zh_cn_final"));config.zh_cn_button=csvGetString(csv,this.GetHeadIndex("zh_cn_button"));this.addConfig(config)};return BoxTargetConfigReaderStruct}(configs.CsvConfigRender));configs.BoxTargetConfigReaderStruct=BoxTargetConfigReaderStruct})(configs||(configs={}));configs.BoxTargetConfigReader=configs.BoxTargetConfigReaderStruct;var configs;(function(configs){var BuildingEffectConfigReaderStruct=(function(_super){__extends(BuildingEffectConfigReaderStruct,_super);function BuildingEffectConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BuildingEffect";return _this}BuildingEffectConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BuildingEffectConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.zh_cn_effect_des=csvGetString(csv,this.GetHeadIndex("zh_cn_effect_des"));config.effect=csvGetInt(csv,this.GetHeadIndex("effect"));config.par1=csvGetFloat(csv,this.GetHeadIndex("par1"));config.par2=csvGetFloat(csv,this.GetHeadIndex("par2"));config.par3=csvGetFloat(csv,this.GetHeadIndex("par3"));config.par4=csvGetFloat(csv,this.GetHeadIndex("par4"));config.par5=csvGetFloat(csv,this.GetHeadIndex("par5"));this.addConfig(config)};return BuildingEffectConfigReaderStruct}(configs.CsvConfigRender));configs.BuildingEffectConfigReaderStruct=BuildingEffectConfigReaderStruct})(configs||(configs={}));configs.BuildingEffectConfigReader=configs.BuildingEffectConfigReaderStruct;var configs;(function(configs){var BuildingLevelConfigReaderStruct=(function(_super){__extends(BuildingLevelConfigReaderStruct,_super);function BuildingLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="BuildingLevel";return _this}BuildingLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BuildingLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.cost=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("cost")));config.level_req=csvGetInt(csv,this.GetHeadIndex("level_req"));config.type_level=configs.DTBuildingReq.parseArray(csvGetString(csv,this.GetHeadIndex("type_level")));config.block_req=csvGetInt(csv,this.GetHeadIndex("block_req"));config.function_open=toIntArray(csvGetString(csv,this.GetHeadIndex("function_open")));config.UI=csvGetBoolean(csv,this.GetHeadIndex("UI"));config.effect_id=toIntArray(csvGetString(csv,this.GetHeadIndex("effect_id")));config.zh_cn_effect_tips=csvGetString(csv,this.GetHeadIndex("zh_cn_effect_tips"));config.zh_cn_level_tips=csvGetString(csv,this.GetHeadIndex("zh_cn_level_tips"));config.building_small=csvGetInt(csv,this.GetHeadIndex("building_small"));this.addConfig(config)};return BuildingLevelConfigReaderStruct}(configs.CsvConfigRender));configs.BuildingLevelConfigReaderStruct=BuildingLevelConfigReaderStruct})(configs||(configs={}));configs.BuildingLevelConfigReader=configs.BuildingLevelConfigReaderStruct;var configs;(function(configs){var BusinessConfigReaderStruct=(function(_super){__extends(BusinessConfigReaderStruct,_super);function BusinessConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Business";return _this}BusinessConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.BusinessConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_from=csvGetString(csv,this.GetHeadIndex("zh_cn_from"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.zh_cn_description=csvGetString(csv,this.GetHeadIndex("zh_cn_description"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));this.addConfig(config)};return BusinessConfigReaderStruct}(configs.CsvConfigRender));configs.BusinessConfigReaderStruct=BusinessConfigReaderStruct})(configs||(configs={}));configs.BusinessConfigReader=configs.BusinessConfigReaderStruct;var configs;(function(configs){var CinemaConfigReaderStruct=(function(_super){__extends(CinemaConfigReaderStruct,_super);function CinemaConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Cinema";return _this}CinemaConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CinemaConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.sign_level=csvGetInt(csv,this.GetHeadIndex("sign_level"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));config.num=csvGetInt(csv,this.GetHeadIndex("num"));config.proportion=csvGetFloat(csv,this.GetHeadIndex("proportion"));config.favorite_actor=csvGetInt(csv,this.GetHeadIndex("favorite_actor"));config.increase=csvGetInt(csv,this.GetHeadIndex("increase"));config.unlock=csvGetInt(csv,this.GetHeadIndex("unlock"));this.addConfig(config)};return CinemaConfigReaderStruct}(configs.CsvConfigRender));configs.CinemaConfigReaderStruct=CinemaConfigReaderStruct})(configs||(configs={}));configs.CinemaConfigReader=configs.CinemaConfigReaderStruct;var configs;(function(configs){var CityConfigReaderStruct=(function(_super){__extends(CityConfigReaderStruct,_super);function CityConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="City";return _this}CityConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CityConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.city_num=csvGetInt(csv,this.GetHeadIndex("city_num"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.street_num=csvGetInt(csv,this.GetHeadIndex("street_num"));config.street_id=toIntArray(csvGetString(csv,this.GetHeadIndex("street_id")));config.show_cost=csvGetInt(csv,this.GetHeadIndex("show_cost"));config.show_need=csvGetInt(csv,this.GetHeadIndex("show_need"));config.hold_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("hold_reward")));config.envoy1_sex=csvGetInt(csv,this.GetHeadIndex("envoy1_sex"));config.envoy1_Continents=csvGetInt(csv,this.GetHeadIndex("envoy1_Continents"));config.envoy1_type=csvGetInt(csv,this.GetHeadIndex("envoy1_type"));config.envoy1_age=csvGetInt(csv,this.GetHeadIndex("envoy1_age"));config.envoy1_scene=csvGetInt(csv,this.GetHeadIndex("envoy1_scene"));config.envoy1_performance=csvGetInt(csv,this.GetHeadIndex("envoy1_performance"));config.envoy1_plot=csvGetInt(csv,this.GetHeadIndex("envoy1_plot"));config.envoy1_art=csvGetInt(csv,this.GetHeadIndex("envoy1_art"));config.envoy1_entertainment=csvGetInt(csv,this.GetHeadIndex("envoy1_entertainment"));config.envoy2_sex=csvGetInt(csv,this.GetHeadIndex("envoy2_sex"));config.envoy2_Continents=csvGetInt(csv,this.GetHeadIndex("envoy2_Continents"));config.envoy2_type=csvGetInt(csv,this.GetHeadIndex("envoy2_type"));config.envoy2_age=csvGetInt(csv,this.GetHeadIndex("envoy2_age"));config.envoy2_scene=csvGetInt(csv,this.GetHeadIndex("envoy2_scene"));config.envoy2_performance=csvGetInt(csv,this.GetHeadIndex("envoy2_performance"));config.envoy2_plot=csvGetInt(csv,this.GetHeadIndex("envoy2_plot"));config.envoy2_art=csvGetInt(csv,this.GetHeadIndex("envoy2_art"));config.envoy2_entertainment=csvGetInt(csv,this.GetHeadIndex("envoy2_entertainment"));config.envoy3_sex=csvGetInt(csv,this.GetHeadIndex("envoy3_sex"));config.envoy3_Continents=csvGetInt(csv,this.GetHeadIndex("envoy3_Continents"));config.envoy3_type=csvGetInt(csv,this.GetHeadIndex("envoy3_type"));config.envoy3_age=csvGetInt(csv,this.GetHeadIndex("envoy3_age"));config.envoy3_scene=csvGetInt(csv,this.GetHeadIndex("envoy3_scene"));config.envoy3_performance=csvGetInt(csv,this.GetHeadIndex("envoy3_performance"));config.envoy3_plot=csvGetInt(csv,this.GetHeadIndex("envoy3_plot"));config.envoy3_art=csvGetInt(csv,this.GetHeadIndex("envoy3_art"));config.envoy3_entertainment=csvGetInt(csv,this.GetHeadIndex("envoy3_entertainment"));config.envoy4_sex=csvGetInt(csv,this.GetHeadIndex("envoy4_sex"));config.envoy4_Continents=csvGetInt(csv,this.GetHeadIndex("envoy4_Continents"));config.envoy4_type=csvGetInt(csv,this.GetHeadIndex("envoy4_type"));config.envoy4_age=csvGetInt(csv,this.GetHeadIndex("envoy4_age"));config.envoy4_scene=csvGetInt(csv,this.GetHeadIndex("envoy4_scene"));config.envoy4_performance=csvGetInt(csv,this.GetHeadIndex("envoy4_performance"));config.envoy4_plot=csvGetInt(csv,this.GetHeadIndex("envoy4_plot"));config.envoy4_art=csvGetInt(csv,this.GetHeadIndex("envoy4_art"));config.envoy4_entertainment=csvGetInt(csv,this.GetHeadIndex("envoy4_entertainment"));config.envoy5_sex=csvGetInt(csv,this.GetHeadIndex("envoy5_sex"));config.envoy5_Continents=csvGetInt(csv,this.GetHeadIndex("envoy5_Continents"));config.envoy5_type=csvGetInt(csv,this.GetHeadIndex("envoy5_type"));config.envoy5_age=csvGetInt(csv,this.GetHeadIndex("envoy5_age"));config.envoy5_scene=csvGetInt(csv,this.GetHeadIndex("envoy5_scene"));config.envoy5_performance=csvGetInt(csv,this.GetHeadIndex("envoy5_performance"));config.envoy5_plot=csvGetInt(csv,this.GetHeadIndex("envoy5_plot"));config.envoy5_art=csvGetInt(csv,this.GetHeadIndex("envoy5_art"));config.envoy5_entertainment=csvGetInt(csv,this.GetHeadIndex("envoy5_entertainment"));config.drop_out=toIntArray(csvGetString(csv,this.GetHeadIndex("drop_out")));config.random_out=toIntArray(csvGetString(csv,this.GetHeadIndex("random_out")));config.order_qua=toIntArray(csvGetString(csv,this.GetHeadIndex("order_qua")));config.order_num=csvGetInt(csv,this.GetHeadIndex("order_num"));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.next_city=csvGetInt(csv,this.GetHeadIndex("next_city"));config.cut_scene=csvGetInt(csv,this.GetHeadIndex("cut_scene"));config.new_user_guide=csvGetInt(csv,this.GetHeadIndex("new_user_guide"));config.country=csvGetInt(csv,this.GetHeadIndex("country"));config.popularize_id=csvGetInt(csv,this.GetHeadIndex("popularize_id"));this.addConfig(config)};return CityConfigReaderStruct}(configs.CsvConfigRender));configs.CityConfigReaderStruct=CityConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var CityConfigReader=(function(_super){__extends(CityConfigReader,_super);function CityConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}CityConfigReader.prototype.getCitysByCountry=function(countryId){var retLst=[];var cfgList=this.getConfigList();for(var index=0;index<cfgList.length;index++){var cfg=cfgList[index];if(cfg.country==countryId){retLst.push(cfg)}}return retLst};CityConfigReader.prototype.GetCityRequire=function(id){var retLst=[];var cfg=this.getConfig(id);if(cfg){return cfg.Require}return[[],[],[],[],[]]};CityConfigReader.prototype.GetCityByNum=function(num){if(this.dicCityNum==null){this.dicCityNum=new Dictionary();var list=this.getConfigList();for(var index=0;index<list.length;index++){var cfg=list[index];this.dicCityNum.add(cfg.city_num,cfg)}}return this.dicCityNum.getValue(num)};CityConfigReader.prototype.GetCityName=function(id){var cfg=this.getConfig(id);if(cfg){return cfg.name}return""};CityConfigReader.prototype.sort=function(a,b){var ca=this.getConfig(a);var cb=this.getConfig(b);if(ca&&cb){return ca.city_num-cb.city_num}if(ca==null){return -1}if(cb==null){return 1}};return CityConfigReader}(configs.CityConfigReaderStruct));configs.CityConfigReader=CityConfigReader})(configs||(configs={}));var configs;(function(configs){var CityPopularizeConfigReaderStruct=(function(_super){__extends(CityPopularizeConfigReaderStruct,_super);function CityPopularizeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="CityPopularize";return _this}CityPopularizeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CityPopularizeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.level_out_3=csvGetInt(csv,this.GetHeadIndex("level_out_3"));config.level_num_3=csvGetInt(csv,this.GetHeadIndex("level_num_3"));config.level_chance_3=csvGetInt(csv,this.GetHeadIndex("level_chance_3"));config.level_out_7=csvGetInt(csv,this.GetHeadIndex("level_out_7"));config.level_num_7=csvGetInt(csv,this.GetHeadIndex("level_num_7"));config.level_chance_7=csvGetInt(csv,this.GetHeadIndex("level_chance_7"));config.level_out_10=csvGetInt(csv,this.GetHeadIndex("level_out_10"));config.level_num_10=csvGetInt(csv,this.GetHeadIndex("level_num_10"));config.level_chance_10=csvGetInt(csv,this.GetHeadIndex("level_chance_10"));config.level_out_15=csvGetInt(csv,this.GetHeadIndex("level_out_15"));config.level_num_15=csvGetInt(csv,this.GetHeadIndex("level_num_15"));config.level_chance_15=csvGetInt(csv,this.GetHeadIndex("level_chance_15"));config.level_out_20=csvGetInt(csv,this.GetHeadIndex("level_out_20"));config.level_num_20=csvGetInt(csv,this.GetHeadIndex("level_num_20"));config.level_chance_20=csvGetInt(csv,this.GetHeadIndex("level_chance_20"));this.addConfig(config)};return CityPopularizeConfigReaderStruct}(configs.CsvConfigRender));configs.CityPopularizeConfigReaderStruct=CityPopularizeConfigReaderStruct})(configs||(configs={}));configs.CityPopularizeConfigReader=configs.CityPopularizeConfigReaderStruct;var configs;(function(configs){var CompleteConfigReaderStruct=(function(_super){__extends(CompleteConfigReaderStruct,_super);function CompleteConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Complete";return _this}CompleteConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CompleteConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.module=csvGetString(csv,this.GetHeadIndex("module"));config.completion=csvGetInt(csv,this.GetHeadIndex("completion"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return CompleteConfigReaderStruct}(configs.CsvConfigRender));configs.CompleteConfigReaderStruct=CompleteConfigReaderStruct})(configs||(configs={}));var configs;(function(configs_1){var CompleteConfigReader=(function(_super){__extends(CompleteConfigReader,_super);function CompleteConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.completeDict=new Dictionary();return _this}CompleteConfigReader.prototype.getCompleteList=function(progressId){if(!this.completeDict.hasKey(progressId)){this.completeDict.add(progressId,[])}return this.completeDict.getValue(progressId)};CompleteConfigReader.prototype.onGameLoadedAll=function(){var configs=this.getConfigList();configs=configs.sort(function(a,b){return a.id-b.id});for(var i=0;i<configs.length;i++){var config=configs[i];var progressId=Math.floor(config.id/1000);var list=this.getCompleteList(progressId);list.push(config)}};return CompleteConfigReader}(configs_1.CompleteConfigReaderStruct));configs_1.CompleteConfigReader=CompleteConfigReader})(configs||(configs={}));var configs;(function(configs){var CompoundConfigReaderStruct=(function(_super){__extends(CompoundConfigReaderStruct,_super);function CompoundConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Compound";return _this}CompoundConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CompoundConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name_tips=csvGetString(csv,this.GetHeadIndex("name_tips"));config.syn_item=csvGetInt(csv,this.GetHeadIndex("syn_item"));config.num_req=csvGetInt(csv,this.GetHeadIndex("num_req"));config.split_list=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("split_list")));this.addConfig(config)};return CompoundConfigReaderStruct}(configs.CsvConfigRender));configs.CompoundConfigReaderStruct=CompoundConfigReaderStruct})(configs||(configs={}));configs.CompoundConfigReader=configs.CompoundConfigReaderStruct;var configs;(function(configs){var CooperateRewardConfigReaderStruct=(function(_super){__extends(CooperateRewardConfigReaderStruct,_super);function CooperateRewardConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="CooperateReward";return _this}CooperateRewardConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CooperateRewardConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.first_id=csvGetInt(csv,this.GetHeadIndex("first_id"));config.first_num=csvGetInt(csv,this.GetHeadIndex("first_num"));config.second_id=csvGetInt(csv,this.GetHeadIndex("second_id"));config.second_num=csvGetInt(csv,this.GetHeadIndex("second_num"));config.third_id=csvGetInt(csv,this.GetHeadIndex("third_id"));config.third_num=csvGetInt(csv,this.GetHeadIndex("third_num"));config.fourth_id=csvGetInt(csv,this.GetHeadIndex("fourth_id"));config.fourth_num=csvGetInt(csv,this.GetHeadIndex("fourth_num"));config.fifth_id=csvGetInt(csv,this.GetHeadIndex("fifth_id"));config.fifth_num=csvGetInt(csv,this.GetHeadIndex("fifth_num"));config.sixth_id=csvGetInt(csv,this.GetHeadIndex("sixth_id"));config.six_num=csvGetInt(csv,this.GetHeadIndex("six_num"));this.addConfig(config)};return CooperateRewardConfigReaderStruct}(configs.CsvConfigRender));configs.CooperateRewardConfigReaderStruct=CooperateRewardConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var CooperateRewardConfigReader=(function(_super){__extends(CooperateRewardConfigReader,_super);function CooperateRewardConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return CooperateRewardConfigReader}(configs.CooperateRewardConfigReaderStruct));configs.CooperateRewardConfigReader=CooperateRewardConfigReader})(configs||(configs={}));var configs;(function(configs){var CooperateTaskConfigReaderStruct=(function(_super){__extends(CooperateTaskConfigReaderStruct,_super);function CooperateTaskConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="CooperateTask";return _this}CooperateTaskConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CooperateTaskConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.task_name=csvGetString(csv,this.GetHeadIndex("task_name"));config.task_star=csvGetInt(csv,this.GetHeadIndex("task_star"));config.task_type=csvGetInt(csv,this.GetHeadIndex("task_type"));config.parameter1=toIntArray(csvGetString(csv,this.GetHeadIndex("parameter1")));config.parameter2=toIntArray(csvGetString(csv,this.GetHeadIndex("parameter2")));config.parameter3=toIntArray(csvGetString(csv,this.GetHeadIndex("parameter3")));config.parameter4=toIntArray(csvGetString(csv,this.GetHeadIndex("parameter4")));config.parameter5=toIntArray(csvGetString(csv,this.GetHeadIndex("parameter5")));config.reward_id=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward_id")));this.addConfig(config)};return CooperateTaskConfigReaderStruct}(configs.CsvConfigRender));configs.CooperateTaskConfigReaderStruct=CooperateTaskConfigReaderStruct})(configs||(configs={}));configs.CooperateTaskConfigReader=configs.CooperateTaskConfigReaderStruct;var configs;(function(configs){var CountActivitiesConfigReaderStruct=(function(_super){__extends(CountActivitiesConfigReaderStruct,_super);function CountActivitiesConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="CountActivities";return _this}CountActivitiesConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CountActivitiesConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.count=csvGetInt(csv,this.GetHeadIndex("count"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return CountActivitiesConfigReaderStruct}(configs.CsvConfigRender));configs.CountActivitiesConfigReaderStruct=CountActivitiesConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var CountActivitiesConfigReader=(function(_super){__extends(CountActivitiesConfigReader,_super);function CountActivitiesConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}CountActivitiesConfigReader.prototype.sevenConfigList=function(){var list=this.getConfigList();var result=new Array();for(var i=0;i<list.length;i++){if(list[i].type===1){result.push(list[i])}}return result};return CountActivitiesConfigReader}(configs.CountActivitiesConfigReaderStruct));configs.CountActivitiesConfigReader=CountActivitiesConfigReader})(configs||(configs={}));var configs;(function(configs){var CountryConfigReaderStruct=(function(_super){__extends(CountryConfigReaderStruct,_super);function CountryConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Country";return _this}CountryConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.CountryConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.number=csvGetInt(csv,this.GetHeadIndex("number"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.city_num=csvGetInt(csv,this.GetHeadIndex("city_num"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.flag=csvGetInt(csv,this.GetHeadIndex("flag"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.next_country=csvGetInt(csv,this.GetHeadIndex("next_country"));this.addConfig(config)};return CountryConfigReaderStruct}(configs.CsvConfigRender));configs.CountryConfigReaderStruct=CountryConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var CountryConfigReader=(function(_super){__extends(CountryConfigReader,_super);function CountryConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}CountryConfigReader.prototype.sort=function(a,b){var ca=this.getConfig(a);var cb=this.getConfig(b);if(ca&&cb){return ca.number-cb.number}if(ca==null){return -1}if(cb==null){return 1}};return CountryConfigReader}(configs.CountryConfigReaderStruct));configs.CountryConfigReader=CountryConfigReader})(configs||(configs={}));var configs;(function(configs){var DailySignConfigReaderStruct=(function(_super){__extends(DailySignConfigReaderStruct,_super);function DailySignConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="DailySign";return _this}DailySignConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.DailySignConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.cycle=csvGetInt(csv,this.GetHeadIndex("cycle"));config.day=csvGetInt(csv,this.GetHeadIndex("day"));config.reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("reward")));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return DailySignConfigReaderStruct}(configs.CsvConfigRender));configs.DailySignConfigReaderStruct=DailySignConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var DailySignConfigReader=(function(_super){__extends(DailySignConfigReader,_super);function DailySignConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}DailySignConfigReader.prototype.getSingList=function(cycle){var list=this.getConfigList();var result=new Array();for(var i=0;i<list.length;i++){if(list[i].cycle===cycle){result.push(list[i])}}return result};return DailySignConfigReader}(configs.DailySignConfigReaderStruct));configs.DailySignConfigReader=DailySignConfigReader})(configs||(configs={}));var configs;(function(configs){var DailySignTrailerConfigReaderStruct=(function(_super){__extends(DailySignTrailerConfigReaderStruct,_super);function DailySignTrailerConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="DailySignTrailer";return _this}DailySignTrailerConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.DailySignTrailerConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.day=csvGetInt(csv,this.GetHeadIndex("day"));config.reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("reward")));config.zh_cn_info=csvGetString(csv,this.GetHeadIndex("zh_cn_info"));this.addConfig(config)};return DailySignTrailerConfigReaderStruct}(configs.CsvConfigRender));configs.DailySignTrailerConfigReaderStruct=DailySignTrailerConfigReaderStruct})(configs||(configs={}));configs.DailySignTrailerConfigReader=configs.DailySignTrailerConfigReaderStruct;var configs;(function(configs){var DialogueConfigReaderStruct=(function(_super){__extends(DialogueConfigReaderStruct,_super);function DialogueConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Dialogue";return _this}DialogueConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.DialogueConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.face=csvGetInt(csv,this.GetHeadIndex("face"));config.zh_cn_content=csvGetString(csv,this.GetHeadIndex("zh_cn_content"));this.addConfig(config)};return DialogueConfigReaderStruct}(configs.CsvConfigRender));configs.DialogueConfigReaderStruct=DialogueConfigReaderStruct})(configs||(configs={}));configs.DialogueConfigReader=configs.DialogueConfigReaderStruct;var configs;(function(configs){var EventConfigReaderStruct=(function(_super){__extends(EventConfigReaderStruct,_super);function EventConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Event";return _this}EventConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.EventConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.model=csvGetInt(csv,this.GetHeadIndex("model"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.action=configs.DTPerformActoin.parseArray(csvGetString(csv,this.GetHeadIndex("action")));config.speak=configs.DTPerformSpeak.parseArray(csvGetString(csv,this.GetHeadIndex("speak")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return EventConfigReaderStruct}(configs.CsvConfigRender));configs.EventConfigReaderStruct=EventConfigReaderStruct})(configs||(configs={}));configs.EventConfigReader=configs.EventConfigReaderStruct;var configs;(function(configs){var FloorConfigReaderStruct=(function(_super){__extends(FloorConfigReaderStruct,_super);function FloorConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Floor";return _this}FloorConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.FloorConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.level_req=csvGetInt(csv,this.GetHeadIndex("level_req"));config.city_req=csvGetInt(csv,this.GetHeadIndex("city_req"));this.addConfig(config)};return FloorConfigReaderStruct}(configs.CsvConfigRender));configs.FloorConfigReaderStruct=FloorConfigReaderStruct})(configs||(configs={}));configs.FloorConfigReader=configs.FloorConfigReaderStruct;var configs;(function(configs){var GameLevelConfigReaderStruct=(function(_super){__extends(GameLevelConfigReaderStruct,_super);function GameLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="GameLevel";return _this}GameLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GameLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.stall=csvGetInt(csv,this.GetHeadIndex("stall"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.next_level=csvGetInt(csv,this.GetHeadIndex("next_level"));this.addConfig(config)};return GameLevelConfigReaderStruct}(configs.CsvConfigRender));configs.GameLevelConfigReaderStruct=GameLevelConfigReaderStruct})(configs||(configs={}));configs.GameLevelConfigReader=configs.GameLevelConfigReaderStruct;var configs;(function(configs){var GameRandomNameConfigReaderStruct=(function(_super){__extends(GameRandomNameConfigReaderStruct,_super);function GameRandomNameConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="GameRandomName";return _this}GameRandomNameConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GameRandomNameConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.zh_cn_names=toStringArray(csvGetString(csv,this.GetHeadIndex("zh_cn_names")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return GameRandomNameConfigReaderStruct}(configs.CsvConfigRender));configs.GameRandomNameConfigReaderStruct=GameRandomNameConfigReaderStruct})(configs||(configs={}));configs.GameRandomNameConfigReader=configs.GameRandomNameConfigReaderStruct;var configs;(function(configs){var GiftPackageConfigReaderStruct=(function(_super){__extends(GiftPackageConfigReaderStruct,_super);function GiftPackageConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="GiftPackage";return _this}GiftPackageConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GiftPackageConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.plat=csvGetInt(csv,this.GetHeadIndex("plat"));config.country=csvGetInt(csv,this.GetHeadIndex("country"));config.gift=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("gift")));config.cn=csvGetString(csv,this.GetHeadIndex("cn"));this.addConfig(config)};return GiftPackageConfigReaderStruct}(configs.CsvConfigRender));configs.GiftPackageConfigReaderStruct=GiftPackageConfigReaderStruct})(configs||(configs={}));configs.GiftPackageConfigReader=configs.GiftPackageConfigReaderStruct;var configs;(function(configs){var GlobalConfigReaderStruct=(function(_super){__extends(GlobalConfigReaderStruct,_super);function GlobalConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Global";return _this}GlobalConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GlobalConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.value=csvGetInt(csv,this.GetHeadIndex("value"));config.value4=csvGetString(csv,this.GetHeadIndex("value4"));config.value1=toIntArray(csvGetString(csv,this.GetHeadIndex("value1")));config.value2=configs.DTlValue2.parseArray(csvGetString(csv,this.GetHeadIndex("value2")));config.value3=configs.DTlValue3.parseArray(csvGetString(csv,this.GetHeadIndex("value3")));config.value5=configs.DTPerformActoin.parseArray(csvGetString(csv,this.GetHeadIndex("value5")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return GlobalConfigReaderStruct}(configs.CsvConfigRender));configs.GlobalConfigReaderStruct=GlobalConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var GlobalConfigReader=(function(_super){__extends(GlobalConfigReader,_super);function GlobalConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.configsByKey=new Dictionary();return _this}GlobalConfigReader.prototype.onGameLoadedAll=function(){_super.prototype.onGameLoadedAll.call(this);var list=this.configs.getValues();for(var i=0;i<list.length;i++){var key=list[i].key;if(isNullOrEmpty(key)){key=list[i].id}this.configsByKey.add(key,list[i])}};GlobalConfigReader.prototype.getConfig=function(key){if(!this.configsByKey.hasKey(key)){if(this.configs.hasKey(key)){return this.configs.getValue(key)}console.log(this.tableName+" \u6CA1\u6709 key="+key+" \u7684\u914D\u7F6E")}return this.configsByKey.getValue(key)};GlobalConfigReader.prototype.outKeyCode=function(){console.log("");console.log("class GlobalKey");console.log("{");var list=this.configsByKey.getValues();for(var i=0;i<list.length;i++){var key=list[i].key;var val=key;if(isNullOrEmpty(key)){key="KEY_"+list[i].id;val=list[i].id}else{key=key.replace("-","_")}console.log("\tstatic "+key+' = "'+val+'";')}console.log("}");console.log("");console.log("")};return GlobalConfigReader}(configs.GlobalConfigReaderStruct));configs.GlobalConfigReader=GlobalConfigReader})(configs||(configs={}));var configs;(function(configs){var GuidePathConfigReaderStruct=(function(_super){__extends(GuidePathConfigReaderStruct,_super);function GuidePathConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="GuidePath";return _this}GuidePathConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GuidePathConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.find_ui_type=csvGetInt(csv,this.GetHeadIndex("find_ui_type"));config.menuid=csvGetInt(csv,this.GetHeadIndex("menuid"));config.path=csvGetString(csv,this.GetHeadIndex("path"));config.list_path=csvGetString(csv,this.GetHeadIndex("list_path"));config.sub_id=csvGetInt(csv,this.GetHeadIndex("sub_id"));config.list_index=csvGetInt(csv,this.GetHeadIndex("list_index"));config.add_btn=csvGetInt(csv,this.GetHeadIndex("add_btn"));config.tip=csvGetString(csv,this.GetHeadIndex("tip"));this.addConfig(config)};return GuidePathConfigReaderStruct}(configs.CsvConfigRender));configs.GuidePathConfigReaderStruct=GuidePathConfigReaderStruct})(configs||(configs={}));configs.GuidePathConfigReader=configs.GuidePathConfigReaderStruct;var configs;(function(configs){var GuidesystemConfigReaderStruct=(function(_super){__extends(GuidesystemConfigReaderStruct,_super);function GuidesystemConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Guidesystem";return _this}GuidesystemConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.GuidesystemConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.group=csvGetInt(csv,this.GetHeadIndex("group"));config.order=csvGetInt(csv,this.GetHeadIndex("order"));config.finish_type=csvGetInt(csv,this.GetHeadIndex("finish_type"));config.finish_value_1=csvGetInt(csv,this.GetHeadIndex("finish_value_1"));config.finish_value_2=csvGetInt(csv,this.GetHeadIndex("finish_value_2"));config.trigger_type=csvGetInt(csv,this.GetHeadIndex("trigger_type"));config.trigger_value=csvGetInt(csv,this.GetHeadIndex("trigger_value"));config.next_guide=csvGetInt(csv,this.GetHeadIndex("next_guide"));config.path_id=csvGetInt(csv,this.GetHeadIndex("path_id"));config.path_par1=csvGetInt(csv,this.GetHeadIndex("path_par1"));config.assistant=csvGetBoolean(csv,this.GetHeadIndex("assistant"));config.position=configs.DTVector2.parse(csvGetString(csv,this.GetHeadIndex("position")));config.cn_content=csvGetString(csv,this.GetHeadIndex("cn_content"));config.en_content=csvGetString(csv,this.GetHeadIndex("en_content"));config.f_direction=csvGetInt(csv,this.GetHeadIndex("f_direction"));config.halo=csvGetBoolean(csv,this.GetHeadIndex("halo"));config.radius=csvGetInt(csv,this.GetHeadIndex("radius"));config.storyline=csvGetBoolean(csv,this.GetHeadIndex("storyline"));config.storyline_id=csvGetInt(csv,this.GetHeadIndex("storyline_id"));config.force=csvGetBoolean(csv,this.GetHeadIndex("force"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.tips2=csvGetString(csv,this.GetHeadIndex("tips2"));this.addConfig(config)};return GuidesystemConfigReaderStruct}(configs.CsvConfigRender));configs.GuidesystemConfigReaderStruct=GuidesystemConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var GuidesystemConfigReader=(function(_super){__extends(GuidesystemConfigReader,_super);function GuidesystemConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.groups=[];return _this}GuidesystemConfigReader.prototype.addConfig=function(config){_super.prototype.addConfig.call(this,config);if(this.configDict==null){this.configDict=new Dictionary()}if(this.configOrderDict==null){this.configOrderDict=new Dictionary()}var list=this.configDict.getValue(config.group);if(list==null){list=new Array();this.configDict.add(config.group,list);this.groups.push(config.group)}list.push(config);var dict=this.configOrderDict.getValue(config.group);if(dict==null){dict=new Dictionary();this.configOrderDict.add(config.group,dict)}dict.add(config.order,config)};GuidesystemConfigReader.prototype.onGameLoadedAll=function(){for(var index=0;index<this.groups.length;index++){var element=this.groups[index];var list=this.configDict.getValue(element);list.sort(function(a,b){return a.order-b.order})}};GuidesystemConfigReader.prototype.getNextGuide=function(id){var config=this.getConfig(id);var nextConfig;if(config){var dict=this.configOrderDict.getValue(config.group);if(dict){nextConfig=dict.getValue(config.order+1)}}return nextConfig};GuidesystemConfigReader.prototype.getPreGuide=function(id){var config=this.getConfig(id);var preConfig;if(config){var dict=this.configOrderDict.getValue(config.group);if(dict){preConfig=dict.getValue(config.order-1)}}return preConfig};GuidesystemConfigReader.prototype.getConfigsByGroup=function(group){return this.configDict.getValue(group)};return GuidesystemConfigReader}(configs.GuidesystemConfigReaderStruct));configs.GuidesystemConfigReader=GuidesystemConfigReader})(configs||(configs={}));var configs;(function(configs){var HeadPortraitConfigReaderStruct=(function(_super){__extends(HeadPortraitConfigReaderStruct,_super);function HeadPortraitConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="HeadPortrait";return _this}HeadPortraitConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.HeadPortraitConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.sex=csvGetInt(csv,this.GetHeadIndex("sex"));config.unlock=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("unlock")));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));this.addConfig(config)};return HeadPortraitConfigReaderStruct}(configs.CsvConfigRender));configs.HeadPortraitConfigReaderStruct=HeadPortraitConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var HeadPortraitConfigReader=(function(_super){__extends(HeadPortraitConfigReader,_super);function HeadPortraitConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}HeadPortraitConfigReader.prototype.GetPlayerIconUrl=function(icon,sex){if(icon&&icon!=0){var cfg=this.getConfig(icon);if(cfg){return cfg.iconUrl}}if(sex==EUserSex.boy){return this.getConfig(1101).iconUrl}return this.getConfig(1001).iconUrl};return HeadPortraitConfigReader}(configs.HeadPortraitConfigReaderStruct));configs.HeadPortraitConfigReader=HeadPortraitConfigReader})(configs||(configs={}));var configs;(function(configs){var InitialActorConfigReaderStruct=(function(_super){__extends(InitialActorConfigReaderStruct,_super);function InitialActorConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="InitialActor";return _this}InitialActorConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.InitialActorConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.actor_id=csvGetInt(csv,this.GetHeadIndex("actor_id"));this.addConfig(config)};return InitialActorConfigReaderStruct}(configs.CsvConfigRender));configs.InitialActorConfigReaderStruct=InitialActorConfigReaderStruct})(configs||(configs={}));configs.InitialActorConfigReader=configs.InitialActorConfigReaderStruct;var configs;(function(configs){var ItemConfigReaderStruct=(function(_super){__extends(ItemConfigReaderStruct,_super);function ItemConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Item";return _this}ItemConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ItemConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.zh_cn_item_des=csvGetString(csv,this.GetHeadIndex("zh_cn_item_des"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.star=csvGetInt(csv,this.GetHeadIndex("star"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.max_num=csvGetInt(csv,this.GetHeadIndex("max_num"));config.get_way=toIntArray(csvGetString(csv,this.GetHeadIndex("get_way")));config.can_use=csvGetBoolean(csv,this.GetHeadIndex("can_use"));config.use_type=csvGetInt(csv,this.GetHeadIndex("use_type"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.can_sell=csvGetBoolean(csv,this.GetHeadIndex("can_sell"));config.price=csvGetInt(csv,this.GetHeadIndex("price"));config.syn_id=csvGetInt(csv,this.GetHeadIndex("syn_id"));config.actor_id=csvGetInt(csv,this.GetHeadIndex("actor_id"));config.actor_num=csvGetInt(csv,this.GetHeadIndex("actor_num"));config.zh_cn_get_way_explain=csvGetString(csv,this.GetHeadIndex("zh_cn_get_way_explain"));this.addConfig(config)};return ItemConfigReaderStruct}(configs.CsvConfigRender));configs.ItemConfigReaderStruct=ItemConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ItemConfigReader=(function(_super){__extends(ItemConfigReader,_super);function ItemConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}ItemConfigReader.prototype.getConfigsByType=function(){var itemTypes=[];for(var _i=0;_i<arguments.length;_i++){itemTypes[_i]=arguments[_i]}var list=[];var items=this.getConfigList();for(var i=0;i<items.length;i++){for(var j=0;j<itemTypes.length;j++){if(items[i].type==itemTypes[j]){list.push(items[i]);break}}}return list};ItemConfigReader.prototype.getType=function(id){var cfg=this.getConfig(id);if(cfg){return cfg.type}return null};ItemConfigReader.prototype.getItemIcon=function(itemId){var cfg=this.getConfig(itemId);return cfg.iconUrl};ItemConfigReader.prototype.getStarNum=function(itemId){var cfg=this.getConfig(itemId);return cfg.itemStarNum};return ItemConfigReader}(configs.ItemConfigReaderStruct));configs.ItemConfigReader=ItemConfigReader})(configs||(configs={}));var configs;(function(configs){var LanguageTypeConfigReaderStruct=(function(_super){__extends(LanguageTypeConfigReaderStruct,_super);function LanguageTypeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="LanguageType";return _this}LanguageTypeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.LanguageTypeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetString(csv,this.GetHeadIndex("type"));config.info=csvGetString(csv,this.GetHeadIndex("info"));config.value=csvGetString(csv,this.GetHeadIndex("value"));this.addConfig(config)};return LanguageTypeConfigReaderStruct}(configs.CsvConfigRender));configs.LanguageTypeConfigReaderStruct=LanguageTypeConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var LanguageTypeConfigReader=(function(_super){__extends(LanguageTypeConfigReader,_super);function LanguageTypeConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dictByValue=new Dictionary();return _this}LanguageTypeConfigReader.prototype.onGameLoadedAll=function(){var list=this.getConfigList();for(var _i=0,list_1=list;_i<list_1.length;_i++){var config=list_1[_i];this.dictByValue.add(config.value,config)}};LanguageTypeConfigReader.prototype.getConfigByValue=function(value){return this.dictByValue.getValue(value)};return LanguageTypeConfigReader}(configs.LanguageTypeConfigReaderStruct));configs.LanguageTypeConfigReader=LanguageTypeConfigReader})(configs||(configs={}));var configs;(function(configs){var LoaderConfigReaderStruct=(function(_super){__extends(LoaderConfigReaderStruct,_super);function LoaderConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Loader";return _this}LoaderConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.LoaderConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.isShowCircle=csvGetBoolean(csv,this.GetHeadIndex("isShowCircle"));this.addConfig(config)};return LoaderConfigReaderStruct}(configs.CsvConfigRender));configs.LoaderConfigReaderStruct=LoaderConfigReaderStruct})(configs||(configs={}));configs.LoaderConfigReader=configs.LoaderConfigReaderStruct;var configs;(function(configs){var LoadingConfigReaderStruct=(function(_super){__extends(LoadingConfigReaderStruct,_super);function LoadingConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Loading";return _this}LoadingConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.LoadingConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.text=csvGetString(csv,this.GetHeadIndex("text"));this.addConfig(config)};return LoadingConfigReaderStruct}(configs.CsvConfigRender));configs.LoadingConfigReaderStruct=LoadingConfigReaderStruct})(configs||(configs={}));configs.LoadingConfigReader=configs.LoadingConfigReaderStruct;var configs;(function(configs){var MailConfigReaderStruct=(function(_super){__extends(MailConfigReaderStruct,_super);function MailConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Mail";return _this}MailConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MailConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tip=csvGetString(csv,this.GetHeadIndex("tip"));config.life_time=csvGetInt(csv,this.GetHeadIndex("life_time"));config.zh_cn_title=csvGetString(csv,this.GetHeadIndex("zh_cn_title"));config.en_title=csvGetString(csv,this.GetHeadIndex("en_title"));config.zh_tw_title=csvGetString(csv,this.GetHeadIndex("zh_tw_title"));config.item=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("item")));config.zh_cn_content=csvGetString(csv,this.GetHeadIndex("zh_cn_content"));config.en_content=csvGetString(csv,this.GetHeadIndex("en_content"));config.zh_tw_content=csvGetString(csv,this.GetHeadIndex("zh_tw_content"));this.addConfig(config)};return MailConfigReaderStruct}(configs.CsvConfigRender));configs.MailConfigReaderStruct=MailConfigReaderStruct})(configs||(configs={}));configs.MailConfigReader=configs.MailConfigReaderStruct;var configs;(function(configs){var MaintaskConfigReaderStruct=(function(_super){__extends(MaintaskConfigReaderStruct,_super);function MaintaskConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Maintask";return _this}MaintaskConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MaintaskConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.trigger=csvGetInt(csv,this.GetHeadIndex("trigger"));config.t_value=csvGetInt(csv,this.GetHeadIndex("t_value"));config.require=csvGetInt(csv,this.GetHeadIndex("require"));config.r_value=csvGetInt(csv,this.GetHeadIndex("r_value"));config.s_r_value=csvGetInt(csv,this.GetHeadIndex("s_r_value"));config.goal=csvGetInt(csv,this.GetHeadIndex("goal"));config.cn_info=csvGetString(csv,this.GetHeadIndex("cn_info"));config.en_info=csvGetString(csv,this.GetHeadIndex("en_info"));config.cn_cinfo=csvGetString(csv,this.GetHeadIndex("cn_cinfo"));config.en_cinfo=csvGetString(csv,this.GetHeadIndex("en_cinfo"));config.cn_content=csvGetString(csv,this.GetHeadIndex("cn_content"));config.en_content=csvGetString(csv,this.GetHeadIndex("en_content"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.pre_quest=csvGetInt(csv,this.GetHeadIndex("pre_quest"));config.guide=csvGetBoolean(csv,this.GetHeadIndex("guide"));config.guide_id=csvGetInt(csv,this.GetHeadIndex("guide_id"));this.addConfig(config)};return MaintaskConfigReaderStruct}(configs.CsvConfigRender));configs.MaintaskConfigReaderStruct=MaintaskConfigReaderStruct})(configs||(configs={}));configs.MaintaskConfigReader=configs.MaintaskConfigReaderStruct;var configs;(function(configs){var MediaVisitConfigReaderStruct=(function(_super){__extends(MediaVisitConfigReaderStruct,_super);function MediaVisitConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="MediaVisit";return _this}MediaVisitConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MediaVisitConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.name_tips=csvGetString(csv,this.GetHeadIndex("name_tips"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.levelup_req=csvGetInt(csv,this.GetHeadIndex("levelup_req"));config.cost_id=csvGetInt(csv,this.GetHeadIndex("cost_id"));config.cost_num=csvGetInt(csv,this.GetHeadIndex("cost_num"));config.min_expection=csvGetInt(csv,this.GetHeadIndex("min_expection"));config.max_expection=csvGetInt(csv,this.GetHeadIndex("max_expection"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));config.big_pic=csvGetInt(csv,this.GetHeadIndex("big_pic"));this.addConfig(config)};return MediaVisitConfigReaderStruct}(configs.CsvConfigRender));configs.MediaVisitConfigReaderStruct=MediaVisitConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MediaVisitConfigReader=(function(_super){__extends(MediaVisitConfigReader,_super);function MediaVisitConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return MediaVisitConfigReader}(configs.MediaVisitConfigReaderStruct));configs.MediaVisitConfigReader=MediaVisitConfigReader})(configs||(configs={}));var configs;(function(configs){var MeetingConfigReaderStruct=(function(_super){__extends(MeetingConfigReaderStruct,_super);function MeetingConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="Meeting";return _this}MeetingConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MeetingConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.meeting_cd=csvGetInt(csv,this.GetHeadIndex("meeting_cd"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));this.addConfig(config)};return MeetingConfigReaderStruct}(configs.CsvConfigRender));configs.MeetingConfigReaderStruct=MeetingConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MeetingConfigReader=(function(_super){__extends(MeetingConfigReader,_super);function MeetingConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingConfigReader}(configs.MeetingConfigReaderStruct));configs.MeetingConfigReader=MeetingConfigReader})(configs||(configs={}));var configs;(function(configs){var MeetingGameConfigReaderStruct=(function(_super){__extends(MeetingGameConfigReaderStruct,_super);function MeetingGameConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MeetingGame";return _this}MeetingGameConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MeetingGameConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetString(csv,this.GetHeadIndex("type"));config.result=csvGetInt(csv,this.GetHeadIndex("result"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.times=configs.DTlValue2.parse(csvGetString(csv,this.GetHeadIndex("times")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return MeetingGameConfigReaderStruct}(configs.CsvConfigRender));configs.MeetingGameConfigReaderStruct=MeetingGameConfigReaderStruct})(configs||(configs={}));configs.MeetingGameConfigReader=configs.MeetingGameConfigReaderStruct;var configs;(function(configs){var MeetingRewardsConfigReaderStruct=(function(_super){__extends(MeetingRewardsConfigReaderStruct,_super);function MeetingRewardsConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MeetingRewards";return _this}MeetingRewardsConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MeetingRewardsConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.rewards=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("rewards")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));config.rate=csvGetInt(csv,this.GetHeadIndex("rate"));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return MeetingRewardsConfigReaderStruct}(configs.CsvConfigRender));configs.MeetingRewardsConfigReaderStruct=MeetingRewardsConfigReaderStruct})(configs||(configs={}));configs.MeetingRewardsConfigReader=configs.MeetingRewardsConfigReaderStruct;var configs;(function(configs){var MeetingTextConfigReaderStruct=(function(_super){__extends(MeetingTextConfigReaderStruct,_super);function MeetingTextConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="MeetingText";return _this}MeetingTextConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MeetingTextConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_text=csvGetString(csv,this.GetHeadIndex("zh_cn_text"));config.cn=csvGetString(csv,this.GetHeadIndex("cn"));this.addConfig(config)};return MeetingTextConfigReaderStruct}(configs.CsvConfigRender));configs.MeetingTextConfigReaderStruct=MeetingTextConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MeetingTextConfigReader=(function(_super){__extends(MeetingTextConfigReader,_super);function MeetingTextConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingTextConfigReader}(configs.MeetingTextConfigReaderStruct));configs.MeetingTextConfigReader=MeetingTextConfigReader})(configs||(configs={}));var configs;(function(configs){var MenuConfigReaderStruct=(function(_super){__extends(MenuConfigReaderStruct,_super);function MenuConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Menu";return _this}MenuConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MenuConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.moduleName=csvGetString(csv,this.GetHeadIndex("moduleName"));config.layer=csvGetInt(csv,this.GetHeadIndex("layer"));config.closeOtherType=csvGetInt(csv,this.GetHeadIndex("closeOtherType"));config.closeHomeWindow=csvGetBoolean(csv,this.GetHeadIndex("closeHomeWindow"));config.isAutoOpenHomeWindow=csvGetBoolean(csv,this.GetHeadIndex("isAutoOpenHomeWindow"));config.cacheTime=csvGetInt(csv,this.GetHeadIndex("cacheTime"));config.loaderId=csvGetInt(csv,this.GetHeadIndex("loaderId"));config.barType=csvGetInt(csv,this.GetHeadIndex("barType"));config.barIndex=csvGetInt(csv,this.GetHeadIndex("barIndex"));this.addConfig(config)};return MenuConfigReaderStruct}(configs.CsvConfigRender));configs.MenuConfigReaderStruct=MenuConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MenuConfigReader=(function(_super){__extends(MenuConfigReader,_super);function MenuConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.barDict=new Dictionary();return _this}MenuConfigReader.prototype.getBarMenus=function(barType){if(this.barDict.hasKey(barType)){return this.barDict.getValue(barType)}return[]};MenuConfigReader.prototype.onGameLoadedAll=function(){var list=this.getConfigList();for(var i=0;i<list.length;i++){var config=list[i];var menuList=this.barDict.getValue(config.barType);if(!menuList){menuList=[];this.barDict.add(config.barType,menuList)}menuList.push(config)}};return MenuConfigReader}(configs.MenuConfigReaderStruct));configs.MenuConfigReader=MenuConfigReader})(configs||(configs={}));var configs;(function(configs){var MenuIndexConfigReaderStruct=(function(_super){__extends(MenuIndexConfigReaderStruct,_super);function MenuIndexConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MenuIndex";return _this}MenuIndexConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MenuIndexConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.menuId=csvGetInt(csv,this.GetHeadIndex("menuId"));config.openType=csvGetInt(csv,this.GetHeadIndex("openType"));config.menuIndex=csvGetInt(csv,this.GetHeadIndex("menuIndex"));this.addConfig(config)};return MenuIndexConfigReaderStruct}(configs.CsvConfigRender));configs.MenuIndexConfigReaderStruct=MenuIndexConfigReaderStruct})(configs||(configs={}));configs.MenuIndexConfigReader=configs.MenuIndexConfigReaderStruct;var configs;(function(configs){var MonthCardConfigReaderStruct=(function(_super){__extends(MonthCardConfigReaderStruct,_super);function MonthCardConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MonthCard";return _this}MonthCardConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MonthCardConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.serial=csvGetInt(csv,this.GetHeadIndex("serial"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.actor=csvGetInt(csv,this.GetHeadIndex("actor"));config.daily_gift_resource=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("daily_gift_resource")));config.daily_gift_contract1=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("daily_gift_contract1")));config.daily_gift_contract2=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("daily_gift_contract2")));config.gift_crystal=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("gift_crystal")));config.gift_item=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("gift_item")));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return MonthCardConfigReaderStruct}(configs.CsvConfigRender));configs.MonthCardConfigReaderStruct=MonthCardConfigReaderStruct})(configs||(configs={}));configs.MonthCardConfigReader=configs.MonthCardConfigReaderStruct;var configs;(function(configs){var MovieAdaptationMsgConfigReaderStruct=(function(_super){__extends(MovieAdaptationMsgConfigReaderStruct,_super);function MovieAdaptationMsgConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieAdaptationMsg";return _this}MovieAdaptationMsgConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieAdaptationMsgConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.adaptation_min=csvGetInt(csv,this.GetHeadIndex("adaptation_min"));config.adaptation_max=csvGetInt(csv,this.GetHeadIndex("adaptation_max"));config.zh_cn_msg=csvGetString(csv,this.GetHeadIndex("zh_cn_msg"));this.addConfig(config)};return MovieAdaptationMsgConfigReaderStruct}(configs.CsvConfigRender));configs.MovieAdaptationMsgConfigReaderStruct=MovieAdaptationMsgConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieAdaptationMsgConfigReader=(function(_super){__extends(MovieAdaptationMsgConfigReader,_super);function MovieAdaptationMsgConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieAdaptationMsgConfigReader.prototype.getStoryShootTypeTip=function(typeValue){var list=this.getConfigList();var result="";for(var i=0;i<list.length;i++){if(typeValue>=list[i].adaptation_min&&typeValue<list[i].adaptation_max){result=list[i].msg;break}}return result};return MovieAdaptationMsgConfigReader}(configs.MovieAdaptationMsgConfigReaderStruct));configs.MovieAdaptationMsgConfigReader=MovieAdaptationMsgConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieAudienceEvaluationConfigReaderStruct=(function(_super){__extends(MovieAudienceEvaluationConfigReaderStruct,_super);function MovieAudienceEvaluationConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieAudienceEvaluation";return _this}MovieAudienceEvaluationConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieAudienceEvaluationConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.sex=csvGetInt(csv,this.GetHeadIndex("sex"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.min_score=csvGetFloat(csv,this.GetHeadIndex("min_score"));config.max_score=csvGetFloat(csv,this.GetHeadIndex("max_score"));config.zh_cn_content=csvGetString(csv,this.GetHeadIndex("zh_cn_content"));this.addConfig(config)};return MovieAudienceEvaluationConfigReaderStruct}(configs.CsvConfigRender));configs.MovieAudienceEvaluationConfigReaderStruct=MovieAudienceEvaluationConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieAudienceEvaluationConfigReader=(function(_super){__extends(MovieAudienceEvaluationConfigReader,_super);function MovieAudienceEvaluationConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieAudienceEvaluationConfigReader.prototype.getMovieAudience=function(val){var list=this.getConfigList();var result;var listResult=Array();for(var i=0;i<list.length;i++){if(val>=list[i].min_score&&val<list[i].max_score){listResult.push(list[i])}}return listResult[Random.range(0,listResult.length)]};return MovieAudienceEvaluationConfigReader}(configs.MovieAudienceEvaluationConfigReaderStruct));configs.MovieAudienceEvaluationConfigReader=MovieAudienceEvaluationConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieDailyRewardConfigReaderStruct=(function(_super){__extends(MovieDailyRewardConfigReaderStruct,_super);function MovieDailyRewardConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="MovieDailyReward";return _this}MovieDailyRewardConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieDailyRewardConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.num=csvGetInt(csv,this.GetHeadIndex("num"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.item=toIntArray(csvGetString(csv,this.GetHeadIndex("item")));config.block1_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block1_num")));config.block2_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block2_num")));config.block3_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block3_num")));config.block4_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block4_num")));config.block5_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block5_num")));config.block6_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block6_num")));config.block7_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block7_num")));config.block8_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block8_num")));config.block9_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block9_num")));config.block10_num=toIntArray(csvGetString(csv,this.GetHeadIndex("block10_num")));config.city1_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city1_num")));config.city2_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city2_num")));config.city3_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city3_num")));config.city4_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city4_num")));config.city5_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city5_num")));config.city6_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city6_num")));config.city7_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city7_num")));config.city8_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city8_num")));config.city9_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city9_num")));config.city10_num=toIntArray(csvGetString(csv,this.GetHeadIndex("city10_num")));config.county1_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county1_num")));config.county2_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county2_num")));config.county3_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county3_num")));config.county4_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county4_num")));config.county5_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county5_num")));config.county6_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county6_num")));config.county7_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county7_num")));config.county8_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county8_num")));config.county9_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county9_num")));config.county10_num=toIntArray(csvGetString(csv,this.GetHeadIndex("county10_num")));config.world1_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world1_num")));config.world2_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world2_num")));config.world3_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world3_num")));config.world4_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world4_num")));config.world5_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world5_num")));config.world6_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world6_num")));config.world7_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world7_num")));config.world8_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world8_num")));config.world9_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world9_num")));config.world10_num=toIntArray(csvGetString(csv,this.GetHeadIndex("world10_num")));this.addConfig(config)};return MovieDailyRewardConfigReaderStruct}(configs.CsvConfigRender));configs.MovieDailyRewardConfigReaderStruct=MovieDailyRewardConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieDailyRewardConfigReader=(function(_super){__extends(MovieDailyRewardConfigReader,_super);function MovieDailyRewardConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return MovieDailyRewardConfigReader}(configs.MovieDailyRewardConfigReaderStruct));configs.MovieDailyRewardConfigReader=MovieDailyRewardConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieDropConfigReaderStruct=(function(_super){__extends(MovieDropConfigReaderStruct,_super);function MovieDropConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieDrop";return _this}MovieDropConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieDropConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.gain_level=csvGetInt(csv,this.GetHeadIndex("gain_level"));config.zh_cn_gain_name=csvGetString(csv,this.GetHeadIndex("zh_cn_gain_name"));config.gain_pic=csvGetInt(csv,this.GetHeadIndex("gain_pic"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.order_num=csvGetInt(csv,this.GetHeadIndex("order_num"));config.oreder_qua=toIntArray(csvGetString(csv,this.GetHeadIndex("oreder_qua")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));config.fixed_drop=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("fixed_drop")));config.drop_num=csvGetInt(csv,this.GetHeadIndex("drop_num"));config.drop_item=toIntArray(csvGetString(csv,this.GetHeadIndex("drop_item")));config.item_num=toIntArray(csvGetString(csv,this.GetHeadIndex("item_num")));config.base_fans=csvGetInt(csv,this.GetHeadIndex("base_fans"));this.addConfig(config)};return MovieDropConfigReaderStruct}(configs.CsvConfigRender));configs.MovieDropConfigReaderStruct=MovieDropConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieDropConfigReader=(function(_super){__extends(MovieDropConfigReader,_super);function MovieDropConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieDropConfigReader.prototype.getSellTip=function(val){var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].gain_pic==val){return list[i]}}};MovieDropConfigReader.prototype.getSellIcon=function(level){var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].gain_level==level){return list[i].gain_pic}}};return MovieDropConfigReader}(configs.MovieDropConfigReaderStruct));configs.MovieDropConfigReader=MovieDropConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieExpectConfigReaderStruct=(function(_super){__extends(MovieExpectConfigReaderStruct,_super);function MovieExpectConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieExpect";return _this}MovieExpectConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieExpectConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.expect_req_min=csvGetInt(csv,this.GetHeadIndex("expect_req_min"));config.expect_req_max=csvGetInt(csv,this.GetHeadIndex("expect_req_max"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));config.gain_up=csvGetInt(csv,this.GetHeadIndex("gain_up"));config.zh_cn_pic_word=csvGetString(csv,this.GetHeadIndex("zh_cn_pic_word"));this.addConfig(config)};return MovieExpectConfigReaderStruct}(configs.CsvConfigRender));configs.MovieExpectConfigReaderStruct=MovieExpectConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieExpectConfigReader=(function(_super){__extends(MovieExpectConfigReader,_super);function MovieExpectConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieExpectConfigReader.prototype.getConfigWithExpect=function(val){var list=this.getConfigList();var indexOf=0;for(var i=0;i<list.length;i++){if(val>=list[i].expect_req_min){if(list[i].expect_req_max<0||val<list[i].expect_req_max){indexOf=i}}}return list[indexOf]};return MovieExpectConfigReader}(configs.MovieExpectConfigReaderStruct));configs.MovieExpectConfigReader=MovieExpectConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieLicenceConfigReaderStruct=(function(_super){__extends(MovieLicenceConfigReaderStruct,_super);function MovieLicenceConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieLicence";return _this}MovieLicenceConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieLicenceConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.cool_down=csvGetInt(csv,this.GetHeadIndex("cool_down"));this.addConfig(config)};return MovieLicenceConfigReaderStruct}(configs.CsvConfigRender));configs.MovieLicenceConfigReaderStruct=MovieLicenceConfigReaderStruct})(configs||(configs={}));configs.MovieLicenceConfigReader=configs.MovieLicenceConfigReaderStruct;var configs;(function(configs){var MovieMediaVisitConfigReaderStruct=(function(_super){__extends(MovieMediaVisitConfigReaderStruct,_super);function MovieMediaVisitConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieMediaVisit";return _this}MovieMediaVisitConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieMediaVisitConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.mediaId=csvGetInt(csv,this.GetHeadIndex("mediaId"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.levelup_req=csvGetInt(csv,this.GetHeadIndex("levelup_req"));config.cost_id=csvGetInt(csv,this.GetHeadIndex("cost_id"));config.cost_num=csvGetInt(csv,this.GetHeadIndex("cost_num"));config.min_expection=csvGetInt(csv,this.GetHeadIndex("min_expection"));config.max_expection=csvGetInt(csv,this.GetHeadIndex("max_expection"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));this.addConfig(config)};return MovieMediaVisitConfigReaderStruct}(configs.CsvConfigRender));configs.MovieMediaVisitConfigReaderStruct=MovieMediaVisitConfigReaderStruct})(configs||(configs={}));configs.MovieMediaVisitConfigReader=configs.MovieMediaVisitConfigReaderStruct;var configs;(function(configs){var MovieMidiaEvaluationConfigReaderStruct=(function(_super){__extends(MovieMidiaEvaluationConfigReaderStruct,_super);function MovieMidiaEvaluationConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieMidiaEvaluation";return _this}MovieMidiaEvaluationConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieMidiaEvaluationConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.media_id=csvGetInt(csv,this.GetHeadIndex("media_id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.zh_cn_commentators=csvGetString(csv,this.GetHeadIndex("zh_cn_commentators"));config.min_score=csvGetFloat(csv,this.GetHeadIndex("min_score"));config.max_score=csvGetFloat(csv,this.GetHeadIndex("max_score"));config.zh_cn_content=csvGetString(csv,this.GetHeadIndex("zh_cn_content"));config.praise=toIntArray(csvGetString(csv,this.GetHeadIndex("praise")));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));this.addConfig(config)};return MovieMidiaEvaluationConfigReaderStruct}(configs.CsvConfigRender));configs.MovieMidiaEvaluationConfigReaderStruct=MovieMidiaEvaluationConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationConfigReader=(function(_super){__extends(MovieMidiaEvaluationConfigReader,_super);function MovieMidiaEvaluationConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieMidiaEvaluationConfigReader.prototype.getMovieMidiaEva=function(val,mediaId){var list=this.getConfigList();var result;for(var i=0;i<list.length;i++){if(mediaId===list[i].media_id&&val>=list[i].min_score&&val<list[i].max_score){result=list[i];break}}return result};return MovieMidiaEvaluationConfigReader}(configs.MovieMidiaEvaluationConfigReaderStruct));configs.MovieMidiaEvaluationConfigReader=MovieMidiaEvaluationConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationMsgConfigReaderStruct=(function(_super){__extends(MovieMidiaEvaluationMsgConfigReaderStruct,_super);function MovieMidiaEvaluationMsgConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieMidiaEvaluationMsg";return _this}MovieMidiaEvaluationMsgConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieMidiaEvaluationMsgConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.score_min=csvGetInt(csv,this.GetHeadIndex("score_min"));config.scor_max=csvGetInt(csv,this.GetHeadIndex("scor_max"));config.zh_cn_msg=csvGetString(csv,this.GetHeadIndex("zh_cn_msg"));this.addConfig(config)};return MovieMidiaEvaluationMsgConfigReaderStruct}(configs.CsvConfigRender));configs.MovieMidiaEvaluationMsgConfigReaderStruct=MovieMidiaEvaluationMsgConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieMidiaEvaluationMsgConfigReader=(function(_super){__extends(MovieMidiaEvaluationMsgConfigReader,_super);function MovieMidiaEvaluationMsgConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}MovieMidiaEvaluationMsgConfigReader.prototype.getMsgFoNotice=function(score){var list=this.getConfigList();var result;for(var i=0;i<list.length;i++){if(score>=list[i].score_min&&score<list[i].scor_max){result=list[i];break}}return result};return MovieMidiaEvaluationMsgConfigReader}(configs.MovieMidiaEvaluationMsgConfigReaderStruct));configs.MovieMidiaEvaluationMsgConfigReader=MovieMidiaEvaluationMsgConfigReader})(configs||(configs={}));var configs;(function(configs){var MoviePopularizeConfigReaderStruct=(function(_super){__extends(MoviePopularizeConfigReaderStruct,_super);function MoviePopularizeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MoviePopularize";return _this}MoviePopularizeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MoviePopularizeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.cost_id=csvGetInt(csv,this.GetHeadIndex("cost_id"));config.cost_num=csvGetInt(csv,this.GetHeadIndex("cost_num"));config.increase=csvGetFloat(csv,this.GetHeadIndex("increase"));this.addConfig(config)};return MoviePopularizeConfigReaderStruct}(configs.CsvConfigRender));configs.MoviePopularizeConfigReaderStruct=MoviePopularizeConfigReaderStruct})(configs||(configs={}));configs.MoviePopularizeConfigReader=configs.MoviePopularizeConfigReaderStruct;var configs;(function(configs){var MovieRandomNameConfigReaderStruct=(function(_super){__extends(MovieRandomNameConfigReaderStruct,_super);function MovieRandomNameConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="MovieRandomName";return _this}MovieRandomNameConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieRandomNameConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.names=toStringArray(csvGetString(csv,this.GetHeadIndex("names")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return MovieRandomNameConfigReaderStruct}(configs.CsvConfigRender));configs.MovieRandomNameConfigReaderStruct=MovieRandomNameConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MovieRandomNameConfigReader=(function(_super){__extends(MovieRandomNameConfigReader,_super);function MovieRandomNameConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return MovieRandomNameConfigReader}(configs.MovieRandomNameConfigReaderStruct));configs.MovieRandomNameConfigReader=MovieRandomNameConfigReader})(configs||(configs={}));var configs;(function(configs){var MovieShootTypeConfigReaderStruct=(function(_super){__extends(MovieShootTypeConfigReaderStruct,_super);function MovieShootTypeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MovieShootType";return _this}MovieShootTypeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MovieShootTypeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.zh_cn_type_des=csvGetString(csv,this.GetHeadIndex("zh_cn_type_des"));config.item_id=csvGetInt(csv,this.GetHeadIndex("item_id"));config.item_num=csvGetInt(csv,this.GetHeadIndex("item_num"));config.pic=csvGetInt(csv,this.GetHeadIndex("pic"));this.addConfig(config)};return MovieShootTypeConfigReaderStruct}(configs.CsvConfigRender));configs.MovieShootTypeConfigReaderStruct=MovieShootTypeConfigReaderStruct})(configs||(configs={}));configs.MovieShootTypeConfigReader=configs.MovieShootTypeConfigReaderStruct;var configs;(function(configs){var MsgConfigReaderStruct=(function(_super){__extends(MsgConfigReaderStruct,_super);function MsgConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Msg";return _this}MsgConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MsgConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.module=csvGetString(csv,this.GetHeadIndex("module"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.zh_cn_notice=csvGetString(csv,this.GetHeadIndex("zh_cn_notice"));config.en_notice=csvGetString(csv,this.GetHeadIndex("en_notice"));this.addConfig(config)};return MsgConfigReaderStruct}(configs.CsvConfigRender));configs.MsgConfigReaderStruct=MsgConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var MsgConfigReader=(function(_super){__extends(MsgConfigReader,_super);function MsgConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.configsByKey=new Dictionary();return _this}MsgConfigReader.prototype.onGameLoadedAll=function(){_super.prototype.onGameLoadedAll.call(this);var list=this.configs.getValues();for(var i=0;i<list.length;i++){var key=list[i].key;if(isNullOrEmpty(key)){key=list[i].id}this.configsByKey.add(key,list[i])}};MsgConfigReader.prototype.getConfig=function(key){if(!this.configsByKey.hasKey(key)){if(this.configs.hasKey(key)){return this.configs.getValue(key)}console.log(this.tableName+" \u6CA1\u6709 key="+key+" \u7684\u914D\u7F6E")}return this.configsByKey.getValue(key)};MsgConfigReader.prototype.getTxt=function(key){var config=this.getConfig(key);if(!config){return"[Error]"+this.tableName+" \u6CA1\u6709 key="+key+" \u7684\u914D\u7F6E"}return config.notice};MsgConfigReader.prototype.getTxtFormat=function(key){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var txt=(_a=this.getTxt(key)).format.apply(_a,args);return txt;var _a};MsgConfigReader.prototype.outKeyCode=function(){console.log("");console.log("class MsgKey");console.log("{");var list=this.configsByKey.getValues();for(var i=0;i<list.length;i++){var key=list[i].key;var val=key;if(isNullOrEmpty(key)){key="KEY_"+list[i].id;val=list[i].id}else{key=key.replace("-","_")}console.log("\tstatic "+key+' = "'+val+'";')}console.log("}");console.log("");console.log("")};return MsgConfigReader}(configs.MsgConfigReaderStruct));configs.MsgConfigReader=MsgConfigReader})(configs||(configs={}));var configs;(function(configs){var MsgProtoErrorConfigReaderStruct=(function(_super){__extends(MsgProtoErrorConfigReaderStruct,_super);function MsgProtoErrorConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="MsgProtoError";return _this}MsgProtoErrorConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.MsgProtoErrorConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.module=csvGetString(csv,this.GetHeadIndex("module"));config.zh_cn_notice=csvGetString(csv,this.GetHeadIndex("zh_cn_notice"));this.addConfig(config)};return MsgProtoErrorConfigReaderStruct}(configs.CsvConfigRender));configs.MsgProtoErrorConfigReaderStruct=MsgProtoErrorConfigReaderStruct})(configs||(configs={}));configs.MsgProtoErrorConfigReader=configs.MsgProtoErrorConfigReaderStruct;var configs;(function(configs){var NpcConfigReaderStruct=(function(_super){__extends(NpcConfigReaderStruct,_super);function NpcConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Npc";return _this}NpcConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.NpcConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.sex=csvGetInt(csv,this.GetHeadIndex("sex"));config.avatar=csvGetInt(csv,this.GetHeadIndex("avatar"));this.addConfig(config)};return NpcConfigReaderStruct}(configs.CsvConfigRender));configs.NpcConfigReaderStruct=NpcConfigReaderStruct})(configs||(configs={}));configs.NpcConfigReader=configs.NpcConfigReaderStruct;var configs;(function(configs){var OrderCompleteConfigReaderStruct=(function(_super){__extends(OrderCompleteConfigReaderStruct,_super);function OrderCompleteConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="OrderComplete";return _this}OrderCompleteConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.OrderCompleteConfig();config.completion=csvGetInt(csv,this.GetHeadIndex("completion"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return OrderCompleteConfigReaderStruct}(configs.CsvConfigRender));configs.OrderCompleteConfigReaderStruct=OrderCompleteConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var OrderCompleteConfigReader=(function(_super){__extends(OrderCompleteConfigReader,_super);function OrderCompleteConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return OrderCompleteConfigReader}(configs.OrderCompleteConfigReaderStruct));configs.OrderCompleteConfigReader=OrderCompleteConfigReader})(configs||(configs={}));var configs;(function(configs){var OrderConfigReaderStruct=(function(_super){__extends(OrderConfigReaderStruct,_super);function OrderConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Order";return _this}OrderConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.OrderConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name1=csvGetString(csv,this.GetHeadIndex("zh_cn_name1"));config.zh_cn_name2=csvGetString(csv,this.GetHeadIndex("zh_cn_name2"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.block=csvGetInt(csv,this.GetHeadIndex("block"));config.need=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("need")));config.quality=csvGetInt(csv,this.GetHeadIndex("quality"));config.reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("reward")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));this.addConfig(config)};return OrderConfigReaderStruct}(configs.CsvConfigRender));configs.OrderConfigReaderStruct=OrderConfigReaderStruct})(configs||(configs={}));configs.OrderConfigReader=configs.OrderConfigReaderStruct;var configs;(function(configs){var OscarConfigReaderStruct=(function(_super){__extends(OscarConfigReaderStruct,_super);function OscarConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Oscar";return _this}OscarConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.OscarConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.oscar_type=csvGetInt(csv,this.GetHeadIndex("oscar_type"));config.compere_type=csvGetInt(csv,this.GetHeadIndex("compere_type"));config.zh_cn_content=csvGetString(csv,this.GetHeadIndex("zh_cn_content"));config.content_duration=csvGetInt(csv,this.GetHeadIndex("content_duration"));config.act=csvGetString(csv,this.GetHeadIndex("act"));config.act_duration=csvGetInt(csv,this.GetHeadIndex("act_duration"));this.addConfig(config)};return OscarConfigReaderStruct}(configs.CsvConfigRender));configs.OscarConfigReaderStruct=OscarConfigReaderStruct})(configs||(configs={}));configs.OscarConfigReader=configs.OscarConfigReaderStruct;var configs;(function(configs){var PerformConfigReaderStruct=(function(_super){__extends(PerformConfigReaderStruct,_super);function PerformConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Perform";return _this}PerformConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PerformConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.building=csvGetInt(csv,this.GetHeadIndex("building"));config.weight=csvGetInt(csv,this.GetHeadIndex("weight"));config.event=toIntArray(csvGetString(csv,this.GetHeadIndex("event")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return PerformConfigReaderStruct}(configs.CsvConfigRender));configs.PerformConfigReaderStruct=PerformConfigReaderStruct})(configs||(configs={}));configs.PerformConfigReader=configs.PerformConfigReaderStruct;var configs;(function(configs){var PlayActConfigReaderStruct=(function(_super){__extends(PlayActConfigReaderStruct,_super);function PlayActConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="PlayAct";return _this}PlayActConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PlayActConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.data=csvGetInt(csv,this.GetHeadIndex("data"));config.event=toIntArray(csvGetString(csv,this.GetHeadIndex("event")));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return PlayActConfigReaderStruct}(configs.CsvConfigRender));configs.PlayActConfigReaderStruct=PlayActConfigReaderStruct})(configs||(configs={}));configs.PlayActConfigReader=configs.PlayActConfigReaderStruct;var configs;(function(configs){var PlayerDefaultConfigReaderStruct=(function(_super){__extends(PlayerDefaultConfigReaderStruct,_super);function PlayerDefaultConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="PlayerDefault";return _this}PlayerDefaultConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PlayerDefaultConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.actors=toIntArray(csvGetString(csv,this.GetHeadIndex("actors")));config.items=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("items")));this.addConfig(config)};return PlayerDefaultConfigReaderStruct}(configs.CsvConfigRender));configs.PlayerDefaultConfigReaderStruct=PlayerDefaultConfigReaderStruct})(configs||(configs={}));configs.PlayerDefaultConfigReader=configs.PlayerDefaultConfigReaderStruct;var configs;(function(configs){var PlayerLevelConfigReaderStruct=(function(_super){__extends(PlayerLevelConfigReaderStruct,_super);function PlayerLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="PlayerLevel";return _this}PlayerLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PlayerLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.fans=csvGetInt(csv,this.GetHeadIndex("fans"));config.story=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("story")));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.order_qua=toIntArray(csvGetString(csv,this.GetHeadIndex("order_qua")));config.order_num=csvGetInt(csv,this.GetHeadIndex("order_num"));config.train_max=csvGetInt(csv,this.GetHeadIndex("train_max"));config.train_count=csvGetInt(csv,this.GetHeadIndex("train_count"));config.actor_max=csvGetInt(csv,this.GetHeadIndex("actor_max"));config.actor_count=csvGetInt(csv,this.GetHeadIndex("actor_count"));config.hide_max=csvGetInt(csv,this.GetHeadIndex("hide_max"));config.hide_count=csvGetInt(csv,this.GetHeadIndex("hide_count"));config.day_max=csvGetInt(csv,this.GetHeadIndex("day_max"));config.day=csvGetInt(csv,this.GetHeadIndex("day"));config.meeting_cd=csvGetInt(csv,this.GetHeadIndex("meeting_cd"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.mc_special_package1=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("mc_special_package1")));config.mc_special_package2=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("mc_special_package2")));config.shop_1003=csvGetInt(csv,this.GetHeadIndex("shop_1003"));config.shop_1004=csvGetInt(csv,this.GetHeadIndex("shop_1004"));config.Turntable_min=csvGetInt(csv,this.GetHeadIndex("Turntable_min"));config.Turntable_max=csvGetInt(csv,this.GetHeadIndex("Turntable_max"));this.addConfig(config)};return PlayerLevelConfigReaderStruct}(configs.CsvConfigRender));configs.PlayerLevelConfigReaderStruct=PlayerLevelConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var PlayerLevelConfigReader=(function(_super){__extends(PlayerLevelConfigReader,_super);function PlayerLevelConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.maxLevel=1;_this.level=1;return _this}PlayerLevelConfigReader.prototype.addConfig=function(config){_super.prototype.addConfig.call(this,config);this.maxLevel=Math.max(this.maxLevel,config.id);this.level=1};PlayerLevelConfigReader.prototype.getConfig=function(id){id=Math.min(id,this.maxLevel);return _super.prototype.getConfig.call(this,id)};PlayerLevelConfigReader.prototype.GetShopGold=function(playerLv){var cfg=this.getConfig(playerLv);if(cfg){return cfg.ShopGold}return 0};PlayerLevelConfigReader.prototype.GetShopMoney=function(playerLv){var cfg=this.getConfig(playerLv);if(cfg){return cfg.ShopMoney}return 0};PlayerLevelConfigReader.prototype.GetFansLimit=function(playerLv){var cfg=this.getConfig(playerLv);if(cfg){return cfg.fans}return 0};return PlayerLevelConfigReader}(configs.PlayerLevelConfigReaderStruct));configs.PlayerLevelConfigReader=PlayerLevelConfigReader})(configs||(configs={}));var configs;(function(configs){var PositionConfigReaderStruct=(function(_super){__extends(PositionConfigReaderStruct,_super);function PositionConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Position";return _this}PositionConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PositionConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.position_cost_con=csvGetInt(csv,this.GetHeadIndex("position_cost_con"));config.position_con=csvGetInt(csv,this.GetHeadIndex("position_con"));this.addConfig(config)};return PositionConfigReaderStruct}(configs.CsvConfigRender));configs.PositionConfigReaderStruct=PositionConfigReaderStruct})(configs||(configs={}));configs.PositionConfigReader=configs.PositionConfigReaderStruct;var configs;(function(configs){var ProduceConfigReaderStruct=(function(_super){__extends(ProduceConfigReaderStruct,_super);function ProduceConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Produce";return _this}ProduceConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ProduceConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.item=csvGetInt(csv,this.GetHeadIndex("item"));config.zh_cn_tip=csvGetString(csv,this.GetHeadIndex("zh_cn_tip"));config.grade=csvGetInt(csv,this.GetHeadIndex("grade"));config.unlock_level=csvGetInt(csv,this.GetHeadIndex("unlock_level"));config.unlock_building=csvGetInt(csv,this.GetHeadIndex("unlock_building"));config.unlock_gold=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("unlock_gold")));config.unlock_reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("unlock_reward")));config.cd=csvGetInt(csv,this.GetHeadIndex("cd"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.cheer_sex=csvGetInt(csv,this.GetHeadIndex("cheer_sex"));config.cheer_continents=csvGetInt(csv,this.GetHeadIndex("cheer_continents"));config.cheer_type=csvGetInt(csv,this.GetHeadIndex("cheer_type"));config.cheer_age=csvGetInt(csv,this.GetHeadIndex("cheer_age"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.next_line=csvGetInt(csv,this.GetHeadIndex("next_line"));this.addConfig(config)};return ProduceConfigReaderStruct}(configs.CsvConfigRender));configs.ProduceConfigReaderStruct=ProduceConfigReaderStruct})(configs||(configs={}));configs.ProduceConfigReader=configs.ProduceConfigReaderStruct;var configs;(function(configs){var ProduceLevelConfigReaderStruct=(function(_super){__extends(ProduceLevelConfigReaderStruct,_super);function ProduceLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ProduceLevel";return _this}ProduceLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ProduceLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.line=csvGetInt(csv,this.GetHeadIndex("line"));config.save=csvGetInt(csv,this.GetHeadIndex("save"));config.time=csvGetInt(csv,this.GetHeadIndex("time"));config.output_initial=csvGetInt(csv,this.GetHeadIndex("output_initial"));config.time_add=csvGetInt(csv,this.GetHeadIndex("time_add"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.limit_grade=toIntArray(csvGetString(csv,this.GetHeadIndex("limit_grade")));this.addConfig(config)};return ProduceLevelConfigReaderStruct}(configs.CsvConfigRender));configs.ProduceLevelConfigReaderStruct=ProduceLevelConfigReaderStruct})(configs||(configs={}));configs.ProduceLevelConfigReader=configs.ProduceLevelConfigReaderStruct;var configs;(function(configs){var ProduceSouvenirConfigReaderStruct=(function(_super){__extends(ProduceSouvenirConfigReaderStruct,_super);function ProduceSouvenirConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ProduceSouvenir";return _this}ProduceSouvenirConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ProduceSouvenirConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.once=csvGetInt(csv,this.GetHeadIndex("once"));config.max=csvGetInt(csv,this.GetHeadIndex("max"));this.addConfig(config)};return ProduceSouvenirConfigReaderStruct}(configs.CsvConfigRender));configs.ProduceSouvenirConfigReaderStruct=ProduceSouvenirConfigReaderStruct})(configs||(configs={}));configs.ProduceSouvenirConfigReader=configs.ProduceSouvenirConfigReaderStruct;var configs;(function(configs){var PropertyConfigReaderStruct=(function(_super){__extends(PropertyConfigReaderStruct,_super);function PropertyConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Property";return _this}PropertyConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.PropertyConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.field=csvGetString(csv,this.GetHeadIndex("field"));config.enName=csvGetString(csv,this.GetHeadIndex("enName"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.tip=csvGetString(csv,this.GetHeadIndex("tip"));this.addConfig(config)};return PropertyConfigReaderStruct}(configs.CsvConfigRender));configs.PropertyConfigReaderStruct=PropertyConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var PropertyConfigReader=(function(_super){__extends(PropertyConfigReader,_super);function PropertyConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}PropertyConfigReader.prototype.getPropertyWithType=function(type){var result=new Array();var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].type==type){result.push(list[i])}}return result};PropertyConfigReader.prototype.getPropertyList=function(){var result=new Array();var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].type==6){result.push(list[i].id)}}return result};PropertyConfigReader.prototype.getPropertyConfigList=function(){var result=new Array();var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].type==6){result.push(list[i])}}return result};PropertyConfigReader.prototype.GetPropertyName=function(propertyId){var cfg=this.getConfig(propertyId);if(cfg){return cfg.name}return""};return PropertyConfigReader}(configs.PropertyConfigReaderStruct));configs.PropertyConfigReader=PropertyConfigReader})(configs||(configs={}));var configs;(function(configs){var RandomNameConfigReaderStruct=(function(_super){__extends(RandomNameConfigReaderStruct,_super);function RandomNameConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="RandomName";return _this}RandomNameConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.RandomNameConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.text=csvGetString(csv,this.GetHeadIndex("text"));this.addConfig(config)};return RandomNameConfigReaderStruct}(configs.CsvConfigRender));configs.RandomNameConfigReaderStruct=RandomNameConfigReaderStruct})(configs||(configs={}));configs.RandomNameConfigReader=configs.RandomNameConfigReaderStruct;var configs;(function(configs){var RandomSurnameConfigReaderStruct=(function(_super){__extends(RandomSurnameConfigReaderStruct,_super);function RandomSurnameConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="RandomSurname";return _this}RandomSurnameConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.RandomSurnameConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.text=csvGetString(csv,this.GetHeadIndex("text"));this.addConfig(config)};return RandomSurnameConfigReaderStruct}(configs.CsvConfigRender));configs.RandomSurnameConfigReaderStruct=RandomSurnameConfigReaderStruct})(configs||(configs={}));configs.RandomSurnameConfigReader=configs.RandomSurnameConfigReaderStruct;var configs;(function(configs){var RechargeConfigReaderStruct=(function(_super){__extends(RechargeConfigReaderStruct,_super);function RechargeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Recharge";return _this}RechargeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.RechargeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.item=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("item")));config.gift=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("gift")));config.cost_dollar=csvGetInt(csv,this.GetHeadIndex("cost_dollar"));config._double=csvGetInt(csv,this.GetHeadIndex("double"));config.go=csvGetInt(csv,this.GetHeadIndex("go"));config.term=csvGetInt(csv,this.GetHeadIndex("term"));this.addConfig(config)};return RechargeConfigReaderStruct}(configs.CsvConfigRender));configs.RechargeConfigReaderStruct=RechargeConfigReaderStruct})(configs||(configs={}));configs.RechargeConfigReader=configs.RechargeConfigReaderStruct;var configs;(function(configs){var RoadshowConfigReaderStruct=(function(_super){__extends(RoadshowConfigReaderStruct,_super);function RoadshowConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Roadshow";return _this}RoadshowConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.RoadshowConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.compere_type=csvGetInt(csv,this.GetHeadIndex("compere_type"));config.content=csvGetString(csv,this.GetHeadIndex("content"));config.remaks=csvGetString(csv,this.GetHeadIndex("remaks"));config.content_duration=csvGetInt(csv,this.GetHeadIndex("content_duration"));config.act=csvGetString(csv,this.GetHeadIndex("act"));config.act_duration=csvGetInt(csv,this.GetHeadIndex("act_duration"));this.addConfig(config)};return RoadshowConfigReaderStruct}(configs.CsvConfigRender));configs.RoadshowConfigReaderStruct=RoadshowConfigReaderStruct})(configs||(configs={}));configs.RoadshowConfigReader=configs.RoadshowConfigReaderStruct;var configs;(function(configs){var SecretaryConfigReaderStruct=(function(_super){__extends(SecretaryConfigReaderStruct,_super);function SecretaryConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Secretary";return _this}SecretaryConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SecretaryConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_info=csvGetString(csv,this.GetHeadIndex("zh_cn_info"));config.par=csvGetInt(csv,this.GetHeadIndex("par"));config.description=csvGetString(csv,this.GetHeadIndex("description"));this.addConfig(config)};return SecretaryConfigReaderStruct}(configs.CsvConfigRender));configs.SecretaryConfigReaderStruct=SecretaryConfigReaderStruct})(configs||(configs={}));configs.SecretaryConfigReader=configs.SecretaryConfigReaderStruct;var configs;(function(configs){var SecretaryGiftConfigReaderStruct=(function(_super){__extends(SecretaryGiftConfigReaderStruct,_super);function SecretaryGiftConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SecretaryGift";return _this}SecretaryGiftConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SecretaryGiftConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.items=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("items")));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return SecretaryGiftConfigReaderStruct}(configs.CsvConfigRender));configs.SecretaryGiftConfigReaderStruct=SecretaryGiftConfigReaderStruct})(configs||(configs={}));configs.SecretaryGiftConfigReader=configs.SecretaryGiftConfigReaderStruct;var configs;(function(configs){var SecretaryTextConfigReaderStruct=(function(_super){__extends(SecretaryTextConfigReaderStruct,_super);function SecretaryTextConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SecretaryText";return _this}SecretaryTextConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SecretaryTextConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_text=csvGetString(csv,this.GetHeadIndex("zh_cn_text"));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return SecretaryTextConfigReaderStruct}(configs.CsvConfigRender));configs.SecretaryTextConfigReaderStruct=SecretaryTextConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SecretaryTextConfigReader=(function(_super){__extends(SecretaryTextConfigReader,_super);function SecretaryTextConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryTextConfigReader}(configs.SecretaryTextConfigReaderStruct));configs.SecretaryTextConfigReader=SecretaryTextConfigReader})(configs||(configs={}));var configs;(function(configs){var SecretaryTypeConfigReaderStruct=(function(_super){__extends(SecretaryTypeConfigReaderStruct,_super);function SecretaryTypeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SecretaryType";return _this}SecretaryTypeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SecretaryTypeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.sex=csvGetString(csv,this.GetHeadIndex("sex"));config.pic=csvGetString(csv,this.GetHeadIndex("pic"));config.picid=csvGetInt(csv,this.GetHeadIndex("picid"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));this.addConfig(config)};return SecretaryTypeConfigReaderStruct}(configs.CsvConfigRender));configs.SecretaryTypeConfigReaderStruct=SecretaryTypeConfigReaderStruct})(configs||(configs={}));configs.SecretaryTypeConfigReader=configs.SecretaryTypeConfigReaderStruct;var configs;(function(configs){var ServerRankingListConfigReaderStruct=(function(_super){__extends(ServerRankingListConfigReaderStruct,_super);function ServerRankingListConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="ServerRankingList";return _this}ServerRankingListConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ServerRankingListConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.rank=toIntArray(csvGetString(csv,this.GetHeadIndex("rank")));config.normal_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("normal_reward")));config.spec_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("spec_reward")));this.addConfig(config)};return ServerRankingListConfigReaderStruct}(configs.CsvConfigRender));configs.ServerRankingListConfigReaderStruct=ServerRankingListConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ServerRankingListConfigReader=(function(_super){__extends(ServerRankingListConfigReader,_super);function ServerRankingListConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(ServerRankingListConfigReader.prototype,"weekRewardList",{get:function(){var list=[];var cfglist=this.getConfigList();for(var index=0;index<cfglist.length;index++){var cfg=cfglist[index];if(cfg){list.push(new Games.ServerRewardItemData(cfg.rank,cfg.spec_reward))}}list.sort(function(a,b){return a.rank[0]-b.rank[0]});return list},enumerable:true,configurable:true});Object.defineProperty(ServerRankingListConfigReader.prototype,"dailyRewardList",{get:function(){var list=[];var cfglist=this.getConfigList();for(var index=0;index<cfglist.length;index++){var cfg=cfglist[index];if(cfg){list.push(new Games.ServerRewardItemData(cfg.rank,cfg.normal_reward))}}list.sort(function(a,b){return a.rank[0]-b.rank[0]});return list},enumerable:true,configurable:true});ServerRankingListConfigReader.prototype.GetRewards=function(rank,isWeek){var list=this.getConfigList();for(var index=0;index<list.length;index++){var cfg=list[index];if(cfg.rank.length==1&&cfg.rank[0]==rank){return isWeek?cfg.spec_reward:cfg.normal_reward}else{if(cfg.rank.length==2&&cfg.rank[0]<=rank&&cfg.rank[1]>=rank){return isWeek?cfg.spec_reward:cfg.normal_reward}}}return[]};return ServerRankingListConfigReader}(configs.ServerRankingListConfigReaderStruct));configs.ServerRankingListConfigReader=ServerRankingListConfigReader})(configs||(configs={}));var configs;(function(configs){var SettingDefaultConfigReaderStruct=(function(_super){__extends(SettingDefaultConfigReaderStruct,_super);function SettingDefaultConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SettingDefault";return _this}SettingDefaultConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SettingDefaultConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config._default=csvGetInt(csv,this.GetHeadIndex("default"));config._switch=csvGetBoolean(csv,this.GetHeadIndex("switch"));config.popup=csvGetString(csv,this.GetHeadIndex("popup"));this.addConfig(config)};return SettingDefaultConfigReaderStruct}(configs.CsvConfigRender));configs.SettingDefaultConfigReaderStruct=SettingDefaultConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SettingDefaultConfigReader=(function(_super){__extends(SettingDefaultConfigReader,_super);function SettingDefaultConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.keyDict=new Dictionary();_this.inListConfigs=[];return _this}SettingDefaultConfigReader.prototype.onGameLoadedAll=function(){var list=this.getConfigList();for(var i=0;i<list.length;i++){this.keyDict.add(list[i].key,list[i])}};SettingDefaultConfigReader.prototype.getConfig=function(key){if(this.keyDict.hasKey(key)){return this.keyDict.getValue(key)}return _super.prototype.getConfig.call(this,key)};SettingDefaultConfigReader.prototype.getConfigInList=function(){if(this.inListConfigs.length<=0){var list=this.getConfigList();for(var index=0;index<list.length;index++){var element=list[index];if(element.id!=3&&element.id!=4&&element.id!=5&&element.id!=7&&element.id!=8){this.inListConfigs.push(element)}}}return this.inListConfigs};return SettingDefaultConfigReader}(configs.SettingDefaultConfigReaderStruct));configs.SettingDefaultConfigReader=SettingDefaultConfigReader})(configs||(configs={}));var configs;(function(configs){var SettingTextConfigReaderStruct=(function(_super){__extends(SettingTextConfigReaderStruct,_super);function SettingTextConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="SettingText";return _this}SettingTextConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SettingTextConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_text=csvGetString(csv,this.GetHeadIndex("zh_cn_text"));this.addConfig(config)};return SettingTextConfigReaderStruct}(configs.CsvConfigRender));configs.SettingTextConfigReaderStruct=SettingTextConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SettingTextConfigReader=(function(_super){__extends(SettingTextConfigReader,_super);function SettingTextConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return SettingTextConfigReader}(configs.SettingTextConfigReaderStruct));configs.SettingTextConfigReader=SettingTextConfigReader})(configs||(configs={}));var configs;(function(configs){var SevenDaysConfigReaderStruct=(function(_super){__extends(SevenDaysConfigReaderStruct,_super);function SevenDaysConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="SevenDays";return _this}SevenDaysConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SevenDaysConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.day=csvGetInt(csv,this.GetHeadIndex("day"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.cn=csvGetString(csv,this.GetHeadIndex("cn"));this.addConfig(config)};return SevenDaysConfigReaderStruct}(configs.CsvConfigRender));configs.SevenDaysConfigReaderStruct=SevenDaysConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SevenDaysConfigReader=(function(_super){__extends(SevenDaysConfigReader,_super);function SevenDaysConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return SevenDaysConfigReader}(configs.SevenDaysConfigReaderStruct));configs.SevenDaysConfigReader=SevenDaysConfigReader})(configs||(configs={}));var configs;(function(configs){var SevenDaysTextConfigReaderStruct=(function(_super){__extends(SevenDaysTextConfigReaderStruct,_super);function SevenDaysTextConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="SevenDaysText";return _this}SevenDaysTextConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SevenDaysTextConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.zh_cn_text=csvGetString(csv,this.GetHeadIndex("zh_cn_text"));config.cn=csvGetString(csv,this.GetHeadIndex("cn"));this.addConfig(config)};return SevenDaysTextConfigReaderStruct}(configs.CsvConfigRender));configs.SevenDaysTextConfigReaderStruct=SevenDaysTextConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SevenDaysTextConfigReader=(function(_super){__extends(SevenDaysTextConfigReader,_super);function SevenDaysTextConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return SevenDaysTextConfigReader}(configs.SevenDaysTextConfigReaderStruct));configs.SevenDaysTextConfigReader=SevenDaysTextConfigReader})(configs||(configs={}));var configs;(function(configs){var ShopConfigReaderStruct=(function(_super){__extends(ShopConfigReaderStruct,_super);function ShopConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Shop";return _this}ShopConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.ShopConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.item=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("item")));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.period=csvGetString(csv,this.GetHeadIndex("period"));config.limit=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("limit")));config.special=csvGetInt(csv,this.GetHeadIndex("special"));this.addConfig(config)};return ShopConfigReaderStruct}(configs.CsvConfigRender));configs.ShopConfigReaderStruct=ShopConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var ShopConfigReader=(function(_super){__extends(ShopConfigReader,_super);function ShopConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}ShopConfigReader.prototype.GetCfgByType=function(type){var list=[];for(var key in this.configs){if(this.configs.hasOwnProperty(key)){var cfg=this.configs[key];if(cfg.type==type){list.push(cfg)}}}return list};return ShopConfigReader}(configs.ShopConfigReaderStruct));configs.ShopConfigReader=ShopConfigReader})(configs||(configs={}));var configs;(function(configs){var SkillConfigReaderStruct=(function(_super){__extends(SkillConfigReaderStruct,_super);function SkillConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Skill";return _this}SkillConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SkillConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.group_id=csvGetInt(csv,this.GetHeadIndex("group_id"));config.lv=csvGetInt(csv,this.GetHeadIndex("lv"));config.exp=csvGetInt(csv,this.GetHeadIndex("exp"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.en_tips=csvGetString(csv,this.GetHeadIndex("en_tips"));config.cn_tips=csvGetString(csv,this.GetHeadIndex("cn_tips"));config.en_effecttext=csvGetString(csv,this.GetHeadIndex("en_effecttext"));config.cn_effecttext=csvGetString(csv,this.GetHeadIndex("cn_effecttext"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.trigger=toIntArray(csvGetString(csv,this.GetHeadIndex("trigger")));config.effect=csvGetInt(csv,this.GetHeadIndex("effect"));config.value=csvGetFloat(csv,this.GetHeadIndex("value"));config.stamina=csvGetInt(csv,this.GetHeadIndex("stamina"));this.addConfig(config)};return SkillConfigReaderStruct}(configs.CsvConfigRender));configs.SkillConfigReaderStruct=SkillConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var SkillConfigReader=(function(_super){__extends(SkillConfigReader,_super);function SkillConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}SkillConfigReader.prototype.addConfig=function(config){_super.prototype.addConfig.call(this,config);if(this.groups==null){this.groups=new Dictionary()}var skills;if(this.groups.hasKey(config.group_id)){skills=this.groups.getValue(config.group_id)}else{skills=new Dictionary();this.groups.add(config.group_id,skills)}skills.add(config.lv,config)};SkillConfigReader.prototype.getConfigByGroupIdAndLv=function(groupId,lv){var config;if(this.groups.hasKey(groupId)){var skills=this.groups.getValue(groupId);config=skills.getValue(lv)}return config};return SkillConfigReader}(configs.SkillConfigReaderStruct));configs.SkillConfigReader=SkillConfigReader})(configs||(configs={}));var configs;(function(configs){var SkillEffectConfigReaderStruct=(function(_super){__extends(SkillEffectConfigReaderStruct,_super);function SkillEffectConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SkillEffect";return _this}SkillEffectConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SkillEffectConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.effect=csvGetInt(csv,this.GetHeadIndex("effect"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return SkillEffectConfigReaderStruct}(configs.CsvConfigRender));configs.SkillEffectConfigReaderStruct=SkillEffectConfigReaderStruct})(configs||(configs={}));configs.SkillEffectConfigReader=configs.SkillEffectConfigReaderStruct;var configs;(function(configs){var SkillTriggerConfigReaderStruct=(function(_super){__extends(SkillTriggerConfigReaderStruct,_super);function SkillTriggerConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="SkillTrigger";return _this}SkillTriggerConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SkillTriggerConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.trigger=csvGetInt(csv,this.GetHeadIndex("trigger"));config.value=csvGetInt(csv,this.GetHeadIndex("value"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return SkillTriggerConfigReaderStruct}(configs.CsvConfigRender));configs.SkillTriggerConfigReaderStruct=SkillTriggerConfigReaderStruct})(configs||(configs={}));configs.SkillTriggerConfigReader=configs.SkillTriggerConfigReaderStruct;var configs;(function(configs){var SpeakConfigReaderStruct=(function(_super){__extends(SpeakConfigReaderStruct,_super);function SpeakConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Speak";return _this}SpeakConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.SpeakConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.en_speak=csvGetString(csv,this.GetHeadIndex("en_speak"));config.cn_speak=csvGetString(csv,this.GetHeadIndex("cn_speak"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return SpeakConfigReaderStruct}(configs.CsvConfigRender));configs.SpeakConfigReaderStruct=SpeakConfigReaderStruct})(configs||(configs={}));configs.SpeakConfigReader=configs.SpeakConfigReaderStruct;var configs;(function(configs){var StarConConfigReaderStruct=(function(_super){__extends(StarConConfigReaderStruct,_super);function StarConConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StarCon";return _this}StarConConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StarConConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.story_star_con=csvGetInt(csv,this.GetHeadIndex("story_star_con"));config.att_con=csvGetInt(csv,this.GetHeadIndex("att_con"));config.count=csvGetInt(csv,this.GetHeadIndex("count"));config.evaluate_protect=csvGetInt(csv,this.GetHeadIndex("evaluate_protect"));config.opinions_protect=csvGetInt(csv,this.GetHeadIndex("opinions_protect"));this.addConfig(config)};return StarConConfigReaderStruct}(configs.CsvConfigRender));configs.StarConConfigReaderStruct=StarConConfigReaderStruct})(configs||(configs={}));configs.StarConConfigReader=configs.StarConConfigReaderStruct;var configs;(function(configs){var StoryCharactersConfigReaderStruct=(function(_super){__extends(StoryCharactersConfigReaderStruct,_super);function StoryCharactersConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StoryCharacters";return _this}StoryCharactersConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryCharactersConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.story_id=csvGetInt(csv,this.GetHeadIndex("story_id"));config.character_num=csvGetInt(csv,this.GetHeadIndex("character_num"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.type_pic=csvGetInt(csv,this.GetHeadIndex("type_pic"));config.sex=csvGetInt(csv,this.GetHeadIndex("sex"));config.country=csvGetInt(csv,this.GetHeadIndex("country"));config.show_type=csvGetInt(csv,this.GetHeadIndex("show_type"));config.age_type=csvGetInt(csv,this.GetHeadIndex("age_type"));config.tags=toIntArray(csvGetString(csv,this.GetHeadIndex("tags")));config.effect=toIntArray(csvGetString(csv,this.GetHeadIndex("effect")));config.zh_cn_introduction=csvGetString(csv,this.GetHeadIndex("zh_cn_introduction"));this.addConfig(config)};return StoryCharactersConfigReaderStruct}(configs.CsvConfigRender));configs.StoryCharactersConfigReaderStruct=StoryCharactersConfigReaderStruct})(configs||(configs={}));configs.StoryCharactersConfigReader=configs.StoryCharactersConfigReaderStruct;var configs;(function(configs){var StoryConfigReaderStruct=(function(_super){__extends(StoryConfigReaderStruct,_super);function StoryConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Story";return _this}StoryConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.story_num=csvGetInt(csv,this.GetHeadIndex("story_num"));config.stack_sort=csvGetInt(csv,this.GetHeadIndex("stack_sort"));config.zh_cn_story_name=csvGetString(csv,this.GetHeadIndex("zh_cn_story_name"));config.name_tips=csvGetString(csv,this.GetHeadIndex("name_tips"));config.poster_name=csvGetInt(csv,this.GetHeadIndex("poster_name"));config.zh_cn_introduction=csvGetString(csv,this.GetHeadIndex("zh_cn_introduction"));config.introduction_tips=csvGetString(csv,this.GetHeadIndex("introduction_tips"));config.length=csvGetInt(csv,this.GetHeadIndex("length"));config.cost=csvGetInt(csv,this.GetHeadIndex("cost"));config.stars=csvGetInt(csv,this.GetHeadIndex("stars"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.tags=toIntArray(csvGetString(csv,this.GetHeadIndex("tags")));config.hidden_tags=toIntArray(csvGetString(csv,this.GetHeadIndex("hidden_tags")));config.shoot_type=csvGetInt(csv,this.GetHeadIndex("shoot_type"));config.property=toIntArray(csvGetString(csv,this.GetHeadIndex("property")));config.target_mark=csvGetBoolean(csv,this.GetHeadIndex("target_mark"));config.male_percent=csvGetInt(csv,this.GetHeadIndex("male_percent"));config.female_percent=csvGetInt(csv,this.GetHeadIndex("female_percent"));config.child_percent=csvGetInt(csv,this.GetHeadIndex("child_percent"));config.reward=configs.DTStoryEffect.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.sequel_mark=csvGetBoolean(csv,this.GetHeadIndex("sequel_mark"));config.random_name=csvGetInt(csv,this.GetHeadIndex("random_name"));this.addConfig(config)};return StoryConfigReaderStruct}(configs.CsvConfigRender));configs.StoryConfigReaderStruct=StoryConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var StoryConfigReader=(function(_super){__extends(StoryConfigReader,_super);function StoryConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}StoryConfigReader.prototype.GetPoster=function(id){var cfg=this.getConfig(id);if(cfg){return Game.config.avatar.GetIconUrl(cfg.poster_name)}};return StoryConfigReader}(configs.StoryConfigReaderStruct));configs.StoryConfigReader=StoryConfigReader})(configs||(configs={}));var configs;(function(configs){var StoryGoalsConfigReaderStruct=(function(_super){__extends(StoryGoalsConfigReaderStruct,_super);function StoryGoalsConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StoryGoals";return _this}StoryGoalsConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryGoalsConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.storyid=csvGetInt(csv,this.GetHeadIndex("storyid"));config.rank=csvGetInt(csv,this.GetHeadIndex("rank"));config.property1=csvGetInt(csv,this.GetHeadIndex("property1"));config.value1=csvGetInt(csv,this.GetHeadIndex("value1"));config.property2=csvGetInt(csv,this.GetHeadIndex("property2"));config.value2=csvGetInt(csv,this.GetHeadIndex("value2"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return StoryGoalsConfigReaderStruct}(configs.CsvConfigRender));configs.StoryGoalsConfigReaderStruct=StoryGoalsConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var StoryGoalsConfigReader=(function(_super){__extends(StoryGoalsConfigReader,_super);function StoryGoalsConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}StoryGoalsConfigReader.prototype.getGoalTarget=function(storyId,rank){var list=this.getConfigList();for(var i=0;i<list.length;i++){if(list[i].storyid===storyId&&list[i].rank===rank){return list[i]}}return null};return StoryGoalsConfigReader}(configs.StoryGoalsConfigReaderStruct));configs.StoryGoalsConfigReader=StoryGoalsConfigReader})(configs||(configs={}));var configs;(function(configs){var StorylineConfigReaderStruct=(function(_super){__extends(StorylineConfigReaderStruct,_super);function StorylineConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Storyline";return _this}StorylineConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StorylineConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.trigger=csvGetInt(csv,this.GetHeadIndex("trigger"));config.value=csvGetInt(csv,this.GetHeadIndex("value"));config.guide_type=csvGetInt(csv,this.GetHeadIndex("guide_type"));config.guide_id=csvGetInt(csv,this.GetHeadIndex("guide_id"));config.group=csvGetInt(csv,this.GetHeadIndex("group"));config.order=csvGetInt(csv,this.GetHeadIndex("order"));config.type_id=csvGetString(csv,this.GetHeadIndex("type_id"));config.ui_type=csvGetInt(csv,this.GetHeadIndex("ui_type"));config.cn_ui_content=csvGetString(csv,this.GetHeadIndex("cn_ui_content"));config.en_ui_content=csvGetString(csv,this.GetHeadIndex("en_ui_content"));config.cn_content=csvGetString(csv,this.GetHeadIndex("cn_content"));config.en_content=csvGetString(csv,this.GetHeadIndex("en_content"));config.cn_name=csvGetString(csv,this.GetHeadIndex("cn_name"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.anchor=csvGetInt(csv,this.GetHeadIndex("anchor"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return StorylineConfigReaderStruct}(configs.CsvConfigRender));configs.StorylineConfigReaderStruct=StorylineConfigReaderStruct})(configs||(configs={}));var configs;(function(configs_1){var StorylineConfigReader=(function(_super){__extends(StorylineConfigReader,_super);function StorylineConfigReader(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.groups=[];return _this}StorylineConfigReader.prototype.addConfig=function(config){_super.prototype.addConfig.call(this,config);if(this.configDict==null){this.configDict=new Dictionary()}if(this.configOrderDict==null){this.configOrderDict=new Dictionary()}if(this.configTriggerDict==null){this.configTriggerDict=new Dictionary()}var list=this.configDict.getValue(config.group);if(list==null){list=new Array();this.configDict.add(config.group,list);this.groups.push(config.group)}list.push(config);list=this.configTriggerDict.getValue(config.trigger);if(list==null){list=new Array();this.configTriggerDict.add(config.trigger,list)}list.push(config);var dict=this.configOrderDict.getValue(config.group);if(dict==null){dict=new Dictionary();this.configOrderDict.add(config.group,dict)}dict.add(config.order,config)};StorylineConfigReader.prototype.onGameLoadedAll=function(){for(var index=0;index<this.groups.length;index++){var element=this.groups[index];var list=this.configDict.getValue(element);list.sort(function(a,b){return a.order-b.order})}};StorylineConfigReader.prototype.getNextStoryline=function(id){var config=this.getConfig(id);var nextConfig;if(config){var dict=this.configOrderDict.getValue(config.group);if(dict){nextConfig=dict.getValue(config.order+1)}}return nextConfig};StorylineConfigReader.prototype.getConfigByTrigger=function(type){var configs=this.configTriggerDict.getValue(type);return configs};StorylineConfigReader.prototype.getConfigsByTriggers=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var configs=[];for(var index=0;index<args.length;index++){var element=args[index];configs=configs.concat(this.configTriggerDict.getValue(element))}return configs};StorylineConfigReader.prototype.getConfigListByGroup=function(group){var configs=this.configDict.getValue(group);return configs};return StorylineConfigReader}(configs_1.StorylineConfigReaderStruct));configs_1.StorylineConfigReader=StorylineConfigReader})(configs||(configs={}));var configs;(function(configs){var StoryRateConfigReaderStruct=(function(_super){__extends(StoryRateConfigReaderStruct,_super);function StoryRateConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StoryRate";return _this}StoryRateConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryRateConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.rate=csvGetInt(csv,this.GetHeadIndex("rate"));this.addConfig(config)};return StoryRateConfigReaderStruct}(configs.CsvConfigRender));configs.StoryRateConfigReaderStruct=StoryRateConfigReaderStruct})(configs||(configs={}));configs.StoryRateConfigReader=configs.StoryRateConfigReaderStruct;var configs;(function(configs){var StoryStackConfigReaderStruct=(function(_super){__extends(StoryStackConfigReaderStruct,_super);function StoryStackConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="StoryStack";return _this}StoryStackConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryStackConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.key=csvGetString(csv,this.GetHeadIndex("key"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.par=toIntArray(csvGetString(csv,this.GetHeadIndex("par")));this.addConfig(config)};return StoryStackConfigReaderStruct}(configs.CsvConfigRender));configs.StoryStackConfigReaderStruct=StoryStackConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var StoryStackConfigReader=(function(_super){__extends(StoryStackConfigReader,_super);function StoryStackConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return StoryStackConfigReader}(configs.StoryStackConfigReaderStruct));configs.StoryStackConfigReader=StoryStackConfigReader})(configs||(configs={}));var configs;(function(configs){var StoryStackItemConfigReaderStruct=(function(_super){__extends(StoryStackItemConfigReaderStruct,_super);function StoryStackItemConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StoryStackItem";return _this}StoryStackItemConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryStackItemConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.num=csvGetInt(csv,this.GetHeadIndex("num"));config.rate=csvGetInt(csv,this.GetHeadIndex("rate"));this.addConfig(config)};return StoryStackItemConfigReaderStruct}(configs.CsvConfigRender));configs.StoryStackItemConfigReaderStruct=StoryStackItemConfigReaderStruct})(configs||(configs={}));configs.StoryStackItemConfigReader=configs.StoryStackItemConfigReaderStruct;var configs;(function(configs){var StoryStackSortConfigReaderStruct=(function(_super){__extends(StoryStackSortConfigReaderStruct,_super);function StoryStackSortConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="StoryStackSort";return _this}StoryStackSortConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryStackSortConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.scripts=toIntArray(csvGetString(csv,this.GetHeadIndex("scripts")));config.rewards=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("rewards")));config.addition_scene=configs.DTStoryEffect.parseArray(csvGetString(csv,this.GetHeadIndex("addition_scene")));this.addConfig(config)};return StoryStackSortConfigReaderStruct}(configs.CsvConfigRender));configs.StoryStackSortConfigReaderStruct=StoryStackSortConfigReaderStruct})(configs||(configs={}));configs.StoryStackSortConfigReader=configs.StoryStackSortConfigReaderStruct;var configs;(function(configs){var StoryTaskConfigReaderStruct=(function(_super){__extends(StoryTaskConfigReaderStruct,_super);function StoryTaskConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="StoryTask";return _this}StoryTaskConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StoryTaskConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.task=csvGetInt(csv,this.GetHeadIndex("task"));config.value=csvGetInt(csv,this.GetHeadIndex("value"));config.zh_cn_description=csvGetString(csv,this.GetHeadIndex("zh_cn_description"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return StoryTaskConfigReaderStruct}(configs.CsvConfigRender));configs.StoryTaskConfigReaderStruct=StoryTaskConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var StoryTaskConfigReader=(function(_super){__extends(StoryTaskConfigReader,_super);function StoryTaskConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return StoryTaskConfigReader}(configs.StoryTaskConfigReaderStruct));configs.StoryTaskConfigReader=StoryTaskConfigReader})(configs||(configs={}));var configs;(function(configs){var StreetConfigReaderStruct=(function(_super){__extends(StreetConfigReaderStruct,_super);function StreetConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Street";return _this}StreetConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.StreetConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.en_name=csvGetString(csv,this.GetHeadIndex("en_name"));config.city_schedule=csvGetInt(csv,this.GetHeadIndex("city_schedule"));config.position=configs.DTVector2.parse(csvGetString(csv,this.GetHeadIndex("position")));config.spokesperson_sex=csvGetInt(csv,this.GetHeadIndex("spokesperson_sex"));config.spokesperson_Continents=csvGetInt(csv,this.GetHeadIndex("spokesperson_Continents"));config.spokesperson_type=csvGetInt(csv,this.GetHeadIndex("spokesperson_type"));config.spokesperson_age=csvGetInt(csv,this.GetHeadIndex("spokesperson_age"));config.spokesperson_scene=csvGetInt(csv,this.GetHeadIndex("spokesperson_scene"));config.spokesperson_performance=csvGetInt(csv,this.GetHeadIndex("spokesperson_performance"));config.spokesperson_plot=csvGetInt(csv,this.GetHeadIndex("spokesperson_plot"));config.spokesperson_art=csvGetInt(csv,this.GetHeadIndex("spokesperson_art"));config.spokesperson_entertainment=csvGetInt(csv,this.GetHeadIndex("spokesperson_entertainment"));config.publicize_schedule=csvGetInt(csv,this.GetHeadIndex("publicize_schedule"));config.publicize_cost=csvGetInt(csv,this.GetHeadIndex("publicize_cost"));config.once_reward=csvGetInt(csv,this.GetHeadIndex("once_reward"));config.finale_reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("finale_reward")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.next_stage=csvGetInt(csv,this.GetHeadIndex("next_stage"));config.city=csvGetInt(csv,this.GetHeadIndex("city"));this.addConfig(config)};return StreetConfigReaderStruct}(configs.CsvConfigRender));configs.StreetConfigReaderStruct=StreetConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var StreetConfigReader=(function(_super){__extends(StreetConfigReader,_super);function StreetConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}StreetConfigReader.prototype.GetRequire=function(id){var cfg=this.getConfig(id);if(cfg){return cfg.Require}return[]};return StreetConfigReader}(configs.StreetConfigReaderStruct));configs.StreetConfigReader=StreetConfigReader})(configs||(configs={}));var configs;(function(configs){var TaskCompleteConfigReaderStruct=(function(_super){__extends(TaskCompleteConfigReaderStruct,_super);function TaskCompleteConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.path="TaskComplete";return _this}TaskCompleteConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TaskCompleteConfig();config.completion=csvGetInt(csv,this.GetHeadIndex("completion"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return TaskCompleteConfigReaderStruct}(configs.CsvConfigRender));configs.TaskCompleteConfigReaderStruct=TaskCompleteConfigReaderStruct})(configs||(configs={}));var configs;(function(configs){var TaskCompleteConfigReader=(function(_super){__extends(TaskCompleteConfigReader,_super);function TaskCompleteConfigReader(){return _super!==null&&_super.apply(this,arguments)||this}return TaskCompleteConfigReader}(configs.TaskCompleteConfigReaderStruct));configs.TaskCompleteConfigReader=TaskCompleteConfigReader})(configs||(configs={}));var configs;(function(configs){var TaskConfigReaderStruct=(function(_super){__extends(TaskConfigReaderStruct,_super);function TaskConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Task";return _this}TaskConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TaskConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.unlock=csvGetInt(csv,this.GetHeadIndex("unlock"));config.require=csvGetInt(csv,this.GetHeadIndex("require"));config.goal=csvGetInt(csv,this.GetHeadIndex("goal"));config.s_goal=csvGetInt(csv,this.GetHeadIndex("s_goal"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.Complete=csvGetInt(csv,this.GetHeadIndex("Complete"));config.pre_id=csvGetInt(csv,this.GetHeadIndex("pre_id"));config.guide=csvGetInt(csv,this.GetHeadIndex("guide"));this.addConfig(config)};return TaskConfigReaderStruct}(configs.CsvConfigRender));configs.TaskConfigReaderStruct=TaskConfigReaderStruct})(configs||(configs={}));configs.TaskConfigReader=configs.TaskConfigReaderStruct;var configs;(function(configs){var TestConfigReaderStruct=(function(_super){__extends(TestConfigReaderStruct,_super);function TestConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Test";return _this}TestConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TestConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.age=csvGetInt(csv,this.GetHeadIndex("age"));config.intArray=toIntArray(csvGetString(csv,this.GetHeadIndex("intArray")));config.coin=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("coin")));config.items=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("items")));config.position=configs.DTVector2.parse(csvGetString(csv,this.GetHeadIndex("position")));config.story=configs.DTStoryNum.parse(csvGetString(csv,this.GetHeadIndex("story")));this.addConfig(config)};return TestConfigReaderStruct}(configs.CsvConfigRender));configs.TestConfigReaderStruct=TestConfigReaderStruct})(configs||(configs={}));configs.TestConfigReader=configs.TestConfigReaderStruct;var configs;(function(configs){var TurntableCompleteConfigReaderStruct=(function(_super){__extends(TurntableCompleteConfigReaderStruct,_super);function TurntableCompleteConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="TurntableComplete";return _this}TurntableCompleteConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TurntableCompleteConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.start=toIntArray(csvGetString(csv,this.GetHeadIndex("start")));config.end=toIntArray(csvGetString(csv,this.GetHeadIndex("end")));config.Reception=csvGetInt(csv,this.GetHeadIndex("Reception"));config.actor1=toIntArray(csvGetString(csv,this.GetHeadIndex("actor1")));config.actor2=toIntArray(csvGetString(csv,this.GetHeadIndex("actor2")));config.integral=csvGetInt(csv,this.GetHeadIndex("integral"));config.reward=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("reward")));this.addConfig(config)};return TurntableCompleteConfigReaderStruct}(configs.CsvConfigRender));configs.TurntableCompleteConfigReaderStruct=TurntableCompleteConfigReaderStruct})(configs||(configs={}));configs.TurntableCompleteConfigReader=configs.TurntableCompleteConfigReaderStruct;var configs;(function(configs){var TurntableRewardConfigReaderStruct=(function(_super){__extends(TurntableRewardConfigReaderStruct,_super);function TurntableRewardConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="TurntableReward";return _this}TurntableRewardConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TurntableRewardConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.itemtype=csvGetInt(csv,this.GetHeadIndex("itemtype"));config.itme=csvGetInt(csv,this.GetHeadIndex("itme"));config.quantity=csvGetInt(csv,this.GetHeadIndex("quantity"));config.weights=csvGetInt(csv,this.GetHeadIndex("weights"));this.addConfig(config)};return TurntableRewardConfigReaderStruct}(configs.CsvConfigRender));configs.TurntableRewardConfigReaderStruct=TurntableRewardConfigReaderStruct})(configs||(configs={}));configs.TurntableRewardConfigReader=configs.TurntableRewardConfigReaderStruct;var configs;(function(configs){var TypeConfigReaderStruct=(function(_super){__extends(TypeConfigReaderStruct,_super);function TypeConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Type";return _this}TypeConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.TypeConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.field=csvGetString(csv,this.GetHeadIndex("field"));config.enName=csvGetString(csv,this.GetHeadIndex("enName"));config.cnName=csvGetString(csv,this.GetHeadIndex("cnName"));config.tip=csvGetString(csv,this.GetHeadIndex("tip"));this.addConfig(config)};return TypeConfigReaderStruct}(configs.CsvConfigRender));configs.TypeConfigReaderStruct=TypeConfigReaderStruct})(configs||(configs={}));configs.TypeConfigReader=configs.TypeConfigReaderStruct;var configs;(function(configs){var UnlockConfigReaderStruct=(function(_super){__extends(UnlockConfigReaderStruct,_super);function UnlockConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Unlock";return _this}UnlockConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.UnlockConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.icon_type=csvGetInt(csv,this.GetHeadIndex("icon_type"));config.open_type=csvGetInt(csv,this.GetHeadIndex("open_type"));config.open_data=csvGetInt(csv,this.GetHeadIndex("open_data"));config.plot=csvGetInt(csv,this.GetHeadIndex("plot"));config.time=csvGetInt(csv,this.GetHeadIndex("time"));config.close_type=csvGetInt(csv,this.GetHeadIndex("close_type"));config._continue=csvGetInt(csv,this.GetHeadIndex("continue"));config.zh_cn_touch_txt=csvGetString(csv,this.GetHeadIndex("zh_cn_touch_txt"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));this.addConfig(config)};return UnlockConfigReaderStruct}(configs.CsvConfigRender));configs.UnlockConfigReaderStruct=UnlockConfigReaderStruct})(configs||(configs={}));configs.UnlockConfigReader=configs.UnlockConfigReaderStruct;var configs;(function(configs){var VisitConfigReaderStruct=(function(_super){__extends(VisitConfigReaderStruct,_super);function VisitConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Visit";return _this}VisitConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.VisitConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.fans=csvGetInt(csv,this.GetHeadIndex("fans"));config.flower=csvGetInt(csv,this.GetHeadIndex("flower"));config.zh_cn_fans_speak0=csvGetString(csv,this.GetHeadIndex("zh_cn_fans_speak0"));config.zh_cn_actor_speak0=csvGetString(csv,this.GetHeadIndex("zh_cn_actor_speak0"));config.zh_cn_fans_speak1=csvGetString(csv,this.GetHeadIndex("zh_cn_fans_speak1"));config.zh_cn_actor_speak1=csvGetString(csv,this.GetHeadIndex("zh_cn_actor_speak1"));config.zh_cn_fans_speak2=csvGetString(csv,this.GetHeadIndex("zh_cn_fans_speak2"));config.zh_cn_actor_speak2=csvGetString(csv,this.GetHeadIndex("zh_cn_actor_speak2"));config.reward=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("reward")));config.expect=csvGetInt(csv,this.GetHeadIndex("expect"));this.addConfig(config)};return VisitConfigReaderStruct}(configs.CsvConfigRender));configs.VisitConfigReaderStruct=VisitConfigReaderStruct})(configs||(configs={}));configs.VisitConfigReader=configs.VisitConfigReaderStruct;var configs;(function(configs){var WelfareConfigReaderStruct=(function(_super){__extends(WelfareConfigReaderStruct,_super);function WelfareConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Welfare";return _this}WelfareConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WelfareConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.type=csvGetInt(csv,this.GetHeadIndex("type"));config.icon=csvGetInt(csv,this.GetHeadIndex("icon"));config.icon_chosen=csvGetInt(csv,this.GetHeadIndex("icon_chosen"));config.zh_cn_activities_name=csvGetString(csv,this.GetHeadIndex("zh_cn_activities_name"));config.info=csvGetString(csv,this.GetHeadIndex("info"));this.addConfig(config)};return WelfareConfigReaderStruct}(configs.CsvConfigRender));configs.WelfareConfigReaderStruct=WelfareConfigReaderStruct})(configs||(configs={}));configs.WelfareConfigReader=configs.WelfareConfigReaderStruct;var configs;(function(configs){var WriterAbilityConfigReaderStruct=(function(_super){__extends(WriterAbilityConfigReaderStruct,_super);function WriterAbilityConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="WriterAbility";return _this}WriterAbilityConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterAbilityConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.advanced_level=csvGetInt(csv,this.GetHeadIndex("advanced_level"));config.increase=csvGetInt(csv,this.GetHeadIndex("increase"));config.train_time=csvGetInt(csv,this.GetHeadIndex("train_time"));config.train_cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("train_cost")));this.addConfig(config)};return WriterAbilityConfigReaderStruct}(configs.CsvConfigRender));configs.WriterAbilityConfigReaderStruct=WriterAbilityConfigReaderStruct})(configs||(configs={}));configs.WriterAbilityConfigReader=configs.WriterAbilityConfigReaderStruct;var configs;(function(configs){var WriterAdaptEffectConfigReaderStruct=(function(_super){__extends(WriterAdaptEffectConfigReaderStruct,_super);function WriterAdaptEffectConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="WriterAdaptEffect";return _this}WriterAdaptEffectConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterAdaptEffectConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_adapt=csvGetString(csv,this.GetHeadIndex("zh_cn_adapt"));config.zh_cn_adapt_des=csvGetString(csv,this.GetHeadIndex("zh_cn_adapt_des"));config.effect1=csvGetInt(csv,this.GetHeadIndex("effect1"));config.effect1_weight=csvGetInt(csv,this.GetHeadIndex("effect1_weight"));config.effect2=csvGetInt(csv,this.GetHeadIndex("effect2"));config.effect2_weight=csvGetInt(csv,this.GetHeadIndex("effect2_weight"));config.effect3=csvGetInt(csv,this.GetHeadIndex("effect3"));config.effect3_weight=csvGetInt(csv,this.GetHeadIndex("effect3_weight"));config.effect4=csvGetInt(csv,this.GetHeadIndex("effect4"));config.effect4_weight=csvGetInt(csv,this.GetHeadIndex("effect4_weight"));this.addConfig(config)};return WriterAdaptEffectConfigReaderStruct}(configs.CsvConfigRender));configs.WriterAdaptEffectConfigReaderStruct=WriterAdaptEffectConfigReaderStruct})(configs||(configs={}));configs.WriterAdaptEffectConfigReader=configs.WriterAdaptEffectConfigReaderStruct;var configs;(function(configs){var WriterConfigReaderStruct=(function(_super){__extends(WriterConfigReaderStruct,_super);function WriterConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="Writer";return _this}WriterConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.quality=csvGetInt(csv,this.GetHeadIndex("quality"));config.head=csvGetInt(csv,this.GetHeadIndex("head"));config.advanced_ability=csvGetInt(csv,this.GetHeadIndex("advanced_ability"));config.special_skill=toIntArray(csvGetString(csv,this.GetHeadIndex("special_skill")));config.skill_level=toIntArray(csvGetString(csv,this.GetHeadIndex("skill_level")));config.employee_cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("employee_cost")));this.addConfig(config)};return WriterConfigReaderStruct}(configs.CsvConfigRender));configs.WriterConfigReaderStruct=WriterConfigReaderStruct})(configs||(configs={}));configs.WriterConfigReader=configs.WriterConfigReaderStruct;var configs;(function(configs){var WriterLevelConfigReaderStruct=(function(_super){__extends(WriterLevelConfigReaderStruct,_super);function WriterLevelConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="WriterLevel";return _this}WriterLevelConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterLevelConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.zh_cn_name=csvGetString(csv,this.GetHeadIndex("zh_cn_name"));config.level=csvGetInt(csv,this.GetHeadIndex("level"));config.ability=csvGetInt(csv,this.GetHeadIndex("ability"));config.levelup_cost=configs.DTItemNum.parseArray(csvGetString(csv,this.GetHeadIndex("levelup_cost")));this.addConfig(config)};return WriterLevelConfigReaderStruct}(configs.CsvConfigRender));configs.WriterLevelConfigReaderStruct=WriterLevelConfigReaderStruct})(configs||(configs={}));configs.WriterLevelConfigReader=configs.WriterLevelConfigReaderStruct;var configs;(function(configs){var WriterSkillConfigReaderStruct=(function(_super){__extends(WriterSkillConfigReaderStruct,_super);function WriterSkillConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="WriterSkill";return _this}WriterSkillConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterSkillConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.name=csvGetString(csv,this.GetHeadIndex("name"));config.skill_level=csvGetInt(csv,this.GetHeadIndex("skill_level"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.req_level=csvGetInt(csv,this.GetHeadIndex("req_level"));config.label=toIntArray(csvGetString(csv,this.GetHeadIndex("label")));this.addConfig(config)};return WriterSkillConfigReaderStruct}(configs.CsvConfigRender));configs.WriterSkillConfigReaderStruct=WriterSkillConfigReaderStruct})(configs||(configs={}));configs.WriterSkillConfigReader=configs.WriterSkillConfigReaderStruct;var configs;(function(configs){var WriterStationConfigReaderStruct=(function(_super){__extends(WriterStationConfigReaderStruct,_super);function WriterStationConfigReaderStruct(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tableName="WriterStation";return _this}WriterStationConfigReaderStruct.prototype.ParseCsv=function(csv){var config=new configs.WriterStationConfig();config.id=csvGetInt(csv,this.GetHeadIndex("id"));config.tips=csvGetString(csv,this.GetHeadIndex("tips"));config.cost=configs.DTItemNum.parse(csvGetString(csv,this.GetHeadIndex("cost")));config.req_block=csvGetInt(csv,this.GetHeadIndex("req_block"));this.addConfig(config)};return WriterStationConfigReaderStruct}(configs.CsvConfigRender));configs.WriterStationConfigReaderStruct=WriterStationConfigReaderStruct})(configs||(configs={}));configs.WriterStationConfigReader=configs.WriterStationConfigReaderStruct;var fgui;(function(fgui){var Activity;(function(Activity){var ActivityMainStruct=(function(_super){__extends(ActivityMainStruct,_super);function ActivityMainStruct(){return _super.call(this)||this}ActivityMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","ActivityMain"))};ActivityMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_topList=(this.getChild("topList"));this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_panel=(this.getChild("panel"))};ActivityMainStruct.URL="ui://9qou8rs7sga10";ActivityMainStruct.DependPackages=["Activity","Common","WarMovie"];return ActivityMainStruct}(fairygui.GComponent));Activity.ActivityMainStruct=ActivityMainStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivityMain=(function(_super){__extends(ActivityMain,_super);function ActivityMain(){return _super!==null&&_super.apply(this,arguments)||this}ActivityMain.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_topList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_topList.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};ActivityMain.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};ActivityMain.prototype.onWindowShow=function(){if(!this.comList){this.comList=new Dictionary()}Game.moduleModel.activity.sUpdateSign.add(this.updateSign,this);Game.moduleModel.activity.sUpdateSeven.add(this.updateSeven,this);Game.protoOkEvent.add(ProtoEventKey.SecretaryData,this.updateSecretaryHandler,this);this.setData()};ActivityMain.prototype.onWindowHide=function(){Game.moduleModel.activity.sUpdateSign.remove(this.updateSign,this);Game.moduleModel.activity.sUpdateSeven.remove(this.updateSeven,this);Game.protoOkEvent.remove(ProtoEventKey.SecretaryData,this.updateSecretaryHandler,this);var panelList=this.comList.getValues();for(var i=0;i<panelList.length;i++){panelList[i].visible=false}};ActivityMain.prototype.updateSign=function(){if(this.signPanel&&this.signPanel!==null&&this.signPanel.visible){this.signPanel.signRewardTip()}this.m_topList.numItems=this.m_topList.numItems};ActivityMain.prototype.updateSeven=function(){if(this.sevenPanel&&this.sevenPanel!==null&&this.sevenPanel.visible){this.sevenPanel.onRefrush()}this.m_topList.numItems=this.m_topList.numItems};ActivityMain.prototype.updateSecretaryHandler=function(){if(this.secretaryPanel&&this.secretaryPanel.visible){this.secretaryPanel.setData()}if(this.applyLicensePanel&&this.applyLicensePanel.visible){this.applyLicensePanel.setData(this)}this.m_topList.numItems=this.m_topList.numItems};ActivityMain.prototype.setData=function(num){if(num===void 0){num=0}if(this.moduleWindow.menuParameter.args.length>0){this.curSelectItem=this.moduleWindow.menuParameter.args[0]}else{this.curSelectItem=num}if(this.moduleWindow.menuId===MenuId.Weal){if(!this.welfareConfig||this.welfareConfig===null){this.welfareConfig=Game.config.welfare.getConfigList()}this.m_title.text=TEXT.WelfTitle;this.m_topList.numItems=this.welfareConfig.length;this.m_topList.addSelection(this.curSelectItem);this.openWelfSwitch()}else{if(this.moduleWindow.menuId===MenuId.Event){this.m_title.text=TEXT.ActivityTitle;var sevenHave=Game.moduleModel.activity.sevenInit(null);if(sevenHave){if(!this.activityConfig||this.activityConfig===null){this.activityConfig=Game.config.activities.getConfigList()}for(var i=this.activityConfig.length-1;i>=0;i--){if(this.activityConfig[i].id===1){this.activityConfig.slice(i,1)}}this.m_topList.numItems=this.activityConfig.length;this.m_topList.addSelection(this.curSelectItem);this.openActivitySwitch()}else{this.m_topList.numItems=0}}}};ActivityMain.prototype.openWelfSwitch=function(){var panelList=this.comList.getValues();for(var i=0;i<panelList.length;i++){panelList[i].visible=false}switch(this.curSelectItem){case 0:if(!this.signPanel||this.signPanel===null||!this.comList.hasKey("signPanel")){this.signPanel=fgui.Activity.SignPanel.createInstance();this.m_panel.addChild(this.signPanel);this.signPanel.setXY((this.m_panel.width-this.signPanel.width)/2,0);this.comList.add("signPanel",this.signPanel)}Game.moduleModel.activity.signInit(null);this.signPanel.setData();break;case 1:if(!this.secretaryPanel||this.secretaryPanel===null||!this.comList.hasKey("secretaryPanel")){this.secretaryPanel=fgui.Activity.SecretaryPanel.createInstance();this.m_panel.addChild(this.secretaryPanel);this.secretaryPanel.setXY((this.m_panel.width-this.secretaryPanel.width)/2,0);this.comList.add("secretaryPanel",this.secretaryPanel)}this.secretaryPanel.setData();break;case 2:if(!this.applyLicensePanel||this.applyLicensePanel===null||!this.comList.hasKey("applyLicensePanel")){this.applyLicensePanel=fgui.Activity.LicenseReq.createInstance();this.m_panel.addChild(this.applyLicensePanel);this.applyLicensePanel.setXY((this.m_panel.width-this.applyLicensePanel.width)/2,0);this.comList.add("applyLicensePanel",this.applyLicensePanel)}this.applyLicensePanel.setData(this);break}};ActivityMain.prototype.openActivitySwitch=function(){var panelList=this.comList.getValues();for(var i=0;i<panelList.length;i++){panelList[i].visible=false}switch(this.curSelectItem){case 0:if(!this.sevenPanel||this.sevenPanel===null||!this.comList.hasKey("sevenPanel")){this.sevenPanel=fgui.Activity.ActivitySeven.createInstance();this.m_panel.addChild(this.sevenPanel);this.sevenPanel.setXY((this.m_panel.width-this.sevenPanel.width)/2,0);this.comList.add("sevenPanel",this.sevenPanel)}this.sevenPanel.setData(this.activityConfig[this.curSelectItem]);break}};ActivityMain.prototype.initItem=function(index,obj){var item=obj;if(this.moduleWindow.menuId===MenuId.Weal){item.setDataWelf(this.welfareConfig[index])}else{if(this.moduleWindow.menuId===MenuId.Event){item.setData(this.activityConfig[index])}}};ActivityMain.prototype.onClickItem=function(obj){var index=this.m_topList.getChildIndex(obj);if(this.curSelectItem!==index){this.curSelectItem=index;if(this.moduleWindow.menuId===MenuId.Weal){this.openWelfSwitch()}else{if(this.moduleWindow.menuId===MenuId.Event){this.openActivitySwitch()}}}};return ActivityMain}(Activity.ActivityMainStruct));Activity.ActivityMain=ActivityMain})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivitySevenStruct=(function(_super){__extends(ActivitySevenStruct,_super);function ActivitySevenStruct(){return _super.call(this)||this}ActivitySevenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","ActivitySeven"))};ActivitySevenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardList=(this.getChild("rewardList"));this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_tip1Val=(this.getChild("tip1Val"));this.m_tip2Val=(this.getChild("tip2Val"))};ActivitySevenStruct.URL="ui://9qou8rs7sga12";ActivitySevenStruct.DependPackages=["Activity"];return ActivitySevenStruct}(fairygui.GComponent));Activity.ActivitySevenStruct=ActivitySevenStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivitySeven=(function(_super){__extends(ActivitySeven,_super);function ActivitySeven(){return _super!==null&&_super.apply(this,arguments)||this}ActivitySeven.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false)};ActivitySeven.prototype.setData=function(data){this.sevenConfig=Game.moduleModel.activity.sevenConfig;var regTime=Game.time.timestampToTime(Game.time.registerSeconds);var nextTime=Game.time.timestampToTime(Game.time.registerSeconds+data.duration*24*3600);if(LangManager.Instance.lang==LangType.zh_cn){this.m_tip1Val.text=format(Game.config.msg.getConfig(MsgKey.day_duration).notice,regTime[1],regTime[2],nextTime[1],nextTime[2])}else{this.m_tip1Val.text=format(Game.config.msg.getConfig(MsgKey.day_duration).notice,TimeHelper.MonthText[regTime[1]-1],regTime[2],TimeHelper.MonthText[nextTime[1]-1],nextTime[2])}this.m_tip2Val.text=data.activities_info;this.m_rewardList.numItems=0;this.m_rewardList.numItems=this.sevenConfig.length;this.visible=true};ActivitySeven.prototype.onRefrush=function(){Game.system.getRewardText(this.sevenConfig[Game.moduleModel.activity.curGear].reward,TEXT.StoryGetReward,0);this.m_rewardList.numItems=this.sevenConfig.length};ActivitySeven.prototype.initItem=function(index,obj){var item=obj;item.setData(this.sevenConfig[index],index)};return ActivitySeven}(Activity.ActivitySevenStruct));Activity.ActivitySeven=ActivitySeven})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivityTopItemBtnStruct=(function(_super){__extends(ActivityTopItemBtnStruct,_super);function ActivityTopItemBtnStruct(){return _super.call(this)||this}ActivityTopItemBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","ActivityTopItemBtn"))};ActivityTopItemBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_iconSelect=(this.getChild("iconSelect"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};ActivityTopItemBtnStruct.URL="ui://9qou8rs7sga11";ActivityTopItemBtnStruct.DependPackages=["Activity","MainUI","Common"];return ActivityTopItemBtnStruct}(fairygui.GButton));Activity.ActivityTopItemBtnStruct=ActivityTopItemBtnStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ActivityTopItemBtn=(function(_super){__extends(ActivityTopItemBtn,_super);function ActivityTopItemBtn(){return _super!==null&&_super.apply(this,arguments)||this}ActivityTopItemBtn.prototype.setData=function(data){this.m_title.text=data.activities_name;this.m_icon.icon=Games.WarLoadPic.getAvatarIcon(data.icon);this.m_iconSelect.icon=Games.WarLoadPic.getAvatarIcon(data.icon);switch(data.id){case 1:this.m_red.visible=Game.moduleModel.activity.waitForGetNum>0;this.m_red.m_num.text=Game.moduleModel.activity.waitForGetNum.toString();break}};ActivityTopItemBtn.prototype.setDataWelf=function(data){this.m_title.text=data.activities_name;this.m_icon.icon=Games.WarLoadPic.getAvatarIcon(data.icon);this.m_iconSelect.icon=Games.WarLoadPic.getAvatarIcon(data.icon_chosen);switch(data.type){case 1:this.m_red.visible=!Game.moduleModel.activity.curIsSign;this.m_red.m_num.text="1";break;case 2:this.m_red.visible=Game.moduleModel.secretary.isCanGetWelf;this.m_red.m_num.text="1";break}};return ActivityTopItemBtn}(Activity.ActivityTopItemBtnStruct));Activity.ActivityTopItemBtn=ActivityTopItemBtn})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ApplyLicensePanelStruct=(function(_super){__extends(ApplyLicensePanelStruct,_super);function ApplyLicensePanelStruct(){return _super.call(this)||this}ApplyLicensePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","ApplyLicensePanel"))};ApplyLicensePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bodyIcon=(this.getChild("bodyIcon"));this.m_talkBg=(this.getChild("talkBg"));this.m_talkMsg=(this.getChild("talkMsg"));this.m_msgTitle=(this.getChild("msgTitle"));this.m_moneyBtn=(this.getChild("moneyBtn"))};ApplyLicensePanelStruct.URL="ui://9qou8rs7vuzmf";ApplyLicensePanelStruct.DependPackages=["Activity","Common","PfSkin"];return ApplyLicensePanelStruct}(fairygui.GComponent));Activity.ApplyLicensePanelStruct=ApplyLicensePanelStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var ApplyLicensePanel=(function(_super){__extends(ApplyLicensePanel,_super);function ApplyLicensePanel(){return _super!==null&&_super.apply(this,arguments)||this}ApplyLicensePanel.prototype.setData=function(){this.visible=true};return ApplyLicensePanel}(Activity.ApplyLicensePanelStruct));Activity.ApplyLicensePanel=ApplyLicensePanel})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var DialogStruct=(function(_super){__extends(DialogStruct,_super);function DialogStruct(){return _super.call(this)||this}DialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","Dialog"))};DialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dir=this.getController("dir");this.m_bg=(this.getChild("bg"));this.m_arrowRight=(this.getChild("arrowRight"));this.m_arrowLeft=(this.getChild("arrowLeft"));this.m_bgShadow=(this.getChild("bgShadow"));this.m_title=(this.getChild("title"))};DialogStruct.URL="ui://9qou8rs7f9f11e";DialogStruct.DependPackages=["Activity","Common"];return DialogStruct}(fairygui.GLabel));Activity.DialogStruct=DialogStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var Dialog=(function(_super){__extends(Dialog,_super);function Dialog(){return _super!==null&&_super.apply(this,arguments)||this}return Dialog}(Activity.DialogStruct));Activity.Dialog=Dialog})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var LicenseReqStruct=(function(_super){__extends(LicenseReqStruct,_super);function LicenseReqStruct(){return _super.call(this)||this}LicenseReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","LicenseReq"))};LicenseReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_fxCt=this.getController("fxCt");this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_tip3=(this.getChild("tip3"));this.m_bottomTip1=(this.getChild("bottomTip1"));this.m_BottomTip2=(this.getChild("BottomTip2"));this.m_timeTip=(this.getChild("timeTip"));this.m_okBtn=(this.getChild("okBtn"));this.m_dialog=(this.getChild("dialog"));this.m_fxBase=(this.getChild("fxBase"));this.m_fx=(this.getChild("fx"))};LicenseReqStruct.URL="ui://9qou8rs7ac07w";LicenseReqStruct.DependPackages=["Activity","WarMovie","Fx"];return LicenseReqStruct}(fairygui.GComponent));Activity.LicenseReqStruct=LicenseReqStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var LicenseReq=(function(_super){__extends(LicenseReq,_super);function LicenseReq(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.updateNum=0;return _this}LicenseReq.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickBtn)};LicenseReq.prototype.onClickBtn=function(){var _this=this;switch(this.state){case 0:if(Game.moduleModel.secretary.isForever){Game.moduleModel.secretary.isNewDayForLicense=false;Game.protosender.secretary.ApplyMovieLicence()}else{Game.system.confirmText(Game.config.msg.getConfig(MsgKey.license_apply_secretary_not_owned).notice,TEXT.SecretaryForeverAgent,null,function(){_this.activityMain.setData(1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}break;case 2:if(Game.moduleModel.warData.licenceNumInFilming<Game.config.global.getConfig(GlobalKey.Licence_Store_Max).value){Game.protosender.secretary.RewardMovieLicence();this.m_fxCt.setSelectedIndex(1);this.m_fxBase.m_t0.play(null,1);this.m_fx.m_t5555555.play(Handler.create(this,function(){_this.m_fxCt.setSelectedIndex(0)}),1)}else{Game.system.toastText(Game.config.msg.getConfig(MsgKey.license_limit).notice)}break;case 3:Game.system.toastText(Game.config.msg.getConfig(MsgKey.license_apply_limit).notice);break}};LicenseReq.prototype.setData=function(activityMain){var _this=this;if(this.updateNum>0){clearInterval(this.updateNum);this.updateNum=0}var maxNum=Game.config.secretary.getConfig(1).par+Game.config.blockLevel.getConfig(User.info.stall).certificate;this.activityMain=activityMain;this.secreData=Game.moduleModel.secretary.secretaryData;var curHaveGet=this.secreData.applyFrequency;if(Game.moduleModel.secretary.isNewDayForLicense){curHaveGet=0}if(this.secreData.isApply){this.state=1}else{if(curHaveGet<maxNum){this.state=0}else{this.state=3}}this.m_c1.setSelectedIndex(this.state);switch(this.state){case 0:this.m_tip3.text=Game.config.msg.getConfig(MsgKey.license_apply_table1).notice;this.m_okBtn.m_title.text=Game.config.msg.getConfig(MsgKey.license_apply_button1).notice;this.m_dialog.text=Game.config.msg.getConfig(MsgKey.license_apply_dialog1).notice;this.m_timeTip.text=format(Game.config.msg.getConfig(MsgKey.license_apply_limit_num).notice,maxNum-curHaveGet,maxNum);break;case 1:this.m_tip3.text=Game.config.msg.getConfig(MsgKey.license_apply_table2).notice;this.updateTime();this.updateNum=setInterval(function(){_this.updateTime()},1000);break;case 2:this.m_tip1.text=Game.config.msg.getConfig(MsgKey.license_apply_table3).notice;this.m_dialog.text=Game.config.msg.getConfig(MsgKey.license_apply_dialog3).notice;this.m_okBtn.m_title.text=Game.config.msg.getConfig(MsgKey.license_apply_button2).notice;this.m_timeTip.text=Game.config.msg.getConfig(MsgKey.license_apply_info).notice;this.m_timeTip.text=format(Game.config.msg.getConfig(MsgKey.license_apply_limit_num).notice,maxNum-curHaveGet,maxNum);break;case 3:this.m_tip2.text=Game.config.msg.getConfig(MsgKey.license_apply_table4).notice;this.m_okBtn.m_title.text=Game.config.msg.getConfig(MsgKey.license_apply_button1).notice;break}this.visible=true};LicenseReq.prototype.updateTime=function(){var overTime=Game.config.secretary.getConfig(11).par-Game.time.getSubSecondsPre(this.secreData.applyLastTime);if(overTime>0){var timeShow=TimeHelper.TimeFormat(overTime);this.m_dialog.text=format(Game.config.msg.getConfig(MsgKey.license_apply_dialog2).notice,overTime);this.m_bottomTip1.text=format(Game.config.msg.getConfig(MsgKey.license_apply_info).notice,timeShow);this.m_BottomTip2.text=timeShow}else{this.state=2;this.m_c1.setSelectedIndex(this.state);this.m_tip1.text=Game.config.msg.getConfig(MsgKey.license_apply_table3).notice;this.m_dialog.text=Game.config.msg.getConfig(MsgKey.license_apply_dialog3).notice;this.m_okBtn.m_title.text=Game.config.msg.getConfig(MsgKey.license_apply_button2).notice;this.m_timeTip.text=Game.config.msg.getConfig(MsgKey.license_apply_info).notice;var maxNum=Game.config.secretary.getConfig(1).par+Game.config.blockLevel.getConfig(User.info.stall).certificate;var curHaveGet=this.secreData.applyFrequency;if(Game.moduleModel.secretary.isNewDayForLicense){curHaveGet=maxNum}this.m_timeTip.text=format(Game.config.msg.getConfig(MsgKey.license_apply_limit_num).notice,curHaveGet,maxNum)}};return LicenseReq}(Activity.LicenseReqStruct));Activity.LicenseReq=LicenseReq})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var LoadPanelStruct=(function(_super){__extends(LoadPanelStruct,_super);function LoadPanelStruct(){return _super.call(this)||this}LoadPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","loadPanel"))};LoadPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LoadPanelStruct.URL="ui://9qou8rs7ac07x";LoadPanelStruct.DependPackages=["Activity","Common"];return LoadPanelStruct}(fairygui.GComponent));Activity.LoadPanelStruct=LoadPanelStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var LoadPanel=(function(_super){__extends(LoadPanel,_super);function LoadPanel(){return _super!==null&&_super.apply(this,arguments)||this}return LoadPanel}(Activity.LoadPanelStruct));Activity.LoadPanel=LoadPanel})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var PactIcon_44Struct=(function(_super){__extends(PactIcon_44Struct,_super);function PactIcon_44Struct(){return _super.call(this)||this}PactIcon_44Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","PactIcon_44"))};PactIcon_44Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};PactIcon_44Struct.URL="ui://9qou8rs7l1hm14";PactIcon_44Struct.DependPackages=["Activity","WarMovie","Common"];return PactIcon_44Struct}(fairygui.GButton));Activity.PactIcon_44Struct=PactIcon_44Struct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var PactIcon_44=(function(_super){__extends(PactIcon_44,_super);function PactIcon_44(){return _super!==null&&_super.apply(this,arguments)||this}PactIcon_44.prototype.Render=function(itemData){this.itemData=itemData;this.title=formatNumberUnit(itemData.itemNum);this.m_icon.m_icon.url=itemData.itemBodyIconUrl};return PactIcon_44}(Activity.PactIcon_44Struct));Activity.PactIcon_44=PactIcon_44})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var RewardItemStruct=(function(_super){__extends(RewardItemStruct,_super);function RewardItemStruct(){return _super.call(this)||this}RewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","RewardItem"))};RewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};RewardItemStruct.URL="ui://9qou8rs7sga14";RewardItemStruct.DependPackages=["Activity","Common"];return RewardItemStruct}(fairygui.GLabel));Activity.RewardItemStruct=RewardItemStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var RewardItem=(function(_super){__extends(RewardItem,_super);function RewardItem(){return _super!==null&&_super.apply(this,arguments)||this}RewardItem.prototype.setData=function(data){var itemCfg=Game.config.item.getConfig(data.itemId);this.m_title.text=formatNumberUnit(data.itemNum);this.m_star.m_starNum.setSelectedIndex(itemCfg.itemStarNum-1);this.m_icon.icon=Games.WarLoadPic.getItemIcon(data.itemId)};return RewardItem}(Activity.RewardItemStruct));Activity.RewardItem=RewardItem})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryButtonStruct=(function(_super){__extends(SecretaryButtonStruct,_super);function SecretaryButtonStruct(){return _super.call(this)||this}SecretaryButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryButton"))};SecretaryButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Icon=(this.getChild("Icon"));this.m_title=(this.getChild("title"))};SecretaryButtonStruct.URL="ui://9qou8rs7rrsj7";SecretaryButtonStruct.DependPackages=["Activity","Common"];return SecretaryButtonStruct}(fairygui.GComponent));Activity.SecretaryButtonStruct=SecretaryButtonStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryButton=(function(_super){__extends(SecretaryButton,_super);function SecretaryButton(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryButton}(Activity.SecretaryButtonStruct));Activity.SecretaryButton=SecretaryButton})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryCommonStruct=(function(_super){__extends(SecretaryCommonStruct,_super);function SecretaryCommonStruct(){return _super.call(this)||this}SecretaryCommonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryCommon"))};SecretaryCommonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};SecretaryCommonStruct.URL="ui://9qou8rs7rrsj8";SecretaryCommonStruct.DependPackages=["Activity","Common","Fx"];return SecretaryCommonStruct}(fairygui.GComponent));Activity.SecretaryCommonStruct=SecretaryCommonStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryCommon=(function(_super){__extends(SecretaryCommon,_super);function SecretaryCommon(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryCommon}(Activity.SecretaryCommonStruct));Activity.SecretaryCommon=SecretaryCommon})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftButtonStruct=(function(_super){__extends(SecretaryGiftButtonStruct,_super);function SecretaryGiftButtonStruct(){return _super.call(this)||this}SecretaryGiftButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryGiftButton"))};SecretaryGiftButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};SecretaryGiftButtonStruct.URL="ui://9qou8rs7rrsja";SecretaryGiftButtonStruct.DependPackages=["Activity","Common"];return SecretaryGiftButtonStruct}(fairygui.GButton));Activity.SecretaryGiftButtonStruct=SecretaryGiftButtonStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftButton=(function(_super){__extends(SecretaryGiftButton,_super);function SecretaryGiftButton(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryGiftButton}(Activity.SecretaryGiftButtonStruct));Activity.SecretaryGiftButton=SecretaryGiftButton})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftListItemStruct=(function(_super){__extends(SecretaryGiftListItemStruct,_super);function SecretaryGiftListItemStruct(){return _super.call(this)||this}SecretaryGiftListItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryGiftListItem"))};SecretaryGiftListItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_img=(this.getChild("img"));this.m_goods=(this.getChild("goods"));this.m_number=(this.getChild("number"))};SecretaryGiftListItemStruct.URL="ui://9qou8rs7rrsj9";SecretaryGiftListItemStruct.DependPackages=["Activity","Common"];return SecretaryGiftListItemStruct}(fairygui.GComponent));Activity.SecretaryGiftListItemStruct=SecretaryGiftListItemStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftListItem=(function(_super){__extends(SecretaryGiftListItem,_super);function SecretaryGiftListItem(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryGiftListItem}(Activity.SecretaryGiftListItemStruct));Activity.SecretaryGiftListItem=SecretaryGiftListItem})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftPanelStruct=(function(_super){__extends(SecretaryGiftPanelStruct,_super);function SecretaryGiftPanelStruct(){return _super.call(this)||this}SecretaryGiftPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryGiftPanel"))};SecretaryGiftPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_des=(this.getChild("des"));this.m_list=(this.getChild("list"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_moneyBtn=(this.getChild("moneyBtn"))};SecretaryGiftPanelStruct.URL="ui://9qou8rs7rrsjb";SecretaryGiftPanelStruct.DependPackages=["Activity","Common"];return SecretaryGiftPanelStruct}(fairygui.GComponent));Activity.SecretaryGiftPanelStruct=SecretaryGiftPanelStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryGiftPanel=(function(_super){__extends(SecretaryGiftPanel,_super);function SecretaryGiftPanel(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryGiftPanel}(Activity.SecretaryGiftPanelStruct));Activity.SecretaryGiftPanel=SecretaryGiftPanel})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryPanelStruct=(function(_super){__extends(SecretaryPanelStruct,_super);function SecretaryPanelStruct(){return _super.call(this)||this}SecretaryPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryPanel"))};SecretaryPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bodyIcon=(this.getChild("bodyIcon"));this.m_talkBg=(this.getChild("talkBg"));this.m_bgShadow=(this.getChild("bgShadow"));this.m_talkMsg=(this.getChild("talkMsg"));this.m_msgTitle=(this.getChild("msgTitle"));this.m_tipmsg=(this.getChild("tipmsg"));this.m_ownedGroup=(this.getChild("ownedGroup"));this.m_dailyBtn=(this.getChild("dailyBtn"));this.m_moneyBtn=(this.getChild("moneyBtn"));this.m_welfareBtn=(this.getChild("welfareBtn"));this.m_msgPanel=(this.getChild("msgPanel"))};SecretaryPanelStruct.URL="ui://9qou8rs7rrsjc";SecretaryPanelStruct.DependPackages=["Activity","Common"];return SecretaryPanelStruct}(fairygui.GComponent));Activity.SecretaryPanelStruct=SecretaryPanelStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryPanel=(function(_super){__extends(SecretaryPanel,_super);function SecretaryPanel(){return _super!==null&&_super.apply(this,arguments)||this}SecretaryPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dailyBtn.onClick(this,this.onClickDailyBtn);this.m_welfareBtn.onClick(this,this.onClickWelfareBtn);this.m_moneyBtn.onClick(this,this.onClickMoneyBtn);this.m_moneyBtn.text="$30";this.m_welfareBtn.text=TEXT.Secretary_GetWelfare};SecretaryPanel.prototype.onClickMoneyBtn=function(){Game.protosender.test.SetSecretaryStatus(ESecretaryType.had)};SecretaryPanel.prototype.onClickDailyBtn=function(){var dailyConfig=Game.config.secretaryGift.getConfig(2001);if(this.secretaryData.secretaryType==ESecretaryType.had){Game.moduleModel.secretary.preMoneyReward=true;if(Game.moduleModel.secretary.isMoneyGetReward){Game.system.openAwardsGift(dailyConfig.items,TEXT.Secretary_DailyGiftTitle,Game.config.msg.getTxt(MsgKey.secretary_bought),TEXT.Buyed,false)}else{Game.system.openAwardsGift(dailyConfig.items,TEXT.Secretary_DailyGiftTitle,TEXT.Secretary_GetRewardDailySecretary,"$1",true,function(){Game.protosender.test.GetRechargeGift()})}}else{Game.system.openAwardsGift(dailyConfig.items,TEXT.Secretary_DailyGiftTitle,TEXT.Secretary_NeedBuySecretary,"$1",true,function(){Game.system.toastMsg(MsgKey.sectrary_cannot_buy)})}};SecretaryPanel.prototype.onClickWelfareBtn=function(){if(Game.moduleModel.secretary.isFreeGetReward==false){Game.protosender.secretary.GetDailyReward()}};SecretaryPanel.prototype.setData=function(){var secretaryData=Game.moduleModel.secretary.secretaryData;this.giftConfig=Game.config.secretaryGift.getConfig(1001);if(secretaryData){if(secretaryData.secretaryType==ESecretaryType.had){this.m_msgTitle.text=Game.config.msg.getTxt(MsgKey.secretary_title2);this.m_ownedGroup.visible=true;this.m_welfareBtn.visible=true;this.m_moneyBtn.visible=false;var dailyItem=this.giftConfig.items[0];this.m_welfareBtn.m_text.text=dailyItem.itemNum+"";this.m_welfareBtn.m_icon.icon=dailyItem.itemIconUrl;if(Game.moduleModel.secretary.isFreeGetReward){this.m_welfareBtn.grayed=true;this.m_welfareBtn.enabled=false}else{this.m_welfareBtn.grayed=false;this.m_welfareBtn.enabled=true}if(Game.moduleModel.secretary.isMoneyGetReward){this.m_dailyBtn.grayed=true}else{this.m_dailyBtn.grayed=false}}else{this.m_msgTitle.text=Game.config.msg.getTxt(MsgKey.secretary_title1);this.m_ownedGroup.visible=false;this.m_welfareBtn.visible=false;this.m_moneyBtn.visible=true}this.m_tipmsg.text=Game.config.msg.getTxt(MsgKey.secretary_owned);var msg="";for(var id=2145;id<2155;id++){var config=Game.config.msg.getConfig(id);var info=config.notice;msg=msg+info+(id!=2154?"\n":"")}this.m_msgPanel.text=msg;this.m_talkMsg.text=Game.config.msg.getTxt(Math.random()>0.5?MsgKey.secretary_talk1:MsgKey.secretary_talk2);var secretaryTypeConfig=void 0;if(User.info.sex==EUserSex.boy){secretaryTypeConfig=Game.config.secretaryType.getConfig(1002)}else{secretaryTypeConfig=Game.config.secretaryType.getConfig(1001)}this.m_bodyIcon.icon=secretaryTypeConfig.bodyIconUrl}this.secretaryData=secretaryData;this.visible=true};return SecretaryPanel}(Activity.SecretaryPanelStruct));Activity.SecretaryPanel=SecretaryPanel})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryWelfareMsgItemStruct=(function(_super){__extends(SecretaryWelfareMsgItemStruct,_super);function SecretaryWelfareMsgItemStruct(){return _super.call(this)||this}SecretaryWelfareMsgItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SecretaryWelfareMsgItem"))};SecretaryWelfareMsgItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};SecretaryWelfareMsgItemStruct.URL="ui://9qou8rs7rrsjd";SecretaryWelfareMsgItemStruct.DependPackages=["Activity"];return SecretaryWelfareMsgItemStruct}(fairygui.GLabel));Activity.SecretaryWelfareMsgItemStruct=SecretaryWelfareMsgItemStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SecretaryWelfareMsgItem=(function(_super){__extends(SecretaryWelfareMsgItem,_super);function SecretaryWelfareMsgItem(){return _super!==null&&_super.apply(this,arguments)||this}return SecretaryWelfareMsgItem}(Activity.SecretaryWelfareMsgItemStruct));Activity.SecretaryWelfareMsgItem=SecretaryWelfareMsgItem})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SevenItemStruct=(function(_super){__extends(SevenItemStruct,_super);function SevenItemStruct(){return _super.call(this)||this}SevenItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SevenItem"))};SevenItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_dayTip=(this.getChild("dayTip"));this.m_rewardList=(this.getChild("rewardList"));this.m_okTip=(this.getChild("okTip"));this.m_waitTip=(this.getChild("waitTip"));this.m_okBtn=(this.getChild("okBtn"))};SevenItemStruct.URL="ui://9qou8rs7sga13";SevenItemStruct.DependPackages=["Activity","Common","PfSkin"];return SevenItemStruct}(fairygui.GComponent));Activity.SevenItemStruct=SevenItemStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SevenItem=(function(_super){__extends(SevenItem,_super);function SevenItem(){return _super!==null&&_super.apply(this,arguments)||this}SevenItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_waitTip.text=TEXT.NoGetReward;this.m_okBtn.m_title.text=TEXT.GetReward;this.m_rewardList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_rewardList.itemProvider=Handler.create(this,this.providerItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn)};SevenItem.prototype.onClickOkBtn=function(){if(Game.moduleModel.activity.sevenIsOver){Game.system.toastText(Game.config.msg.getConfig(MsgKey.time_out_sevendays).notice)}else{Game.moduleModel.activity.sendSevenGet(this.indexOf)}};SevenItem.prototype.setData=function(data,index){this.indexOf=index;this.curData=data;this.m_dayTip.text=format(Game.config.msg.getConfig(MsgKey.day_count).notice,this.curData.count);this.m_rewardList.numItems=this.curData.reward.length;this.m_c1.setSelectedIndex(Game.moduleModel.activity.curSevenStatus(data.count))};SevenItem.prototype.initItem=function(index,obj){var data=this.curData.reward[index];if(data==null){return}var itemData=Games.ItemData.Create(data.itemId,data.itemNum);if(itemData.itemType==7){var item=obj;item.Render(itemData)}else{var item=obj;item.setData(data)}};SevenItem.prototype.providerItem=function(index){var data=this.curData.reward[index];if(data==null){return fgui.Activity.RewardItem.URL}var item=Games.ItemData.Create(data.itemId,data.itemNum);if(item.itemType==7){return fgui.Common.PactIcon_44.URL}else{return fgui.Activity.RewardItem.URL}};return SevenItem}(Activity.SevenItemStruct));Activity.SevenItem=SevenItem})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignItemStruct=(function(_super){__extends(SignItemStruct,_super);function SignItemStruct(){return _super.call(this)||this}SignItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SignItem"))};SignItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_day=(this.getChild("day"));this.m_num=(this.getChild("num"))};SignItemStruct.URL="ui://9qou8rs7pytu6";SignItemStruct.DependPackages=["Activity","Common"];return SignItemStruct}(fairygui.GButton));Activity.SignItemStruct=SignItemStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignItem=(function(_super){__extends(SignItem,_super);function SignItem(){return _super!==null&&_super.apply(this,arguments)||this}SignItem.prototype.setData=function(data){this.m_day.text=format(Game.config.msg.getConfig(MsgKey.day_count).notice,data.day);this.m_icon.icon=Game.config.item.getItemIcon(data.reward.itemId);this.m_num.text=data.reward.itemNum.toFixed(0);this.m_c1.setSelectedIndex(Game.moduleModel.activity.curSignStatus(data.day))};return SignItem}(Activity.SignItemStruct));Activity.SignItem=SignItem})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignItem2Struct=(function(_super){__extends(SignItem2Struct,_super);function SignItem2Struct(){return _super.call(this)||this}SignItem2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SignItem2"))};SignItem2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_button=this.getController("button");this.m_day=(this.getChild("day"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};SignItem2Struct.URL="ui://9qou8rs7l1hm13";SignItem2Struct.DependPackages=["Activity","WarMovie","Common"];return SignItem2Struct}(fairygui.GButton));Activity.SignItem2Struct=SignItem2Struct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignItem2=(function(_super){__extends(SignItem2,_super);function SignItem2(){return _super!==null&&_super.apply(this,arguments)||this}SignItem2.prototype.setData=function(data){this.m_day.text=format(Game.config.msg.getConfig(MsgKey.day_count).notice,data.day);this.m_icon.m_icon.url=Game.config.item.getItemIcon(data.reward.itemId);this.m_title.text=data.reward.itemNum.toFixed(0);this.m_c1.setSelectedIndex(Game.moduleModel.activity.curSignStatus(data.day))};return SignItem2}(Activity.SignItem2Struct));Activity.SignItem2=SignItem2})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignPactIcon_44Struct=(function(_super){__extends(SignPactIcon_44Struct,_super);function SignPactIcon_44Struct(){return _super.call(this)||this}SignPactIcon_44Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SignPactIcon_44"))};SignPactIcon_44Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};SignPactIcon_44Struct.URL="ui://9qou8rs7l1hm13";SignPactIcon_44Struct.DependPackages=["Activity","WarMovie","Common"];return SignPactIcon_44Struct}(fairygui.GButton));Activity.SignPactIcon_44Struct=SignPactIcon_44Struct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignPactIcon_44=(function(_super){__extends(SignPactIcon_44,_super);function SignPactIcon_44(){return _super!==null&&_super.apply(this,arguments)||this}return SignPactIcon_44}(Activity.SignPactIcon_44Struct));Activity.SignPactIcon_44=SignPactIcon_44})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignPanelStruct=(function(_super){__extends(SignPanelStruct,_super);function SignPanelStruct(){return _super.call(this)||this}SignPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","SignPanel"))};SignPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_signList=(this.getChild("signList"));this.m_nextTip=(this.getChild("nextTip"));this.m_nextIcon=(this.getChild("nextIcon"));this.m_nextNum=(this.getChild("nextNum"));this.m_okBtn=(this.getChild("okBtn"));this.m_star=(this.getChild("star"))};SignPanelStruct.URL="ui://9qou8rs7pytu5";SignPanelStruct.DependPackages=["Activity","Common","PfSkin"];return SignPanelStruct}(fairygui.GComponent));Activity.SignPanelStruct=SignPanelStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var SignPanel=(function(_super){__extends(SignPanel,_super);function SignPanel(){return _super!==null&&_super.apply(this,arguments)||this}SignPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_signList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_signList.itemProvider=Handler.create(this,this.providerItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn,[-1])};SignPanel.prototype.onClickOkBtn=function(index){if(!Game.moduleModel.activity.curIsSign&&(index===-1||index===Game.moduleModel.activity.curSignDay-1)){Game.moduleModel.activity.sendSign()}else{if(Game.moduleModel.activity.curIsSign&&index===Game.moduleModel.activity.curSignDay-1){Game.system.toastText(Game.config.msg.getConfig(MsgKey.daily_sign).notice)}else{console.log("提示物品详情弹窗")}}};SignPanel.prototype.signRewardTip=function(){var sevDrop=Game.moduleModel.activity.signDrop;if(sevDrop!==null){var drop=new DTItemNum();drop.itemId=sevDrop.itemId;drop.itemNum=sevDrop.amount;Game.system.getRewardText([drop],TEXT.StoryGetReward,0);this.setData()}else{this.setData()}};SignPanel.prototype.setData=function(){var curCycle=Game.moduleModel.activity.curCycle;this.signList=Game.config.dailySign.getSingList(curCycle);this.m_signList.numItems=this.signList.length;this.onShowNextTip();this.m_okBtn.visible=!Game.moduleModel.activity.curIsSign;this.visible=true};SignPanel.prototype.initItem=function(index,obj){var data=this.signList[index];if(data==null){return null}if(data.reward.itemType==7){var item=obj;item.setData(data)}else{var item=obj;item.setData(data);item.onClick(this,this.onClickOkBtn,[index])}};SignPanel.prototype.providerItem=function(index,obj){var data=this.signList[index];if(data.reward.itemType==7){return fgui.Activity.SignItem2.URL}else{return fgui.Activity.SignItem.URL}};SignPanel.prototype.onShowNextTip=function(){var list=Game.config.dailySignTrailer.getConfigList();var curDay=0;for(var i=list.length-1;i>=0;i--){if(list[i].day<=curDay){list.slice(i,1)}}if(list.length>0){list=list.sort(function(a,b){return b.day-a.day});var conf=list[0];this.m_nextIcon.icon=Games.WarLoadPic.getItemIcon(conf.reward.itemId);this.m_nextIcon.visible=true;this.m_nextNum.text=conf.reward.itemNum.toString();this.m_nextTip.text=conf.info;var itemConf=Game.config.item.getConfig(conf.reward.itemId);this.m_star.m_Star.setSelectedIndex(itemConf.itemStarNum-1)}else{this.m_nextIcon.visible=false;this.m_nextNum.text="";this.m_nextTip.text="";this.m_star.m_Star.setSelectedIndex(-1)}};return SignPanel}(Activity.SignPanelStruct));Activity.SignPanel=SignPanel})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var WelfareMainStruct=(function(_super){__extends(WelfareMainStruct,_super);function WelfareMainStruct(){return _super.call(this)||this}WelfareMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Activity","WelfareMain"))};WelfareMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_tabPanel=(this.getChild("tabPanel"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_secretaryPanel=(this.getChild("secretaryPanel"))};WelfareMainStruct.URL="ui://9qou8rs7rrsje";WelfareMainStruct.DependPackages=["Activity","Common"];return WelfareMainStruct}(fairygui.GComponent));Activity.WelfareMainStruct=WelfareMainStruct})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Activity;(function(Activity){var WelfareMain=(function(_super){__extends(WelfareMain,_super);function WelfareMain(){return _super!==null&&_super.apply(this,arguments)||this}return WelfareMain}(Activity.WelfareMainStruct));Activity.WelfareMain=WelfareMain})(Activity=fgui.Activity||(fgui.Activity={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ActorBgStruct=(function(_super){__extends(ActorBgStruct,_super);function ActorBgStruct(){return _super.call(this)||this}ActorBgStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","actorBg"))};ActorBgStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_noHave=this.getController("noHave");this.m_title=(this.getChild("title"));this.m_starList=(this.getChild("starList"));this.m_icon=(this.getChild("icon"))};ActorBgStruct.URL="ui://aeg3jnlem8at11";ActorBgStruct.DependPackages=["ArtistDic","Common","WarMovie"];return ActorBgStruct}(fairygui.GButton));ArtistDic.ActorBgStruct=ActorBgStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ActorBg=(function(_super){__extends(ActorBg,_super);function ActorBg(){return _super!==null&&_super.apply(this,arguments)||this}ActorBg.prototype.setData=function(data){this.m_starList.numItems=data.starNum;this.m_icon.m_icon.icon=Games.WarLoadPic.getActorIcon(data.avatar);if(Game.moduleModel.actor.hasActor(data.id)){this.m_noHave.setSelectedIndex(0);this.m_title.text=Game.moduleModel.actor.getActor(data.id).name}else{this.m_noHave.setSelectedIndex(1);this.m_title.text=data.name}};return ActorBg}(ArtistDic.ActorBgStruct));ArtistDic.ActorBg=ActorBg})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ActorIconStruct=(function(_super){__extends(ActorIconStruct,_super);function ActorIconStruct(){return _super.call(this)||this}ActorIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","ActorIcon"))};ActorIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ActorIconStruct.URL="ui://aeg3jnlem8at12";ActorIconStruct.DependPackages=["ArtistDic","WarMovie"];return ActorIconStruct}(fairygui.GComponent));ArtistDic.ActorIconStruct=ActorIconStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ActorIcon=(function(_super){__extends(ActorIcon,_super);function ActorIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ActorIcon}(ArtistDic.ActorIconStruct));ArtistDic.ActorIcon=ActorIcon})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistDicUIStruct=(function(_super){__extends(ArtistDicUIStruct,_super);function ArtistDicUIStruct(){return _super.call(this)||this}ArtistDicUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","ArtistDicUI"))};ArtistDicUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_screen=this.getController("screen");this.m_showDetails=this.getController("showDetails");this.m_title=(this.getChild("title"));this.m_screenList=(this.getChild("screenList"));this.m_type1=(this.getChild("type1"));this.m_type2=(this.getChild("type2"));this.m_type3=(this.getChild("type3"));this.m_type4=(this.getChild("type4"));this.m_type5=(this.getChild("type5"));this.m_typeList1=(this.getChild("typeList1"));this.m_typeList2=(this.getChild("typeList2"));this.m_typeList3=(this.getChild("typeList3"));this.m_typeList4=(this.getChild("typeList4"));this.m_typeList5=(this.getChild("typeList5"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_closeSearchBtn=(this.getChild("closeSearchBtn"));this.m_artistList=(this.getChild("artistList"));this.m_ScreenBtn=(this.getChild("ScreenBtn"));this.m_shwoDetail=(this.getChild("shwoDetail"))};ArtistDicUIStruct.URL="ui://aeg3jnlem8atq";ArtistDicUIStruct.DependPackages=["ArtistDic","WarMovie","Common","PfSkin"];return ArtistDicUIStruct}(fairygui.GComponent));ArtistDic.ArtistDicUIStruct=ArtistDicUIStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistDicUI=(function(_super){__extends(ArtistDicUI,_super);function ArtistDicUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.haveScreen=false;_this.screenStar=[false,false,false,false,false];_this.screenCountry=[false,false,false];_this.screenSex=[false,false];_this.screenAge=[false,false];_this.screenShow=[false,false];return _this}ArtistDicUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.ArtistDicUITitle;this.m_shwoDetail.m_notHired.text=TEXT.ArtistDicUInotHired;this.m_type1.text=TEXT.ArtistDicUIStar;this.m_type2.text=TEXT.ArtistDicUICountry;this.m_type3.text=TEXT.ArtistDicUISex;this.m_type4.text=TEXT.ArtistDicUIAge;this.m_type5.text=TEXT.ArtistDicUIShow;this.m_artistList.m_noTip.text=TEXT.ArtistDicUINoActor;this.m_shwoDetail.m_noTip.text=TEXT.ArtistDicUINoPinglun;this.m_shwoDetail.m_tip3.text=TEXT.ArtistDicUIPinglunTitle;this.m_screenList.itemRenderer=Laya.Handler.create(this,this.initScreenListItem,null,false);this.m_artistList.m_fiveList.itemRenderer=Laya.Handler.create(this,this.fiveItem,null,false);this.m_artistList.m_fourList.itemRenderer=Laya.Handler.create(this,this.fourItem,null,false);this.m_artistList.m_otherList.itemRenderer=Laya.Handler.create(this,this.otherItem,null,false);this.m_typeList1.itemRenderer=Laya.Handler.create(this,this.typeItem1,null,false);this.m_typeList2.itemRenderer=Laya.Handler.create(this,this.typeItem2,null,false);this.m_typeList3.itemRenderer=Laya.Handler.create(this,this.typeItem3,null,false);this.m_typeList4.itemRenderer=Laya.Handler.create(this,this.typeItem4,null,false);this.m_typeList5.itemRenderer=Laya.Handler.create(this,this.typeItem5,null,false);this.m_typeList1.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectType1);this.m_typeList2.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectType2);this.m_typeList3.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectType3);this.m_typeList4.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectType4);this.m_typeList5.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectType5);this.m_artistList.m_fiveList.on(fairygui.Events.CLICK_ITEM,this,this.OnClickFive);this.m_artistList.m_fourList.on(fairygui.Events.CLICK_ITEM,this,this.OnClickFour);this.m_artistList.m_otherList.on(fairygui.Events.CLICK_ITEM,this,this.OnClickOther);this.m_screenList.on(fairygui.Events.CLICK_ITEM,this,this.OnSelectTypeList);this.m_ScreenBtn.onClick(this,this.onScreenBtne);this.m_closeSearchBtn.onClick(this,this.onCloseScreenBtne);this.m_closeBtn.onClick(this,this.onClicClose);this.m_shwoDetail.m_input.promptText=TEXT.ArtistDicUIPinglun;this.m_shwoDetail.m_talkList.itemRenderer=Laya.Handler.create(this.m_shwoDetail,this.m_shwoDetail.initItem,null,false);this.m_shwoDetail.m_detailsBtn.onClick(this.m_shwoDetail,this.m_shwoDetail.onShowDetailsBtn);this.m_shwoDetail.m_sendBtn.onClick(this.m_shwoDetail,this.m_shwoDetail.onSendBtn);this.m_shwoDetail.m_closeBtn.onClick(this,this.onClicCloseDetails)};ArtistDicUI.prototype.onClicCloseDetails=function(){this.m_showDetails.setSelectedIndex(0)};ArtistDicUI.prototype.onClicClose=function(){this.moduleWindow.menuClose()};ArtistDicUI.prototype.onCloseScreenBtne=function(){this.m_screen.setSelectedIndex(0)};ArtistDicUI.prototype.onScreenBtne=function(){if(this.m_screen.selectedIndex===1){this.m_screen.setSelectedIndex(0)}else{if(this.m_screen.selectedIndex===0){this.m_typeList1.numItems=5;this.m_typeList2.numItems=3;this.m_typeList3.numItems=2;this.m_typeList4.numItems=2;this.m_typeList5.numItems=2;this.m_screen.setSelectedIndex(1)}}};ArtistDicUI.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.story_GetMessage,this.updateMsgBoard,this);Game.protoOkEvent.add(ProtoEventKey.story_SetMessage,this.setMessage,this);this.setData()};ArtistDicUI.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.story_GetMessage,this.updateMsgBoard,this);Game.protoOkEvent.remove(ProtoEventKey.story_SetMessage,this.setMessage,this)};ArtistDicUI.prototype.setMessage=function(){if(this.m_showDetails.selectedIndex===1&&this.m_shwoDetail.actorData!==null){Game.protosender.story.getMessage(this.m_shwoDetail.actorData.id)}};ArtistDicUI.prototype.updateMsgBoard=function(msg){if(this.m_showDetails.selectedIndex===1&&this.m_shwoDetail.actorData!==null){if(msg){this.m_shwoDetail.talkMsg=msg.message;this.m_shwoDetail.m_talkList.numItems=this.m_shwoDetail.talkMsg.length;this.m_shwoDetail.m_talkList.scrollPane.scrollBottom();this.m_shwoDetail.m_haveNoBoard.setSelectedIndex(this.m_shwoDetail.talkMsg.length>0?0:1)}else{this.m_shwoDetail.m_talkList.numItems=0;this.m_shwoDetail.m_haveNoBoard.setSelectedIndex(1)}}};ArtistDicUI.prototype.setData=function(){this.m_showDetails.setSelectedIndex(0);this.m_typeList1.numItems=5;this.m_typeList2.numItems=3;this.m_typeList3.numItems=2;this.m_typeList4.numItems=2;this.m_typeList5.numItems=2;this.screenStar=[false,false,false,false,false];this.screenCountry=[false,false,false];this.screenSex=[false,false];this.screenAge=[false,false];this.screenShow=[false,false];this.haveScreen=false;this.haveSelectTypeList=new Array();this.haveSelectTypeDic=new Dictionary();this.m_screen.setSelectedIndex(0);this.showSearchResult()};ArtistDicUI.prototype.showSearchResult=function(){this.fiveActorData=new Array();this.fourActorData=new Array();this.otherActorData=new Array();var actorList=Game.config.actor.getConfigList();this.setHaveSelectList();var starSelect=this.screenStar[0]||this.screenStar[1]||this.screenStar[2]||this.screenStar[3]||this.screenStar[4];var countrySelect=this.screenCountry[0]||this.screenCountry[1]||this.screenCountry[2];var sexSelect=this.screenSex[0]||this.screenSex[1];var ageSelect=this.screenAge[0]||this.screenAge[1];var showSelect=this.screenShow[0]||this.screenShow[1];this.haveScreen=starSelect||countrySelect||sexSelect||ageSelect||showSelect;for(var i=0;i<actorList.length;i++){if(actorList[i].star===1306){}else{if(actorList[i].star===1305){if(this.haveScreen){if(this.checkScreen(starSelect,countrySelect,sexSelect,ageSelect,showSelect,actorList[i],4)){this.fiveActorData.push(actorList[i])}}else{this.fiveActorData.push(actorList[i])}}else{if(actorList[i].star===1304){if(this.haveScreen){if(this.checkScreen(starSelect,countrySelect,sexSelect,ageSelect,showSelect,actorList[i],3)){this.fourActorData.push(actorList[i])}}else{this.fourActorData.push(actorList[i])}}else{if(actorList[i].star!==0){if(this.haveScreen){if(!starSelect||(starSelect&&(this.screenStar[2]&&actorList[i].starNum===3)||(this.screenStar[1]&&actorList[i].starNum===2)||(this.screenStar[0]&&actorList[i].starNum===1))){if(this.checkScreen(false,countrySelect,sexSelect,ageSelect,showSelect,actorList[i],0)){this.otherActorData.push(actorList[i])}}}else{this.otherActorData.push(actorList[i])}}}}}}this.sortList();var haveActorList=1;if(this.fiveActorData.length>0){this.m_artistList.m_five.height=71;this.m_artistList.m_five.visible=true;this.m_artistList.m_fiveList.numItems=this.fiveActorData.length;var ht=this.fiveActorData.length/3+(this.fiveActorData.length%3>0?1:0);this.m_artistList.m_fiveList.height=ht*(274+12)-12;haveActorList=0}else{this.m_artistList.m_five.height=0;this.m_artistList.m_five.visible=false;this.m_artistList.m_fiveList.numItems=0;this.m_artistList.m_fiveList.height=0}if(this.fourActorData.length>0){this.m_artistList.m_four.height=71;this.m_artistList.m_four.visible=true;this.m_artistList.m_fourList.numItems=this.fourActorData.length;var ht=this.fourActorData.length/3+(this.fourActorData.length%3>0?1:0);this.m_artistList.m_fourList.height=ht*(274+12)-12;haveActorList=0}else{this.m_artistList.m_four.height=0;this.m_artistList.m_four.visible=false;this.m_artistList.m_fourList.numItems=0;this.m_artistList.m_fourList.height=0}if(this.otherActorData.length>0){this.m_artistList.m_other.height=71;this.m_artistList.m_other.visible=true;this.m_artistList.m_otherList.numItems=this.otherActorData.length;var ht=this.otherActorData.length/3+(this.otherActorData.length%3>0?1:0);this.m_artistList.m_otherList.height=ht*(274+12)-12;haveActorList=0}else{this.m_artistList.m_other.height=0;this.m_artistList.m_other.visible=false;this.m_artistList.m_otherList.numItems=0;this.m_artistList.m_otherList.height=0}this.m_artistList.m_c1.setSelectedIndex(haveActorList);this.m_artistList.scrollPane.setPercY(0,true)};ArtistDicUI.prototype.setHaveSelectList=function(){this.haveSelectTypeList=new Array();this.haveSelectTypeDic.clear();for(var i=0;i<5;i++){if(this.screenStar[i]){this.haveSelectTypeDic.add(this.haveSelectTypeList.length,[1,i]);this.haveSelectTypeList.push(i+1)}}for(var i=0;i<3;i++){if(this.screenCountry[i]){this.haveSelectTypeDic.add(this.haveSelectTypeList.length,[2,i]);this.haveSelectTypeList.push(1201+1)}}for(var i=0;i<2;i++){if(this.screenSex[i]){this.haveSelectTypeDic.add(this.haveSelectTypeList.length,[3,i]);this.haveSelectTypeList.push(1101+1)}}for(var i=0;i<2;i++){if(this.screenAge[i]){this.haveSelectTypeDic.add(this.haveSelectTypeList.length,[4,i]);this.haveSelectTypeList.push(1501+1)}}for(var i=0;i<2;i++){if(this.screenShow[i]){this.haveSelectTypeDic.add(this.haveSelectTypeList.length,[5,i]);this.haveSelectTypeList.push(1401+1)}}this.m_screenList.numItems=this.haveSelectTypeList.length};ArtistDicUI.prototype.checkScreen=function(starSelect,countrySelect,sexSelect,ageSelect,showSelect,data,star){if(!starSelect||(starSelect&&this.screenStar[star])){if(!countrySelect||(countrySelect&&((data.country===1201&&this.screenCountry[0])||(data.country===1202&&this.screenCountry[1])||(data.country===1203&&this.screenCountry[2])))){if(!sexSelect||(sexSelect&&((this.screenSex[0]&&data.sex===1101)||(this.screenSex[1]&&data.sex===1102)))){if(!ageSelect||(ageSelect&&((this.screenAge[0]&&data.age_type===1501)||(this.screenAge[1]&&data.age_type===1502)))){if(!showSelect||(showSelect&&((this.screenShow[0]&&data.show_type===1401)||(this.screenShow[1]&&data.show_type===1402)))){return true}}}}}return false};ArtistDicUI.prototype.sortList=function(){this.fiveActorData=this.fiveActorData.sort(function(valA,valB){var haveA=Game.moduleModel.actor.hasActor(valA.id);var haveB=Game.moduleModel.actor.hasActor(valB.id);if(haveA&&!haveB){return -1}else{if(haveB&&!haveA){return 1}else{if((haveA&&haveA)||(!haveA&&!haveA)){return valA.id-valB.id}}}});this.fourActorData=this.fourActorData.sort(function(valA,valB){var haveA=Game.moduleModel.actor.hasActor(valA.id);var haveB=Game.moduleModel.actor.hasActor(valB.id);if(haveA&&!haveB){return -1}else{if(haveB&&!haveA){return 1}else{if((haveA&&haveA)||(!haveA&&!haveA)){return valA.id-valB.id}}}});this.otherActorData=this.otherActorData.sort(function(valA,valB){var haveA=Game.moduleModel.actor.hasActor(valA.id);var haveB=Game.moduleModel.actor.hasActor(valB.id);if(haveA&&!haveB){return -1}else{if(haveB&&!haveA){return 1}else{if((haveA&&haveA)||(!haveA&&!haveA)){if(valA.star===valB.star){return valA.id-valB.id}else{return valB.star-valA.star}}}}})};ArtistDicUI.prototype.initScreenListItem=function(index,obj){var item=obj;item.setData(this.haveSelectTypeList[index])};ArtistDicUI.prototype.fiveItem=function(index,obj){var item=obj;item.setData(this.fiveActorData[index])};ArtistDicUI.prototype.fourItem=function(index,obj){var item=obj;item.setData(this.fourActorData[index])};ArtistDicUI.prototype.otherItem=function(index,obj){var item=obj;item.setData(this.otherActorData[index])};ArtistDicUI.prototype.typeItem1=function(index,obj){obj.selected=this.screenStar[index]};ArtistDicUI.prototype.typeItem2=function(index,obj){var item=obj;item.setData(1201+index);obj.selected=this.screenCountry[index]};ArtistDicUI.prototype.typeItem3=function(index,obj){var item=obj;item.setData(1101+index);obj.selected=this.screenSex[index]};ArtistDicUI.prototype.typeItem4=function(index,obj){var item=obj;item.setData(1501+index);obj.selected=this.screenAge[index]};ArtistDicUI.prototype.typeItem5=function(index,obj){var item=obj;item.setData(1401+index);obj.selected=this.screenShow[index]};ArtistDicUI.prototype.OnSelectType1=function(obj){var index=this.m_typeList1.getChildIndex(obj);var status=obj.selected;this.screenStar[index]=status;this.showSearchResult()};ArtistDicUI.prototype.OnSelectType2=function(obj){var index=this.m_typeList2.getChildIndex(obj);var status=obj.selected;this.screenCountry[index]=status;this.showSearchResult()};ArtistDicUI.prototype.OnSelectType3=function(obj){var index=this.m_typeList3.getChildIndex(obj);var status=obj.selected;this.screenSex[index]=status;this.showSearchResult()};ArtistDicUI.prototype.OnSelectType4=function(obj){var index=this.m_typeList4.getChildIndex(obj);var status=obj.selected;this.screenAge[index]=status;this.showSearchResult()};ArtistDicUI.prototype.OnSelectType5=function(obj){var index=this.m_typeList5.getChildIndex(obj);var status=obj.selected;this.screenShow[index]=status;this.showSearchResult()};ArtistDicUI.prototype.OnSelectTypeList=function(obj){var index=this.m_screenList.getChildIndex(obj);var DicVal=this.haveSelectTypeDic.getValue(index);switch(DicVal[0]){case 1:this.screenStar[DicVal[1]]=false;break;case 2:this.screenCountry[DicVal[1]]=false;break;case 3:this.screenSex[DicVal[1]]=false;break;case 4:this.screenAge[DicVal[1]]=false;break;case 5:this.screenShow[DicVal[1]]=false;break}this.showSearchResult()};ArtistDicUI.prototype.OnClickFive=function(obj){var index=this.m_artistList.m_fiveList.getChildIndex(obj);this.m_shwoDetail.setData(this.fiveActorData[index]);this.m_showDetails.setSelectedIndex(1)};ArtistDicUI.prototype.OnClickFour=function(obj){var index=this.m_artistList.m_fourList.getChildIndex(obj);this.m_shwoDetail.setData(this.fourActorData[index]);this.m_showDetails.setSelectedIndex(1)};ArtistDicUI.prototype.OnClickOther=function(obj){var index=this.m_artistList.m_otherList.getChildIndex(obj);this.m_shwoDetail.setData(this.otherActorData[index]);this.m_showDetails.setSelectedIndex(1)};return ArtistDicUI}(ArtistDic.ArtistDicUIStruct));ArtistDic.ArtistDicUI=ArtistDicUI})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistListStruct=(function(_super){__extends(ArtistListStruct,_super);function ArtistListStruct(){return _super.call(this)||this}ArtistListStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","ArtistList"))};ArtistListStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_fiveList=(this.getChild("fiveList"));this.m_fourList=(this.getChild("fourList"));this.m_otherList=(this.getChild("otherList"));this.m_noTip=(this.getChild("noTip"));this.m_five=(this.getChild("five"));this.m_four=(this.getChild("four"));this.m_other=(this.getChild("other"))};ArtistListStruct.URL="ui://aeg3jnlem8at14";ArtistListStruct.DependPackages=["ArtistDic"];return ArtistListStruct}(fairygui.GComponent));ArtistDic.ArtistListStruct=ArtistListStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistList=(function(_super){__extends(ArtistList,_super);function ArtistList(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistList}(ArtistDic.ArtistListStruct));ArtistDic.ArtistList=ArtistList})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistShowStruct=(function(_super){__extends(ArtistShowStruct,_super);function ArtistShowStruct(){return _super.call(this)||this}ArtistShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","ArtistShow"))};ArtistShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_HaveNo=this.getController("HaveNo");this.m_haveNoBoard=this.getController("haveNoBoard");this.m_nameTip1=(this.getChild("nameTip1"));this.m_nameTip2=(this.getChild("nameTip2"));this.m_icon=(this.getChild("icon"));this.m_notHired=(this.getChild("notHired"));this.m_name=(this.getChild("name"));this.m_starList=(this.getChild("starList"));this.m_sexIcon=(this.getChild("sexIcon"));this.m_countryIcon=(this.getChild("countryIcon"));this.m_showIcon=(this.getChild("showIcon"));this.m_ageIcon=(this.getChild("ageIcon"));this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_talkList=(this.getChild("talkList"));this.m_inputBG=(this.getChild("inputBG"));this.m_input=(this.getChild("input"));this.m_tip3=(this.getChild("tip3"));this.m_noTip=(this.getChild("noTip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_sendBtn=(this.getChild("sendBtn"));this.m_detailsBtn=(this.getChild("detailsBtn"))};ArtistShowStruct.URL="ui://aeg3jnlem8atr";ArtistShowStruct.DependPackages=["ArtistDic","WarMovie","Common","PfSkin"];return ArtistShowStruct}(fairygui.GComponent));ArtistDic.ArtistShowStruct=ArtistShowStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var ArtistShow=(function(_super){__extends(ArtistShow,_super);function ArtistShow(){return _super!==null&&_super.apply(this,arguments)||this}ArtistShow.prototype.onShowDetailsBtn=function(){Game.menu.open(MenuId.ArtistDetail,this.actorData.id,Games.ArtistDetailTabType.Base)};ArtistShow.prototype.onSendBtn=function(){if(validateSendMsgBoard(this.m_input.text)){Game.protosender.story.setMessage(this.actorData.id,this.m_input.text);this.m_input.text=""}};ArtistShow.prototype.setData=function(actorData){this.m_talkList.numItems=0;this.actorData=actorData;var hasactor=Game.moduleModel.actor.hasActor(this.actorData.id);this.m_nameTip1.text=TEXT.ArtistDicUIDefName;this.m_tip1.text=TEXT.ArtistDicUIHowHave;this.m_nameTip2.text=this.actorData.name;this.m_icon.icon=Games.WarLoadPic.getActorIcon(this.actorData.avatar);if(hasactor){this.m_name.text=Game.moduleModel.actor.getActor(this.actorData.id).name;FguiHelper.clearFilters(this.m_icon);this.m_HaveNo.setSelectedIndex(0)}else{this.m_name.text=this.actorData.name;FguiHelper.half2Staturation(this.m_icon);this.m_HaveNo.setSelectedIndex(1)}this.m_starList.numItems=this.actorData.starNum;this.m_sexIcon.icon=Games.WarLoadPic.getActorTypeIcon(this.actorData.sex);this.m_countryIcon.icon=Games.WarLoadPic.getActorTypeIcon(this.actorData.country);this.m_ageIcon.icon=Games.WarLoadPic.getActorTypeIcon(this.actorData.show_type);this.m_showIcon.icon=Games.WarLoadPic.getActorTypeIcon(this.actorData.age_type);this.m_tip2.text=this.actorData.getway.replace("/n","\n");Game.protosender.story.getMessage(this.actorData.id)};ArtistShow.prototype.initItem=function(index,obj){var item=obj;item.updateView(this.talkMsg[index])};return ArtistShow}(ArtistDic.ArtistShowStruct));ArtistDic.ArtistShow=ArtistShow})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItemStruct=(function(_super){__extends(SelectItemStruct,_super);function SelectItemStruct(){return _super.call(this)||this}SelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","SelectItem"))};SelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_starNo=this.getController("starNo");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};SelectItemStruct.URL="ui://aeg3jnlem8at16";SelectItemStruct.DependPackages=["ArtistDic","Common"];return SelectItemStruct}(fairygui.GButton));ArtistDic.SelectItemStruct=SelectItemStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItem=(function(_super){__extends(SelectItem,_super);function SelectItem(){return _super!==null&&_super.apply(this,arguments)||this}SelectItem.prototype.setData=function(numData){if(numData<6){this.m_starNo.setSelectedIndex(1);this.m_title.text=numData.toString()}else{this.m_starNo.setSelectedIndex(0);this.m_icon.icon=Games.WarLoadPic.getActorTypeIcon(numData)}this.selected=true};return SelectItem}(ArtistDic.SelectItemStruct));ArtistDic.SelectItem=SelectItem})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItem2Struct=(function(_super){__extends(SelectItem2Struct,_super);function SelectItem2Struct(){return _super.call(this)||this}SelectItem2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","SelectItem2"))};SelectItem2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"))};SelectItem2Struct.URL="ui://aeg3jnlem8at17";SelectItem2Struct.DependPackages=["ArtistDic","Common"];return SelectItem2Struct}(fairygui.GButton));ArtistDic.SelectItem2Struct=SelectItem2Struct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItem2=(function(_super){__extends(SelectItem2,_super);function SelectItem2(){return _super!==null&&_super.apply(this,arguments)||this}SelectItem2.prototype.setData=function(protId){this.m_icon.icon=Games.WarLoadPic.getActorTypeIcon(protId)};return SelectItem2}(ArtistDic.SelectItem2Struct));ArtistDic.SelectItem2=SelectItem2})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItem3Struct=(function(_super){__extends(SelectItem3Struct,_super);function SelectItem3Struct(){return _super.call(this)||this}SelectItem3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","SelectItem3"))};SelectItem3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};SelectItem3Struct.URL="ui://aeg3jnlem8at18";SelectItem3Struct.DependPackages=["ArtistDic","Common"];return SelectItem3Struct}(fairygui.GButton));ArtistDic.SelectItem3Struct=SelectItem3Struct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var SelectItem3=(function(_super){__extends(SelectItem3,_super);function SelectItem3(){return _super!==null&&_super.apply(this,arguments)||this}return SelectItem3}(ArtistDic.SelectItem3Struct));ArtistDic.SelectItem3=SelectItem3})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var StarStruct=(function(_super){__extends(StarStruct,_super);function StarStruct(){return _super.call(this)||this}StarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","Star"))};StarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};StarStruct.URL="ui://aeg3jnle8hl11b";StarStruct.DependPackages=["ArtistDic","Common"];return StarStruct}(fairygui.GComponent));ArtistDic.StarStruct=StarStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var Star=(function(_super){__extends(Star,_super);function Star(){return _super!==null&&_super.apply(this,arguments)||this}return Star}(ArtistDic.StarStruct));ArtistDic.Star=Star})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var StarTitleStruct=(function(_super){__extends(StarTitleStruct,_super);function StarTitleStruct(){return _super.call(this)||this}StarTitleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","StarTitle"))};StarTitleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};StarTitleStruct.URL="ui://aeg3jnlem8at13";StarTitleStruct.DependPackages=["ArtistDic"];return StarTitleStruct}(fairygui.GLabel));ArtistDic.StarTitleStruct=StarTitleStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var StarTitle=(function(_super){__extends(StarTitle,_super);function StarTitle(){return _super!==null&&_super.apply(this,arguments)||this}return StarTitle}(ArtistDic.StarTitleStruct));ArtistDic.StarTitle=StarTitle})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var TalkItemStruct=(function(_super){__extends(TalkItemStruct,_super);function TalkItemStruct(){return _super.call(this)||this}TalkItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("ArtistDic","talkItem"))};TalkItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_haveVip=this.getController("haveVip");this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_des=(this.getChild("des"));this.m_starTip=(this.getChild("starTip"))};TalkItemStruct.URL="ui://aeg3jnlem8aty";TalkItemStruct.DependPackages=["ArtistDic","Common","WarMovie"];return TalkItemStruct}(fairygui.GComponent));ArtistDic.TalkItemStruct=TalkItemStruct})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var ArtistDic;(function(ArtistDic){var TalkItem=(function(_super){__extends(TalkItem,_super);function TalkItem(){return _super!==null&&_super.apply(this,arguments)||this}return TalkItem}(ArtistDic.TalkItemStruct));ArtistDic.TalkItem=TalkItem})(ArtistDic=fgui.ArtistDic||(fgui.ArtistDic={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var ActorBgStruct=(function(_super){__extends(ActorBgStruct,_super);function ActorBgStruct(){return _super.call(this)||this}ActorBgStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","actorBg"))};ActorBgStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ActorBgStruct.URL="ui://wdrb9z06nd2wy";ActorBgStruct.DependPackages=["Bag","Common"];return ActorBgStruct}(fairygui.GComponent));Bag.ActorBgStruct=ActorBgStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var ActorBg=(function(_super){__extends(ActorBg,_super);function ActorBg(){return _super!==null&&_super.apply(this,arguments)||this}return ActorBg}(Bag.ActorBgStruct));Bag.ActorBg=ActorBg})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var ActorItemStruct=(function(_super){__extends(ActorItemStruct,_super);function ActorItemStruct(){return _super.call(this)||this}ActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","ActorItem"))};ActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_txtLv=(this.getChild("txtLv"));this.m_title=(this.getChild("title"));this.m_actor=(this.getChild("actor"));this.m_star=(this.getChild("star"))};ActorItemStruct.URL="ui://wdrb9z06n9f05";ActorItemStruct.DependPackages=["Bag","Common","PlayerInfo"];return ActorItemStruct}(fairygui.GButton));Bag.ActorItemStruct=ActorItemStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var ActorItem=(function(_super){__extends(ActorItem,_super);function ActorItem(){return _super!==null&&_super.apply(this,arguments)||this}ActorItem.prototype.UpdateView=function(actorData){this.actorData=actorData;this.title=actorData.name;this.m_star.starNum=actorData.star;var actDemand=Game.moduleModel.market.GetActorRequire(actorData.id);this.m_actor.m_icon.url=Game.moduleModel.market.GetActorIcon(actorData.id);this.m_txtLv.text=Games.TEXT.Lv.format(actorData.level)};return ActorItem}(Bag.ActorItemStruct));Bag.ActorItem=ActorItem})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BagItemInfoStruct=(function(_super){__extends(BagItemInfoStruct,_super);function BagItemInfoStruct(){return _super.call(this)||this}BagItemInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","BagItemInfo"))};BagItemInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_buttonType=this.getController("buttonType");this.m_txtName=(this.getChild("txtName"));this.m_txtInfo=(this.getChild("txtInfo"));this.m_labItem=(this.getChild("labItem"));this.m_labActor=(this.getChild("labActor"));this.m_labPrice=(this.getChild("labPrice"));this.m_btnSale=(this.getChild("btnSale"));this.m_btnUse=(this.getChild("btnUse"));this.m_btnInfo=(this.getChild("btnInfo"));this.m_btnResolve=(this.getChild("btnResolve"));this.m_btnGive=(this.getChild("btnGive"));this.m_btnCompound=(this.getChild("btnCompound"))};BagItemInfoStruct.URL="ui://wdrb9z06n9f00";BagItemInfoStruct.DependPackages=["Bag","Common","MainUI","WarMovie","PfSkin"];return BagItemInfoStruct}(fairygui.GComponent));Bag.BagItemInfoStruct=BagItemInfoStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BagItemInfo=(function(_super){__extends(BagItemInfo,_super);function BagItemInfo(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.GetItems=[];return _this}BagItemInfo.prototype.InitView=function(){this.m_btnCompound.onClick(this,this.OnBtnCompoundClick);this.m_btnGive.onClick(this,this.OnBtnGiveClick);this.m_btnResolve.onClick(this,this.OnBtnResolveClick);this.m_btnSale.onClick(this,this.OnBtnSaleClick);this.m_btnUse.onClick(this,this.OnBtnUseClick);this.m_btnInfo.onClick(this,this.OnBtnInfo)};BagItemInfo.prototype.UpdateView=function(id){this.itemData=Game.moduleModel.item.getItem(id);if(this.itemData.itemType==7){this.m_labActor.m_actor.m_icon.url=this.itemData.itemBodyIconUrl;this.m_labActor.title=this.itemData.itemNumTxt;this.m_labActor.star=this.itemData.itemStar;this.m_labActor.visible=true;this.m_labItem.visible=false}else{this.m_labItem.icon=this.itemData.itemIconUrl;this.m_labItem.title=this.itemData.itemNumTxt;this.m_labItem.star=this.itemData.itemStar;this.m_labActor.visible=false;this.m_labItem.visible=true}this.m_txtName.text=this.itemData.itemName;this.m_labPrice.icon=Game.moduleModel.item.getItem(3).itemIconUrl;this.m_labPrice.title=formatNumberUnit(this.itemData.itemConfig.price).toString();this.m_txtInfo.text=this.itemData.itemDes;this.UpdateButtonType()};BagItemInfo.prototype.UpdateButtonType=function(){if(this.itemData.itemType==6){if(this.itemData.splitItem.length==0){this.m_buttonType.setSelectedIndex(4)}else{if(this.itemData.compoundItem==null){this.m_buttonType.setSelectedIndex(5)}else{this.m_buttonType.setSelectedIndex(6)}}}else{var cfg=this.itemData.itemConfig;if(cfg.can_use&&cfg.can_sell){this.m_buttonType.setSelectedIndex(3)}else{if(cfg.can_sell){this.m_buttonType.setSelectedIndex(2)}else{if(cfg.can_use){this.m_buttonType.setSelectedIndex(1)}else{this.m_buttonType.setSelectedIndex(0)}}}}this.m_btnInfo.visible=this.itemData.itemType==7};BagItemInfo.prototype.OnBtnCompoundClick=function(){this.GetItems=[];var limit=this.itemData.compoundNum;if(limit==0){var needNum=this.itemData.compoundItem.itemNum-this.itemData.itemNum;Game.system.toastMsg(MsgKey.bag_no_compound_tips,needNum);return}Game.system.setNumText(limit,Games.TEXT.BagSelectCompoundNum,Games.TEXT.BagCompound,this,this.OnConfirmCompound)};BagItemInfo.prototype.OnConfirmCompound=function(itemNum){var item=new DTItemNum();item.itemId=this.itemData.compoundItem.itemId;item.itemNum=itemNum;this.GetItems.push(item);Game.protosender.item.Compound(this.itemData.uuid,this.itemData.itemId,itemNum)};BagItemInfo.prototype.OnBtnGiveClick=function(){var actorList=this.GetActorListByAsset();Game.system.selectActor(actorList,this.OnConfirmGiveActor,this,Games.TEXT.BagSelectGive)};BagItemInfo.prototype.GetActorListByAsset=function(){var list=[];var actorList=Game.moduleModel.actor.getActors();for(var i=0;i<actorList.length;i++){var actor=actorList[i];var assetList=actor.assets;for(var j=0;j<assetList.length;j++){var asset=assetList[j];var itemId=asset.item;if(itemId==this.itemData.itemId){list.push(actor);break}}}return list};BagItemInfo.prototype.OnConfirmGiveActor=function(actorId){Game.menu.open(MenuId.ArtistDetail,actorId,Games.ArtistDetailTabType.Asset)};BagItemInfo.prototype.UpdateActorAssetTypeAndLv=function(actor){var assetList=actor.giveAssetsList;for(var j=0;j<assetList.length;j++){var asset=assetList[j];for(var k=0;k<asset.giveItemList.length;k++){var item=asset.giveItemList[k];if(item.itemId==this.itemData.itemId){this.protoGiveData.actorLv=asset.giveLevel;this.protoGiveData.actorType=asset.giveType;return}}}};BagItemInfo.prototype.OnConfirmGiveNum=function(itemNum){var uuid=Game.moduleModel.actor.getActor(this.protoGiveData.actorId).uuid;var actorType=this.protoGiveData.actorType;var actorLv=this.protoGiveData.actorLv;Game.protosender.Actor.giveActorAssets(uuid,actorType,actorLv,itemNum)};BagItemInfo.prototype.OnBtnResolveClick=function(){this.GetItems=[];var limit=this.itemData.itemNum;Game.system.setNumText(limit,Games.TEXT.BagSelectResolveNum,Games.TEXT.BagResolve,this,this.OnConfirmResolve)};BagItemInfo.prototype.OnConfirmResolve=function(itemNum){for(var index=0;index<this.itemData.splitItem.length;index++){var item=new DTItemNum();item.itemId=this.itemData.splitItem[index].itemId;item.itemNum=this.itemData.splitItem[index].itemNum*itemNum;this.GetItems.push(item)}Game.protosender.item.Split(this.itemData.uuid,this.itemData.itemId,itemNum)};BagItemInfo.prototype.OnBtnSaleClick=function(){var limit=this.itemData.itemNum;Game.system.setNumText(limit,Games.TEXT.BagSelectSaleNum,Games.TEXT.BagSale,this,this.OnConfirmSale)};BagItemInfo.prototype.OnConfirmSale=function(num){var item=new DTItemNum();item.itemId=3;item.itemNum=num*this.itemData.itemConfig.price;this.GetItems=[item];Game.protosender.item.SellOut(this.itemData.uuid,this.itemData.itemId,num)};BagItemInfo.prototype.OnBtnUseClick=function(){this.GetItems=[];if(this.itemData.itemType==7){if(Game.moduleModel.actor.actorIsMax){Game.system.confirmBuyText(Games.TEXT.AlertTextBuyActor,GlobalConfig.getValue1(GlobalKey.KEY_1009_ZuanDanZengJia__ShuLiangXiaoHao),null,function(){Game.protosender.Actor.addActorSlot()});return}if(this.itemData.compoundActor){var actorId=this.itemData.compoundActor.itemId;if(Game.moduleModel.actor.getActor(actorId)!=null){Game.system.toastMsg(MsgKey.bag_own_actor_tips);return}var limit=this.itemData.compoundActorNum;if(limit==0){var needNum=this.itemData.compoundActor.itemNum-this.itemData.itemNum;Game.system.toastMsg(MsgKey.bag_no_compound_tips,needNum);return}Game.protosender.item.CompoundActor(this.itemData.uuid,this.itemData.itemId)}else{Game.system.setNumText(this.itemData.itemNum,Games.TEXT.BagSelectUseNum,Games.TEXT.BagUse,this,this.OnConfirmUse)}}else{this.GetItems=[];Game.system.setNumText(this.itemData.itemNum,Games.TEXT.BagSelectUseNum,Games.TEXT.BagUse,this,this.OnConfirmUse)}};BagItemInfo.prototype.OnConfirmUse=function(itemNum){Game.protosender.item.Use(this.itemData.uuid,this.itemData.itemId,itemNum)};BagItemInfo.prototype.OnBtnInfo=function(){var actorId=this.itemData.compoundActor.itemId;Game.menu.open(MenuId.ActorDetail,actorId)};BagItemInfo.prototype.OnItemDataResponse=function(){};BagItemInfo.prototype.OnSellOutResponse=function(){Game.system.getItemText(this.GetItems)};BagItemInfo.prototype.OnCompoundResponse=function(){Game.system.getItemText(this.GetItems)};BagItemInfo.prototype.OnSplitResponse=function(){Game.system.getItemText(this.GetItems)};BagItemInfo.prototype.OnUseResponse=function(){};BagItemInfo.prototype.OnCompoundActorResponse=function(){};BagItemInfo.prototype.Show=function(){this.visible=true};BagItemInfo.prototype.Hide=function(){this.visible=false};return BagItemInfo}(Bag.BagItemInfoStruct));Bag.BagItemInfo=BagItemInfo})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BagMainPanelStruct=(function(_super){__extends(BagMainPanelStruct,_super);function BagMainPanelStruct(){return _super.call(this)||this}BagMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","BagMainPanel"))};BagMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_select=this.getController("select");this.m_isShowInfo=this.getController("isShowInfo");this.m_listTab=(this.getChild("listTab"));this.m_listBagItem=(this.getChild("listBagItem"));this.m_txtCapacity=(this.getChild("txtCapacity"));this.m_btnClose=(this.getChild("btnClose"));this.m_btnLv=(this.getChild("btnLv"));this.m_itemInfo=(this.getChild("itemInfo"))};BagMainPanelStruct.URL="ui://wdrb9z06n9f02";BagMainPanelStruct.DependPackages=["Bag","Common","MainUI","WarMovie","PfSkin"];return BagMainPanelStruct}(fairygui.GComponent));Bag.BagMainPanelStruct=BagMainPanelStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BagType;(function(BagType){})(BagType||(BagType={}));var BagMainPanel=(function(_super){__extends(BagMainPanel,_super);function BagMainPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.bagTab=[[4],[5,8,9],[6],[7]];return _this}BagMainPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnCloseClick);this.m_listBagItem.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_listBagItem.setVirtual();this.m_listBagItem.on(fairygui.Events.CLICK_ITEM,this,this.OnItemClick);this.m_listBagItem.itemProvider=new Handler(this,this.GetListItemResource,null,false);this.m_listTab.on(fairygui.Events.CLICK_ITEM,this,this.OnTabClick);this.m_btnLv.onClick(this,this.OnBtnLvClick);this.m_itemInfo.InitView()};BagMainPanel.prototype.onWindowShow=function(){this.AddProtoHandler();this.m_listTab.selectedIndex=0;this.selectItem=null;this.m_isShowInfo.setSelectedIndex(0);this.UpdateView()};BagMainPanel.prototype.onWindowHide=function(){this.RemoveProtoHandler()};BagMainPanel.prototype.UpdateView=function(){this.UpdateBagItemList();this.UpdateItemInfo();if(this.m_listTab.selectedIndex==0){this.m_txtCapacity.text=Game.moduleModel.bag.GetItemNumByType(4)+"/"+Game.moduleModel.bag.GetBagVolume()}this.UpdateRed()};BagMainPanel.prototype.UpdateRed=function(){var objGift=this.m_listTab.getChildAt(1);var objPact=this.m_listTab.getChildAt(3);objGift.Red=Game.moduleModel.bag.RedGift;objPact.Red=Game.moduleModel.bag.RedPact};BagMainPanel.prototype.UpdateBagItemList=function(){var itemTypes=this.GetItemTypes();this.itemList=Game.moduleModel.item.GetItemListByType(itemTypes);if(this.m_listTab.selectedIndex==3){this.itemList=this.itemList.sort(function(a,b){return b.itemStar-a.itemStar})}this.m_listBagItem.numItems=this.itemList.length;this.m_listBagItem.selectedIndex=this.GetSelectIndex();this.m_listBagItem.refreshVirtualList();this.m_listBagItem.scrollToView(0,true,true)};BagMainPanel.prototype.GetItemTypes=function(){if(this.m_listTab.selectedIndex>=0&&this.m_listTab.selectedIndex<this.bagTab.length){return this.bagTab[this.m_listTab.selectedIndex]}return[]};BagMainPanel.prototype.GetSelectIndex=function(){if(this.selectItem==null){return -1}var itemType=this.selectItem.itemType;var itemTypes=this.GetItemTypes();if(itemTypes.indexOf(itemType)>=0){for(var index=0;index<this.itemList.length;index++){var item=this.itemList[index];if(item.itemId==this.selectItem.itemId){return index}}}return -1};BagMainPanel.prototype.UpdateItemInfo=function(){var itemData=this.selectItem;if(itemData==null||itemData.itemNum==0){this.m_isShowInfo.setSelectedIndex(0);this.m_itemInfo.Hide();return}this.m_isShowInfo.setSelectedIndex(1);this.m_itemInfo.UpdateView(itemData.itemId);this.m_itemInfo.Show()};BagMainPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};BagMainPanel.prototype.RenderItem=function(index,obj){if(this.m_listTab.selectedIndex==3){var itemObj=obj;var data=this.itemList[index];itemObj.RenderItem(data)}else{var itemObj=obj;var data=this.itemList[index];itemObj.RenderItem(data)}};BagMainPanel.prototype.OnItemClick=function(obj){this.selectItem=this.itemList[this.m_listBagItem.selectedIndex];this.m_isShowInfo.setSelectedIndex(1);this.UpdateItemInfo()};BagMainPanel.prototype.OnTabClick=function(obj){this.UpdateView()};BagMainPanel.prototype.GetListItemResource=function(index){if(this.m_listTab.selectedIndex==3){return fgui.Bag.PactItem.URL}else{return fgui.Bag.PropItem.URL}};BagMainPanel.prototype.OnBtnLvClick=function(){var roomInfo=Game.moduleModel.building.getRoomByType(6);if(roomInfo){Game.menu.open(MenuId.BuildRoomUpgrade,roomInfo)}};BagMainPanel.prototype.AddProtoHandler=function(){Game.protoOkEvent.add(ProtoEventKey.item_SellOut,this.OnSellOutResponse,this);Game.protoOkEvent.add(ProtoEventKey.item_Compound,this.OnCompoundResponse,this);Game.protoOkEvent.add(ProtoEventKey.item_CompoundActor,this.OnCompoundActorResponse,this);Game.protoOkEvent.add(ProtoEventKey.item_Split,this.OnSplitResponse,this);Game.protoOkEvent.add(ProtoEventKey.item_Use,this.OnUseResponse,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.OnItemDataResponse,this);Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_UpgradeRoom,this.OnCinemaBuildUpgradeRoomResponse,this);Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_BuildRoom,this.OnCinemaBuildUpgradeRoomResponse,this);Game.moduleModel.actor.sAddActorList.add(this.onAddActorHandler,this)};BagMainPanel.prototype.RemoveProtoHandler=function(){Game.protoOkEvent.remove(ProtoEventKey.item_SellOut,this.OnSellOutResponse,this);Game.protoOkEvent.remove(ProtoEventKey.item_Compound,this.OnCompoundResponse,this);Game.protoOkEvent.remove(ProtoEventKey.item_CompoundActor,this.OnCompoundActorResponse,this);Game.protoOkEvent.remove(ProtoEventKey.item_Split,this.OnSplitResponse,this);Game.protoOkEvent.remove(ProtoEventKey.item_Use,this.OnUseResponse,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.OnItemDataResponse,this);Game.protoOkEvent.remove(ProtoEventKey.CinemaBuild_UpgradeRoom,this.OnCinemaBuildUpgradeRoomResponse,this);Game.protoOkEvent.remove(ProtoEventKey.CinemaBuild_BuildRoom,this.OnCinemaBuildUpgradeRoomResponse,this);Game.moduleModel.actor.sAddActorList.remove(this.onAddActorHandler,this)};BagMainPanel.prototype.OnCinemaBuildUpgradeRoomResponse=function(){this.UpdateView()};BagMainPanel.prototype.OnItemDataResponse=function(){this.m_itemInfo.OnItemDataResponse();this.UpdateView()};BagMainPanel.prototype.OnSellOutResponse=function(){this.m_itemInfo.OnSellOutResponse();this.UpdateView()};BagMainPanel.prototype.OnCompoundResponse=function(){this.m_itemInfo.OnCompoundResponse();this.UpdateView()};BagMainPanel.prototype.OnSplitResponse=function(){this.m_itemInfo.OnSplitResponse();this.UpdateView()};BagMainPanel.prototype.OnUseResponse=function(){this.m_itemInfo.OnUseResponse();this.UpdateView()};BagMainPanel.prototype.OnCompoundActorResponse=function(){this.m_itemInfo.OnCompoundActorResponse();this.UpdateView()};BagMainPanel.prototype.onAddActorHandler=function(data){Game.menu.open(MenuId.ArtistScoutSuccess,data)};return BagMainPanel}(Bag.BagMainPanelStruct));Bag.BagMainPanel=BagMainPanel})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BtnTabStruct=(function(_super){__extends(BtnTabStruct,_super);function BtnTabStruct(){return _super.call(this)||this}BtnTabStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","btnTab"))};BtnTabStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_grayed=this.getController("grayed");this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};BtnTabStruct.URL="ui://wdrb9z06kvagr";BtnTabStruct.DependPackages=["Bag","MainUI","Common"];return BtnTabStruct}(fairygui.GButton));Bag.BtnTabStruct=BtnTabStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var BtnTab=(function(_super){__extends(BtnTab,_super);function BtnTab(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BtnTab.prototype,"Red",{set:function(num){this.m_red.m_num.text=num.toString();this.m_red.visible=num>0},enumerable:true,configurable:true});return BtnTab}(Bag.BtnTabStruct));Bag.BtnTab=BtnTab})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var MarketLabAssetStruct=(function(_super){__extends(MarketLabAssetStruct,_super);function MarketLabAssetStruct(){return _super.call(this)||this}MarketLabAssetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","MarketLabAsset"))};MarketLabAssetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};MarketLabAssetStruct.URL="ui://wdrb9z06nd2w11";MarketLabAssetStruct.DependPackages=["Bag","Common"];return MarketLabAssetStruct}(fairygui.GLabel));Bag.MarketLabAssetStruct=MarketLabAssetStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var MarketLabAsset=(function(_super){__extends(MarketLabAsset,_super);function MarketLabAsset(){return _super!==null&&_super.apply(this,arguments)||this}return MarketLabAsset}(Bag.MarketLabAssetStruct));Bag.MarketLabAsset=MarketLabAsset})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var PactItemStruct=(function(_super){__extends(PactItemStruct,_super);function PactItemStruct(){return _super.call(this)||this}PactItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","PactItem"))};PactItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_title=(this.getChild("title"));this.m_actor=(this.getChild("actor"));this.m_star=(this.getChild("star"))};PactItemStruct.URL="ui://wdrb9z06n9f09";PactItemStruct.DependPackages=["Bag","WarMovie","Common"];return PactItemStruct}(fairygui.GButton));Bag.PactItemStruct=PactItemStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var PactItem=(function(_super){__extends(PactItem,_super);function PactItem(){return _super!==null&&_super.apply(this,arguments)||this}PactItem.prototype.RenderItem=function(data){this.m_actor.m_icon.url=data.itemBodyIconUrl;this.title=data.itemNumTxt;this.star=data.itemStar;var actorId=data.itemConfig.actor_id;var actorNum=data.itemConfig.actor_num;var actor=Game.moduleModel.actor.getActor(actorId);if(actor){this.m_state.setSelectedIndex(1)}else{if(actorNum<=data.itemNum){this.m_state.setSelectedIndex(2)}else{this.m_state.setSelectedIndex(0)}}};Object.defineProperty(PactItem.prototype,"star",{set:function(num){this.m_star.starNum=num},enumerable:true,configurable:true});return PactItem}(Bag.PactItemStruct));Bag.PactItem=PactItem})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var PropItemStruct=(function(_super){__extends(PropItemStruct,_super);function PropItemStruct(){return _super.call(this)||this}PropItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","PropItem"))};PropItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_type=this.getController("type");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"));this.m_red=(this.getChild("red"))};PropItemStruct.URL="ui://wdrb9z06n9f0e";PropItemStruct.DependPackages=["Bag","Common","MainUI"];return PropItemStruct}(fairygui.GButton));Bag.PropItemStruct=PropItemStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var PropItem=(function(_super){__extends(PropItem,_super);function PropItem(){return _super!==null&&_super.apply(this,arguments)||this}PropItem.prototype.RenderItem=function(data){this.icon=data.itemIconUrl;this.title=data.itemNumTxt;this.star=data.itemStar;this.Red=data.itemType==8};Object.defineProperty(PropItem.prototype,"star",{set:function(num){this.m_star.starNum=num},enumerable:true,configurable:true});Object.defineProperty(PropItem.prototype,"Red",{set:function(isShow){this.m_red.m_num.text="";this.m_red.visible=isShow},enumerable:true,configurable:true});return PropItem}(Bag.PropItemStruct));Bag.PropItem=PropItem})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var StarStruct=(function(_super){__extends(StarStruct,_super);function StarStruct(){return _super.call(this)||this}StarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","Star"))};StarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starNum=this.getController("starNum");this.m_color=this.getController("color");this.m_align=this.getController("align");this.m_s1=(this.getChild("s1"));this.m_s2=(this.getChild("s2"));this.m_s3=(this.getChild("s3"));this.m_s4=(this.getChild("s4"));this.m_s5=(this.getChild("s5"));this.m_s6=(this.getChild("s6"));this.m_list=(this.getChild("list"))};StarStruct.URL="ui://wdrb9z06kvags";StarStruct.DependPackages=["Bag"];return StarStruct}(fairygui.GComponent));Bag.StarStruct=StarStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var Star=(function(_super){__extends(Star,_super);function Star(){return _super!==null&&_super.apply(this,arguments)||this}return Star}(Bag.StarStruct));Bag.Star=Star})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var StarItemStruct=(function(_super){__extends(StarItemStruct,_super);function StarItemStruct(){return _super.call(this)||this}StarItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","StarItem"))};StarItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};StarItemStruct.URL="ui://wdrb9z06uepot";StarItemStruct.DependPackages=["Bag"];return StarItemStruct}(fairygui.GLabel));Bag.StarItemStruct=StarItemStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var StarItem=(function(_super){__extends(StarItem,_super);function StarItem(){return _super!==null&&_super.apply(this,arguments)||this}return StarItem}(Bag.StarItemStruct));Bag.StarItem=StarItem})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var SystemSelectActorPanelStruct=(function(_super){__extends(SystemSelectActorPanelStruct,_super);function SystemSelectActorPanelStruct(){return _super.call(this)||this}SystemSelectActorPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","SystemSelectActorPanel"))};SystemSelectActorPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_tipNoActor=(this.getChild("tipNoActor"));this.m_btnClose=(this.getChild("btnClose"));this.m_btnConfirm=(this.getChild("btnConfirm"))};SystemSelectActorPanelStruct.URL="ui://wdrb9z06n9f03";SystemSelectActorPanelStruct.DependPackages=["Bag","Common"];return SystemSelectActorPanelStruct}(fairygui.GComponent));Bag.SystemSelectActorPanelStruct=SystemSelectActorPanelStruct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var SystemSelectActorPanel=(function(_super){__extends(SystemSelectActorPanel,_super);function SystemSelectActorPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.NAME_ITEM="ActorItem";return _this}SystemSelectActorPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_btnConfirm.onClick(this,this.OnSelect)};SystemSelectActorPanel.prototype.open=function(actorList,_onselect,caller,title){this.m_list.setVirtual();this.m_list.itemRenderer=Handler.create(this,this.RenderListItem,null,false);this.m_list.selectNone();this.onSelect=_onselect;this.caller=caller;this.m_title.text=title;this.actorList=actorList;this.m_list.numItems=this.actorList.length;this.m_list.refreshVirtualList();this.m_tipNoActor.visible=this.actorList.length==0;Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};SystemSelectActorPanel.prototype.OnSelect=function(){var itemIndex=this.m_list.selectedIndex;if(itemIndex>this.actorList.length-1||itemIndex<0){Game.system.toastText(Games.TEXT.BagSelectActor);return}var actor=this.actorList[itemIndex];if(actor==null){Game.system.toastText(Games.TEXT.BagSelectActor);return}if(this.onSelect){if(this.caller){this.onSelect.apply(this.caller,[actor.id])}else{this.onSelect(actor.id)}}this.close()};SystemSelectActorPanel.prototype.RenderListItem=function(index,obj){var item=obj;item.name=this.NAME_ITEM+index;var data=this.actorList[index];item.setPivot(0.5,0.5);item.UpdateView(data)};SystemSelectActorPanel.prototype.OnCloseClick=function(){this.close()};SystemSelectActorPanel.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.onHide()};SystemSelectActorPanel.prototype.onHide=function(){this.removeFromParent()};return SystemSelectActorPanel}(Bag.SystemSelectActorPanelStruct));Bag.SystemSelectActorPanel=SystemSelectActorPanel})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var Touxiang160Struct=(function(_super){__extends(Touxiang160Struct,_super);function Touxiang160Struct(){return _super.call(this)||this}Touxiang160Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Bag","touxiang160"))};Touxiang160Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang160Struct.URL="ui://wdrb9z06rdes13";Touxiang160Struct.DependPackages=["Bag","Common"];return Touxiang160Struct}(fairygui.GLabel));Bag.Touxiang160Struct=Touxiang160Struct})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Bag;(function(Bag){var Touxiang160=(function(_super){__extends(Touxiang160,_super);function Touxiang160(){return _super!==null&&_super.apply(this,arguments)||this}return Touxiang160}(Bag.Touxiang160Struct));Bag.Touxiang160=Touxiang160})(Bag=fgui.Bag||(fgui.Bag={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AssetItemStruct=(function(_super){__extends(AssetItemStruct,_super);function AssetItemStruct(){return _super.call(this)||this}AssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","AssetItem"))};AssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_assetCtrl=this.getController("assetCtrl");this.m_assetNum=(this.getChild("assetNum"));this.m_assetLoad=(this.getChild("assetLoad"))};AssetItemStruct.URL="ui://d062jvkgo11z122";AssetItemStruct.DependPackages=["Building"];return AssetItemStruct}(fairygui.GComponent));Building.AssetItemStruct=AssetItemStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AssetItem=(function(_super){__extends(AssetItem,_super);function AssetItem(){return _super!==null&&_super.apply(this,arguments)||this}return AssetItem}(Building.AssetItemStruct));Building.AssetItem=AssetItem})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarDisplayObjectStruct=(function(_super){__extends(AvatarDisplayObjectStruct,_super);function AvatarDisplayObjectStruct(){return _super.call(this)||this}AvatarDisplayObjectStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","AvatarDisplayObject"))};AvatarDisplayObjectStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};AvatarDisplayObjectStruct.URL="ui://d062jvkgkxna128";AvatarDisplayObjectStruct.DependPackages=["Building"];return AvatarDisplayObjectStruct}(fairygui.GComponent));Building.AvatarDisplayObjectStruct=AvatarDisplayObjectStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarDisplayObject=(function(_super){__extends(AvatarDisplayObject,_super);function AvatarDisplayObject(){return _super!==null&&_super.apply(this,arguments)||this}return AvatarDisplayObject}(Building.AvatarDisplayObjectStruct));Building.AvatarDisplayObject=AvatarDisplayObject})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarSampleStruct=(function(_super){__extends(AvatarSampleStruct,_super);function AvatarSampleStruct(){return _super.call(this)||this}AvatarSampleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","AvatarSample"))};AvatarSampleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_sample=(this.getChild("sample"))};AvatarSampleStruct.URL="ui://d062jvkgcy9t12h";AvatarSampleStruct.DependPackages=["Building"];return AvatarSampleStruct}(fairygui.GComponent));Building.AvatarSampleStruct=AvatarSampleStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarSample=(function(_super){__extends(AvatarSample,_super);function AvatarSample(){return _super!==null&&_super.apply(this,arguments)||this}return AvatarSample}(Building.AvatarSampleStruct));Building.AvatarSample=AvatarSample})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BtnNpcTipsStruct=(function(_super){__extends(BtnNpcTipsStruct,_super);function BtnNpcTipsStruct(){return _super.call(this)||this}BtnNpcTipsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BtnNpcTips"))};BtnNpcTipsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};BtnNpcTipsStruct.URL="ui://d062jvkggy5h13r";BtnNpcTipsStruct.DependPackages=["Building","PfSkin","Common"];return BtnNpcTipsStruct}(fairygui.GButton));Building.BtnNpcTipsStruct=BtnNpcTipsStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BtnNpcTips=(function(_super){__extends(BtnNpcTips,_super);function BtnNpcTips(){return _super!==null&&_super.apply(this,arguments)||this}BtnNpcTips.prototype.setInfo=function(iconId,title){this.m_icon.url=Game.config.avatar.GetIconUrl(iconId);this.m_title.text=title};Object.defineProperty(BtnNpcTips.prototype,"scaleXY",{set:function(val){this.setScale(val,val)},enumerable:true,configurable:true});return BtnNpcTips}(Building.BtnNpcTipsStruct));Building.BtnNpcTips=BtnNpcTips})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_addStruct=(function(_super){__extends(Btn_addStruct,_super);function Btn_addStruct(){return _super.call(this)||this}Btn_addStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_add"))};Btn_addStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_addStruct.URL="ui://d062jvkgitjo13l";Btn_addStruct.DependPackages=["Building","Common"];return Btn_addStruct}(fairygui.GButton));Building.Btn_addStruct=Btn_addStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_add=(function(_super){__extends(Btn_add,_super);function Btn_add(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_add}(Building.Btn_addStruct));Building.Btn_add=Btn_add})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_buildFloorStruct=(function(_super){__extends(Btn_buildFloorStruct,_super);function Btn_buildFloorStruct(){return _super.call(this)||this}Btn_buildFloorStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_buildFloor"))};Btn_buildFloorStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};Btn_buildFloorStruct.URL="ui://d062jvkgcpc911k";Btn_buildFloorStruct.DependPackages=["Building","Common"];return Btn_buildFloorStruct}(fairygui.GButton));Building.Btn_buildFloorStruct=Btn_buildFloorStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_buildFloor=(function(_super){__extends(Btn_buildFloor,_super);function Btn_buildFloor(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_buildFloor}(Building.Btn_buildFloorStruct));Building.Btn_buildFloor=Btn_buildFloor})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_buildRoomStruct=(function(_super){__extends(Btn_buildRoomStruct,_super);function Btn_buildRoomStruct(){return _super.call(this)||this}Btn_buildRoomStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_buildRoom"))};Btn_buildRoomStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};Btn_buildRoomStruct.URL="ui://d062jvkg8zgr3n";Btn_buildRoomStruct.DependPackages=["Building","Common"];return Btn_buildRoomStruct}(fairygui.GButton));Building.Btn_buildRoomStruct=Btn_buildRoomStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_buildRoom=(function(_super){__extends(Btn_buildRoom,_super);function Btn_buildRoom(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_buildRoom}(Building.Btn_buildRoomStruct));Building.Btn_buildRoom=Btn_buildRoom})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_closeStruct=(function(_super){__extends(Btn_closeStruct,_super);function Btn_closeStruct(){return _super.call(this)||this}Btn_closeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_close"))};Btn_closeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_closeStruct.URL="ui://d062jvkgcpc9119";Btn_closeStruct.DependPackages=["Building","Common"];return Btn_closeStruct}(fairygui.GButton));Building.Btn_closeStruct=Btn_closeStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_close=(function(_super){__extends(Btn_close,_super);function Btn_close(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_close}(Building.Btn_closeStruct));Building.Btn_close=Btn_close})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_confirmStruct=(function(_super){__extends(Btn_confirmStruct,_super);function Btn_confirmStruct(){return _super.call(this)||this}Btn_confirmStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_confirm"))};Btn_confirmStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};Btn_confirmStruct.URL="ui://d062jvkgcpc911e";Btn_confirmStruct.DependPackages=["Building"];return Btn_confirmStruct}(fairygui.GButton));Building.Btn_confirmStruct=Btn_confirmStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_confirm=(function(_super){__extends(Btn_confirm,_super);function Btn_confirm(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_confirm}(Building.Btn_confirmStruct));Building.Btn_confirm=Btn_confirm})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_roomTipStruct=(function(_super){__extends(Btn_roomTipStruct,_super);function Btn_roomTipStruct(){return _super.call(this)||this}Btn_roomTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_roomTip"))};Btn_roomTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_roomTipStruct.URL="ui://d062jvkgcpc911h";Btn_roomTipStruct.DependPackages=["Building","Common"];return Btn_roomTipStruct}(fairygui.GButton));Building.Btn_roomTipStruct=Btn_roomTipStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_roomTip=(function(_super){__extends(Btn_roomTip,_super);function Btn_roomTip(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_roomTip}(Building.Btn_roomTipStruct));Building.Btn_roomTip=Btn_roomTip})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_roomTitleStruct=(function(_super){__extends(Btn_roomTitleStruct,_super);function Btn_roomTitleStruct(){return _super.call(this)||this}Btn_roomTitleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","btn_roomTitle"))};Btn_roomTitleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};Btn_roomTitleStruct.URL="ui://d062jvkg8zgr3m";Btn_roomTitleStruct.DependPackages=["Building"];return Btn_roomTitleStruct}(fairygui.GButton));Building.Btn_roomTitleStruct=Btn_roomTitleStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var Btn_roomTitle=(function(_super){__extends(Btn_roomTitle,_super);function Btn_roomTitle(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_roomTitle}(Building.Btn_roomTitleStruct));Building.Btn_roomTitle=Btn_roomTitle})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildFloorAlertStruct=(function(_super){__extends(BuildFloorAlertStruct,_super);function BuildFloorAlertStruct(){return _super.call(this)||this}BuildFloorAlertStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildFloorAlert"))};BuildFloorAlertStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_alert_title=(this.getChild("alert_title"));this.m_assetIcon=(this.getChild("assetIcon"));this.m_assetNum=(this.getChild("assetNum"));this.m_btn_close=(this.getChild("btn_close"));this.m_btn_confirm=(this.getChild("btn_confirm"))};BuildFloorAlertStruct.URL="ui://d062jvkgcpc911m";BuildFloorAlertStruct.DependPackages=["Building"];return BuildFloorAlertStruct}(fairygui.GComponent));Building.BuildFloorAlertStruct=BuildFloorAlertStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildFloorAlert=(function(_super){__extends(BuildFloorAlert,_super);function BuildFloorAlert(){return _super!==null&&_super.apply(this,arguments)||this}return BuildFloorAlert}(Building.BuildFloorAlertStruct));Building.BuildFloorAlert=BuildFloorAlert})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildListItemIconStruct=(function(_super){__extends(BuildListItemIconStruct,_super);function BuildListItemIconStruct(){return _super.call(this)||this}BuildListItemIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildListItemIcon"))};BuildListItemIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_room_icon=(this.getChild("room_icon"))};BuildListItemIconStruct.URL="ui://d062jvkgfv9e13b";BuildListItemIconStruct.DependPackages=["Building"];return BuildListItemIconStruct}(fairygui.GComponent));Building.BuildListItemIconStruct=BuildListItemIconStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildListItemIcon=(function(_super){__extends(BuildListItemIcon,_super);function BuildListItemIcon(){return _super!==null&&_super.apply(this,arguments)||this}return BuildListItemIcon}(Building.BuildListItemIconStruct));Building.BuildListItemIcon=BuildListItemIcon})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomStruct=(function(_super){__extends(BuildRoomStruct,_super);function BuildRoomStruct(){return _super.call(this)||this}BuildRoomStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoom"))};BuildRoomStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Button=this.getController("Button");this.m_frame=(this.getChild("frame"));this.m_buildFloorInfo=(this.getChild("buildFloorInfo"));this.m_failReason=(this.getChild("failReason"));this.m_buildScene=(this.getChild("buildScene"));this.m_btn_roomName=(this.getChild("btn_roomName"));this.m_btn_buildRoom=(this.getChild("btn_buildRoom"));this.m_btn_buildFloor=(this.getChild("btn_buildFloor"));this.m_effectContainer=(this.getChild("effectContainer"))};BuildRoomStruct.URL="ui://d062jvkgor9t1";BuildRoomStruct.DependPackages=["Building"];return BuildRoomStruct}(fairygui.GComponent));Building.BuildRoomStruct=BuildRoomStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarManager=Games.AvatarManager;var BuildRoom=(function(_super){__extends(BuildRoom,_super);function BuildRoom(){var _this=_super.call(this)||this;_this.routeYList=[40,50];_this.roomTextureUrl="";_this.isInitLoadRoomTexture=false;_this.point=new Point();_this.buildFxSprite=new Sprite();_this.isUnBuildFloor=false;_this.avatarList=[];_this.floorInfo=new Games.FloorInfo();_this.roomInfo=new Games.RoomInfo();Laya.timer.loop(50,_this,_this.onTimeLoadTextureOnScreen,null,true,true);return _this}BuildRoom.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoom"))};BuildRoom.prototype.onTimeLoadTextureOnScreen=function(){this.point.x=0;this.point.y=0;var globalPos=this.displayObject.localToGlobal(this.point);if(globalPos.y+this.height>=0&&globalPos.y<=Laya.stage.height){this.tryLoadBuildTexture()}};BuildRoom.prototype.tryLoadBuildTexture=function(){if(this.roomTextureUrl!=""){if(!this.isInitLoadRoomTexture){console.log("load floor "+this.floorInfo.index+" texture");this.isInitLoadRoomTexture=true;this.m_buildScene.m_loader.url=this.roomTextureUrl;Laya.timer.clear(this,this.onTimeLoadTextureOnScreen)}}};Object.defineProperty(BuildRoom.prototype,"isBuilded",{get:function(){return this.roomInfo.id!=0},enumerable:true,configurable:true});Object.defineProperty(BuildRoom.prototype,"roomWidth",{get:function(){return this.m_buildScene.m_avatarContainer0.width},enumerable:true,configurable:true});Object.defineProperty(BuildRoom.prototype,"roomHeight",{get:function(){return this.m_buildScene.m_avatarContainer0.height},enumerable:true,configurable:true});BuildRoom.prototype.init=function(){this.m_btn_roomName.getChild("title").text=format(Games.TEXT.Floor,this.floorInfo.index);this.m_btn_buildFloor.getChild("Title").text=format(Games.TEXT.BuildFloor,this.floorInfo.index);this.m_failReason.visible=false;this.m_btn_buildRoom.visible=false;this.displayObject.addChild(this.buildFxSprite)};BuildRoom.prototype.buildFloor=function(){this.roomTextureUrl=Res.getRoom("expansion");this.isUnBuildFloor=true};BuildRoom.prototype.waitBuindRoom=function(){this.m_btn_buildFloor.visible=false;this.m_btn_buildRoom.visible=true;this.isUnBuildFloor=false;this.roomTextureUrl=Res.getRoom("construct")};BuildRoom.prototype.onBuildComplete=function(info){this.m_btn_buildRoom.visible=false;this.m_failReason.visible=false;this.setInfo(info);this.installRoomProcesser()};BuildRoom.prototype.setInfo=function(info){this.roomInfo=info;this.floorInfo.index=info.floor;this.name=info.name;var cfg=Game.config.buildingLevel.getConfig(info.id);this.m_btn_roomName.getChild("title").text=this.name+" "+format(Games.TEXT.Lv,cfg.level);this.roomTextureUrl=Res.getRoom(info.type);this.m_btn_buildFloor.visible=false;this.m_btn_buildRoom.visible=false;this.m_buildScene.m_loader.touchable=false;this.m_buildScene.m_canvasContainer.touchable=false;this.isUnBuildFloor=false};BuildRoom.prototype.updateLoaderTexture=function(){this.m_buildScene.m_loader.url=this.roomTextureUrl};BuildRoom.prototype.installRoomProcesser=function(){var processerData=Games.BuildingProcessMgr.get(this.roomInfo.type);if(processerData){this.processer=new processerData.newClass();this.processer.init(this)}};BuildRoom.prototype.setRoomFrameVisible=function(val){this.m_frame.visible=val;this.m_btn_roomName.visible=val;this.m_buildScene.m_bg.visible=val;if(!val){this.tryLoadBuildTexture();this.setSceneSizeForSource();this.visible=true}else{this.setSceneSizeForState()}};BuildRoom.prototype.showFailBuildFloorReason=function(reason){this.m_failReason.visible=true;this.m_btn_buildFloor.visible=false;this.m_buildFloorInfo.text=reason};BuildRoom.prototype.hideFailBuildFloorReason=function(){this.m_failReason.visible=false;this.m_btn_buildFloor.visible=this.isUnBuildFloor};BuildRoom.prototype.showBuildEffect=function(){if(!this.buildEffect){this.buildEffect=fgui.Fx.Effect_build02.createInstance()}this.m_effectContainer.addChild(this.buildEffect);var animTrans=this.buildEffect.getTransition("t000");if(animTrans){animTrans.play();this.buildEffect.visible=true}};BuildRoom.prototype.clearBuildEffect=function(){if(this.buildEffect){var animTrans=this.buildEffect.getTransition("t000");if(animTrans){animTrans.stop();this.buildEffect.visible=false;this.buildEffect.removeFromParent()}}};BuildRoom.prototype.addAvatar=function(avatar,container){this.avatarList.push(avatar);avatar.setRoomInfo(this.roomInfo);container.displayObject.addChild(avatar);Game.moduleModel.building.addAvatar(this.roomInfo.type,avatar.info)};BuildRoom.prototype.removeAvatar=function(avatar){var index=this.avatarList.findIndex(function(value){return value.uid==avatar.uid});var ainfo=avatar.info;if(index!=-1){Game.moduleModel.building.removeAvatar(this.roomInfo.type,avatar.uid);this.avatarList.splice(index,1)[0].dispose()}};BuildRoom.prototype.clearAllAvatar=function(){for(var i=this.avatarList.length-1;i>=0;i--){this.removeAvatar(this.avatarList[i])}this.avatarList.length=0};BuildRoom.prototype.forEachAvatar=function(func){this.avatarList.forEach(function(value,index,array){if(func){func(value)}})};BuildRoom.prototype.avatarEnter=function(avatarInfo,direction,onEvent,route,isBornFixedPos){var _this=this;var enterFunc=function(){Game.moduleModel.building.addAvatar(_this.roomInfo.type,avatar.info);avatar.direction=direction;var routeY=_this.routeYList[Random.range(0,_this.routeYList.length)];var container;if(routeY==_this.routeYList[0]){container=_this.m_buildScene.m_avatarContainer1}else{container=_this.m_buildScene.m_avatarContainer0}if(route){if(route==Games.DirtionType.Down){routeY=_this.routeYList[0];container=_this.m_buildScene.m_avatarContainer1}else{routeY=_this.routeYList[1];container=_this.m_buildScene.m_avatarContainer0}}container.displayObject.addChild(avatar);avatar.y=_this.roomHeight-routeY;if(direction==Games.DirtionType.Left){avatar.pos(Laya.stage.width+100,avatar.y)}else{avatar.pos(-100,avatar.y)}avatar.setRoomInfo(_this.roomInfo);avatar.openShadow();avatar.enter(onEvent,isBornFixedPos);_this.avatarList.push(avatar)};var avatar=AvatarManager.getRoomAvatar(avatarInfo.uid);if(avatar!=null){avatar.visible=true;enterFunc()}else{avatar=Games.Avatar.RoomCreate(avatarInfo,function(info){enterFunc();AvatarManager.addRoomAvatar(avatar)})}};BuildRoom.prototype.onAvatarEnter=function(avatarUid){};BuildRoom.prototype.avatarLeave=function(avatarUid,onEvent,isRun){var avatar=this.getAvatar(avatarUid);if(avatar){avatar.leave(onEvent,isRun)}};BuildRoom.prototype.onAvatarLeave=function(avatarUid){Game.moduleModel.building.removeAvatar(this.roomInfo.type,avatarUid);for(var i=0;i<this.avatarList.length;i++){var avatar=this.avatarList[i];if(avatar.uid==avatarUid){if(AvatarManager.hasRoomAvatar(avatarUid)){avatar.visible=false}else{avatar.dispose()}this.avatarList.splice(i,1);break}}};BuildRoom.prototype.getAvatar=function(avatarUid){return this.avatarList.findOne(function(value){return value.uid==avatarUid})};BuildRoom.prototype.getAvatarById=function(id){return this.avatarList.findOne(function(value){return value.info.id==id})};BuildRoom.prototype.executeActionEvents=function(avatarUid,eventList){var avatar=this.avatarList.findOne(function(value){return value.uid==avatarUid});if(avatar){avatar.executeActionEvents(eventList)}};BuildRoom.prototype.executeLeaveRoomForEach=function(onEvent,exceptAvatarId){if(onEvent){this.avatarList.forEach(function(value,index,array){if(value.info.type==Games.AvatarType.Actor){if(value.info.id!=exceptAvatarId){value.endEvent(false);value.leave(onEvent)}}})}};BuildRoom.prototype.onRoomInScreen=function(){this.avatarList.forEach(function(value,index,array){value.inScreen()})};BuildRoom.prototype.onRoomOutScreen=function(){this.avatarList.forEach(function(value,index,array){value.outScreen()})};BuildRoom.prototype.onRoomPauseEvent=function(){this.avatarList.forEach(function(value,index,array){value.isPause=true})};BuildRoom.prototype.onRoomResumeEvent=function(){this.avatarList.forEach(function(value,index,array){value.isPause=false})};BuildRoom.prototype.setSceneSizeForState=function(){this.width=ScreenSetting.screenWidth;var scale=this.width/this.sourceWidth;this.height=this.sourceHeight*scale;this.m_buildScene.setScale(scale,scale)};BuildRoom.prototype.setSceneSizeForSource=function(){this.width=this.sourceWidth;this.height=this.sourceHeight;var scale=this.width/this.m_buildScene.sourceWidth;this.m_buildScene.setScale(scale,scale)};BuildRoom.prototype.setSceenSize=function(width,height){this.width=width;var scale=this.width/this.sourceWidth;this.height=this.sourceHeight*scale;scale=this.width/this.m_buildScene.sourceWidth;this.m_buildScene.setScale(scale,scale);console.log("setSceenSize "+this.name)};BuildRoom.URL="ui://d062jvkgor9t1";return BuildRoom}(Building.BuildRoomStruct));Building.BuildRoom=BuildRoom})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomListStruct=(function(_super){__extends(BuildRoomListStruct,_super);function BuildRoomListStruct(){return _super.call(this)||this}BuildRoomListStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoomList"))};BuildRoomListStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_roomList=(this.getChild("roomList"));this.m_topAsset=(this.getChild("topAsset"))};BuildRoomListStruct.URL="ui://d062jvkgcpc911f";BuildRoomListStruct.DependPackages=["Building","Common"];return BuildRoomListStruct}(fairygui.GComponent));Building.BuildRoomListStruct=BuildRoomListStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomList=(function(_super){__extends(BuildRoomList,_super);function BuildRoomList(){var _this=_super.call(this)||this;_this.roomInfoList=[];return _this}BuildRoomList.prototype.onWindowInited=function(){};BuildRoomList.prototype.onWindowShow=function(){};BuildRoomList.prototype.onWindowHide=function(){};BuildRoomList.prototype.init=function(floor){this.setTopAssets();this.floor=floor;this.roomInfoList.length=0;var configRooms=this.getBuildRoomList();for(var _i=0,configRooms_1=configRooms;_i<configRooms_1.length;_i++){var room=configRooms_1[_i];var info=new Games.RoomInfo();info.id=room.id;info.name=room.name;info.type=room.type;if(this.isRoomBuilded(room.type)){info.isBuilded=true}this.roomInfoList.push(info)}this.showRoomList()};BuildRoomList.prototype.setTopAssets=function(){this.m_topAsset.m_assetList.removeChildrenToPool();var asset=this.m_topAsset.m_assetList.addItemFromPool();asset.setItemId(Games.AssetType.Tile);this.m_topAsset.m_assetList.addChild(asset);asset=this.m_topAsset.m_assetList.addItemFromPool();asset.setItemId(Games.AssetType.Glass);this.m_topAsset.m_assetList.addChild(asset);asset=this.m_topAsset.m_assetList.addItemFromPool();asset.setItemId(Games.AssetType.Wood);this.m_topAsset.m_assetList.addChild(asset);asset=this.m_topAsset.m_assetList.addItemFromPool();asset.setItemId(Games.AssetType.Cement);this.m_topAsset.m_assetList.addChild(asset);this.m_topAsset.displayObject.cacheAs="bitmap"};BuildRoomList.prototype.showRoomList=function(){var _this=this;var sortId=function(valA,valB){return valA.id-valB.id};var sortHasBuild=function(valA,valB){if(valA.isBuilded&&!valB.isBuilded){return 1}else{if(!valA.isBuilded&&valB.isBuilded){return -1}}return sortId(valA,valB)};this.roomInfoList=this.roomInfoList.sort(function(valA,valB){var checkA=_this.checkAll(valA);var checkB=_this.checkAll(valB);if(checkA.result&&!checkB.result){return -1}else{if(!checkA.result&&checkB.result){return 1}else{return sortHasBuild(valA,valB)}}});this.m_roomList.scrollItemToViewOnClick=false;this.m_roomList.removeChildrenToPool();for(var _i=0,_a=this.roomInfoList;_i<_a.length;_i++){var roomInfo=_a[_i];var buildRoom=this.m_roomList.addItemFromPool();buildRoom.setInfo(roomInfo);this.m_roomList.addChild(buildRoom);buildRoom.m_btn_roomTip.onClick(this,this.onRoomTip);if(!roomInfo.isBuilded){buildRoom.m_touch.onClick(this,this.onRoomSelect,[roomInfo])}var checkAll=this.checkAll(roomInfo);if(!checkAll.result){buildRoom.setBuildLock(checkAll.reason)}}this.m_topAsset.m_btn_topClose.onClick(this,this.onClose)};BuildRoomList.prototype.checkAll=function(roomInfo){var checkResult={result:true,reason:""};var checkIsBuilded=this.checkIsBuilded(roomInfo);var checkLevel=this.checkLevel(roomInfo);var checkBlock=this.checkBlock(roomInfo);var checkPrevTypeLevel=this.checkPrevTypeLevel(roomInfo);if(!checkIsBuilded.result){checkResult.result=false;checkResult.reason+=checkIsBuilded.reason;return checkResult}if(!checkLevel.result){checkResult.result=false;checkResult.reason+=checkLevel.reason+";"}if(!checkBlock.result){checkResult.result=false;checkResult.reason+=checkBlock.reason+";"}if(!checkPrevTypeLevel.result){checkResult.result=false;checkResult.reason+=checkPrevTypeLevel.reason+";"}checkResult.reason=checkResult.reason.replace(";;",";");checkResult.reason=checkResult.reason.substring(0,checkResult.reason.length-1);return checkResult};BuildRoomList.prototype.checkPrevTypeLevel=function(roomInfo){var checkResult={result:true,reason:""};var typeLevelList=Game.config.buildingLevel.getConfig(roomInfo.id).type_level;for(var _i=0,typeLevelList_1=typeLevelList;_i<typeLevelList_1.length;_i++){var typeLevel=typeLevelList_1[_i];if(typeLevel.type!=roomInfo.type){var buildRoomInfo=Game.moduleModel.building.getRoomByType(typeLevel.type);if(!buildRoomInfo){checkResult.result=false;var lv=typeLevel.level==1?"":typeLevel.level;var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_prebuilding,this.getRoomNameByType(typeLevel.type),lv);checkResult.reason+=msg+";"}else{if(buildRoomInfo.level<typeLevel.level){checkResult.result=false;var lv=typeLevel.level==1?"":typeLevel.level;var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_prebuilding,this.getRoomNameByType(typeLevel.type),lv);checkResult.reason+=msg+";"}}}}return checkResult};BuildRoomList.prototype.checkIsBuilded=function(roomInfo){var checkResult={result:true,reason:""};if(roomInfo.isBuilded){checkResult.result=false;checkResult.reason=Game.config.msg.getTxt(MsgKey.build_be_builded)}return checkResult};BuildRoomList.prototype.checkLevel=function(roomInfo){var checkResult={result:true,reason:""};var levelReq=Game.config.buildingLevel.getConfig(roomInfo.id).level_req;if(levelReq>User.info.level){checkResult.result=false;var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_level,levelReq);checkResult.reason=msg;return checkResult}return checkResult};BuildRoomList.prototype.checkBlock=function(roomInfo){var checkResult={result:true,reason:""};var blockReq=Game.config.buildingLevel.getConfig(roomInfo.id).block_req;if(blockReq>User.info.stall){checkResult.result=false;var blockCfg=Game.config.blockLevel.getConfig(blockReq);var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_block,blockCfg.name);checkResult.reason=msg;return checkResult}return checkResult};BuildRoomList.prototype.getRoomNameByType=function(roomType){var list=Game.config.buildingLevel.getConfigList();for(var _i=0,list_1=list;_i<list_1.length;_i++){var room=list_1[_i];if(room.type==roomType){return room.name}}};BuildRoomList.prototype.onRoomSelect=function(roomInfo){var _this=this;if(this.checkCost(roomInfo)){var checkAll=this.checkAll(roomInfo);if(!checkAll.result){return}if(roomInfo.isBuilded){return}Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.build_confirm,roomInfo.name),"",null,function(){Game.sound.playSound(SoundKey.MM06_Building);Game.protosender.CinemaBuild.BuildRoom(_this.floor,roomInfo.type);_this.dispose()},null)}};BuildRoomList.prototype.onRoomTip=function(){};BuildRoomList.prototype.checkCost=function(roomInfo){var costItemList=Game.config.buildingLevel.getConfig(roomInfo.id).cost;for(var _i=0,costItemList_1=costItemList;_i<costItemList_1.length;_i++){var cost=costItemList_1[_i];var itemcfg=Game.config.item.getConfig(cost.itemId);var hasItemNum=Game.moduleModel.item.getItemNum(cost.itemId);if(cost.itemNum>hasItemNum){Game.system.openItemWay(cost.itemId,cost.itemNum);return false}}return true};BuildRoomList.prototype.isRoomBuilded=function(type){var buildingRoomInfoList=Game.moduleModel.building.getInfoList();for(var _i=0,buildingRoomInfoList_1=buildingRoomInfoList;_i<buildingRoomInfoList_1.length;_i++){var info=buildingRoomInfoList_1[_i];if(info.type==type){return true}}return false};BuildRoomList.prototype.getBuildRoomList=function(){var result=[];var roomListConfig=Game.config.buildingLevel.getConfigList();for(var _i=0,roomListConfig_1=roomListConfig;_i<roomListConfig_1.length;_i++){var source=roomListConfig_1[_i];var isMatch=false;for(var _a=0,result_1=result;_a<result_1.length;_a++){var des=result_1[_a];if(des.type==source.type){isMatch=true}}if(!isMatch){result.push(source)}}return result};BuildRoomList.prototype.dispose=function(){Game.menu.close(MenuId.BuildRoomList);Game.guide.resetGuidesFinished()};BuildRoomList.prototype.onClose=function(){this.dispose()};BuildRoomList.prototype.getRoomAndScrollTop=function(roomType){var index=this.getRoomIndexByType(roomType);if(index<0||index>this.m_roomList.numChildren-1){return}this.m_roomList.scrollToView(index,false,true);return this.m_roomList.getChildAt(index)};BuildRoomList.prototype.getRoomIndexByType=function(roomType){var num=this.m_roomList.numChildren;for(var i=0;i<num;i++){var roomInfoItem=this.m_roomList.getChildAt(i);if(roomInfoItem.info.type==roomType){return i}}return -1};return BuildRoomList}(Building.BuildRoomListStruct));Building.BuildRoomList=BuildRoomList})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomTipsStruct=(function(_super){__extends(BuildRoomTipsStruct,_super);function BuildRoomTipsStruct(){return _super.call(this)||this}BuildRoomTipsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoomTips"))};BuildRoomTipsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_effectText1=(this.getChild("effectText1"));this.m_effectValue1=(this.getChild("effectValue1"));this.m_effectText2=(this.getChild("effectText2"));this.m_effectValue2=(this.getChild("effectValue2"));this.m_t0=this.getTransition("t0")};BuildRoomTipsStruct.URL="ui://d062jvkgi24u12c";BuildRoomTipsStruct.DependPackages=["Building","Common"];return BuildRoomTipsStruct}(fairygui.GComponent));Building.BuildRoomTipsStruct=BuildRoomTipsStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomTips=(function(_super){__extends(BuildRoomTips,_super);function BuildRoomTips(){return _super!==null&&_super.apply(this,arguments)||this}return BuildRoomTips}(Building.BuildRoomTipsStruct));Building.BuildRoomTips=BuildRoomTips})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomUpgradeStruct=(function(_super){__extends(BuildRoomUpgradeStruct,_super);function BuildRoomUpgradeStruct(){return _super.call(this)||this}BuildRoomUpgradeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoomUpgrade"))};BuildRoomUpgradeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_minImage=(this.getChild("minImage"));this.m_bg=(this.getChild("bg"));this.m_txt_name=(this.getChild("txt_name"));this.m_needAssetList=(this.getChild("needAssetList"));this.m_maxLevelDesc=(this.getChild("maxLevelDesc"));this.m_maxLevelGroup=(this.getChild("maxLevelGroup"));this.m_topAsset=(this.getChild("topAsset"));this.m_curLevelProp=(this.getChild("curLevelProp"));this.m_nextLevelProp=(this.getChild("nextLevelProp"));this.m_btn_confirm=(this.getChild("btn_confirm"));this.m_btn_levelup=(this.getChild("btn_levelup"))};BuildRoomUpgradeStruct.URL="ui://d062jvkg8zgr3o";BuildRoomUpgradeStruct.DependPackages=["Building","Common"];return BuildRoomUpgradeStruct}(fairygui.GComponent));Building.BuildRoomUpgradeStruct=BuildRoomUpgradeStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var MenuLayer=Games.MenuLayer;var BuildRoomUpgrade=(function(_super){__extends(BuildRoomUpgrade,_super);function BuildRoomUpgrade(){return _super!==null&&_super.apply(this,arguments)||this}BuildRoomUpgrade.prototype.onWindowInited=function(){};BuildRoomUpgrade.prototype.onWindowDestory=function(){console.log("123")};BuildRoomUpgrade.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_UpgradeRoom,this.onServerRoomUpgrade,this)};BuildRoomUpgrade.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.CinemaBuild_UpgradeRoom,this.onServerRoomUpgrade,this)};BuildRoomUpgrade.prototype.onServerRoomUpgrade=function(msg){var roomInfo=Game.moduleModel.building.getRoomInfo(msg.roomId);this.setInfo(roomInfo);this.onUpgradeSuccess()};BuildRoomUpgrade.prototype.setInfo=function(info){this.info=info;var maxLevel=this.getBuildRoomMaxLevel(info.type);var curentCfg=Game.config.buildingLevel.getConfig(info.id);var nextId=info.id+1;var nextCfg=Game.config.buildingLevel.getConfig(nextId);this.m_minImage.url=Res.getRoom(info.type);this.m_btn_levelup.m_title.text=TEXT.BuildLevelup;this.m_btn_confirm.m_title.text=TEXT.BuildConfirm;this.setCurrentProp(curentCfg);this.setNextProp(nextCfg);this.setLevelupCost(nextCfg);if(curentCfg.level<maxLevel){this.m_btn_levelup.visible=true;this.m_btn_confirm.visible=false;this.m_maxLevelGroup.visible=false;this.m_txt_name.text=info.name}else{this.m_txt_name.text=info.name;this.m_btn_confirm.visible=false;this.m_btn_levelup.visible=false;this.m_maxLevelGroup.visible=true;this.m_nextLevelProp.m_list.removeChildrenToPool();this.m_nextLevelProp.m_title.text="";this.m_needAssetList.removeChildrenToPool()}this.m_topAsset.m_btn_topClose.onClick(this,this.onClose);this.m_btn_confirm.onClick(this,this.onConfirm);this.m_btn_levelup.onClick(this,this.onUpgradeClick);if(this.checkLevelCondition()){FguiHelper.clearFilters(this.m_btn_levelup)}else{FguiHelper.setGray(this.m_btn_levelup);this.m_btn_levelup.m_title.text=format(Games.TEXT.CompanyLevel,nextCfg.level_req)}this.displayObject.cacheAs="bitmap"};BuildRoomUpgrade.prototype.setCurrentProp=function(cfg){this.m_curLevelProp.m_title.text=format(TEXT.BuildLevel,cfg.level);this.m_curLevelProp.m_list.removeChildrenToPool();var effects=cfg.effect_id;for(var _i=0,effects_1=effects;_i<effects_1.length;_i++){var effectId=effects_1[_i];var effectCfg=Game.config.buildingEffect.getConfig(effectId);var itemProp=this.m_curLevelProp.m_list.addItemFromPool();itemProp.getChild("title").text=effectCfg.effect_des;this.m_curLevelProp.m_list.addChild(itemProp)}};BuildRoomUpgrade.prototype.setNextProp=function(cfg){if(cfg==null){return}this.m_nextLevelProp.m_title.text=format(TEXT.BuildLevel,cfg.level);this.m_nextLevelProp.m_list.removeChildrenToPool();var effects=cfg.effect_id;for(var _i=0,effects_2=effects;_i<effects_2.length;_i++){var effectId=effects_2[_i];var effectCfg=Game.config.buildingEffect.getConfig(effectId);var itemProp=this.m_nextLevelProp.m_list.addItemFromPool();itemProp.getChild("title").text=effectCfg.effect_des;this.m_nextLevelProp.m_list.addChild(itemProp)}};BuildRoomUpgrade.prototype.setLevelupCost=function(cfg){if(cfg==null){return}this.setTopAsset(cfg);this.m_needAssetList.removeChildren();var costList=cfg.cost;for(var _i=0,costList_1=costList;_i<costList_1.length;_i++){var costItem=costList_1[_i];var itemCfg=Game.config.item.getConfig(costItem.itemId);var userItem=Game.moduleModel.item.getItem(costItem.itemId);var asset=this.m_needAssetList.addItemFromPool();asset.setEnoughInfo(userItem.itemIconUrl,costItem.itemId,costItem.itemNum);this.m_needAssetList.addChild(asset)}};BuildRoomUpgrade.prototype.setTopAsset=function(cfg){this.m_topAsset.m_assetList.removeChildrenToPool();var costList=cfg.cost;for(var _i=0,costList_2=costList;_i<costList_2.length;_i++){var costItem=costList_2[_i];var userItem=Game.moduleModel.item.getItem(costItem.itemId);var itemNum=Game.moduleModel.item.getItemNum(costItem.itemId);var assetItem=this.m_topAsset.m_assetList.addItemFromPool();assetItem.setInfo(userItem.itemIconUrl,itemNum);this.m_topAsset.m_assetList.addChild(assetItem)}};BuildRoomUpgrade.prototype.checkCondition=function(){var nextId=this.info.id+1;var buildConfig=Game.config.buildingLevel.getConfig(nextId);if(buildConfig!=null){if(User.info.level<buildConfig.level_req){var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_level,buildConfig.level_req);Game.system.toastText(msg);return false}for(var _i=0,_a=buildConfig.cost;_i<_a.length;_i++){var cost=_a[_i];var hasItemNum=Game.moduleModel.item.getItemNum(cost.itemId);if(hasItemNum<cost.itemNum){var itemCfg=Game.config.item.getConfig(cost.itemId);var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_material,itemCfg.name);Game.system.openItemWay(cost.itemId,cost.itemNum);return false}}}return true};BuildRoomUpgrade.prototype.checkLevelCondition=function(){var nextId=this.info.id+1;var buildConfig=Game.config.buildingLevel.getConfig(nextId);if(buildConfig!=null){if(User.info.level<buildConfig.level_req){return false}}return true};BuildRoomUpgrade.prototype.getBuildRoomMaxLevel=function(type){var roomListConfig=Game.config.buildingLevel.getConfigList();var result=roomListConfig.filter(function(value,index,array){return value.type==type});return result.length};BuildRoomUpgrade.prototype.onUpgradeClick=function(){if(this.checkCondition()){Game.sound.playSound(SoundKey.MM06_Building);Game.protosender.CinemaBuild.UpgradeRoom(this.info.id)}};BuildRoomUpgrade.prototype.onUpgradeSuccess=function(){var buildRoomUpgradeSuccess=Building.BuildRoomUpgradeSuccess.createInstance();buildRoomUpgradeSuccess.init(this.info);MenuLayer.module.addChild(buildRoomUpgradeSuccess);this.onClose()};BuildRoomUpgrade.prototype.onConfirm=function(){this.onClose()};BuildRoomUpgrade.prototype.onClose=function(){Game.menu.close(MenuId.BuildRoomUpgrade)};BuildRoomUpgrade.prototype.btnLevelUp=function(type){if(this.info.type==type){return this.m_btn_levelup}return null};return BuildRoomUpgrade}(Building.BuildRoomUpgradeStruct));Building.BuildRoomUpgrade=BuildRoomUpgrade})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomUpgradeSuccessStruct=(function(_super){__extends(BuildRoomUpgradeSuccessStruct,_super);function BuildRoomUpgradeSuccessStruct(){return _super.call(this)||this}BuildRoomUpgradeSuccessStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildRoomUpgradeSuccess"))};BuildRoomUpgradeSuccessStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_porpList=(this.getChild("porpList"));this.m_n18_fireworks02=(this.getChild("n18_fireworks02"));this.m_n17_fireworks01=(this.getChild("n17_fireworks01"));this.m_effectGroup=(this.getChild("effectGroup"));this.m_btn_confirm=(this.getChild("btn_confirm"));this.m_n16_levelup002=(this.getChild("n16_levelup002"));this.m_t0=this.getTransition("t0")};BuildRoomUpgradeSuccessStruct.URL="ui://d062jvkgcpc911n";BuildRoomUpgradeSuccessStruct.DependPackages=["Building","Fx","Common"];return BuildRoomUpgradeSuccessStruct}(fairygui.GComponent));Building.BuildRoomUpgradeSuccessStruct=BuildRoomUpgradeSuccessStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildRoomUpgradeSuccess=(function(_super){__extends(BuildRoomUpgradeSuccess,_super);function BuildRoomUpgradeSuccess(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.childIndex=-1;_this.propItemOrginalX=0;return _this}BuildRoomUpgradeSuccess.prototype.init=function(info){var _this=this;this.info=info;var level=Game.config.buildingLevel.getConfig(info.id).level;this.m_effectGroup.m_roomName.text=info.name+format(Games.TEXT.BuildUpgrade,level);var effects=Game.config.buildingLevel.getConfig(info.id).effect_id;this.m_porpList.removeChildrenToPool();for(var _i=0,effects_1=effects;_i<effects_1.length;_i++){var effectId=effects_1[_i];var cfg=Game.config.buildingEffect.getConfig(effectId);var propItem=this.m_porpList.addItemFromPool();propItem.getChild("title").text="[color=#e3b121]"+cfg.effect_des+"[/color]";this.m_porpList.addChild(propItem);this.propItemOrginalX=propItem.x}this.setBuildIcon();this.m_btn_confirm.m_title.text=TEXT.ButtonOk;this.m_btn_confirm.onClick(this,this.onConfirm);var duration=300;FguiHelper.boundEffect(this.m_effectGroup,duration);setTimeout(function(){_this.startTweenPropItem()},duration)};BuildRoomUpgradeSuccess.prototype.startTweenPropItem=function(){Laya.timer.loop(500,this,this.onTweenPropItem,null,true,true);for(var i=0;i<this.m_porpList.numChildren;i++){var item=this.m_porpList.getChildAt(i);item.x=Laya.stage.width}};BuildRoomUpgradeSuccess.prototype.onTweenPropItem=function(){this.childIndex++;if(this.childIndex>=this.m_porpList.numChildren){Laya.timer.clear(this,this.onTweenPropItem);return}var item=this.m_porpList.getChildAt(this.childIndex);var endY=item.y;item.x=this.propItemOrginalX;item.y=endY+this.m_porpList.height;Laya.Tween.to(item,{y:endY},300,Laya.Ease.linearIn,Handler.create(null,function(target){},[item]),0,true,true)};BuildRoomUpgradeSuccess.prototype.setBuildIcon=function(){this.m_effectGroup.m_roomFrame.m_room_icon.url=Res.getRoom(this.info.type)};BuildRoomUpgradeSuccess.prototype.onConfirm=function(){Laya.timer.clear(this,this.onTweenPropItem);this.parent.removeChild(this)};return BuildRoomUpgradeSuccess}(Building.BuildRoomUpgradeSuccessStruct));Building.BuildRoomUpgradeSuccess=BuildRoomUpgradeSuccess})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildSceneStruct=(function(_super){__extends(BuildSceneStruct,_super);function BuildSceneStruct(){return _super.call(this)||this}BuildSceneStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildScene"))};BuildSceneStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_loader=(this.getChild("loader"));this.m_scenePart=(this.getChild("scenePart"));this.m_avatarContainer0=(this.getChild("avatarContainer0"));this.m_avatarContainer1=(this.getChild("avatarContainer1"));this.m_canvasContainer=(this.getChild("canvasContainer"))};BuildSceneStruct.URL="ui://d062jvkgnjm312o";BuildSceneStruct.DependPackages=["Building","Common"];return BuildSceneStruct}(fairygui.GComponent));Building.BuildSceneStruct=BuildSceneStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene=(function(_super){__extends(BuildScene,_super);function BuildScene(){return _super!==null&&_super.apply(this,arguments)||this}return BuildScene}(Building.BuildSceneStruct));Building.BuildScene=BuildScene})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene1Struct=(function(_super){__extends(BuildScene1Struct,_super);function BuildScene1Struct(){return _super.call(this)||this}BuildScene1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildScene1"))};BuildScene1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_chair1=(this.getChild("chair1"));this.m_sit_group1=(this.getChild("sit_group1"));this.m_chair2=(this.getChild("chair2"));this.m_sit_group2=(this.getChild("sit_group2"));this.m_sit0=(this.getChild("sit0"));this.m_sit3=(this.getChild("sit3"));this.m_sit2=(this.getChild("sit2"));this.m_sit1=(this.getChild("sit1"));this.m_sit4=(this.getChild("sit4"));this.m_sit5=(this.getChild("sit5"))};BuildScene1Struct.URL="ui://d062jvkgnjm312p";BuildScene1Struct.DependPackages=["Building"];return BuildScene1Struct}(fairygui.GComponent));Building.BuildScene1Struct=BuildScene1Struct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene1=(function(_super){__extends(BuildScene1,_super);function BuildScene1(){return _super!==null&&_super.apply(this,arguments)||this}return BuildScene1}(Building.BuildScene1Struct));Building.BuildScene1=BuildScene1})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene13Struct=(function(_super){__extends(BuildScene13Struct,_super);function BuildScene13Struct(){return _super.call(this)||this}BuildScene13Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildScene13"))};BuildScene13Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trainSit5=(this.getChild("trainSit5"));this.m_trainSit4=(this.getChild("trainSit4"));this.m_trainSit3=(this.getChild("trainSit3"));this.m_trainSit2=(this.getChild("trainSit2"));this.m_trainSit1=(this.getChild("trainSit1"))};BuildScene13Struct.URL="ui://d062jvkgnjm312q";BuildScene13Struct.DependPackages=["Building"];return BuildScene13Struct}(fairygui.GComponent));Building.BuildScene13Struct=BuildScene13Struct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene13=(function(_super){__extends(BuildScene13,_super);function BuildScene13(){return _super!==null&&_super.apply(this,arguments)||this}return BuildScene13}(Building.BuildScene13Struct));Building.BuildScene13=BuildScene13})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene3Struct=(function(_super){__extends(BuildScene3Struct,_super);function BuildScene3Struct(){return _super.call(this)||this}BuildScene3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildScene3"))};BuildScene3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pos1=(this.getChild("pos1"));this.m_pos2=(this.getChild("pos2"));this.m_btnNpcTip1=(this.getChild("btnNpcTip1"));this.m_btnNpcTip2=(this.getChild("btnNpcTip2"))};BuildScene3Struct.URL="ui://d062jvkggy5h13s";BuildScene3Struct.DependPackages=["Building","Common"];return BuildScene3Struct}(fairygui.GComponent));Building.BuildScene3Struct=BuildScene3Struct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScene3=(function(_super){__extends(BuildScene3,_super);function BuildScene3(){return _super!==null&&_super.apply(this,arguments)||this}return BuildScene3}(Building.BuildScene3Struct));Building.BuildScene3=BuildScene3})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildSceneFilmEnterStruct=(function(_super){__extends(BuildSceneFilmEnterStruct,_super);function BuildSceneFilmEnterStruct(){return _super.call(this)||this}BuildSceneFilmEnterStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildSceneFilmEnter"))};BuildSceneFilmEnterStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_screenlight=(this.getChild("screenlight"));this.m_filmlight=(this.getChild("filmlight"));this.m_title=(this.getChild("title"));this.m_stoyIcon=(this.getChild("stoyIcon"));this.m_doorContainer=(this.getChild("doorContainer"));this.m_canvasContainer=(this.getChild("canvasContainer"))};BuildSceneFilmEnterStruct.URL="ui://d062jvkgg9i613z";BuildSceneFilmEnterStruct.DependPackages=["Building"];return BuildSceneFilmEnterStruct}(fairygui.GComponent));Building.BuildSceneFilmEnterStruct=BuildSceneFilmEnterStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildSceneFilmEnter=(function(_super){__extends(BuildSceneFilmEnter,_super);function BuildSceneFilmEnter(){return _super!==null&&_super.apply(this,arguments)||this}return BuildSceneFilmEnter}(Building.BuildSceneFilmEnterStruct));Building.BuildSceneFilmEnter=BuildSceneFilmEnter})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScenePartStruct=(function(_super){__extends(BuildScenePartStruct,_super);function BuildScenePartStruct(){return _super.call(this)||this}BuildScenePartStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildScenePart"))};BuildScenePartStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BuildScenePartStruct.URL="ui://d062jvkgnjm312r";BuildScenePartStruct.DependPackages=["Building"];return BuildScenePartStruct}(fairygui.GComponent));Building.BuildScenePartStruct=BuildScenePartStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildScenePart=(function(_super){__extends(BuildScenePart,_super);function BuildScenePart(){return _super!==null&&_super.apply(this,arguments)||this}return BuildScenePart}(Building.BuildScenePartStruct));Building.BuildScenePart=BuildScenePart})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildUpgradePropitemStruct=(function(_super){__extends(BuildUpgradePropitemStruct,_super);function BuildUpgradePropitemStruct(){return _super.call(this)||this}BuildUpgradePropitemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","BuildUpgradePropitem"))};BuildUpgradePropitemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};BuildUpgradePropitemStruct.URL="ui://d062jvkgfv9e13e";BuildUpgradePropitemStruct.DependPackages=["Building"];return BuildUpgradePropitemStruct}(fairygui.GComponent));Building.BuildUpgradePropitemStruct=BuildUpgradePropitemStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var BuildUpgradePropitem=(function(_super){__extends(BuildUpgradePropitem,_super);function BuildUpgradePropitem(){return _super!==null&&_super.apply(this,arguments)||this}return BuildUpgradePropitem}(Building.BuildUpgradePropitemStruct));Building.BuildUpgradePropitem=BuildUpgradePropitem})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var ExperciseAvatarStruct=(function(_super){__extends(ExperciseAvatarStruct,_super);function ExperciseAvatarStruct(){return _super.call(this)||this}ExperciseAvatarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","ExperciseAvatar"))};ExperciseAvatarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_sample=(this.getChild("sample"))};ExperciseAvatarStruct.URL="ui://d062jvkgrn1r12j";ExperciseAvatarStruct.DependPackages=["Building"];return ExperciseAvatarStruct}(fairygui.GComponent));Building.ExperciseAvatarStruct=ExperciseAvatarStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var ExperciseAvatar=(function(_super){__extends(ExperciseAvatar,_super);function ExperciseAvatar(){return _super!==null&&_super.apply(this,arguments)||this}return ExperciseAvatar}(Building.ExperciseAvatarStruct));Building.ExperciseAvatar=ExperciseAvatar})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var FilmDoorPointStruct=(function(_super){__extends(FilmDoorPointStruct,_super);function FilmDoorPointStruct(){return _super.call(this)||this}FilmDoorPointStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","FilmDoorPoint"))};FilmDoorPointStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};FilmDoorPointStruct.URL="ui://d062jvkgopnp140";FilmDoorPointStruct.DependPackages=["Building"];return FilmDoorPointStruct}(fairygui.GComponent));Building.FilmDoorPointStruct=FilmDoorPointStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var FilmDoorPoint=(function(_super){__extends(FilmDoorPoint,_super);function FilmDoorPoint(){return _super!==null&&_super.apply(this,arguments)||this}return FilmDoorPoint}(Building.FilmDoorPointStruct));Building.FilmDoorPoint=FilmDoorPoint})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var LevelupNextPropStruct=(function(_super){__extends(LevelupNextPropStruct,_super);function LevelupNextPropStruct(){return _super.call(this)||this}LevelupNextPropStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","LevelupNextProp"))};LevelupNextPropStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"))};LevelupNextPropStruct.URL="ui://d062jvkg9zjb13j";LevelupNextPropStruct.DependPackages=["Building","Common"];return LevelupNextPropStruct}(fairygui.GComponent));Building.LevelupNextPropStruct=LevelupNextPropStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var LevelupNextProp=(function(_super){__extends(LevelupNextProp,_super);function LevelupNextProp(){return _super!==null&&_super.apply(this,arguments)||this}return LevelupNextProp}(Building.LevelupNextPropStruct));Building.LevelupNextProp=LevelupNextProp})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var LevelupPropStruct=(function(_super){__extends(LevelupPropStruct,_super);function LevelupPropStruct(){return _super.call(this)||this}LevelupPropStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","LevelupProp"))};LevelupPropStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"))};LevelupPropStruct.URL="ui://d062jvkgcpc911b";LevelupPropStruct.DependPackages=["Building"];return LevelupPropStruct}(fairygui.GComponent));Building.LevelupPropStruct=LevelupPropStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var LevelupProp=(function(_super){__extends(LevelupProp,_super);function LevelupProp(){return _super!==null&&_super.apply(this,arguments)||this}return LevelupProp}(Building.LevelupPropStruct));Building.LevelupProp=LevelupProp})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var MainStruct=(function(_super){__extends(MainStruct,_super);function MainStruct(){return _super.call(this)||this}MainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","Main"))};MainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_screenBg=(this.getChild("screenBg"));this.m_main_bottom=(this.getChild("main_bottom"));this.m_main_top=(this.getChild("main_top"));this.m_BuildList=(this.getChild("BuildList"))};MainStruct.URL="ui://d062jvkgor9t0";MainStruct.DependPackages=["Building"];return MainStruct}(fairygui.GComponent));Building.MainStruct=MainStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var AvatarManager=Games.AvatarManager;var Main=(function(_super){__extends(Main,_super);function Main(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.floorRoomList=[];_this.floorIndex=0;_this.point=new Point();return _this}Main.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);AvatarManager.init(this);Games.BuildingProcessMgr.install();this.init()};Main.prototype.init=function(){Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_ExtendFloor,this.onServerBuildFloor,this);Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_BuildRoom,this.onServerBuildRoom,this);Game.protoOkEvent.add(ProtoEventKey.CinemaBuild_UpgradeRoom,this.onServerRoomUpgrade,this);Game.event.add(GameEventKey.GameEventKey_ScrollMainRoom,this.onScrollToRoom,this);Game.event.add(GameEventKey.GameEventKey_EnabledScrollMain,this.onEnabledScrollMain,this);Game.event.add(GameEventKey.GameEventKey_StartReception,this.onStartReception,this);Game.protoOkEvent.add(ProtoEventKey.city_HoldCity,this.setBuildFloorStatus,this);Game.event.add(GameEventKey.GameEventKey_PlayerLevelUp,this.setBuildFloorStatus,this);this.m_BuildList.touchable=true;this.m_BuildList.lineGap=-5;this.m_BuildList.ensureBoundsCorrect();this.m_BuildList.scrollItemToViewOnClick=false;this.m_main_bottom.visible=true;this.m_BuildList.addChild(this.m_main_bottom);this.m_main_top.visible=true;this.m_BuildList.addChildAt(this.m_main_top,0);this.setBuildRoomInfo();Laya.timer.loop(50,this,this.onTimeShowScreenRoom,null,true,true)};Main.prototype.onTimeShowScreenRoom=function(){var isOpenHomeWindow=Game.menu.isOpened(MenuId.Home);var childNum=this.m_BuildList.numChildren;for(var i=0;i<childNum;i++){var buildItem=this.m_BuildList.getChildAt(i);if(isOpenHomeWindow){if(buildItem instanceof Building.BuildRoom){buildItem.onRoomResumeEvent()}}else{if(buildItem instanceof Building.BuildRoom){buildItem.onRoomPauseEvent()}}this.point.x=0;this.point.y=0;var globalPos=buildItem.displayObject.localToGlobal(this.point);if(globalPos.y+buildItem.height<=0||globalPos.y>=Laya.stage.height){buildItem.visible=false;if(buildItem instanceof Building.BuildRoom){buildItem.onRoomOutScreen()}}else{buildItem.visible=true;if(buildItem instanceof Building.BuildRoom){buildItem.onRoomInScreen()}}}};Main.prototype.onWindowShow=function(){};Main.prototype.onWindowHide=function(){};Main.prototype.onWindowResize=function(){for(var i=0;i<this.m_BuildList.numChildren;i++){var item=this.m_BuildList.getChildAt(i);if(item.m_buildScene){var buildRoom=item;buildRoom.setSceneSizeForState()}else{item.width=ScreenSetting.screenWidth;var scale=item.width/item.sourceWidth;item.height=item.sourceHeight*scale}}};Main.prototype.setBuildRoomInfo=function(){for(var _i=0,_a=User.info.buildRoomInfo;_i<_a.length;_i++){var sRoomInfo=_a[_i];var room=this.creatBuildRoom();room.setInfo(Games.RoomInfo.creatInfo(sRoomInfo));room.onBuildComplete(room.roomInfo);Game.moduleModel.building.addRoomInfo(room.roomInfo)}this.floorIndex=User.info.extendFloor;Game.moduleModel.building.floorIndex=User.info.extendFloor;if(User.info.buildRoomInfo.length<this.floorIndex){this.creatBuildFloor(this.floorIndex,true)}else{this.showNextFloor()}AvatarManager.allocAvatarListToRoom()};Main.prototype.creatBuildFloor=function(floor,isBuildFloor,isScrollTop){if(isBuildFloor===void 0){isBuildFloor=false}if(isScrollTop===void 0){isScrollTop=true}var room=this.m_BuildList.addItemFromPool();room.floorInfo.index=floor;room.init();if(isBuildFloor){room.waitBuindRoom();room.m_btn_buildRoom.onClick(this,this.onBuildRoomClick)}else{room.buildFloor();room.m_btn_buildFloor.onClick(this,this.onBuildFloorClick,[room])}this.m_BuildList.setChildIndex(room,1);if(isScrollTop){this.m_BuildList.scrollToView(1,true,true)}else{this.m_BuildList.scrollToView(1,true,true)}this.currentFloorRoom=room;this.floorRoomList.push(room);return room};Main.prototype.creatBuildRoom=function(){var room=this.m_BuildList.addItemFromPool();room.m_btn_roomName.onClick(this,this.onRoomTitleClick,[room]);this.m_BuildList.setChildIndex(room,1);this.m_BuildList.scrollToView(1,true,true);this.floorRoomList.push(room);return room};Main.prototype.showNextFloor=function(isScrollTop){if(isScrollTop===void 0){isScrollTop=true}if(this.checkTopFloor()){return null}var room=this.creatBuildFloor(this.floorIndex+1,false,isScrollTop);this.setBuildFloorStatus();return room};Main.prototype.setBuildFloorStatus=function(){var result=this.checkBuildFloorLevelCondition();if(!result.result){this.currentFloorRoom.showFailBuildFloorReason(result.reason)}else{this.currentFloorRoom.hideFailBuildFloorReason()}};Main.prototype.onBuildFloorClick=function(room){if(this.checkBuildFloorCondition(true).result){var self_1={expandFloorCallBack:function(){Game.protosender.CinemaBuild.ExtendFloor(room.floorInfo.index)}};if(this.isBuildFreeFloor){Game.protosender.CinemaBuild.ExtendFloor(room.floorInfo.index)}else{var floorCfg=Game.config.floor.getConfig(room.floorInfo.index);Game.system.confirmTextIcon([floorCfg.cost],TEXT.BuildTitle,format(TEXT.BuildFloorAlert,room.floorInfo.index),self_1.expandFloorCallBack,self_1)}}};Main.prototype.onServerBuildFloor=function(msg){var _this=this;this.currentFloorRoom.showBuildEffect();this.setRoomTouchable(false);Game.sound.playSound(SoundKey.MM06_Building);setTimeout(function(){_this.currentFloorRoom.clearBuildEffect();_this.setRoomTouchable(true);User.info.extendFloor=Game.moduleModel.building.floorIndex;_this.floorIndex=User.info.extendFloor;_this.currentFloorRoom.waitBuindRoom();_this.currentFloorRoom.updateLoaderTexture();_this.currentFloorRoom.m_btn_buildRoom.onClick(_this,_this.onBuildRoomClick);Game.guide.finishFirstStep()},3000)};Main.prototype.onBuildRoomClick=function(){Game.menu.open(MenuId.BuildRoomList,this.floorIndex)};Main.prototype.onServerBuildRoom=function(msg){var _this=this;this.setRoomTouchable(false);this.currentFloorRoom.showBuildEffect();setTimeout(function(){_this.setRoomTouchable(true);_this.currentFloorRoom.clearBuildEffect();var roomInfo=Game.moduleModel.building.getRoomInfo(msg.roomId);_this.currentFloorRoom.onBuildComplete(roomInfo);_this.currentFloorRoom.updateLoaderTexture();_this.currentFloorRoom.m_btn_roomName.onClick(_this,_this.onRoomTitleClick,[_this.currentFloorRoom]);var list=_this.floorRoomList;_this.showNextFloor(false);AvatarManager.allocAvatarListToRoom();Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_1_MakeBuild);Game.guide.checkPlayStoryByType(Games.StoryTriggerType.FinishBuild,roomInfo.id);Game.guide.dealyCheckGuide()},3000)};Main.prototype.onServerRoomUpgrade=function(msg){var room=this.getRoomById(msg.roomId);if(room){var roomInfo=Game.moduleModel.building.getRoomInfo(msg.roomId);room.setInfo(roomInfo);Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_2_UpgradeBuild)}};Main.prototype.checkBuildFloorCondition=function(isShowAlert){if(isShowAlert===void 0){isShowAlert=false}var checkResult={result:true,reason:""};if(this.checkTopFloor()){return checkResult}var floorConfig=Game.config.floor.getConfig(this.floorIndex+1);if(User.info.level<floorConfig.level_req){checkResult.result=false;var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_level,floorConfig.level_req);checkResult.reason=msg;if(isShowAlert){Game.system.toastText(msg);return checkResult}}if(this.isBuildFreeFloor){checkResult.result=true}else{var itemcfg=Game.config.item.getConfig(floorConfig.cost.itemId);var hasItemNum=Game.moduleModel.item.getItemNum(floorConfig.cost.itemId);if(hasItemNum<floorConfig.cost.itemNum){checkResult.result=false;var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_material,itemcfg.name);checkResult.reason=msg;if(isShowAlert){Game.system.openItemWay(floorConfig.cost.itemId,floorConfig.cost.itemNum)}}}return checkResult};Object.defineProperty(Main.prototype,"isBuildFreeFloor",{get:function(){var floorConfig=Game.config.floor.getConfig(this.floorIndex+1);if(floorConfig.cost.itemId==0||floorConfig.cost.itemNum==0){return true}return false},enumerable:true,configurable:true});Main.prototype.checkBuildFloorLevelCondition=function(){var checkResult={result:true,reason:""};if(this.checkTopFloor()){return checkResult}var floorConfig=Game.config.floor.getConfig(this.floorIndex+1);if(User.info.level<floorConfig.level_req){checkResult.result=false;var msg=format(TEXT.BuildFloorFailLevel,floorConfig.level_req);checkResult.reason=msg}var cityData=Game.moduleModel.market.GetMaxCity();if(floorConfig.city_req>0){if(cityData==null||cityData.id<floorConfig.city_req){checkResult.result=false;var cityCfg=Game.config.city.getConfig(floorConfig.city_req);var msg="";if(cityCfg){msg=format(TEXT.BuildFloorFailCity,cityCfg.city_num,cityCfg.name)}checkResult.reason=msg}}return checkResult};Main.prototype.checkTopFloor=function(){return this.floorIndex>=Game.config.floor.getConfigList().length};Main.prototype.onRoomTitleClick=function(room){if(room.isBuilded){Game.moduleModel.building.selectRoomType=room.roomInfo.type;Game.menu.open(MenuId.BuildRoomUpgrade,room.roomInfo)}};Main.prototype.onEnabledScrollMain=function(enable){this.setRoomTouchable(enable)};Main.prototype.scrollRoomTypeTop=function(roomType,anim){var index=this.getRoomIndexByType(roomType);if(index<0||index>this.m_BuildList.numChildren-1){return}this.m_BuildList.scrollToView(index,anim,true)};Main.prototype.setRoomTouchable=function(val){this.m_BuildList.touchable=val};Main.prototype.executeActionEvents=function(roomType,avatarUid,eventList){var room=this.getRoomByType(roomType);if(room){room.executeActionEvents(avatarUid,eventList)}};Main.prototype.startEnterRoom=function(roomType,info,direction,onEvent){var room=this.getRoomByType(roomType);if(room){room.avatarEnter(info,direction,onEvent)}};Main.prototype.onEnterRoom=function(roomType,avatarUid){var room=this.getRoomByType(roomType);if(room){room.onAvatarEnter(avatarUid)}};Main.prototype.startLeaveRoom=function(roomType,avatarUid,onEvent,isRun){var room=this.getRoomByType(roomType);if(room){room.avatarLeave(avatarUid,onEvent,isRun)}};Main.prototype.onLeaveRoom=function(roomType,avatarUid){var room=this.getRoomByType(roomType);if(room){room.onAvatarLeave(avatarUid)}};Main.prototype.getRoomByType=function(roomType){return this.floorRoomList.findOne(function(room){return room.roomInfo.type==roomType})};Main.prototype.getRoomIndexByType=function(roomType){var num=this.m_BuildList.numChildren;for(var i=0;i<num;i++){var room=this.m_BuildList.getChildAt(i);if(!room.roomInfo){continue}if(room.roomInfo.isBuilded){if(room.roomInfo.type==roomType){return i}}}return -1};Main.prototype.getRoomById=function(roomId){return this.floorRoomList.findOne(function(room){return room.roomInfo.id==roomId})};Main.prototype.addRoomAt=function(room,index){if(index<0){index=0}if(index>this.m_BuildList.numChildren-1){index=this.m_BuildList.numChildren-1}this.m_BuildList.addChildAt(room,index)};Main.prototype.getAvatar=function(roomType,avatarUid){var room=this.getRoomByType(roomType);if(room){return room.getAvatar(avatarUid)}return null};Main.prototype.onScrollToRoom=function(roomType,anim){this.scrollRoomTypeTop(roomType,anim)};Main.prototype.onStartReception=function(){var roomType=Games.RoomType.Reception;var room=this.getRoomByType(roomType);room.processer.startReception()};Main.prototype.getRoomAndScrollTop=function(roomType,scrollIndexOffset){if(scrollIndexOffset===void 0){scrollIndexOffset=0}var index=this.getRoomIndexByType(roomType);if(index<0||index>this.m_BuildList.numChildren-1){return}var finalIndex=Math.max(0,index-scrollIndexOffset);this.m_BuildList.scrollToView(finalIndex,false,true);return this.m_BuildList.getChildAt(index)};return Main}(Building.MainStruct));Building.Main=Main})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var RoomInfoItemStruct=(function(_super){__extends(RoomInfoItemStruct,_super);function RoomInfoItemStruct(){return _super.call(this)||this}RoomInfoItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","roomInfoItem"))};RoomInfoItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_room_title=(this.getChild("room_title"));this.m_assetList=(this.getChild("assetList"));this.m_iconLoader=(this.getChild("iconLoader"));this.m_roomLock=(this.getChild("roomLock"));this.m_touch=(this.getChild("touch"));this.m_btn_roomTip=(this.getChild("btn_roomTip"));this.m_tips=(this.getChild("tips"))};RoomInfoItemStruct.URL="ui://d062jvkgcpc911i";RoomInfoItemStruct.DependPackages=["Building","Common"];return RoomInfoItemStruct}(fairygui.GComponent));Building.RoomInfoItemStruct=RoomInfoItemStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var RoomInfoItem=(function(_super){__extends(RoomInfoItem,_super);function RoomInfoItem(){return _super!==null&&_super.apply(this,arguments)||this}RoomInfoItem.prototype.setInfo=function(info){this.info=info;this.cfg=Game.config.buildingLevel.getConfig(this.info.id);this.m_iconLoader.visible=true;if(this.info.isBuilded){this.m_roomLock.visible=true;var reason=Game.config.msg.getTxtFormat(MsgKey.build_be_builded);this.setBuildLock(reason)}else{this.m_room_title.text=info.name;this.m_roomLock.visible=false;this.setBuildCost()}this.m_btn_roomTip.onClick(this,this.showRoomTips);this.setBuildIcon();this.displayObject.cacheAs="bitmap"};RoomInfoItem.prototype.setBuildIcon=function(){this.m_iconLoader.m_room_icon.url=Res.getRoom(this.info.type)};RoomInfoItem.prototype.setBuildCost=function(){this.m_assetList.removeChildrenToPool();var costList=this.cfg.cost;for(var _i=0,costList_1=costList;_i<costList_1.length;_i++){var costItem=costList_1[_i];var itemCfg=Game.config.item.getConfig(costItem.itemId);var userItem=Game.moduleModel.item.getItem(costItem.itemId);var asset=this.m_assetList.addItemFromPool();asset.setEnoughInfo(userItem.itemIconUrl,costItem.itemId,costItem.itemNum);this.m_assetList.addChild(asset)}};RoomInfoItem.prototype.showRoomTips=function(){this.m_tips.visible=true;this.m_tips.m_effectText1.text=TEXT.BuildEffect;this.m_tips.m_effectValue1.text=this.cfg.effect_tips;this.m_tips.m_effectText2.text=TEXT.BuildLevelEffect;this.m_tips.m_effectValue2.text=this.cfg.level_tips;fairygui.GRoot.inst.showPopup(this.m_tips)};RoomInfoItem.prototype.setBuildLock=function(reason){this.m_assetList.removeChildrenToPool();this.m_roomLock.visible=true;this.m_roomLock.m_room_title.text=this.info.name;this.m_roomLock.m_reason.text=reason};return RoomInfoItem}(Building.RoomInfoItemStruct));Building.RoomInfoItem=RoomInfoItem})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var RoomInfoLockItemStruct=(function(_super){__extends(RoomInfoLockItemStruct,_super);function RoomInfoLockItemStruct(){return _super.call(this)||this}RoomInfoLockItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","roomInfoLockItem"))};RoomInfoLockItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_room_title=(this.getChild("room_title"));this.m_reason=(this.getChild("reason"))};RoomInfoLockItemStruct.URL="ui://d062jvkgcpc911j";RoomInfoLockItemStruct.DependPackages=["Building"];return RoomInfoLockItemStruct}(fairygui.GComponent));Building.RoomInfoLockItemStruct=RoomInfoLockItemStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var RoomInfoLockItem=(function(_super){__extends(RoomInfoLockItem,_super);function RoomInfoLockItem(){return _super!==null&&_super.apply(this,arguments)||this}return RoomInfoLockItem}(Building.RoomInfoLockItemStruct));Building.RoomInfoLockItem=RoomInfoLockItem})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var TouchComponentStruct=(function(_super){__extends(TouchComponentStruct,_super);function TouchComponentStruct(){return _super.call(this)||this}TouchComponentStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","TouchComponent"))};TouchComponentStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_touch=(this.getChild("touch"))};TouchComponentStruct.URL="ui://d062jvkgoqb213v";TouchComponentStruct.DependPackages=["Building"];return TouchComponentStruct}(fairygui.GComponent));Building.TouchComponentStruct=TouchComponentStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var TouchComponent=(function(_super){__extends(TouchComponent,_super);function TouchComponent(){return _super!==null&&_super.apply(this,arguments)||this}return TouchComponent}(Building.TouchComponentStruct));Building.TouchComponent=TouchComponent})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var UpgradeSuccessGroupStruct=(function(_super){__extends(UpgradeSuccessGroupStruct,_super);function UpgradeSuccessGroupStruct(){return _super.call(this)||this}UpgradeSuccessGroupStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Building","UpgradeSuccessGroup"))};UpgradeSuccessGroupStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_roomName=(this.getChild("roomName"));this.m_roomFrame=(this.getChild("roomFrame"))};UpgradeSuccessGroupStruct.URL="ui://d062jvkgui5j13w";UpgradeSuccessGroupStruct.DependPackages=["Building"];return UpgradeSuccessGroupStruct}(fairygui.GComponent));Building.UpgradeSuccessGroupStruct=UpgradeSuccessGroupStruct})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Building;(function(Building){var UpgradeSuccessGroup=(function(_super){__extends(UpgradeSuccessGroup,_super);function UpgradeSuccessGroup(){return _super!==null&&_super.apply(this,arguments)||this}return UpgradeSuccessGroup}(Building.UpgradeSuccessGroupStruct));Building.UpgradeSuccessGroup=UpgradeSuccessGroup})(Building=fgui.Building||(fgui.Building={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorIconStruct=(function(_super){__extends(ActorIconStruct,_super);function ActorIconStruct(){return _super.call(this)||this}ActorIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ActorIcon"))};ActorIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};ActorIconStruct.URL="ui://txcuvopdcvs8dn";ActorIconStruct.DependPackages=["Common"];return ActorIconStruct}(fairygui.GButton));Common.ActorIconStruct=ActorIconStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorIcon=(function(_super){__extends(ActorIcon,_super);function ActorIcon(){return _super!==null&&_super.apply(this,arguments)||this}ActorIcon.prototype.Render=function(actorId,name){var cfg=Game.config.actor.getConfig(actorId);this.m_icon.icon=Game.config.actor.GetBodyIconUrl(actorId);this.title=name;this.m_star.starNum=cfg.starNum};return ActorIcon}(Common.ActorIconStruct));Common.ActorIcon=ActorIcon})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorLvBreaktUIStruct=(function(_super){__extends(ActorLvBreaktUIStruct,_super);function ActorLvBreaktUIStruct(){return _super.call(this)||this}ActorLvBreaktUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ActorLvBreaktUI"))};ActorLvBreaktUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_icon=(this.getChild("icon"));this.m_desc=(this.getChild("desc"));this.m_t0=this.getTransition("t0")};ActorLvBreaktUIStruct.URL="ui://txcuvopdlvexed";ActorLvBreaktUIStruct.DependPackages=["Common","Fx","WarMovie"];return ActorLvBreaktUIStruct}(fairygui.GComponent));Common.ActorLvBreaktUIStruct=ActorLvBreaktUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorLvBreaktUI=(function(_super){__extends(ActorLvBreaktUI,_super);function ActorLvBreaktUI(){return _super!==null&&_super.apply(this,arguments)||this}ActorLvBreaktUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickClose)};ActorLvBreaktUI.prototype.onClickClose=function(){if(this.isCanClosed){this.removeFromParent()}};ActorLvBreaktUI.prototype.playEffect=function(actorId,desc){this.isCanClosed=false;var data=Game.moduleModel.actor.getActor(actorId);if(data){Games.MenuLayer.floatMsg.addChild(this);this.m_desc.text=desc;this.m_icon.icon=data.bodyIconUrl;this.m_t0.play(Handler.create(this,this.playEnd),1)}};ActorLvBreaktUI.prototype.playEnd=function(){var _this=this;setTimeout(function(){_this.isCanClosed=true},1000)};return ActorLvBreaktUI}(Common.ActorLvBreaktUIStruct));Common.ActorLvBreaktUI=ActorLvBreaktUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorSelectItemStruct=(function(_super){__extends(ActorSelectItemStruct,_super);function ActorSelectItemStruct(){return _super.call(this)||this}ActorSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ActorSelectItem"))};ActorSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_starList=(this.getChild("starList"));this.m_title=(this.getChild("title"));this.m_skillExp=(this.getChild("skillExp"));this.m_btnSelect=(this.getChild("btnSelect"))};ActorSelectItemStruct.URL="ui://txcuvopdq41hga";ActorSelectItemStruct.DependPackages=["Common"];return ActorSelectItemStruct}(fairygui.GButton));Common.ActorSelectItemStruct=ActorSelectItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ActorSelectItem=(function(_super){__extends(ActorSelectItem,_super);function ActorSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}ActorSelectItem.prototype.setInfo=function(data){this.data=data;this.m_title.text=data.name;this.m_skillExp.text=format(TEXT.ActorSkillExp,data.skillExp);this.m_btnSelect.m_title.text=TEXT.ButtonSelect;this.m_starList.removeChildrenToPool();for(var i=0;i<data.star;i++){var star=this.m_starList.addItemFromPool();this.m_starList.addChild(star)}this.m_icon.url=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl};Object.defineProperty(ActorSelectItem.prototype,"isOnProduce",{get:function(){return this._isOnProduce},set:function(val){this._isOnProduce=val;if(val){this.m_skillExp.text=TEXT.ProduceActorBusy}else{this.m_skillExp.text=TEXT.ProduceActorFree}},enumerable:true,configurable:true});return ActorSelectItem}(Common.ActorSelectItemStruct));Common.ActorSelectItem=ActorSelectItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtnStruct=(function(_super){__extends(AddBtnStruct,_super);function AddBtnStruct(){return _super.call(this)||this}AddBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","addBtn"))};AddBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};AddBtnStruct.URL="ui://txcuvopdhh7684";AddBtnStruct.DependPackages=["Common"];return AddBtnStruct}(fairygui.GButton));Common.AddBtnStruct=AddBtnStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtn=(function(_super){__extends(AddBtn,_super);function AddBtn(){return _super!==null&&_super.apply(this,arguments)||this}return AddBtn}(Common.AddBtnStruct));Common.AddBtn=AddBtn})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtn2Struct=(function(_super){__extends(AddBtn2Struct,_super);function AddBtn2Struct(){return _super.call(this)||this}AddBtn2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","addBtn2"))};AddBtn2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};AddBtn2Struct.URL="ui://txcuvopdo3z6ad";AddBtn2Struct.DependPackages=["Common"];return AddBtn2Struct}(fairygui.GButton));Common.AddBtn2Struct=AddBtn2Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtn2=(function(_super){__extends(AddBtn2,_super);function AddBtn2(){return _super!==null&&_super.apply(this,arguments)||this}return AddBtn2}(Common.AddBtn2Struct));Common.AddBtn2=AddBtn2})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtn3Struct=(function(_super){__extends(AddBtn3Struct,_super);function AddBtn3Struct(){return _super.call(this)||this}AddBtn3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","addBtn3"))};AddBtn3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};AddBtn3Struct.URL="ui://txcuvopdo3z6af";AddBtn3Struct.DependPackages=["Common"];return AddBtn3Struct}(fairygui.GButton));Common.AddBtn3Struct=AddBtn3Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AddBtn3=(function(_super){__extends(AddBtn3,_super);function AddBtn3(){return _super!==null&&_super.apply(this,arguments)||this}return AddBtn3}(Common.AddBtn3Struct));Common.AddBtn3=AddBtn3})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemStruct=(function(_super){__extends(AssetItemStruct,_super);function AssetItemStruct(){return _super.call(this)||this}AssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AssetItem"))};AssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showBg=this.getController("showBg");this.m_assetLoader=(this.getChild("assetLoader"));this.m_title=(this.getChild("title"))};AssetItemStruct.URL="ui://txcuvopddtlg2n";AssetItemStruct.DependPackages=["Common","PfSkin"];return AssetItemStruct}(fairygui.GLabel));Common.AssetItemStruct=AssetItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItem=(function(_super){__extends(AssetItem,_super);function AssetItem(){return _super!==null&&_super.apply(this,arguments)||this}AssetItem.prototype.setItemId=function(itemId){var userItem=Game.moduleModel.item.getItem(itemId);var itemNum=Game.moduleModel.item.getItemNum(itemId);this.setInfo(userItem.itemIconUrl,itemNum)};AssetItem.prototype.setInfo=function(iconUrl,value){this.m_assetLoader.url=iconUrl;this.m_title.text=formatNumberUnit(value)};return AssetItem}(Common.AssetItemStruct));Common.AssetItem=AssetItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemBigStruct=(function(_super){__extends(AssetItemBigStruct,_super);function AssetItemBigStruct(){return _super.call(this)||this}AssetItemBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AssetItemBig"))};AssetItemBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Title=(this.getChild("Title"));this.m_assetLoader=(this.getChild("assetLoader"))};AssetItemBigStruct.URL="ui://txcuvopdu21kas";AssetItemBigStruct.DependPackages=["Common"];return AssetItemBigStruct}(fairygui.GComponent));Common.AssetItemBigStruct=AssetItemBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemBig=(function(_super){__extends(AssetItemBig,_super);function AssetItemBig(){return _super!==null&&_super.apply(this,arguments)||this}AssetItemBig.prototype.setItemId=function(itemId){var userItem=Game.moduleModel.item.getItem(itemId);var itemNum=Game.moduleModel.item.getItemNum(itemId);this.setInfo(userItem.itemIconUrl,itemNum)};AssetItemBig.prototype.setInfo=function(iconUrl,value){this.m_assetLoader.url=iconUrl;this.m_Title.text=formatNumberUnit(value)};AssetItemBig.prototype.setEnoughInfo=function(iconUrl,itemId,value){this.m_assetLoader.url=iconUrl;if(ItemHelper.checkItemEnough2(itemId,value)){this.m_Title.text=formatNumberUnit(value)}else{this.m_Title.text="[color=#ff0000]"+formatNumberUnit(value)+"[/color]"}};return AssetItemBig}(Common.AssetItemBigStruct));Common.AssetItemBig=AssetItemBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemListStruct=(function(_super){__extends(AssetItemListStruct,_super);function AssetItemListStruct(){return _super.call(this)||this}AssetItemListStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AssetItemList"))};AssetItemListStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_assetList=(this.getChild("assetList"))};AssetItemListStruct.URL="ui://txcuvopdfd6533";AssetItemListStruct.DependPackages=["Common"];return AssetItemListStruct}(fairygui.GComponent));Common.AssetItemListStruct=AssetItemListStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemList=(function(_super){__extends(AssetItemList,_super);function AssetItemList(){return _super!==null&&_super.apply(this,arguments)||this}AssetItemList.prototype.setAssets=function(assetIds){this.m_assetList.removeChildrenToPool();this.assetIds=assetIds;for(var _i=0,assetIds_1=assetIds;_i<assetIds_1.length;_i++){var assetId=assetIds_1[_i];var assetItem=this.m_assetList.addItemFromPool();assetItem.setItemId(assetId);this.m_assetList.addChild(assetItem)}};AssetItemList.prototype.updateAssets=function(){this.setAssets(this.assetIds)};AssetItemList.prototype.dispose=function(){this.assetIds.length=0;this.m_assetList.removeChildrenToPool()};return AssetItemList}(Common.AssetItemListStruct));Common.AssetItemList=AssetItemList})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemVerticalStruct=(function(_super){__extends(AssetItemVerticalStruct,_super);function AssetItemVerticalStruct(){return _super.call(this)||this}AssetItemVerticalStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AssetItemVertical"))};AssetItemVerticalStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};AssetItemVerticalStruct.URL="ui://txcuvopdsc1s32";AssetItemVerticalStruct.DependPackages=["Common"];return AssetItemVerticalStruct}(fairygui.GComponent));Common.AssetItemVerticalStruct=AssetItemVerticalStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItemVertical=(function(_super){__extends(AssetItemVertical,_super);function AssetItemVertical(){return _super!==null&&_super.apply(this,arguments)||this}return AssetItemVertical}(Common.AssetItemVerticalStruct));Common.AssetItemVertical=AssetItemVertical})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItem_littleStruct=(function(_super){__extends(AssetItem_littleStruct,_super);function AssetItem_littleStruct(){return _super.call(this)||this}AssetItem_littleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AssetItem_little"))};AssetItem_littleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showBg=this.getController("showBg");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};AssetItem_littleStruct.URL="ui://txcuvopdmdyxt22y";AssetItem_littleStruct.DependPackages=["Common","PfSkin"];return AssetItem_littleStruct}(fairygui.GLabel));Common.AssetItem_littleStruct=AssetItem_littleStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AssetItem_little=(function(_super){__extends(AssetItem_little,_super);function AssetItem_little(){return _super!==null&&_super.apply(this,arguments)||this}return AssetItem_little}(Common.AssetItem_littleStruct));Common.AssetItem_little=AssetItem_little})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AvatarShadowStruct=(function(_super){__extends(AvatarShadowStruct,_super);function AvatarShadowStruct(){return _super.call(this)||this}AvatarShadowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","AvatarShadow"))};AvatarShadowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};AvatarShadowStruct.URL="ui://txcuvopdoapba3";AvatarShadowStruct.DependPackages=["Common"];return AvatarShadowStruct}(fairygui.GComponent));Common.AvatarShadowStruct=AvatarShadowStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var AvatarShadow=(function(_super){__extends(AvatarShadow,_super);function AvatarShadow(){return _super!==null&&_super.apply(this,arguments)||this}return AvatarShadow}(Common.AvatarShadowStruct));Common.AvatarShadow=AvatarShadow})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BlueRedBGStruct=(function(_super){__extends(BlueRedBGStruct,_super);function BlueRedBGStruct(){return _super.call(this)||this}BlueRedBGStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BlueRedBG"))};BlueRedBGStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BlueRedBGStruct.URL="ui://txcuvopdky79hd";BlueRedBGStruct.DependPackages=["Common"];return BlueRedBGStruct}(fairygui.GComponent));Common.BlueRedBGStruct=BlueRedBGStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BlueRedBG=(function(_super){__extends(BlueRedBG,_super);function BlueRedBG(){return _super!==null&&_super.apply(this,arguments)||this}return BlueRedBG}(Common.BlueRedBGStruct));Common.BlueRedBG=BlueRedBG})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnBlueCloseStruct=(function(_super){__extends(BtnBlueCloseStruct,_super);function BtnBlueCloseStruct(){return _super.call(this)||this}BtnBlueCloseStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnBlueClose"))};BtnBlueCloseStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnBlueCloseStruct.URL="ui://txcuvopdol2e2o";BtnBlueCloseStruct.DependPackages=["Common"];return BtnBlueCloseStruct}(fairygui.GButton));Common.BtnBlueCloseStruct=BtnBlueCloseStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnBlueClose=(function(_super){__extends(BtnBlueClose,_super);function BtnBlueClose(){return _super!==null&&_super.apply(this,arguments)||this}return BtnBlueClose}(Common.BtnBlueCloseStruct));Common.BtnBlueClose=BtnBlueClose})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnConfirmStruct=(function(_super){__extends(BtnConfirmStruct,_super);function BtnConfirmStruct(){return _super.call(this)||this}BtnConfirmStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnConfirm"))};BtnConfirmStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};BtnConfirmStruct.URL="ui://txcuvopdsc1s30";BtnConfirmStruct.DependPackages=["Common"];return BtnConfirmStruct}(fairygui.GButton));Common.BtnConfirmStruct=BtnConfirmStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnConfirm=(function(_super){__extends(BtnConfirm,_super);function BtnConfirm(){return _super!==null&&_super.apply(this,arguments)||this}return BtnConfirm}(Common.BtnConfirmStruct));Common.BtnConfirm=BtnConfirm})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnCongraStruct=(function(_super){__extends(BtnCongraStruct,_super);function BtnCongraStruct(){return _super.call(this)||this}BtnCongraStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnCongra"))};BtnCongraStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"))};BtnCongraStruct.URL="ui://txcuvopdp54lt212";BtnCongraStruct.DependPackages=["Common"];return BtnCongraStruct}(fairygui.GButton));Common.BtnCongraStruct=BtnCongraStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnCongra=(function(_super){__extends(BtnCongra,_super);function BtnCongra(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCongra}(Common.BtnCongraStruct));Common.BtnCongra=BtnCongra})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnGreenStruct=(function(_super){__extends(BtnGreenStruct,_super);function BtnGreenStruct(){return _super.call(this)||this}BtnGreenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnGreen"))};BtnGreenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};BtnGreenStruct.URL="ui://txcuvopdj3a33m";BtnGreenStruct.DependPackages=["Common"];return BtnGreenStruct}(fairygui.GButton));Common.BtnGreenStruct=BtnGreenStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnGreen=(function(_super){__extends(BtnGreen,_super);function BtnGreen(){return _super!==null&&_super.apply(this,arguments)||this}return BtnGreen}(Common.BtnGreenStruct));Common.BtnGreen=BtnGreen})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnHelpStruct=(function(_super){__extends(BtnHelpStruct,_super);function BtnHelpStruct(){return _super.call(this)||this}BtnHelpStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnHelp"))};BtnHelpStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnHelp=(this.getChild("btnHelp"))};BtnHelpStruct.URL="ui://txcuvopdcvs8ci";BtnHelpStruct.DependPackages=["Common"];return BtnHelpStruct}(fairygui.GComponent));Common.BtnHelpStruct=BtnHelpStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnHelp=(function(_super){__extends(BtnHelp,_super);function BtnHelp(){return _super!==null&&_super.apply(this,arguments)||this}return BtnHelp}(Common.BtnHelpStruct));Common.BtnHelp=BtnHelp})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnItemBuyStruct=(function(_super){__extends(BtnItemBuyStruct,_super);function BtnItemBuyStruct(){return _super.call(this)||this}BtnItemBuyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnItemBuy"))};BtnItemBuyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_itemIcon=(this.getChild("itemIcon"));this.m_itemCount=(this.getChild("itemCount"))};BtnItemBuyStruct.URL="ui://txcuvopdol2e2p";BtnItemBuyStruct.DependPackages=["Common"];return BtnItemBuyStruct}(fairygui.GButton));Common.BtnItemBuyStruct=BtnItemBuyStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnItemBuy=(function(_super){__extends(BtnItemBuy,_super);function BtnItemBuy(){return _super!==null&&_super.apply(this,arguments)||this}return BtnItemBuy}(Common.BtnItemBuyStruct));Common.BtnItemBuy=BtnItemBuy})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnLeftStruct=(function(_super){__extends(BtnLeftStruct,_super);function BtnLeftStruct(){return _super.call(this)||this}BtnLeftStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnLeft"))};BtnLeftStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnLeftStruct.URL="ui://txcuvopdenjffk";BtnLeftStruct.DependPackages=["Common"];return BtnLeftStruct}(fairygui.GButton));Common.BtnLeftStruct=BtnLeftStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnLeft=(function(_super){__extends(BtnLeft,_super);function BtnLeft(){return _super!==null&&_super.apply(this,arguments)||this}return BtnLeft}(Common.BtnLeftStruct));Common.BtnLeft=BtnLeft})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnNextStruct=(function(_super){__extends(BtnNextStruct,_super);function BtnNextStruct(){return _super.call(this)||this}BtnNextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnNext"))};BtnNextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};BtnNextStruct.URL="ui://txcuvopdenjffh";BtnNextStruct.DependPackages=["Common"];return BtnNextStruct}(fairygui.GButton));Common.BtnNextStruct=BtnNextStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnNext=(function(_super){__extends(BtnNext,_super);function BtnNext(){return _super!==null&&_super.apply(this,arguments)||this}return BtnNext}(Common.BtnNextStruct));Common.BtnNext=BtnNext})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnRightStruct=(function(_super){__extends(BtnRightStruct,_super);function BtnRightStruct(){return _super.call(this)||this}BtnRightStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnRight"))};BtnRightStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnRightStruct.URL="ui://txcuvopdenjffl";BtnRightStruct.DependPackages=["Common"];return BtnRightStruct}(fairygui.GButton));Common.BtnRightStruct=BtnRightStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnRight=(function(_super){__extends(BtnRight,_super);function BtnRight(){return _super!==null&&_super.apply(this,arguments)||this}return BtnRight}(Common.BtnRightStruct));Common.BtnRight=BtnRight})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnYellowStruct=(function(_super){__extends(BtnYellowStruct,_super);function BtnYellowStruct(){return _super.call(this)||this}BtnYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","BtnYellow"))};BtnYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnYellowStruct.URL="ui://txcuvopdj3a33l";BtnYellowStruct.DependPackages=["Common"];return BtnYellowStruct}(fairygui.GButton));Common.BtnYellowStruct=BtnYellowStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var BtnYellow=(function(_super){__extends(BtnYellow,_super);function BtnYellow(){return _super!==null&&_super.apply(this,arguments)||this}return BtnYellow}(Common.BtnYellowStruct));Common.BtnYellow=BtnYellow})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Btn_editor_nameStruct=(function(_super){__extends(Btn_editor_nameStruct,_super);function Btn_editor_nameStruct(){return _super.call(this)||this}Btn_editor_nameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","btn_editor_name"))};Btn_editor_nameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_editor_nameStruct.URL="ui://txcuvopdcvs8dq";Btn_editor_nameStruct.DependPackages=["Common"];return Btn_editor_nameStruct}(fairygui.GButton));Common.Btn_editor_nameStruct=Btn_editor_nameStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Btn_editor_name=(function(_super){__extends(Btn_editor_name,_super);function Btn_editor_name(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_editor_name}(Common.Btn_editor_nameStruct));Common.Btn_editor_name=Btn_editor_name})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlueStruct=(function(_super){__extends(ButtonBlueStruct,_super);function ButtonBlueStruct(){return _super.call(this)||this}ButtonBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonBlue"))};ButtonBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ButtonBlueStruct.URL="ui://txcuvopdoapba0";ButtonBlueStruct.DependPackages=["Common"];return ButtonBlueStruct}(fairygui.GButton));Common.ButtonBlueStruct=ButtonBlueStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlue=(function(_super){__extends(ButtonBlue,_super);function ButtonBlue(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonBlue}(Common.ButtonBlueStruct));Common.ButtonBlue=ButtonBlue})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlueBigStruct=(function(_super){__extends(ButtonBlueBigStruct,_super);function ButtonBlueBigStruct(){return _super.call(this)||this}ButtonBlueBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonBlueBig"))};ButtonBlueBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonBlueBigStruct.URL="ui://txcuvopdx9zq4n";ButtonBlueBigStruct.DependPackages=["Common"];return ButtonBlueBigStruct}(fairygui.GButton));Common.ButtonBlueBigStruct=ButtonBlueBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlueBig=(function(_super){__extends(ButtonBlueBig,_super);function ButtonBlueBig(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonBlueBig}(Common.ButtonBlueBigStruct));Common.ButtonBlueBig=ButtonBlueBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlueSmallStruct=(function(_super){__extends(ButtonBlueSmallStruct,_super);function ButtonBlueSmallStruct(){return _super.call(this)||this}ButtonBlueSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonBlueSmall"))};ButtonBlueSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonBlueSmallStruct.URL="ui://txcuvopdx9zq4k";ButtonBlueSmallStruct.DependPackages=["Common"];return ButtonBlueSmallStruct}(fairygui.GButton));Common.ButtonBlueSmallStruct=ButtonBlueSmallStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonBlueSmall=(function(_super){__extends(ButtonBlueSmall,_super);function ButtonBlueSmall(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonBlueSmall}(Common.ButtonBlueSmallStruct));Common.ButtonBlueSmall=ButtonBlueSmall})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCostStruct=(function(_super){__extends(ButtonCostStruct,_super);function ButtonCostStruct(){return _super.call(this)||this}ButtonCostStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonCost"))};ButtonCostStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_number=(this.getChild("number"))};ButtonCostStruct.URL="ui://txcuvopdw1srd0";ButtonCostStruct.DependPackages=["Common","Manage"];return ButtonCostStruct}(fairygui.GButton));Common.ButtonCostStruct=ButtonCostStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCost=(function(_super){__extends(ButtonCost,_super);function ButtonCost(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonCost}(Common.ButtonCostStruct));Common.ButtonCost=ButtonCost})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCostPurpleStruct=(function(_super){__extends(ButtonCostPurpleStruct,_super);function ButtonCostPurpleStruct(){return _super.call(this)||this}ButtonCostPurpleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonCostPurple"))};ButtonCostPurpleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_num=(this.getChild("num"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};ButtonCostPurpleStruct.URL="ui://txcuvopdq41hg7";ButtonCostPurpleStruct.DependPackages=["Common"];return ButtonCostPurpleStruct}(fairygui.GButton));Common.ButtonCostPurpleStruct=ButtonCostPurpleStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCostPurple=(function(_super){__extends(ButtonCostPurple,_super);function ButtonCostPurple(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonCostPurple}(Common.ButtonCostPurpleStruct));Common.ButtonCostPurple=ButtonCostPurple})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCostYellowStruct=(function(_super){__extends(ButtonCostYellowStruct,_super);function ButtonCostYellowStruct(){return _super.call(this)||this}ButtonCostYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonCostYellow"))};ButtonCostYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_num=(this.getChild("num"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};ButtonCostYellowStruct.URL="ui://txcuvopdq41hg8";ButtonCostYellowStruct.DependPackages=["Common"];return ButtonCostYellowStruct}(fairygui.GButton));Common.ButtonCostYellowStruct=ButtonCostYellowStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonCostYellow=(function(_super){__extends(ButtonCostYellow,_super);function ButtonCostYellow(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonCostYellow}(Common.ButtonCostYellowStruct));Common.ButtonCostYellow=ButtonCostYellow})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonDoubleLabelStruct=(function(_super){__extends(ButtonDoubleLabelStruct,_super);function ButtonDoubleLabelStruct(){return _super.call(this)||this}ButtonDoubleLabelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonDoubleLabel"))};ButtonDoubleLabelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_number=(this.getChild("number"))};ButtonDoubleLabelStruct.URL="ui://txcuvopdw1srd3";ButtonDoubleLabelStruct.DependPackages=["Common"];return ButtonDoubleLabelStruct}(fairygui.GButton));Common.ButtonDoubleLabelStruct=ButtonDoubleLabelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonDoubleLabel=(function(_super){__extends(ButtonDoubleLabel,_super);function ButtonDoubleLabel(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonDoubleLabel}(Common.ButtonDoubleLabelStruct));Common.ButtonDoubleLabel=ButtonDoubleLabel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonPurpleBigStruct=(function(_super){__extends(ButtonPurpleBigStruct,_super);function ButtonPurpleBigStruct(){return _super.call(this)||this}ButtonPurpleBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonPurpleBig"))};ButtonPurpleBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonPurpleBigStruct.URL="ui://txcuvopdx9zq4m";ButtonPurpleBigStruct.DependPackages=["Common"];return ButtonPurpleBigStruct}(fairygui.GButton));Common.ButtonPurpleBigStruct=ButtonPurpleBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonPurpleBig=(function(_super){__extends(ButtonPurpleBig,_super);function ButtonPurpleBig(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonPurpleBig}(Common.ButtonPurpleBigStruct));Common.ButtonPurpleBig=ButtonPurpleBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonPurpleSmallStruct=(function(_super){__extends(ButtonPurpleSmallStruct,_super);function ButtonPurpleSmallStruct(){return _super.call(this)||this}ButtonPurpleSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonPurpleSmall"))};ButtonPurpleSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonPurpleSmallStruct.URL="ui://txcuvopdx9zq4l";ButtonPurpleSmallStruct.DependPackages=["Common"];return ButtonPurpleSmallStruct}(fairygui.GButton));Common.ButtonPurpleSmallStruct=ButtonPurpleSmallStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonPurpleSmall=(function(_super){__extends(ButtonPurpleSmall,_super);function ButtonPurpleSmall(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonPurpleSmall}(Common.ButtonPurpleSmallStruct));Common.ButtonPurpleSmall=ButtonPurpleSmall})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTipBlueStruct=(function(_super){__extends(ButtonTipBlueStruct,_super);function ButtonTipBlueStruct(){return _super.call(this)||this}ButtonTipBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonTipBlue"))};ButtonTipBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_text=(this.getChild("text"))};ButtonTipBlueStruct.URL="ui://txcuvopdx9zq4s";ButtonTipBlueStruct.DependPackages=["Common"];return ButtonTipBlueStruct}(fairygui.GButton));Common.ButtonTipBlueStruct=ButtonTipBlueStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTipBlue=(function(_super){__extends(ButtonTipBlue,_super);function ButtonTipBlue(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonTipBlue}(Common.ButtonTipBlueStruct));Common.ButtonTipBlue=ButtonTipBlue})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTipsStruct=(function(_super){__extends(ButtonTipsStruct,_super);function ButtonTipsStruct(){return _super.call(this)||this}ButtonTipsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonTips"))};ButtonTipsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};ButtonTipsStruct.URL="ui://txcuvopdq41hg9";ButtonTipsStruct.DependPackages=["Common"];return ButtonTipsStruct}(fairygui.GButton));Common.ButtonTipsStruct=ButtonTipsStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTips=(function(_super){__extends(ButtonTips,_super);function ButtonTips(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonTips}(Common.ButtonTipsStruct));Common.ButtonTips=ButtonTips})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTipYellowStruct=(function(_super){__extends(ButtonTipYellowStruct,_super);function ButtonTipYellowStruct(){return _super.call(this)||this}ButtonTipYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonTipYellow"))};ButtonTipYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonTipYellowStruct.URL="ui://txcuvopdfawn4u";ButtonTipYellowStruct.DependPackages=["Common"];return ButtonTipYellowStruct}(fairygui.GButton));Common.ButtonTipYellowStruct=ButtonTipYellowStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonTipYellow=(function(_super){__extends(ButtonTipYellow,_super);function ButtonTipYellow(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonTipYellow}(Common.ButtonTipYellowStruct));Common.ButtonTipYellow=ButtonTipYellow})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowAddStruct=(function(_super){__extends(ButtonYellowAddStruct,_super);function ButtonYellowAddStruct(){return _super.call(this)||this}ButtonYellowAddStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonYellowAdd"))};ButtonYellowAddStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};ButtonYellowAddStruct.URL="ui://txcuvopd9mu0c0";ButtonYellowAddStruct.DependPackages=["Common"];return ButtonYellowAddStruct}(fairygui.GButton));Common.ButtonYellowAddStruct=ButtonYellowAddStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowAdd=(function(_super){__extends(ButtonYellowAdd,_super);function ButtonYellowAdd(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonYellowAdd}(Common.ButtonYellowAddStruct));Common.ButtonYellowAdd=ButtonYellowAdd})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowBigStruct=(function(_super){__extends(ButtonYellowBigStruct,_super);function ButtonYellowBigStruct(){return _super.call(this)||this}ButtonYellowBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonYellowBig"))};ButtonYellowBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonYellowBigStruct.URL="ui://txcuvopdx9zq4r";ButtonYellowBigStruct.DependPackages=["Common"];return ButtonYellowBigStruct}(fairygui.GButton));Common.ButtonYellowBigStruct=ButtonYellowBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowBig=(function(_super){__extends(ButtonYellowBig,_super);function ButtonYellowBig(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonYellowBig}(Common.ButtonYellowBigStruct));Common.ButtonYellowBig=ButtonYellowBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowIconBigStruct=(function(_super){__extends(ButtonYellowIconBigStruct,_super);function ButtonYellowIconBigStruct(){return _super.call(this)||this}ButtonYellowIconBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonYellowIconBig"))};ButtonYellowIconBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_text=(this.getChild("text"))};ButtonYellowIconBigStruct.URL="ui://txcuvopdrrsjaa";ButtonYellowIconBigStruct.DependPackages=["Common"];return ButtonYellowIconBigStruct}(fairygui.GButton));Common.ButtonYellowIconBigStruct=ButtonYellowIconBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowIconBig=(function(_super){__extends(ButtonYellowIconBig,_super);function ButtonYellowIconBig(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonYellowIconBig}(Common.ButtonYellowIconBigStruct));Common.ButtonYellowIconBig=ButtonYellowIconBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowSmallStruct=(function(_super){__extends(ButtonYellowSmallStruct,_super);function ButtonYellowSmallStruct(){return _super.call(this)||this}ButtonYellowSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ButtonYellowSmall"))};ButtonYellowSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonYellowSmallStruct.URL="ui://txcuvopdx9zq4j";ButtonYellowSmallStruct.DependPackages=["Common"];return ButtonYellowSmallStruct}(fairygui.GButton));Common.ButtonYellowSmallStruct=ButtonYellowSmallStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ButtonYellowSmall=(function(_super){__extends(ButtonYellowSmall,_super);function ButtonYellowSmall(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonYellowSmall}(Common.ButtonYellowSmallStruct));Common.ButtonYellowSmall=ButtonYellowSmall})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Button_CommonStruct=(function(_super){__extends(Button_CommonStruct,_super);function Button_CommonStruct(){return _super.call(this)||this}Button_CommonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Button_Common"))};Button_CommonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};Button_CommonStruct.URL="ui://txcuvopdmu1z2l";Button_CommonStruct.DependPackages=["Common","PfSkin"];return Button_CommonStruct}(fairygui.GButton));Common.Button_CommonStruct=Button_CommonStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Button_Common=(function(_super){__extends(Button_Common,_super);function Button_Common(){return _super!==null&&_super.apply(this,arguments)||this}return Button_Common}(Common.Button_CommonStruct));Common.Button_Common=Button_Common})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CheckboxStruct=(function(_super){__extends(CheckboxStruct,_super);function CheckboxStruct(){return _super.call(this)||this}CheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Checkbox"))};CheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};CheckboxStruct.URL="ui://txcuvopdj3a33o";CheckboxStruct.DependPackages=["Common","PfSkin"];return CheckboxStruct}(fairygui.GButton));Common.CheckboxStruct=CheckboxStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Checkbox=(function(_super){__extends(Checkbox,_super);function Checkbox(){return _super!==null&&_super.apply(this,arguments)||this}return Checkbox}(Common.CheckboxStruct));Common.Checkbox=Checkbox})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CheckBox2Struct=(function(_super){__extends(CheckBox2Struct,_super);function CheckBox2Struct(){return _super.call(this)||this}CheckBox2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CheckBox2"))};CheckBox2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};CheckBox2Struct.URL="ui://txcuvopde77bbw";CheckBox2Struct.DependPackages=["Common"];return CheckBox2Struct}(fairygui.GButton));Common.CheckBox2Struct=CheckBox2Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CheckBox2=(function(_super){__extends(CheckBox2,_super);function CheckBox2(){return _super!==null&&_super.apply(this,arguments)||this}return CheckBox2}(Common.CheckBox2Struct));Common.CheckBox2=CheckBox2})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CloseBtnStruct=(function(_super){__extends(CloseBtnStruct,_super);function CloseBtnStruct(){return _super.call(this)||this}CloseBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","closeBtn"))};CloseBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_closeBtn=(this.getChild("closeBtn"))};CloseBtnStruct.URL="ui://txcuvopdx9zq4b";CloseBtnStruct.DependPackages=["Common"];return CloseBtnStruct}(fairygui.GButton));Common.CloseBtnStruct=CloseBtnStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CloseBtn=(function(_super){__extends(CloseBtn,_super);function CloseBtn(){return _super!==null&&_super.apply(this,arguments)||this}return CloseBtn}(Common.CloseBtnStruct));Common.CloseBtn=CloseBtn})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonAssetItemStruct=(function(_super){__extends(CommonAssetItemStruct,_super);function CommonAssetItemStruct(){return _super.call(this)||this}CommonAssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonAssetItem"))};CommonAssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isLock=this.getController("isLock");this.m_frame=(this.getChild("frame"));this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"));this.m_star=(this.getChild("star"))};CommonAssetItemStruct.URL="ui://txcuvopdib9zb5";CommonAssetItemStruct.DependPackages=["Common"];return CommonAssetItemStruct}(fairygui.GButton));Common.CommonAssetItemStruct=CommonAssetItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonAssetItem=(function(_super){__extends(CommonAssetItem,_super);function CommonAssetItem(){return _super!==null&&_super.apply(this,arguments)||this}CommonAssetItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};CommonAssetItem.prototype.OnClick=function(){if(this.itemId!=null){Game.system.showItemInfo(this,this.itemId)}};Object.defineProperty(CommonAssetItem.prototype,"PopupInfo",{set:function(id){this.itemId=id},enumerable:true,configurable:true});CommonAssetItem.prototype.setInfo=function(info){this.m_icon.url=ItemHelper.getItemIcon(info.itemId);this.m_num.text="[color=#e3b121]"+ItemHelper.getItemNum(info.itemId)+"[/color]/"+info.itemNum;this.starNum=Game.config.item.getStarNum(info.itemId);this.PopupInfo=info.itemId};CommonAssetItem.prototype.setItemInfo=function(itemId,itemNum){this.m_icon.url=ItemHelper.getItemIcon(itemId);this.m_num.text="[color=#e3b121]"+ItemHelper.getItemNum(itemId)+"[/color]/"+itemNum;this.PopupInfo=itemId;this.starNum=Game.config.item.getStarNum(itemId)};Object.defineProperty(CommonAssetItem.prototype,"starNum",{set:function(num){this.m_star.starNum=num},enumerable:true,configurable:true});return CommonAssetItem}(Common.CommonAssetItemStruct));Common.CommonAssetItem=CommonAssetItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonAssetItem_littleStruct=(function(_super){__extends(CommonAssetItem_littleStruct,_super);function CommonAssetItem_littleStruct(){return _super.call(this)||this}CommonAssetItem_littleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonAssetItem_little"))};CommonAssetItem_littleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_frame=(this.getChild("frame"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};CommonAssetItem_littleStruct.URL="ui://txcuvopdpqkqcd";CommonAssetItem_littleStruct.DependPackages=["Common"];return CommonAssetItem_littleStruct}(fairygui.GButton));Common.CommonAssetItem_littleStruct=CommonAssetItem_littleStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonAssetItem_little=(function(_super){__extends(CommonAssetItem_little,_super);function CommonAssetItem_little(){return _super!==null&&_super.apply(this,arguments)||this}CommonAssetItem_little.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};CommonAssetItem_little.prototype.OnClick=function(){if(this.itemId){Game.system.showItemInfo(this,this.itemId)}};Object.defineProperty(CommonAssetItem_little.prototype,"PopupInfo",{set:function(id){this.itemId=id},enumerable:true,configurable:true});return CommonAssetItem_little}(Common.CommonAssetItem_littleStruct));Common.CommonAssetItem_little=CommonAssetItem_little})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonButtonStruct=(function(_super){__extends(CommonButtonStruct,_super);function CommonButtonStruct(){return _super.call(this)||this}CommonButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonButton"))};CommonButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visible_title=this.getController("visible_title");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CommonButtonStruct.URL="ui://txcuvopdoapb9z";CommonButtonStruct.DependPackages=["Common"];return CommonButtonStruct}(fairygui.GButton));Common.CommonButtonStruct=CommonButtonStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonButton=(function(_super){__extends(CommonButton,_super);function CommonButton(){return _super!==null&&_super.apply(this,arguments)||this}return CommonButton}(Common.CommonButtonStruct));Common.CommonButton=CommonButton})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonDialogUIStruct=(function(_super){__extends(CommonDialogUIStruct,_super);function CommonDialogUIStruct(){return _super.call(this)||this}CommonDialogUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonDialogUI"))};CommonDialogUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visibleCloseBtn=this.getController("visibleCloseBtn");this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"))};CommonDialogUIStruct.URL="ui://txcuvopdnsfy1p";CommonDialogUIStruct.DependPackages=["Common"];return CommonDialogUIStruct}(fairygui.GComponent));Common.CommonDialogUIStruct=CommonDialogUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonDialogUI=(function(_super){__extends(CommonDialogUI,_super);function CommonDialogUI(){return _super!==null&&_super.apply(this,arguments)||this}return CommonDialogUI}(Common.CommonDialogUIStruct));Common.CommonDialogUI=CommonDialogUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonItemStruct=(function(_super){__extends(CommonItemStruct,_super);function CommonItemStruct(){return _super.call(this)||this}CommonItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonItem"))};CommonItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_show_bg=this.getController("c_show_bg");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};CommonItemStruct.URL="ui://txcuvopdcwjyav";CommonItemStruct.DependPackages=["Common"];return CommonItemStruct}(fairygui.GButton));Common.CommonItemStruct=CommonItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonItem=(function(_super){__extends(CommonItem,_super);function CommonItem(){return _super!==null&&_super.apply(this,arguments)||this}CommonItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};CommonItem.prototype.OnClick=function(){if(this.itemId){Game.system.showItemInfo(this,this.itemId)}};Object.defineProperty(CommonItem.prototype,"PopupInfo",{set:function(id){this.itemId=id},enumerable:true,configurable:true});CommonItem.prototype.setInfo=function(info){this.m_icon.url=ItemHelper.getItemIcon(info.itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNumFormat(info.itemId)+"[/color]/"+formatNumberUnit(info.itemNum)};CommonItem.prototype.setItemInfo=function(itemId,itemNum){this.m_icon.url=ItemHelper.getItemIcon(itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNumFormat(itemId)+"[/color]/"+formatNumberUnit(itemNum)};CommonItem.prototype.updateViewByIdNum=function(id,num){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=formatNumberUnit(num)};CommonItem.prototype.updateViewByDTNum=function(data){var id=data.itemId;var num=data.itemNum;this.updateViewByIdNum(id,num)};CommonItem.prototype.updateViewByArray=function(idNum){var id=idNum[0];var num=idNum[1];this.updateViewByIdNum(id,num)};CommonItem.prototype.updateViewCurMax=function(id,cur,max){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=format("{0}/{1}",cur,max);this.titleColor="#114d74"};CommonItem.prototype.hideBg=function(){this.m_c_show_bg.selectedIndex=1};CommonItem.prototype.showBg=function(){this.m_c_show_bg.selectedIndex=0};return CommonItem}(Common.CommonItemStruct));Common.CommonItem=CommonItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonItem_70Struct=(function(_super){__extends(CommonItem_70Struct,_super);function CommonItem_70Struct(){return _super.call(this)||this}CommonItem_70Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonItem_70"))};CommonItem_70Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_show_bg=this.getController("c_show_bg");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};CommonItem_70Struct.URL="ui://txcuvopdui5jt23o";CommonItem_70Struct.DependPackages=["Common"];return CommonItem_70Struct}(fairygui.GButton));Common.CommonItem_70Struct=CommonItem_70Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonItem_70=(function(_super){__extends(CommonItem_70,_super);function CommonItem_70(){return _super!==null&&_super.apply(this,arguments)||this}CommonItem_70.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};CommonItem_70.prototype.OnClick=function(){if(this.itemId){Game.system.showItemInfo(this,this.itemId)}};Object.defineProperty(CommonItem_70.prototype,"PopupInfo",{set:function(id){this.itemId=id},enumerable:true,configurable:true});CommonItem_70.prototype.setInfo=function(info){this.m_icon.url=ItemHelper.getItemIcon(info.itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNum(info.itemId)+"[/color]/"+info.itemNum};CommonItem_70.prototype.setItemInfo=function(itemId,itemNum){this.m_icon.url=ItemHelper.getItemIcon(itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNum(itemId)+"[/color]/"+itemNum};CommonItem_70.prototype.updateViewByIdNum=function(id,num){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=formatNumberUnit(num)};CommonItem_70.prototype.updateViewByDTNum=function(data){var id=data.itemId;var num=data.itemNum;this.updateViewByIdNum(id,num)};CommonItem_70.prototype.updateViewByArray=function(idNum){var id=idNum[0];var num=idNum[1];this.updateViewByIdNum(id,num)};CommonItem_70.prototype.updateViewCurMax=function(id,cur,max){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=format("{0}/{1}",cur,max);this.titleColor="#114d74"};CommonItem_70.prototype.hideBg=function(){this.m_c_show_bg.selectedIndex=1};CommonItem_70.prototype.showBg=function(){this.m_c_show_bg.selectedIndex=0};return CommonItem_70}(Common.CommonItem_70Struct));Common.CommonItem_70=CommonItem_70})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonProgressBlueStruct=(function(_super){__extends(CommonProgressBlueStruct,_super);function CommonProgressBlueStruct(){return _super.call(this)||this}CommonProgressBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonProgressBlue"))};CommonProgressBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_top1=(this.getChild("top1"))};CommonProgressBlueStruct.URL="ui://txcuvopdr5spav";CommonProgressBlueStruct.DependPackages=["Common","System"];return CommonProgressBlueStruct}(fairygui.GProgressBar));Common.CommonProgressBlueStruct=CommonProgressBlueStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonProgressBlue=(function(_super){__extends(CommonProgressBlue,_super);function CommonProgressBlue(){return _super!==null&&_super.apply(this,arguments)||this}return CommonProgressBlue}(Common.CommonProgressBlueStruct));Common.CommonProgressBlue=CommonProgressBlue})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonSmallItemStruct=(function(_super){__extends(CommonSmallItemStruct,_super);function CommonSmallItemStruct(){return _super.call(this)||this}CommonSmallItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonSmallItem"))};CommonSmallItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_show_bg=this.getController("c_show_bg");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};CommonSmallItemStruct.URL="ui://txcuvopdtpm8cz";CommonSmallItemStruct.DependPackages=["Common"];return CommonSmallItemStruct}(fairygui.GButton));Common.CommonSmallItemStruct=CommonSmallItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonSmallItem=(function(_super){__extends(CommonSmallItem,_super);function CommonSmallItem(){return _super!==null&&_super.apply(this,arguments)||this}CommonSmallItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};CommonSmallItem.prototype.OnClick=function(){if(this.itemId){Game.system.showItemInfo(this,this.itemId)}};Object.defineProperty(CommonSmallItem.prototype,"PopupInfo",{set:function(id){this.itemId=id},enumerable:true,configurable:true});CommonSmallItem.prototype.setInfo=function(info){this.m_icon.url=ItemHelper.getItemIcon(info.itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNum(info.itemId)+"[/color]/"+info.itemNum};CommonSmallItem.prototype.setItemInfo=function(itemId,itemNum){this.m_icon.url=ItemHelper.getItemIcon(itemId);this.m_title.text="[color=#e3b121]"+ItemHelper.getItemNum(itemId)+"[/color]/"+itemNum};CommonSmallItem.prototype.updateViewByIdNum=function(id,num){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=formatNumberUnit(num)};CommonSmallItem.prototype.updateViewByDTNum=function(data){var id=data.itemId;var num=data.itemNum;this.updateViewByIdNum(id,num)};CommonSmallItem.prototype.updateViewByArray=function(idNum){var id=idNum[0];var num=idNum[1];this.updateViewByIdNum(id,num)};return CommonSmallItem}(Common.CommonSmallItemStruct));Common.CommonSmallItem=CommonSmallItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTapeStruct=(function(_super){__extends(CommonTapeStruct,_super);function CommonTapeStruct(){return _super.call(this)||this}CommonTapeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonTape"))};CommonTapeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t1=this.getTransition("t1")};CommonTapeStruct.URL="ui://txcuvopddvatt21f";CommonTapeStruct.DependPackages=["Common"];return CommonTapeStruct}(fairygui.GComponent));Common.CommonTapeStruct=CommonTapeStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTape=(function(_super){__extends(CommonTape,_super);function CommonTape(){return _super!==null&&_super.apply(this,arguments)||this}return CommonTape}(Common.CommonTapeStruct));Common.CommonTape=CommonTape})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitleAssetCloseUIStruct=(function(_super){__extends(CommonTitleAssetCloseUIStruct,_super);function CommonTitleAssetCloseUIStruct(){return _super.call(this)||this}CommonTitleAssetCloseUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonTitleAssetCloseUI"))};CommonTitleAssetCloseUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_assetList=(this.getChild("assetList"));this.m_closeBtn=(this.getChild("closeBtn"))};CommonTitleAssetCloseUIStruct.URL="ui://txcuvopdq41hg2";CommonTitleAssetCloseUIStruct.DependPackages=["Common"];return CommonTitleAssetCloseUIStruct}(fairygui.GComponent));Common.CommonTitleAssetCloseUIStruct=CommonTitleAssetCloseUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitleAssetCloseUI=(function(_super){__extends(CommonTitleAssetCloseUI,_super);function CommonTitleAssetCloseUI(){return _super!==null&&_super.apply(this,arguments)||this}return CommonTitleAssetCloseUI}(Common.CommonTitleAssetCloseUIStruct));Common.CommonTitleAssetCloseUI=CommonTitleAssetCloseUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitleAssetUIStruct=(function(_super){__extends(CommonTitleAssetUIStruct,_super);function CommonTitleAssetUIStruct(){return _super.call(this)||this}CommonTitleAssetUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonTitleAssetUI"))};CommonTitleAssetUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_assetList=(this.getChild("assetList"))};CommonTitleAssetUIStruct.URL="ui://txcuvopdq41hg3";CommonTitleAssetUIStruct.DependPackages=["Common"];return CommonTitleAssetUIStruct}(fairygui.GComponent));Common.CommonTitleAssetUIStruct=CommonTitleAssetUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitleAssetUI=(function(_super){__extends(CommonTitleAssetUI,_super);function CommonTitleAssetUI(){return _super!==null&&_super.apply(this,arguments)||this}CommonTitleAssetUI.prototype.setAssets=function(assetIds){this.m_assetList.removeChildrenToPool();this.assetIds=assetIds;for(var i=0;i<assetIds.length;i++){var assetId=assetIds[i];var assetItem=this.m_assetList.addItemFromPool();assetItem.setItemId(assetId);this.m_assetList.addChild(assetItem)}};CommonTitleAssetUI.prototype.updateAssets=function(){this.setAssets(this.assetIds)};CommonTitleAssetUI.prototype.getAssetGloblePos=function(index){var assetItem=this.m_assetList.getChildAt(index);var assetIcon=assetItem.m_assetIcon;var globalPos=assetItem.m_assetIcon.displayObject.localToGlobal(new Point(assetIcon.width/2,assetIcon.height/2));return globalPos};return CommonTitleAssetUI}(Common.CommonTitleAssetUIStruct));Common.CommonTitleAssetUI=CommonTitleAssetUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitlePanelUIStruct=(function(_super){__extends(CommonTitlePanelUIStruct,_super);function CommonTitlePanelUIStruct(){return _super.call(this)||this}CommonTitlePanelUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonTitlePanelUI"))};CommonTitlePanelUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"))};CommonTitlePanelUIStruct.URL="ui://txcuvopdq41hg4";CommonTitlePanelUIStruct.DependPackages=["Common"];return CommonTitlePanelUIStruct}(fairygui.GComponent));Common.CommonTitlePanelUIStruct=CommonTitlePanelUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonTitlePanelUI=(function(_super){__extends(CommonTitlePanelUI,_super);function CommonTitlePanelUI(){return _super!==null&&_super.apply(this,arguments)||this}return CommonTitlePanelUI}(Common.CommonTitlePanelUIStruct));Common.CommonTitlePanelUI=CommonTitlePanelUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonViewUIStruct=(function(_super){__extends(CommonViewUIStruct,_super);function CommonViewUIStruct(){return _super.call(this)||this}CommonViewUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","CommonViewUI"))};CommonViewUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};CommonViewUIStruct.URL="ui://txcuvopdpqkqcf";CommonViewUIStruct.DependPackages=["Common"];return CommonViewUIStruct}(fairygui.GComponent));Common.CommonViewUIStruct=CommonViewUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var CommonViewUI=(function(_super){__extends(CommonViewUI,_super);function CommonViewUI(){return _super!==null&&_super.apply(this,arguments)||this}return CommonViewUI}(Common.CommonViewUIStruct));Common.CommonViewUI=CommonViewUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var DialogMsgPanelStruct=(function(_super){__extends(DialogMsgPanelStruct,_super);function DialogMsgPanelStruct(){return _super.call(this)||this}DialogMsgPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","DialogMsgPanel"))};DialogMsgPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dir=this.getController("dir");this.m_talkBg=(this.getChild("talkBg"));this.m_title=(this.getChild("title"))};DialogMsgPanelStruct.URL="ui://txcuvopdtpm8c0";DialogMsgPanelStruct.DependPackages=["Common"];return DialogMsgPanelStruct}(fairygui.GLabel));Common.DialogMsgPanelStruct=DialogMsgPanelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var DialogMsgPanel=(function(_super){__extends(DialogMsgPanel,_super);function DialogMsgPanel(){return _super!==null&&_super.apply(this,arguments)||this}return DialogMsgPanel}(Common.DialogMsgPanelStruct));Common.DialogMsgPanel=DialogMsgPanel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var EmptyBtnStruct=(function(_super){__extends(EmptyBtnStruct,_super);function EmptyBtnStruct(){return _super.call(this)||this}EmptyBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","emptyBtn"))};EmptyBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};EmptyBtnStruct.URL="ui://txcuvopdyg8ya5";EmptyBtnStruct.DependPackages=["Common"];return EmptyBtnStruct}(fairygui.GButton));Common.EmptyBtnStruct=EmptyBtnStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var EmptyBtn=(function(_super){__extends(EmptyBtn,_super);function EmptyBtn(){return _super!==null&&_super.apply(this,arguments)||this}return EmptyBtn}(Common.EmptyBtnStruct));Common.EmptyBtn=EmptyBtn})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var FunctionItemStruct=(function(_super){__extends(FunctionItemStruct,_super);function FunctionItemStruct(){return _super.call(this)||this}FunctionItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","FunctionItem"))};FunctionItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};FunctionItemStruct.URL="ui://txcuvopdcwjyax";FunctionItemStruct.DependPackages=["Common"];return FunctionItemStruct}(fairygui.GButton));Common.FunctionItemStruct=FunctionItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OtherFunctionType=Games.OtherFunctionType;var FunctionItem=(function(_super){__extends(FunctionItem,_super);function FunctionItem(){return _super!==null&&_super.apply(this,arguments)||this}FunctionItem.prototype.updateView=function(type){this.type=type;switch(type){case OtherFunctionType.ActorSkillExp:var menuCfg=Game.config.menu.getConfig(MenuId.ArtListExercise);if(menuCfg){var avatarCfg=Game.config.avatar.getConfig(Number(menuCfg.icon));if(avatarCfg){this.m_icon.icon=avatarCfg.iconUrl}}this.m_title.text=TEXT.SystemGoOtherFunction_Go_1;break;case OtherFunctionType.ActorStarCard:var itemConfig=Game.config.item.getConfig(5007);if(itemConfig){this.m_icon.icon=itemConfig.iconUrl;this.m_title.text=itemConfig.name}break;default:break}};return FunctionItem}(Common.FunctionItemStruct));Common.FunctionItem=FunctionItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GetWayAlertStruct=(function(_super){__extends(GetWayAlertStruct,_super);function GetWayAlertStruct(){return _super.call(this)||this}GetWayAlertStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","GetWayAlert"))};GetWayAlertStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_lbl=(this.getChild("lbl"));this.m_descTxt=(this.getChild("descTxt"));this.m_needText=(this.getChild("needText"));this.m_getwayList=(this.getChild("getwayList"));this.m_assetNum=(this.getChild("assetNum"));this.m_assetLoad=(this.getChild("assetLoad"));this.m_bgmodel=(this.getChild("bgmodel"));this.m_commonDialog=(this.getChild("commonDialog"))};GetWayAlertStruct.URL="ui://txcuvopde57g2b";GetWayAlertStruct.DependPackages=["Common","System","PlayerInfo"];return GetWayAlertStruct}(fairygui.GComponent));Common.GetWayAlertStruct=GetWayAlertStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GetWayAlert=(function(_super){__extends(GetWayAlert,_super);function GetWayAlert(){return _super!==null&&_super.apply(this,arguments)||this}GetWayAlert.prototype.setInfo=function(itemId,costNum){this.m_commonDialog.m_closeBtn.onClick(this,this.onCloseSelf);var itemcfg=Game.config.item.getConfig(itemId);if(itemcfg){this.m_commonDialog.m_title.text=Game.config.msg.getTxtFormat(MsgKey.build_non_material,itemcfg.name);var userItem=Game.moduleModel.item.getItem(itemId);this.m_assetLoad.url=userItem.itemIconUrl;this.m_assetNum.text=formatNumberUnit(costNum-userItem.itemNum).toString();this.m_descTxt.text=itemcfg.get_way_explain;this.setGetWay(itemcfg)}Games.MenuLayer.dialog.addChild(this)};GetWayAlert.prototype.setGetWay=function(cfg){this.m_getwayList.removeChildrenToPool();var getWayList=cfg.get_way;for(var _i=0,getWayList_1=getWayList;_i<getWayList_1.length;_i++){var getway=getWayList_1[_i];var menuCfg=Game.config.menu.getConfig(getway);if(menuCfg){var getwayItem=this.m_getwayList.addItemFromPool();getwayItem.setMenuId(getway);getwayItem.onClick(this,this.onGetWayItemClick,[getwayItem,getway]);this.m_getwayList.addChild(getwayItem)}}};GetWayAlert.prototype.onGetWayItemClick=function(getwayItem,menuId){var menuConfig=Game.config.menu.getConfig(menuId);if(menuConfig){var openResult=menuConfig.openMenu();if(openResult){this.onCloseSelf()}}};GetWayAlert.prototype.onCloseSelf=function(){this.parent.removeChild(this)};return GetWayAlert}(Common.GetWayAlertStruct));Common.GetWayAlert=GetWayAlert})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GetWayItemStruct=(function(_super){__extends(GetWayItemStruct,_super);function GetWayItemStruct(){return _super.call(this)||this}GetWayItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","GetWayItem"))};GetWayItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_loader=(this.getChild("loader"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"))};GetWayItemStruct.URL="ui://txcuvopde57g2e";GetWayItemStruct.DependPackages=["Common"];return GetWayItemStruct}(fairygui.GComponent));Common.GetWayItemStruct=GetWayItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GetWayItem=(function(_super){__extends(GetWayItem,_super);function GetWayItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuId=0;return _this}GetWayItem.prototype.setMenuId=function(menuId){this.menuId=menuId;var menuCfg=Game.config.menu.getConfig(menuId);var avatarCfg=Game.config.avatar.getConfig(Number(menuCfg.icon));if(avatarCfg){this.m_loader.url=avatarCfg.iconUrl}this.m_title.text=menuCfg.name;if(!menuCfg.isUnlock){FguiHelper.halfStaturation(this);this.m_lock.visible=true}else{this.m_lock.visible=false;FguiHelper.clearFilters(this)}};return GetWayItem}(Common.GetWayItemStruct));Common.GetWayItem=GetWayItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GripButtonStruct=(function(_super){__extends(GripButtonStruct,_super);function GripButtonStruct(){return _super.call(this)||this}GripButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","GripButton"))};GripButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};GripButtonStruct.URL="ui://txcuvopdnsfy2a";GripButtonStruct.DependPackages=["Common"];return GripButtonStruct}(fairygui.GButton));Common.GripButtonStruct=GripButtonStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var GripButton=(function(_super){__extends(GripButton,_super);function GripButton(){return _super!==null&&_super.apply(this,arguments)||this}return GripButton}(Common.GripButtonStruct));Common.GripButton=GripButton})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadIconItemStruct=(function(_super){__extends(HeadIconItemStruct,_super);function HeadIconItemStruct(){return _super.call(this)||this}HeadIconItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","HeadIconItem"))};HeadIconItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};HeadIconItemStruct.URL="ui://txcuvopdlq443b";HeadIconItemStruct.DependPackages=["Common"];return HeadIconItemStruct}(fairygui.GButton));Common.HeadIconItemStruct=HeadIconItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadIconItem=(function(_super){__extends(HeadIconItem,_super);function HeadIconItem(){return _super!==null&&_super.apply(this,arguments)||this}return HeadIconItem}(Common.HeadIconItemStruct));Common.HeadIconItem=HeadIconItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadItem100Struct=(function(_super){__extends(HeadItem100Struct,_super);function HeadItem100Struct(){return _super.call(this)||this}HeadItem100Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","HeadItem100"))};HeadItem100Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};HeadItem100Struct.URL="ui://txcuvopdtpm8cp";HeadItem100Struct.DependPackages=["Common"];return HeadItem100Struct}(fairygui.GLabel));Common.HeadItem100Struct=HeadItem100Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadItem100=(function(_super){__extends(HeadItem100,_super);function HeadItem100(){return _super!==null&&_super.apply(this,arguments)||this}return HeadItem100}(Common.HeadItem100Struct));Common.HeadItem100=HeadItem100})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadItemIconStruct=(function(_super){__extends(HeadItemIconStruct,_super);function HeadItemIconStruct(){return _super.call(this)||this}HeadItemIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","HeadItemIcon"))};HeadItemIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};HeadItemIconStruct.URL="ui://txcuvopdw1srd5";HeadItemIconStruct.DependPackages=["Common"];return HeadItemIconStruct}(fairygui.GLabel));Common.HeadItemIconStruct=HeadItemIconStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var HeadItemIcon=(function(_super){__extends(HeadItemIcon,_super);function HeadItemIcon(){return _super!==null&&_super.apply(this,arguments)||this}return HeadItemIcon}(Common.HeadItemIconStruct));Common.HeadItemIcon=HeadItemIcon})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemCellViewStruct=(function(_super){__extends(ItemCellViewStruct,_super);function ItemCellViewStruct(){return _super.call(this)||this}ItemCellViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemCellView"))};ItemCellViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ItemCellViewStruct.URL="ui://txcuvopdjdsf11";ItemCellViewStruct.DependPackages=["Common"];return ItemCellViewStruct}(fairygui.GButton));Common.ItemCellViewStruct=ItemCellViewStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemCellView=(function(_super){__extends(ItemCellView,_super);function ItemCellView(){return _super!==null&&_super.apply(this,arguments)||this}ItemCellView.prototype.updateViewByIdNum=function(id,num){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=formatNumberUnit(num)};ItemCellView.prototype.updateViewByDTNum=function(data){var id=data.itemId;var num=data.itemNum;this.updateViewByIdNum(id,num)};ItemCellView.prototype.updateViewByArray=function(idNum){var id=idNum[0];var num=idNum[1];this.updateViewByIdNum(id,num)};return ItemCellView}(Common.ItemCellViewStruct));Common.ItemCellView=ItemCellView})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemIcon100x100Struct=(function(_super){__extends(ItemIcon100x100Struct,_super);function ItemIcon100x100Struct(){return _super.call(this)||this}ItemIcon100x100Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemIcon100x100"))};ItemIcon100x100Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ItemIcon100x100Struct.URL="ui://txcuvopdx9zq44";ItemIcon100x100Struct.DependPackages=["Common"];return ItemIcon100x100Struct}(fairygui.GLabel));Common.ItemIcon100x100Struct=ItemIcon100x100Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemIcon100x100=(function(_super){__extends(ItemIcon100x100,_super);function ItemIcon100x100(){return _super!==null&&_super.apply(this,arguments)||this}ItemIcon100x100.prototype.updateViewByIdNum=function(id,num){var config=Game.config.item.getConfig(id);if(config){this.m_icon.icon=config.iconUrl}this.m_title.text=formatNumberUnit(num)};ItemIcon100x100.prototype.updateViewByDTNum=function(data){var id=data.itemId;var num=data.itemNum;this.updateViewByIdNum(id,num)};ItemIcon100x100.prototype.updateViewByArray=function(idNum){var id=idNum[0];var num=idNum[1];this.updateViewByIdNum(id,num)};ItemIcon100x100.prototype.setItemNumData=function(data){this.dtItemNum=data;this.m_icon.url=data.itemIconUrl;this.m_title.text=data.itemNumTxt};ItemIcon100x100.prototype.setItemData=function(data){this.itemData=data;this.m_icon.url=data.itemIconUrl;this.m_title.text=data.itemNumTxt};return ItemIcon100x100}(Common.ItemIcon100x100Struct));Common.ItemIcon100x100=ItemIcon100x100})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemIcon50x50Struct=(function(_super){__extends(ItemIcon50x50Struct,_super);function ItemIcon50x50Struct(){return _super.call(this)||this}ItemIcon50x50Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemIcon50x50"))};ItemIcon50x50Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ItemIcon50x50Struct.URL="ui://txcuvopdj3a33p";ItemIcon50x50Struct.DependPackages=["Common"];return ItemIcon50x50Struct}(fairygui.GLabel));Common.ItemIcon50x50Struct=ItemIcon50x50Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemIcon50x50=(function(_super){__extends(ItemIcon50x50,_super);function ItemIcon50x50(){return _super!==null&&_super.apply(this,arguments)||this}ItemIcon50x50.prototype.setItemNumData=function(data){this.dtItemNum=data;this.m_icon.url=data.itemIconUrl;var level=User.info.level;var titleNum=Math.floor((level/10)+1)*level*10+500;this.m_title.text=formatNumberUnit(titleNum)};ItemIcon50x50.prototype.setItemData=function(data){this.itemData=data;this.m_icon.url=data.itemIconUrl;this.m_title.text=data.itemNumTxt};return ItemIcon50x50}(Common.ItemIcon50x50Struct));Common.ItemIcon50x50=ItemIcon50x50})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemInfoStruct=(function(_super){__extends(ItemInfoStruct,_super);function ItemInfoStruct(){return _super.call(this)||this}ItemInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemInfo"))};ItemInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isType7=this.getController("isType7");this.m_name=(this.getChild("name"));this.m_num=(this.getChild("num"));this.m_desc=(this.getChild("desc"));this.m_way=(this.getChild("way"));this.m_icon=(this.getChild("icon"))};ItemInfoStruct.URL="ui://txcuvopddo33t235";ItemInfoStruct.DependPackages=["Common","WarMovie","Cooperation"];return ItemInfoStruct}(fairygui.GComponent));Common.ItemInfoStruct=ItemInfoStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemInfo=(function(_super){__extends(ItemInfo,_super);function ItemInfo(){return _super!==null&&_super.apply(this,arguments)||this}ItemInfo.prototype.UpdateData=function(data){this.m_icon.icon=data.itemIconUrl;this.m_name.text=data.itemName;this.m_num.text=Games.TEXT.ItemHave+data.itemNumTxt;this.m_desc.text=data.itemDes;this.m_way.text=data.itemConfig.get_way_explain};ItemInfo.prototype.showPopup=function(button){fairygui.GRoot.inst.showPopup(this,button)};ItemInfo.prototype.Show=function(button,itemId){var data=Game.moduleModel.item.getItem(itemId);this.UpdateData(data);this.showPopup(button)};return ItemInfo}(Common.ItemInfoStruct));Common.ItemInfo=ItemInfo})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemInfoPanelStruct=(function(_super){__extends(ItemInfoPanelStruct,_super);function ItemInfoPanelStruct(){return _super.call(this)||this}ItemInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemInfoPanel"))};ItemInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_itemInfo=(this.getChild("itemInfo"));this.m_t0=this.getTransition("t0")};ItemInfoPanelStruct.URL="ui://txcuvopdh9c1t234";ItemInfoPanelStruct.DependPackages=["Common"];return ItemInfoPanelStruct}(fairygui.GComponent));Common.ItemInfoPanelStruct=ItemInfoPanelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemInfoPanel=(function(_super){__extends(ItemInfoPanel,_super);function ItemInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}ItemInfoPanel.prototype.Show=function(button,data){this.m_itemInfo.UpdateData(data);this.m_itemInfo.showPopup(button);Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};ItemInfoPanel.prototype.UpdatePoint=function(point){if(point.y<this.m_itemInfo.height){if(point.x>(this.width-this.m_itemInfo.width)){this.m_itemInfo.setPivot(1,0)}else{this.m_itemInfo.setPivot(0,0)}}else{if(point.x>(this.width-this.m_itemInfo.width)){this.m_itemInfo.setPivot(1,1)}else{this.m_itemInfo.setPivot(0,1)}}};ItemInfoPanel.prototype.Hide=function(){this.removeFromParent()};return ItemInfoPanel}(Common.ItemInfoPanelStruct));Common.ItemInfoPanel=ItemInfoPanel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemViewStruct=(function(_super){__extends(ItemViewStruct,_super);function ItemViewStruct(){return _super.call(this)||this}ItemViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ItemView"))};ItemViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ItemViewStruct.URL="ui://txcuvopdcwjyb3";ItemViewStruct.DependPackages=["Common","WarMovie"];return ItemViewStruct}(fairygui.GButton));Common.ItemViewStruct=ItemViewStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ItemView=(function(_super){__extends(ItemView,_super);function ItemView(){return _super!==null&&_super.apply(this,arguments)||this}return ItemView}(Common.ItemViewStruct));Common.ItemView=ItemView})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MainStruct=(function(_super){__extends(MainStruct,_super);function MainStruct(){return _super.call(this)||this}MainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Main"))};MainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};MainStruct.URL="ui://txcuvopdarcy2h";MainStruct.DependPackages=["Common"];return MainStruct}(fairygui.GComponent));Common.MainStruct=MainStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Main=(function(_super){__extends(Main,_super);function Main(){return _super!==null&&_super.apply(this,arguments)||this}return Main}(Common.MainStruct));Common.Main=Main})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MarqueeStruct=(function(_super){__extends(MarqueeStruct,_super);function MarqueeStruct(){return _super.call(this)||this}MarqueeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Marquee"))};MarqueeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_way=(this.getChild("way"))};MarqueeStruct.URL="ui://txcuvopdenjffs";MarqueeStruct.DependPackages=["Common"];return MarqueeStruct}(fairygui.GLabel));Common.MarqueeStruct=MarqueeStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Marquee=(function(_super){__extends(Marquee,_super);function Marquee(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isShow=false;return _this}Marquee.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.tick=Game.tick.AddTick(20,-1,Handler.create(this,this.AddNewContent,null,false),null)};Marquee.prototype.UpdateView=function(msg,distance){if(distance===void 0){distance=20}this.msgList=msg;this.tick.SetDistance(distance)};Marquee.prototype.Show=function(){this.isShow=true;this.m_way.Show();this.tick.Continue()};Marquee.prototype.Hide=function(){this.isShow=false;this.m_way.Hide();this.tick.Stop()};Marquee.prototype.AddNewContent=function(){if(this.isShow&&this.msgList){var range=this.msgList.length;var rand=Math.random();var index=Math.round(rand*(this.msgList.length-1));this.m_way.AddMsg(this.msgList[index])}};return Marquee}(Common.MarqueeStruct));Common.Marquee=Marquee})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieEvaluationIconStruct=(function(_super){__extends(MovieEvaluationIconStruct,_super);function MovieEvaluationIconStruct(){return _super.call(this)||this}MovieEvaluationIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","MovieEvaluationIcon"))};MovieEvaluationIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};MovieEvaluationIconStruct.URL="ui://txcuvopdcvs8d1";MovieEvaluationIconStruct.DependPackages=["Common"];return MovieEvaluationIconStruct}(fairygui.GLabel));Common.MovieEvaluationIconStruct=MovieEvaluationIconStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieEvaluationIcon=(function(_super){__extends(MovieEvaluationIcon,_super);function MovieEvaluationIcon(){return _super!==null&&_super.apply(this,arguments)||this}return MovieEvaluationIcon}(Common.MovieEvaluationIconStruct));Common.MovieEvaluationIcon=MovieEvaluationIcon})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieIconStruct=(function(_super){__extends(MovieIconStruct,_super);function MovieIconStruct(){return _super.call(this)||this}MovieIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","MovieIcon"))};MovieIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showHelp=this.getController("showHelp");this.m_showLv=this.getController("showLv");this.m_icon=(this.getChild("icon"));this.m_lv=(this.getChild("lv"))};MovieIconStruct.URL="ui://txcuvopdcvs8de";MovieIconStruct.DependPackages=["Common","WarMovie"];return MovieIconStruct}(fairygui.GButton));Common.MovieIconStruct=MovieIconStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieIcon=(function(_super){__extends(MovieIcon,_super);function MovieIcon(){return _super!==null&&_super.apply(this,arguments)||this}return MovieIcon}(Common.MovieIconStruct));Common.MovieIcon=MovieIcon})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieIcon_littleStruct=(function(_super){__extends(MovieIcon_littleStruct,_super);function MovieIcon_littleStruct(){return _super.call(this)||this}MovieIcon_littleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","movieIcon_little"))};MovieIcon_littleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};MovieIcon_littleStruct.URL="ui://txcuvopdpqkqch";MovieIcon_littleStruct.DependPackages=["Common"];return MovieIcon_littleStruct}(fairygui.GButton));Common.MovieIcon_littleStruct=MovieIcon_littleStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieIcon_little=(function(_super){__extends(MovieIcon_little,_super);function MovieIcon_little(){return _super!==null&&_super.apply(this,arguments)||this}return MovieIcon_little}(Common.MovieIcon_littleStruct));Common.MovieIcon_little=MovieIcon_little})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieInfoItemStruct=(function(_super){__extends(MovieInfoItemStruct,_super);function MovieInfoItemStruct(){return _super.call(this)||this}MovieInfoItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","MovieInfoItem"))};MovieInfoItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showHelp=this.getController("showHelp");this.m_boxOffice=(this.getChild("boxOffice"));this.m_icon=(this.getChild("icon"))};MovieInfoItemStruct.URL="ui://txcuvopdcvs8d0";MovieInfoItemStruct.DependPackages=["Common"];return MovieInfoItemStruct}(fairygui.GButton));Common.MovieInfoItemStruct=MovieInfoItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var MovieInfoItem=(function(_super){__extends(MovieInfoItem,_super);function MovieInfoItem(){return _super!==null&&_super.apply(this,arguments)||this}MovieInfoItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};MovieInfoItem.prototype.Render=function(movieData,block){this.movieData=movieData;this.m_boxOffice.text=formatNumberUnit(this.movieData.totalBoxOffice||0,this.movieData.totalBoxOffice>1000?1:0);this.m_icon.icon=Game.config.story.GetPoster(this.movieData.movieId);this.m_icon.m_lv.icon=Game.config.blockLevel.GetSellIconUrl(block,this.movieData.totalBoxOffice);this.m_icon.m_lv.title=""};return MovieInfoItem}(Common.MovieInfoItemStruct));Common.MovieInfoItem=MovieInfoItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmuStruct=(function(_super){__extends(OscarDanmuStruct,_super);function OscarDanmuStruct(){return _super.call(this)||this}OscarDanmuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","OscarDanmu"))};OscarDanmuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};OscarDanmuStruct.URL="ui://txcuvopdenjffp";OscarDanmuStruct.DependPackages=["Common"];return OscarDanmuStruct}(fairygui.GComponent));Common.OscarDanmuStruct=OscarDanmuStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmu=(function(_super){__extends(OscarDanmu,_super);function OscarDanmu(){return _super!==null&&_super.apply(this,arguments)||this}OscarDanmu.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_list.numItems=10};OscarDanmu.prototype.Show=function(){for(var index=0;index<this.m_list.numChildren;index++){var item=this.m_list.getChildAt(index);item.Show()}};OscarDanmu.prototype.Hide=function(){for(var index=0;index<this.m_list.numChildren;index++){var item=this.m_list.getChildAt(index);item.Hide()}};OscarDanmu.prototype.RenderItem=function(index,obj){};OscarDanmu.prototype.UpdateView=function(){};OscarDanmu.prototype.AddDanmuList=function(danmuList){if(danmuList==null){return}for(var index=0;index<danmuList.length;index++){var danmu=danmuList[index];this.AddDanmu(danmu)}};OscarDanmu.prototype.AddDanmu=function(danmu){var freetime=Number.MAX_VALUE;var freeItem;for(var index=0;index<this.m_list.numChildren;index++){var item=this.m_list.getChildAt(index);if(item.freeTime<freetime){freetime=item.freeTime;freeItem=item}}if(freeItem){freeItem.AddDanmu(danmu)}};return OscarDanmu}(Common.OscarDanmuStruct));Common.OscarDanmu=OscarDanmu})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmuContentStruct=(function(_super){__extends(OscarDanmuContentStruct,_super);function OscarDanmuContentStruct(){return _super.call(this)||this}OscarDanmuContentStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","OscarDanmuContent"))};OscarDanmuContentStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};OscarDanmuContentStruct.URL="ui://txcuvopdenjffr";OscarDanmuContentStruct.DependPackages=["Common"];return OscarDanmuContentStruct}(fairygui.GLabel));Common.OscarDanmuContentStruct=OscarDanmuContentStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmuContent=(function(_super){__extends(OscarDanmuContent,_super);function OscarDanmuContent(){return _super!==null&&_super.apply(this,arguments)||this}OscarDanmuContent.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarDanmuContent.prototype.InitView=function(data,parentWidth,speed,caller,onFree,onFinish){this.danmuData=data;this.parentWidth=parentWidth;this.speed=speed;this.caller=caller;this.onFree=onFree;this.onFinish=onFinish;this.title=this.danmuData.msg;this.width=this.m_title.width+50;this.startPos=this.parentWidth;this.freePos=this.parentWidth-this.width;this.finishPos=-this.width};OscarDanmuContent.prototype.StartMove=function(){this.StopMove();if(this.x>this.startPos){this.x=this.startPos;this.moveTween=Laya.Tween.to(this,{x:this.freePos},(this.x-this.freePos)/this.speed,null,Handler.create(this,this.OnMoveFinish,null,false))}else{if(this.x>this.freePos){this.moveTween=Laya.Tween.to(this,{x:this.freePos},(this.x-this.freePos)/this.speed,null,Handler.create(this,this.OnMoveFree,null,false))}else{if(this.x>this.finishPos){this.moveTween=Laya.Tween.to(this,{x:this.finishPos},(this.x-this.finishPos)/this.speed,null,Handler.create(this,this.OnMoveFinish,null,false))}else{this.OnMoveFinish()}}}};OscarDanmuContent.prototype.StopMove=function(){if(this.moveTween){this.moveTween.clear();this.moveTween=null}};OscarDanmuContent.prototype.OnMoveFree=function(){this.moveTween=Laya.Tween.to(this,{x:this.finishPos},(this.x-this.finishPos)/this.speed,null,Handler.create(this,this.OnMoveFinish,null,false));this.onFree.apply(this.caller,[this])};OscarDanmuContent.prototype.OnMoveFinish=function(){this.StopMove();this.onFinish.apply(this.caller,[this])};Object.defineProperty(OscarDanmuContent.prototype,"freeTime",{get:function(){if(this.x<this.freePos){return 0}return(this.x-this.freePos)/this.speed},enumerable:true,configurable:true});return OscarDanmuContent}(Common.OscarDanmuContentStruct));Common.OscarDanmuContent=OscarDanmuContent})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmuWayStruct=(function(_super){__extends(OscarDanmuWayStruct,_super);function OscarDanmuWayStruct(){return _super.call(this)||this}OscarDanmuWayStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","OscarDanmuWay"))};OscarDanmuWayStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkContent=(this.getChild("talkContent"))};OscarDanmuWayStruct.URL="ui://txcuvopdenjffq";OscarDanmuWayStruct.DependPackages=["Common"];return OscarDanmuWayStruct}(fairygui.GComponent));Common.OscarDanmuWayStruct=OscarDanmuWayStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OscarDanmuWay=(function(_super){__extends(OscarDanmuWay,_super);function OscarDanmuWay(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listDanmuContent=[];_this.contentPool=new fairygui.GObjectPool();_this.speed=0.1;_this.contentCache=[];_this.isStart=false;return _this}Object.defineProperty(OscarDanmuWay.prototype,"freeTime",{get:function(){if(this.runToFreeItem){if(this.contentCache.length>0){return this.runToFreeItem.freeTime+this.width/this.speed*this.contentCache.length}else{return this.runToFreeItem.freeTime}}return 0},enumerable:true,configurable:true});OscarDanmuWay.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarDanmuWay.prototype.Show=function(){this.Start()};OscarDanmuWay.prototype.Hide=function(){this.Clear()};OscarDanmuWay.prototype.AddDanmu=function(danmu){if(this.freeTime==0){this.AddDanmuItem(danmu)}else{this.contentCache.push(danmu)}};OscarDanmuWay.prototype.AddMsg=function(msg){var danmu=new Games.DanmuData();danmu.msg=msg;this.AddDanmu(danmu)};OscarDanmuWay.prototype.AddDanmuItem=function(danmu){var content=this.contentPool.getObject(fgui.Common.OscarDanmuContent.URL);this.addChild(content);content.setXY(this.width,0);content.InitView(danmu,this.width,this.speed,this,this.OnMoveFree,this.OnMoveFinish);this.runToFreeItem=content;this.listDanmuContent.push(content);if(this.isStart){content.StartMove()}};OscarDanmuWay.prototype.Start=function(){this.isStart=true;for(var index=0;index<this.listDanmuContent.length;index++){var item=this.listDanmuContent[index];item.StartMove()}};OscarDanmuWay.prototype.Clear=function(){this.isStart=false;if(this.runToFreeItem){this.runToFreeItem=null}for(var index=0;index<this.listDanmuContent.length;index++){var item=this.listDanmuContent[index];item.OnMoveFinish()}this.contentCache.length=0};OscarDanmuWay.prototype.OnMoveFree=function(item){if(this.contentCache&&this.contentCache.length>0){var data=this.contentCache.shift();this.AddDanmuItem(data)}else{this.runToFreeItem=null;if(this.allFreeHandler){this.allFreeHandler.run()}}};OscarDanmuWay.prototype.OnMoveFinish=function(item){if(this.listDanmuContent&&this.listDanmuContent.length>0){this.listDanmuContent.shift()}else{if(this.allFinishHandler){this.allFinishHandler.run()}}this.removeChild(item);this.contentPool.returnObject(item)};Object.defineProperty(OscarDanmuWay.prototype,"AllFreeHandler",{set:function(handler){this.allFreeHandler=handler},enumerable:true,configurable:true});Object.defineProperty(OscarDanmuWay.prototype,"AllFinishHandler",{set:function(handler){this.allFinishHandler=handler},enumerable:true,configurable:true});return OscarDanmuWay}(Common.OscarDanmuWayStruct));Common.OscarDanmuWay=OscarDanmuWay})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PactIcon_44Struct=(function(_super){__extends(PactIcon_44Struct,_super);function PactIcon_44Struct(){return _super.call(this)||this}PactIcon_44Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PactIcon_44"))};PactIcon_44Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};PactIcon_44Struct.URL="ui://txcuvopdth3bt23b";PactIcon_44Struct.DependPackages=["Common","WarMovie"];return PactIcon_44Struct}(fairygui.GButton));Common.PactIcon_44Struct=PactIcon_44Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PactIcon_44=(function(_super){__extends(PactIcon_44,_super);function PactIcon_44(){return _super!==null&&_super.apply(this,arguments)||this}PactIcon_44.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};PactIcon_44.prototype.OnClick=function(){if(this.itemData!=null){Game.system.showItemInfo(this,this.itemData.itemId)}};PactIcon_44.prototype.Render=function(itemData){this.itemData=itemData;if(itemData){this.title=itemData.itemNumTxt;this.m_star.starNum=itemData.itemStar;this.m_icon.AvatarId=itemData.itemConfig.icon}};return PactIcon_44}(Common.PactIcon_44Struct));Common.PactIcon_44=PactIcon_44})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PactIcon_80Struct=(function(_super){__extends(PactIcon_80Struct,_super);function PactIcon_80Struct(){return _super.call(this)||this}PactIcon_80Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PactIcon_80"))};PactIcon_80Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};PactIcon_80Struct.URL="ui://txcuvopdyg86t23h";PactIcon_80Struct.DependPackages=["Common","WarMovie"];return PactIcon_80Struct}(fairygui.GButton));Common.PactIcon_80Struct=PactIcon_80Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PactIcon_80=(function(_super){__extends(PactIcon_80,_super);function PactIcon_80(){return _super!==null&&_super.apply(this,arguments)||this}PactIcon_80.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.OnClick)};PactIcon_80.prototype.OnClick=function(){if(this.itemData!=null){Game.system.showItemInfo(this,this.itemData.itemId)}};PactIcon_80.prototype.Render=function(itemData){this.itemData=itemData;if(itemData){this.title=itemData.itemNumTxt;this.m_star.starNum=itemData.itemStar;this.m_icon.m_icon.url=itemData.itemBodyIconUrl}};return PactIcon_80}(Common.PactIcon_80Struct));Common.PactIcon_80=PactIcon_80})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PlayerMovieInfoStruct=(function(_super){__extends(PlayerMovieInfoStruct,_super);function PlayerMovieInfoStruct(){return _super.call(this)||this}PlayerMovieInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PlayerMovieInfo"))};PlayerMovieInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listMovieLv=(this.getChild("listMovieLv"));this.m_listBestMovie=(this.getChild("listBestMovie"))};PlayerMovieInfoStruct.URL="ui://txcuvopdcvs8cq";PlayerMovieInfoStruct.DependPackages=["Common"];return PlayerMovieInfoStruct}(fairygui.GComponent));Common.PlayerMovieInfoStruct=PlayerMovieInfoStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PlayerMovieInfo=(function(_super){__extends(PlayerMovieInfo,_super);function PlayerMovieInfo(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.BestMovieItemName="BestMovieItem";return _this}PlayerMovieInfo.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listMovieLv.itemRenderer=new Handler(this,this.RenderMovieLvItem,null,false);this.m_listBestMovie.itemRenderer=new Handler(this,this.RenderBestMovieItem,null,false);this.m_listMovieLv.on(fairygui.Events.CLICK_ITEM,this,this.OnMovieLvClick);this.m_listBestMovie.on(fairygui.Events.CLICK_ITEM,this,this.OnBestMovieClick);this.m_listMovieLv.foldInvisibleItems=true};PlayerMovieInfo.prototype.Render=function(playerData){this.playerData=playerData;this.m_listMovieLv.numItems=this.playerData.boxOfficeEvaluation.length;this.m_listBestMovie.numItems=this.playerData.bestMovie.length;this.m_listMovieLv.ensureBoundsCorrect()};PlayerMovieInfo.prototype.OnMovieLvClick=function(){};PlayerMovieInfo.prototype.OnBestMovieClick=function(obj){var index=parseInt(obj.name.slice(this.BestMovieItemName.length));var movieData=this.playerData.bestMovie[index];Game.system.movieInfo(movieData.movieUuid)};PlayerMovieInfo.prototype.RenderMovieLvItem=function(index,obj){var data=this.playerData.boxOfficeEvaluation[index];if(data<=0){obj.visible=false;return}obj.visible=true;obj.title=data.toString();obj.icon=Game.config.avatar.GetBoxOfficEvaluationIconUrl(index);if(index==5){obj.m_trColor.setSelectedIndex(1)}else{if(index==6){obj.m_trColor.setSelectedIndex(2)}else{obj.m_trColor.setSelectedIndex(0)}}};PlayerMovieInfo.prototype.RenderBestMovieItem=function(index,obj){var data=this.playerData.bestMovie[index];obj.name=this.BestMovieItemName+index;obj.Render(data,this.playerData.blockLevel)};return PlayerMovieInfo}(Common.PlayerMovieInfoStruct));Common.PlayerMovieInfo=PlayerMovieInfo})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp1056Struct=(function(_super){__extends(PopUp1056Struct,_super);function PopUp1056Struct(){return _super.call(this)||this}PopUp1056Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUp1056"))};PopUp1056Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUp1056Struct.URL="ui://txcuvopdhh7656";PopUp1056Struct.DependPackages=["Common"];return PopUp1056Struct}(fairygui.GComponent));Common.PopUp1056Struct=PopUp1056Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp1056=(function(_super){__extends(PopUp1056,_super);function PopUp1056(){return _super!==null&&_super.apply(this,arguments)||this}return PopUp1056}(Common.PopUp1056Struct));Common.PopUp1056=PopUp1056})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp406Struct=(function(_super){__extends(PopUp406Struct,_super);function PopUp406Struct(){return _super.call(this)||this}PopUp406Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUp406"))};PopUp406Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUp406Struct.URL="ui://txcuvopdhh7657";PopUp406Struct.DependPackages=["Common"];return PopUp406Struct}(fairygui.GComponent));Common.PopUp406Struct=PopUp406Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp406=(function(_super){__extends(PopUp406,_super);function PopUp406(){return _super!==null&&_super.apply(this,arguments)||this}return PopUp406}(Common.PopUp406Struct));Common.PopUp406=PopUp406})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp446Struct=(function(_super){__extends(PopUp446Struct,_super);function PopUp446Struct(){return _super.call(this)||this}PopUp446Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUp446"))};PopUp446Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUp446Struct.URL="ui://txcuvopdhh7658";PopUp446Struct.DependPackages=["Common"];return PopUp446Struct}(fairygui.GComponent));Common.PopUp446Struct=PopUp446Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp446=(function(_super){__extends(PopUp446,_super);function PopUp446(){return _super!==null&&_super.apply(this,arguments)||this}return PopUp446}(Common.PopUp446Struct));Common.PopUp446=PopUp446})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp916Struct=(function(_super){__extends(PopUp916Struct,_super);function PopUp916Struct(){return _super.call(this)||this}PopUp916Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUp916"))};PopUp916Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUp916Struct.URL="ui://txcuvopdhh7659";PopUp916Struct.DependPackages=["Common"];return PopUp916Struct}(fairygui.GComponent));Common.PopUp916Struct=PopUp916Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUp916=(function(_super){__extends(PopUp916,_super);function PopUp916(){return _super!==null&&_super.apply(this,arguments)||this}return PopUp916}(Common.PopUp916Struct));Common.PopUp916=PopUp916})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpBigStruct=(function(_super){__extends(PopUpBigStruct,_super);function PopUpBigStruct(){return _super.call(this)||this}PopUpBigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUpBig"))};PopUpBigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn=(this.getChild("closeBtn"))};PopUpBigStruct.URL="ui://txcuvopdx9zq48";PopUpBigStruct.DependPackages=["Common"];return PopUpBigStruct}(fairygui.GComponent));Common.PopUpBigStruct=PopUpBigStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpBig=(function(_super){__extends(PopUpBig,_super);function PopUpBig(){return _super!==null&&_super.apply(this,arguments)||this}return PopUpBig}(Common.PopUpBigStruct));Common.PopUpBig=PopUpBig})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpMsgStruct=(function(_super){__extends(PopUpMsgStruct,_super);function PopUpMsgStruct(){return _super.call(this)||this}PopUpMsgStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUpMsg"))};PopUpMsgStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUpMsgStruct.URL="ui://txcuvopdhh765a";PopUpMsgStruct.DependPackages=["Common","WarMovie"];return PopUpMsgStruct}(fairygui.GComponent));Common.PopUpMsgStruct=PopUpMsgStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpMsg=(function(_super){__extends(PopUpMsg,_super);function PopUpMsg(){return _super!==null&&_super.apply(this,arguments)||this}return PopUpMsg}(Common.PopUpMsgStruct));Common.PopUpMsg=PopUpMsg})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpSmallStruct=(function(_super){__extends(PopUpSmallStruct,_super);function PopUpSmallStruct(){return _super.call(this)||this}PopUpSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","PopUpSmall"))};PopUpSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};PopUpSmallStruct.URL="ui://txcuvopdx9zq47";PopUpSmallStruct.DependPackages=["Common"];return PopUpSmallStruct}(fairygui.GComponent));Common.PopUpSmallStruct=PopUpSmallStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var PopUpSmall=(function(_super){__extends(PopUpSmall,_super);function PopUpSmall(){return _super!==null&&_super.apply(this,arguments)||this}return PopUpSmall}(Common.PopUpSmallStruct));Common.PopUpSmall=PopUpSmall})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarStruct=(function(_super){__extends(ProgressBarStruct,_super);function ProgressBarStruct(){return _super.call(this)||this}ProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBar"))};ProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarStruct.URL="ui://txcuvopdj3a33n";ProgressBarStruct.DependPackages=["Common"];return ProgressBarStruct}(fairygui.GProgressBar));Common.ProgressBarStruct=ProgressBarStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBar=(function(_super){__extends(ProgressBar,_super);function ProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBar}(Common.ProgressBarStruct));Common.ProgressBar=ProgressBar})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarBlueStruct=(function(_super){__extends(ProgressBarBlueStruct,_super);function ProgressBarBlueStruct(){return _super.call(this)||this}ProgressBarBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarBlue"))};ProgressBarBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_light=(this.getChild("light"));this.m_title=(this.getChild("title"))};ProgressBarBlueStruct.URL="ui://txcuvopdfawn4y";ProgressBarBlueStruct.DependPackages=["Common"];return ProgressBarBlueStruct}(fairygui.GProgressBar));Common.ProgressBarBlueStruct=ProgressBarBlueStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarBlue=(function(_super){__extends(ProgressBarBlue,_super);function ProgressBarBlue(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarBlue}(Common.ProgressBarBlueStruct));Common.ProgressBarBlue=ProgressBarBlue})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarMainStruct=(function(_super){__extends(ProgressBarMainStruct,_super);function ProgressBarMainStruct(){return _super.call(this)||this}ProgressBarMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarMain"))};ProgressBarMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_light=(this.getChild("light"));this.m_bar1=(this.getChild("bar1"));this.m_bar2=(this.getChild("bar2"));this.m_bar3=(this.getChild("bar3"));this.m_value=(this.getChild("value"));this.m_top1=(this.getChild("top1"));this.m_top2=(this.getChild("top2"));this.m_top3=(this.getChild("top3"))};ProgressBarMainStruct.URL="ui://txcuvopdhh7651";ProgressBarMainStruct.DependPackages=["Common","PlayerInfo","System"];return ProgressBarMainStruct}(fairygui.GProgressBar));Common.ProgressBarMainStruct=ProgressBarMainStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarMain=(function(_super){__extends(ProgressBarMain,_super);function ProgressBarMain(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarMain}(Common.ProgressBarMainStruct));Common.ProgressBarMain=ProgressBarMain})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarRedStruct=(function(_super){__extends(ProgressBarRedStruct,_super);function ProgressBarRedStruct(){return _super.call(this)||this}ProgressBarRedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarRed"))};ProgressBarRedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_list=(this.getChild("list"));this.m_light=(this.getChild("light"));this.m_title=(this.getChild("title"))};ProgressBarRedStruct.URL="ui://txcuvopdfawn4v";ProgressBarRedStruct.DependPackages=["Common"];return ProgressBarRedStruct}(fairygui.GProgressBar));Common.ProgressBarRedStruct=ProgressBarRedStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarRed=(function(_super){__extends(ProgressBarRed,_super);function ProgressBarRed(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarRed}(Common.ProgressBarRedStruct));Common.ProgressBarRed=ProgressBarRed})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellowStruct=(function(_super){__extends(ProgressBarYellowStruct,_super);function ProgressBarYellowStruct(){return _super.call(this)||this}ProgressBarYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarYellow"))};ProgressBarYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_list=(this.getChild("list"));this.m_light=(this.getChild("light"));this.m_title=(this.getChild("title"))};ProgressBarYellowStruct.URL="ui://txcuvopddm31t22b";ProgressBarYellowStruct.DependPackages=["Common"];return ProgressBarYellowStruct}(fairygui.GProgressBar));Common.ProgressBarYellowStruct=ProgressBarYellowStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellow=(function(_super){__extends(ProgressBarYellow,_super);function ProgressBarYellow(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarYellow}(Common.ProgressBarYellowStruct));Common.ProgressBarYellow=ProgressBarYellow})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellow2Struct=(function(_super){__extends(ProgressBarYellow2Struct,_super);function ProgressBarYellow2Struct(){return _super.call(this)||this}ProgressBarYellow2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarYellow2"))};ProgressBarYellow2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarYellow2Struct.URL="ui://txcuvopdky79he";ProgressBarYellow2Struct.DependPackages=["Common"];return ProgressBarYellow2Struct}(fairygui.GProgressBar));Common.ProgressBarYellow2Struct=ProgressBarYellow2Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellow2=(function(_super){__extends(ProgressBarYellow2,_super);function ProgressBarYellow2(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarYellow2}(Common.ProgressBarYellow2Struct));Common.ProgressBarYellow2=ProgressBarYellow2})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellow_smallStruct=(function(_super){__extends(ProgressBarYellow_smallStruct,_super);function ProgressBarYellow_smallStruct(){return _super.call(this)||this}ProgressBarYellow_smallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBarYellow_small"))};ProgressBarYellow_smallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarYellow_smallStruct.URL="ui://txcuvopdkkdst22z";ProgressBarYellow_smallStruct.DependPackages=["Common"];return ProgressBarYellow_smallStruct}(fairygui.GProgressBar));Common.ProgressBarYellow_smallStruct=ProgressBarYellow_smallStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBarYellow_small=(function(_super){__extends(ProgressBarYellow_small,_super);function ProgressBarYellow_small(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarYellow_small}(Common.ProgressBarYellow_smallStruct));Common.ProgressBarYellow_small=ProgressBarYellow_small})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBlueStruct=(function(_super){__extends(ProgressBlueStruct,_super);function ProgressBlueStruct(){return _super.call(this)||this}ProgressBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressBlue"))};ProgressBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_top1=(this.getChild("top1"));this.m_mask=(this.getChild("mask"))};ProgressBlueStruct.URL="ui://txcuvopddk94ay";ProgressBlueStruct.DependPackages=["Common","System"];return ProgressBlueStruct}(fairygui.GProgressBar));Common.ProgressBlueStruct=ProgressBlueStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressBlue=(function(_super){__extends(ProgressBlue,_super);function ProgressBlue(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBlue}(Common.ProgressBlueStruct));Common.ProgressBlue=ProgressBlue})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressGreenBarStruct=(function(_super){__extends(ProgressGreenBarStruct,_super);function ProgressGreenBarStruct(){return _super.call(this)||this}ProgressGreenBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressGreenBar"))};ProgressGreenBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visiableTitle=this.getController("visiableTitle");this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressGreenBarStruct.URL="ui://txcuvopdx9zq3s";ProgressGreenBarStruct.DependPackages=["Common"];return ProgressGreenBarStruct}(fairygui.GProgressBar));Common.ProgressGreenBarStruct=ProgressGreenBarStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressGreenBar=(function(_super){__extends(ProgressGreenBar,_super);function ProgressGreenBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressGreenBar}(Common.ProgressGreenBarStruct));Common.ProgressGreenBar=ProgressGreenBar})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressRewardStruct=(function(_super){__extends(ProgressRewardStruct,_super);function ProgressRewardStruct(){return _super.call(this)||this}ProgressRewardStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressReward"))};ProgressRewardStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_default=this.getTransition("default");this.m_twinkle=this.getTransition("twinkle")};ProgressRewardStruct.URL="ui://txcuvopdx9zq3w";ProgressRewardStruct.DependPackages=["Common"];return ProgressRewardStruct}(fairygui.GButton));Common.ProgressRewardStruct=ProgressRewardStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressReward=(function(_super){__extends(ProgressReward,_super);function ProgressReward(){return _super!==null&&_super.apply(this,arguments)||this}ProgressReward.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickBoxItem);this.tip=Common.TipReward.createInstance()};ProgressReward.prototype.setData=function(index,config,progressData,clickCallBack){this.index=index;this.config=config;this.clickCallBack=clickCallBack;this.progressData=progressData;this.needOrderNum=config.completion-progressData.progress;this.enableGet=progressData.progress>=config.completion;this.isGet=progressData.isGet(index-1);this.title=config.completion.toString();this.m_twinkle.stop();this.m_default.stop();var url="";var iconIndex=index>=2?index-1:1;if(!this.isGet){if(this.enableGet){url=format("icon_reward_lv{0}_2",iconIndex);this.m_twinkle.play(null,-1)}else{url=format("icon_reward_lv{0}_1",iconIndex);this.m_default.play(null)}}else{url=format("icon_reward_lv{0}_3",iconIndex)}this.m_icon.icon=fairygui.UIPackage.getItemURL(Games.GuiPackageNames.Common,url)};ProgressReward.prototype.onClickBoxItem=function(){if(this.clickCallBack){this.clickCallBack(this.index,this.config.completion)}if(this.enableGet){var noLicence=true;for(var index=0;index<this.config.reward.length;index++){var element=this.config.reward[index];if(element.itemId==EItemId.licence){noLicence=false}}if(noLicence){Game.protosender.progressBox.GetReward(this.progressData.uuid,this.index)}else{if(Game.moduleModel.warData.isLicenceMax){Game.system.toastText(TEXT.LincenceMax)}else{Game.protosender.progressBox.GetReward(this.progressData.uuid,this.index)}}}if(!this.isGet&&!this.enableGet){if(this.config){this.showRewardUI(this.config.reward)}}};ProgressReward.prototype.showRewardUI=function(items){this.tip.setItems(items);this.tip.showPopup(this)};return ProgressReward}(Common.ProgressRewardStruct));Common.ProgressReward=ProgressReward})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressTotalBarStruct=(function(_super){__extends(ProgressTotalBarStruct,_super);function ProgressTotalBarStruct(){return _super.call(this)||this}ProgressTotalBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressTotalBar"))};ProgressTotalBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_bar=(this.getChild("bar"))};ProgressTotalBarStruct.URL="ui://txcuvopdx9zq3r";ProgressTotalBarStruct.DependPackages=["Common"];return ProgressTotalBarStruct}(fairygui.GComponent));Common.ProgressTotalBarStruct=ProgressTotalBarStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressTotalBar=(function(_super){__extends(ProgressTotalBar,_super);function ProgressTotalBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.configs=[];return _this}ProgressTotalBar.prototype.updateBarPanel=function(){};Object.defineProperty(ProgressTotalBar.prototype,"value",{get:function(){return this.m_bar.value},set:function(curProgress){this.m_title.text=curProgress.toString();var progressNums=[];for(var index=0;index<this.configs.length;index++){var element=this.configs[index];progressNums.push(element.completion)}var preMaxValue=0;var max=0;var value=0;var num=progressNums.length;var total=progressNums[num-1];var eachParagragh=total/progressNums.length;for(var index=0;index<num;index++){var prog=progressNums[index];if(curProgress<=prog){max=total/((eachParagragh*(index+1))/prog);var diff=prog-preMaxValue;var va=max*(eachParagragh/total);value=max*(eachParagragh*index/total)+va/diff*(curProgress-preMaxValue);break}preMaxValue=prog}this.m_bar.max=max;this.m_bar.value=value},enumerable:true,configurable:true});Object.defineProperty(ProgressTotalBar.prototype,"max",{get:function(){return this.m_bar.max},set:function(value){this.m_bar.max=value},enumerable:true,configurable:true});ProgressTotalBar.prototype.setProgressId=function(progressId,clickCallBack){if(clickCallBack===void 0){clickCallBack=null}this.progressId=progressId;this.clickCallBack=clickCallBack;this.progressData=Game.moduleModel.progressBox.getProgressBoxData(progressId);this.configs=Game.config.complete.getCompleteList(progressId);this.max=this.configs[this.configs.length-1].completion;this.value=this.progressData.progress;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=this.configs.length};ProgressTotalBar.prototype.renderListItem=function(index,item){var config=this.configs[index];item.setData(index+1,config,this.progressData,this.clickCallBack)};ProgressTotalBar.prototype.updateView=function(){if(this.progressData){this.setProgressId(this.progressId,this.clickCallBack)}};ProgressTotalBar.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ManageOrderData,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.ProgressBoxData,this.updateView,this)};ProgressTotalBar.prototype.onWindowShow=function(){this.updateView();Game.protoOkEvent.add(ProtoEventKey.ManageOrderData,this.updateView,this);Game.protoOkEvent.add(ProtoEventKey.ProgressBoxData,this.updateView,this)};return ProgressTotalBar}(Common.ProgressTotalBarStruct));Common.ProgressTotalBar=ProgressTotalBar})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressYellowBarStruct=(function(_super){__extends(ProgressYellowBarStruct,_super);function ProgressYellowBarStruct(){return _super.call(this)||this}ProgressYellowBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProgressYellowBar"))};ProgressYellowBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visiableTitle=this.getController("visiableTitle");this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressYellowBarStruct.URL="ui://txcuvopdx9zq3y";ProgressYellowBarStruct.DependPackages=["Common"];return ProgressYellowBarStruct}(fairygui.GProgressBar));Common.ProgressYellowBarStruct=ProgressYellowBarStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProgressYellowBar=(function(_super){__extends(ProgressYellowBar,_super);function ProgressYellowBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressYellowBar}(Common.ProgressYellowBarStruct));Common.ProgressYellowBar=ProgressYellowBar})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProperTextStruct=(function(_super){__extends(ProperTextStruct,_super);function ProperTextStruct(){return _super.call(this)||this}ProperTextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","ProperText"))};ProperTextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_value=(this.getChild("value"))};ProperTextStruct.URL="ui://txcuvopdcvs8d8";ProperTextStruct.DependPackages=["Common"];return ProperTextStruct}(fairygui.GLabel));Common.ProperTextStruct=ProperTextStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var ProperText=(function(_super){__extends(ProperText,_super);function ProperText(){return _super!==null&&_super.apply(this,arguments)||this}return ProperText}(Common.ProperTextStruct));Common.ProperText=ProperText})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankMovieInfoPanelStruct=(function(_super){__extends(RankMovieInfoPanelStruct,_super);function RankMovieInfoPanelStruct(){return _super.call(this)||this}RankMovieInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RankMovieInfoPanel"))};RankMovieInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_dibian=(this.getChild("dibian"));this.m_name=(this.getChild("name"));this.m_time=(this.getChild("time"));this.m_mdiaEaluation=(this.getChild("mdiaEaluation"));this.m_praise=(this.getChild("praise"));this.m_listActor=(this.getChild("listActor"));this.m_Title=(this.getChild("Title"));this.m_filmtype2=(this.getChild("filmtype2"));this.m_boxOffice=(this.getChild("boxOffice"));this.m_filmTypeIcon=(this.getChild("filmTypeIcon"));this.m_filmType=(this.getChild("filmType"));this.m_btnBGClose=(this.getChild("btnBGClose"));this.m_btnClose=(this.getChild("btnClose"));this.m_movieIcon=(this.getChild("movieIcon"));this.m_star=(this.getChild("star"));this.m_txtDesc=(this.getChild("txtDesc"));this.m_lv=(this.getChild("lv"));this.m_t1=this.getTransition("t1")};RankMovieInfoPanelStruct.URL="ui://txcuvopdcvs8cs";RankMovieInfoPanelStruct.DependPackages=["Common"];return RankMovieInfoPanelStruct}(fairygui.GComponent));Common.RankMovieInfoPanelStruct=RankMovieInfoPanelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankMovieInfoPanel=(function(_super){__extends(RankMovieInfoPanel,_super);function RankMovieInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}RankMovieInfoPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listActor.itemRenderer=new Handler(this,this.RenderActor,null,false);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_btnBGClose.onClick(this,this.OnCloseClick)};RankMovieInfoPanel.prototype.open=function(movieData){if(typeof(movieData)==="string"){Game.protoOkEvent.add(ProtoEventKey.rank_GetMovieShortData,this.OnGetMovieShortData,this);Game.protosender.rank.GetMovieShortData(movieData)}else{this.UpdateView(movieData)}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};RankMovieInfoPanel.prototype.OnGetMovieShortData=function(msg){Game.protoOkEvent.remove(ProtoEventKey.rank_GetMovieShortData,this.OnGetMovieShortData,this);this.UpdateView(msg.data)};RankMovieInfoPanel.prototype.UpdateView=function(movieData){this.movieData=movieData;this.m_name.text=movieData.name;var cfg=Game.config.story.getConfig(movieData.movieId);this.m_movieIcon.icon=Game.config.story.GetPoster(this.movieData.movieId);this.m_txtDesc.text=cfg.filmDes;this.m_time.text=Games.TEXT.FilmLongTime.format(cfg.length);this.m_star.starNum=cfg.starNumber;this.m_mdiaEaluation.text=this.movieData.mediaCommend.toFixed(1);this.m_praise.text=this.movieData.publicPraise.toFixed(0);this.m_filmType.text=Game.config.property.GetPropertyName(cfg.type);this.UpdateFilmLabel();if(this.movieData.totalBoxOffice){this.m_lv.text="";var sellIcon=Game.config.movieDrop.getSellIcon(this.movieData.boxOfficeEvaluation);this.m_lv.icon=Game.config.avatar.getConfig(sellIcon).iconUrl;this.m_boxOffice.text=formatNumberUnit(this.movieData.totalBoxOffice,this.movieData.totalBoxOffice>=1000?1:0)}else{this.m_lv.text="";this.m_lv.icon="";this.m_boxOffice.text=""}this.actorList=[];for(var index=0;index<this.movieData.data.length;index++){var actor=this.movieData.data[index];if(actor.actorId<9999){this.actorList.push(actor)}}this.m_listActor.numItems=this.actorList.length};RankMovieInfoPanel.prototype.UpdateFilmLabel=function(){var cfg=Game.config.story.getConfig(this.movieData.movieId);if(cfg){var str="";for(var index=0;index<cfg.tags.length;index++){var data=cfg.tags[index];if(data){if(str!=""){str+="/"}str+=Game.config.property.GetPropertyName(data)}}this.m_filmtype2.text=str}else{this.m_filmtype2.text=""}};RankMovieInfoPanel.prototype.RenderActor=function(index,obj){var actor=this.actorList[index];obj.Render(actor.actorId,actor.name)};RankMovieInfoPanel.prototype.OnCloseClick=function(){this.close()};RankMovieInfoPanel.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.onHide()};RankMovieInfoPanel.prototype.onHide=function(){this.removeFromParent()};return RankMovieInfoPanel}(Common.RankMovieInfoPanelStruct));Common.RankMovieInfoPanel=RankMovieInfoPanel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankPlayerInfoStruct=(function(_super){__extends(RankPlayerInfoStruct,_super);function RankPlayerInfoStruct(){return _super.call(this)||this}RankPlayerInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RankPlayerInfo"))};RankPlayerInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_lv=(this.getChild("lv"));this.m_union=(this.getChild("union"));this.m_signature=(this.getChild("signature"));this.m_street=(this.getChild("street"));this.m_actor=(this.getChild("actor"));this.m_build=(this.getChild("build"));this.m_market=(this.getChild("market"))};RankPlayerInfoStruct.URL="ui://txcuvopdcvs8ck";RankPlayerInfoStruct.DependPackages=["Common"];return RankPlayerInfoStruct}(fairygui.GComponent));Common.RankPlayerInfoStruct=RankPlayerInfoStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankPlayerInfo=(function(_super){__extends(RankPlayerInfo,_super);function RankPlayerInfo(){return _super!==null&&_super.apply(this,arguments)||this}RankPlayerInfo.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};RankPlayerInfo.prototype.Render=function(playerData){this.playerData=playerData;if(this.playerData){this.m_name.text=this.playerData.name;this.m_lv.text="Lv."+this.playerData.level;this.m_street.m_value.text=Game.moduleModel.street.GetStreetName(this.playerData.blockLevel);this.m_build.m_value.text=this.playerData.numBuilding.toString();this.m_actor.m_value.text=this.playerData.numActor.toString();var cityStreet=new Games.CityStreetData(this.playerData.city);this.m_market.m_value.text=cityStreet.cityNum+"-"+cityStreet.num;this.m_icon.url=Game.config.headPortrait.GetPlayerIconUrl(this.playerData.portrait,this.playerData.sex);if(this.playerData.perSignature==""){if(this.playerData.userId==User.account.userId){this.playerData.perSignature=Games.TEXT.PlayerSelfSignature}else{this.playerData.perSignature=Games.TEXT.PlayerSignature}}this.m_signature.text=this.playerData.perSignature==""?Games.TEXT.PlayerSignature:this.playerData.perSignature;this.m_union.text=""}};return RankPlayerInfo}(Common.RankPlayerInfoStruct));Common.RankPlayerInfo=RankPlayerInfo})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankPlayerInfoPanelStruct=(function(_super){__extends(RankPlayerInfoPanelStruct,_super);function RankPlayerInfoPanelStruct(){return _super.call(this)||this}RankPlayerInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RankPlayerInfoPanel"))};RankPlayerInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"));this.m_info=(this.getChild("info"));this.m_movie=(this.getChild("movie"))};RankPlayerInfoPanelStruct.URL="ui://txcuvopdcvs8cj";RankPlayerInfoPanelStruct.DependPackages=["Common"];return RankPlayerInfoPanelStruct}(fairygui.GComponent));Common.RankPlayerInfoPanelStruct=RankPlayerInfoPanelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankPlayerInfoPanel=(function(_super){__extends(RankPlayerInfoPanel,_super);function RankPlayerInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}RankPlayerInfoPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnClose.onClick(this,this.OnCloseClick)};RankPlayerInfoPanel.prototype.open=function(playerData){if(typeof(playerData)==="number"){Game.protoOkEvent.add(ProtoEventKey.rank_GetPlayerShortData,this.OnGetPlayerShortDataHandler,this);Game.protosender.rank.GetPlayerShortData(playerData)}else{this.UpdateView(playerData)}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};RankPlayerInfoPanel.prototype.OnGetPlayerShortDataHandler=function(msg){Game.protoOkEvent.remove(ProtoEventKey.rank_GetPlayerShortData,this.OnGetPlayerShortDataHandler,this);this.UpdateView(msg.data)};RankPlayerInfoPanel.prototype.UpdateView=function(playerData){this.playerData=playerData;this.m_info.Render(this.playerData);this.m_movie.Render(this.playerData)};RankPlayerInfoPanel.prototype.OnCloseClick=function(){this.close()};RankPlayerInfoPanel.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.onHide()};RankPlayerInfoPanel.prototype.onHide=function(){this.removeFromParent()};return RankPlayerInfoPanel}(Common.RankPlayerInfoPanelStruct));Common.RankPlayerInfoPanel=RankPlayerInfoPanel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankRenamePanelStruct=(function(_super){__extends(RankRenamePanelStruct,_super);function RankRenamePanelStruct(){return _super.call(this)||this}RankRenamePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RankRenamePanel"))};RankRenamePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_titleName=(this.getChild("titleName"));this.m_inputName=(this.getChild("inputName"));this.m_txtContent=(this.getChild("txtContent"));this.m_btn_close=(this.getChild("btn_close"));this.m_btn_rename=(this.getChild("btn_rename"));this.m_btn_editor=(this.getChild("btn_editor"))};RankRenamePanelStruct.URL="ui://txcuvopdcvs8cl";RankRenamePanelStruct.DependPackages=["Common"];return RankRenamePanelStruct}(fairygui.GComponent));Common.RankRenamePanelStruct=RankRenamePanelStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RankRenamePanel=(function(_super){__extends(RankRenamePanel,_super);function RankRenamePanel(){return _super!==null&&_super.apply(this,arguments)||this}RankRenamePanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_rename.onClick(this,this.onRenameClick);this.m_btn_close.onClick(this,this.OnCloseClick)};RankRenamePanel.prototype.open=function(title,caller,renameFun,oldName){this.oldName=oldName;this.caller=caller;this.renameFun=renameFun;this.m_inputName.input.focus=true;this.m_inputName.text=this.oldName;Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};RankRenamePanel.prototype.onRenameClick=function(){var newName=this.m_inputName.text;if(this.check()&&newName!=""){this.renameFun.apply(this.caller,[newName]);this.close()}};RankRenamePanel.prototype.check=function(){var newName=this.m_inputName.text;if(!validateRoleName(newName)){return false}if(newName==this.oldName){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_repeat));return false}return true};RankRenamePanel.prototype.OnCloseClick=function(){this.close()};RankRenamePanel.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.onHide()};RankRenamePanel.prototype.onHide=function(){this.removeFromParent()};return RankRenamePanel}(Common.RankRenamePanelStruct));Common.RankRenamePanel=RankRenamePanel})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RawAssetItemStruct=(function(_super){__extends(RawAssetItemStruct,_super);function RawAssetItemStruct(){return _super.call(this)||this}RawAssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RawAssetItem"))};RawAssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_iconLoad=(this.getChild("iconLoad"))};RawAssetItemStruct.URL="ui://txcuvopdahbat23n";RawAssetItemStruct.DependPackages=["Common"];return RawAssetItemStruct}(fairygui.GComponent));Common.RawAssetItemStruct=RawAssetItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RawAssetItem=(function(_super){__extends(RawAssetItem,_super);function RawAssetItem(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(RawAssetItem.prototype,"itemId",{set:function(id){this.m_iconLoad.url=ItemHelper.getItemIcon(id)},enumerable:true,configurable:true});Object.defineProperty(RawAssetItem.prototype,"avatarId",{set:function(id){this.m_iconLoad.url=Game.config.avatar.GetIconUrl(id)},enumerable:true,configurable:true});Object.defineProperty(RawAssetItem.prototype,"scaleXY",{set:function(val){this.setScale(val,val)},enumerable:true,configurable:true});return RawAssetItem}(Common.RawAssetItemStruct));Common.RawAssetItem=RawAssetItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RedStruct=(function(_super){__extends(RedStruct,_super);function RedStruct(){return _super.call(this)||this}RedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Red"))};RedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"))};RedStruct.URL="ui://txcuvopdw1srd1";RedStruct.DependPackages=["Common"];return RedStruct}(fairygui.GComponent));Common.RedStruct=RedStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Red=(function(_super){__extends(Red,_super);function Red(){return _super!==null&&_super.apply(this,arguments)||this}return Red}(Common.RedStruct));Common.Red=Red})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RoomContainerStruct=(function(_super){__extends(RoomContainerStruct,_super);function RoomContainerStruct(){return _super.call(this)||this}RoomContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","RoomContainer"))};RoomContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};RoomContainerStruct.URL="ui://txcuvopdvc2rb2";RoomContainerStruct.DependPackages=["Common"];return RoomContainerStruct}(fairygui.GComponent));Common.RoomContainerStruct=RoomContainerStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var RoomContainer=(function(_super){__extends(RoomContainer,_super);function RoomContainer(){return _super!==null&&_super.apply(this,arguments)||this}return RoomContainer}(Common.RoomContainerStruct));Common.RoomContainer=RoomContainer})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SkillEffectUIStruct=(function(_super){__extends(SkillEffectUIStruct,_super);function SkillEffectUIStruct(){return _super.call(this)||this}SkillEffectUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SkillEffectUI"))};SkillEffectUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_icon=(this.getChild("icon"));this.m_skillIcon=(this.getChild("skillIcon"));this.m_desc=(this.getChild("desc"));this.m_title=(this.getChild("title"));this.m_t0=this.getTransition("t0")};SkillEffectUIStruct.URL="ui://txcuvopdi2p1ap";SkillEffectUIStruct.DependPackages=["Common","Fx","WarMovie"];return SkillEffectUIStruct}(fairygui.GComponent));Common.SkillEffectUIStruct=SkillEffectUIStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SkillEffectData=(function(){function SkillEffectData(){}return SkillEffectData}());Common.SkillEffectData=SkillEffectData;var SkillEffectUI=(function(_super){__extends(SkillEffectUI,_super);function SkillEffectUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isPlaying=false;_this.skills=[];_this.pools=[];return _this}SkillEffectUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};SkillEffectUI.prototype.playNext=function(){var _this=this;this.removeFromParent();if(this.skills.length>0){setTimeout(function(){_this.isPlaying=false;_this.playOneSkill()},200)}else{this.isPlaying=false;this.removeFromParent()}};SkillEffectUI.prototype.playSkillEffect=function(actorId,type){var data;if(this.pools.length>0){data=this.pools[0];this.pools.splice(0,1)}else{data=new SkillEffectData()}this.skills.push(data);data.actorId=actorId;data.skillType=type;if(this.isPlaying==false){this.playOneSkill()}};SkillEffectUI.prototype.playOneSkill=function(){var effectData;if(this.skills.length>0){effectData=this.skills[0];this.skills.splice(0,1);this.pools.push(effectData)}else{return}var actorId=effectData.actorId;var type=effectData.skillType;var data=Game.moduleModel.actor.getActor(actorId);if(data){var skill=data.getUnlockSkillByType(type);if(skill){if(skill.isUnlock){Games.MenuLayer.floatMsg.addChild(this);this.m_title.text=skill.config.name;this.m_desc.text=skill.effectDesc;this.m_skillIcon.icon=skill.iconUrl;this.m_icon.icon=data.bodyIconUrl;this.isPlaying=true;this.m_t0.play(Handler.create(this,this.playEnd),1)}else{this.playOneSkill()}}}else{this.playOneSkill()}};SkillEffectUI.prototype.playEnd=function(){this.playNext()};return SkillEffectUI}(Common.SkillEffectUIStruct));Common.SkillEffectUI=SkillEffectUI})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SliderStruct=(function(_super){__extends(SliderStruct,_super);function SliderStruct(){return _super.call(this)||this}SliderStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Slider"))};SliderStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_list=(this.getChild("list"));this.m_light=(this.getChild("light"));this.m_title=(this.getChild("title"));this.m_grip=(this.getChild("grip"))};SliderStruct.URL="ui://txcuvopdnsfy29";SliderStruct.DependPackages=["Common"];return SliderStruct}(fairygui.GSlider));Common.SliderStruct=SliderStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Slider=(function(_super){__extends(Slider,_super);function Slider(){return _super!==null&&_super.apply(this,arguments)||this}return Slider}(Common.SliderStruct));Common.Slider=Slider})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SliderRed_gripStruct=(function(_super){__extends(SliderRed_gripStruct,_super);function SliderRed_gripStruct(){return _super.call(this)||this}SliderRed_gripStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SliderRed_grip"))};SliderRed_gripStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};SliderRed_gripStruct.URL="ui://txcuvopdhh7655";SliderRed_gripStruct.DependPackages=["Common"];return SliderRed_gripStruct}(fairygui.GButton));Common.SliderRed_gripStruct=SliderRed_gripStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SliderRed_grip=(function(_super){__extends(SliderRed_grip,_super);function SliderRed_grip(){return _super!==null&&_super.apply(this,arguments)||this}return SliderRed_grip}(Common.SliderRed_gripStruct));Common.SliderRed_grip=SliderRed_grip})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SplashAssetItemStruct=(function(_super){__extends(SplashAssetItemStruct,_super);function SplashAssetItemStruct(){return _super.call(this)||this}SplashAssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SplashAssetItem"))};SplashAssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_iconLoad=(this.getChild("iconLoad"))};SplashAssetItemStruct.URL="ui://txcuvopdui5jt23s";SplashAssetItemStruct.DependPackages=["Common"];return SplashAssetItemStruct}(fairygui.GComponent));Common.SplashAssetItemStruct=SplashAssetItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SplashAssetItem=(function(_super){__extends(SplashAssetItem,_super);function SplashAssetItem(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SplashAssetItem.prototype,"itemId",{set:function(id){this.m_iconLoad.url=ItemHelper.getItemIcon(id);this.scaleXY=0.8},enumerable:true,configurable:true});Object.defineProperty(SplashAssetItem.prototype,"scaleXY",{set:function(val){this.setScale(val,val)},enumerable:true,configurable:true});Object.defineProperty(SplashAssetItem.prototype,"avatarId",{set:function(id){this.m_iconLoad.url=Game.config.avatar.GetIconUrl(id)},enumerable:true,configurable:true});return SplashAssetItem}(Common.SplashAssetItemStruct));Common.SplashAssetItem=SplashAssetItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StarStruct=(function(_super){__extends(StarStruct,_super);function StarStruct(){return _super.call(this)||this}StarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","Star"))};StarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starNum=this.getController("starNum");this.m_showBG=this.getController("showBG");this.m_starLimit=this.getController("starLimit");this.m_bs1=(this.getChild("bs1"));this.m_bs2=(this.getChild("bs2"));this.m_bs3=(this.getChild("bs3"));this.m_bs4=(this.getChild("bs4"));this.m_bs5=(this.getChild("bs5"));this.m_bs6=(this.getChild("bs6"));this.m_s1=(this.getChild("s1"));this.m_s2=(this.getChild("s2"));this.m_s3=(this.getChild("s3"));this.m_s4=(this.getChild("s4"));this.m_s5=(this.getChild("s5"));this.m_s6=(this.getChild("s6"))};StarStruct.URL="ui://txcuvopdcvs8do";StarStruct.DependPackages=["Common","WarMovie"];return StarStruct}(fairygui.GComponent));Common.StarStruct=StarStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Star=(function(_super){__extends(Star,_super);function Star(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(Star.prototype,"starNum",{set:function(num){if(num==null){console.log("Error Star Num == null");return}if(num<0){num=0}if(num>6){num=6}this.m_starNum.setSelectedIndex(num)},enumerable:true,configurable:true});return Star}(Common.StarStruct));Common.Star=Star})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StoryItemStruct=(function(_super){__extends(StoryItemStruct,_super);function StoryItemStruct(){return _super.call(this)||this}StoryItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","StoryItem"))};StoryItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_filmStar=(this.getChild("filmStar"))};StoryItemStruct.URL="ui://txcuvopdcwjyay";StoryItemStruct.DependPackages=["Common","WarMovie"];return StoryItemStruct}(fairygui.GLabel));Common.StoryItemStruct=StoryItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StoryItem=(function(_super){__extends(StoryItem,_super);function StoryItem(){return _super!==null&&_super.apply(this,arguments)||this}return StoryItem}(Common.StoryItemStruct));Common.StoryItem=StoryItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StreetLevelUpStruct=(function(_super){__extends(StreetLevelUpStruct,_super);function StreetLevelUpStruct(){return _super.call(this)||this}StreetLevelUpStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","StreetLevelUp"))};StreetLevelUpStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_lastStreet=(this.getChild("lastStreet"));this.m_currentStreet=(this.getChild("currentStreet"));this.m_group2=(this.getChild("group2"));this.m_awardList=(this.getChild("awardList"));this.m_btnGetAward=(this.getChild("btnGetAward"));this.m_street=(this.getChild("street"));this.m_t0=this.getTransition("t0")};StreetLevelUpStruct.URL="ui://txcuvopdcke2gb";StreetLevelUpStruct.DependPackages=["Common","Fx","PlayerInfo"];return StreetLevelUpStruct}(fairygui.GComponent));Common.StreetLevelUpStruct=StreetLevelUpStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StreetLevelUp=(function(_super){__extends(StreetLevelUp,_super);function StreetLevelUp(){return _super!==null&&_super.apply(this,arguments)||this}StreetLevelUp.prototype.open=function(){this.streetData=Game.moduleModel.street.currentStreetData;var lastStreet=this.streetData.LastStreet;if(lastStreet){this.m_lastStreet.text=lastStreet.Name}this.m_street.m_name.text=this.streetData.Name;this.m_street.m_icon.url=this.streetData.iconUrl;this.m_currentStreet.text=this.streetData.Name;this.m_awardList.itemRenderer=Handler.create(this,this.RenderRewardItem,null,false);this.m_awardList.itemProvider=Handler.create(this,this.GetRewardItemResource,null,false);this.m_awardList.numItems=this.streetData.Reward.length;this.m_btnGetAward.onClick(this,this.close);Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};StreetLevelUp.prototype.RenderRewardItem=function(index,obj){var data=this.streetData.Cfg.upgrade_reward[index];if(data==null){return}var itemData=Games.ItemData.Create(data.itemId,data.itemNum);if(itemData.itemType==7){var pact=obj;pact.Render(itemData)}else{var item=obj;item.m_icon.url=itemData.itemIconUrl;item.m_title.text=itemData.itemNumTxt;item.m_star.starNum=itemData.itemStar;item.PopupInfo=data.itemId}};StreetLevelUp.prototype.GetRewardItemResource=function(index){var data=this.streetData.Cfg.upgrade_reward[index];if(data==null){return fgui.Common.CommonItem.URL}var itemType=Game.config.item.getType(data.itemId);if(itemType==7){return fgui.Common.PactIcon_80.URL}else{return fgui.Common.CommonItem.URL}};StreetLevelUp.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.onHide()};StreetLevelUp.prototype.onHide=function(){this.removeFromParent()};return StreetLevelUp}(Common.StreetLevelUpStruct));Common.StreetLevelUp=StreetLevelUp})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StreetLevelUpItemStruct=(function(_super){__extends(StreetLevelUpItemStruct,_super);function StreetLevelUpItemStruct(){return _super.call(this)||this}StreetLevelUpItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","StreetLevelUpItem"))};StreetLevelUpItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"))};StreetLevelUpItemStruct.URL="ui://txcuvopdl40ut23c";StreetLevelUpItemStruct.DependPackages=["Common","Building"];return StreetLevelUpItemStruct}(fairygui.GComponent));Common.StreetLevelUpItemStruct=StreetLevelUpItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var StreetLevelUpItem=(function(_super){__extends(StreetLevelUpItem,_super);function StreetLevelUpItem(){return _super!==null&&_super.apply(this,arguments)||this}return StreetLevelUpItem}(Common.StreetLevelUpItemStruct));Common.StreetLevelUpItem=StreetLevelUpItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAddFansMessageStruct=(function(_super){__extends(SystemAddFansMessageStruct,_super);function SystemAddFansMessageStruct(){return _super.call(this)||this}SystemAddFansMessageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemAddFansMessage"))};SystemAddFansMessageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_content=(this.getChild("content"));this.m_progress=(this.getChild("progress"));this.m_btnClose=(this.getChild("btnClose"));this.m_t0=this.getTransition("t0")};SystemAddFansMessageStruct.URL="ui://txcuvopdfbam2m";SystemAddFansMessageStruct.DependPackages=["Common"];return SystemAddFansMessageStruct}(fairygui.GComponent));Common.SystemAddFansMessageStruct=SystemAddFansMessageStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAddFansMessage=(function(_super){__extends(SystemAddFansMessage,_super);function SystemAddFansMessage(){return _super!==null&&_super.apply(this,arguments)||this}SystemAddFansMessage.prototype.open=function(addFans,closeHandler,title,autoCloseTime){if(autoCloseTime===void 0){autoCloseTime=3}this.addFans=addFans;this.closeHandler=closeHandler;if(isNullOrEmpty(title)){title=Games.TEXT.MarketAddFansTip}this.InitValue(addFans);this.autoCloseTime=autoCloseTime;this.m_progress.max=this.maxValue;this.m_progress.value=this.fromValue;this.m_title.text=title;var str=Games.TEXT.MarketAddFansInfo;this.m_content.text=str.format(User.info.name,formatNumberUnit(addFans));this.m_btnClose.onClick(this,this.close);Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this);this.m_t0.play(new Handler(this,this.OnOpen))};SystemAddFansMessage.prototype.OnOpen=function(){if(User.info.level>this.lv){Laya.Tween.to(this.m_progress,{value:this.maxValue},1000,Laya.Ease.linearIn,Handler.create(this,this.ShowLevelUp),0,true,true)}else{Laya.Tween.to(this.m_progress,{value:this.toValue},1000,Laya.Ease.linearIn,Handler.create(this,this.ShowTip),0,true,true)}};SystemAddFansMessage.prototype.ShowLevelUp=function(){this.fromValue=0;this.lv++;this.maxValue=Game.config.playerLevel.getConfig(this.lv).fans;this.m_progress.value=this.fromValue;this.m_progress.max=this.maxValue;this.OnOpen()};SystemAddFansMessage.prototype.ShowTip=function(){var _this=this;if(this.autoCloseTime>0){setTimeout(function(){_this.close()},this.autoCloseTime*1000)}};SystemAddFansMessage.prototype.close=function(){Games.MenuLayer.hideDialogModel();if(this.closeHandler){this.closeHandler.run()}this.onHide()};SystemAddFansMessage.prototype.onHide=function(){if(this.addFans>this.toValue){Game.system.tryAlertLevelUp()}this.removeFromParent()};SystemAddFansMessage.prototype.InitValue=function(addFans){var lastLv=User.info.level;var fansLimit=User.info.fans;var fromValue;while(addFans>fansLimit){lastLv--;addFans-=fansLimit;fansLimit=Game.config.playerLevel.GetFansLimit(lastLv)}fromValue=fansLimit-addFans;this.lv=lastLv;this.fromValue=fromValue;this.toValue=User.info.fans;this.maxValue=Game.config.playerLevel.GetFansLimit(this.lv)};return SystemAddFansMessage}(Common.SystemAddFansMessageStruct));Common.SystemAddFansMessage=SystemAddFansMessage})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertAwardsStruct=(function(_super){__extends(SystemAlertAwardsStruct,_super);function SystemAlertAwardsStruct(){return _super.call(this)||this}SystemAlertAwardsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemAlertAwards"))};SystemAlertAwardsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_assetList=(this.getChild("assetList"));this.m_bgmodel=(this.getChild("bgmodel"));this.m_commonPanel=(this.getChild("commonPanel"));this.m_confirmBtn=(this.getChild("confirmBtn"))};SystemAlertAwardsStruct.URL="ui://txcuvopdsc1s2z";SystemAlertAwardsStruct.DependPackages=["Common","System"];return SystemAlertAwardsStruct}(fairygui.GComponent));Common.SystemAlertAwardsStruct=SystemAlertAwardsStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertAwards=(function(_super){__extends(SystemAlertAwards,_super);function SystemAlertAwards(){return _super!==null&&_super.apply(this,arguments)||this}SystemAlertAwards.prototype.open=function(itemList,title,confirm,confirmText,hideClose){if(hideClose===void 0){hideClose=false}this.itemList=itemList;this.confirm=confirm;this.m_commonPanel.m_closeBtn.onClick(this,this.onClose);this.m_confirmBtn.onClick(this,this.onConfirm);this.m_confirmBtn.m_title.text=TEXT.ButtonOk;if(confirmText){this.m_confirmBtn.m_title.text=confirmText}if(title){this.m_commonPanel.m_title.text=title}this.m_commonPanel.m_closeBtn.visible=!hideClose;this.m_assetList.removeChildrenToPool();for(var _i=0,itemList_1=itemList;_i<itemList_1.length;_i++){var item=itemList_1[_i];var assetItem=this.m_assetList.addItemFromPool();var cfg=Game.config.item.getConfig(item.itemId);if(cfg){assetItem.m_icon.url=cfg.iconUrl}assetItem.m_title.text=item.itemNum.toString()}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};SystemAlertAwards.prototype.openRewardStory=function(id,itemNum,title,confirm){this.m_commonPanel.m_closeBtn.onClick(this,this.onClose);this.m_confirmBtn.onClick(this,this.onConfirm);if(title){this.m_commonPanel.m_title.text=title}this.m_assetList.removeChildrenToPool();var assetItem=this.m_assetList.addItemFromPool();var cfg=Game.config.story.getConfig(id);if(cfg){assetItem.m_icon.url=Game.config.avatar.getConfig(cfg.poster_name).iconUrl}assetItem.m_title.text=itemNum.toString();Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};SystemAlertAwards.prototype.onConfirm=function(){if(this.confirm){this.confirm.apply(null,this.itemList)}this.onClose()};SystemAlertAwards.prototype.onClose=function(){Games.MenuLayer.hideDialogModel();this.parent.removeChild(this)};return SystemAlertAwards}(Common.SystemAlertAwardsStruct));Common.SystemAlertAwards=SystemAlertAwards})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertGiftStruct=(function(_super){__extends(SystemAlertGiftStruct,_super);function SystemAlertGiftStruct(){return _super.call(this)||this}SystemAlertGiftStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemAlertGift"))};SystemAlertGiftStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"));this.m_des=(this.getChild("des"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_moneyBtn=(this.getChild("moneyBtn"))};SystemAlertGiftStruct.URL="ui://txcuvopdcwjyau";SystemAlertGiftStruct.DependPackages=["Common"];return SystemAlertGiftStruct}(fairygui.GComponent));Common.SystemAlertGiftStruct=SystemAlertGiftStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertGift=(function(_super){__extends(SystemAlertGift,_super);function SystemAlertGift(){return _super!==null&&_super.apply(this,arguments)||this}SystemAlertGift.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.onClose);this.m_moneyBtn.onClick(this,this.onConfirm)};SystemAlertGift.prototype.open=function(itemList,title,desc,btnTxt,btnEnabled,confirm,confirmText){this.itemList=itemList;this.confirm=confirm;if(title){this.m_title.text=title}if(desc){this.m_des.text=desc}else{this.m_des.text=""}this.m_moneyBtn.enabled=btnEnabled;this.m_moneyBtn.grayed=!btnEnabled;this.m_moneyBtn.text=btnTxt;this.m_list.removeChildrenToPool();for(var _i=0,itemList_1=itemList;_i<itemList_1.length;_i++){var item=itemList_1[_i];var assetItem=this.m_list.addItemFromPool();var cfg=Game.config.item.getConfig(item.itemId);if(cfg){assetItem.m_icon.icon=cfg.iconUrl}assetItem.m_title.text=item.itemNum.toString()}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};SystemAlertGift.prototype.onConfirm=function(){if(this.confirm){this.confirm.apply(null,this.itemList)}this.onClose()};SystemAlertGift.prototype.onClose=function(){Games.MenuLayer.hideDialogModel();this.parent.removeChild(this)};return SystemAlertGift}(Common.SystemAlertGiftStruct));Common.SystemAlertGift=SystemAlertGift})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertTextIconMessageStruct=(function(_super){__extends(SystemAlertTextIconMessageStruct,_super);function SystemAlertTextIconMessageStruct(){return _super.call(this)||this}SystemAlertTextIconMessageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemAlertTextIconMessage"))};SystemAlertTextIconMessageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_content=(this.getChild("content"));this.m_assetList=(this.getChild("assetList"));this.m_commonDialog=(this.getChild("commonDialog"));this.m_confirmBtn=(this.getChild("confirmBtn"))};SystemAlertTextIconMessageStruct.URL="ui://txcuvopdib9zb4";SystemAlertTextIconMessageStruct.DependPackages=["Common"];return SystemAlertTextIconMessageStruct}(fairygui.GComponent));Common.SystemAlertTextIconMessageStruct=SystemAlertTextIconMessageStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemAlertTextIconMessage=(function(_super){__extends(SystemAlertTextIconMessage,_super);function SystemAlertTextIconMessage(){return _super!==null&&_super.apply(this,arguments)||this}SystemAlertTextIconMessage.prototype.open=function(itemList,title,content,confirm,caller,confirmText,isShowClose,isShowCurNum){if(isShowCurNum===void 0){isShowCurNum=true}this.itemList=itemList;this.confirm=confirm;this.caller=caller;this.m_commonDialog.m_closeBtn.visible=true;if(isShowClose!=null){this.m_commonDialog.m_closeBtn.visible=isShowClose}this.m_commonDialog.m_closeBtn.onClick(this,this.onClose);this.m_confirmBtn.onClick(this,this.onConfirm);this.m_commonDialog.m_title.text="";this.m_content.text="";this.m_confirmBtn.m_title.text=TEXT.ButtonOk;if(title){this.m_commonDialog.m_title.text=title}if(content){this.m_content.text=content}if(confirmText){this.m_confirmBtn.m_title.text=confirmText}this.m_assetList.removeChildrenToPool();for(var _i=0,itemList_1=itemList;_i<itemList_1.length;_i++){var item=itemList_1[_i];var assetItem=this.m_assetList.addItemFromPool();if(isShowCurNum){assetItem.setInfo(item)}else{assetItem.updateViewByDTNum(item)}}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this)};SystemAlertTextIconMessage.prototype.onConfirm=function(){if(this.confirm){this.confirm.call(this,this.itemList)}this.onClose()};SystemAlertTextIconMessage.prototype.onClose=function(){Games.MenuLayer.hideDialogModel();this.parent.removeChild(this)};return SystemAlertTextIconMessage}(Common.SystemAlertTextIconMessageStruct));Common.SystemAlertTextIconMessage=SystemAlertTextIconMessage})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemGetItemMessageStruct=(function(_super){__extends(SystemGetItemMessageStruct,_super);function SystemGetItemMessageStruct(){return _super.call(this)||this}SystemGetItemMessageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemGetItemMessage"))};SystemGetItemMessageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listItem=(this.getChild("listItem"));this.m_btnClose=(this.getChild("btnClose"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1");this.m_t2=this.getTransition("t2")};SystemGetItemMessageStruct.URL="ui://txcuvopdmu1z2b";SystemGetItemMessageStruct.DependPackages=["Common","PlayerInfo","Fx"];return SystemGetItemMessageStruct}(fairygui.GComponent));Common.SystemGetItemMessageStruct=SystemGetItemMessageStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemGetItemMessage=(function(_super){__extends(SystemGetItemMessage,_super);function SystemGetItemMessage(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.showIndex=0;_this.MaxShowNum=10;return _this}SystemGetItemMessage.prototype.open=function(itemList,closeFun,isAutoClose,closeButtonVisiable,buttonEnable,isClickButtonAutoClose){if(closeFun===void 0){closeFun=null}if(isAutoClose===void 0){isAutoClose=false}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(buttonEnable===void 0){buttonEnable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}if(itemList.length>0){console.log(getClassName(itemList[0]))}this.items=itemList;this.isClickButtonAutoClose=isClickButtonAutoClose;this.closeFun=closeFun;this.m_listItem.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_btnClose.enabled=buttonEnable;this.m_btnClose.visible=closeButtonVisiable;this.m_btnClose.onClick(this,this.close);this.isAutoClose=isAutoClose;Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this);this.showIndex=0;this.Show()};SystemGetItemMessage.prototype.Show=function(){var _this=this;this.UpdateRewardList();if(this.isAutoClose){this.autoCloseTimeout=setTimeout(function(){_this.close()},500)}this.m_t0.play()};SystemGetItemMessage.prototype.UpdateRewardList=function(){this.m_listItem.numItems=Math.min(this.MaxShowNum,this.items.length-this.showIndex)};SystemGetItemMessage.prototype.RenderItem=function(index,obj){var data=this.items[index+this.showIndex];obj.m_num.text=data.itemNumTxt;obj.m_star.starNum=data.itemStar;obj.icon=Game.moduleModel.item.getItem(data.itemId).itemIconUrl;obj.PopupInfo=data.itemId};SystemGetItemMessage.prototype.close=function(){clearTimeout(this.autoCloseTimeout);this.m_t2.play(Handler.create(this,this.onHide))};SystemGetItemMessage.prototype.onHide=function(){if(this.items.length>this.showIndex+this.MaxShowNum){this.showIndex+=this.MaxShowNum;this.Show();return}Games.MenuLayer.hideDialogModel();if(this.closeFun){this.closeFun()}this.removeFromParent()};return SystemGetItemMessage}(Common.SystemGetItemMessageStruct));Common.SystemGetItemMessage=SystemGetItemMessage})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemGoOtherFunctionStruct=(function(_super){__extends(SystemGoOtherFunctionStruct,_super);function SystemGoOtherFunctionStruct(){return _super.call(this)||this}SystemGoOtherFunctionStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemGoOtherFunction"))};SystemGoOtherFunctionStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_des=(this.getChild("des"));this.m_list=(this.getChild("list"));this.m_closeFullBtn=(this.getChild("closeFullBtn"));this.m_enbaleBtn=(this.getChild("enbaleBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};SystemGoOtherFunctionStruct.URL="ui://txcuvopdcwjyaw";SystemGoOtherFunctionStruct.DependPackages=["Common"];return SystemGoOtherFunctionStruct}(fairygui.GComponent));Common.SystemGoOtherFunctionStruct=SystemGoOtherFunctionStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var OtherFunctionType=Games.OtherFunctionType;var SystemGoOtherFunction=(function(_super){__extends(SystemGoOtherFunction,_super);function SystemGoOtherFunction(){return _super!==null&&_super.apply(this,arguments)||this}SystemGoOtherFunction.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.visible=false;this.m_closeFullBtn.onClick(this,this.onClickFullCloseBtn);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem)};SystemGoOtherFunction.prototype.onClickItem=function(item){this.onClose();switch(item.type){case OtherFunctionType.ActorSkillExp:var menuId=MenuId.ArtListExercise;var menuConfig=Game.config.menu.getConfig(menuId);var lv=Game.moduleModel.building.getRoomLevel(Games.RoomType.Training);if(lv>0){var enableOpen=Games.MenuValidateEnableOpen.getInstance().validate(menuId);if(enableOpen){Game.menu.open(menuId);return}}else{Game.system.toastMsg(MsgKey.actor_trainingroom)}break;case OtherFunctionType.ActorStarCard:this.onConfirm();break;default:break}};SystemGoOtherFunction.prototype.onClickCloseBtn=function(){this.onClose()};SystemGoOtherFunction.prototype.onClickFullCloseBtn=function(){this.onClose()};SystemGoOtherFunction.prototype.open=function(type,title,desc,confirmFunc){this.type=type;this.confirmFunc=confirmFunc;this.m_list.removeChildrenToPool();var item=this.m_list.addItemFromPool();item.updateView(type);if(isNullOrEmpty(title)){this.m_title.text=TEXT.SystemGoOtherFunction_Title}else{this.m_title.text=title}if(isNullOrEmpty(desc)){switch(this.type){case OtherFunctionType.ActorSkillExp:this.m_des.text=TEXT.SystemGoOtherFunction_Desc_1;break;case OtherFunctionType.ActorStarCard:this.m_des.text=TEXT.SystemGoOtherFunction_Desc_2;break;default:break}}else{this.m_des.text=desc}Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this)};SystemGoOtherFunction.prototype.onConfirm=function(){if(this.confirmFunc){this.confirmFunc.apply(null)}this.onClose()};SystemGoOtherFunction.prototype.onClose=function(){Games.MenuLayer.hideDialogModel();this.removeFromParent()};return SystemGoOtherFunction}(Common.SystemGoOtherFunctionStruct));Common.SystemGoOtherFunction=SystemGoOtherFunction})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemLevelUpMessageStruct=(function(_super){__extends(SystemLevelUpMessageStruct,_super);function SystemLevelUpMessageStruct(){return _super.call(this)||this}SystemLevelUpMessageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemLevelUpMessage"))};SystemLevelUpMessageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};SystemLevelUpMessageStruct.URL="ui://txcuvopdfbam2t";SystemLevelUpMessageStruct.DependPackages=["Common"];return SystemLevelUpMessageStruct}(fairygui.GComponent));Common.SystemLevelUpMessageStruct=SystemLevelUpMessageStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemLevelUpMessage=(function(_super){__extends(SystemLevelUpMessage,_super);function SystemLevelUpMessage(){return _super!==null&&_super.apply(this,arguments)||this}return SystemLevelUpMessage}(Common.SystemLevelUpMessageStruct));Common.SystemLevelUpMessage=SystemLevelUpMessage})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemSetNumMessageStruct=(function(_super){__extends(SystemSetNumMessageStruct,_super);function SystemSetNumMessageStruct(){return _super.call(this)||this}SystemSetNumMessageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","SystemSetNumMessage"))};SystemSetNumMessageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_content=(this.getChild("content"));this.m_title=(this.getChild("title"));this.m_bgCom=(this.getChild("bgCom"));this.m_okBtn=(this.getChild("okBtn"));this.m_progress=(this.getChild("progress"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};SystemSetNumMessageStruct.URL="ui://txcuvopdnsfy23";SystemSetNumMessageStruct.DependPackages=["Common","System"];return SystemSetNumMessageStruct}(fairygui.GComponent));Common.SystemSetNumMessageStruct=SystemSetNumMessageStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var SystemSetNumMessage=(function(_super){__extends(SystemSetNumMessage,_super);function SystemSetNumMessage(){return _super!==null&&_super.apply(this,arguments)||this}SystemSetNumMessage.prototype.open=function(limit,txt,title,caller,yesFun,noFun,yesTxt,closeButtonVisiable,isClickButtonAutoClose){if(txt===void 0){txt=""}if(title===void 0){title=""}if(caller===void 0){caller=null}if(yesFun===void 0){yesFun=null}if(noFun===void 0){noFun=null}if(yesTxt===void 0){yesTxt=null}if(closeButtonVisiable===void 0){closeButtonVisiable=true}if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}this.m_progress.max=limit;this.m_progress.value=limit>=1?1:0;if(isNullOrEmpty(title)){this.m_title.text=""}if(isNullOrEmpty(txt)){this.m_content.text=Games.TEXT.BagSelectNum}this.caller=caller;this.yesFun=yesFun;this.noFun=noFun;this.isClickButtonAutoClose=isClickButtonAutoClose;this.m_content.text=txt;this.m_title.text=title;this.m_okBtn.m_title.text=yesTxt;this.m_bgCom.m_closeBtn.visible=closeButtonVisiable;this.m_progress.on(fairygui.Events.STATE_CHANGED,this,this.OnSliderChange);this.m_okBtn.onClick(this,this.onClickYes);this.m_bgCom.m_closeBtn.onClick(this,this.onClickNo);Games.MenuLayer.showDialogModel();Games.MenuLayer.dialog.addChild(this);centerScreen(this);this.m_t0.play()};SystemSetNumMessage.prototype.OnSliderChange=function(){if(this.m_progress.value==0){this.m_progress.value=1}};SystemSetNumMessage.prototype.close=function(){Games.MenuLayer.hideDialogModel();this.m_t1.play(Handler.create(this,this.onHide))};SystemSetNumMessage.prototype.onHide=function(){this.removeFromParent()};SystemSetNumMessage.prototype.onClickYes=function(){if(this.isClickButtonAutoClose){this.close()}if(this.yesFun){if(this.caller){this.yesFun.apply(this.caller,[this.m_progress.value])}else{this.yesFun(this.m_progress.value)}}};SystemSetNumMessage.prototype.onClickNo=function(){if(this.isClickButtonAutoClose){this.close()}if(this.noFun){if(this.caller){this.noFun.apply(this.caller)}else{this.noFun()}}};return SystemSetNumMessage}(Common.SystemSetNumMessageStruct));Common.SystemSetNumMessage=SystemSetNumMessage})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TalkBoxStruct=(function(_super){__extends(TalkBoxStruct,_super);function TalkBoxStruct(){return _super.call(this)||this}TalkBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TalkBox"))};TalkBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TalkBoxStruct.URL="ui://txcuvopdi24u3d";TalkBoxStruct.DependPackages=["Common"];return TalkBoxStruct}(fairygui.GLabel));Common.TalkBoxStruct=TalkBoxStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TalkBox=(function(_super){__extends(TalkBox,_super);function TalkBox(){return _super!==null&&_super.apply(this,arguments)||this}TalkBox.prototype.setText=function(msg){this.m_title.text=msg};return TalkBox}(Common.TalkBoxStruct));Common.TalkBox=TalkBox})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TalkBox1Struct=(function(_super){__extends(TalkBox1Struct,_super);function TalkBox1Struct(){return _super.call(this)||this}TalkBox1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TalkBox1"))};TalkBox1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TalkBox1Struct.URL="ui://txcuvopdbdbft23c";TalkBox1Struct.DependPackages=["Common"];return TalkBox1Struct}(fairygui.GLabel));Common.TalkBox1Struct=TalkBox1Struct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TalkBox1=(function(_super){__extends(TalkBox1,_super);function TalkBox1(){return _super!==null&&_super.apply(this,arguments)||this}return TalkBox1}(Common.TalkBox1Struct));Common.TalkBox1=TalkBox1})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TextInputStruct=(function(_super){__extends(TextInputStruct,_super);function TextInputStruct(){return _super.call(this)||this}TextInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TextInput"))};TextInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextInputStruct.URL="ui://txcuvopdenjffm";TextInputStruct.DependPackages=["Common"];return TextInputStruct}(fairygui.GLabel));Common.TextInputStruct=TextInputStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TextInput=(function(_super){__extends(TextInput,_super);function TextInput(){return _super!==null&&_super.apply(this,arguments)||this}TextInput.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClick)};TextInput.prototype.OnClick=function(){this.title=""};return TextInput}(Common.TextInputStruct));Common.TextInput=TextInput})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TextScrollStruct=(function(_super){__extends(TextScrollStruct,_super);function TextScrollStruct(){return _super.call(this)||this}TextScrollStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TextScroll"))};TextScrollStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextScrollStruct.URL="ui://txcuvopdcvs8dp";TextScrollStruct.DependPackages=["Common"];return TextScrollStruct}(fairygui.GLabel));Common.TextScrollStruct=TextScrollStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TextScroll=(function(_super){__extends(TextScroll,_super);function TextScroll(){return _super!==null&&_super.apply(this,arguments)||this}return TextScroll}(Common.TextScrollStruct));Common.TextScroll=TextScroll})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TipRewardStruct=(function(_super){__extends(TipRewardStruct,_super);function TipRewardStruct(){return _super.call(this)||this}TipRewardStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TipReward"))};TipRewardStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_list=(this.getChild("list"));this.m_arrow=(this.getChild("arrow"));this.m_popupMC=this.getTransition("popupMC")};TipRewardStruct.URL="ui://txcuvopdx9zq3z";TipRewardStruct.DependPackages=["Common"];return TipRewardStruct}(fairygui.GLabel));Common.TipRewardStruct=TipRewardStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TipReward=(function(_super){__extends(TipReward,_super);function TipReward(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.itemNumList=[];return _this}TipReward.prototype.setItems=function(itemNumList){this.itemNumList=itemNumList;this.refreshRewardList()};TipReward.prototype.refreshRewardList=function(){var list=this.m_list;this.width=this.itemNumList.length*60+52;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=this.itemNumList.length};TipReward.prototype.renderListItem=function(index,item){var data=this.itemNumList[index];item.updateViewByDTNum(data);item.m_c_show_bg.selectedIndex=1};TipReward.prototype.showPopup=function(button){var _this=this;this.button=button;fairygui.GRoot.inst.showPopup(this,button,false);this.layoutBottom();this.m_popupMC.play(Handler.create(this,function(){_this.hidePopup()}),1,0)};TipReward.prototype.layoutBottom=function(){var stageWidth=fairygui.GRoot.inst.width;var pos=this.button.localToGlobal();var buttonCenterX=pos.x+this.button.width*0.5;var x=buttonCenterX-this.width*0.5;x=Math.max(x,0);x=Math.min(x,stageWidth-this.width);this.x=x;this.y=this.y+25;this.m_arrow.x=buttonCenterX-this.x;this.setPivot((this.width-56)/this.width,1)};TipReward.prototype.hidePopup=function(){fairygui.GRoot.inst.hidePopup(this)};return TipReward}(Common.TipRewardStruct));Common.TipReward=TipReward})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TopAssetStruct=(function(_super){__extends(TopAssetStruct,_super);function TopAssetStruct(){return _super.call(this)||this}TopAssetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TopAsset"))};TopAssetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Bg=this.getController("Bg");this.m_assetList=(this.getChild("assetList"));this.m_btn_topClose=(this.getChild("btn_topClose"))};TopAssetStruct.URL="ui://txcuvopdfv9eab";TopAssetStruct.DependPackages=["Common"];return TopAssetStruct}(fairygui.GComponent));Common.TopAssetStruct=TopAssetStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TopAsset=(function(_super){__extends(TopAsset,_super);function TopAsset(){return _super!==null&&_super.apply(this,arguments)||this}TopAsset.prototype.InitView=function(thisObj,closeHandler,assetList){if(assetList===void 0){assetList=[]}this.m_btn_topClose.onClick(thisObj,closeHandler);this.m_assetList.itemRenderer=new Handler(this,this.RenderAssetItem,null,false);this.assetList=assetList};TopAsset.prototype.onWindowDestory=function(){this.m_assetList.itemRenderer=null;this.m_btn_topClose.onClick(null,null)};TopAsset.prototype.updateAsset=function(){this.m_assetList.numItems=this.assetList.length};TopAsset.prototype.RenderAssetItem=function(index,obj){var itemId=this.assetList[index];var item=Game.moduleModel.item.getItem(itemId);obj.m_assetIcon.url=item.itemIconUrl;obj.m_title.text=item.itemNumTxt};return TopAsset}(Common.TopAssetStruct));Common.TopAsset=TopAsset})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TopAssetItemStruct=(function(_super){__extends(TopAssetItemStruct,_super);function TopAssetItemStruct(){return _super.call(this)||this}TopAssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","TopAssetItem"))};TopAssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_assetIcon=(this.getChild("assetIcon"))};TopAssetItemStruct.URL="ui://txcuvopdfv9ead";TopAssetItemStruct.DependPackages=["Common"];return TopAssetItemStruct}(fairygui.GComponent));Common.TopAssetItemStruct=TopAssetItemStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TopAssetItem=(function(_super){__extends(TopAssetItem,_super);function TopAssetItem(){return _super!==null&&_super.apply(this,arguments)||this}TopAssetItem.prototype.setItemId=function(itemId){var userItem=Game.moduleModel.item.getItem(itemId);var itemNum=Game.moduleModel.item.getItemNum(itemId);this.setInfo(userItem.itemIconUrl,itemNum)};TopAssetItem.prototype.setInfo=function(iconUrl,value){this.m_assetIcon.url=iconUrl;this.m_title.text=formatNumberUnit(value)};return TopAssetItem}(Common.TopAssetItemStruct));Common.TopAssetItem=TopAssetItem})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var TouxiangStruct=(function(_super){__extends(TouxiangStruct,_super);function TouxiangStruct(){return _super.call(this)||this}TouxiangStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","touxiang"))};TouxiangStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};TouxiangStruct.URL="ui://txcuvopdi4hgt23z";TouxiangStruct.DependPackages=["Common"];return TouxiangStruct}(fairygui.GLabel));Common.TouxiangStruct=TouxiangStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var Touxiang=(function(_super){__extends(Touxiang,_super);function Touxiang(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(Touxiang.prototype,"AvatarId",{set:function(id){var cfg=Game.config.avatar.getConfig(id);if(cfg){this.Icon=cfg.bodyIconUrl;this.Vector=cfg.co_vector}},enumerable:true,configurable:true});Object.defineProperty(Touxiang.prototype,"Icon",{set:function(url){this.m_icon.url=url},enumerable:true,configurable:true});Object.defineProperty(Touxiang.prototype,"Vector",{set:function(pos){this.m_icon.x=0-pos.x;this.m_icon.y=0-pos.y},enumerable:true,configurable:true});return Touxiang}(Common.TouxiangStruct));Common.Touxiang=Touxiang})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var UpgradeBtnStruct=(function(_super){__extends(UpgradeBtnStruct,_super);function UpgradeBtnStruct(){return _super.call(this)||this}UpgradeBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","upgradeBtn"))};UpgradeBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};UpgradeBtnStruct.URL="ui://txcuvopdoapba1";UpgradeBtnStruct.DependPackages=["Common"];return UpgradeBtnStruct}(fairygui.GButton));Common.UpgradeBtnStruct=UpgradeBtnStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var UpgradeBtn=(function(_super){__extends(UpgradeBtn,_super);function UpgradeBtn(){return _super!==null&&_super.apply(this,arguments)||this}return UpgradeBtn}(Common.UpgradeBtnStruct));Common.UpgradeBtn=UpgradeBtn})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var YellowBtnStruct=(function(_super){__extends(YellowBtnStruct,_super);function YellowBtnStruct(){return _super.call(this)||this}YellowBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Common","YellowBtn"))};YellowBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};YellowBtnStruct.URL="ui://txcuvopdnsfy25";YellowBtnStruct.DependPackages=["Common","System"];return YellowBtnStruct}(fairygui.GButton));Common.YellowBtnStruct=YellowBtnStruct})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Common;(function(Common){var YellowBtn=(function(_super){__extends(YellowBtn,_super);function YellowBtn(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn}(Common.YellowBtnStruct));Common.YellowBtn=YellowBtn})(Common=fgui.Common||(fgui.Common={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationAchievedStruct=(function(_super){__extends(CooperationAchievedStruct,_super);function CooperationAchievedStruct(){return _super.call(this)||this}CooperationAchievedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationAchieved"))};CooperationAchievedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_me=(this.getChild("me"));this.m_other=(this.getChild("other"));this.m_name1=(this.getChild("name1"));this.m_name2=(this.getChild("name2"));this.m_level1=(this.getChild("level1"));this.m_level2=(this.getChild("level2"));this.m_remind=(this.getChild("remind"))};CooperationAchievedStruct.URL="ui://k9ycebr5w3bv1";CooperationAchievedStruct.DependPackages=["Cooperation","Fx","Common"];return CooperationAchievedStruct}(fairygui.GComponent));Cooperation.CooperationAchievedStruct=CooperationAchievedStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationAchieved=(function(_super){__extends(CooperationAchieved,_super);function CooperationAchieved(){return _super!==null&&_super.apply(this,arguments)||this}CooperationAchieved.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClicClose)};CooperationAchieved.prototype.onClicClose=function(){Game.moduleModel.cooperation.sendReadCooperate();this.moduleWindow.closeSelf()};CooperationAchieved.prototype.onWindowShow=function(){this.setData()};CooperationAchieved.prototype.onWindowHide=function(){};CooperationAchieved.prototype.setData=function(){this.m_me.icon=User.headIconUrl;this.m_other.icon=Game.config.headPortrait.GetPlayerIconUrl(Game.moduleModel.cooperation.partnerInfData.portrait,Game.moduleModel.cooperation.partnerInfData.sex);this.m_name1.text=User.info.name;this.m_level1.text=format(TEXT.Lv,User.info.level);this.m_name2.text=Game.moduleModel.cooperation.partnerInfData.name;this.m_level2.text=format(TEXT.Lv,Game.moduleModel.cooperation.partnerInfData.level)};return CooperationAchieved}(Cooperation.CooperationAchievedStruct));Cooperation.CooperationAchieved=CooperationAchieved})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationAddStruct=(function(_super){__extends(CooperationAddStruct,_super);function CooperationAddStruct(){return _super.call(this)||this}CooperationAddStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","cooperationAdd"))};CooperationAddStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};CooperationAddStruct.URL="ui://k9ycebr5uwsg2f";CooperationAddStruct.DependPackages=["Cooperation","MainUI"];return CooperationAddStruct}(fairygui.GButton));Cooperation.CooperationAddStruct=CooperationAddStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationAdd=(function(_super){__extends(CooperationAdd,_super);function CooperationAdd(){return _super!==null&&_super.apply(this,arguments)||this}return CooperationAdd}(Cooperation.CooperationAddStruct));Cooperation.CooperationAdd=CooperationAdd})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationApplyStruct=(function(_super){__extends(CooperationApplyStruct,_super);function CooperationApplyStruct(){return _super.call(this)||this}CooperationApplyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationApply"))};CooperationApplyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_msg=(this.getChild("msg"));this.m_remind=(this.getChild("remind"));this.m_title=(this.getChild("title"));this.m_refuseBtn=(this.getChild("refuseBtn"));this.m_receiveBtn=(this.getChild("receiveBtn"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_icon=(this.getChild("icon"))};CooperationApplyStruct.URL="ui://k9ycebr5w3bv3";CooperationApplyStruct.DependPackages=["Cooperation","Common"];return CooperationApplyStruct}(fairygui.GComponent));Cooperation.CooperationApplyStruct=CooperationApplyStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationApply=(function(_super){__extends(CooperationApply,_super);function CooperationApply(){return _super!==null&&_super.apply(this,arguments)||this}CooperationApply.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.CooperationApplyTitle;this.m_remind.text=TEXT.CooperationremindTip;this.m_refuseBtn.m_title.text=TEXT.CooperationrefuseBtn;this.m_receiveBtn.m_title.text=TEXT.CooperationreceiveBtn;this.m_closeBtn.onClick(this,this.onClicClose);this.m_receiveBtn.onClick(this,this.onClickReceiveBtn);this.m_refuseBtn.onClick(this,this.onClickRefuseBtn)};CooperationApply.prototype.onClickRefuseBtn=function(){Game.moduleModel.cooperation.sendApprove(1,this.curData.entityId)};CooperationApply.prototype.onClickReceiveBtn=function(){Game.moduleModel.cooperation.sendApprove(0,this.curData.entityId)};CooperationApply.prototype.onClicClose=function(){this.moduleWindow.menuBack()};CooperationApply.prototype.onWindowShow=function(){this.setData()};CooperationApply.prototype.onWindowHide=function(){};CooperationApply.prototype.setData=function(){this.curData=null;if(Game.moduleModel.cooperation.cooperData&&Game.moduleModel.cooperation.cooperData!==null&&Game.moduleModel.cooperation.cooperData.appList.length>0){this.curData=Game.moduleModel.cooperation.cooperData.appList[0]}if(this.curData!==null){this.m_icon.m_icon.icon=Game.config.headPortrait.GetPlayerIconUrl(Game.moduleModel.cooperation.partnerInfData.portrait,Game.moduleModel.cooperation.partnerInfData.sex);this.m_name.text=Game.moduleModel.cooperation.partnerInfData.name;this.m_msg.text=TEXT.CooperationApplyTip}};return CooperationApply}(Cooperation.CooperationApplyStruct));Cooperation.CooperationApply=CooperationApply})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationEndStruct=(function(_super){__extends(CooperationEndStruct,_super);function CooperationEndStruct(){return _super.call(this)||this}CooperationEndStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationEnd"))};CooperationEndStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_text1=(this.getChild("text1"));this.m_text2=(this.getChild("text2"));this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_sureBtn=(this.getChild("sureBtn"))};CooperationEndStruct.URL="ui://k9ycebr5w3bv2";CooperationEndStruct.DependPackages=["Cooperation","Common"];return CooperationEndStruct}(fairygui.GComponent));Cooperation.CooperationEndStruct=CooperationEndStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationEnd=(function(_super){__extends(CooperationEnd,_super);function CooperationEnd(){return _super!==null&&_super.apply(this,arguments)||this}CooperationEnd.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.CooperationEndTitle;this.m_closeBtn.onClick(this,this.onClicClose);this.m_sureBtn.onClick(this,this.onClicSureClose)};CooperationEnd.prototype.onClicClose=function(){this.moduleWindow.closeSelf()};CooperationEnd.prototype.onClicSureClose=function(){Game.moduleModel.cooperation.sendRelieve();this.moduleWindow.closeSelf()};CooperationEnd.prototype.onWindowShow=function(){this.setData()};CooperationEnd.prototype.onWindowHide=function(){};CooperationEnd.prototype.setData=function(){this.m_text1.text=TEXT.CooperationEndTip1;this.m_text2.text=TEXT.CooperationEndTip2};return CooperationEnd}(Cooperation.CooperationEndStruct));Cooperation.CooperationEnd=CooperationEnd})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationForMainUIStruct=(function(_super){__extends(CooperationForMainUIStruct,_super);function CooperationForMainUIStruct(){return _super.call(this)||this}CooperationForMainUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","cooperationForMainUI"))};CooperationForMainUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_have=this.getController("have");this.m_iconBtn1=(this.getChild("iconBtn1"));this.m_iconBtn2=(this.getChild("iconBtn2"));this.m_iconBtn3=(this.getChild("iconBtn3"));this.m_iconBtn4=(this.getChild("iconBtn4"));this.m_add=(this.getChild("add"));this.m_icon=(this.getChild("icon"))};CooperationForMainUIStruct.URL="ui://k9ycebr5g8fc29";CooperationForMainUIStruct.DependPackages=["Cooperation","Common","MainUI"];return CooperationForMainUIStruct}(fairygui.GComponent));Cooperation.CooperationForMainUIStruct=CooperationForMainUIStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationForMainUI=(function(_super){__extends(CooperationForMainUI,_super);function CooperationForMainUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.autoCloseTimeout=0;return _this}CooperationForMainUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_add.onClick(this,this.onClickAddBtn);this.m_icon.onClick(this,this.onClickIconBtn);this.m_iconBtn1.onClick(this,this.onClickMissBtn);this.m_iconBtn2.onClick(this,this.onClickOrderBtn);this.m_iconBtn3.onClick(this,this.onClickDollarBtn);this.m_iconBtn4.onClick(this,this.onClickCoinsBtn);for(var i=0;i<this.numChildren;i++){var item=this.getChildAt(i);if(item.name.startsWith("iconBtn")){var button=item;var menuButtonData=void 0;if(!isNullOrEmpty(button.data)){menuButtonData=JSON.parse(button.data)}else{menuButtonData={menuId:0}}var menuConfig=Game.config.menu.getConfig(menuButtonData.menuId);if(menuConfig){button.text=menuConfig.name;if(!isNullOrEmpty(menuConfig.iconUrl)){button.icon=menuConfig.iconUrl}}}}};CooperationForMainUI.prototype.onClickMissBtn=function(){Game.menu.open(MenuId.Cooperation)};CooperationForMainUI.prototype.onClickOrderBtn=function(){if(Game.moduleModel.order.getCooperationOrderList().length>0){Game.menu.open(MenuId.Order,true)}else{Game.system.toastMsg(MsgKey.cooperative_order_no)}};CooperationForMainUI.prototype.onClickDollarBtn=function(){var valNum=(User.info.level/4+1)*User.info.level*80+420;var val=formatNumberUnit(valNum,1);Game.system.confirmMsg(MsgKey.cooperated_send,[val,Game.config.item.getConfig(EItemId.dollar).name],TEXT.CooperationGiveRewardDollar,this,function(){if(Game.moduleModel.item.getItemNum(EItemId.dollar)<valNum){Game.system.openItemWay(EItemId.dollar,valNum)}else{Game.moduleModel.cooperation.sendGiveReward(EItemId.dollar)}},function(){},TEXT.ButtonOk,TEXT.ButtonCannel,false)};CooperationForMainUI.prototype.onClickCoinsBtn=function(){var valNum=(User.info.level/4+1)*User.info.level*60+440;var val=formatNumberUnit(valNum,1);Game.system.confirmMsg(MsgKey.cooperated_send,[val,Game.config.item.getConfig(EItemId.gold).name],TEXT.CooperationGiveRewardGold,this,function(){if(Game.moduleModel.item.getItemNum(EItemId.gold)<valNum){Game.system.openItemWay(EItemId.gold,valNum)}else{Game.moduleModel.cooperation.sendGiveReward(EItemId.gold)}},function(){},TEXT.ButtonOk,TEXT.ButtonCannel,false)};CooperationForMainUI.prototype.onClickAddBtn=function(){if(this.m_have.selectedIndex===0){Game.menu.open(MenuId.Cooperation)}};CooperationForMainUI.prototype.onClickIconBtn=function(){if(this.m_have.selectedIndex===1){this.m_have.setSelectedIndex(2)}else{if(this.m_have.selectedIndex===2){this.m_have.setSelectedIndex(1)}}};CooperationForMainUI.prototype.setData=function(){var _this=this;if(!this.visible){this.visible=true}if(Game.moduleModel.cooperation.havePartner){if(Game.moduleModel.cooperation.partnerInfData&&Game.moduleModel.cooperation.partnerInfData!==null){if(this.m_have.selectedIndex===0){this.m_have.setSelectedIndex(1);this.m_icon.m_icon.icon=Game.config.headPortrait.GetPlayerIconUrl(Game.moduleModel.cooperation.partnerInfData.portrait,Game.moduleModel.cooperation.partnerInfData.sex)}}else{if(this.autoCloseTimeout===0){this.searchPartner();this.autoCloseTimeout=setTimeout(function(){_this.searchPartner()},500)}}}else{if(this.m_have.selectedIndex!==0){this.m_have.setSelectedIndex(0)}}};CooperationForMainUI.prototype.searchPartner=function(){if(Game.moduleModel.cooperation.partnerInfData&&Game.moduleModel.cooperation.partnerInfData!==null){clearTimeout(this.autoCloseTimeout);this.autoCloseTimeout=0}else{if(Game.moduleModel.cooperation.cooperData&&Game.moduleModel.cooperation.cooperData!==null&&Game.moduleModel.cooperation.cooperData.friendEntityId.length>0){Game.moduleModel.cooperation.sendGetOtherInf(parseInt(Game.moduleModel.cooperation.cooperData.friendEntityId))}}};CooperationForMainUI.prototype.refreshRed=function(){this.m_iconBtn2.m_c_red_visible.selectedIndex=Game.moduleModel.order.cooperateRedNum>0?1:0};return CooperationForMainUI}(Cooperation.CooperationForMainUIStruct));Cooperation.CooperationForMainUI=CooperationForMainUI})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtnStruct=(function(_super){__extends(CooperationItemBtnStruct,_super);function CooperationItemBtnStruct(){return _super.call(this)||this}CooperationItemBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","cooperationItemBtn"))};CooperationItemBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};CooperationItemBtnStruct.URL="ui://k9ycebr5g8fc20";CooperationItemBtnStruct.DependPackages=["Cooperation"];return CooperationItemBtnStruct}(fairygui.GButton));Cooperation.CooperationItemBtnStruct=CooperationItemBtnStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtn=(function(_super){__extends(CooperationItemBtn,_super);function CooperationItemBtn(){return _super!==null&&_super.apply(this,arguments)||this}CooperationItemBtn.prototype.setData=function(index,isSelectNum){if(index===0){}};return CooperationItemBtn}(Cooperation.CooperationItemBtnStruct));Cooperation.CooperationItemBtn=CooperationItemBtn})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtn2Struct=(function(_super){__extends(CooperationItemBtn2Struct,_super);function CooperationItemBtn2Struct(){return _super.call(this)||this}CooperationItemBtn2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","cooperationItemBtn2"))};CooperationItemBtn2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};CooperationItemBtn2Struct.URL="ui://k9ycebr5g8fc21";CooperationItemBtn2Struct.DependPackages=["Cooperation"];return CooperationItemBtn2Struct}(fairygui.GButton));Cooperation.CooperationItemBtn2Struct=CooperationItemBtn2Struct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtn2=(function(_super){__extends(CooperationItemBtn2,_super);function CooperationItemBtn2(){return _super!==null&&_super.apply(this,arguments)||this}return CooperationItemBtn2}(Cooperation.CooperationItemBtn2Struct));Cooperation.CooperationItemBtn2=CooperationItemBtn2})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtn3Struct=(function(_super){__extends(CooperationItemBtn3Struct,_super);function CooperationItemBtn3Struct(){return _super.call(this)||this}CooperationItemBtn3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","cooperationItemBtn3"))};CooperationItemBtn3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};CooperationItemBtn3Struct.URL="ui://k9ycebr5g8fc22";CooperationItemBtn3Struct.DependPackages=["Cooperation"];return CooperationItemBtn3Struct}(fairygui.GButton));Cooperation.CooperationItemBtn3Struct=CooperationItemBtn3Struct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationItemBtn3=(function(_super){__extends(CooperationItemBtn3,_super);function CooperationItemBtn3(){return _super!==null&&_super.apply(this,arguments)||this}return CooperationItemBtn3}(Cooperation.CooperationItemBtn3Struct));Cooperation.CooperationItemBtn3=CooperationItemBtn3})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationMainStruct=(function(_super){__extends(CooperationMainStruct,_super);function CooperationMainStruct(){return _super.call(this)||this}CooperationMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationMain"))};CooperationMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};CooperationMainStruct.URL="ui://k9ycebr5sg8w2d";CooperationMainStruct.DependPackages=["Cooperation"];return CooperationMainStruct}(fairygui.GComponent));Cooperation.CooperationMainStruct=CooperationMainStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationMain=(function(_super){__extends(CooperationMain,_super);function CooperationMain(){return _super!==null&&_super.apply(this,arguments)||this}CooperationMain.prototype.onWindowShow=function(){this.checkStatus();Game.moduleModel.cooperation.sAccountCooperateDataUpdate.add(this.checkStatus,this)};CooperationMain.prototype.onWindowHide=function(){Game.moduleModel.cooperation.sAccountCooperateDataUpdate.remove(this.checkStatus,this)};CooperationMain.prototype.checkStatus=function(){if(Game.moduleModel.cooperation.havePartner){if(Game.moduleModel.cooperation.cooperData.isRead){if(!this.moduleWindow.cooperationAchievedSubwindow.isShowed&&Game.moduleModel.cooperation.partnerInfData&&Game.moduleModel.cooperation.partnerInfData!==null){if(this.moduleWindow.cooperationRealtionshipSubwindow.isShowed){this.moduleWindow.cooperationRealtionshipSubwindow.closeSelf()}if(this.moduleWindow.serachOther.isShowed){this.moduleWindow.serachOther.closeSelf()}if(this.moduleWindow.cooperationApplySubwindow.isShowed){this.moduleWindow.cooperationApplySubwindow.closeSelf()}this.moduleWindow.openSubwindowByIndex(Games.CooperationSubwindowType.CooperationAchieved,true)}}else{if(!this.moduleWindow.cooperationRealtionshipSubwindow.isShowed&&Game.moduleModel.cooperation.cooperTaskData&&Game.moduleModel.cooperation.cooperTaskData!==null){if(this.moduleWindow.serachOther.isShowed){this.moduleWindow.serachOther.closeSelf()}if(this.moduleWindow.cooperationApplySubwindow.isShowed){this.moduleWindow.cooperationApplySubwindow.closeSelf()}if(this.moduleWindow.cooperationAchievedSubwindow.isShowed){this.moduleWindow.cooperationAchievedSubwindow.closeSelf()}this.moduleWindow.openSubwindowByIndex(Games.CooperationSubwindowType.cooperationRealtionship,true)}}}else{if(Game.moduleModel.cooperation.cooperData&&Game.moduleModel.cooperation.cooperData!==null&&Game.moduleModel.cooperation.cooperData.appList.length>0){if(this.moduleWindow.serachOther.isShowed){this.moduleWindow.serachOther.closeSelf()}if(this.moduleWindow.cooperationRealtionshipSubwindow.isShowed){this.moduleWindow.cooperationRealtionshipSubwindow.closeSelf()}if(!this.moduleWindow.cooperationApplySubwindow.isShowed){if(Game.moduleModel.cooperation.partnerInfData&&Game.moduleModel.cooperation.partnerInfData!==null){this.moduleWindow.openSubwindowByIndex(Games.CooperationSubwindowType.cooperationApply,true)}}else{this.moduleWindow.cooperationApplySubwindow.conent.setData()}}else{if(this.moduleWindow.cooperationApplySubwindow.isShowed){this.moduleWindow.cooperationApplySubwindow.closeSelf()}if(this.moduleWindow.cooperationRealtionshipSubwindow.isShowed){this.moduleWindow.cooperationRealtionshipSubwindow.closeSelf()}if(!this.moduleWindow.serachOther.isShowed){this.moduleWindow.openSubwindowByIndex(Games.CooperationSubwindowType.serachOther,true)}}}};return CooperationMain}(Cooperation.CooperationMainStruct));Cooperation.CooperationMain=CooperationMain})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationMainPanelStruct=(function(_super){__extends(CooperationMainPanelStruct,_super);function CooperationMainPanelStruct(){return _super.call(this)||this}CooperationMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationMainPanel"))};CooperationMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_have=this.getController("have");this.m_havefirst=this.getController("havefirst");this.m_title=(this.getChild("title"));this.m_text1=(this.getChild("text1"));this.m_text2=(this.getChild("text2"));this.m_selfId=(this.getChild("selfId"));this.m_remind=(this.getChild("remind"));this.m_intro=(this.getChild("intro"));this.m_text3=(this.getChild("text3"));this.m_otherID=(this.getChild("otherID"));this.m_icon1=(this.getChild("icon1"));this.m_icon2=(this.getChild("icon2"));this.m_number1=(this.getChild("number1"));this.m_number2=(this.getChild("number2"));this.m_time=(this.getChild("time"));this.m_introduce=(this.getChild("introduce"));this.m_time1=(this.getChild("time1"));this.m_inviteBtn1=(this.getChild("inviteBtn1"));this.m_inviteBtn2=(this.getChild("inviteBtn2"));this.m_disinviteBtn=(this.getChild("disinviteBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};CooperationMainPanelStruct.URL="ui://k9ycebr5w3bv0";CooperationMainPanelStruct.DependPackages=["Cooperation","Common"];return CooperationMainPanelStruct}(fairygui.GComponent));Cooperation.CooperationMainPanelStruct=CooperationMainPanelStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationMainPanel=(function(_super){__extends(CooperationMainPanel,_super);function CooperationMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}CooperationMainPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.CooperationMainPanelTitle;this.m_text1.text=TEXT.Cooperationtext1;this.m_text2.text=TEXT.Cooperationtext2;this.m_remind.text=TEXT.Cooperationremind;this.m_intro.text=TEXT.Cooperationintro;this.m_inviteBtn1.m_title.text=TEXT.CooperationinviteBtn1;this.m_inviteBtn2.m_title.text=TEXT.CooperationinviteBtn2;this.m_disinviteBtn.m_title.text=TEXT.CooperationdisinviteBtn;this.m_text3.text=TEXT.Cooperationtext3;this.m_otherID.promptText=TEXT.Cooperationintro;this.m_introduce.text="";this.m_otherID.input.maxChars=10;this.m_closeBtn.onClick(this,this.onClicClose);this.m_inviteBtn1.onClick(this,this.onClickSearchBtn);this.m_inviteBtn2.onClick(this,this.onClickPublicBtn);this.m_disinviteBtn.onClick(this,this.onClickDisBtn)};CooperationMainPanel.prototype.onClickDisBtn=function(){Game.moduleModel.cooperation.sendCancelCooperate()};CooperationMainPanel.prototype.onClickPublicBtn=function(){var _this=this;if(Game.moduleModel.cooperation.cooperData.weekTimes<Game.config.global.getConfig(GlobalKey.KEY_29_MeiZhouGeZuoCiShu).value){this.m_inviteBtn2.grayed=true;Game.moduleModel.cooperation.setDealyCanUse(function(){_this.m_inviteBtn2.grayed=false});Game.moduleModel.cooperation.sendApply(0)}else{Game.system.toastText(TEXT.CooperationEndTip2)}};CooperationMainPanel.prototype.onClickSearchBtn=function(){if(Game.moduleModel.cooperation.lastReqTimeNum<=0){if(Game.moduleModel.cooperation.cooperData.weekTimes<Game.config.global.getConfig(GlobalKey.KEY_29_MeiZhouGeZuoCiShu).value){if(this.m_otherID.text.length>0){Game.moduleModel.cooperation.sendApply(parseInt(this.m_otherID.text))}else{Game.system.toastText(TEXT.CooperationMainPanelTip1)}}else{Game.system.toastText(TEXT.CooperationEndTip2)}}else{Game.system.toastText(TEXT.CooperationMainPanelTip2)}};CooperationMainPanel.prototype.onClicClose=function(){this.moduleWindow.menuBack()};CooperationMainPanel.prototype.onWindowShow=function(){Game.moduleModel.cooperation.sReqTimeUpdate.add(this.checkTime,this);Game.moduleModel.cooperation.sReqTimeAutoUpdate.add(this.checkTime,this);this.setData()};CooperationMainPanel.prototype.onWindowHide=function(){Game.moduleModel.cooperation.sReqTimeUpdate.remove(this.checkTime,this);Game.moduleModel.cooperation.sReqTimeAutoUpdate.remove(this.checkTime,this);this.m_otherID.text=""};CooperationMainPanel.prototype.setData=function(){this.m_otherID.text="";if(!Game.moduleModel.cooperation.cooperPlayerData||Game.moduleModel.cooperation.cooperPlayerData===null){Game.system.toastText("未收到服务器数据，请检查");this.moduleWindow.menuBack()}else{this.checkTime();this.m_selfId.text=format(TEXT.CooperationMainPanelID,User.info.entityId);if(Game.moduleModel.cooperation.cooperData&&Game.moduleModel.cooperation.cooperData.firstACooperate){if(this.m_remind.visible){this.m_remind.visible=false}if(this.m_icon2.visible){this.m_icon2.visible=false}if(this.m_number2.visible){this.m_number2.visible=false}}else{if(!this.m_remind.visible){this.m_remind.visible=true}if(!this.m_icon2.visible){this.m_icon2.visible=true}if(!this.m_number2.visible){this.m_number2.visible=true}this.m_icon2.icon=Games.WarLoadPic.getItemIcon(Game.config.global.getConfig(GlobalKey.KEY_28_ShouCiZhangHao__GeZuoJiangLi).value1[0]);this.m_number2.text=Game.config.global.getConfig(GlobalKey.KEY_28_ShouCiZhangHao__GeZuoJiangLi).value1[1].toString()}if(Game.moduleModel.cooperation.cooperData&&Game.moduleModel.cooperation.cooperData.firstCooperate){if(this.m_text1.visible){this.m_text1.visible=false}if(this.m_icon1.visible){this.m_icon1.visible=false}if(this.m_number1.visible){this.m_number1.visible=false}}else{if(!this.m_text1.visible){this.m_text1.visible=true}if(!this.m_icon1.visible){this.m_icon1.visible=true}if(!this.m_number1.visible){this.m_number1.visible=true}this.m_icon1.icon=Games.WarLoadPic.getItemIcon(Game.config.global.getConfig(GlobalKey.KEY_27_ShouCiGeZuoJiangLi).value1[0]);this.m_number1.text=Game.config.global.getConfig(GlobalKey.KEY_27_ShouCiGeZuoJiangLi).value1[1].toString()}}};CooperationMainPanel.prototype.checkTime=function(){if(Game.moduleModel.cooperation.lastReqTimeNum>0){if(this.m_havefirst.selectedIndex!==1){this.m_havefirst.setSelectedIndex(1);this.m_inviteBtn1.grayed=true}this.m_time1.text=TimeHelper.TimeFormat(Game.moduleModel.cooperation.lastReqTimeNum)}else{if(this.m_havefirst.selectedIndex!==0){this.m_havefirst.setSelectedIndex(0);this.m_inviteBtn1.grayed=false}}if(Game.moduleModel.cooperation.lastReqTimeAutoNum>0){if(this.m_have.selectedIndex!==1){this.m_have.setSelectedIndex(1)}this.m_time.text=TimeHelper.TimeFormat(Game.moduleModel.cooperation.lastReqTimeAutoNum)}else{if(this.m_have.selectedIndex!==0){this.m_have.setSelectedIndex(0)}}};return CooperationMainPanel}(Cooperation.CooperationMainPanelStruct));Cooperation.CooperationMainPanel=CooperationMainPanel})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRealtionshipStruct=(function(_super){__extends(CooperationRealtionshipStruct,_super);function CooperationRealtionshipStruct(){return _super.call(this)||this}CooperationRealtionshipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationRealtionship"))};CooperationRealtionshipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_me=(this.getChild("me"));this.m_other=(this.getChild("other"));this.m_name1=(this.getChild("name1"));this.m_name2=(this.getChild("name2"));this.m_level1=(this.getChild("level1"));this.m_level2=(this.getChild("level2"));this.m_des=(this.getChild("des"));this.m_tasklist=(this.getChild("tasklist"));this.m_taskTitleList=(this.getChild("taskTitleList"));this.m_bg=(this.getChild("bg"));this.m_relieveBtn=(this.getChild("relieveBtn"));this.m_progressbar=(this.getChild("progressbar"));this.m_showOtherInf=(this.getChild("showOtherInf"))};CooperationRealtionshipStruct.URL="ui://k9ycebr5w3bv4";CooperationRealtionshipStruct.DependPackages=["Cooperation","Common","WarMovie"];return CooperationRealtionshipStruct}(fairygui.GComponent));Cooperation.CooperationRealtionshipStruct=CooperationRealtionshipStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRealtionship=(function(_super){__extends(CooperationRealtionship,_super);function CooperationRealtionship(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.curMaxTaskNum=0;_this.curSelectTaskNum=0;return _this}CooperationRealtionship.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.CooperationRealtionshipTitle;this.m_des.text=TEXT.CooperationRealtionshipTip;this.m_relieveBtn.m_title.text=TEXT.CooperationRealtionshiprelieveBtn;this.m_progressbar.m_progressbar.m_title.visible=false;this.m_progressbar.m_list.itemRenderer=Laya.Handler.create(this,this.progressItem,null,false);this.m_tasklist.itemRenderer=Laya.Handler.create(this,this.taskItem,null,false);this.m_taskTitleList.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);this.m_bg.m_closeBtn.onClick(this,this.onClicClose);this.m_relieveBtn.onClick(this,this.onClicRelieveBtn);this.m_showOtherInf.onClick(this,this.onClicShowOtherBtn);this.onClick(this,this.clickPanel)};CooperationRealtionship.prototype.onClicShowOtherBtn=function(){Game.system.playerInfo(Game.moduleModel.cooperation.partnerInfData)};CooperationRealtionship.prototype.clickPanel=function(){Game.moduleModel.cooperation.sRewardHideCall.dispatch()};CooperationRealtionship.prototype.onClicRelieveBtn=function(){this.moduleWindow.mainWindow.openSubwindowByIndex(Games.CooperationSubwindowType.CooperationEnd,true)};CooperationRealtionship.prototype.onClicClose=function(){this.moduleWindow.menuBack()};CooperationRealtionship.prototype.onWindowShow=function(){Game.moduleModel.cooperation.sCooperateTaskDataUpdate.add(this.updateTask,this);this.setData()};CooperationRealtionship.prototype.onWindowHide=function(){Game.moduleModel.cooperation.sCooperateTaskDataUpdate.remove(this.updateTask,this);Game.moduleModel.cooperation.sRewardHideCall.removeAll()};CooperationRealtionship.prototype.setData=function(){var otherInf=Game.moduleModel.cooperation.partnerInfData;this.m_name1.text=User.info.name;this.m_level1.text=format(TEXT.Lv,User.info.level);this.m_me.icon=User.headIconUrl;if(otherInf&&otherInf!==null){this.m_name2.text=otherInf.name;this.m_level2.text=format(TEXT.Lv,otherInf.level);this.m_other.icon=Game.config.headPortrait.GetPlayerIconUrl(otherInf.portrait,otherInf.sex)}else{this.m_name2.text="";this.m_level2.text=""}this.completeConfig=Game.config.complete.getCompleteList(EProgressBoxId.cooperateTask);this.cooperTaskData=Game.moduleModel.cooperation.cooperTaskData;this.curMaxTaskNum=this.cooperTaskData.currentStar-1;this.curSelectTaskNum=this.curMaxTaskNum;this.m_progressbar.m_progressbar.max=6;this.updateTask()};CooperationRealtionship.prototype.updateTask=function(){this.cooperTaskData=Game.moduleModel.cooperation.cooperTaskData;if(this.cooperTaskData!==null){this.m_progressbar.m_progressbar.value=this.cooperTaskData.progree;if(this.curMaxTaskNum<this.cooperTaskData.currentStar-1){this.curSelectTaskNum=this.cooperTaskData.currentStar-1}this.curMaxTaskNum=this.cooperTaskData.currentStar-1;this.m_progressbar.m_level.text=this.curMaxTaskNum.toString();this.tasks=this.cooperTaskData.tasks;Game.moduleModel.cooperation.taskIsHaveGetOne=false;this.m_tasklist.numItems=this.tasks[this.curSelectTaskNum].starTasks.length;this.m_taskTitleList.addSelection(this.curSelectTaskNum);this.m_progressbar.m_list.numItems=this.completeConfig.length}};CooperationRealtionship.prototype.progressItem=function(index,obj){var item=obj;item.setData(this.completeConfig[index],index)};CooperationRealtionship.prototype.taskItem=function(index,obj){var item=obj;item.setData(this.tasks[this.curSelectTaskNum].starTasks[index])};CooperationRealtionship.prototype.onClickItem=function(obj){var index=this.m_taskTitleList.getChildIndex(obj);if(index>this.curMaxTaskNum){this.m_taskTitleList.addSelection(this.curSelectTaskNum)}else{this.curSelectTaskNum=index;this.updateTask()}};return CooperationRealtionship}(Cooperation.CooperationRealtionshipStruct));Cooperation.CooperationRealtionship=CooperationRealtionship})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRewardStruct=(function(_super){__extends(CooperationRewardStruct,_super);function CooperationRewardStruct(){return _super.call(this)||this}CooperationRewardStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationReward"))};CooperationRewardStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CooperationRewardStruct.URL="ui://k9ycebr5w3bv6";CooperationRewardStruct.DependPackages=["Cooperation","Common"];return CooperationRewardStruct}(fairygui.GComponent));Cooperation.CooperationRewardStruct=CooperationRewardStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationReward=(function(_super){__extends(CooperationReward,_super);function CooperationReward(){return _super!==null&&_super.apply(this,arguments)||this}return CooperationReward}(Cooperation.CooperationRewardStruct));Cooperation.CooperationReward=CooperationReward})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationReward2Struct=(function(_super){__extends(CooperationReward2Struct,_super);function CooperationReward2Struct(){return _super.call(this)||this}CooperationReward2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationReward2"))};CooperationReward2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CooperationReward2Struct.URL="ui://k9ycebr5ggdh2e";CooperationReward2Struct.DependPackages=["Cooperation","Common"];return CooperationReward2Struct}(fairygui.GComponent));Cooperation.CooperationReward2Struct=CooperationReward2Struct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationReward2=(function(_super){__extends(CooperationReward2,_super);function CooperationReward2(){return _super!==null&&_super.apply(this,arguments)||this}CooperationReward2.prototype.setData=function(msg){this.m_icon.icon=Games.WarLoadPic.getItemIcon(msg.itemId);this.m_title.text=formatNumberUnit(msg.itemNum,0)};return CooperationReward2}(Cooperation.CooperationReward2Struct));Cooperation.CooperationReward2=CooperationReward2})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRewardBoxStruct=(function(_super){__extends(CooperationRewardBoxStruct,_super);function CooperationRewardBoxStruct(){return _super.call(this)||this}CooperationRewardBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationRewardBox"))};CooperationRewardBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_level1=this.getController("level1");this.m_level4=this.getController("level4");this.m_level5=this.getController("level5");this.m_levle6=this.getController("levle6");this.m_level3=this.getController("level3");this.m_level2=this.getController("level2");this.m_button=this.getController("button");this.m_listBg=(this.getChild("listBg"));this.m_rewardList=(this.getChild("rewardList"));this.m_rewardCom=(this.getChild("rewardCom"));this.m_numVal=(this.getChild("numVal"))};CooperationRewardBoxStruct.URL="ui://k9ycebr5w3bv8";CooperationRewardBoxStruct.DependPackages=["Cooperation","Common"];return CooperationRewardBoxStruct}(fairygui.GButton));Cooperation.CooperationRewardBoxStruct=CooperationRewardBoxStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRewardBox=(function(_super){__extends(CooperationRewardBox,_super);function CooperationRewardBox(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.hideIndex=0;_this.indexOf=0;_this.status=0;_this.canGetReward=false;return _this}CooperationRewardBox.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardList.itemRenderer=Laya.Handler.create(this,this.progressItem,null,false);this.onClick(this,this.onClicShwoRewardBtn)};CooperationRewardBox.prototype.progressItem=function(index,obj){var item=obj;item.setData(this.rewardList[index])};CooperationRewardBox.prototype.onClicShwoRewardBtn=function(){if(this.status!==1&&Game.moduleModel.cooperation.cooperTaskData.progree>this.indexOf){Game.moduleModel.cooperation.sRewardGetCall.add(this.getReward,this);Game.moduleModel.cooperation.sendGetProgressTask(this.indexOf+1)}else{if(!this.m_rewardCom.visible){this.m_rewardCom.visible=true}this.hideIndex=1}};CooperationRewardBox.prototype.getReward=function(msg){if(msg.index===this.indexOf+1){Game.system.getRewardText(this.rewardList,TEXT.StoryGetReward,0);Game.moduleModel.cooperation.sRewardGetCall.remove(this.getReward,this)}};CooperationRewardBox.prototype.hideReward=function(){this.hideIndex--;if(this.hideIndex<0){if(this.m_rewardCom.visible){this.m_rewardCom.visible=false}}};CooperationRewardBox.prototype.setData=function(msg,index){this.hideIndex=0;Game.moduleModel.cooperation.sRewardHideCall.add(this.hideReward,this);this.rewardList=msg.reward;if(this.rewardList.length>1){this.m_listBg.width=(this.rewardList.length-1)*70+10}else{this.m_listBg.width=100}this.m_rewardList.numItems=this.rewardList.length;this.indexOf=index;this.m_numVal.text=(index+1).toString();this.m_level1.setSelectedIndex(0);this.m_level2.setSelectedIndex(0);this.m_level3.setSelectedIndex(0);this.m_level4.setSelectedIndex(0);this.m_level5.setSelectedIndex(0);this.m_levle6.setSelectedIndex(0);this.status=0;if(Game.moduleModel.cooperation.cooperData.isCaptain){this.status=(Game.moduleModel.cooperation.cooperTaskData.captainRewardStatus>>index)&1}else{this.status=(Game.moduleModel.cooperation.cooperTaskData.rewardStatus>>index)&1}this.canGetReward=Game.moduleModel.cooperation.cooperTaskData.progree>this.indexOf;switch(index){case 0:if(this.status===1){this.canGetReward=false;this.m_level1.setSelectedIndex(3)}else{if(this.canGetReward){this.m_level1.setSelectedIndex(2)}else{this.m_level1.setSelectedIndex(1)}}break;case 1:if(this.status===1){this.canGetReward=false;this.m_level2.setSelectedIndex(3)}else{if(this.canGetReward){this.m_level2.setSelectedIndex(2)}else{this.m_level2.setSelectedIndex(1)}}break;case 2:if(this.status===1){this.canGetReward=false;this.m_level3.setSelectedIndex(3)}else{if(this.canGetReward){this.m_level3.setSelectedIndex(2)}else{this.m_level3.setSelectedIndex(1)}}break;case 3:if(this.status===1){this.canGetReward=false;this.m_level4.setSelectedIndex(3)}else{if(this.canGetReward){this.m_level4.setSelectedIndex(2)}else{this.m_level4.setSelectedIndex(1)}}break;case 4:if(this.status===1){this.canGetReward=false;this.m_level5.setSelectedIndex(3)}else{if(this.canGetReward){this.m_level5.setSelectedIndex(2)}else{this.m_level5.setSelectedIndex(1)}}break;case 5:if(this.status===1){this.canGetReward=false;this.m_levle6.setSelectedIndex(3)}else{if(this.canGetReward){this.m_levle6.setSelectedIndex(2)}else{this.m_levle6.setSelectedIndex(1)}}break}};return CooperationRewardBox}(Cooperation.CooperationRewardBoxStruct));Cooperation.CooperationRewardBox=CooperationRewardBox})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRewardItemStruct=(function(_super){__extends(CooperationRewardItemStruct,_super);function CooperationRewardItemStruct(){return _super.call(this)||this}CooperationRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationRewardItem"))};CooperationRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_status=this.getController("status");this.m_des=(this.getChild("des"));this.m_list=(this.getChild("list"));this.m_assitingText=(this.getChild("assitingText"));this.m_icon=(this.getChild("icon"));this.m_receiveBtn=(this.getChild("receiveBtn"));this.m_getBtn=(this.getChild("getBtn"));this.m_assistBtn=(this.getChild("assistBtn"))};CooperationRewardItemStruct.URL="ui://k9ycebr5w3bv5";CooperationRewardItemStruct.DependPackages=["Cooperation","Common"];return CooperationRewardItemStruct}(fairygui.GComponent));Cooperation.CooperationRewardItemStruct=CooperationRewardItemStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationRewardItem=(function(_super){__extends(CooperationRewardItem,_super);function CooperationRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}CooperationRewardItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_receiveBtn.m_title.text=TEXT.CooperateReceiveBtn;this.m_assistBtn.m_title.text=TEXT.CooperateassistBtn;this.m_getBtn.m_title.text=TEXT.CooperategetBtn;this.m_assitingText.text=TEXT.CooperateassitingText;this.m_receiveBtn.onClick(this,this.clickReceiveBtn);this.m_getBtn.onClick(this,this.clickGetBtn);this.m_assistBtn.onClick(this,this.clickAssistBtn)};CooperationRewardItem.prototype.clickReceiveBtn=function(){if(!Game.moduleModel.cooperation.taskIsHaveGetOne){Game.moduleModel.cooperation.sendTaskOperate(0,this.cooperateTask.id,this.cooperateTask.task_star)}else{Game.system.toastText(TEXT.CooperateHaveTaskText)}};CooperationRewardItem.prototype.clickGetBtn=function(){Game.moduleModel.cooperation.sRewardGetCall.add(this.getReward,this);Game.moduleModel.cooperation.sendGetTaskReward(this.cooperateTask.id,this.cooperateTask.task_star)};CooperationRewardItem.prototype.getReward=function(msg){if(this.cooperateTask.id===msg.taskId&&this.cooperateTask.task_star===msg.star){Game.system.getRewardText(this.dtList,TEXT.StoryGetReward,0);Game.moduleModel.cooperation.sRewardGetCall.remove(this.getReward,this)}};CooperationRewardItem.prototype.clickAssistBtn=function(){Game.moduleModel.cooperation.sendTaskOperate(1,this.cooperateTask.id,this.cooperateTask.task_star)};CooperationRewardItem.prototype.setData=function(msg){this.dtList=new Array();if(!msg.needParam||msg.needParam===null||msg.needParam.length<1){console.error("服务器数据出错")}else{var cooperateTask=Game.config.cooperateTask.getConfig(msg.taskid);this.cooperateTask=cooperateTask;this.coopTaskReward=new DTItemNum();this.coopTaskReward.itemId=msg.itemId;if(Game.moduleModel.cooperation.cooperData.isCaptain){this.coopTaskReward.itemNum=msg.captainItemNum}else{this.coopTaskReward.itemNum=msg.itemNum}if(this.coopTaskReward.itemId>0&&this.coopTaskReward.itemNum>0){this.m_list.numItems=1}else{this.m_list.numItems=0}var otherInf=Game.moduleModel.cooperation.partnerInfData;this.m_icon.icon=Game.config.headPortrait.GetPlayerIconUrl(otherInf.portrait,otherInf.sex);var maxPress=0;switch(msg.taskType){case 1:this.m_des.text=TEXT.CooperateTaskType10;if(msg.needParam.length===5){if(msg.needParam[0]>0){var type=Game.config.property.getConfig(msg.needParam[0]);this.m_des.text+=format(TEXT.CooperateTaskType11,type.name)}if(msg.needParam[1]>0){this.m_des.text+=format(TEXT.CooperateTaskType12,msg.needParam[1])}if(msg.needParam[2]>0){this.m_des.text+=format(TEXT.CooperateTaskType13,msg.needParam[2])}if(msg.needParam[3]>0){var type=Game.config.property.getConfig(msg.needParam[3]);this.m_des.text+=format(TEXT.CooperateTaskType14,type.name)}if(msg.needParam[4]>0){var type=Game.config.property.getConfig(msg.needParam[4]);this.m_des.text+=format(TEXT.CooperateTaskType15,type.name)}}else{console.error("服务器数据出错")}maxPress=1;break;case 2:this.m_des.text=format(TEXT.CooperateTaskType20,msg.needParam[0]);maxPress=msg.needParam[0];break;case 3:this.m_des.text=format(TEXT.CooperateTaskType30,msg.needParam[0]);maxPress=msg.needParam[0];break;case 4:if(msg.needParam.length===2){var goodsItem=Game.config.item.getConfig(msg.needParam[0]);this.m_des.text=format(TEXT.CooperateTaskType40,msg.needParam[1],goodsItem.name);maxPress=msg.needParam[1]}else{console.error("服务器数据出错")}break;case 5:this.m_des.text=format(TEXT.CooperateTaskType50,msg.needParam[0]);maxPress=msg.needParam[0];break;case 6:this.m_des.text=format(TEXT.CooperateTaskType60,msg.needParam[0]);maxPress=msg.needParam[0];break;case 7:this.m_des.text=format(TEXT.CooperateTaskType70,msg.needParam[0]);maxPress=msg.needParam[0];break;case 8:this.m_des.text=format(TEXT.CooperateTaskType80,msg.needParam[0]);maxPress=msg.needParam[0];break;case 9:this.m_des.text=format(TEXT.CooperateTaskType90,msg.needParam[0]);maxPress=msg.needParam[0];break;case 10:this.m_des.text=format(TEXT.CooperateTaskType100,msg.needParam[0]);maxPress=msg.needParam[0];break}var curPress=msg.progress>maxPress?maxPress:msg.progress;this.m_des.text+=format(TEXT.CooperateTaskProgress,curPress,maxPress);switch(msg.status){case 0:if(msg.receiveUuid.length>0){if(parseInt(msg.receiveUuid)===User.info.entityId){Game.moduleModel.cooperation.taskIsHaveGetOne=true;if(msg.helpUuid.length>0&&parseInt(msg.helpUuid)===Game.moduleModel.cooperation.partnerInfData.userId){this.m_status.setSelectedIndex(3)}else{this.m_status.setSelectedIndex(5)}}else{if(parseInt(msg.receiveUuid)===Game.moduleModel.cooperation.partnerInfData.userId){if(msg.helpUuid.length>0&&parseInt(msg.helpUuid)===User.info.entityId){this.m_status.setSelectedIndex(3)}else{this.m_status.setSelectedIndex(1)}}else{console.error("服务器出错，第三人接受了我们的任务")}}}else{this.m_status.setSelectedIndex(0)}break;case 1:if(parseInt(msg.receiveUuid)===User.info.entityId){this.m_status.setSelectedIndex(2)}else{this.m_status.setSelectedIndex(4)}break;case 2:this.m_status.setSelectedIndex(4);break}}};CooperationRewardItem.prototype.initItem=function(index,obj){var item=obj;item.m_icon.icon=Games.WarLoadPic.getItemIcon(this.coopTaskReward.itemId);item.m_title.text=formatNumberUnit(this.coopTaskReward.itemNum,0);var dtItem=new DTItemNum();dtItem.itemId=this.coopTaskReward.itemId;dtItem.itemNum=this.coopTaskReward.itemNum;this.dtList.push(dtItem)};return CooperationRewardItem}(Cooperation.CooperationRewardItemStruct));Cooperation.CooperationRewardItem=CooperationRewardItem})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationTotalBarStruct=(function(_super){__extends(CooperationTotalBarStruct,_super);function CooperationTotalBarStruct(){return _super.call(this)||this}CooperationTotalBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","CooperationTotalBar"))};CooperationTotalBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_level=(this.getChild("level"));this.m_list=(this.getChild("list"));this.m_progressbar=(this.getChild("progressbar"))};CooperationTotalBarStruct.URL="ui://k9ycebr5w3bv7";CooperationTotalBarStruct.DependPackages=["Cooperation","Common"];return CooperationTotalBarStruct}(fairygui.GComponent));Cooperation.CooperationTotalBarStruct=CooperationTotalBarStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var CooperationTotalBar=(function(_super){__extends(CooperationTotalBar,_super);function CooperationTotalBar(){return _super!==null&&_super.apply(this,arguments)||this}return CooperationTotalBar}(Cooperation.CooperationTotalBarStruct));Cooperation.CooperationTotalBar=CooperationTotalBar})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var IconBtnStruct=(function(_super){__extends(IconBtnStruct,_super);function IconBtnStruct(){return _super.call(this)||this}IconBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","iconBtn"))};IconBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_red_visible=this.getController("c_red_visible");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};IconBtnStruct.URL="ui://k9ycebr5g8fc2a";IconBtnStruct.DependPackages=["Cooperation","Common"];return IconBtnStruct}(fairygui.GButton));Cooperation.IconBtnStruct=IconBtnStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var IconBtn=(function(_super){__extends(IconBtn,_super);function IconBtn(){return _super!==null&&_super.apply(this,arguments)||this}return IconBtn}(Cooperation.IconBtnStruct));Cooperation.IconBtn=IconBtn})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var TopHeadIconMaskStruct=(function(_super){__extends(TopHeadIconMaskStruct,_super);function TopHeadIconMaskStruct(){return _super.call(this)||this}TopHeadIconMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Cooperation","TopHeadIconMask"))};TopHeadIconMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};TopHeadIconMaskStruct.URL="ui://k9ycebr5pazr2g";TopHeadIconMaskStruct.DependPackages=["Cooperation"];return TopHeadIconMaskStruct}(fairygui.GButton));Cooperation.TopHeadIconMaskStruct=TopHeadIconMaskStruct})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Cooperation;(function(Cooperation){var TopHeadIconMask=(function(_super){__extends(TopHeadIconMask,_super);function TopHeadIconMask(){return _super!==null&&_super.apply(this,arguments)||this}return TopHeadIconMask}(Cooperation.TopHeadIconMaskStruct));Cooperation.TopHeadIconMask=TopHeadIconMask})(Cooperation=fgui.Cooperation||(fgui.Cooperation={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim1;(function(FilmScreenAnim1){var FilmScreenAnim1Struct=(function(_super){__extends(FilmScreenAnim1Struct,_super);function FilmScreenAnim1Struct(){return _super.call(this)||this}FilmScreenAnim1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("FilmScreenAnim1","FilmScreenAnim1"))};FilmScreenAnim1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};FilmScreenAnim1Struct.URL="ui://zd7syq8pczff0";FilmScreenAnim1Struct.DependPackages=["FilmScreenAnim1"];return FilmScreenAnim1Struct}(fairygui.GComponent));FilmScreenAnim1.FilmScreenAnim1Struct=FilmScreenAnim1Struct})(FilmScreenAnim1=fgui.FilmScreenAnim1||(fgui.FilmScreenAnim1={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim1;(function(FilmScreenAnim1_1){var FilmScreenAnim1=(function(_super){__extends(FilmScreenAnim1,_super);function FilmScreenAnim1(){return _super!==null&&_super.apply(this,arguments)||this}return FilmScreenAnim1}(FilmScreenAnim1_1.FilmScreenAnim1Struct));FilmScreenAnim1_1.FilmScreenAnim1=FilmScreenAnim1})(FilmScreenAnim1=fgui.FilmScreenAnim1||(fgui.FilmScreenAnim1={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim2;(function(FilmScreenAnim2){var FilmScreenAnim2Struct=(function(_super){__extends(FilmScreenAnim2Struct,_super);function FilmScreenAnim2Struct(){return _super.call(this)||this}FilmScreenAnim2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("FilmScreenAnim2","FilmScreenAnim2"))};FilmScreenAnim2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};FilmScreenAnim2Struct.URL="ui://zi2rggxhczff0";FilmScreenAnim2Struct.DependPackages=["FilmScreenAnim2"];return FilmScreenAnim2Struct}(fairygui.GComponent));FilmScreenAnim2.FilmScreenAnim2Struct=FilmScreenAnim2Struct})(FilmScreenAnim2=fgui.FilmScreenAnim2||(fgui.FilmScreenAnim2={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenAnim2;(function(FilmScreenAnim2_1){var FilmScreenAnim2=(function(_super){__extends(FilmScreenAnim2,_super);function FilmScreenAnim2(){return _super!==null&&_super.apply(this,arguments)||this}return FilmScreenAnim2}(FilmScreenAnim2_1.FilmScreenAnim2Struct));FilmScreenAnim2_1.FilmScreenAnim2=FilmScreenAnim2})(FilmScreenAnim2=fgui.FilmScreenAnim2||(fgui.FilmScreenAnim2={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenCommon;(function(FilmScreenCommon){var FilmScreenCommonStruct=(function(_super){__extends(FilmScreenCommonStruct,_super);function FilmScreenCommonStruct(){return _super.call(this)||this}FilmScreenCommonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("FilmScreenCommon","FilmScreenCommon"))};FilmScreenCommonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};FilmScreenCommonStruct.URL="ui://z8q2tigaczff0";FilmScreenCommonStruct.DependPackages=["FilmScreenCommon"];return FilmScreenCommonStruct}(fairygui.GComponent));FilmScreenCommon.FilmScreenCommonStruct=FilmScreenCommonStruct})(FilmScreenCommon=fgui.FilmScreenCommon||(fgui.FilmScreenCommon={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FilmScreenCommon;(function(FilmScreenCommon_1){var FilmScreenCommon=(function(_super){__extends(FilmScreenCommon,_super);function FilmScreenCommon(){return _super!==null&&_super.apply(this,arguments)||this}return FilmScreenCommon}(FilmScreenCommon_1.FilmScreenCommonStruct));FilmScreenCommon_1.FilmScreenCommon=FilmScreenCommon})(FilmScreenCommon=fgui.FilmScreenCommon||(fgui.FilmScreenCommon={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Beat01Struct=(function(_super){__extends(Beat01Struct,_super);function Beat01Struct(){return _super.call(this)||this}Beat01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","beat01"))};Beat01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_smoke_n9=(this.getChild("smoke_n9"));this.m_smoke_n8=(this.getChild("smoke_n8"));this.m_smoke_n3=(this.getChild("smoke_n3"));this.m_smoke_n2=(this.getChild("smoke_n2"));this.m_smoke_n5=(this.getChild("smoke_n5"));this.m_smoke_n6=(this.getChild("smoke_n6"));this.m_smoke_n10=(this.getChild("smoke_n10"));this.m_smoke_n11=(this.getChild("smoke_n11"));this.m_smoke_n12=(this.getChild("smoke_n12"));this.m_smoke_n16=(this.getChild("smoke_n16"));this.m_smoke_n13=(this.getChild("smoke_n13"));this.m_smoke_n4=(this.getChild("smoke_n4"));this.m_smoke_n14=(this.getChild("smoke_n14"));this.m_smoke_n15=(this.getChild("smoke_n15"));this.m_smoke_n17=(this.getChild("smoke_n17"));this.m_smoke_n18=(this.getChild("smoke_n18"));this.m_smoke_n19=(this.getChild("smoke_n19"));this.m_smoke_n20=(this.getChild("smoke_n20"));this.m_smoke_n21=(this.getChild("smoke_n21"));this.m_n2323133d=(this.getChild("n2323133d"));this.m_smoke_a001=this.getTransition("smoke_a001")};Beat01Struct.URL="ui://9l36y1kiweh5co";Beat01Struct.DependPackages=["Fx"];return Beat01Struct}(fairygui.GComponent));Fx.Beat01Struct=Beat01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Beat01=(function(_super){__extends(Beat01,_super);function Beat01(){return _super!==null&&_super.apply(this,arguments)||this}return Beat01}(Fx.Beat01Struct));Fx.Beat01=Beat01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Beat02Struct=(function(_super){__extends(Beat02Struct,_super);function Beat02Struct(){return _super.call(this)||this}Beat02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","beat02"))};Beat02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_smoke_n3=(this.getChild("smoke_n3"));this.m_smoke_n2=(this.getChild("smoke_n2"));this.m_smoke_n10=(this.getChild("smoke_n10"));this.m_smoke_n11=(this.getChild("smoke_n11"));this.m_smoke_n12=(this.getChild("smoke_n12"));this.m_smoke_n16=(this.getChild("smoke_n16"));this.m_smoke_n13=(this.getChild("smoke_n13"));this.m_smoke_n4=(this.getChild("smoke_n4"));this.m_smoke_n14=(this.getChild("smoke_n14"));this.m_smoke_n15=(this.getChild("smoke_n15"));this.m_smoke_n17=(this.getChild("smoke_n17"));this.m_smoke_n18=(this.getChild("smoke_n18"));this.m_smoke_n19=(this.getChild("smoke_n19"));this.m_smoke_n20=(this.getChild("smoke_n20"));this.m_smoke_n21=(this.getChild("smoke_n21"));this.m_smoke_a0012dsd=this.getTransition("smoke_a0012dsd ")};Beat02Struct.URL="ui://9l36y1kixk6ycs";Beat02Struct.DependPackages=["Fx"];return Beat02Struct}(fairygui.GComponent));Fx.Beat02Struct=Beat02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Beat02=(function(_super){__extends(Beat02,_super);function Beat02(){return _super!==null&&_super.apply(this,arguments)||this}return Beat02}(Fx.Beat02Struct));Fx.Beat02=Beat02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Button_yellow_001Struct=(function(_super){__extends(Button_yellow_001Struct,_super);function Button_yellow_001Struct(){return _super.call(this)||this}Button_yellow_001Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","button_yellow_001"))};Button_yellow_001Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t02522=this.getTransition("t02522")};Button_yellow_001Struct.URL="ui://9l36y1kip3cziw";Button_yellow_001Struct.DependPackages=["Fx"];return Button_yellow_001Struct}(fairygui.GComponent));Fx.Button_yellow_001Struct=Button_yellow_001Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Button_yellow_001=(function(_super){__extends(Button_yellow_001,_super);function Button_yellow_001(){return _super!==null&&_super.apply(this,arguments)||this}return Button_yellow_001}(Fx.Button_yellow_001Struct));Fx.Button_yellow_001=Button_yellow_001})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var CircleStruct=(function(_super){__extends(CircleStruct,_super);function CircleStruct(){return _super.call(this)||this}CircleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Circle"))};CircleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};CircleStruct.URL="ui://9l36y1kilwwdcp";CircleStruct.DependPackages=["Fx"];return CircleStruct}(fairygui.GComponent));Fx.CircleStruct=CircleStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Circle=(function(_super){__extends(Circle,_super);function Circle(){return _super!==null&&_super.apply(this,arguments)||this}return Circle}(Fx.CircleStruct));Fx.Circle=Circle})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor01Struct=(function(_super){__extends(Effect_actor01Struct,_super);function Effect_actor01Struct(){return _super.call(this)||this}Effect_actor01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor01"))};Effect_actor01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_actor01Struct.URL="ui://9l36y1kihugnkb";Effect_actor01Struct.DependPackages=["Fx"];return Effect_actor01Struct}(fairygui.GComponent));Fx.Effect_actor01Struct=Effect_actor01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor01=(function(_super){__extends(Effect_actor01,_super);function Effect_actor01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor01}(Fx.Effect_actor01Struct));Fx.Effect_actor01=Effect_actor01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skillStruct=(function(_super){__extends(Effect_actor_skillStruct,_super);function Effect_actor_skillStruct(){return _super.call(this)||this}Effect_actor_skillStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill"))};Effect_actor_skillStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t1=this.getTransition("t1")};Effect_actor_skillStruct.URL="ui://9l36y1kij0xx5a";Effect_actor_skillStruct.DependPackages=["Fx","Common"];return Effect_actor_skillStruct}(fairygui.GComponent));Fx.Effect_actor_skillStruct=Effect_actor_skillStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill=(function(_super){__extends(Effect_actor_skill,_super);function Effect_actor_skill(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill}(Fx.Effect_actor_skillStruct));Fx.Effect_actor_skill=Effect_actor_skill})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_diban22Struct=(function(_super){__extends(Effect_actor_skill_diban22Struct,_super);function Effect_actor_skill_diban22Struct(){return _super.call(this)||this}Effect_actor_skill_diban22Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_diban22"))};Effect_actor_skill_diban22Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_233=this.getTransition("233")};Effect_actor_skill_diban22Struct.URL="ui://9l36y1kil1hmhs";Effect_actor_skill_diban22Struct.DependPackages=["Fx","Common"];return Effect_actor_skill_diban22Struct}(fairygui.GComponent));Fx.Effect_actor_skill_diban22Struct=Effect_actor_skill_diban22Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_diban22=(function(_super){__extends(Effect_actor_skill_diban22,_super);function Effect_actor_skill_diban22(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_diban22}(Fx.Effect_actor_skill_diban22Struct));Fx.Effect_actor_skill_diban22=Effect_actor_skill_diban22})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_topStruct=(function(_super){__extends(Effect_actor_skill_topStruct,_super);function Effect_actor_skill_topStruct(){return _super.call(this)||this}Effect_actor_skill_topStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top"))};Effect_actor_skill_topStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_topStruct.URL="ui://9l36y1kimr61gm";Effect_actor_skill_topStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_topStruct}(fairygui.GComponent));Fx.Effect_actor_skill_topStruct=Effect_actor_skill_topStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top=(function(_super){__extends(Effect_actor_skill_top,_super);function Effect_actor_skill_top(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top}(Fx.Effect_actor_skill_topStruct));Fx.Effect_actor_skill_top=Effect_actor_skill_top})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_blueStruct=(function(_super){__extends(Effect_actor_skill_top_blueStruct,_super);function Effect_actor_skill_top_blueStruct(){return _super.call(this)||this}Effect_actor_skill_top_blueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_blue"))};Effect_actor_skill_top_blueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_top_blueStruct.URL="ui://9l36y1kiqkqngr";Effect_actor_skill_top_blueStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_blueStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_blueStruct=Effect_actor_skill_top_blueStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_blue=(function(_super){__extends(Effect_actor_skill_top_blue,_super);function Effect_actor_skill_top_blue(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_blue}(Fx.Effect_actor_skill_top_blueStruct));Fx.Effect_actor_skill_top_blue=Effect_actor_skill_top_blue})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_deuceStruct=(function(_super){__extends(Effect_actor_skill_top_deuceStruct,_super);function Effect_actor_skill_top_deuceStruct(){return _super.call(this)||this}Effect_actor_skill_top_deuceStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_deuce"))};Effect_actor_skill_top_deuceStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_top_deuceStruct.URL="ui://9l36y1kixeimii";Effect_actor_skill_top_deuceStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_deuceStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_deuceStruct=Effect_actor_skill_top_deuceStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_deuce=(function(_super){__extends(Effect_actor_skill_top_deuce,_super);function Effect_actor_skill_top_deuce(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_deuce}(Fx.Effect_actor_skill_top_deuceStruct));Fx.Effect_actor_skill_top_deuce=Effect_actor_skill_top_deuce})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_grayStruct=(function(_super){__extends(Effect_actor_skill_top_grayStruct,_super);function Effect_actor_skill_top_grayStruct(){return _super.call(this)||this}Effect_actor_skill_top_grayStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_gray"))};Effect_actor_skill_top_grayStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_top_grayStruct.URL="ui://9l36y1kin57rgw";Effect_actor_skill_top_grayStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_grayStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_grayStruct=Effect_actor_skill_top_grayStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_gray=(function(_super){__extends(Effect_actor_skill_top_gray,_super);function Effect_actor_skill_top_gray(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_gray}(Fx.Effect_actor_skill_top_grayStruct));Fx.Effect_actor_skill_top_gray=Effect_actor_skill_top_gray})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_loseStruct=(function(_super){__extends(Effect_actor_skill_top_loseStruct,_super);function Effect_actor_skill_top_loseStruct(){return _super.call(this)||this}Effect_actor_skill_top_loseStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_lose"))};Effect_actor_skill_top_loseStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t222=this.getTransition("t222")};Effect_actor_skill_top_loseStruct.URL="ui://9l36y1kixeimij";Effect_actor_skill_top_loseStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_loseStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_loseStruct=Effect_actor_skill_top_loseStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_lose=(function(_super){__extends(Effect_actor_skill_top_lose,_super);function Effect_actor_skill_top_lose(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_lose}(Fx.Effect_actor_skill_top_loseStruct));Fx.Effect_actor_skill_top_lose=Effect_actor_skill_top_lose})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_redStruct=(function(_super){__extends(Effect_actor_skill_top_redStruct,_super);function Effect_actor_skill_top_redStruct(){return _super.call(this)||this}Effect_actor_skill_top_redStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_red"))};Effect_actor_skill_top_redStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_top_redStruct.URL="ui://9l36y1kiqkqngq";Effect_actor_skill_top_redStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_redStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_redStruct=Effect_actor_skill_top_redStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_red=(function(_super){__extends(Effect_actor_skill_top_red,_super);function Effect_actor_skill_top_red(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_red}(Fx.Effect_actor_skill_top_redStruct));Fx.Effect_actor_skill_top_red=Effect_actor_skill_top_red})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_winStruct=(function(_super){__extends(Effect_actor_skill_top_winStruct,_super);function Effect_actor_skill_top_winStruct(){return _super.call(this)||this}Effect_actor_skill_top_winStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_win"))};Effect_actor_skill_top_winStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t2=this.getTransition("t2")};Effect_actor_skill_top_winStruct.URL="ui://9l36y1kixeimih";Effect_actor_skill_top_winStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_winStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_winStruct=Effect_actor_skill_top_winStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_win=(function(_super){__extends(Effect_actor_skill_top_win,_super);function Effect_actor_skill_top_win(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_win}(Fx.Effect_actor_skill_top_winStruct));Fx.Effect_actor_skill_top_win=Effect_actor_skill_top_win})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_yellowStruct=(function(_super){__extends(Effect_actor_skill_top_yellowStruct,_super);function Effect_actor_skill_top_yellowStruct(){return _super.call(this)||this}Effect_actor_skill_top_yellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_top_yellow"))};Effect_actor_skill_top_yellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor01=(this.getChild("Effect_actor01"));this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_t0=this.getTransition("t0")};Effect_actor_skill_top_yellowStruct.URL="ui://9l36y1kiqkqngt";Effect_actor_skill_top_yellowStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_top_yellowStruct}(fairygui.GComponent));Fx.Effect_actor_skill_top_yellowStruct=Effect_actor_skill_top_yellowStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_top_yellow=(function(_super){__extends(Effect_actor_skill_top_yellow,_super);function Effect_actor_skill_top_yellow(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_top_yellow}(Fx.Effect_actor_skill_top_yellowStruct));Fx.Effect_actor_skill_top_yellow=Effect_actor_skill_top_yellow})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_transparentStruct=(function(_super){__extends(Effect_actor_skill_transparentStruct,_super);function Effect_actor_skill_transparentStruct(){return _super.call(this)||this}Effect_actor_skill_transparentStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_actor_skill_transparent"))};Effect_actor_skill_transparentStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_actor02=(this.getChild("Effect_actor02"));this.m_Effect_actor04=(this.getChild("Effect_actor04"));this.m_Effect_actor05=(this.getChild("Effect_actor05"));this.m_Effect_actor03=(this.getChild("Effect_actor03"));this.m_233=this.getTransition("233")};Effect_actor_skill_transparentStruct.URL="ui://9l36y1kirz9ugo";Effect_actor_skill_transparentStruct.DependPackages=["Fx","Common"];return Effect_actor_skill_transparentStruct}(fairygui.GComponent));Fx.Effect_actor_skill_transparentStruct=Effect_actor_skill_transparentStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_actor_skill_transparent=(function(_super){__extends(Effect_actor_skill_transparent,_super);function Effect_actor_skill_transparent(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_actor_skill_transparent}(Fx.Effect_actor_skill_transparentStruct));Fx.Effect_actor_skill_transparent=Effect_actor_skill_transparent})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_build01Struct=(function(_super){__extends(Effect_build01Struct,_super);function Effect_build01Struct(){return _super.call(this)||this}Effect_build01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_build01"))};Effect_build01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_smoke_beat_qq=this.getTransition("smoke_beat_qq")};Effect_build01Struct.URL="ui://9l36y1kidbtdc1";Effect_build01Struct.DependPackages=["Fx"];return Effect_build01Struct}(fairygui.GComponent));Fx.Effect_build01Struct=Effect_build01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_build01=(function(_super){__extends(Effect_build01,_super);function Effect_build01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_build01}(Fx.Effect_build01Struct));Fx.Effect_build01=Effect_build01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_build02Struct=(function(_super){__extends(Effect_build02Struct,_super);function Effect_build02Struct(){return _super.call(this)||this}Effect_build02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_build02"))};Effect_build02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t000=this.getTransition("t000")};Effect_build02Struct.URL="ui://9l36y1kifm7thb";Effect_build02Struct.DependPackages=["Fx"];return Effect_build02Struct}(fairygui.GComponent));Fx.Effect_build02Struct=Effect_build02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_build02=(function(_super){__extends(Effect_build02,_super);function Effect_build02(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_build02}(Fx.Effect_build02Struct));Fx.Effect_build02=Effect_build02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_chapterStruct=(function(_super){__extends(Effect_chapterStruct,_super);function Effect_chapterStruct(){return _super.call(this)||this}Effect_chapterStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_chapter"))};Effect_chapterStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_chapterStruct.URL="ui://9l36y1kikowfik";Effect_chapterStruct.DependPackages=["Fx"];return Effect_chapterStruct}(fairygui.GComponent));Fx.Effect_chapterStruct=Effect_chapterStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_chapter=(function(_super){__extends(Effect_chapter,_super);function Effect_chapter(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_chapter}(Fx.Effect_chapterStruct));Fx.Effect_chapter=Effect_chapter})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_filming02Struct=(function(_super){__extends(Effect_filming02Struct,_super);function Effect_filming02Struct(){return _super.call(this)||this}Effect_filming02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_filming02"))};Effect_filming02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_filming02Struct.URL="ui://9l36y1kisv5mek";Effect_filming02Struct.DependPackages=["Fx"];return Effect_filming02Struct}(fairygui.GComponent));Fx.Effect_filming02Struct=Effect_filming02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_filming02=(function(_super){__extends(Effect_filming02,_super);function Effect_filming02(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_filming02}(Fx.Effect_filming02Struct));Fx.Effect_filming02=Effect_filming02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks002Struct=(function(_super){__extends(Effect_fireworks002Struct,_super);function Effect_fireworks002Struct(){return _super.call(this)||this}Effect_fireworks002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks002"))};Effect_fireworks002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_n23_fireworks=(this.getChild("n23_fireworks"));this.m_Effect_fireworks_n16=(this.getChild("Effect_fireworks_n16"));this.m_Effect_fireworks_18=(this.getChild("Effect_fireworks_18"));this.m_spotlights_all=(this.getChild("spotlights_all"));this.m_fireworks_11=this.getTransition("fireworks_11")};Effect_fireworks002Struct.URL="ui://9l36y1kilofb6k";Effect_fireworks002Struct.DependPackages=["Fx"];return Effect_fireworks002Struct}(fairygui.GComponent));Fx.Effect_fireworks002Struct=Effect_fireworks002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks002=(function(_super){__extends(Effect_fireworks002,_super);function Effect_fireworks002(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks002}(Fx.Effect_fireworks002Struct));Fx.Effect_fireworks002=Effect_fireworks002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_blueStruct=(function(_super){__extends(Effect_fireworks_blueStruct,_super);function Effect_fireworks_blueStruct(){return _super.call(this)||this}Effect_fireworks_blueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks_blue"))};Effect_fireworks_blueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t023=this.getTransition("t023")};Effect_fireworks_blueStruct.URL="ui://9l36y1kirs6lm3";Effect_fireworks_blueStruct.DependPackages=["Fx"];return Effect_fireworks_blueStruct}(fairygui.GComponent));Fx.Effect_fireworks_blueStruct=Effect_fireworks_blueStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_blue=(function(_super){__extends(Effect_fireworks_blue,_super);function Effect_fireworks_blue(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks_blue}(Fx.Effect_fireworks_blueStruct));Fx.Effect_fireworks_blue=Effect_fireworks_blue})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_goldenStruct=(function(_super){__extends(Effect_fireworks_goldenStruct,_super);function Effect_fireworks_goldenStruct(){return _super.call(this)||this}Effect_fireworks_goldenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks_golden"))};Effect_fireworks_goldenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_spotlights_all=(this.getChild("spotlights_all"));this.m_fireworks_11111=this.getTransition("fireworks_11111")};Effect_fireworks_goldenStruct.URL="ui://9l36y1kijmphdw";Effect_fireworks_goldenStruct.DependPackages=["Fx"];return Effect_fireworks_goldenStruct}(fairygui.GComponent));Fx.Effect_fireworks_goldenStruct=Effect_fireworks_goldenStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_golden=(function(_super){__extends(Effect_fireworks_golden,_super);function Effect_fireworks_golden(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks_golden}(Fx.Effect_fireworks_goldenStruct));Fx.Effect_fireworks_golden=Effect_fireworks_golden})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light01Struct=(function(_super){__extends(Effect_fireworks_light01Struct,_super);function Effect_fireworks_light01Struct(){return _super.call(this)||this}Effect_fireworks_light01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks_light01"))};Effect_fireworks_light01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_yy0=this.getTransition("yy0")};Effect_fireworks_light01Struct.URL="ui://9l36y1kirlky63";Effect_fireworks_light01Struct.DependPackages=["Fx"];return Effect_fireworks_light01Struct}(fairygui.GComponent));Fx.Effect_fireworks_light01Struct=Effect_fireworks_light01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light01=(function(_super){__extends(Effect_fireworks_light01,_super);function Effect_fireworks_light01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks_light01}(Fx.Effect_fireworks_light01Struct));Fx.Effect_fireworks_light01=Effect_fireworks_light01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light02Struct=(function(_super){__extends(Effect_fireworks_light02Struct,_super);function Effect_fireworks_light02Struct(){return _super.call(this)||this}Effect_fireworks_light02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks_light02"))};Effect_fireworks_light02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_xuan=this.getTransition("fireworks_xuan")};Effect_fireworks_light02Struct.URL="ui://9l36y1kiff4m6c";Effect_fireworks_light02Struct.DependPackages=["Fx"];return Effect_fireworks_light02Struct}(fairygui.GComponent));Fx.Effect_fireworks_light02Struct=Effect_fireworks_light02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light02=(function(_super){__extends(Effect_fireworks_light02,_super);function Effect_fireworks_light02(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks_light02}(Fx.Effect_fireworks_light02Struct));Fx.Effect_fireworks_light02=Effect_fireworks_light02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light03Struct=(function(_super){__extends(Effect_fireworks_light03Struct,_super);function Effect_fireworks_light03Struct(){return _super.call(this)||this}Effect_fireworks_light03Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_fireworks_light03"))};Effect_fireworks_light03Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_fireworks_light03Struct.URL="ui://9l36y1kisl89e5";Effect_fireworks_light03Struct.DependPackages=["Fx"];return Effect_fireworks_light03Struct}(fairygui.GComponent));Fx.Effect_fireworks_light03Struct=Effect_fireworks_light03Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_fireworks_light03=(function(_super){__extends(Effect_fireworks_light03,_super);function Effect_fireworks_light03(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_fireworks_light03}(Fx.Effect_fireworks_light03Struct));Fx.Effect_fireworks_light03=Effect_fireworks_light03})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_firework_blueStruct=(function(_super){__extends(Effect_firework_blueStruct,_super);function Effect_firework_blueStruct(){return _super.call(this)||this}Effect_firework_blueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_firework_blue"))};Effect_firework_blueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};Effect_firework_blueStruct.URL="ui://9l36y1kia44ak8";Effect_firework_blueStruct.DependPackages=["Fx"];return Effect_firework_blueStruct}(fairygui.GComponent));Fx.Effect_firework_blueStruct=Effect_firework_blueStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_firework_blue=(function(_super){__extends(Effect_firework_blue,_super);function Effect_firework_blue(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_firework_blue}(Fx.Effect_firework_blueStruct));Fx.Effect_firework_blue=Effect_firework_blue})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_firework_blue55Struct=(function(_super){__extends(Effect_firework_blue55Struct,_super);function Effect_firework_blue55Struct(){return _super.call(this)||this}Effect_firework_blue55Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_firework_blue55"))};Effect_firework_blue55Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};Effect_firework_blue55Struct.URL="ui://9l36y1kinmj1k9";Effect_firework_blue55Struct.DependPackages=["Fx"];return Effect_firework_blue55Struct}(fairygui.GComponent));Fx.Effect_firework_blue55Struct=Effect_firework_blue55Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_firework_blue55=(function(_super){__extends(Effect_firework_blue55,_super);function Effect_firework_blue55(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_firework_blue55}(Fx.Effect_firework_blue55Struct));Fx.Effect_firework_blue55=Effect_firework_blue55})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_flower01Struct=(function(_super){__extends(Effect_flower01Struct,_super);function Effect_flower01Struct(){return _super.call(this)||this}Effect_flower01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_flower01"))};Effect_flower01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_yumilili001=(this.getChild("yumilili001"));this.m_n12_baoguangg=(this.getChild("n12_baoguangg"));this.m_t0=this.getTransition("t0")};Effect_flower01Struct.URL="ui://9l36y1kis60hf9";Effect_flower01Struct.DependPackages=["Fx"];return Effect_flower01Struct}(fairygui.GComponent));Fx.Effect_flower01Struct=Effect_flower01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_flower01=(function(_super){__extends(Effect_flower01,_super);function Effect_flower01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_flower01}(Fx.Effect_flower01Struct));Fx.Effect_flower01=Effect_flower01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_goldappear_01Struct=(function(_super){__extends(Effect_goldappear_01Struct,_super);function Effect_goldappear_01Struct(){return _super.call(this)||this}Effect_goldappear_01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_goldappear_01"))};Effect_goldappear_01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t08445=this.getTransition("t08445")};Effect_goldappear_01Struct.URL="ui://9l36y1kioecql2";Effect_goldappear_01Struct.DependPackages=["Fx"];return Effect_goldappear_01Struct}(fairygui.GComponent));Fx.Effect_goldappear_01Struct=Effect_goldappear_01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_goldappear_01=(function(_super){__extends(Effect_goldappear_01,_super);function Effect_goldappear_01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_goldappear_01}(Fx.Effect_goldappear_01Struct));Fx.Effect_goldappear_01=Effect_goldappear_01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_levelup_wordStruct=(function(_super){__extends(Effect_levelup_wordStruct,_super);function Effect_levelup_wordStruct(){return _super.call(this)||this}Effect_levelup_wordStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_levelup_word"))};Effect_levelup_wordStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_fireworks_n0=(this.getChild("Effect_fireworks_n0"));this.m_t1=this.getTransition("t1")};Effect_levelup_wordStruct.URL="ui://9l36y1kio0r868";Effect_levelup_wordStruct.DependPackages=["Fx"];return Effect_levelup_wordStruct}(fairygui.GComponent));Fx.Effect_levelup_wordStruct=Effect_levelup_wordStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_levelup_word=(function(_super){__extends(Effect_levelup_word,_super);function Effect_levelup_word(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_levelup_word}(Fx.Effect_levelup_wordStruct));Fx.Effect_levelup_word=Effect_levelup_word})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_MovieTarget_FailedStruct=(function(_super){__extends(Effect_MovieTarget_FailedStruct,_super);function Effect_MovieTarget_FailedStruct(){return _super.call(this)||this}Effect_MovieTarget_FailedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_MovieTarget_Failed"))};Effect_MovieTarget_FailedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_failed_01=this.getTransition("failed_01")};Effect_MovieTarget_FailedStruct.URL="ui://9l36y1kijeka42";Effect_MovieTarget_FailedStruct.DependPackages=["Fx","Common"];return Effect_MovieTarget_FailedStruct}(fairygui.GComponent));Fx.Effect_MovieTarget_FailedStruct=Effect_MovieTarget_FailedStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_MovieTarget_Failed=(function(_super){__extends(Effect_MovieTarget_Failed,_super);function Effect_MovieTarget_Failed(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_MovieTarget_Failed}(Fx.Effect_MovieTarget_FailedStruct));Fx.Effect_MovieTarget_Failed=Effect_MovieTarget_Failed})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Movie_EarningsStruct=(function(_super){__extends(Effect_Movie_EarningsStruct,_super);function Effect_Movie_EarningsStruct(){return _super.call(this)||this}Effect_Movie_EarningsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Movie_Earnings"))};Effect_Movie_EarningsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_1_A_E=(this.getChild("1_A_E"));this.m_2_B_A=(this.getChild("2_B_A"));this.m_3_C_R=(this.getChild("3_C_R"));this.m_4_D_N=(this.getChild("4_D_N"));this.m_5_E_I=(this.getChild("5_E_I"));this.m_6_F_N=(this.getChild("6_F_N"));this.m_7_G_G=(this.getChild("7_G_G"));this.m_8_G_S=(this.getChild("8_G_S"));this.m_FILMING=this.getTransition("FILMING")};Effect_Movie_EarningsStruct.URL="ui://9l36y1kil22x4e";Effect_Movie_EarningsStruct.DependPackages=["Fx","Common"];return Effect_Movie_EarningsStruct}(fairygui.GComponent));Fx.Effect_Movie_EarningsStruct=Effect_Movie_EarningsStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Movie_Earnings=(function(_super){__extends(Effect_Movie_Earnings,_super);function Effect_Movie_Earnings(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Movie_Earnings}(Fx.Effect_Movie_EarningsStruct));Fx.Effect_Movie_Earnings=Effect_Movie_Earnings})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_num1Struct=(function(_super){__extends(Effect_num1Struct,_super);function Effect_num1Struct(){return _super.call(this)||this}Effect_num1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_num1"))};Effect_num1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_t5555555=this.getTransition("t5555555")};Effect_num1Struct.URL="ui://9l36y1kis1hsj1";Effect_num1Struct.DependPackages=["Fx"];return Effect_num1Struct}(fairygui.GComponent));Fx.Effect_num1Struct=Effect_num1Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_num1=(function(_super){__extends(Effect_num1,_super);function Effect_num1(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_num1}(Fx.Effect_num1Struct));Fx.Effect_num1=Effect_num1})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_Choose01Struct=(function(_super){__extends(Effect_Oscar_Choose01Struct,_super);function Effect_Oscar_Choose01Struct(){return _super.call(this)||this}Effect_Oscar_Choose01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Oscar_Choose01"))};Effect_Oscar_Choose01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_Oscar_Choose01Struct.URL="ui://9l36y1ki6n1hdu";Effect_Oscar_Choose01Struct.DependPackages=["Fx"];return Effect_Oscar_Choose01Struct}(fairygui.GComponent));Fx.Effect_Oscar_Choose01Struct=Effect_Oscar_Choose01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_Choose01=(function(_super){__extends(Effect_Oscar_Choose01,_super);function Effect_Oscar_Choose01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Oscar_Choose01}(Fx.Effect_Oscar_Choose01Struct));Fx.Effect_Oscar_Choose01=Effect_Oscar_Choose01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_Choose02Struct=(function(_super){__extends(Effect_Oscar_Choose02Struct,_super);function Effect_Oscar_Choose02Struct(){return _super.call(this)||this}Effect_Oscar_Choose02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Oscar_Choose02"))};Effect_Oscar_Choose02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_Oscar_Choose02Struct.URL="ui://9l36y1kitbt4cv";Effect_Oscar_Choose02Struct.DependPackages=["Fx"];return Effect_Oscar_Choose02Struct}(fairygui.GComponent));Fx.Effect_Oscar_Choose02Struct=Effect_Oscar_Choose02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_Choose02=(function(_super){__extends(Effect_Oscar_Choose02,_super);function Effect_Oscar_Choose02(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Oscar_Choose02}(Fx.Effect_Oscar_Choose02Struct));Fx.Effect_Oscar_Choose02=Effect_Oscar_Choose02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_light02Struct=(function(_super){__extends(Effect_Oscar_light02Struct,_super);function Effect_Oscar_light02Struct(){return _super.call(this)||this}Effect_Oscar_light02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Oscar_light02"))};Effect_Oscar_light02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t12333=this.getTransition("t12333")};Effect_Oscar_light02Struct.URL="ui://9l36y1kitbt4d5";Effect_Oscar_light02Struct.DependPackages=["Fx"];return Effect_Oscar_light02Struct}(fairygui.GComponent));Fx.Effect_Oscar_light02Struct=Effect_Oscar_light02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_light02=(function(_super){__extends(Effect_Oscar_light02,_super);function Effect_Oscar_light02(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Oscar_light02}(Fx.Effect_Oscar_light02Struct));Fx.Effect_Oscar_light02=Effect_Oscar_light02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_particleStruct=(function(_super){__extends(Effect_Oscar_particleStruct,_super);function Effect_Oscar_particleStruct(){return _super.call(this)||this}Effect_Oscar_particleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Oscar_particle"))};Effect_Oscar_particleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_Oscar_particleStruct.URL="ui://9l36y1kitbt4d2";Effect_Oscar_particleStruct.DependPackages=["Fx"];return Effect_Oscar_particleStruct}(fairygui.GComponent));Fx.Effect_Oscar_particleStruct=Effect_Oscar_particleStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_particle=(function(_super){__extends(Effect_Oscar_particle,_super);function Effect_Oscar_particle(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Oscar_particle}(Fx.Effect_Oscar_particleStruct));Fx.Effect_Oscar_particle=Effect_Oscar_particle})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_particle2323Struct=(function(_super){__extends(Effect_Oscar_particle2323Struct,_super);function Effect_Oscar_particle2323Struct(){return _super.call(this)||this}Effect_Oscar_particle2323Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_Oscar_particle2323"))};Effect_Oscar_particle2323Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t88=this.getTransition("t88")};Effect_Oscar_particle2323Struct.URL="ui://9l36y1kiipn7dq";Effect_Oscar_particle2323Struct.DependPackages=["Fx"];return Effect_Oscar_particle2323Struct}(fairygui.GComponent));Fx.Effect_Oscar_particle2323Struct=Effect_Oscar_particle2323Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_Oscar_particle2323=(function(_super){__extends(Effect_Oscar_particle2323,_super);function Effect_Oscar_particle2323(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_Oscar_particle2323}(Fx.Effect_Oscar_particle2323Struct));Fx.Effect_Oscar_particle2323=Effect_Oscar_particle2323})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_pro002Struct=(function(_super){__extends(Effect_pro002Struct,_super);function Effect_pro002Struct(){return _super.call(this)||this}Effect_pro002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_pro002"))};Effect_pro002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t88999=this.getTransition("t88999")};Effect_pro002Struct.URL="ui://9l36y1kiqacwgk";Effect_pro002Struct.DependPackages=["Fx"];return Effect_pro002Struct}(fairygui.GComponent));Fx.Effect_pro002Struct=Effect_pro002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_pro002=(function(_super){__extends(Effect_pro002,_super);function Effect_pro002(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_pro002}(Fx.Effect_pro002Struct));Fx.Effect_pro002=Effect_pro002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_propagate_01Struct=(function(_super){__extends(Effect_propagate_01Struct,_super);function Effect_propagate_01Struct(){return _super.call(this)||this}Effect_propagate_01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_propagate_01"))};Effect_propagate_01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_propagate_01Struct.URL="ui://9l36y1kiqs6efm";Effect_propagate_01Struct.DependPackages=["Fx"];return Effect_propagate_01Struct}(fairygui.GComponent));Fx.Effect_propagate_01Struct=Effect_propagate_01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_propagate_01=(function(_super){__extends(Effect_propagate_01,_super);function Effect_propagate_01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_propagate_01}(Fx.Effect_propagate_01Struct));Fx.Effect_propagate_01=Effect_propagate_01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_rotate_lightStruct=(function(_super){__extends(Effect_rotate_lightStruct,_super);function Effect_rotate_lightStruct(){return _super.call(this)||this}Effect_rotate_lightStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_rotate_light"))};Effect_rotate_lightStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t078334=this.getTransition("t078334")};Effect_rotate_lightStruct.URL="ui://9l36y1kipbnqj2";Effect_rotate_lightStruct.DependPackages=["Fx"];return Effect_rotate_lightStruct}(fairygui.GComponent));Fx.Effect_rotate_lightStruct=Effect_rotate_lightStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_rotate_light=(function(_super){__extends(Effect_rotate_light,_super);function Effect_rotate_light(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_rotate_light}(Fx.Effect_rotate_lightStruct));Fx.Effect_rotate_light=Effect_rotate_light})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_11Struct=(function(_super){__extends(Effect_show_11Struct,_super);function Effect_show_11Struct(){return _super.call(this)||this}Effect_show_11Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_show_11"))};Effect_show_11Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_llll_006=(this.getChild("llll_006"));this.m_llll_005=(this.getChild("llll_005"));this.m_llll_004=(this.getChild("llll_004"));this.m_llll_003=(this.getChild("llll_003"));this.m_llll_002=(this.getChild("llll_002"));this.m_llll_001=(this.getChild("llll_001"));this.m_llll_008=(this.getChild("llll_008"));this.m_llll_009=(this.getChild("llll_009"));this.m_llll_003=(this.getChild("llll_003"));this.m_llll_0111=(this.getChild("llll_0111"));this.m_llll_0112=(this.getChild("llll_0112"));this.m_llll_0113=(this.getChild("llll_0113"));this.m_llll_0114=(this.getChild("llll_0114"));this.m_llll_0115=(this.getChild("llll_0115"));this.m_llll_007=(this.getChild("llll_007"));this.m_llll_0222=(this.getChild("llll_0222"));this.m_llll_0333=(this.getChild("llll_0333"));this.m_llll_0444=(this.getChild("llll_0444"));this.m_llll_0446=(this.getChild("llll_0446"));this.m_llll_0666=(this.getChild("llll_0666"));this.m_llll_0667=(this.getChild("llll_0667"));this.m_llll_0668=(this.getChild("llll_0668"));this.m_llll_0669=(this.getChild("llll_0669"));this.m_llll_0700=(this.getChild("llll_0700"));this.m_llll_0701=(this.getChild("llll_0701"));this.m_t199=this.getTransition("t199")};Effect_show_11Struct.URL="ui://9l36y1kisl89e6";Effect_show_11Struct.DependPackages=["Fx"];return Effect_show_11Struct}(fairygui.GComponent));Fx.Effect_show_11Struct=Effect_show_11Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_11=(function(_super){__extends(Effect_show_11,_super);function Effect_show_11(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_show_11}(Fx.Effect_show_11Struct));Fx.Effect_show_11=Effect_show_11})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_55454Struct=(function(_super){__extends(Effect_show_55454Struct,_super);function Effect_show_55454Struct(){return _super.call(this)||this}Effect_show_55454Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_show_55454"))};Effect_show_55454Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_aa1_top=(this.getChild("aa1_top"));this.m_t10003=this.getTransition("t10003")};Effect_show_55454Struct.URL="ui://9l36y1kivps1ku";Effect_show_55454Struct.DependPackages=["Fx"];return Effect_show_55454Struct}(fairygui.GComponent));Fx.Effect_show_55454Struct=Effect_show_55454Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_55454=(function(_super){__extends(Effect_show_55454,_super);function Effect_show_55454(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_show_55454}(Fx.Effect_show_55454Struct));Fx.Effect_show_55454=Effect_show_55454})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_goodhandStruct=(function(_super){__extends(Effect_show_goodhandStruct,_super);function Effect_show_goodhandStruct(){return _super.call(this)||this}Effect_show_goodhandStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_show_goodhand"))};Effect_show_goodhandStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_show_goodhandStruct.URL="ui://9l36y1kivps1kw";Effect_show_goodhandStruct.DependPackages=["Fx"];return Effect_show_goodhandStruct}(fairygui.GComponent));Fx.Effect_show_goodhandStruct=Effect_show_goodhandStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_show_goodhand=(function(_super){__extends(Effect_show_goodhand,_super);function Effect_show_goodhand(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_show_goodhand}(Fx.Effect_show_goodhandStruct));Fx.Effect_show_goodhand=Effect_show_goodhand})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0222Struct=(function(_super){__extends(Effect_starfly0222Struct,_super);function Effect_starfly0222Struct(){return _super.call(this)||this}Effect_starfly0222Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_starfly0222"))};Effect_starfly0222Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t123333=this.getTransition("t123333")};Effect_starfly0222Struct.URL="ui://9l36y1kig8v8kh";Effect_starfly0222Struct.DependPackages=["Fx"];return Effect_starfly0222Struct}(fairygui.GComponent));Fx.Effect_starfly0222Struct=Effect_starfly0222Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0222=(function(_super){__extends(Effect_starfly0222,_super);function Effect_starfly0222(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_starfly0222}(Fx.Effect_starfly0222Struct));Fx.Effect_starfly0222=Effect_starfly0222})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0223Struct=(function(_super){__extends(Effect_starfly0223Struct,_super);function Effect_starfly0223Struct(){return _super.call(this)||this}Effect_starfly0223Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_starfly0223"))};Effect_starfly0223Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t7=this.getTransition("t7")};Effect_starfly0223Struct.URL="ui://9l36y1kig8v8kk";Effect_starfly0223Struct.DependPackages=["Fx"];return Effect_starfly0223Struct}(fairygui.GComponent));Fx.Effect_starfly0223Struct=Effect_starfly0223Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0223=(function(_super){__extends(Effect_starfly0223,_super);function Effect_starfly0223(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_starfly0223}(Fx.Effect_starfly0223Struct));Fx.Effect_starfly0223=Effect_starfly0223})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0224Struct=(function(_super){__extends(Effect_starfly0224Struct,_super);function Effect_starfly0224Struct(){return _super.call(this)||this}Effect_starfly0224Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_starfly0224"))};Effect_starfly0224Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t64343=this.getTransition("t64343")};Effect_starfly0224Struct.URL="ui://9l36y1kig8v8kl";Effect_starfly0224Struct.DependPackages=["Fx"];return Effect_starfly0224Struct}(fairygui.GComponent));Fx.Effect_starfly0224Struct=Effect_starfly0224Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0224=(function(_super){__extends(Effect_starfly0224,_super);function Effect_starfly0224(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_starfly0224}(Fx.Effect_starfly0224Struct));Fx.Effect_starfly0224=Effect_starfly0224})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0333Struct=(function(_super){__extends(Effect_starfly0333Struct,_super);function Effect_starfly0333Struct(){return _super.call(this)||this}Effect_starfly0333Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_starfly0333"))};Effect_starfly0333Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t2=this.getTransition("t2")};Effect_starfly0333Struct.URL="ui://9l36y1kig8v8kj";Effect_starfly0333Struct.DependPackages=["Fx"];return Effect_starfly0333Struct}(fairygui.GComponent));Fx.Effect_starfly0333Struct=Effect_starfly0333Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_starfly0333=(function(_super){__extends(Effect_starfly0333,_super);function Effect_starfly0333(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_starfly0333}(Fx.Effect_starfly0333Struct));Fx.Effect_starfly0333=Effect_starfly0333})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_story_unlockStruct=(function(_super){__extends(Effect_story_unlockStruct,_super);function Effect_story_unlockStruct(){return _super.call(this)||this}Effect_story_unlockStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_story_unlock"))};Effect_story_unlockStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Effect_story_unlockStruct.URL="ui://9l36y1kiz8b5io";Effect_story_unlockStruct.DependPackages=["Fx"];return Effect_story_unlockStruct}(fairygui.GComponent));Fx.Effect_story_unlockStruct=Effect_story_unlockStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_story_unlock=(function(_super){__extends(Effect_story_unlock,_super);function Effect_story_unlock(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_story_unlock}(Fx.Effect_story_unlockStruct));Fx.Effect_story_unlock=Effect_story_unlock})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_upgrade_01Struct=(function(_super){__extends(Effect_upgrade_01Struct,_super);function Effect_upgrade_01Struct(){return _super.call(this)||this}Effect_upgrade_01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","Effect_upgrade_01"))};Effect_upgrade_01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_n7_dddd=(this.getChild("n7_dddd"));this.m_n8_dddd=(this.getChild("n8_dddd"));this.m_n9_dddd=(this.getChild("n9_dddd"));this.m_n10_dddd=(this.getChild("n10_dddd"));this.m_n11_dddd=(this.getChild("n11_dddd"));this.m_n26_dsdwd=(this.getChild("n26_dsdwd"));this.m_t501=this.getTransition("t501")};Effect_upgrade_01Struct.URL="ui://9l36y1ki85lbf3";Effect_upgrade_01Struct.DependPackages=["Fx"];return Effect_upgrade_01Struct}(fairygui.GComponent));Fx.Effect_upgrade_01Struct=Effect_upgrade_01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Effect_upgrade_01=(function(_super){__extends(Effect_upgrade_01,_super);function Effect_upgrade_01(){return _super!==null&&_super.apply(this,arguments)||this}return Effect_upgrade_01}(Fx.Effect_upgrade_01Struct));Fx.Effect_upgrade_01=Effect_upgrade_01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_congratsStruct=(function(_super){__extends(Fireworks_congratsStruct,_super);function Fireworks_congratsStruct(){return _super.call(this)||this}Fireworks_congratsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_congrats"))};Fireworks_congratsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_n3_fw=(this.getChild("n3_fw"));this.m_n2_fw=(this.getChild("n2_fw"));this.m_t0=this.getTransition("t0")};Fireworks_congratsStruct.URL="ui://9l36y1kiru9k8z";Fireworks_congratsStruct.DependPackages=["Fx"];return Fireworks_congratsStruct}(fairygui.GComponent));Fx.Fireworks_congratsStruct=Fireworks_congratsStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_congrats=(function(_super){__extends(Fireworks_congrats,_super);function Fireworks_congrats(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_congrats}(Fx.Fireworks_congratsStruct));Fx.Fireworks_congrats=Fireworks_congrats})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_level_upStruct=(function(_super){__extends(Fireworks_level_upStruct,_super);function Fireworks_level_upStruct(){return _super.call(this)||this}Fireworks_level_upStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_level_up"))};Fireworks_level_upStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_fireworks_n0=(this.getChild("Effect_fireworks_n0"));this.m_Effect_fireworks_n9=(this.getChild("Effect_fireworks_n9"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_fireworks_11=this.getTransition("fireworks_11")};Fireworks_level_upStruct.URL="ui://9l36y1kip57y8p";Fireworks_level_upStruct.DependPackages=["Fx"];return Fireworks_level_upStruct}(fairygui.GComponent));Fx.Fireworks_level_upStruct=Fireworks_level_upStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_level_up=(function(_super){__extends(Fireworks_level_up,_super);function Fireworks_level_up(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_level_up}(Fx.Fireworks_level_upStruct));Fx.Fireworks_level_up=Fireworks_level_up})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_level_up_002Struct=(function(_super){__extends(Fireworks_level_up_002Struct,_super);function Fireworks_level_up_002Struct(){return _super.call(this)||this}Fireworks_level_up_002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_level_up_002"))};Fireworks_level_up_002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Effect_fireworks_n0=(this.getChild("Effect_fireworks_n0"));this.m_Effect_fireworks_n9=(this.getChild("Effect_fireworks_n9"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_fireworks_11=this.getTransition("fireworks_11")};Fireworks_level_up_002Struct.URL="ui://9l36y1kilrr48y";Fireworks_level_up_002Struct.DependPackages=["Fx"];return Fireworks_level_up_002Struct}(fairygui.GComponent));Fx.Fireworks_level_up_002Struct=Fireworks_level_up_002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_level_up_002=(function(_super){__extends(Fireworks_level_up_002,_super);function Fireworks_level_up_002(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_level_up_002}(Fx.Fireworks_level_up_002Struct));Fx.Fireworks_level_up_002=Fireworks_level_up_002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0001Struct=(function(_super){__extends(Fireworks_spotlights0001Struct,_super);function Fireworks_spotlights0001Struct(){return _super.call(this)||this}Fireworks_spotlights0001Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_spotlights0001"))};Fireworks_spotlights0001Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_22=(this.getChild("fireworks_22"));this.m_fireworks_33=(this.getChild("fireworks_33"));this.m_fireworks_44=(this.getChild("fireworks_44"));this.m_fireworks_spotligts01=this.getTransition("fireworks_spotligts01")};Fireworks_spotlights0001Struct.URL="ui://9l36y1kiflbk6e";Fireworks_spotlights0001Struct.DependPackages=["Fx"];return Fireworks_spotlights0001Struct}(fairygui.GComponent));Fx.Fireworks_spotlights0001Struct=Fireworks_spotlights0001Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0001=(function(_super){__extends(Fireworks_spotlights0001,_super);function Fireworks_spotlights0001(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_spotlights0001}(Fx.Fireworks_spotlights0001Struct));Fx.Fireworks_spotlights0001=Fireworks_spotlights0001})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0002Struct=(function(_super){__extends(Fireworks_spotlights0002Struct,_super);function Fireworks_spotlights0002Struct(){return _super.call(this)||this}Fireworks_spotlights0002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_spotlights0002"))};Fireworks_spotlights0002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_spotlights23=(this.getChild("fireworks_spotlights23"));this.m_fireworks_spotlights0444=(this.getChild("fireworks_spotlights0444"));this.m_fireworks_spotlights0222=this.getTransition("fireworks_spotlights0222")};Fireworks_spotlights0002Struct.URL="ui://9l36y1kiflbk6f";Fireworks_spotlights0002Struct.DependPackages=["Fx"];return Fireworks_spotlights0002Struct}(fairygui.GComponent));Fx.Fireworks_spotlights0002Struct=Fireworks_spotlights0002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0002=(function(_super){__extends(Fireworks_spotlights0002,_super);function Fireworks_spotlights0002(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_spotlights0002}(Fx.Fireworks_spotlights0002Struct));Fx.Fireworks_spotlights0002=Fireworks_spotlights0002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0003Struct=(function(_super){__extends(Fireworks_spotlights0003Struct,_super);function Fireworks_spotlights0003Struct(){return _super.call(this)||this}Fireworks_spotlights0003Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_spotlights0003"))};Fireworks_spotlights0003Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_nn23=(this.getChild("fireworks_nn23"));this.m_fireworks_111=this.getTransition("fireworks_111")};Fireworks_spotlights0003Struct.URL="ui://9l36y1kiflbk6i";Fireworks_spotlights0003Struct.DependPackages=["Fx"];return Fireworks_spotlights0003Struct}(fairygui.GComponent));Fx.Fireworks_spotlights0003Struct=Fireworks_spotlights0003Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0003=(function(_super){__extends(Fireworks_spotlights0003,_super);function Fireworks_spotlights0003(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_spotlights0003}(Fx.Fireworks_spotlights0003Struct));Fx.Fireworks_spotlights0003=Fireworks_spotlights0003})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0004Struct=(function(_super){__extends(Fireworks_spotlights0004Struct,_super);function Fireworks_spotlights0004Struct(){return _super.call(this)||this}Fireworks_spotlights0004Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_spotlights0004"))};Fireworks_spotlights0004Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_spotlights0005=this.getTransition("fireworks_spotlights0005")};Fireworks_spotlights0004Struct.URL="ui://9l36y1kiflbk6j";Fireworks_spotlights0004Struct.DependPackages=["Fx"];return Fireworks_spotlights0004Struct}(fairygui.GComponent));Fx.Fireworks_spotlights0004Struct=Fireworks_spotlights0004Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights0004=(function(_super){__extends(Fireworks_spotlights0004,_super);function Fireworks_spotlights0004(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_spotlights0004}(Fx.Fireworks_spotlights0004Struct));Fx.Fireworks_spotlights0004=Fireworks_spotlights0004})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights_allStruct=(function(_super){__extends(Fireworks_spotlights_allStruct,_super);function Fireworks_spotlights_allStruct(){return _super.call(this)||this}Fireworks_spotlights_allStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_spotlights_all"))};Fireworks_spotlights_allStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_spotlights_all=this.getTransition("fireworks_spotlights_all")};Fireworks_spotlights_allStruct.URL="ui://9l36y1kiflbk6g";Fireworks_spotlights_allStruct.DependPackages=["Fx"];return Fireworks_spotlights_allStruct}(fairygui.GComponent));Fx.Fireworks_spotlights_allStruct=Fireworks_spotlights_allStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_spotlights_all=(function(_super){__extends(Fireworks_spotlights_all,_super);function Fireworks_spotlights_all(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_spotlights_all}(Fx.Fireworks_spotlights_allStruct));Fx.Fireworks_spotlights_all=Fireworks_spotlights_all})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_successfulStruct=(function(_super){__extends(Fireworks_successfulStruct,_super);function Fireworks_successfulStruct(){return _super.call(this)||this}Fireworks_successfulStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","fireworks_successful"))};Fireworks_successfulStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Fireworks_successfulStruct.URL="ui://9l36y1kilrr48v";Fireworks_successfulStruct.DependPackages=["Fx"];return Fireworks_successfulStruct}(fairygui.GComponent));Fx.Fireworks_successfulStruct=Fireworks_successfulStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Fireworks_successful=(function(_super){__extends(Fireworks_successful,_super);function Fireworks_successful(){return _super!==null&&_super.apply(this,arguments)||this}return Fireworks_successful}(Fx.Fireworks_successfulStruct));Fx.Fireworks_successful=Fireworks_successful})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var HaloStruct=(function(_super){__extends(HaloStruct,_super);function HaloStruct(){return _super.call(this)||this}HaloStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","halo"))};HaloStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};HaloStruct.URL="ui://9l36y1kiijjhi6";HaloStruct.DependPackages=["Fx"];return HaloStruct}(fairygui.GComponent));Fx.HaloStruct=HaloStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Halo=(function(_super){__extends(Halo,_super);function Halo(){return _super!==null&&_super.apply(this,arguments)||this}return Halo}(Fx.HaloStruct));Fx.Halo=Halo})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_0000Struct=(function(_super){__extends(Heart_0000Struct,_super);function Heart_0000Struct(){return _super.call(this)||this}Heart_0000Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_0000"))};Heart_0000Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t065444=this.getTransition("t065444")};Heart_0000Struct.URL="ui://9l36y1kifjcvid";Heart_0000Struct.DependPackages=["Fx"];return Heart_0000Struct}(fairygui.GComponent));Fx.Heart_0000Struct=Heart_0000Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_0000=(function(_super){__extends(Heart_0000,_super);function Heart_0000(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_0000}(Fx.Heart_0000Struct));Fx.Heart_0000=Heart_0000})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_003Struct=(function(_super){__extends(Heart_003Struct,_super);function Heart_003Struct(){return _super.call(this)||this}Heart_003Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_003"))};Heart_003Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t02444=this.getTransition("t02444")};Heart_003Struct.URL="ui://9l36y1kinu4kkp";Heart_003Struct.DependPackages=["Fx"];return Heart_003Struct}(fairygui.GComponent));Fx.Heart_003Struct=Heart_003Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_003=(function(_super){__extends(Heart_003,_super);function Heart_003(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_003}(Fx.Heart_003Struct));Fx.Heart_003=Heart_003})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_004Struct=(function(_super){__extends(Heart_004Struct,_super);function Heart_004Struct(){return _super.call(this)||this}Heart_004Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_004"))};Heart_004Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Heart_004Struct.URL="ui://9l36y1kinu4kkq";Heart_004Struct.DependPackages=["Fx"];return Heart_004Struct}(fairygui.GComponent));Fx.Heart_004Struct=Heart_004Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_004=(function(_super){__extends(Heart_004,_super);function Heart_004(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_004}(Fx.Heart_004Struct));Fx.Heart_004=Heart_004})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_005Struct=(function(_super){__extends(Heart_005Struct,_super);function Heart_005Struct(){return _super.call(this)||this}Heart_005Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_005"))};Heart_005Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Heart_005Struct.URL="ui://9l36y1kiss4bkx";Heart_005Struct.DependPackages=["Fx"];return Heart_005Struct}(fairygui.GComponent));Fx.Heart_005Struct=Heart_005Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_005=(function(_super){__extends(Heart_005,_super);function Heart_005(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_005}(Fx.Heart_005Struct));Fx.Heart_005=Heart_005})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_011Struct=(function(_super){__extends(Heart_011Struct,_super);function Heart_011Struct(){return _super.call(this)||this}Heart_011Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_011"))};Heart_011Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t01344=this.getTransition("t01344")};Heart_011Struct.URL="ui://9l36y1kiif6akn";Heart_011Struct.DependPackages=["Fx"];return Heart_011Struct}(fairygui.GComponent));Fx.Heart_011Struct=Heart_011Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_011=(function(_super){__extends(Heart_011,_super);function Heart_011(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_011}(Fx.Heart_011Struct));Fx.Heart_011=Heart_011})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_01233Struct=(function(_super){__extends(Heart_01233Struct,_super);function Heart_01233Struct(){return _super.call(this)||this}Heart_01233Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_01233"))};Heart_01233Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t02442333=this.getTransition("t02442333")};Heart_01233Struct.URL="ui://9l36y1kivps1kv";Heart_01233Struct.DependPackages=["Fx"];return Heart_01233Struct}(fairygui.GComponent));Fx.Heart_01233Struct=Heart_01233Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_01233=(function(_super){__extends(Heart_01233,_super);function Heart_01233(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_01233}(Fx.Heart_01233Struct));Fx.Heart_01233=Heart_01233})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_77Struct=(function(_super){__extends(Heart_77Struct,_super);function Heart_77Struct(){return _super.call(this)||this}Heart_77Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","heart_77"))};Heart_77Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_n_6=(this.getChild("n_6"));this.m_n_5=(this.getChild("n_5"));this.m_t0665=this.getTransition("t0665")};Heart_77Struct.URL="ui://9l36y1kiss4bl0";Heart_77Struct.DependPackages=["Fx"];return Heart_77Struct}(fairygui.GComponent));Fx.Heart_77Struct=Heart_77Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Heart_77=(function(_super){__extends(Heart_77,_super);function Heart_77(){return _super!==null&&_super.apply(this,arguments)||this}return Heart_77}(Fx.Heart_77Struct));Fx.Heart_77=Heart_77})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var ParticleStruct=(function(_super){__extends(ParticleStruct,_super);function ParticleStruct(){return _super.call(this)||this}ParticleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle"))};ParticleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_particle_11=this.getTransition("particle_11")};ParticleStruct.URL="ui://9l36y1kipx9z92";ParticleStruct.DependPackages=["Fx"];return ParticleStruct}(fairygui.GComponent));Fx.ParticleStruct=ParticleStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle=(function(_super){__extends(Particle,_super);function Particle(){return _super!==null&&_super.apply(this,arguments)||this}return Particle}(Fx.ParticleStruct));Fx.Particle=Particle})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_01Struct=(function(_super){__extends(Particle_01Struct,_super);function Particle_01Struct(){return _super.call(this)||this}Particle_01Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_01"))};Particle_01Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0_particle11333=this.getTransition("t0_particle11333")};Particle_01Struct.URL="ui://9l36y1kimhuwbr";Particle_01Struct.DependPackages=["Fx"];return Particle_01Struct}(fairygui.GComponent));Fx.Particle_01Struct=Particle_01Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_01=(function(_super){__extends(Particle_01,_super);function Particle_01(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_01}(Fx.Particle_01Struct));Fx.Particle_01=Particle_01})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_02Struct=(function(_super){__extends(Particle_02Struct,_super);function Particle_02Struct(){return _super.call(this)||this}Particle_02Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_02"))};Particle_02Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pp_particle=this.getTransition("pp_particle")};Particle_02Struct.URL="ui://9l36y1kimhuwbx";Particle_02Struct.DependPackages=["Fx"];return Particle_02Struct}(fairygui.GComponent));Fx.Particle_02Struct=Particle_02Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_02=(function(_super){__extends(Particle_02,_super);function Particle_02(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_02}(Fx.Particle_02Struct));Fx.Particle_02=Particle_02})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_02333Struct=(function(_super){__extends(Particle_02333Struct,_super);function Particle_02333Struct(){return _super.call(this)||this}Particle_02333Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_02333"))};Particle_02333Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pp_particle=this.getTransition("pp_particle")};Particle_02333Struct.URL="ui://9l36y1kifaz9dt";Particle_02333Struct.DependPackages=["Fx"];return Particle_02333Struct}(fairygui.GComponent));Fx.Particle_02333Struct=Particle_02333Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_02333=(function(_super){__extends(Particle_02333,_super);function Particle_02333(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_02333}(Fx.Particle_02333Struct));Fx.Particle_02333=Particle_02333})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_03Struct=(function(_super){__extends(Particle_03Struct,_super);function Particle_03Struct(){return _super.call(this)||this}Particle_03Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_03"))};Particle_03Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pp_particle=this.getTransition("pp_particle")};Particle_03Struct.URL="ui://9l36y1kieb1rbz";Particle_03Struct.DependPackages=["Fx"];return Particle_03Struct}(fairygui.GComponent));Fx.Particle_03Struct=Particle_03Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_03=(function(_super){__extends(Particle_03,_super);function Particle_03(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_03}(Fx.Particle_03Struct));Fx.Particle_03=Particle_03})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_04Struct=(function(_super){__extends(Particle_04Struct,_super);function Particle_04Struct(){return _super.call(this)||this}Particle_04Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_04"))};Particle_04Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_0001_top=(this.getChild("0001_top"));this.m_t0_particle1233=this.getTransition("t0_particle1233")};Particle_04Struct.URL="ui://9l36y1kieb1rc0";Particle_04Struct.DependPackages=["Fx"];return Particle_04Struct}(fairygui.GComponent));Fx.Particle_04Struct=Particle_04Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_04=(function(_super){__extends(Particle_04,_super);function Particle_04(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_04}(Fx.Particle_04Struct));Fx.Particle_04=Particle_04})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_allStruct=(function(_super){__extends(Particle_allStruct,_super);function Particle_allStruct(){return _super.call(this)||this}Particle_allStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","particle_all"))};Particle_allStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Particle_allStruct.URL="ui://9l36y1kimhuwbu";Particle_allStruct.DependPackages=["Fx"];return Particle_allStruct}(fairygui.GComponent));Fx.Particle_allStruct=Particle_allStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Particle_all=(function(_super){__extends(Particle_all,_super);function Particle_all(){return _super!==null&&_super.apply(this,arguments)||this}return Particle_all}(Fx.Particle_allStruct));Fx.Particle_all=Particle_all})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Pro_dropStruct=(function(_super){__extends(Pro_dropStruct,_super);function Pro_dropStruct(){return _super.call(this)||this}Pro_dropStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","pro_drop"))};Pro_dropStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t1=this.getTransition("t1")};Pro_dropStruct.URL="ui://9l36y1kin57rgy";Pro_dropStruct.DependPackages=["Fx"];return Pro_dropStruct}(fairygui.GComponent));Fx.Pro_dropStruct=Pro_dropStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Pro_drop=(function(_super){__extends(Pro_drop,_super);function Pro_drop(){return _super!==null&&_super.apply(this,arguments)||this}return Pro_drop}(Fx.Pro_dropStruct));Fx.Pro_drop=Pro_drop})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Smoke002Struct=(function(_super){__extends(Smoke002Struct,_super);function Smoke002Struct(){return _super.call(this)||this}Smoke002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","smoke002"))};Smoke002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Smoke002Struct.URL="ui://9l36y1kiweh5cf";Smoke002Struct.DependPackages=["Fx"];return Smoke002Struct}(fairygui.GComponent));Fx.Smoke002Struct=Smoke002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Smoke002=(function(_super){__extends(Smoke002,_super);function Smoke002(){return _super!==null&&_super.apply(this,arguments)||this}return Smoke002}(Fx.Smoke002Struct));Fx.Smoke002=Smoke002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Smoke003Struct=(function(_super){__extends(Smoke003Struct,_super);function Smoke003Struct(){return _super.call(this)||this}Smoke003Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","smoke003"))};Smoke003Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};Smoke003Struct.URL="ui://9l36y1kiweh5cg";Smoke003Struct.DependPackages=["Fx"];return Smoke003Struct}(fairygui.GComponent));Fx.Smoke003Struct=Smoke003Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Smoke003=(function(_super){__extends(Smoke003,_super);function Smoke003(){return _super!==null&&_super.apply(this,arguments)||this}return Smoke003}(Fx.Smoke003Struct));Fx.Smoke003=Smoke003})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var StarboomStruct=(function(_super){__extends(StarboomStruct,_super);function StarboomStruct(){return _super.call(this)||this}StarboomStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starboom"))};StarboomStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_2555=(this.getChild("fireworks_2555"));this.m_fireworks_266=(this.getChild("fireworks_266"));this.m_fireworks_n22=(this.getChild("fireworks_n22"));this.m_fireworks_n200=(this.getChild("fireworks_n200"));this.m_Effect_fireworks_n16=(this.getChild("Effect_fireworks_n16"));this.m_Effect_fireworks_n2=(this.getChild("Effect_fireworks_n2"));this.m_Effect_fireworks_n17=(this.getChild("Effect_fireworks_n17"));this.m_Effect_fireworks_n15=(this.getChild("Effect_fireworks_n15"));this.m_Effect_fireworks_n3=(this.getChild("Effect_fireworks_n3"));this.m_Effect_fireworks_n4=(this.getChild("Effect_fireworks_n4"));this.m_Effect_fireworks_n5=(this.getChild("Effect_fireworks_n5"));this.m_Effect_fireworks_n6=(this.getChild("Effect_fireworks_n6"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_Effect_fireworks_n8=(this.getChild("Effect_fireworks_n8"));this.m_Effect_fireworks_n10=(this.getChild("Effect_fireworks_n10"));this.m_Effect_fireworks_n11=(this.getChild("Effect_fireworks_n11"));this.m_Effect_fireworks_n12=(this.getChild("Effect_fireworks_n12"));this.m_Effect_fireworks_n13=(this.getChild("Effect_fireworks_n13"));this.m_Effect_fireworks_n1=(this.getChild("Effect_fireworks_n1"));this.m_fireworks_233=(this.getChild("fireworks_233"));this.m_fireworks_n211=(this.getChild("fireworks_n211"));this.m_fireworks_n199=(this.getChild("fireworks_n199"));this.m_fireworks_n188=(this.getChild("fireworks_n188"));this.m_boom=this.getTransition("boom")};StarboomStruct.URL="ui://9l36y1kio0r867";StarboomStruct.DependPackages=["Fx"];return StarboomStruct}(fairygui.GComponent));Fx.StarboomStruct=StarboomStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom=(function(_super){__extends(Starboom,_super);function Starboom(){return _super!==null&&_super.apply(this,arguments)||this}return Starboom}(Fx.StarboomStruct));Fx.Starboom=Starboom})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom002Struct=(function(_super){__extends(Starboom002Struct,_super);function Starboom002Struct(){return _super.call(this)||this}Starboom002Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starboom002"))};Starboom002Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_2555=(this.getChild("fireworks_2555"));this.m_fireworks_266=(this.getChild("fireworks_266"));this.m_fireworks_n22=(this.getChild("fireworks_n22"));this.m_fireworks_n200=(this.getChild("fireworks_n200"));this.m_Effect_fireworks_n16=(this.getChild("Effect_fireworks_n16"));this.m_Effect_fireworks_n2=(this.getChild("Effect_fireworks_n2"));this.m_Effect_fireworks_n17=(this.getChild("Effect_fireworks_n17"));this.m_Effect_fireworks_n15=(this.getChild("Effect_fireworks_n15"));this.m_Effect_fireworks_n3=(this.getChild("Effect_fireworks_n3"));this.m_Effect_fireworks_n4=(this.getChild("Effect_fireworks_n4"));this.m_Effect_fireworks_n5=(this.getChild("Effect_fireworks_n5"));this.m_Effect_fireworks_n6=(this.getChild("Effect_fireworks_n6"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_Effect_fireworks_n8=(this.getChild("Effect_fireworks_n8"));this.m_Effect_fireworks_n10=(this.getChild("Effect_fireworks_n10"));this.m_Effect_fireworks_n11=(this.getChild("Effect_fireworks_n11"));this.m_Effect_fireworks_n12=(this.getChild("Effect_fireworks_n12"));this.m_Effect_fireworks_n13=(this.getChild("Effect_fireworks_n13"));this.m_Effect_fireworks_n1=(this.getChild("Effect_fireworks_n1"));this.m_fireworks_233=(this.getChild("fireworks_233"));this.m_fireworks_n211=(this.getChild("fireworks_n211"));this.m_fireworks_n199=(this.getChild("fireworks_n199"));this.m_fireworks_n188=(this.getChild("fireworks_n188"));this.m_boom=this.getTransition("boom")};Starboom002Struct.URL="ui://9l36y1kiod1fbe";Starboom002Struct.DependPackages=["Fx"];return Starboom002Struct}(fairygui.GComponent));Fx.Starboom002Struct=Starboom002Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom002=(function(_super){__extends(Starboom002,_super);function Starboom002(){return _super!==null&&_super.apply(this,arguments)||this}return Starboom002}(Fx.Starboom002Struct));Fx.Starboom002=Starboom002})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var StarboomblueStruct=(function(_super){__extends(StarboomblueStruct,_super);function StarboomblueStruct(){return _super.call(this)||this}StarboomblueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starboomblue"))};StarboomblueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_266=(this.getChild("fireworks_266"));this.m_fireworks_n22=(this.getChild("fireworks_n22"));this.m_fireworks_n200=(this.getChild("fireworks_n200"));this.m_Effect_fireworks_n16=(this.getChild("Effect_fireworks_n16"));this.m_Effect_fireworks_n2=(this.getChild("Effect_fireworks_n2"));this.m_Effect_fireworks_n17=(this.getChild("Effect_fireworks_n17"));this.m_Effect_fireworks_n3=(this.getChild("Effect_fireworks_n3"));this.m_Effect_fireworks_n4=(this.getChild("Effect_fireworks_n4"));this.m_Effect_fireworks_n5=(this.getChild("Effect_fireworks_n5"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_Effect_fireworks_n10=(this.getChild("Effect_fireworks_n10"));this.m_Effect_fireworks_n11=(this.getChild("Effect_fireworks_n11"));this.m_Effect_fireworks_n12=(this.getChild("Effect_fireworks_n12"));this.m_fireworks_n211=(this.getChild("fireworks_n211"));this.m_fireworks_n199=(this.getChild("fireworks_n199"));this.m_fireworks_n188=(this.getChild("fireworks_n188"));this.m_boom=this.getTransition("boom")};StarboomblueStruct.URL="ui://9l36y1kic49ilz";StarboomblueStruct.DependPackages=["Fx"];return StarboomblueStruct}(fairygui.GComponent));Fx.StarboomblueStruct=StarboomblueStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboomblue=(function(_super){__extends(Starboomblue,_super);function Starboomblue(){return _super!==null&&_super.apply(this,arguments)||this}return Starboomblue}(Fx.StarboomblueStruct));Fx.Starboomblue=Starboomblue})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom_allneedStruct=(function(_super){__extends(Starboom_allneedStruct,_super);function Starboom_allneedStruct(){return _super.call(this)||this}Starboom_allneedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starboom_allneed"))};Starboom_allneedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_fireworks_2555=(this.getChild("fireworks_2555"));this.m_fireworks_266=(this.getChild("fireworks_266"));this.m_fireworks_n22=(this.getChild("fireworks_n22"));this.m_fireworks_n200=(this.getChild("fireworks_n200"));this.m_Effect_fireworks_n16=(this.getChild("Effect_fireworks_n16"));this.m_Effect_fireworks_n2=(this.getChild("Effect_fireworks_n2"));this.m_Effect_fireworks_n17=(this.getChild("Effect_fireworks_n17"));this.m_Effect_fireworks_n15=(this.getChild("Effect_fireworks_n15"));this.m_Effect_fireworks_n3=(this.getChild("Effect_fireworks_n3"));this.m_Effect_fireworks_n4=(this.getChild("Effect_fireworks_n4"));this.m_Effect_fireworks_n5=(this.getChild("Effect_fireworks_n5"));this.m_Effect_fireworks_n6=(this.getChild("Effect_fireworks_n6"));this.m_Effect_fireworks_n7=(this.getChild("Effect_fireworks_n7"));this.m_Effect_fireworks_n8=(this.getChild("Effect_fireworks_n8"));this.m_Effect_fireworks_n10=(this.getChild("Effect_fireworks_n10"));this.m_Effect_fireworks_n11=(this.getChild("Effect_fireworks_n11"));this.m_Effect_fireworks_n12=(this.getChild("Effect_fireworks_n12"));this.m_Effect_fireworks_n13=(this.getChild("Effect_fireworks_n13"));this.m_Effect_fireworks_n1=(this.getChild("Effect_fireworks_n1"));this.m_fireworks_233=(this.getChild("fireworks_233"));this.m_fireworks_n211=(this.getChild("fireworks_n211"));this.m_fireworks_n199=(this.getChild("fireworks_n199"));this.m_fireworks_n188=(this.getChild("fireworks_n188"));this.m_boom_allneed=this.getTransition("boom_allneed")};Starboom_allneedStruct.URL="ui://9l36y1kinmj1ka";Starboom_allneedStruct.DependPackages=["Fx"];return Starboom_allneedStruct}(fairygui.GComponent));Fx.Starboom_allneedStruct=Starboom_allneedStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom_allneed=(function(_super){__extends(Starboom_allneed,_super);function Starboom_allneed(){return _super!==null&&_super.apply(this,arguments)||this}return Starboom_allneed}(Fx.Starboom_allneedStruct));Fx.Starboom_allneed=Starboom_allneed})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom_blueStruct=(function(_super){__extends(Starboom_blueStruct,_super);function Starboom_blueStruct(){return _super.call(this)||this}Starboom_blueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starboom_blue"))};Starboom_blueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0755=this.getTransition("t0755")};Starboom_blueStruct.URL="ui://9l36y1kic49im0";Starboom_blueStruct.DependPackages=["Fx"];return Starboom_blueStruct}(fairygui.GComponent));Fx.Starboom_blueStruct=Starboom_blueStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starboom_blue=(function(_super){__extends(Starboom_blue,_super);function Starboom_blue(){return _super!==null&&_super.apply(this,arguments)||this}return Starboom_blue}(Fx.Starboom_blueStruct));Fx.Starboom_blue=Starboom_blue})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var StarflyStruct=(function(_super){__extends(StarflyStruct,_super);function StarflyStruct(){return _super.call(this)||this}StarflyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starfly"))};StarflyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t1=this.getTransition("t1")};StarflyStruct.URL="ui://9l36y1kid3aj5k";StarflyStruct.DependPackages=["Fx"];return StarflyStruct}(fairygui.GComponent));Fx.StarflyStruct=StarflyStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starfly=(function(_super){__extends(Starfly,_super);function Starfly(){return _super!==null&&_super.apply(this,arguments)||this}return Starfly}(Fx.StarflyStruct));Fx.Starfly=Starfly})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var StarshanshanStruct=(function(_super){__extends(StarshanshanStruct,_super);function StarshanshanStruct(){return _super.call(this)||this}StarshanshanStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","starshanshan"))};StarshanshanStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_boom02=this.getTransition("boom02")};StarshanshanStruct.URL="ui://9l36y1kis3306a";StarshanshanStruct.DependPackages=["Fx"];return StarshanshanStruct}(fairygui.GComponent));Fx.StarshanshanStruct=StarshanshanStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var Starshanshan=(function(_super){__extends(Starshanshan,_super);function Starshanshan(){return _super!==null&&_super.apply(this,arguments)||this}return Starshanshan}(Fx.StarshanshanStruct));Fx.Starshanshan=Starshanshan})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper1Struct=(function(_super){__extends(TrailerPaper1Struct,_super);function TrailerPaper1Struct(){return _super.call(this)||this}TrailerPaper1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerPaper1"))};TrailerPaper1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerPaper1Struct.URL="ui://9l36y1kime5xi6";TrailerPaper1Struct.DependPackages=["Fx"];return TrailerPaper1Struct}(fairygui.GComponent));Fx.TrailerPaper1Struct=TrailerPaper1Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper1=(function(_super){__extends(TrailerPaper1,_super);function TrailerPaper1(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerPaper1}(Fx.TrailerPaper1Struct));Fx.TrailerPaper1=TrailerPaper1})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper2Struct=(function(_super){__extends(TrailerPaper2Struct,_super);function TrailerPaper2Struct(){return _super.call(this)||this}TrailerPaper2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerPaper2"))};TrailerPaper2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerPaper2Struct.URL="ui://9l36y1kime5xi7";TrailerPaper2Struct.DependPackages=["Fx"];return TrailerPaper2Struct}(fairygui.GComponent));Fx.TrailerPaper2Struct=TrailerPaper2Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper2=(function(_super){__extends(TrailerPaper2,_super);function TrailerPaper2(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerPaper2}(Fx.TrailerPaper2Struct));Fx.TrailerPaper2=TrailerPaper2})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper3Struct=(function(_super){__extends(TrailerPaper3Struct,_super);function TrailerPaper3Struct(){return _super.call(this)||this}TrailerPaper3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerPaper3"))};TrailerPaper3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerPaper3Struct.URL="ui://9l36y1kime5xi8";TrailerPaper3Struct.DependPackages=["Fx"];return TrailerPaper3Struct}(fairygui.GComponent));Fx.TrailerPaper3Struct=TrailerPaper3Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerPaper3=(function(_super){__extends(TrailerPaper3,_super);function TrailerPaper3(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerPaper3}(Fx.TrailerPaper3Struct));Fx.TrailerPaper3=TrailerPaper3})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStarStruct=(function(_super){__extends(TrailerStarStruct,_super);function TrailerStarStruct(){return _super.call(this)||this}TrailerStarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerStar"))};TrailerStarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerStarStruct.URL="ui://9l36y1kic6xjgh";TrailerStarStruct.DependPackages=["Fx"];return TrailerStarStruct}(fairygui.GComponent));Fx.TrailerStarStruct=TrailerStarStruct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar=(function(_super){__extends(TrailerStar,_super);function TrailerStar(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerStar}(Fx.TrailerStarStruct));Fx.TrailerStar=TrailerStar})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar1Struct=(function(_super){__extends(TrailerStar1Struct,_super);function TrailerStar1Struct(){return _super.call(this)||this}TrailerStar1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerStar1"))};TrailerStar1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerStar1Struct.URL="ui://9l36y1kihhqei1";TrailerStar1Struct.DependPackages=["Fx"];return TrailerStar1Struct}(fairygui.GComponent));Fx.TrailerStar1Struct=TrailerStar1Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar1=(function(_super){__extends(TrailerStar1,_super);function TrailerStar1(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerStar1}(Fx.TrailerStar1Struct));Fx.TrailerStar1=TrailerStar1})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar2Struct=(function(_super){__extends(TrailerStar2Struct,_super);function TrailerStar2Struct(){return _super.call(this)||this}TrailerStar2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerStar2"))};TrailerStar2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerStar2Struct.URL="ui://9l36y1kihhqei2";TrailerStar2Struct.DependPackages=["Fx"];return TrailerStar2Struct}(fairygui.GComponent));Fx.TrailerStar2Struct=TrailerStar2Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar2=(function(_super){__extends(TrailerStar2,_super);function TrailerStar2(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerStar2}(Fx.TrailerStar2Struct));Fx.TrailerStar2=TrailerStar2})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar3Struct=(function(_super){__extends(TrailerStar3Struct,_super);function TrailerStar3Struct(){return _super.call(this)||this}TrailerStar3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerStar3"))};TrailerStar3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerStar3Struct.URL="ui://9l36y1kihhqei3";TrailerStar3Struct.DependPackages=["Fx"];return TrailerStar3Struct}(fairygui.GComponent));Fx.TrailerStar3Struct=TrailerStar3Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar3=(function(_super){__extends(TrailerStar3,_super);function TrailerStar3(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerStar3}(Fx.TrailerStar3Struct));Fx.TrailerStar3=TrailerStar3})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar4Struct=(function(_super){__extends(TrailerStar4Struct,_super);function TrailerStar4Struct(){return _super.call(this)||this}TrailerStar4Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Fx","TrailerStar4"))};TrailerStar4Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TrailerStar4Struct.URL="ui://9l36y1kihhqei4";TrailerStar4Struct.DependPackages=["Fx"];return TrailerStar4Struct}(fairygui.GComponent));Fx.TrailerStar4Struct=TrailerStar4Struct})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Fx;(function(Fx){var TrailerStar4=(function(_super){__extends(TrailerStar4,_super);function TrailerStar4(){return _super!==null&&_super.apply(this,arguments)||this}return TrailerStar4}(Fx.TrailerStar4Struct));Fx.TrailerStar4=TrailerStar4})(Fx=fgui.Fx||(fgui.Fx={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var ButtonCornerStruct=(function(_super){__extends(ButtonCornerStruct,_super);function ButtonCornerStruct(){return _super.call(this)||this}ButtonCornerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","ButtonCorner"))};ButtonCornerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonCornerStruct.URL="ui://ujw583ypfv0td";ButtonCornerStruct.DependPackages=["GM"];return ButtonCornerStruct}(fairygui.GButton));GM.ButtonCornerStruct=ButtonCornerStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var ButtonCorner=(function(_super){__extends(ButtonCorner,_super);function ButtonCorner(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonCorner}(GM.ButtonCornerStruct));GM.ButtonCorner=ButtonCorner})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var ButtonRectStruct=(function(_super){__extends(ButtonRectStruct,_super);function ButtonRectStruct(){return _super.call(this)||this}ButtonRectStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","ButtonRect"))};ButtonRectStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonRectStruct.URL="ui://ujw583ypc3i0h";ButtonRectStruct.DependPackages=["GM"];return ButtonRectStruct}(fairygui.GButton));GM.ButtonRectStruct=ButtonRectStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var ButtonRect=(function(_super){__extends(ButtonRect,_super);function ButtonRect(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonRect}(GM.ButtonRectStruct));GM.ButtonRect=ButtonRect})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var CheckboxStruct=(function(_super){__extends(CheckboxStruct,_super);function CheckboxStruct(){return _super.call(this)||this}CheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","Checkbox"))};CheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};CheckboxStruct.URL="ui://ujw583ypnb4ea";CheckboxStruct.DependPackages=["GM"];return CheckboxStruct}(fairygui.GButton));GM.CheckboxStruct=CheckboxStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var Checkbox=(function(_super){__extends(Checkbox,_super);function Checkbox(){return _super!==null&&_super.apply(this,arguments)||this}return Checkbox}(GM.CheckboxStruct));GM.Checkbox=Checkbox})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMAddItemStruct=(function(_super){__extends(GMAddItemStruct,_super);function GMAddItemStruct(){return _super.call(this)||this}GMAddItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMAddItem"))};GMAddItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_id=(this.getChild("id"));this.m_title=(this.getChild("title"));this.m_describe=(this.getChild("describe"));this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"));this.m_button=(this.getChild("button"));this.m_numberInput=(this.getChild("numberInput"))};GMAddItemStruct.URL="ui://ujw583ypfv0tc";GMAddItemStruct.DependPackages=["GM"];return GMAddItemStruct}(fairygui.GComponent));GM.GMAddItemStruct=GMAddItemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMAddItem=(function(_super){__extends(GMAddItem,_super);function GMAddItem(){return _super!==null&&_super.apply(this,arguments)||this}GMAddItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button.onClick(this,this.onClickAddButton);this.m_num.onClick(this,this.onClickNum);this.m_numberInput.value=10000};GMAddItem.prototype.onClickNum=function(){this.m_numberInput.value=this.itemData.itemNum*-1};GMAddItem.prototype.onClickAddButton=function(){var _this=this;switch(this.itemData.itemId){case Proto.SE.EItemId.fans:Game.protosender.test.AddFans(this.m_numberInput.value);break;case 8:Game.protosender.test.AddExpect(this.m_numberInput.value);break;default:Game.protosender.test.AddItem(this.itemData.itemId,this.m_numberInput.value);break}setTimeout(function(){_this.refreshItemNum()},100)};GMAddItem.prototype.setItemData=function(itemData){this.itemData=itemData;this.m_id.text=itemData.itemId+"";this.m_title.text=itemData.itemName;this.m_describe.text=itemData.itemDes;this.m_num.text=itemData.itemNum+"";this.m_icon.url=itemData.itemIconUrl};GMAddItem.prototype.refreshItemNum=function(){if(this.itemData){this.m_num.text=this.itemData.itemNum+""}};GMAddItem.prototype.onTabShow=function(){this.refreshItemNum()};GMAddItem.prototype.onWindowShow=function(){this.refreshItemNum()};return GMAddItem}(GM.GMAddItemStruct));GM.GMAddItem=GMAddItem})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMAddPageStruct=(function(_super){__extends(GMAddPageStruct,_super);function GMAddPageStruct(){return _super.call(this)||this}GMAddPageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMAddPage"))};GMAddPageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_popupButton=(this.getChild("popupButton"));this.m_filterInput=(this.getChild("filterInput"));this.m_filterCheckbox=(this.getChild("filterCheckbox"));this.m_listTopButton=(this.getChild("listTopButton"));this.m_listBottomButton=(this.getChild("listBottomButton"))};GMAddPageStruct.URL="ui://ujw583ypfbyi9";GMAddPageStruct.DependPackages=["GM"];return GMAddPageStruct}(fairygui.GComponent));GM.GMAddPageStruct=GMAddPageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMAddPage=(function(_super){__extends(GMAddPage,_super);function GMAddPage(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listData=[];_this.filterData=[];_this.useListData=[];return _this}GMAddPage.prototype.onWindowInited=function(){this.popupMenu=fgui.GM.GMPopupMenu.createInstance();this.popupMenu.mainButton=this.m_popupButton;this.popupMenu.sOnSelect.add(this.onSelectePopupItem,this);this.popupMenu.setListData(Games.GMAddType.list);this.popupMenu.center();this.m_popupButton.onClick(this,this.onClickPopupButton);this.selectPopupItem(Games.GMAddType.Item);this.m_listTopButton.onClick(this,this.onClickListTopButton);this.m_listBottomButton.onClick(this,this.onClickListBottomButton);this.m_filterInput.m_title.on(laya.events.Event.INPUT,this,this.onFilterInput);this.m_filterCheckbox.onClick(this,this.onClickFilterCheckbox)};Object.defineProperty(GMAddPage.prototype,"isFilter",{get:function(){return this.m_filterCheckbox.selected},set:function(val){this.m_filterCheckbox.selected=val},enumerable:true,configurable:true});Object.defineProperty(GMAddPage.prototype,"isUseFilter",{get:function(){return this.isFilter&&isNullOrEmpty(this.m_filterInput.m_title.text.trim())},enumerable:true,configurable:true});GMAddPage.prototype.onClickFilterCheckbox=function(){var _this=this;setTimeout(function(){if(_this.isUseFilter){_this.onFilterInput()}else{_this.noFilter()}},100)};GMAddPage.prototype.onFilterInput=function(){if(!this.isFilter){return}var txt=this.m_filterInput.m_title.text.trim();if(isNullOrEmpty(txt)){this.noFilter();return}var mathList=[];if(txt.startsWith("id:")){txt=txt.replace("id:","");var arr=txt.split(/[, ;]/);for(var i=0;i<arr.length;i++){arr[i]=arr[i].trim()}var items=Game.config.item.getConfigList();for(var i=0;i<items.length;i++){for(var j=0;j<arr.length;j++){if(items[i].id.toString()==arr[j]){mathList.push(items[i]);break}}}}else{if(txt.startsWith("type:")){txt=txt.replace("type:","");var arr=txt.split(/[, ;]/);for(var i=0;i<arr.length;i++){arr[i]=arr[i].trim()}var items=Game.config.item.getConfigList();for(var i=0;i<items.length;i++){for(var j=0;j<arr.length;j++){if(items[i].type.toString()==arr[j]){mathList.push(items[i]);break}}}}else{var arr=txt.split(/[, ;]/);var items=Game.config.item.getConfigList();for(var i=0;i<items.length;i++){for(var j=0;j<arr.length;j++){if(items[i].name.indexOf(arr[j])!=-1||items[i].id.toString().indexOf(arr[j])!=-1){mathList.push(items[i]);break}}}}}this.setFilterData(mathList)};GMAddPage.prototype.noFilter=function(){this.setListData(this.listData)};GMAddPage.prototype.onClickPopupButton=function(){fairygui.GRoot.inst.showPopup(this.popupMenu,this.m_popupButton,true)};GMAddPage.prototype.onSelectePopupItem=function(index){console.log("onSelectePopupItem "+index);this.currentPopupIndex=index;this.setItemPopup()};GMAddPage.prototype.selectPopupItem=function(index){this.popupMenu.setSelect(index)};GMAddPage.prototype.onTabShow=function(){};GMAddPage.prototype.onTabHide=function(){};GMAddPage.prototype.onClickListTopButton=function(){this.m_list.scrollPane.scrollTop()};GMAddPage.prototype.onClickListBottomButton=function(){this.m_list.scrollPane.scrollBottom()};GMAddPage.prototype.getData=function(index){return this.useListData[index]};GMAddPage.prototype.setItemPopup=function(){var items=[];var itemTypes=Games.GMAddType.getItemTypes(this.currentPopupIndex);if(!itemTypes||itemTypes.length==0){items=Game.config.item.getConfigList()}else{items=(_a=Game.config.item).getConfigsByType.apply(_a,itemTypes)}this.setListData(items);var _a};GMAddPage.prototype.setListData=function(items){this.listData=items;this.refreshList(items)};GMAddPage.prototype.setFilterData=function(items){this.filterData=items;this.refreshList(items)};GMAddPage.prototype.refreshList=function(items){this.useListData=items;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=items.length};GMAddPage.prototype.renderListItem=function(index,item){var data=this.getData(index);var itemData=Game.moduleModel.item.getItem(data.id);item.setItemData(itemData)};return GMAddPage}(GM.GMAddPageStruct));GM.GMAddPage=GMAddPage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMCmdItemStruct=(function(_super){__extends(GMCmdItemStruct,_super);function GMCmdItemStruct(){return _super.call(this)||this}GMCmdItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMCmdItem"))};GMCmdItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_button=(this.getChild("button"))};GMCmdItemStruct.URL="ui://ujw583ypket7n";GMCmdItemStruct.DependPackages=["GM"];return GMCmdItemStruct}(fairygui.GComponent));GM.GMCmdItemStruct=GMCmdItemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMCmdItem=(function(_super){__extends(GMCmdItem,_super);function GMCmdItem(){return _super!==null&&_super.apply(this,arguments)||this}GMCmdItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button.onClick(this,this.onClickButton)};GMCmdItem.prototype.setItemData=function(itemData){this.itemData=itemData;this.m_title.text=itemData.datatxt;this.m_name.text=itemData.title};GMCmdItem.prototype.onClickButton=function(){try{var json=JSON.parse(this.m_title.text);this.itemData.data=json;this.itemData.datatxt=this.m_title.text}catch(error){console.error(error)}Games.GM.sendCmd(this.itemData.name,this.itemData,this.cmdPage.selectSubMenu!=Games.GMCmdSubMenuType.HISTORY)};return GMCmdItem}(GM.GMCmdItemStruct));GM.GMCmdItem=GMCmdItem})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMCmdPageStruct=(function(_super){__extends(GMCmdPageStruct,_super);function GMCmdPageStruct(){return _super.call(this)||this}GMCmdPageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMCmdPage"))};GMCmdPageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_subMenuBar=(this.getChild("subMenuBar"));this.m_input=(this.getChild("input"));this.m_sendButton=(this.getChild("sendButton"));this.m_clearButton=(this.getChild("clearButton"))};GMCmdPageStruct.URL="ui://ujw583ypket7k";GMCmdPageStruct.DependPackages=["GM"];return GMCmdPageStruct}(fairygui.GComponent));GM.GMCmdPageStruct=GMCmdPageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMCmdPage=(function(_super){__extends(GMCmdPage,_super);function GMCmdPage(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dataList=[];return _this}GMCmdPage.prototype.onWindowInited=function(){this.m_subMenuBar.setListData(Games.GMCmdSubMenuType.list);this.m_subMenuBar.sOnSelect.add(this.onClickSubMenu,this);this.m_subMenuBar.select=Games.GMCmdSubMenuType.Server;this.m_sendButton.onClick(this,this.onClickSend);this.m_clearButton.onClick(this,this.onClickClear);Games.GM.historCmd.read();Laya.loader.load(Games.GM.serverCmdUrl,Handler.create(this,this.onLoadJson,[Games.GM.serverCmdUrl]));Laya.loader.load(Games.GM.clientCmdUrl,Handler.create(this,this.onLoadJson,[Games.GM.clientCmdUrl]))};Object.defineProperty(GMCmdPage.prototype,"inputTxt",{get:function(){return this.m_input.m_title.text},set:function(value){this.m_input.m_title.text=value},enumerable:true,configurable:true});Object.defineProperty(GMCmdPage.prototype,"selectSubMenu",{get:function(){return this.m_subMenuBar.select},enumerable:true,configurable:true});GMCmdPage.prototype.onLoadJson=function(url){var cmdList=Laya.loader.getRes(url);cmdList=isString(cmdList)?JSON.parse(cmdList):cmdList;switch(url){case Games.GM.serverCmdUrl:Games.GM.serverCmd.setList(cmdList,false);break;case Games.GM.clientCmdUrl:Games.GM.clientCmd.setList(cmdList,true);break}this.refreshList()};GMCmdPage.prototype.onClickSubMenu=function(menu){var _this=this;this.m_clearButton.visible=menu==Games.GMCmdSubMenuType.HISTORY;setTimeout(function(){_this.refreshList()},10)};GMCmdPage.prototype.onClickSend=function(){var isProto=false;var str=this.inputTxt;if(str.startsWith("eval")){eval(str.replace("eval",""))}var arr=this.inputTxt.split("\n");for(var i=0;i<arr.length;i++){var item=arr[i];if(item.indexOf(":")!=-1){var cmdName=item.substring(0,item.indexOf(":")).trim();var cmdData=item.substring(item.indexOf(":")+1,item.length);Games.GM.sendCmd(cmdName,cmdData,true);console.log(cmdName);console.log(cmdData);isProto=true}}this.m_subMenuBar.select=Games.GMCmdSubMenuType.HISTORY;if(!isProto){eval(str)}};GMCmdPage.prototype.onClickClear=function(){Games.GM.historCmd.clear();Games.GM.clientCmd.clearCache();Games.GM.serverCmd.clearCache();this.refreshList()};GMCmdPage.prototype.refreshList=function(){switch(this.selectSubMenu){case Games.GMCmdSubMenuType.Server:this.setList(Games.GM.serverCmd.list);break;case Games.GMCmdSubMenuType.Client:this.setList(Games.GM.clientCmd.list);break;case Games.GMCmdSubMenuType.HISTORY:this.setList(Games.GM.historCmd.list);break}};GMCmdPage.prototype.setList=function(items){this.dataList=items;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=items.length};GMCmdPage.prototype.renderListItem=function(index,item){var data=this.dataList[index];item.cmdPage=this;item.setItemData(data)};return GMCmdPage}(GM.GMCmdPageStruct));GM.GMCmdPage=GMCmdPage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMDebugPageStruct=(function(_super){__extends(GMDebugPageStruct,_super);function GMDebugPageStruct(){return _super.call(this)||this}GMDebugPageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMDebugPage"))};GMDebugPageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_subMenuBar=(this.getChild("subMenuBar"));this.m_clearButton=(this.getChild("clearButton"));this.m_refreshButton=(this.getChild("refreshButton"))};GMDebugPageStruct.URL="ui://ujw583ypfbyi8";GMDebugPageStruct.DependPackages=["GM"];return GMDebugPageStruct}(fairygui.GComponent));GM.GMDebugPageStruct=GMDebugPageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMDebugPage=(function(_super){__extends(GMDebugPage,_super);function GMDebugPage(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dataList=[];return _this}GMDebugPage.prototype.onWindowInited=function(){this.m_subMenuBar.setListData(Games.GMDeubgMenuType.list);this.m_subMenuBar.sOnSelect.add(this.onClickSubMenu,this);this.m_subMenuBar.select=Games.GMDeubgMenuType.list;this.m_clearButton.onClick(this,this.onClickClear);this.m_refreshButton.onClick(this,this.refreshList)};Object.defineProperty(GMDebugPage.prototype,"selectSubMenu",{get:function(){return this.m_subMenuBar.select},enumerable:true,configurable:true});GMDebugPage.prototype.onClickSubMenu=function(menu){var _this=this;setTimeout(function(){_this.refreshList()},10)};GMDebugPage.prototype.onClickClear=function(){GameDebug.clear();this.refreshList()};GMDebugPage.prototype.refreshList=function(){var menus=this.selectSubMenu;var items=GameDebug.getListByTypes(Games.GMDeubgMenuType.getLogTypes(menus));this.setList(items)};GMDebugPage.prototype.setList=function(items){this.dataList=items;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=items.length;if(list.numItems>0){list.scrollToView(list.numItems-1)}};GMDebugPage.prototype.renderListItem=function(index,item){var data=this.dataList[index];item.setData(data)};return GMDebugPage}(GM.GMDebugPageStruct));GM.GMDebugPage=GMDebugPage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMDisplayTreePageStruct=(function(_super){__extends(GMDisplayTreePageStruct,_super);function GMDisplayTreePageStruct(){return _super.call(this)||this}GMDisplayTreePageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMDisplayTreePage"))};GMDisplayTreePageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tree=(this.getChild("tree"));this.m_refreshButton=(this.getChild("refreshButton"));this.m_showSelectButton=(this.getChild("showSelectButton"));this.m_hideSelectButton=(this.getChild("hideSelectButton"));this.m_noSelectButton=(this.getChild("noSelectButton"));this.m_parentLayerButton=(this.getChild("parentLayerButton"));this.m_setLayerButton=(this.getChild("setLayerButton"))};GMDisplayTreePageStruct.URL="ui://ujw583ypx6hov";GMDisplayTreePageStruct.DependPackages=["GM"];return GMDisplayTreePageStruct}(fairygui.GComponent));GM.GMDisplayTreePageStruct=GMDisplayTreePageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMDisplayTreePage=(function(_super){__extends(GMDisplayTreePage,_super);function GMDisplayTreePage(){return _super!==null&&_super.apply(this,arguments)||this}GMDisplayTreePage.prototype.onWindowInited=function(){this.m_refreshButton.onClick(this,this.onClickRefreshButton);this.m_showSelectButton.onClick(this,this.onClickShowSelectButton);this.m_hideSelectButton.onClick(this,this.onClickHideSelectButton);this.m_noSelectButton.onClick(this,this.onClickNoSelectButton);this.m_parentLayerButton.onClick(this,this.onClickParentLayerButton);this.m_setLayerButton.onClick(this,this.onClickSetLayerButton)};GMDisplayTreePage.prototype.onClickRefreshButton=function(){this.m_tree.refresh()};GMDisplayTreePage.prototype.onClickShowSelectButton=function(){};GMDisplayTreePage.prototype.onClickHideSelectButton=function(){};GMDisplayTreePage.prototype.onClickNoSelectButton=function(){};GMDisplayTreePage.prototype.onClickParentLayerButton=function(){};GMDisplayTreePage.prototype.onClickSetLayerButton=function(){};return GMDisplayTreePage}(GM.GMDisplayTreePageStruct));GM.GMDisplayTreePage=GMDisplayTreePage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMLogItemStruct=(function(_super){__extends(GMLogItemStruct,_super);function GMLogItemStruct(){return _super.call(this)||this}GMLogItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMLogItem"))};GMLogItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};GMLogItemStruct.URL="ui://ujw583ypsy3ro";GMLogItemStruct.DependPackages=["GM"];return GMLogItemStruct}(fairygui.GLabel));GM.GMLogItemStruct=GMLogItemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMLogItem=(function(_super){__extends(GMLogItem,_super);function GMLogItem(){return _super!==null&&_super.apply(this,arguments)||this}GMLogItem.prototype.setData=function(data){this.data=data;try{this.title=data.msg}catch(e){}switch(data.logType){case LogType.Log:this.m_title.color="#121212";break;case LogType.Warn:this.m_title.color="#FFFF00";break;case LogType.Error:this.m_title.color="#FF0000";break}};return GMLogItem}(GM.GMLogItemStruct));GM.GMLogItem=GMLogItem})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMMainStruct=(function(_super){__extends(GMMainStruct,_super);function GMMainStruct(){return _super.call(this)||this}GMMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMMain"))};GMMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_mainMenu=(this.getChild("mainMenu"));this.m_debugPage=(this.getChild("debugPage"));this.m_addPage=(this.getChild("addPage"));this.m_selectServerPage=(this.getChild("selectServerPage"));this.m_closeButton=(this.getChild("closeButton"));this.m_cmdPage=(this.getChild("cmdPage"));this.m_displayTreePage=(this.getChild("displayTreePage"))};GMMainStruct.URL="ui://ujw583yp9nrl0";GMMainStruct.DependPackages=["GM"];return GMMainStruct}(fairygui.GComponent));GM.GMMainStruct=GMMainStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMMain=(function(_super){__extends(GMMain,_super);function GMMain(){return _super!==null&&_super.apply(this,arguments)||this}GMMain.prototype.onWindowInited=function(){this.m_closeButton.onClick(this.moduleWindow,this.moduleWindow.onMenuClose)};return GMMain}(GM.GMMainStruct));GM.GMMain=GMMain})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMMenuBarStruct=(function(_super){__extends(GMMenuBarStruct,_super);function GMMenuBarStruct(){return _super.call(this)||this}GMMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMMenuBar"))};GMMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_menuBar=(this.getChild("menuBar"));this.m_menuList=(this.getChild("menuList"))};GMMenuBarStruct.URL="ui://ujw583ypwl2t1";GMMenuBarStruct.DependPackages=["GM"];return GMMenuBarStruct}(fairygui.GComponent));GM.GMMenuBarStruct=GMMenuBarStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMMenuBar=(function(_super){__extends(GMMenuBar,_super);function GMMenuBar(){return _super!==null&&_super.apply(this,arguments)||this}GMMenuBar.prototype.onWindowInited=function(){this.m_menuList.setVirtual();this.m_menuList.setVirtualAndLoop();this.m_menuList.itemRenderer=Handler.create(this,this.renderListItem,null,false);this.m_menuList.numItems=Games.GMMenuType.list.length;this.m_menuList.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem)};GMMenuBar.prototype.renderListItem=function(index,obj){obj.title=Games.GMMenuType.list[index]};GMMenuBar.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.moduleWindow.openTab(item.title)};GMMenuBar.prototype.setSelect=function(menu){var index=Games.GMMenuType.list.indexOf(menu);this.m_menuList.addSelection(index,true)};return GMMenuBar}(GM.GMMenuBarStruct));GM.GMMenuBar=GMMenuBar})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupButtonStruct=(function(_super){__extends(GMPopupButtonStruct,_super);function GMPopupButtonStruct(){return _super.call(this)||this}GMPopupButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMPopupButton"))};GMPopupButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};GMPopupButtonStruct.URL="ui://ujw583ypm23g5";GMPopupButtonStruct.DependPackages=["GM"];return GMPopupButtonStruct}(fairygui.GButton));GM.GMPopupButtonStruct=GMPopupButtonStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupButton=(function(_super){__extends(GMPopupButton,_super);function GMPopupButton(){return _super!==null&&_super.apply(this,arguments)||this}return GMPopupButton}(GM.GMPopupButtonStruct));GM.GMPopupButton=GMPopupButton})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupMenuStruct=(function(_super){__extends(GMPopupMenuStruct,_super);function GMPopupMenuStruct(){return _super.call(this)||this}GMPopupMenuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMPopupMenu"))};GMPopupMenuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};GMPopupMenuStruct.URL="ui://ujw583ypm23g4";GMPopupMenuStruct.DependPackages=["GM"];return GMPopupMenuStruct}(fairygui.GComponent));GM.GMPopupMenuStruct=GMPopupMenuStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupMenu=(function(_super){__extends(GMPopupMenu,_super);function GMPopupMenu(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listData=[];_this.sOnSelect=new TypedSignal();return _this}GMPopupMenu.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem)};GMPopupMenu.prototype.setListData=function(listData){this.listData=listData;var list=this.m_list;list.removeChildrenToPool();for(var i=0;i<listData.length;i++){var item=list.addItemFromPool();item.title=listData[i]}list.resizeToFit()};GMPopupMenu.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.onselect(item.title);this.removeFromParent()};GMPopupMenu.prototype.onselect=function(value){this.sOnSelect.dispatch(value);if(this.mainButton){this.mainButton.title=value}};GMPopupMenu.prototype.setSelect=function(value){var index=this.listData.indexOf(value);this.m_list.addSelection(index,true);this.onselect(value)};return GMPopupMenu}(GM.GMPopupMenuStruct));GM.GMPopupMenu=GMPopupMenu})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupMenu_itemStruct=(function(_super){__extends(GMPopupMenu_itemStruct,_super);function GMPopupMenu_itemStruct(){return _super.call(this)||this}GMPopupMenu_itemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMPopupMenu_item"))};GMPopupMenu_itemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_checked=this.getController("checked");this.m_title=(this.getChild("title"))};GMPopupMenu_itemStruct.URL="ui://ujw583ypm23g3";GMPopupMenu_itemStruct.DependPackages=["GM"];return GMPopupMenu_itemStruct}(fairygui.GButton));GM.GMPopupMenu_itemStruct=GMPopupMenu_itemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMPopupMenu_item=(function(_super){__extends(GMPopupMenu_item,_super);function GMPopupMenu_item(){return _super!==null&&_super.apply(this,arguments)||this}return GMPopupMenu_item}(GM.GMPopupMenu_itemStruct));GM.GMPopupMenu_item=GMPopupMenu_item})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMResPageStruct=(function(_super){__extends(GMResPageStruct,_super);function GMResPageStruct(){return _super.call(this)||this}GMResPageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMResPage"))};GMResPageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_popupButton=(this.getChild("popupButton"));this.m_filterInput=(this.getChild("filterInput"));this.m_filterCheckbox=(this.getChild("filterCheckbox"));this.m_listTopButton=(this.getChild("listTopButton"));this.m_listBottomButton=(this.getChild("listBottomButton"))};GMResPageStruct.URL="ui://ujw583yplrid10";GMResPageStruct.DependPackages=["GM"];return GMResPageStruct}(fairygui.GComponent));GM.GMResPageStruct=GMResPageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMResPage=(function(_super){__extends(GMResPage,_super);function GMResPage(){return _super!==null&&_super.apply(this,arguments)||this}return GMResPage}(GM.GMResPageStruct));GM.GMResPage=GMResPage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMResTableItemStruct=(function(_super){__extends(GMResTableItemStruct,_super);function GMResTableItemStruct(){return _super.call(this)||this}GMResTableItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMResTableItem"))};GMResTableItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_id=(this.getChild("id"));this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"));this.m_title=(this.getChild("title"));this.m_describe=(this.getChild("describe"));this.m_button=(this.getChild("button"));this.m_numberInput=(this.getChild("numberInput"))};GMResTableItemStruct.URL="ui://ujw583yplrid12";GMResTableItemStruct.DependPackages=["GM"];return GMResTableItemStruct}(fairygui.GComponent));GM.GMResTableItemStruct=GMResTableItemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMResTableItem=(function(_super){__extends(GMResTableItem,_super);function GMResTableItem(){return _super!==null&&_super.apply(this,arguments)||this}return GMResTableItem}(GM.GMResTableItemStruct));GM.GMResTableItem=GMResTableItem})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSelectServerPageStruct=(function(_super){__extends(GMSelectServerPageStruct,_super);function GMSelectServerPageStruct(){return _super.call(this)||this}GMSelectServerPageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMSelectServerPage"))};GMSelectServerPageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};GMSelectServerPageStruct.URL="ui://ujw583ypket7j";GMSelectServerPageStruct.DependPackages=["GM"];return GMSelectServerPageStruct}(fairygui.GComponent));GM.GMSelectServerPageStruct=GMSelectServerPageStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSelectServerPage=(function(_super){__extends(GMSelectServerPage,_super);function GMSelectServerPage(){return _super!==null&&_super.apply(this,arguments)||this}GMSelectServerPage.prototype.onWindowInited=function(){var _this=this;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();this.channel=Games.ChannelManager.getInstance();this.channel.requestServerList(null,null,function(){list.on(fairygui.Events.CLICK_ITEM,_this,_this.onClickItem);list.itemRenderer=Handler.create(_this,_this.renderListItem,null,false);list.numItems=_this.channel.serverList.list.length;if(_this.channel.serverIndex>=0){_this.m_list.selectedIndex=_this.channel.serverIndex}},function(){list.numItems=0;Game.system.alertText(Games.TEXT.ErorRequestServerList)})};GMSelectServerPage.prototype.onTabShow=function(){if(this.channel.serverIndex>=0){this.m_list.selectedIndex=this.channel.serverIndex}};GMSelectServerPage.prototype.renderListItem=function(index,item){var data=this.channel.serverList.list[index];item.title=data.name+"  "+data.ip+":"+data.port;item.serverItem=data};GMSelectServerPage.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var data=item.serverItem;if(data){this.channel.serverName=data.name}};return GMSelectServerPage}(GM.GMSelectServerPageStruct));GM.GMSelectServerPage=GMSelectServerPage})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSubMenuBarStruct=(function(_super){__extends(GMSubMenuBarStruct,_super);function GMSubMenuBarStruct(){return _super.call(this)||this}GMSubMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMSubMenuBar"))};GMSubMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_menuBar=(this.getChild("menuBar"));this.m_subMenu=(this.getChild("subMenu"))};GMSubMenuBarStruct.URL="ui://ujw583ypfbyi6";GMSubMenuBarStruct.DependPackages=["GM"];return GMSubMenuBarStruct}(fairygui.GComponent));GM.GMSubMenuBarStruct=GMSubMenuBarStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSubMenuBar=(function(_super){__extends(GMSubMenuBar,_super);function GMSubMenuBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sOnSelect=new TypedSignal();return _this}GMSubMenuBar.prototype.setListData=function(listData){this.listData=listData;var list=this.m_subMenu;list.setVirtual();list.setVirtualAndLoop();list.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);list.itemRenderer=Handler.create(this,this.renderListItem,null,false);list.numItems=listData.length};Object.defineProperty(GMSubMenuBar.prototype,"select",{get:function(){var list=this.m_subMenu.getSelection();var menus=[];for(var i=0;i<list.length;i++){menus.push(this.listData[list[i]])}return menus},set:function(menus){this.m_subMenu.clearSelection();for(var i=0;i<this.listData.length;i++){if(menus.indexOf(this.listData[i])!=-1){this.m_subMenu.addSelection(i)}}this.sOnSelect.dispatch(menus)},enumerable:true,configurable:true});GMSubMenuBar.prototype.renderListItem=function(index,item){item.title=this.listData[index]};GMSubMenuBar.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.sOnSelect.dispatch(this.select)};return GMSubMenuBar}(GM.GMSubMenuBarStruct));GM.GMSubMenuBar=GMSubMenuBar})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSubMenuRadioBarStruct=(function(_super){__extends(GMSubMenuRadioBarStruct,_super);function GMSubMenuRadioBarStruct(){return _super.call(this)||this}GMSubMenuRadioBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","GMSubMenuRadioBar"))};GMSubMenuRadioBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_menuBar=(this.getChild("menuBar"));this.m_subMenu=(this.getChild("subMenu"))};GMSubMenuRadioBarStruct.URL="ui://ujw583ypket7l";GMSubMenuRadioBarStruct.DependPackages=["GM"];return GMSubMenuRadioBarStruct}(fairygui.GComponent));GM.GMSubMenuRadioBarStruct=GMSubMenuRadioBarStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var GMSubMenuRadioBar=(function(_super){__extends(GMSubMenuRadioBar,_super);function GMSubMenuRadioBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sOnSelect=new TypedSignal();return _this}GMSubMenuRadioBar.prototype.setListData=function(listData){this.listData=listData;var list=this.m_subMenu;list.setVirtual();list.setVirtualAndLoop();list.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);list.itemRenderer=Handler.create(this,this.renderListItem,null,false);list.numItems=listData.length};Object.defineProperty(GMSubMenuRadioBar.prototype,"select",{get:function(){if(this.m_subMenu.selectedIndex>=0){return this.listData[this.m_subMenu.selectedIndex]}return null},set:function(menu){this.m_subMenu.selectedIndex=this.listData.indexOf(menu);this.sOnSelect.dispatch(menu)},enumerable:true,configurable:true});GMSubMenuRadioBar.prototype.renderListItem=function(index,item){item.title=this.listData[index]};GMSubMenuRadioBar.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.sOnSelect.dispatch(item.title)};return GMSubMenuRadioBar}(GM.GMSubMenuRadioBarStruct));GM.GMSubMenuRadioBar=GMSubMenuRadioBar})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var NumberInputStruct=(function(_super){__extends(NumberInputStruct,_super);function NumberInputStruct(){return _super.call(this)||this}NumberInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","NumberInput"))};NumberInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_downButton=(this.getChild("downButton"));this.m_upButton=(this.getChild("upButton"))};NumberInputStruct.URL="ui://ujw583ypfv0tf";NumberInputStruct.DependPackages=["GM"];return NumberInputStruct}(fairygui.GComponent));GM.NumberInputStruct=NumberInputStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var NumberInput=(function(_super){__extends(NumberInput,_super);function NumberInput(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.downTimeoutHandler=-1;_this.downIntervalHandler=-1;_this.upTimeoutHandler=-1;_this.isDowning=false;return _this}NumberInput.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_upButton.onClick(this,this.onClickUpButton);this.m_downButton.onClick(this,this.onClickDownButton);this.m_upButton.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDownUpButton);this.m_downButton.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDownDownButton);this.m_upButton.on(laya.events.Event.MOUSE_UP,this,this.onMouseUP);this.m_downButton.on(laya.events.Event.MOUSE_UP,this,this.onMouseUP);this.m_upButton.on(laya.events.Event.MOUSE_OUT,this,this.onMouseUP);this.m_downButton.on(laya.events.Event.MOUSE_OUT,this,this.onMouseUP)};NumberInput.prototype.onClickUpButton=function(){if(!this.isDowning){this.value+=this.onceValue}this.isDowning=false};NumberInput.prototype.onClickDownButton=function(){if(!this.isDowning){this.value-=this.onceValue}this.isDowning=false};NumberInput.prototype.onMouseDownUpButton=function(){var _this=this;if(this.upTimeoutHandler!=-1){clearTimeout(this.upTimeoutHandler);this.upTimeoutHandler=-1}this.downTimeoutHandler=setTimeout(function(){_this.isDowning=true;_this.downIntervalHandler=setInterval(function(){_this.value+=_this.onceValue},10)},200)};NumberInput.prototype.onMouseDownDownButton=function(){var _this=this;if(this.upTimeoutHandler!=-1){clearTimeout(this.upTimeoutHandler);this.upTimeoutHandler=-1}this.downTimeoutHandler=setTimeout(function(){_this.isDowning=true;_this.downIntervalHandler=setInterval(function(){_this.value-=_this.onceValue},10)},200)};NumberInput.prototype.onMouseUP=function(){var _this=this;if(this.downTimeoutHandler!=-1){clearTimeout(this.downTimeoutHandler);this.downTimeoutHandler=-1}if(this.downIntervalHandler!=-1){clearInterval(this.downIntervalHandler);this.downIntervalHandler=-1}if(this.isDowning){this.upTimeoutHandler=setTimeout(function(){_this.isDowning=false},200)}};Object.defineProperty(NumberInput.prototype,"onceValue",{get:function(){var length=Math.abs(this.value).toString().length-1;var v=1;for(var i=1;i<length;i++){v*=10}return v},enumerable:true,configurable:true});Object.defineProperty(NumberInput.prototype,"value",{get:function(){if(isNullOrEmpty(this.m_title.text)){return 0}return toInt(this.m_title.text)},set:function(val){this.m_title.text=val.toString()},enumerable:true,configurable:true});return NumberInput}(GM.NumberInputStruct));GM.NumberInput=NumberInput})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TextAreaStruct=(function(_super){__extends(TextAreaStruct,_super);function TextAreaStruct(){return _super.call(this)||this}TextAreaStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TextArea"))};TextAreaStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextAreaStruct.URL="ui://ujw583ypket7m";TextAreaStruct.DependPackages=["GM"];return TextAreaStruct}(fairygui.GButton));GM.TextAreaStruct=TextAreaStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TextArea=(function(_super){__extends(TextArea,_super);function TextArea(){return _super!==null&&_super.apply(this,arguments)||this}return TextArea}(GM.TextAreaStruct));GM.TextArea=TextArea})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TextInputStruct=(function(_super){__extends(TextInputStruct,_super);function TextInputStruct(){return _super.call(this)||this}TextInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TextInput"))};TextInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextInputStruct.URL="ui://ujw583ypfv0tb";TextInputStruct.DependPackages=["GM"];return TextInputStruct}(fairygui.GButton));GM.TextInputStruct=TextInputStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TextInput=(function(_super){__extends(TextInput,_super);function TextInput(){return _super!==null&&_super.apply(this,arguments)||this}return TextInput}(GM.TextInputStruct));GM.TextInput=TextInput})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeStruct=(function(_super){__extends(TreeStruct,_super);function TreeStruct(){return _super.call(this)||this}TreeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","Tree"))};TreeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TreeStruct.URL="ui://ujw583ypx6hop";TreeStruct.DependPackages=["GM"];return TreeStruct}(fairygui.GComponent));GM.TreeStruct=TreeStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var Tree=(function(_super){__extends(Tree,_super);function Tree(){var _this=_super.call(this)||this;_this.layerLevelInitPaddingLeft=60;_this.layerLevelPaddingLeft=50;_this.itemPool=new fairygui.GObjectPool();return _this}Tree.prototype.refresh=function(){if(this.data){this.setDataRoot(this.data)}else{this.setDataRoot(fairygui.GRoot.inst)}};Tree.prototype.setDataRoot=function(dataRoot){this.data=dataRoot;var item;if(this.itemRoot){item=this.itemRoot}else{item=this.itemPool.getObject(GM.TreeItem.URL);item.treeParent=this;item.treeRoot=this;this.addChild(item)}item.setData(dataRoot);this.itemRoot=item;this.updateLayout()};Tree.prototype.updateLayout=function(){this.itemRoot.updateLayout()};return Tree}(GM.TreeStruct));GM.Tree=Tree})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItemStruct=(function(_super){__extends(TreeItemStruct,_super);function TreeItemStruct(){return _super.call(this)||this}TreeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TreeItem"))};TreeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_visiable=(this.getChild("visiable"));this.m_openClose=(this.getChild("openClose"));this.m_list=(this.getChild("list"))};TreeItemStruct.URL="ui://ujw583ypx6hot";TreeItemStruct.DependPackages=["GM"];return TreeItemStruct}(fairygui.GButton));GM.TreeItemStruct=TreeItemStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItem=(function(_super){__extends(TreeItem,_super);function TreeItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.layerLevel=0;return _this}TreeItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visiable.onClick(this,this.onClickVisiableButton);this.m_openClose.onClick(this,this.onClickOpencloseButton)};TreeItem.prototype.onClickVisiableButton=function(){this.data.visible=!this.data.visible};TreeItem.prototype.onClickOpencloseButton=function(){this.m_list.visible=!this.m_list.visible;this.treeRoot.updateLayout()};TreeItem.prototype.setData=function(data,layerLevel){if(layerLevel===void 0){layerLevel=0}var otherText="";if(data instanceof fairygui.GTextField){otherText=data.font+" "+data.fontSize}this.data=data;this.m_title.text=data.name+"("+getClassName(data)+") w="+data.width+", h="+data.height+", sxy="+data.scaleX+" "+data.scaleY+" "+otherText;this.m_visiable.selected=data.visible;this.m_openClose.selected=true;this.m_list.visible=true;this.width=this.treeParent.width;this.m_title.x=this.treeRoot.layerLevelInitPaddingLeft+this.treeRoot.layerLevelPaddingLeft*layerLevel;this.m_title.width=this.width-this.m_title.x;this.m_list.width=this.treeParent.width;for(var i=this.m_list.numChildren-1;i>=0;i--){var item=this.m_list.getChildAt(i);item.removeFromParent();this.treeRoot.itemPool.returnObject(item)}this.m_openClose.visible=false;if(data instanceof fairygui.GComponent||data instanceof laya.display.Sprite){this.m_openClose.visible=true;if(data==Games.MenuLayer.gm){return}var container=data;if(data instanceof fairygui.GComponent){container=data.displayObject}for(var i=0;i<container.numChildren;i++){var display=container.getChildAt(i);if(display["$owner"]){display=display["$owner"]}var item=this.treeRoot.itemPool.getObject(TreeItem.URL);item.treeParent=this;item.treeRoot=this.treeRoot;item.y=i*item.sourceHeight;item.width=this.m_list.width;this.m_list.addChild(item);item.setData(display,layerLevel+1)}}};TreeItem.prototype.updateLayout=function(){var y=0;if(this.m_list.visible){for(var i=0;i<this.m_list.numChildren;i++){var item=this.m_list.getChildAt(i);item.updateLayout();item.y=y;y+=item.height}}this.m_list.height=y;this.height=this.sourceHeight+y};return TreeItem}(GM.TreeItemStruct));GM.TreeItem=TreeItem})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItemCheckboxStruct=(function(_super){__extends(TreeItemCheckboxStruct,_super);function TreeItemCheckboxStruct(){return _super.call(this)||this}TreeItemCheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TreeItemCheckbox"))};TreeItemCheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};TreeItemCheckboxStruct.URL="ui://ujw583ypx6hou";TreeItemCheckboxStruct.DependPackages=["GM"];return TreeItemCheckboxStruct}(fairygui.GButton));GM.TreeItemCheckboxStruct=TreeItemCheckboxStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItemCheckbox=(function(_super){__extends(TreeItemCheckbox,_super);function TreeItemCheckbox(){return _super!==null&&_super.apply(this,arguments)||this}return TreeItemCheckbox}(GM.TreeItemCheckboxStruct));GM.TreeItemCheckbox=TreeItemCheckbox})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItemOpenCheckboxStruct=(function(_super){__extends(TreeItemOpenCheckboxStruct,_super);function TreeItemOpenCheckboxStruct(){return _super.call(this)||this}TreeItemOpenCheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TreeItemOpenCheckbox"))};TreeItemOpenCheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_close=(this.getChild("close"));this.m_open=(this.getChild("open"))};TreeItemOpenCheckboxStruct.URL="ui://ujw583ypx6how";TreeItemOpenCheckboxStruct.DependPackages=["GM"];return TreeItemOpenCheckboxStruct}(fairygui.GButton));GM.TreeItemOpenCheckboxStruct=TreeItemOpenCheckboxStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeItemOpenCheckbox=(function(_super){__extends(TreeItemOpenCheckbox,_super);function TreeItemOpenCheckbox(){return _super!==null&&_super.apply(this,arguments)||this}return TreeItemOpenCheckbox}(GM.TreeItemOpenCheckboxStruct));GM.TreeItemOpenCheckbox=TreeItemOpenCheckbox})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeListStruct=(function(_super){__extends(TreeListStruct,_super);function TreeListStruct(){return _super.call(this)||this}TreeListStruct.createInstance=function(){return(fairygui.UIPackage.createObject("GM","TreeList"))};TreeListStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TreeListStruct.URL="ui://ujw583ypx6hoz";TreeListStruct.DependPackages=["GM"];return TreeListStruct}(fairygui.GComponent));GM.TreeListStruct=TreeListStruct})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var GM;(function(GM){var TreeList=(function(_super){__extends(TreeList,_super);function TreeList(){return _super!==null&&_super.apply(this,arguments)||this}return TreeList}(GM.TreeListStruct));GM.TreeList=TreeList})(GM=fgui.GM||(fgui.GM={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideClickHandStruct=(function(_super){__extends(GuideClickHandStruct,_super);function GuideClickHandStruct(){return _super.call(this)||this}GuideClickHandStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideClickHand"))};GuideClickHandStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_hand_dir=this.getController("c_hand_dir");this.m_c_circle_visible=this.getController("c_circle_visible");this.m_circle=(this.getChild("circle"));this.m_hand=(this.getChild("hand"));this.m_tcircle=this.getTransition("tcircle")};GuideClickHandStruct.URL="ui://toebkrsrhz3mp";GuideClickHandStruct.DependPackages=["Guide"];return GuideClickHandStruct}(fairygui.GComponent));Guide.GuideClickHandStruct=GuideClickHandStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideClickHand=(function(_super){__extends(GuideClickHand,_super);function GuideClickHand(){return _super!==null&&_super.apply(this,arguments)||this}GuideClickHand.prototype.onWindowDestory=function(){this.removeFromParent();return true};return GuideClickHand}(Guide.GuideClickHandStruct));Guide.GuideClickHand=GuideClickHand})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogStruct=(function(_super){__extends(GuideDialogStruct,_super);function GuideDialogStruct(){return _super.call(this)||this}GuideDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideDialog"))};GuideDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dir=this.getController("dir");this.m_bg=(this.getChild("bg"));this.m_bgShadow=(this.getChild("bgShadow"));this.m_title=(this.getChild("title"));this.m_arrowRight=(this.getChild("arrowRight"));this.m_arrowLeft=(this.getChild("arrowLeft"))};GuideDialogStruct.URL="ui://toebkrsrhz3ms";GuideDialogStruct.DependPackages=["Guide","Common"];return GuideDialogStruct}(fairygui.GLabel));Guide.GuideDialogStruct=GuideDialogStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialog=(function(_super){__extends(GuideDialog,_super);function GuideDialog(){return _super!==null&&_super.apply(this,arguments)||this}return GuideDialog}(Guide.GuideDialogStruct));Guide.GuideDialog=GuideDialog})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogMinPanelStruct=(function(_super){__extends(GuideDialogMinPanelStruct,_super);function GuideDialogMinPanelStruct(){return _super.call(this)||this}GuideDialogMinPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideDialogMinPanel"))};GuideDialogMinPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dialog=(this.getChild("dialog"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};GuideDialogMinPanelStruct.URL="ui://toebkrsrji9k1p";GuideDialogMinPanelStruct.DependPackages=["Guide"];return GuideDialogMinPanelStruct}(fairygui.GComponent));Guide.GuideDialogMinPanelStruct=GuideDialogMinPanelStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogMinPanel=(function(_super){__extends(GuideDialogMinPanel,_super);function GuideDialogMinPanel(){return _super!==null&&_super.apply(this,arguments)||this}return GuideDialogMinPanel}(Guide.GuideDialogMinPanelStruct));Guide.GuideDialogMinPanel=GuideDialogMinPanel})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogMsgPanelStruct=(function(_super){__extends(GuideDialogMsgPanelStruct,_super);function GuideDialogMsgPanelStruct(){return _super.call(this)||this}GuideDialogMsgPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideDialogMsgPanel"))};GuideDialogMsgPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dir=this.getController("dir");this.m_bg=(this.getChild("bg"));this.m_bgShadow=(this.getChild("bgShadow"));this.m_title=(this.getChild("title"));this.m_arrowRight=(this.getChild("arrowRight"));this.m_arrowLeft=(this.getChild("arrowLeft"))};GuideDialogMsgPanelStruct.URL="ui://toebkrsr9wvb1o";GuideDialogMsgPanelStruct.DependPackages=["Guide","Common"];return GuideDialogMsgPanelStruct}(fairygui.GLabel));Guide.GuideDialogMsgPanelStruct=GuideDialogMsgPanelStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogMsgPanel=(function(_super){__extends(GuideDialogMsgPanel,_super);function GuideDialogMsgPanel(){return _super!==null&&_super.apply(this,arguments)||this}return GuideDialogMsgPanel}(Guide.GuideDialogMsgPanelStruct));Guide.GuideDialogMsgPanel=GuideDialogMsgPanel})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideLeftDialogStruct=(function(_super){__extends(GuideLeftDialogStruct,_super);function GuideLeftDialogStruct(){return _super.call(this)||this}GuideLeftDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideLeftDialog"))};GuideLeftDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_dialog=(this.getChild("dialog"));this.m_t0=this.getTransition("t0")};GuideLeftDialogStruct.URL="ui://toebkrsrgn0t1b";GuideLeftDialogStruct.DependPackages=["Guide"];return GuideLeftDialogStruct}(fairygui.GComponent));Guide.GuideLeftDialogStruct=GuideLeftDialogStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideLeftDialog=(function(_super){__extends(GuideLeftDialog,_super);function GuideLeftDialog(){return _super!==null&&_super.apply(this,arguments)||this}return GuideLeftDialog}(Guide.GuideLeftDialogStruct));Guide.GuideLeftDialog=GuideLeftDialog})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideMinDialogStruct=(function(_super){__extends(GuideMinDialogStruct,_super);function GuideMinDialogStruct(){return _super.call(this)||this}GuideMinDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideMinDialog"))};GuideMinDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};GuideMinDialogStruct.URL="ui://toebkrsrhz3mq";GuideMinDialogStruct.DependPackages=["Guide","Common"];return GuideMinDialogStruct}(fairygui.GButton));Guide.GuideMinDialogStruct=GuideMinDialogStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideMinDialog=(function(_super){__extends(GuideMinDialog,_super);function GuideMinDialog(){return _super!==null&&_super.apply(this,arguments)||this}GuideMinDialog.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon.icon=Game.config.avatar.getConfig(9991).bodyIconUrl};return GuideMinDialog}(Guide.GuideMinDialogStruct));Guide.GuideMinDialog=GuideMinDialog})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideNpcIntroductionUIStruct=(function(_super){__extends(GuideNpcIntroductionUIStruct,_super);function GuideNpcIntroductionUIStruct(){return _super.call(this)||this}GuideNpcIntroductionUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideNpcIntroductionUI"))};GuideNpcIntroductionUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_bgmodel=(this.getChild("bgmodel"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_desc=(this.getChild("desc"))};GuideNpcIntroductionUIStruct.URL="ui://toebkrsrs9dx1f";GuideNpcIntroductionUIStruct.DependPackages=["Guide","System","Common","PfSkin"];return GuideNpcIntroductionUIStruct}(fairygui.GComponent));Guide.GuideNpcIntroductionUIStruct=GuideNpcIntroductionUIStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideNpcIntroductionUI=(function(_super){__extends(GuideNpcIntroductionUI,_super);function GuideNpcIntroductionUI(){return _super!==null&&_super.apply(this,arguments)||this}return GuideNpcIntroductionUI}(Guide.GuideNpcIntroductionUIStruct));Guide.GuideNpcIntroductionUI=GuideNpcIntroductionUI})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideRightDialogStruct=(function(_super){__extends(GuideRightDialogStruct,_super);function GuideRightDialogStruct(){return _super.call(this)||this}GuideRightDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideRightDialog"))};GuideRightDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_dialog=(this.getChild("dialog"));this.m_t0=this.getTransition("t0")};GuideRightDialogStruct.URL="ui://toebkrsrgn0t1c";GuideRightDialogStruct.DependPackages=["Guide"];return GuideRightDialogStruct}(fairygui.GComponent));Guide.GuideRightDialogStruct=GuideRightDialogStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideRightDialog=(function(_super){__extends(GuideRightDialog,_super);function GuideRightDialog(){return _super!==null&&_super.apply(this,arguments)||this}return GuideRightDialog}(Guide.GuideRightDialogStruct));Guide.GuideRightDialog=GuideRightDialog})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTalkItemStruct=(function(_super){__extends(GuideTalkItemStruct,_super);function GuideTalkItemStruct(){return _super.call(this)||this}GuideTalkItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideTalkItem"))};GuideTalkItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dir=this.getController("dir");this.m_testlabel=(this.getChild("testlabel"));this.m_headl=(this.getChild("headl"));this.m_dialogl=(this.getChild("dialogl"));this.m_headr=(this.getChild("headr"));this.m_dialogr=(this.getChild("dialogr"))};GuideTalkItemStruct.URL="ui://toebkrsr9q7z1j";GuideTalkItemStruct.DependPackages=["Guide","WarMovie","Common"];return GuideTalkItemStruct}(fairygui.GComponent));Guide.GuideTalkItemStruct=GuideTalkItemStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTalkItem=(function(_super){__extends(GuideTalkItem,_super);function GuideTalkItem(){return _super!==null&&_super.apply(this,arguments)||this}GuideTalkItem.prototype.updateView=function(config){switch(config.anchor){case Games.GuideAnchor.Left:this.m_dir.selectedIndex=0;this.m_headl.m_icon.icon=config.bodyIconUrl;this.m_dialogr.text=config.content;this.m_dialogl.text=config.content;break;case Games.GuideAnchor.Right:this.m_dir.selectedIndex=1;this.m_headr.m_icon.icon=config.bodyIconUrl;this.m_dialogr.text=config.content;this.m_dialogl.text=config.content;break;default:break}this.m_testlabel.visible=false;this.m_testlabel.text=config.content};return GuideTalkItem}(Guide.GuideTalkItemStruct));Guide.GuideTalkItem=GuideTalkItem})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskItemStruct=(function(_super){__extends(GuideTaskItemStruct,_super);function GuideTaskItemStruct(){return _super.call(this)||this}GuideTaskItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideTaskItem"))};GuideTaskItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_finished=this.getController("finished");this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_right=(this.getChild("right"))};GuideTaskItemStruct.URL="ui://toebkrsrhz3m16";GuideTaskItemStruct.DependPackages=["Guide","Common"];return GuideTaskItemStruct}(fairygui.GLabel));Guide.GuideTaskItemStruct=GuideTaskItemStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskItem=(function(_super){__extends(GuideTaskItem,_super);function GuideTaskItem(){return _super!==null&&_super.apply(this,arguments)||this}GuideTaskItem.prototype.updateView=function(task){this.m_finished.selectedIndex=task.isFinished?0:1;this.m_title.text=task.mainTaskDesc};return GuideTaskItem}(Guide.GuideTaskItemStruct));Guide.GuideTaskItem=GuideTaskItem})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskRecordUIStruct=(function(_super){__extends(GuideTaskRecordUIStruct,_super);function GuideTaskRecordUIStruct(){return _super.call(this)||this}GuideTaskRecordUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideTaskRecordUI"))};GuideTaskRecordUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_closeBtn=(this.getChild("closeBtn"))};GuideTaskRecordUIStruct.URL="ui://toebkrsrhz3m15";GuideTaskRecordUIStruct.DependPackages=["Guide","Common"];return GuideTaskRecordUIStruct}(fairygui.GComponent));Guide.GuideTaskRecordUIStruct=GuideTaskRecordUIStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskRecordUI=(function(_super){__extends(GuideTaskRecordUI,_super);function GuideTaskRecordUI(){return _super!==null&&_super.apply(this,arguments)||this}GuideTaskRecordUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.setVirtual();this.m_list.itemRenderer=Handler.create(this,this.onUpdateItemRender,null,false)};GuideTaskRecordUI.prototype.onUpdateItemRender=function(index,item){var item1=item;item1.updateView(this.storyLists[index])};GuideTaskRecordUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn)};GuideTaskRecordUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn)};GuideTaskRecordUI.prototype.onClickCloseBtn=function(){this.hide()};GuideTaskRecordUI.prototype.show=function(){this.visible=true;this.storyLists=Game.moduleModel.guide.storyLists;this.m_list.numItems=this.storyLists.length};GuideTaskRecordUI.prototype.hide=function(){this.visible=false};return GuideTaskRecordUI}(Guide.GuideTaskRecordUIStruct));Guide.GuideTaskRecordUI=GuideTaskRecordUI})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskUIStruct=(function(_super){__extends(GuideTaskUIStruct,_super);function GuideTaskUIStruct(){return _super.call(this)||this}GuideTaskUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideTaskUI"))};GuideTaskUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_desc=(this.getChild("desc"));this.m_rewardlist=(this.getChild("rewardlist"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_recordsBtn=(this.getChild("recordsBtn"));this.m_goBtn=(this.getChild("goBtn"));this.m_getBtn=(this.getChild("getBtn"));this.m_taskDesc=(this.getChild("taskDesc"));this.m_recordPanel=(this.getChild("recordPanel"))};GuideTaskUIStruct.URL="ui://toebkrsrhz3mz";GuideTaskUIStruct.DependPackages=["Guide","System","Common","PfSkin"];return GuideTaskUIStruct}(fairygui.GComponent));Guide.GuideTaskUIStruct=GuideTaskUIStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideTaskUI=(function(_super){__extends(GuideTaskUI,_super);function GuideTaskUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isGettingReward=false;return _this}GuideTaskUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardlist.itemRenderer=Handler.create(this,this.onUpdateItemRender,null,false);this.m_goBtn.text="Go";this.m_getBtn.text="Get"};GuideTaskUI.prototype.onUpdateItemRender=function(index,item){var item1=item;item1.updateViewByDTNum(this.mainTask.config.reward[index])};GuideTaskUI.prototype.updateView=function(){this.mainTask=Game.moduleModel.task.getCurrentMainTask();this.m_getBtn.visible=false;this.m_goBtn.visible=false;if(this.mainTask){this.m_taskDesc.updateView(this.mainTask);this.m_title.text=this.mainTask.mainConfig.content;this.m_rewardlist.numItems=this.mainTask.config.reward.length;if(this.mainTask.isFinished){this.m_getBtn.visible=true;this.m_desc.text=this.mainTask.mainConfig.cinfo}else{this.m_goBtn.visible=true;this.m_desc.text=this.mainTask.mainConfig.info}}};GuideTaskUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_getBtn.offClick(this,this.onClickGetBtn);this.m_goBtn.offClick(this,this.onClickGoBtn);this.m_recordsBtn.offClick(this,this.onClickRecordBtn);Game.protoOkEvent.remove(ProtoEventKey.task_reward,this.onTaskRewardHandler,this);clearTimeout(this.closeTimeHandler)};GuideTaskUI.prototype.onRemoved=function(){console.log("ffsfdsfds")};GuideTaskUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_getBtn.onClick(this,this.onClickGetBtn);this.m_goBtn.onClick(this,this.onClickGoBtn);this.m_recordsBtn.onClick(this,this.onClickRecordBtn);this.m_getBtn.on(Laya.Event.REMOVED,this,this.onRemoved);this.isGettingReward=false;Game.protoOkEvent.add(ProtoEventKey.task_reward,this.onTaskRewardHandler,this);this.updateView();this.m_recordPanel.hide()};GuideTaskUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};GuideTaskUI.prototype.onTaskRewardHandler=function(msg){this.onClickCloseBtn()};GuideTaskUI.prototype.onClickGetBtn=function(){if(this.isGettingReward==false){this.isGettingReward=true;Game.guide.clearGuide();Game.protosender.task.reward(this.mainTask.uuid)}};GuideTaskUI.prototype.onClickGoBtn=function(){if(this.mainTask.mainConfig.guide_id>0){this.onClickCloseBtn();Game.guide.readyPlayGuide(this.mainTask.mainConfig.guide_id)}};GuideTaskUI.prototype.onClickRecordBtn=function(){this.m_recordPanel.show()};return GuideTaskUI}(Guide.GuideTaskUIStruct));Guide.GuideTaskUI=GuideTaskUI})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideUIStruct=(function(_super){__extends(GuideUIStruct,_super);function GuideUIStruct(){return _super.call(this)||this}GuideUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","GuideUI"))};GuideUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_visible=this.getController("visible");this.m_dialog=(this.getChild("dialog"));this.m_right=(this.getChild("right"));this.m_left=(this.getChild("left"));this.m_hand=(this.getChild("hand"));this.m_npcIntroPanel=(this.getChild("npcIntroPanel"));this.m_haibao=(this.getChild("haibao"))};GuideUIStruct.URL="ui://toebkrsrgn0t1a";GuideUIStruct.DependPackages=["Guide","System","Common"];return GuideUIStruct}(fairygui.GComponent));Guide.GuideUIStruct=GuideUIStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var GuideDialogType=Games.GuideDialogType;var GuideUI=(function(_super){__extends(GuideUI,_super);function GuideUI(){return _super!==null&&_super.apply(this,arguments)||this}GuideUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.displayObject.cacheAs="bitmap";this.maskArea=new Laya.Sprite();this.maskArea.alpha=0.5;this.maskArea.graphics.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#000000");this.displayObject.addChildAt(this.maskArea,0);this.interactionArea=new Laya.Sprite();this.interactionArea.blendMode="destination-out";this.displayObject.addChildAt(this.interactionArea,1);this.hitArea=new Laya.HitArea();this.hitArea.hit.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#000000");this.displayObject.hitArea=this.hitArea;this.displayObject.mouseEnabled=true;this.m_hand.touchable=false;this.hideAll();this.hideHand();this.m_hand.m_c_circle_visible.selectedIndex=1};GuideUI.prototype.onWindowDestory=function(){this.removeFromParent();return true};GuideUI.prototype.recyclingHand=function(){this.m_hand.removeFromParent();this.hideHand()};GuideUI.prototype.setMaskIndex=function(){this.displayObject.addChildAt(this.maskArea,0);this.displayObject.addChildAt(this.interactionArea,1)};GuideUI.prototype.hideAll=function(){this.m_visible.selectedIndex=GuideDialogType.Hide};GuideUI.prototype.onRemoved=function(){console.log("removed",this.targetBtn)};GuideUI.prototype.showFinger=function(btn,config){var _this=this;btn.on(Laya.Event.REMOVED,this,this.onRemoved);this.targetBtn=btn;var fingerDirction=config.f_direction;var radius=config.radius;var showCircle=config.halo;this.m_hand.visible=true;this.m_hand.removeFromParent();this.m_hand.m_c_hand_dir.selectedIndex=fingerDirction;this.m_hand.m_hand.m_t0.play(null,-1);this.m_hand.m_tcircle.stop();var guidePathConfig=Game.config.guidePath.getConfig(config.path_id);if(guidePathConfig&&GuideHelp.getIsOpenMenuByMenuId(guidePathConfig.menuid)==false){return}if(showCircle){this.m_hand.m_c_circle_visible.selectedIndex=0;this.m_hand.m_tcircle.play(null,-1)}else{this.m_hand.m_c_circle_visible.selectedIndex=1;this.m_hand.m_tcircle.stop()}var x=0;var y=0;if(this.isForce){var globalPos=btn.localToGlobal(btn.width>>1,btn.height>>1);x=globalPos.x;y=globalPos.y;this.interactionArea.graphics.clear();this.interactionArea.graphics.drawCircle(0,0,radius,"#000000");this.interactionArea.pivot(0.5,0.5);this.interactionArea.pos(x,y);this.hitArea.unHit.clear();this.hitArea.unHit.drawCircle(x,y,radius,"#000000");this.m_hand.setXY(x,y);this.addChild(this.m_hand)}else{this.hitArea.unHit.clear();this.hitArea.unHit.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#000000");this.clearBtnIntval();var guidePathConfig_1=Game.config.guidePath.getConfig(config.path_id);if(guidePathConfig_1){var globalPos=this.targetBtn.localToGlobal(this.targetBtn.width>>1,this.targetBtn.height>>1);var x_1=globalPos.x;var y_1=globalPos.y;this.fingerParent=GuideHelp.getGuideMenuWindow(guidePathConfig_1,config);if(this.fingerParent&&guidePathConfig_1.add_btn!=1){this.fingerParent.globalToLocal(x_1,y_1,globalPos);this.m_hand.setXY(globalPos.x,globalPos.y)}else{this.fingerParent=btn}this.fingerParent.addChild(this.m_hand);for(var index=0;index<this.fingerParent.numChildren;index++){var element=this.fingerParent.getChildAt(index)}}this.setHandPosition();this.btnIntvalHandler=setInterval(function(){if(GuideHelp.getIsOpenMenuByMenuId(guidePathConfig_1.menuid)){_this.setHandPosition()}else{_this.clearBtnIntval()}},30)}};GuideUI.prototype.clearBtnIntval=function(){clearInterval(this.btnIntvalHandler)};GuideUI.prototype.setHandPosition=function(){if(this.targetBtn&&this.targetBtn.parent){this.m_hand.visible=this.targetBtn.visible;var globalPos=this.targetBtn.localToGlobal(this.targetBtn.width>>1,this.targetBtn.height>>1);var x=globalPos.x;var y=globalPos.y;this.fingerParent.globalToLocal(x,y,globalPos);this.m_hand.setXY(globalPos.x,globalPos.y)}else{this.clearBtnIntval()}};GuideUI.prototype.clearGuide=function(){this.interactionArea.graphics.clear();this.hitArea.unHit.clear()};GuideUI.prototype.hideHand=function(){this.clearBtnIntval();this.clearGuide();this.m_hand.visible=false;this.m_hand.m_hand.m_t0.stop();this.m_hand.m_c_circle_visible.selectedIndex=1;this.m_hand.m_tcircle.stop()};GuideUI.prototype.showModal=function(){this.maskArea.visible=true};GuideUI.prototype.hideModal=function(){this.maskArea.visible=false};GuideUI.prototype.showDialog=function(msg,position){this.hitArea.unHit.clear();this.hitArea.unHit.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#000000");this.m_visible.selectedIndex=GuideDialogType.Dialog;this.setMaskIndex();this.m_dialog.m_dialog.text=msg;this.m_dialog.setXY(position.x,position.y)};GuideUI.prototype.showLeftDialog=function(url,name,msg,caller,tweenComplete,complete){var _this=this;this.hideHand();this.caller=caller;this.complete=complete;this.m_visible.selectedIndex=GuideDialogType.Left;this.setMaskIndex();this.showModal();this.m_left.m_dialog.text="";this.m_left.m_name.text=name;this.m_left.m_icon.icon=url;this.m_left.m_t0.play(Handler.create(null,function(){if(tweenComplete){tweenComplete()}_this.startTypeWrite(_this.m_left.m_dialog.m_title,msg)}))};GuideUI.prototype.showRightDialog=function(url,name,msg,caller,tweenComplete,complete){var _this=this;this.hideHand();this.caller=caller;this.complete=complete;this.m_visible.selectedIndex=GuideDialogType.Right;this.setMaskIndex();this.showModal();this.m_right.m_dialog.m_title.text="";this.m_right.m_name.text=name;this.m_right.m_icon.icon=url;this.m_right.m_t0.play(Handler.create(null,function(){if(tweenComplete){tweenComplete()}_this.startTypeWrite(_this.m_right.m_dialog.m_title,msg)}))};GuideUI.prototype.showNpcUI=function(config,caller,complete){if(caller===void 0){caller=null}if(complete===void 0){complete=null}var url=config.bodyIconUrl;var desc=config.ui_content;this.hideHand();this.caller=caller;this.complete=complete;this.m_visible.selectedIndex=GuideDialogType.Npc;this.setMaskIndex();this.showModal();this.m_npcIntroPanel.m_desc.text=desc;this.m_npcIntroPanel.m_name.text=config.name;this.m_npcIntroPanel.m_icon.icon=url;this.m_npcIntroPanel.m_closeBtn.onClick(this,this.onClickCloseBtn)};GuideUI.prototype.showHaiBao=function(msg,caller,complete){if(caller===void 0){caller=null}if(complete===void 0){complete=null}this.caller=caller;this.complete=complete;this.m_visible.selectedIndex=GuideDialogType.HaiBao;this.m_haibao.m_title.text=msg;this.m_haibao.onClick(this,this.onClickHaibaoCloseBtn)};GuideUI.prototype.onClickHaibaoCloseBtn=function(){this.m_haibao.offClick(this,this.onClickHaibaoCloseBtn);this.hideAll();this.doComplete()};GuideUI.prototype.onClickCloseBtn=function(){this.m_npcIntroPanel.m_closeBtn.offClick(this,this.onClickCloseBtn);this.hideAll();this.doComplete()};GuideUI.prototype.startTypeWrite=function(target,msg){var _this=this;if(this.typeWriteData==null){this.typeWriteData=Game.typeWrite.createTypeWrite()}this.typeWriteData.startTypeWrite(50,msg,target,function(){_this.doComplete()})};GuideUI.prototype.doComplete=function(){if(this.complete){if(this.caller){this.complete.apply(this.caller)}else{this.complete()}}};GuideUI.prototype.setForce=function(value){this.isForce=value;this.maskArea.visible=value;this.interactionArea.visible=value};GuideUI.prototype.completeTypeWrite=function(){if(this.typeWriteData){this.typeWriteData.completeTypeWrite()}};GuideUI.prototype.clearTypeWrite=function(){if(this.typeWriteData){this.typeWriteData.stopTypeWrite()}};GuideUI.prototype.directComplete=function(){if(this.typeWriteData){this.typeWriteData.completeTypeWrite()}};return GuideUI}(Guide.GuideUIStruct));Guide.GuideUI=GuideUI})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var HandStruct=(function(_super){__extends(HandStruct,_super);function HandStruct(){return _super.call(this)||this}HandStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","Hand"))};HandStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};HandStruct.URL="ui://toebkrsrs9dx1e";HandStruct.DependPackages=["Guide"];return HandStruct}(fairygui.GComponent));Guide.HandStruct=HandStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var Hand=(function(_super){__extends(Hand,_super);function Hand(){return _super!==null&&_super.apply(this,arguments)||this}return Hand}(Guide.HandStruct));Guide.Hand=Hand})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var RecordBtnStruct=(function(_super){__extends(RecordBtnStruct,_super);function RecordBtnStruct(){return _super.call(this)||this}RecordBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","RecordBtn"))};RecordBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};RecordBtnStruct.URL="ui://toebkrsr7vaw1k";RecordBtnStruct.DependPackages=["Guide"];return RecordBtnStruct}(fairygui.GButton));Guide.RecordBtnStruct=RecordBtnStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var RecordBtn=(function(_super){__extends(RecordBtn,_super);function RecordBtn(){return _super!==null&&_super.apply(this,arguments)||this}return RecordBtn}(Guide.RecordBtnStruct));Guide.RecordBtn=RecordBtn})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var TalkHeadItemStruct=(function(_super){__extends(TalkHeadItemStruct,_super);function TalkHeadItemStruct(){return _super.call(this)||this}TalkHeadItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","TalkHeadItem"))};TalkHeadItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};TalkHeadItemStruct.URL="ui://toebkrsrhz3m13";TalkHeadItemStruct.DependPackages=["Guide","Common"];return TalkHeadItemStruct}(fairygui.GLabel));Guide.TalkHeadItemStruct=TalkHeadItemStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var TalkHeadItem=(function(_super){__extends(TalkHeadItem,_super);function TalkHeadItem(){return _super!==null&&_super.apply(this,arguments)||this}return TalkHeadItem}(Guide.TalkHeadItemStruct));Guide.TalkHeadItem=TalkHeadItem})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var TextStruct=(function(_super){__extends(TextStruct,_super);function TextStruct(){return _super.call(this)||this}TextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","Text"))};TextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextStruct.URL="ui://toebkrsrfcz71r";TextStruct.DependPackages=["Guide"];return TextStruct}(fairygui.GLabel));Guide.TextStruct=TextStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var Text=(function(_super){__extends(Text,_super);function Text(){return _super!==null&&_super.apply(this,arguments)||this}return Text}(Guide.TextStruct));Guide.Text=Text})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var WarNewspaperHeadlinesStruct=(function(_super){__extends(WarNewspaperHeadlinesStruct,_super);function WarNewspaperHeadlinesStruct(){return _super.call(this)||this}WarNewspaperHeadlinesStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","WarNewspaperHeadlines"))};WarNewspaperHeadlinesStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_title=(this.getChild("title"))};WarNewspaperHeadlinesStruct.URL="ui://toebkrsr7vaw1l";WarNewspaperHeadlinesStruct.DependPackages=["Guide","Common"];return WarNewspaperHeadlinesStruct}(fairygui.GComponent));Guide.WarNewspaperHeadlinesStruct=WarNewspaperHeadlinesStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var WarNewspaperHeadlines=(function(_super){__extends(WarNewspaperHeadlines,_super);function WarNewspaperHeadlines(){return _super!==null&&_super.apply(this,arguments)||this}return WarNewspaperHeadlines}(Guide.WarNewspaperHeadlinesStruct));Guide.WarNewspaperHeadlines=WarNewspaperHeadlines})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var ZhuIconStruct=(function(_super){__extends(ZhuIconStruct,_super);function ZhuIconStruct(){return _super.call(this)||this}ZhuIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Guide","ZhuIcon"))};ZhuIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ZhuIconStruct.URL="ui://toebkrsrji9k1q";ZhuIconStruct.DependPackages=["Guide","Common"];return ZhuIconStruct}(fairygui.GLabel));Guide.ZhuIconStruct=ZhuIconStruct})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Guide;(function(Guide){var ZhuIcon=(function(_super){__extends(ZhuIcon,_super);function ZhuIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ZhuIcon}(Guide.ZhuIconStruct));Guide.ZhuIcon=ZhuIcon})(Guide=fgui.Guide||(fgui.Guide={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var AccountComboBoxStruct=(function(_super){__extends(AccountComboBoxStruct,_super);function AccountComboBoxStruct(){return _super.call(this)||this}AccountComboBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","AccountComboBox"))};AccountComboBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_button=(this.getChild("button"))};AccountComboBoxStruct.URL="ui://7znsj5i6dl322a";AccountComboBoxStruct.DependPackages=["Login"];return AccountComboBoxStruct}(fairygui.GComboBox));Login.AccountComboBoxStruct=AccountComboBoxStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var AccountComboBox=(function(_super){__extends(AccountComboBox,_super);function AccountComboBox(){return _super!==null&&_super.apply(this,arguments)||this}return AccountComboBox}(Login.AccountComboBoxStruct));Login.AccountComboBox=AccountComboBox})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var AccountInputStruct=(function(_super){__extends(AccountInputStruct,_super);function AccountInputStruct(){return _super.call(this)||this}AccountInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","accountInput"))};AccountInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txt_account=(this.getChild("txt_account"));this.m_accountComboBox=(this.getChild("accountComboBox"));this.m_button=(this.getChild("button"))};AccountInputStruct.URL="ui://7znsj5i6cpc91k";AccountInputStruct.DependPackages=["Login"];return AccountInputStruct}(fairygui.GComponent));Login.AccountInputStruct=AccountInputStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var AccountInput=(function(_super){__extends(AccountInput,_super);function AccountInput(){return _super!==null&&_super.apply(this,arguments)||this}return AccountInput}(Login.AccountInputStruct));Login.AccountInput=AccountInput})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var AgreementStruct=(function(_super){__extends(AgreementStruct,_super);function AgreementStruct(){return _super.call(this)||this}AgreementStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","Agreement"))};AgreementStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_text=(this.getChild("text"));this.m_btn_closeAgreement=(this.getChild("btn_closeAgreement"))};AgreementStruct.URL="ui://7znsj5i6cpc91p";AgreementStruct.DependPackages=["Login"];return AgreementStruct}(fairygui.GComponent));Login.AgreementStruct=AgreementStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Agreement=(function(_super){__extends(Agreement,_super);function Agreement(){return _super!==null&&_super.apply(this,arguments)||this}Agreement.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_closeAgreement.onClick(this,this.onClickBack)};Agreement.prototype.onClickBack=function(){this.moduleWindow.backTab()};return Agreement}(Login.AgreementStruct));Login.Agreement=Agreement})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_accountlistStruct=(function(_super){__extends(Btn_accountlistStruct,_super);function Btn_accountlistStruct(){return _super.call(this)||this}Btn_accountlistStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_accountlist"))};Btn_accountlistStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_accountlistStruct.URL="ui://7znsj5i6eiknl";Btn_accountlistStruct.DependPackages=["Login"];return Btn_accountlistStruct}(fairygui.GButton));Login.Btn_accountlistStruct=Btn_accountlistStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_accountlist=(function(_super){__extends(Btn_accountlist,_super);function Btn_accountlist(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_accountlist}(Login.Btn_accountlistStruct));Login.Btn_accountlist=Btn_accountlist})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_accoutsecStruct=(function(_super){__extends(Btn_accoutsecStruct,_super);function Btn_accoutsecStruct(){return _super.call(this)||this}Btn_accoutsecStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_accoutsec"))};Btn_accoutsecStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_accoutsecStruct.URL="ui://7znsj5i6eikno";Btn_accoutsecStruct.DependPackages=["Login"];return Btn_accoutsecStruct}(fairygui.GButton));Login.Btn_accoutsecStruct=Btn_accoutsecStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_accoutsec=(function(_super){__extends(Btn_accoutsec,_super);function Btn_accoutsec(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_accoutsec}(Login.Btn_accoutsecStruct));Login.Btn_accoutsec=Btn_accoutsec})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_backStruct=(function(_super){__extends(Btn_backStruct,_super);function Btn_backStruct(){return _super.call(this)||this}Btn_backStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_back"))};Btn_backStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_backStruct.URL="ui://7znsj5i68zgr1g";Btn_backStruct.DependPackages=["Login"];return Btn_backStruct}(fairygui.GButton));Login.Btn_backStruct=Btn_backStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_back=(function(_super){__extends(Btn_back,_super);function Btn_back(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_back}(Login.Btn_backStruct));Login.Btn_back=Btn_back})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_closeAgreementStruct=(function(_super){__extends(Btn_closeAgreementStruct,_super);function Btn_closeAgreementStruct(){return _super.call(this)||this}Btn_closeAgreementStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_closeAgreement"))};Btn_closeAgreementStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_closeAgreementStruct.URL="ui://7znsj5i68zgr1h";Btn_closeAgreementStruct.DependPackages=["Login"];return Btn_closeAgreementStruct}(fairygui.GButton));Login.Btn_closeAgreementStruct=Btn_closeAgreementStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_closeAgreement=(function(_super){__extends(Btn_closeAgreement,_super);function Btn_closeAgreement(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_closeAgreement}(Login.Btn_closeAgreementStruct));Login.Btn_closeAgreement=Btn_closeAgreement})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_forgotStruct=(function(_super){__extends(Btn_forgotStruct,_super);function Btn_forgotStruct(){return _super.call(this)||this}Btn_forgotStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_forgot"))};Btn_forgotStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_Title=(this.getChild("Title"))};Btn_forgotStruct.URL="ui://7znsj5i6eiknn";Btn_forgotStruct.DependPackages=["Login"];return Btn_forgotStruct}(fairygui.GButton));Login.Btn_forgotStruct=Btn_forgotStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_forgot=(function(_super){__extends(Btn_forgot,_super);function Btn_forgot(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_forgot}(Login.Btn_forgotStruct));Login.Btn_forgot=Btn_forgot})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_guestStruct=(function(_super){__extends(Btn_guestStruct,_super);function Btn_guestStruct(){return _super.call(this)||this}Btn_guestStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_guest"))};Btn_guestStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_guestStruct.URL="ui://7znsj5i6eiknk";Btn_guestStruct.DependPackages=["Login","Common"];return Btn_guestStruct}(fairygui.GButton));Login.Btn_guestStruct=Btn_guestStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_guest=(function(_super){__extends(Btn_guest,_super);function Btn_guest(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_guest}(Login.Btn_guestStruct));Login.Btn_guest=Btn_guest})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_guestloginStruct=(function(_super){__extends(Btn_guestloginStruct,_super);function Btn_guestloginStruct(){return _super.call(this)||this}Btn_guestloginStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_guestlogin"))};Btn_guestloginStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_guestloginStruct.URL="ui://7znsj5i68zgr1i";Btn_guestloginStruct.DependPackages=["Login","Common"];return Btn_guestloginStruct}(fairygui.GButton));Login.Btn_guestloginStruct=Btn_guestloginStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_guestlogin=(function(_super){__extends(Btn_guestlogin,_super);function Btn_guestlogin(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_guestlogin}(Login.Btn_guestloginStruct));Login.Btn_guestlogin=Btn_guestlogin})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_linkaccountStruct=(function(_super){__extends(Btn_linkaccountStruct,_super);function Btn_linkaccountStruct(){return _super.call(this)||this}Btn_linkaccountStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_linkaccount"))};Btn_linkaccountStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_linkaccountStruct.URL="ui://7znsj5i68zgr1j";Btn_linkaccountStruct.DependPackages=["Login","Common"];return Btn_linkaccountStruct}(fairygui.GButton));Login.Btn_linkaccountStruct=Btn_linkaccountStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_linkaccount=(function(_super){__extends(Btn_linkaccount,_super);function Btn_linkaccount(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_linkaccount}(Login.Btn_linkaccountStruct));Login.Btn_linkaccount=Btn_linkaccount})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_loginStruct=(function(_super){__extends(Btn_loginStruct,_super);function Btn_loginStruct(){return _super.call(this)||this}Btn_loginStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_login"))};Btn_loginStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_loginStruct.URL="ui://7znsj5i6eikni";Btn_loginStruct.DependPackages=["Login"];return Btn_loginStruct}(fairygui.GButton));Login.Btn_loginStruct=Btn_loginStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_login=(function(_super){__extends(Btn_login,_super);function Btn_login(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_login}(Login.Btn_loginStruct));Login.Btn_login=Btn_login})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_nextStruct=(function(_super){__extends(Btn_nextStruct,_super);function Btn_nextStruct(){return _super.call(this)||this}Btn_nextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_next"))};Btn_nextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};Btn_nextStruct.URL="ui://7znsj5i6cpc91y";Btn_nextStruct.DependPackages=["Login","Common"];return Btn_nextStruct}(fairygui.GButton));Login.Btn_nextStruct=Btn_nextStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_next=(function(_super){__extends(Btn_next,_super);function Btn_next(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_next}(Login.Btn_nextStruct));Login.Btn_next=Btn_next})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_onRegisterStruct=(function(_super){__extends(Btn_onRegisterStruct,_super);function Btn_onRegisterStruct(){return _super.call(this)||this}Btn_onRegisterStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_onRegister"))};Btn_onRegisterStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_onRegisterStruct.URL="ui://7znsj5i68zgr1e";Btn_onRegisterStruct.DependPackages=["Login"];return Btn_onRegisterStruct}(fairygui.GButton));Login.Btn_onRegisterStruct=Btn_onRegisterStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_onRegister=(function(_super){__extends(Btn_onRegister,_super);function Btn_onRegister(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_onRegister}(Login.Btn_onRegisterStruct));Login.Btn_onRegister=Btn_onRegister})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_pwdeyeStruct=(function(_super){__extends(Btn_pwdeyeStruct,_super);function Btn_pwdeyeStruct(){return _super.call(this)||this}Btn_pwdeyeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_pwdeye"))};Btn_pwdeyeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_pwdeyeStruct.URL="ui://7znsj5i6eiknm";Btn_pwdeyeStruct.DependPackages=["Login"];return Btn_pwdeyeStruct}(fairygui.GButton));Login.Btn_pwdeyeStruct=Btn_pwdeyeStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_pwdeye=(function(_super){__extends(Btn_pwdeye,_super);function Btn_pwdeye(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_pwdeye}(Login.Btn_pwdeyeStruct));Login.Btn_pwdeye=Btn_pwdeye})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_registerStruct=(function(_super){__extends(Btn_registerStruct,_super);function Btn_registerStruct(){return _super.call(this)||this}Btn_registerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_register"))};Btn_registerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_registerStruct.URL="ui://7znsj5i6eiknj";Btn_registerStruct.DependPackages=["Login","Common"];return Btn_registerStruct}(fairygui.GButton));Login.Btn_registerStruct=Btn_registerStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_register=(function(_super){__extends(Btn_register,_super);function Btn_register(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_register}(Login.Btn_registerStruct));Login.Btn_register=Btn_register})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_userAgreementStruct=(function(_super){__extends(Btn_userAgreementStruct,_super);function Btn_userAgreementStruct(){return _super.call(this)||this}Btn_userAgreementStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","btn_userAgreement"))};Btn_userAgreementStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};Btn_userAgreementStruct.URL="ui://7znsj5i68zgr1f";Btn_userAgreementStruct.DependPackages=["Login"];return Btn_userAgreementStruct}(fairygui.GButton));Login.Btn_userAgreementStruct=Btn_userAgreementStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Btn_userAgreement=(function(_super){__extends(Btn_userAgreement,_super);function Btn_userAgreement(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_userAgreement}(Login.Btn_userAgreementStruct));Login.Btn_userAgreement=Btn_userAgreement})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var CreatRoleStruct=(function(_super){__extends(CreatRoleStruct,_super);function CreatRoleStruct(){return _super.call(this)||this}CreatRoleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","CreatRole"))};CreatRoleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_roleSelect=this.getController("roleSelect");this.m_sexTip=(this.getChild("sexTip"));this.m_sex=(this.getChild("sex"));this.m_title_sex=(this.getChild("title_sex"));this.m_btn_next=(this.getChild("btn_next"));this.m_nameInput=(this.getChild("nameInput"));this.m_randomButton=(this.getChild("randomButton"));this.m_initialActor=(this.getChild("initialActor"))};CreatRoleStruct.URL="ui://7znsj5i6cpc91r";CreatRoleStruct.DependPackages=["Login","PfSkin","Common","System","Fx"];return CreatRoleStruct}(fairygui.GComponent));Login.CreatRoleStruct=CreatRoleStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var CreatRole=(function(_super){__extends(CreatRole,_super);function CreatRole(){return _super!==null&&_super.apply(this,arguments)||this}CreatRole.prototype.onWindowInited=function(){this.m_sex.on(fairygui.Events.CLICK_ITEM,this,this.onSelectSex);this.m_nameInput.m_txt_account.promptText=Games.TEXT.TipEnterRoleName;this.m_nameInput.m_txt_account.on(laya.events.Event.INPUT,this,this.onInputName);this.m_sexTip.text=Games.TEXT.SexTip;this.m_randomButton.onClick(this,this.onClickRandomName);this.m_btn_next.onClick(this,this.onClickNext)};CreatRole.prototype.onWindowShow=function(){this.checkPage()};CreatRole.prototype.checkPage=function(){if(this.sex!=-1){if(isNullOrEmpty(this.rolename)){this.m_roleSelect.selectedIndex=1}else{this.m_roleSelect.selectedIndex=2}}else{this.m_roleSelect.selectedIndex=0}};CreatRole.prototype.onSelectSex=function(){this.checkPage()};CreatRole.prototype.onInputName=function(){this.checkPage()};CreatRole.prototype.onClickRandomName=function(){this.rolename=getRandomRoleName();this.checkPage()};Object.defineProperty(CreatRole.prototype,"rolename",{get:function(){return this.m_nameInput.m_txt_account.text.trim()},set:function(value){this.m_nameInput.m_txt_account.text=value},enumerable:true,configurable:true});Object.defineProperty(CreatRole.prototype,"sex",{get:function(){switch(this.m_sex.selectedIndex){case 0:return Proto.SE.EUserSex.boy;case 1:return Proto.SE.EUserSex.girl}return -1},set:function(value){switch(value){case Proto.SE.EUserSex.boy:this.m_sex.selectedIndex=0;break;case Proto.SE.EUserSex.girl:this.m_sex.selectedIndex=1;break}},enumerable:true,configurable:true});CreatRole.prototype.onClickNext=function(){if(!validateRoleName(this.rolename)){return false}Game.protosender.GameData.InitGameData(this.rolename,this.sex)};return CreatRole}(Login.CreatRoleStruct));Login.CreatRole=CreatRole})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActorStruct=(function(_super){__extends(InitialActorStruct,_super);function InitialActorStruct(){return _super.call(this)||this}InitialActorStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","InitialActor"))};InitialActorStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_des=(this.getChild("des"));this.m_actorGroup=(this.getChild("actorGroup"));this.m_btn_next=(this.getChild("btn_next"))};InitialActorStruct.URL="ui://7znsj5i6oh1c2z";InitialActorStruct.DependPackages=["Login","System","Common","Fx"];return InitialActorStruct}(fairygui.GComponent));Login.InitialActorStruct=InitialActorStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActor=(function(_super){__extends(InitialActor,_super);function InitialActor(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.selectIndex=-1;_this.actorItems=[];return _this}InitialActor.prototype.onWindowInited=function(){var bgUrl=["card_as","card_eu","card_na"];console.log(this.packageItem.owner.name);this.m_btn_next.onClick(this,this.onClickNext);var index=1;for(var i=0;i<this.m_actorGroup.numChildren;i++){var item=this.m_actorGroup.getChildAt(i);if(item.name.startsWith("actorItem")){var actorId=Game.config.initialActor.getConfig(index).actor_id;var bgIndex=Mathf.clamp(index-1,0,bgUrl.length);item.m_bg.url="ui://"+this.packageItem.owner.name+"/"+bgUrl[bgIndex];item.icon=Game.config.actor.getConfig(actorId).avatarConfig.bodyIconUrl;item.onClick(this,this.onClickActorItem,[index]);index++;this.actorItems.push(item)}}this.m_btn_next.visible=false};InitialActor.prototype.onClickActorItem=function(index){for(var i=0;i<this.actorItems.length;i++){if(i!=index-1){this.actorItems[i].selected=false}}this.selectIndex=index;this.m_btn_next.visible=true};InitialActor.prototype.onClickNext=function(){Game.protosender.GameData.GetInitActor(this.selectIndex)};return InitialActor}(Login.InitialActorStruct));Login.InitialActor=InitialActor})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActorGroupStruct=(function(_super){__extends(InitialActorGroupStruct,_super);function InitialActorGroupStruct(){return _super.call(this)||this}InitialActorGroupStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","InitialActorGroup"))};InitialActorGroupStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_actorItem0=(this.getChild("actorItem0"));this.m_actorItem2=(this.getChild("actorItem2"));this.m_actorItem3=(this.getChild("actorItem3"))};InitialActorGroupStruct.URL="ui://7znsj5i6oh1c35";InitialActorGroupStruct.DependPackages=["Login"];return InitialActorGroupStruct}(fairygui.GComponent));Login.InitialActorGroupStruct=InitialActorGroupStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActorGroup=(function(_super){__extends(InitialActorGroup,_super);function InitialActorGroup(){return _super!==null&&_super.apply(this,arguments)||this}return InitialActorGroup}(Login.InitialActorGroupStruct));Login.InitialActorGroup=InitialActorGroup})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActorItemStruct=(function(_super){__extends(InitialActorItemStruct,_super);function InitialActorItemStruct(){return _super.call(this)||this}InitialActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","InitialActorItem"))};InitialActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"))};InitialActorItemStruct.URL="ui://7znsj5i6oh1c33";InitialActorItemStruct.DependPackages=["Login","Common"];return InitialActorItemStruct}(fairygui.GButton));Login.InitialActorItemStruct=InitialActorItemStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var InitialActorItem=(function(_super){__extends(InitialActorItem,_super);function InitialActorItem(){return _super!==null&&_super.apply(this,arguments)||this}return InitialActorItem}(Login.InitialActorItemStruct));Login.InitialActorItem=InitialActorItem})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginStruct=(function(_super){__extends(LoginStruct,_super);function LoginStruct(){return _super.call(this)||this}LoginStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","Login"))};LoginStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_accountInput=(this.getChild("accountInput"));this.m_passwordInput=(this.getChild("passwordInput"));this.m_btn_forgot=(this.getChild("btn_forgot"));this.m_btn_security=(this.getChild("btn_security"));this.m_btn_login=(this.getChild("btn_login"));this.m_btn_register=(this.getChild("btn_register"));this.m_btn_guest=(this.getChild("btn_guest"))};LoginStruct.URL="ui://7znsj5i6cpc91m";LoginStruct.DependPackages=["Login"];return LoginStruct}(fairygui.GComponent));Login.LoginStruct=LoginStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login_1){var Login=(function(_super){__extends(Login,_super);function Login(){return _super!==null&&_super.apply(this,arguments)||this}Login.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_login.onClick(this,this.onClickLogin);this.m_btn_register.onClick(this,this.onClickRegister);this.m_btn_guest.onClick(this,this.onClickGuest);this.popupMenu=Login_1.PopupMenu.createInstance();this.popupMenu.mainButton=this.m_accountInput.m_button;this.popupMenu.sOnSelect.add(this.onSelectePopupItem,this);this.popupMenu.center();this.m_accountInput.m_button.onClick(this,this.onClickPopupButton)};Login.prototype.onWindowShow=function(){this.popupMenu.setListData(Game.localStorage.useraccountList)};Login.prototype.onClickPopupButton=function(){fairygui.GRoot.inst.showPopup(this.popupMenu,this.m_accountInput,true)};Login.prototype.onSelectePopupItem=function(data){this.account=data.username;this.password=data.password};Object.defineProperty(Login.prototype,"account",{get:function(){return this.m_accountInput.m_txt_account.text.trim()},set:function(value){this.m_accountInput.m_txt_account.text=value},enumerable:true,configurable:true});Object.defineProperty(Login.prototype,"password",{get:function(){return this.m_passwordInput.m_txt_password.text},set:function(value){this.m_passwordInput.m_txt_password.text=value},enumerable:true,configurable:true});Login.prototype.onClickLogin=function(){Game.protosender.account.Auth(this.account,this.password)};Login.prototype.onClickRegister=function(){this.moduleWindow.openTab(Games.LoginTabType.Register)};Login.prototype.onClickGuest=function(){Game.protosender.account.GuestAuth()};Login.prototype.onTabShow=function(){if(isNullOrEmpty(this.account)){this.account=Game.localStorage.username}if(isNullOrEmpty(this.password)){this.password=Game.localStorage.password}};Login.prototype.onTabHide=function(){};return Login}(Login_1.LoginStruct));Login_1.Login=Login})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginFrameStruct=(function(_super){__extends(LoginFrameStruct,_super);function LoginFrameStruct(){return _super.call(this)||this}LoginFrameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","LoginFrame"))};LoginFrameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LoginFrameStruct.URL="ui://7znsj5i6o11z29";LoginFrameStruct.DependPackages=["Login"];return LoginFrameStruct}(fairygui.GComponent));Login.LoginFrameStruct=LoginFrameStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginFrame=(function(_super){__extends(LoginFrame,_super);function LoginFrame(){return _super!==null&&_super.apply(this,arguments)||this}return LoginFrame}(Login.LoginFrameStruct));Login.LoginFrame=LoginFrame})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginGuestStruct=(function(_super){__extends(LoginGuestStruct,_super);function LoginGuestStruct(){return _super.call(this)||this}LoginGuestStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","LoginGuest"))};LoginGuestStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_style=this.getController("style");this.m_g_guestlogin=(this.getChild("g_guestlogin"));this.m_btn_guestlogin=(this.getChild("btn_guestlogin"));this.m_btn_linkaccount=(this.getChild("btn_linkaccount"));this.m_btn_back=(this.getChild("btn_back"))};LoginGuestStruct.URL="ui://7znsj5i6w5tk27";LoginGuestStruct.DependPackages=["Login"];return LoginGuestStruct}(fairygui.GComponent));Login.LoginGuestStruct=LoginGuestStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginGuest=(function(_super){__extends(LoginGuest,_super);function LoginGuest(){return _super!==null&&_super.apply(this,arguments)||this}LoginGuest.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_guestlogin.onClick(this,this.onClickLogin);this.m_btn_linkaccount.onClick(this,this.onClickRegister);this.m_btn_back.onClick(this,this.onClickBack)};LoginGuest.prototype.onClickLogin=function(){Game.protosender.account.GuestAuth()};LoginGuest.prototype.onClickRegister=function(){this.moduleWindow.openTab(Games.LoginTabType.Register)};LoginGuest.prototype.onClickBack=function(){this.moduleWindow.backTab()};return LoginGuest}(Login.LoginGuestStruct));Login.LoginGuest=LoginGuest})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginWindowUIStruct=(function(_super){__extends(LoginWindowUIStruct,_super);function LoginWindowUIStruct(){return _super.call(this)||this}LoginWindowUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","LoginWindowUI"))};LoginWindowUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_screenBG=(this.getChild("screenBG"));this.m_conent=(this.getChild("conent"))};LoginWindowUIStruct.URL="ui://7znsj5i6vkfj3y";LoginWindowUIStruct.DependPackages=["Login","System"];return LoginWindowUIStruct}(fairygui.GComponent));Login.LoginWindowUIStruct=LoginWindowUIStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var LoginWindowUI=(function(_super){__extends(LoginWindowUI,_super);function LoginWindowUI(){return _super!==null&&_super.apply(this,arguments)||this}return LoginWindowUI}(Login.LoginWindowUIStruct));Login.LoginWindowUI=LoginWindowUI})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var MainStruct=(function(_super){__extends(MainStruct,_super);function MainStruct(){return _super.call(this)||this}MainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","Main"))};MainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_login=(this.getChild("login"));this.m_register=(this.getChild("register"));this.m_login_guest=(this.getChild("login_guest"));this.m_agreement=(this.getChild("agreement"));this.m_version=(this.getChild("version"))};MainStruct.URL="ui://7znsj5i6eiknh";MainStruct.DependPackages=["Login"];return MainStruct}(fairygui.GComponent));Login.MainStruct=MainStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Main=(function(_super){__extends(Main,_super);function Main(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.whenSelfVisiableCallWindowShowAndHide=true;return _this}Main.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_login.m_btn_forgot.visible=false;this.m_login.m_btn_security.visible=false};Main.prototype.onWindowShow=function(){};Main.prototype.onWindowHide=function(){};return Main}(Login.MainStruct));Login.Main=Main})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var NameInputStruct=(function(_super){__extends(NameInputStruct,_super);function NameInputStruct(){return _super.call(this)||this}NameInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","nameInput"))};NameInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txt_account=(this.getChild("txt_account"))};NameInputStruct.URL="ui://7znsj5i6w5tk26";NameInputStruct.DependPackages=["Login","Common"];return NameInputStruct}(fairygui.GComponent));Login.NameInputStruct=NameInputStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var NameInput=(function(_super){__extends(NameInput,_super);function NameInput(){return _super!==null&&_super.apply(this,arguments)||this}return NameInput}(Login.NameInputStruct));Login.NameInput=NameInput})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PasswordInputStruct=(function(_super){__extends(PasswordInputStruct,_super);function PasswordInputStruct(){return _super.call(this)||this}PasswordInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","passwordInput"))};PasswordInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txt_password=(this.getChild("txt_password"));this.m_btn_pwdeye=(this.getChild("btn_pwdeye"))};PasswordInputStruct.URL="ui://7znsj5i6cpc91l";PasswordInputStruct.DependPackages=["Login","Common"];return PasswordInputStruct}(fairygui.GComponent));Login.PasswordInputStruct=PasswordInputStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PasswordInput=(function(_super){__extends(PasswordInput,_super);function PasswordInput(){return _super!==null&&_super.apply(this,arguments)||this}PasswordInput.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_pwdeye.onClick(this,this.onClickEye)};PasswordInput.prototype.onClickEye=function(){this.m_txt_password.password=!this.m_txt_password.password;this.m_txt_password.text=this.m_txt_password.text};return PasswordInput}(Login.PasswordInputStruct));Login.PasswordInput=PasswordInput})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PopupMenuStruct=(function(_super){__extends(PopupMenuStruct,_super);function PopupMenuStruct(){return _super.call(this)||this}PopupMenuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","PopupMenu"))};PopupMenuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};PopupMenuStruct.URL="ui://7znsj5i6l8d850";PopupMenuStruct.DependPackages=["Login"];return PopupMenuStruct}(fairygui.GComponent));Login.PopupMenuStruct=PopupMenuStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PopupMenu=(function(_super){__extends(PopupMenu,_super);function PopupMenu(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listData=[];_this.sOnSelect=new TypedSignal();return _this}PopupMenu.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem)};PopupMenu.prototype.setListData=function(listData){this.listData=listData;var list=this.m_list;list.removeChildrenToPool();for(var i=0;i<listData.length;i++){var item=list.addItemFromPool();item.data=listData[i];item.title=listData[i].username}};PopupMenu.prototype.onClickItem=function(item){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.onselect(item.data);this.removeFromParent()};PopupMenu.prototype.onselect=function(value){this.sOnSelect.dispatch(value);if(this.mainButton){this.mainButton.title=value.username}};PopupMenu.prototype.setSelect=function(value){var index=this.listData.indexOf(value);this.m_list.addSelection(index,true);this.onselect(value)};return PopupMenu}(Login.PopupMenuStruct));Login.PopupMenu=PopupMenu})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PopupMenu_itemStruct=(function(_super){__extends(PopupMenu_itemStruct,_super);function PopupMenu_itemStruct(){return _super.call(this)||this}PopupMenu_itemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","PopupMenu_item"))};PopupMenu_itemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_checked=this.getController("checked");this.m_title=(this.getChild("title"))};PopupMenu_itemStruct.URL="ui://7znsj5i6l8d851";PopupMenu_itemStruct.DependPackages=["Login"];return PopupMenu_itemStruct}(fairygui.GButton));Login.PopupMenu_itemStruct=PopupMenu_itemStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var PopupMenu_item=(function(_super){__extends(PopupMenu_item,_super);function PopupMenu_item(){return _super!==null&&_super.apply(this,arguments)||this}return PopupMenu_item}(Login.PopupMenu_itemStruct));Login.PopupMenu_item=PopupMenu_item})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var RandomButtonStruct=(function(_super){__extends(RandomButtonStruct,_super);function RandomButtonStruct(){return _super.call(this)||this}RandomButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","RandomButton"))};RandomButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};RandomButtonStruct.URL="ui://7znsj5i6oh1c2y";RandomButtonStruct.DependPackages=["Login","Common"];return RandomButtonStruct}(fairygui.GButton));Login.RandomButtonStruct=RandomButtonStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var RandomButton=(function(_super){__extends(RandomButton,_super);function RandomButton(){return _super!==null&&_super.apply(this,arguments)||this}return RandomButton}(Login.RandomButtonStruct));Login.RandomButton=RandomButton})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var RegisterStruct=(function(_super){__extends(RegisterStruct,_super);function RegisterStruct(){return _super.call(this)||this}RegisterStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","Register"))};RegisterStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_accountInput=(this.getChild("accountInput"));this.m_passwordInput=(this.getChild("passwordInput"));this.m_btn_onRegister=(this.getChild("btn_onRegister"));this.m_lb_agreement=(this.getChild("lb_agreement"));this.m_btn_registerback=(this.getChild("btn_registerback"))};RegisterStruct.URL="ui://7znsj5i6cpc91n";RegisterStruct.DependPackages=["Login"];return RegisterStruct}(fairygui.GComponent));Login.RegisterStruct=RegisterStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Register=(function(_super){__extends(Register,_super);function Register(){return _super!==null&&_super.apply(this,arguments)||this}Register.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_registerback.onClick(this,this.onClickBack);this.m_btn_onRegister.onClick(this,this.onClickRegister);this.m_lb_agreement.onClick(this,this.onClickAgreement);this.m_accountInput.m_button.visible=false};Object.defineProperty(Register.prototype,"account",{get:function(){return this.m_accountInput.m_txt_account.text},set:function(value){this.m_accountInput.m_txt_account.text=value},enumerable:true,configurable:true});Object.defineProperty(Register.prototype,"password",{get:function(){return this.m_passwordInput.m_txt_password.text},set:function(value){this.m_passwordInput.m_txt_password.text=value},enumerable:true,configurable:true});Register.prototype.onClickBack=function(){this.moduleWindow.backTab()};Register.prototype.onClickRegister=function(){Game.protosender.account.Auth(this.account,this.password,true);Game.localStorage.isGuest=false};Register.prototype.onClickAgreement=function(){this.moduleWindow.openTab(Games.LoginTabType.Agreement)};return Register}(Login.RegisterStruct));Login.Register=Register})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var VersionStruct=(function(_super){__extends(VersionStruct,_super);function VersionStruct(){return _super.call(this)||this}VersionStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Login","Version"))};VersionStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txt_resVer=(this.getChild("txt_resVer"));this.m_txt_gamever=(this.getChild("txt_gamever"))};VersionStruct.URL="ui://7znsj5i6cpc91q";VersionStruct.DependPackages=["Login"];return VersionStruct}(fairygui.GComponent));Login.VersionStruct=VersionStruct})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Login;(function(Login){var Version=(function(_super){__extends(Version,_super);function Version(){return _super!==null&&_super.apply(this,arguments)||this}return Version}(Login.VersionStruct));Login.Version=Version})(Login=fgui.Login||(fgui.Login={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var ButtonTimeStruct=(function(_super){__extends(ButtonTimeStruct,_super);function ButtonTimeStruct(){return _super.call(this)||this}ButtonTimeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","ButtonTime"))};ButtonTimeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_time=(this.getChild("time"))};ButtonTimeStruct.URL="ui://7ecreso0m6h3x4k";ButtonTimeStruct.DependPackages=["MainUI"];return ButtonTimeStruct}(fairygui.GComponent));MainUI.ButtonTimeStruct=ButtonTimeStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var ButtonTime=(function(_super){__extends(ButtonTime,_super);function ButtonTime(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonTime}(MainUI.ButtonTimeStruct));MainUI.ButtonTime=ButtonTime})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var ExpectProgress1Struct=(function(_super){__extends(ExpectProgress1Struct,_super);function ExpectProgress1Struct(){return _super.call(this)||this}ExpectProgress1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","ExpectProgress1"))};ExpectProgress1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Progress=this.getController("Progress");this.m_bar=(this.getChild("bar"));this.m_bar2=(this.getChild("bar2"));this.m_bar3=(this.getChild("bar3"));this.m_top1=(this.getChild("top1"));this.m_top2=(this.getChild("top2"));this.m_top3=(this.getChild("top3"));this.m_title=(this.getChild("title"))};ExpectProgress1Struct.URL="ui://7ecreso0qz7hx4n";ExpectProgress1Struct.DependPackages=["MainUI","System","Common"];return ExpectProgress1Struct}(fairygui.GProgressBar));MainUI.ExpectProgress1Struct=ExpectProgress1Struct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var ExpectProgress1=(function(_super){__extends(ExpectProgress1,_super);function ExpectProgress1(){return _super!==null&&_super.apply(this,arguments)||this}return ExpectProgress1}(MainUI.ExpectProgress1Struct));MainUI.ExpectProgress1=ExpectProgress1})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var FxArrowStruct=(function(_super){__extends(FxArrowStruct,_super);function FxArrowStruct(){return _super.call(this)||this}FxArrowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","FxArrow"))};FxArrowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_arrow1=(this.getChild("arrow1"));this.m_t0=this.getTransition("t0")};FxArrowStruct.URL="ui://7ecreso0r1gox59";FxArrowStruct.DependPackages=["MainUI"];return FxArrowStruct}(fairygui.GComponent));MainUI.FxArrowStruct=FxArrowStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var FxArrow=(function(_super){__extends(FxArrow,_super);function FxArrow(){return _super!==null&&_super.apply(this,arguments)||this}return FxArrow}(MainUI.FxArrowStruct));MainUI.FxArrow=FxArrow})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideFinishItemStruct=(function(_super){__extends(GuideFinishItemStruct,_super);function GuideFinishItemStruct(){return _super.call(this)||this}GuideFinishItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","GuideFinishItem"))};GuideFinishItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};GuideFinishItemStruct.URL="ui://7ecreso0gn0tx56";GuideFinishItemStruct.DependPackages=["MainUI","Guide","Common"];return GuideFinishItemStruct}(fairygui.GButton));MainUI.GuideFinishItemStruct=GuideFinishItemStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideFinishItem=(function(_super){__extends(GuideFinishItem,_super);function GuideFinishItem(){return _super!==null&&_super.apply(this,arguments)||this}return GuideFinishItem}(MainUI.GuideFinishItemStruct));MainUI.GuideFinishItem=GuideFinishItem})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideMainDialogStruct=(function(_super){__extends(GuideMainDialogStruct,_super);function GuideMainDialogStruct(){return _super.call(this)||this}GuideMainDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","GuideMainDialog"))};GuideMainDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};GuideMainDialogStruct.URL="ui://7ecreso0gn0tx53";GuideMainDialogStruct.DependPackages=["MainUI","Common"];return GuideMainDialogStruct}(fairygui.GLabel));MainUI.GuideMainDialogStruct=GuideMainDialogStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideMainDialog=(function(_super){__extends(GuideMainDialog,_super);function GuideMainDialog(){return _super!==null&&_super.apply(this,arguments)||this}return GuideMainDialog}(MainUI.GuideMainDialogStruct));MainUI.GuideMainDialog=GuideMainDialog})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuiderStruct=(function(_super){__extends(GuiderStruct,_super);function GuiderStruct(){return _super.call(this)||this}GuiderStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","Guider"))};GuiderStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};GuiderStruct.URL="ui://7ecreso0ua2b2x";GuiderStruct.DependPackages=["MainUI"];return GuiderStruct}(fairygui.GButton));MainUI.GuiderStruct=GuiderStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var Guider=(function(_super){__extends(Guider,_super);function Guider(){return _super!==null&&_super.apply(this,arguments)||this}return Guider}(MainUI.GuiderStruct));MainUI.Guider=Guider})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideTaskDialogStruct=(function(_super){__extends(GuideTaskDialogStruct,_super);function GuideTaskDialogStruct(){return _super.call(this)||this}GuideTaskDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","GuideTaskDialog"))};GuideTaskDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_role=(this.getChild("role"));this.m_arrow2=(this.getChild("arrow2"));this.m_roleGetReward=(this.getChild("roleGetReward"));this.m_arrow1=(this.getChild("arrow1"));this.m_dialog=(this.getChild("dialog"))};GuideTaskDialogStruct.URL="ui://7ecreso0gn0tx4z";GuideTaskDialogStruct.DependPackages=["MainUI","Guide","Common"];return GuideTaskDialogStruct}(fairygui.GButton));MainUI.GuideTaskDialogStruct=GuideTaskDialogStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideTaskDialog=(function(_super){__extends(GuideTaskDialog,_super);function GuideTaskDialog(){return _super!==null&&_super.apply(this,arguments)||this}GuideTaskDialog.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_roleGetReward.icon=Game.config.avatar.getConfig(9991).bodyIconUrl;this.m_role.icon=Game.config.avatar.getConfig(9991).bodyIconUrl};return GuideTaskDialog}(MainUI.GuideTaskDialogStruct));MainUI.GuideTaskDialog=GuideTaskDialog})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideTaskRoleStruct=(function(_super){__extends(GuideTaskRoleStruct,_super);function GuideTaskRoleStruct(){return _super.call(this)||this}GuideTaskRoleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","GuideTaskRole"))};GuideTaskRoleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};GuideTaskRoleStruct.URL="ui://7ecreso0gn0tx50";GuideTaskRoleStruct.DependPackages=["MainUI","Guide","Common"];return GuideTaskRoleStruct}(fairygui.GButton));MainUI.GuideTaskRoleStruct=GuideTaskRoleStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var GuideTaskRole=(function(_super){__extends(GuideTaskRole,_super);function GuideTaskRole(){return _super!==null&&_super.apply(this,arguments)||this}GuideTaskRole.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon.icon=Game.config.avatar.getConfig(9991).bodyIconUrl};return GuideTaskRole}(MainUI.GuideTaskRoleStruct));MainUI.GuideTaskRole=GuideTaskRole})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MainMenuBarStruct=(function(_super){__extends(MainMenuBarStruct,_super);function MainMenuBarStruct(){return _super.call(this)||this}MainMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MainMenuBar"))};MainMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btn_run=(this.getChild("btn_run"));this.m_btn_manager=(this.getChild("btn_manager"));this.m_btn_artist=(this.getChild("btn_artist"));this.m_btn_film=(this.getChild("btn_film"));this.m_btn_market=(this.getChild("btn_market"));this.m_btn_social=(this.getChild("btn_social"));this.m_btn_depot=(this.getChild("btn_depot"))};MainMenuBarStruct.URL="ui://7ecreso0npx5x3n";MainMenuBarStruct.DependPackages=["MainUI"];return MainMenuBarStruct}(fairygui.GComponent));MainUI.MainMenuBarStruct=MainMenuBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MainMenuBar=(function(_super){__extends(MainMenuBar,_super);function MainMenuBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuButtons=[];_this.posDict=new Dictionary();return _this}MainMenuBar.prototype.onWindowInited=function(){for(var i=0;i<this.numChildren;i++){var item=this.getChildAt(i);if(item.name.startsWith("btn_")){var ctl=new MainUI.MenuButtonCtl(item,this.moduleWindow.conent);this.posDict.add(ctl.menuButtonData.pos,ctl);this.menuButtons.push(ctl)}}var list=Game.config.menu.getBarMenus(Games.MenuBarType.Bottom);for(var i=0;i<list.length;i++){var config=list[i];var ctl=this.posDict.getValue(config.barIndex);if(ctl){ctl.setMenuConfig(config)}}};MainMenuBar.prototype.onRefreshUnlock=function(){for(var _i=0,_a=this.menuButtons;_i<_a.length;_i++){var item=_a[_i];item.refreshUnlock()}};return MainMenuBar}(MainUI.MainMenuBarStruct));MainUI.MainMenuBar=MainMenuBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MainUIStruct=(function(_super){__extends(MainUIStruct,_super);function MainUIStruct(){return _super.call(this)||this}MainUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MainUI"))};MainUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_builder=(this.getChild("builder"));this.m_topInfoBar=(this.getChild("topInfoBar"));this.m_rightTopMenuBar=(this.getChild("rightTopMenuBar"));this.m_rightMiddleMenuBar=(this.getChild("rightMiddleMenuBar"));this.m_rightBottomMenuBar=(this.getChild("rightBottomMenuBar"));this.m_mainMenuBar=(this.getChild("mainMenuBar"));this.m_taskPanel=(this.getChild("taskPanel"))};MainUIStruct.URL="ui://7ecreso0rbh3x44";MainUIStruct.DependPackages=["MainUI","Building","Common","Guide"];return MainUIStruct}(fairygui.GComponent));MainUI.MainUIStruct=MainUIStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI_1){var MainUI=(function(_super){__extends(MainUI,_super);function MainUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.submenuBarDict=new Dictionary();_this.submenus=[];_this.menuDict=new Dictionary();_this.menuList=[];_this.menuRedDict=new Dictionary();_this.filmContinueBtnList=null;return _this}MainUI.prototype.addMenuList=function(list){for(var i=0;i<list.length;i++){this.menuDict.add(list[i].menuId,list[i]);this.menuList.push(list[i])}};MainUI.prototype.getMenu=function(menuId){return this.menuDict.getValue(menuId)};MainUI.prototype.getSubmenu=function(subbarId){return this.submenuBarDict.getValue(subbarId)};MainUI.prototype.getSubmenuIsOpened=function(subbarId){var subbar=this.getSubmenu(subbarId);if(subbar){return subbar.parent?true:false}return false};MainUI.prototype.createSubmenu=function(subbarId,type){var menu=this.getMenu(subbarId);if(menu){var submenu=MainUI_1.Submenu.createInstance();submenu.setButton(this,subbarId,menu,type);this.submenus.push(submenu);this.submenuBarDict.add(subbarId,submenu);this.addMenuList(submenu.menuButtons)}};MainUI.prototype.closeSubmenus=function(subbarId){if(subbarId===void 0){subbarId=-1}for(var i=0;i<this.submenus.length;i++){if(this.submenus[i].barId!=subbarId){fairygui.GRoot.inst.hidePopup(this.submenus[i])}}};MainUI.prototype.onWindowInited=function(){var _this=this;this.m_taskPanel.visible=false;setTimeout(function(){_this.addMenuList(_this.m_mainMenuBar.menuButtons);_this.addMenuList(_this.m_rightBottomMenuBar.menuButtons);_this.addMenuList(_this.m_rightTopMenuBar.menuButtons);_this.addMenuList(_this.m_rightMiddleMenuBar.menuButtons);_this.createSubmenu(Games.MenuBarType.SumBar_Run,MainUI_1.SubmenuType.bottom);_this.createSubmenu(Games.MenuBarType.SumBar_Manage,MainUI_1.SubmenuType.bottom);_this.createSubmenu(Games.MenuBarType.SumBar_Social,MainUI_1.SubmenuType.bottom)},10)};MainUI.prototype.setRed=function(menuId,val){this.menuRedDict.set(menuId,val);var menuCtl=this.getMenu(menuId);if(menuCtl){menuCtl.setRed(val)}};Object.defineProperty(MainUI.prototype,"visitTopUI",{get:function(){if(this._visitTopUI==null){this._visitTopUI=fgui.MainUI.VisitMainTopUI.createInstance();this.addChild(this._visitTopUI);this._visitTopUI.setXY(505,85)}return this._visitTopUI},enumerable:true,configurable:true});MainUI.prototype.showVisitUI=function(data){this.visitTopUI.show(data)};MainUI.prototype.hideVisitUI=function(){this.visitTopUI.hide()};MainUI.prototype.refreshRed=function(){for(var i=0;i<this.menuList.length;i++){var item=this.menuList[i];this.setRed(item.menuId,Games.MenuValidateRed.getInstance().validate(item.menuId))}if(this.cooperationForMainUI){this.cooperationForMainUI.refreshRed()}};MainUI.prototype.refreshUnlock=function(){this.m_mainMenuBar.onRefreshUnlock();this.m_rightTopMenuBar.onRefreshUnlock();this.m_rightBottomMenuBar.onRefreshUnlock();this.m_rightMiddleMenuBar.onRefreshUnlock();for(var _i=0,_a=this.submenus;_i<_a.length;_i++){var submenu=_a[_i];submenu.onRefreshUnlock()}};MainUI.prototype.onWindowShow=function(){var _this=this;setTimeout(function(){_this.refreshUnlock();_this.refreshRed()},100);this.onCreateFilmSmall();this.onCreateFilmContinue();this.updateVisitView();this.updateTaskView();Game.protoOkEvent.add(ProtoEventKey.ManageVisitData,this.updateVisitView,this);Game.protoOkEvent.add(ProtoEventKey.TaskData,this.updateTaskView,this);Game.event.add(GameEventKey.GameEventKey_UpdateVisitActor,this.updateVisitView,this);Game.event.add(GameEventKey.PopupPanel,this.onPopupPanel,this);Game.event.add(GameEventKey.GameEventKey_ClientUpdateMainTask,this.updateTaskView,this);Game.event.add(GameEventKey.GameEventKey_TimeLimitRemind50,this.warTimeTip,this);this.m_taskPanel.m_role.onClick(this,this.onClickTaskRole);this.m_taskPanel.m_roleGetReward.onClick(this,this.onClickTaskReward);Game.guide.checkPlayStoryByType(Games.StoryTriggerType.MainUI)};MainUI.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ManageVisitData,this.updateVisitView,this);Game.event.remove(GameEventKey.GameEventKey_UpdateVisitActor,this.updateVisitView,this);Game.protoOkEvent.remove(ProtoEventKey.ManageVisitData,this.updateVisitView,this);Game.event.remove(GameEventKey.PopupPanel,this.onPopupPanel,this);Game.event.remove(GameEventKey.GameEventKey_ClientUpdateMainTask,this.updateTaskView,this);Game.event.remove(GameEventKey.GameEventKey_TimeLimitRemind50,this.warTimeTip,this);this.m_taskPanel.m_role.offClick(this,this.onClickTaskRole);this.m_taskPanel.m_roleGetReward.offClick(this,this.onClickTaskReward)};MainUI.prototype.updateTaskView=function(){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask&&Game.moduleModel.guide.isGuideFinished(100101)){if(mainTask.isFinished){this.m_taskPanel.m_c1.selectedIndex=0;this.m_taskPanel.m_roleGetReward.text=Games.TEXT.TaskGetReward}else{this.m_taskPanel.m_c1.selectedIndex=1;this.m_taskPanel.m_dialog.text=mainTask.mainConfig.name}this.m_taskPanel.visible=true}else{this.m_taskPanel.visible=false}};MainUI.prototype.onClickTaskRole=function(){Game.menu.open(MenuId.MainTask)};MainUI.prototype.onClickTaskReward=function(){Game.menu.open(MenuId.MainTask)};MainUI.prototype.onPopupPanel=function(){this.closeSubmenus()};MainUI.prototype.warTimeTip=function(){if(User.isNineToFifty){Game.system.toastText(TEXT.NineToFiftyTip)}};MainUI.prototype.updateVisitView=function(){var visitData=Game.moduleModel.visit.getVisitData();if(visitData&&visitData.isWaiting){Game.event.dispatch(GameEventKey.GameEventKey_StartReception);this.showVisitUI(visitData)}else{this.hideVisitUI()}};MainUI.prototype.onCreateFilmSmall=function(){if(Game.moduleModel.warData.moveData&&Game.moduleModel.warData.moveData!==null&&Game.moduleModel.warData.moveData.state===EMovieState.result){Game.moduleModel.warData.refrushFilmingStatus();if(!Game.moduleModel.warData.clientHideFilmOverResult){if(!this.filmSmalBtn||this.filmSmalBtn===null){this.filmSmalBtn=fgui.MainUI.WarFilmSmalls.createInstance();this.addChild(this.filmSmalBtn);this.filmSmalBtn.setXY(0,288)}this.filmSmalBtn.onWindowShow()}else{if(this.filmSmalBtn&&this.filmSmalBtn!==null){this.filmSmalBtn.onCloseSelf()}}}else{if(this.filmSmalBtn&&this.filmSmalBtn!==null){this.filmSmalBtn.onCloseSelf()}}};MainUI.prototype.onCreateFilmContinue=function(){if(this.filmContinueBtnList===null){this.filmContinueBtnList=new Array()}for(var i=0;i<this.filmContinueBtnList.length;i++){this.filmContinueBtnList[i].onWindowHide()}if(Game.moduleModel.warData.movieDataList.length>0){for(var i=0;i<Game.moduleModel.warData.movieDataList.length;i++){if(this.filmContinueBtnList.length<i+1){var item=fgui.MainUI.WarFilmContinue.createInstance();this.addChild(item);var yy=452+108*i;item.setXY(4,yy);item.visible=false;this.filmContinueBtnList.push(item)}if(Game.moduleModel.warData.movieDataList[i]&&Game.moduleModel.warData.movieDataList[i]!==null){this.filmContinueBtnList[i].setData(i)}}}};MainUI.prototype.onCreateExpect=function(){if(!this.warExpect||this.warExpect===null){this.warExpect=fgui.MainUI.WarExpect.createInstance();this.addChild(this.warExpect);this.warExpect.setXY(10,100);this.warExpect.showHidePanel(true)}this.warExpect.setData()};MainUI.prototype.onCreateCooperation=function(){if(Games.MenuValidateUnlock.getInstance().validate(MenuId.Cooperation)){if(!this.cooperationForMainUI||this.cooperationForMainUI===null){this.cooperationForMainUI=fgui.Cooperation.CooperationForMainUI.createInstance();this.addChild(this.cooperationForMainUI);this.cooperationForMainUI.setXY(10,180)}this.cooperationForMainUI.setData()}};MainUI.prototype.cooperationBtn=function(index){if(this.cooperationForMainUI){return this.cooperationForMainUI.getChild("m_iconBtn"+(index+1))}return null};return MainUI}(MainUI_1.MainUIStruct));MainUI_1.MainUI=MainUI;var MenuButtonCtl=(function(){function MenuButtonCtl(button,mainUI){this.mainUI=mainUI;this.button=button;if(!isNullOrEmpty(button.data)){this.menuButtonData=JSON.parse(button.data)}else{this.menuButtonData={menuId:0}}if(this.button.m_red){this.button.m_red.visible=false}if(this.button.m_lock){this.button.m_lock.visible=false}this.button.onClick(this,this.onClickButton)}Object.defineProperty(MenuButtonCtl.prototype,"menuId",{get:function(){if(this.menuConfig){return this.menuConfig.menuId}else{return this.menuButtonData.menuId}},enumerable:true,configurable:true});MenuButtonCtl.prototype.setMenuConfig=function(config){this.menuConfig=config;this.button.m_title.text=config.name;if(!isNullOrEmpty(config.iconUrl)){this.button.m_icon.url=config.iconUrl}};MenuButtonCtl.prototype.onClickButton=function(){if(this.menuConfig.openMenu()){this.mainUI.closeSubmenus()}};MenuButtonCtl.prototype.setRed=function(val){if(!this.button.m_red){return}if(isNumber(val)){this.button.m_red.m_num.text=val.toString();this.button.m_red.visible=val>0}else{this.button.m_red.m_num.text="";this.button.m_red.visible=val}};Object.defineProperty(MenuButtonCtl.prototype,"isUnlock",{get:function(){return this.menuConfig.isUnlock},enumerable:true,configurable:true});MenuButtonCtl.prototype.refreshUnlock=function(lockIsHide){if(lockIsHide&&!this.menuConfig.lockVisiable){this.button.visible=this.isUnlock}if(!this.button.visible||!this.button.parent){return}if(this.button.m_lock){this.button.m_lock.visible=!this.isUnlock}if(this.isUnlock){FguiHelper.clearFilters(this.button.m_icon);FguiHelper.clearFilters(this.button.m_title)}else{FguiHelper.halfStaturation(this.button.m_icon);FguiHelper.halfStaturation(this.button.m_title)}};return MenuButtonCtl}());MainUI_1.MenuButtonCtl=MenuButtonCtl})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuBButtonStruct=(function(_super){__extends(MenuBButtonStruct,_super);function MenuBButtonStruct(){return _super.call(this)||this}MenuBButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MenuBButton"))};MenuBButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};MenuBButtonStruct.URL="ui://7ecreso0rbh3x4a";MenuBButtonStruct.DependPackages=["MainUI","Common"];return MenuBButtonStruct}(fairygui.GButton));MainUI.MenuBButtonStruct=MenuBButtonStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuBButton=(function(_super){__extends(MenuBButton,_super);function MenuBButton(){return _super!==null&&_super.apply(this,arguments)||this}return MenuBButton}(MainUI.MenuBButtonStruct));MainUI.MenuBButton=MenuBButton})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuBMainButtonStruct=(function(_super){__extends(MenuBMainButtonStruct,_super);function MenuBMainButtonStruct(){return _super.call(this)||this}MenuBMainButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MenuBMainButton"))};MenuBMainButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};MenuBMainButtonStruct.URL="ui://7ecreso0ua2b2q";MenuBMainButtonStruct.DependPackages=["MainUI","Common"];return MenuBMainButtonStruct}(fairygui.GButton));MainUI.MenuBMainButtonStruct=MenuBMainButtonStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuBMainButton=(function(_super){__extends(MenuBMainButton,_super);function MenuBMainButton(){return _super!==null&&_super.apply(this,arguments)||this}return MenuBMainButton}(MainUI.MenuBMainButtonStruct));MainUI.MenuBMainButton=MenuBMainButton})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuRButtonStruct=(function(_super){__extends(MenuRButtonStruct,_super);function MenuRButtonStruct(){return _super.call(this)||this}MenuRButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MenuRButton"))};MenuRButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};MenuRButtonStruct.URL="ui://7ecreso0ua2b2w";MenuRButtonStruct.DependPackages=["MainUI","Common"];return MenuRButtonStruct}(fairygui.GButton));MainUI.MenuRButtonStruct=MenuRButtonStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuRButton=(function(_super){__extends(MenuRButton,_super);function MenuRButton(){return _super!==null&&_super.apply(this,arguments)||this}return MenuRButton}(MainUI.MenuRButtonStruct));MainUI.MenuRButton=MenuRButton})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuSubButtonStruct=(function(_super){__extends(MenuSubButtonStruct,_super);function MenuSubButtonStruct(){return _super.call(this)||this}MenuSubButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","MenuSubButton"))};MenuSubButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};MenuSubButtonStruct.URL="ui://7ecreso0m6h3x4g";MenuSubButtonStruct.DependPackages=["MainUI","Common"];return MenuSubButtonStruct}(fairygui.GButton));MainUI.MenuSubButtonStruct=MenuSubButtonStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var MenuSubButton=(function(_super){__extends(MenuSubButton,_super);function MenuSubButton(){return _super!==null&&_super.apply(this,arguments)||this}return MenuSubButton}(MainUI.MenuSubButtonStruct));MainUI.MenuSubButton=MenuSubButton})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RedStruct=(function(_super){__extends(RedStruct,_super);function RedStruct(){return _super.call(this)||this}RedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","Red"))};RedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"))};RedStruct.URL="ui://7ecreso011k5x37";RedStruct.DependPackages=["MainUI","Common"];return RedStruct}(fairygui.GComponent));MainUI.RedStruct=RedStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var Red=(function(_super){__extends(Red,_super);function Red(){return _super!==null&&_super.apply(this,arguments)||this}return Red}(MainUI.RedStruct));MainUI.Red=Red})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightBottomMenuBarStruct=(function(_super){__extends(RightBottomMenuBarStruct,_super);function RightBottomMenuBarStruct(){return _super.call(this)||this}RightBottomMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","RightBottomMenuBar"))};RightBottomMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_setting=(this.getChild("setting"))};RightBottomMenuBarStruct.URL="ui://7ecreso0npx5x3o";RightBottomMenuBarStruct.DependPackages=["MainUI"];return RightBottomMenuBarStruct}(fairygui.GComponent));MainUI.RightBottomMenuBarStruct=RightBottomMenuBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightBottomMenuBar=(function(_super){__extends(RightBottomMenuBar,_super);function RightBottomMenuBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuButtons=[];return _this}RightBottomMenuBar.prototype.onWindowInited=function(){for(var i=this.numChildren-1;i>=0;i--){this.removeChildAt(i)}var list=Game.config.menu.getBarMenus(Games.MenuBarType.Right_Bottom);list.sort(function(a,b){return a.barIndex-b.barIndex});var y=0;for(var i=0;i<list.length;i++){var config=list[i];if(!Games.MenuWindows.get(config.menuId)){continue}var button=MainUI.MenuRButton.createInstance();button.y=y;y+=button.height;this.addChild(button);var ctl=new MainUI.MenuButtonCtl(button,this.moduleWindow.conent);ctl.setMenuConfig(config);this.menuButtons.push(ctl)}this.height=y};RightBottomMenuBar.prototype.layoutButtom=function(){var y=0;for(var i=0;i<this.menuButtons.length;i++){var ctl=this.menuButtons[i];if(!ctl.button.visible){continue}ctl.button.y=y;y+=ctl.button.height}};RightBottomMenuBar.prototype.onRefreshUnlock=function(){for(var _i=0,_a=this.menuButtons;_i<_a.length;_i++){var item=_a[_i];item.refreshUnlock(true)}this.layoutButtom()};return RightBottomMenuBar}(MainUI.RightBottomMenuBarStruct));MainUI.RightBottomMenuBar=RightBottomMenuBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightMiddleMenuBarStruct=(function(_super){__extends(RightMiddleMenuBarStruct,_super);function RightMiddleMenuBarStruct(){return _super.call(this)||this}RightMiddleMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","RightMiddleMenuBar"))};RightMiddleMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_awards=(this.getChild("awards"));this.m_goal=(this.getChild("goal"))};RightMiddleMenuBarStruct.URL="ui://7ecreso0tf2bx4l";RightMiddleMenuBarStruct.DependPackages=["MainUI"];return RightMiddleMenuBarStruct}(fairygui.GComponent));MainUI.RightMiddleMenuBarStruct=RightMiddleMenuBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightMiddleMenuBar=(function(_super){__extends(RightMiddleMenuBar,_super);function RightMiddleMenuBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuButtons=[];return _this}RightMiddleMenuBar.prototype.onWindowInited=function(){for(var i=0;i<this.numChildren;i++){var item=this.getChildAt(i);var ctl=new MainUI.MenuButtonCtl(item,this.moduleWindow.conent);if(ctl.menuButtonData){var menuConfig=Game.config.menu.getConfig(ctl.menuButtonData.menuId);if(menuConfig){ctl.setMenuConfig(menuConfig)}}this.menuButtons.push(ctl)}for(var i=0;i<this.menuButtons.length;i++){if(!Games.MenuWindows.get(this.menuButtons[i].menuId)){this.menuButtons[i].button.removeFromParent()}}this.tickOscar=Game.tick.AddTick(1,0,Handler.create(this,this.UpdateOscarTime,null,false),Handler.create(this,this.OnOscarFinish,null,false))};RightMiddleMenuBar.prototype.onRefreshUnlock=function(){for(var _i=0,_a=this.menuButtons;_i<_a.length;_i++){var item=_a[_i];item.refreshUnlock(true)}};RightMiddleMenuBar.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.RankListData,this.UpdateTick,this);this.UpdateTick()};RightMiddleMenuBar.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.RankListData,this.UpdateTick,this)};RightMiddleMenuBar.prototype.onClickAwards=function(){};RightMiddleMenuBar.prototype.onClickGoal=function(){};RightMiddleMenuBar.prototype.UpdateTick=function(){if(Game.moduleModel.oscar.IsFinishOscar){this.tickOscar.SetTargetTimes(Game.moduleModel.oscar.OscarCD);this.tickOscar.Restart()}else{this.m_awards.m_buttonTime.text="";if(!Game.menu.isOpened(MenuId.Awards)&&Game.moduleModel.oscar.isUnLockOscar&&!Game.moduleModel.oscar.IsFinishOscar){Game.menu.open(MenuId.Awards,Games.OscarSubEnum.OscarShow)}}};RightMiddleMenuBar.prototype.UpdateOscarTime=function(time){var strTime=TimeHelper.TimeFormat(time);this.m_awards.m_buttonTime.m_time.text=strTime};RightMiddleMenuBar.prototype.OnOscarFinish=function(){this.tickOscar.Stop();this.m_awards.m_buttonTime.text="";if(!Game.menu.isOpened(MenuId.Awards)){Game.protosender.rank.GetOscarData()}};return RightMiddleMenuBar}(MainUI.RightMiddleMenuBarStruct));MainUI.RightMiddleMenuBar=RightMiddleMenuBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightTopMenuBarStruct=(function(_super){__extends(RightTopMenuBarStruct,_super);function RightTopMenuBarStruct(){return _super.call(this)||this}RightTopMenuBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","RightTopMenuBar"))};RightTopMenuBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_setting=(this.getChild("setting"))};RightTopMenuBarStruct.URL="ui://7ecreso0hltlx4b";RightTopMenuBarStruct.DependPackages=["MainUI"];return RightTopMenuBarStruct}(fairygui.GComponent));MainUI.RightTopMenuBarStruct=RightTopMenuBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var RightTopMenuBar=(function(_super){__extends(RightTopMenuBar,_super);function RightTopMenuBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuButtons=[];return _this}RightTopMenuBar.prototype.onWindowInited=function(){for(var i=this.numChildren-1;i>=0;i--){this.removeChildAt(i)}var list=Game.config.menu.getBarMenus(Games.MenuBarType.Right_Top);list.sort(function(a,b){return a.barIndex-b.barIndex});var y=0;var x=110;var c=0;var r=0;for(var i=0;i<list.length;i++){var config=list[i];if(!Games.MenuWindows.get(config.menuId)){continue}r=i%4;c=Math.floor(i/4);x=this.width-90*(c+1);if(r==0){y=0}var button=MainUI.MenuRButton.createInstance();button.y=y;button.x=x;y+=button.height;this.addChild(button);var ctl=new MainUI.MenuButtonCtl(button,this.moduleWindow.conent);ctl.setMenuConfig(config);this.menuButtons.push(ctl)}};RightTopMenuBar.prototype.layoutButtom=function(){var y=0;var x=110;var c=0;var r=0;var index=0;for(var i=0;i<this.menuButtons.length;i++){var ctl=this.menuButtons[i];if(!ctl.button.visible){continue}r=index%4;c=Math.floor(index/4);x=this.width-90*(c+1);if(r==0){y=0}ctl.button.x=x;ctl.button.y=y;y+=ctl.button.height;index++}};RightTopMenuBar.prototype.onRefreshUnlock=function(){for(var _i=0,_a=this.menuButtons;_i<_a.length;_i++){var item=_a[_i];item.refreshUnlock(true)}this.layoutButtom()};return RightTopMenuBar}(MainUI.RightTopMenuBarStruct));MainUI.RightTopMenuBar=RightTopMenuBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var SubmenuStruct=(function(_super){__extends(SubmenuStruct,_super);function SubmenuStruct(){return _super.call(this)||this}SubmenuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","Submenu"))};SubmenuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_arrow=this.getController("arrow");this.m_arrowBottom=(this.getChild("arrowBottom"));this.m_arrowTop=(this.getChild("arrowTop"));this.m_arrowLeft=(this.getChild("arrowLeft"));this.m_arrowRight=(this.getChild("arrowRight"));this.m_container=(this.getChild("container"))};SubmenuStruct.URL="ui://7ecreso0m6h3x4c";SubmenuStruct.DependPackages=["MainUI"];return SubmenuStruct}(fairygui.GComponent));MainUI.SubmenuStruct=SubmenuStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var Point=laya.maths.Point;var fgui;(function(fgui){var MainUI;(function(MainUI){var SubmenuType;(function(SubmenuType){SubmenuType[SubmenuType.bottom=0]="bottom";SubmenuType[SubmenuType.top=1]="top";SubmenuType[SubmenuType.left=2]="left";SubmenuType[SubmenuType.right=3]="right"})(SubmenuType=MainUI.SubmenuType||(MainUI.SubmenuType={}));var Submenu=(function(_super){__extends(Submenu,_super);function Submenu(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.menuButtons=[];return _this}Submenu.prototype.setButton=function(mainUi,subbarId,button,type){this.mainUi=mainUi;this.button=button;this.type=type;this.barId=subbarId;this.m_arrow.selectedIndex=type;var list=Game.config.menu.getBarMenus(button.menuId);for(var i=0;i<list.length;i++){var config=list[i];if(!Games.MenuWindows.get(config.menuId)){continue}var button_1=MainUI.MenuSubButton.createInstance();this.addChild(button_1);var ctl=new MainUI.MenuButtonCtl(button_1,mainUi);ctl.setMenuConfig(config);this.menuButtons.push(ctl)}switch(type){case SubmenuType.bottom:this.arrow=this.m_arrowBottom;break}this.refreshLayout();this.button.button.onClick(this,this.onClickButton)};Submenu.prototype.onClickButton=function(){fairygui.GRoot.inst.togglePopup(this,this.button.button);if(this.parent){this.refreshLayout()}};Submenu.prototype.refreshLayout=function(){switch(this.type){case SubmenuType.bottom:this.layoutBottom();break}};Submenu.prototype.layoutBottom=function(){var stageWidth=fairygui.GRoot.inst.width;var widthMax=750;var paddingH=45;var paddingV=45;var columnMax=6;var buttonWidth=90;var buttonHeight=90;var width=widthMax-paddingH*2;var gapH=(width-columnMax*buttonWidth)/(columnMax-2);var gapV=20;var index=0;var c=0;var r=0;var cmax=1;var rmax=1;for(var i=0;i<this.menuButtons.length;i++){var button=this.menuButtons[i].button;if(!button.visible){continue}c=index%columnMax;r=Math.floor(index/columnMax);cmax=Math.max(c,cmax);rmax=Math.max(r,rmax);button.x=paddingH+c*(buttonWidth+gapH);button.y=paddingV+r*(buttonHeight+gapV);index++}c=index%columnMax;r=Math.floor(index/columnMax);cmax=Math.max(c,cmax);rmax=Math.max(r,rmax);this.width=paddingH*2+cmax*(buttonWidth+gapH)-gapH;this.height=paddingV*2+rmax*buttonHeight+(rmax-1)*gapV;var buttonCenterX=this.button.button.x+this.button.button.width*0.5;var x=buttonCenterX-this.width*0.5;x=Math.max(x,-15);x=Math.min(x,stageWidth-this.width-15);this.x=x;this.arrow.x=buttonCenterX-this.x-15};Submenu.prototype.onRefreshUnlock=function(){for(var _i=0,_a=this.menuButtons;_i<_a.length;_i++){var item=_a[_i];item.refreshUnlock()}};return Submenu}(MainUI.SubmenuStruct));MainUI.Submenu=Submenu})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var SubMenuBgArrowStruct=(function(_super){__extends(SubMenuBgArrowStruct,_super);function SubMenuBgArrowStruct(){return _super.call(this)||this}SubMenuBgArrowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","SubMenuBgArrow"))};SubMenuBgArrowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_arrow=this.getController("arrow");this.m_arrowDown=(this.getChild("arrowDown"));this.m_arrowTop=(this.getChild("arrowTop"));this.m_arrowLeft=(this.getChild("arrowLeft"));this.m_arrowRight=(this.getChild("arrowRight"))};SubMenuBgArrowStruct.URL="ui://7ecreso0m6h3x4d";SubMenuBgArrowStruct.DependPackages=["MainUI"];return SubMenuBgArrowStruct}(fairygui.GComponent));MainUI.SubMenuBgArrowStruct=SubMenuBgArrowStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var SubMenuBgArrow=(function(_super){__extends(SubMenuBgArrow,_super);function SubMenuBgArrow(){return _super!==null&&_super.apply(this,arguments)||this}return SubMenuBgArrow}(MainUI.SubMenuBgArrowStruct));MainUI.SubMenuBgArrow=SubMenuBgArrow})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var SubmenuContainerStruct=(function(_super){__extends(SubmenuContainerStruct,_super);function SubmenuContainerStruct(){return _super.call(this)||this}SubmenuContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","SubmenuContainer"))};SubmenuContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};SubmenuContainerStruct.URL="ui://7ecreso0tf2bx4m";SubmenuContainerStruct.DependPackages=["MainUI"];return SubmenuContainerStruct}(fairygui.GComponent));MainUI.SubmenuContainerStruct=SubmenuContainerStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var SubmenuContainer=(function(_super){__extends(SubmenuContainer,_super);function SubmenuContainer(){return _super!==null&&_super.apply(this,arguments)||this}return SubmenuContainer}(MainUI.SubmenuContainerStruct));MainUI.SubmenuContainer=SubmenuContainer})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TaskDialogMsgPanelStruct=(function(_super){__extends(TaskDialogMsgPanelStruct,_super);function TaskDialogMsgPanelStruct(){return _super.call(this)||this}TaskDialogMsgPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TaskDialogMsgPanel"))};TaskDialogMsgPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkBg=(this.getChild("talkBg"));this.m_title=(this.getChild("title"))};TaskDialogMsgPanelStruct.URL="ui://7ecreso0olpux5f";TaskDialogMsgPanelStruct.DependPackages=["MainUI","Common"];return TaskDialogMsgPanelStruct}(fairygui.GLabel));MainUI.TaskDialogMsgPanelStruct=TaskDialogMsgPanelStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TaskDialogMsgPanel=(function(_super){__extends(TaskDialogMsgPanel,_super);function TaskDialogMsgPanel(){return _super!==null&&_super.apply(this,arguments)||this}return TaskDialogMsgPanel}(MainUI.TaskDialogMsgPanelStruct));MainUI.TaskDialogMsgPanel=TaskDialogMsgPanel})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TimeMenuButtonStruct=(function(_super){__extends(TimeMenuButtonStruct,_super);function TimeMenuButtonStruct(){return _super.call(this)||this}TimeMenuButtonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TimeMenuButton"))};TimeMenuButtonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_visiableTitle=this.getController("visiableTitle");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_lock=(this.getChild("lock"));this.m_buttonTime=(this.getChild("buttonTime"))};TimeMenuButtonStruct.URL="ui://7ecreso0m6h3x4j";TimeMenuButtonStruct.DependPackages=["MainUI","Common"];return TimeMenuButtonStruct}(fairygui.GButton));MainUI.TimeMenuButtonStruct=TimeMenuButtonStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TimeMenuButton=(function(_super){__extends(TimeMenuButton,_super);function TimeMenuButton(){return _super!==null&&_super.apply(this,arguments)||this}return TimeMenuButton}(MainUI.TimeMenuButtonStruct));MainUI.TimeMenuButton=TimeMenuButton})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadIconStruct=(function(_super){__extends(TopHeadIconStruct,_super);function TopHeadIconStruct(){return _super.call(this)||this}TopHeadIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopHeadIcon"))};TopHeadIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"))};TopHeadIconStruct.URL="ui://7ecreso0ua2b34";TopHeadIconStruct.DependPackages=["MainUI"];return TopHeadIconStruct}(fairygui.GButton));MainUI.TopHeadIconStruct=TopHeadIconStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadIcon=(function(_super){__extends(TopHeadIcon,_super);function TopHeadIcon(){return _super!==null&&_super.apply(this,arguments)||this}return TopHeadIcon}(MainUI.TopHeadIconStruct));MainUI.TopHeadIcon=TopHeadIcon})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadIconMaskStruct=(function(_super){__extends(TopHeadIconMaskStruct,_super);function TopHeadIconMaskStruct(){return _super.call(this)||this}TopHeadIconMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopHeadIconMask"))};TopHeadIconMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};TopHeadIconMaskStruct.URL="ui://7ecreso0rbh3x49";TopHeadIconMaskStruct.DependPackages=["MainUI","PfSkin"];return TopHeadIconMaskStruct}(fairygui.GButton));MainUI.TopHeadIconMaskStruct=TopHeadIconMaskStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadIconMask=(function(_super){__extends(TopHeadIconMask,_super);function TopHeadIconMask(){return _super!==null&&_super.apply(this,arguments)||this}return TopHeadIconMask}(MainUI.TopHeadIconMaskStruct));MainUI.TopHeadIconMask=TopHeadIconMask})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadInfoStruct=(function(_super){__extends(TopHeadInfoStruct,_super);function TopHeadInfoStruct(){return _super.call(this)||this}TopHeadInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopHeadInfo"))};TopHeadInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_vip=(this.getChild("vip"));this.m_level=(this.getChild("level"));this.m_headIcon=(this.getChild("headIcon"));this.m_expBar=(this.getChild("expBar"))};TopHeadInfoStruct.URL="ui://7ecreso0f2qvx3r";TopHeadInfoStruct.DependPackages=["MainUI"];return TopHeadInfoStruct}(fairygui.GComponent));MainUI.TopHeadInfoStruct=TopHeadInfoStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopHeadInfo=(function(_super){__extends(TopHeadInfo,_super);function TopHeadInfo(){return _super!==null&&_super.apply(this,arguments)||this}return TopHeadInfo}(MainUI.TopHeadInfoStruct));MainUI.TopHeadInfo=TopHeadInfo})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMainBarStruct=(function(_super){__extends(TopMainBarStruct,_super);function TopMainBarStruct(){return _super.call(this)||this}TopMainBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopMainBar"))};TopMainBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_headInfo=(this.getChild("headInfo"));this.m_street=(this.getChild("street"));this.m_server=(this.getChild("server"));this.m_moneyBar=(this.getChild("moneyBar"))};TopMainBarStruct.URL="ui://7ecreso0rbh3x45";TopMainBarStruct.DependPackages=["MainUI","Common"];return TopMainBarStruct}(fairygui.GComponent));MainUI.TopMainBarStruct=TopMainBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMainBar=(function(_super){__extends(TopMainBar,_super);function TopMainBar(){return _super!==null&&_super.apply(this,arguments)||this}TopMainBar.prototype.onWindowInited=function(){this.m_headInfo.m_headIcon.onClick(this,this.onClickHeadIcon);this.m_street.onClick(this,this.onClickStreet);this.m_server.onClick(this,this.onClickRank)};TopMainBar.prototype.onWindowShow=function(){this.refreshData();Game.protoOkEvent.add(ProtoEventKey.GameInfo,this.refreshData,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetSelfList,this.OnRankSelfListResponse,this)};TopMainBar.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.GameInfo,this.refreshData,this);Game.protoOkEvent.remove(ProtoEventKey.rank_GetSelfList,this.OnRankSelfListResponse,this)};TopMainBar.prototype.onClickHeadIcon=function(){Game.menu.open(MenuId.PlayerInfo)};TopMainBar.prototype.onClickRank=function(){Game.menu.open(MenuId.Rank)};TopMainBar.prototype.onClickStreet=function(){Game.menu.open(MenuId.Street)};TopMainBar.prototype.OnRankSelfListResponse=function(){this.m_server.m_serverName.text=Game.moduleModel.rank.ServerName;this.m_server.m_serverRank.text=Games.TEXT.RankText.format(Game.moduleModel.rank.SelfServerRank);this.m_street.m_streetId.text=Game.moduleModel.street.GetStreetName(Game.moduleModel.street.streetCurrentId);this.m_street.m_streetRank.text=Games.TEXT.RankText.format(Game.moduleModel.rank.SelfGroupRank)};TopMainBar.prototype.refreshData=function(){this.m_headInfo.m_headIcon.icon=User.headIconUrl;this.m_headInfo.m_expBar.max=User.upgradeFans;this.m_headInfo.m_expBar.value=User.info.fans;this.m_headInfo.m_vip.text="Star "+User.info.vipLevel;this.m_headInfo.m_level.text=User.info.level.toString();this.m_street.m_roleName.text=User.info.name;this.OnRankSelfListResponse()};return TopMainBar}(MainUI.TopMainBarStruct));MainUI.TopMainBar=TopMainBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMoneyItemStruct=(function(_super){__extends(TopMoneyItemStruct,_super);function TopMoneyItemStruct(){return _super.call(this)||this}TopMoneyItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopMoneyItem"))};TopMoneyItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_addButtonVisiable=this.getController("addButtonVisiable");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_addButton=(this.getChild("addButton"))};TopMoneyItemStruct.URL="ui://7ecreso0rbh3x48";TopMoneyItemStruct.DependPackages=["MainUI","Common"];return TopMoneyItemStruct}(fairygui.GLabel));MainUI.TopMoneyItemStruct=TopMoneyItemStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMoneyItem=(function(_super){__extends(TopMoneyItem,_super);function TopMoneyItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._itemId=-1;return _this}Object.defineProperty(TopMoneyItem.prototype,"itemId",{get:function(){if(this._itemId==-1){if(!isNullOrEmpty(this.data)){var info=JSON.parse(this.data);this._itemId=info.itemId}}return this._itemId},set:function(val){this._itemId=val},enumerable:true,configurable:true});TopMoneyItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_addButton.onClick(this,this.onClickAdd)};TopMoneyItem.prototype.onClickAdd=function(){};TopMoneyItem.prototype.refreshData=function(){if(this.itemId!=-1){this.m_title.text=Game.moduleModel.item.getItemNumTxt(this.itemId)}};return TopMoneyItem}(MainUI.TopMoneyItemStruct));MainUI.TopMoneyItem=TopMoneyItem})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMoneyMainBarStruct=(function(_super){__extends(TopMoneyMainBarStruct,_super);function TopMoneyMainBarStruct(){return _super.call(this)||this}TopMoneyMainBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopMoneyMainBar"))};TopMoneyMainBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_gold=(this.getChild("gold"));this.m_diamond=(this.getChild("diamond"))};TopMoneyMainBarStruct.URL="ui://7ecreso0f2qvx3s";TopMoneyMainBarStruct.DependPackages=["MainUI","Common"];return TopMoneyMainBarStruct}(fairygui.GComponent));MainUI.TopMoneyMainBarStruct=TopMoneyMainBarStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopMoneyMainBar=(function(_super){__extends(TopMoneyMainBar,_super);function TopMoneyMainBar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.itemList=[];return _this}TopMoneyMainBar.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);for(var i=0;i<this.numChildren;i++){var item=(this.getChildAt(i));if(item instanceof MainUI.TopMoneyItem){this.itemList.push(item)}}};TopMoneyMainBar.prototype.onWindowShow=function(){this.refreshData();Game.protoOkEvent.add(ProtoEventKey.ItemData,this.refreshData,this)};TopMoneyMainBar.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.refreshData,this)};TopMoneyMainBar.prototype.refreshData=function(){for(var i=0;i<this.itemList.length;i++){this.itemList[i].refreshData()}};return TopMoneyMainBar}(MainUI.TopMoneyMainBarStruct));MainUI.TopMoneyMainBar=TopMoneyMainBar})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopServerStruct=(function(_super){__extends(TopServerStruct,_super);function TopServerStruct(){return _super.call(this)||this}TopServerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopServer"))};TopServerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_serverName=(this.getChild("serverName"));this.m_serverRank=(this.getChild("serverRank"))};TopServerStruct.URL="ui://7ecreso0rbh3x47";TopServerStruct.DependPackages=["MainUI","Common"];return TopServerStruct}(fairygui.GButton));MainUI.TopServerStruct=TopServerStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopServer=(function(_super){__extends(TopServer,_super);function TopServer(){return _super!==null&&_super.apply(this,arguments)||this}return TopServer}(MainUI.TopServerStruct));MainUI.TopServer=TopServer})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopStreetStruct=(function(_super){__extends(TopStreetStruct,_super);function TopStreetStruct(){return _super.call(this)||this}TopStreetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","TopStreet"))};TopStreetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_streetId=(this.getChild("streetId"));this.m_roleName=(this.getChild("roleName"));this.m_streetRank=(this.getChild("streetRank"))};TopStreetStruct.URL="ui://7ecreso0rbh3x46";TopStreetStruct.DependPackages=["MainUI","Common"];return TopStreetStruct}(fairygui.GButton));MainUI.TopStreetStruct=TopStreetStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var TopStreet=(function(_super){__extends(TopStreet,_super);function TopStreet(){return _super!==null&&_super.apply(this,arguments)||this}return TopStreet}(MainUI.TopStreetStruct));MainUI.TopStreet=TopStreet})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var VisitMainTopUIStruct=(function(_super){__extends(VisitMainTopUIStruct,_super);function VisitMainTopUIStruct(){return _super.call(this)||this}VisitMainTopUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","VisitMainTopUI"))};VisitMainTopUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_checklabel=(this.getChild("checklabel"));this.m_time=(this.getChild("time"));this.m_checkbox=(this.getChild("checkbox"))};VisitMainTopUIStruct.URL="ui://7ecreso0tpm8x5e";VisitMainTopUIStruct.DependPackages=["MainUI","Common"];return VisitMainTopUIStruct}(fairygui.GComponent));MainUI.VisitMainTopUIStruct=VisitMainTopUIStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var VisitMainTopUI=(function(_super){__extends(VisitMainTopUI,_super);function VisitMainTopUI(){return _super!==null&&_super.apply(this,arguments)||this}VisitMainTopUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.VisitFansWantMeet;this.visible=false};VisitMainTopUI.prototype.show=function(data){var _this=this;this.visitData=data;if(this.visible==false){this.visible=true;this.onWindowShow()}if(Game.moduleModel.secretary.isTempSecretary){var remainTimes=Game.moduleModel.secretary.autoVisitNum;if(remainTimes<=0){Game.moduleModel.secretary.isAutoVisit=false}}if(this.avatar==null){var aInfo=Games.AvatarInfo.creatByAvatarId(data.actorId);this.avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=_this.avatar.getBounds();_this.avatar.pos((_this.width)*0.5,bounds.height+80);_this.displayObject.addChild(_this.avatar);_this.avatar.direction=Games.DirtionType.Left;_this.avatar.on(Laya.Event.CLICK,_this,_this.onClickIcon);_this.avatar.openShadow()})}this.m_name.text=Game.moduleModel.actor.getActor(data.actorId).name;this.m_checklabel.text=Games.TEXT.VisitAutoReceive;Laya.timer.loop(1000,this,this.onUpdateTime,null,true);this.m_checkbox.selected=Game.moduleModel.secretary.isAutoVisit;this.onUpdateTime()};VisitMainTopUI.prototype.clearTime=function(){Laya.timer.clear(this,this.onUpdateTime)};VisitMainTopUI.prototype.onUpdateTime=function(){var nowTime=Game.time.serverSeconds;var nextTime=this.visitData.leaveTime;var duration=Math.max(0,nextTime-nowTime);if(duration>0){this.m_time.text=TimeHelper.TimeFormat3(duration)}else{this.hide()}};VisitMainTopUI.prototype.onClickCheckBox=function(){if(this.m_checkbox.selected){if(Game.moduleModel.secretary.autoVisitNum>0){Game.moduleModel.secretary.isAutoVisit=this.m_checkbox.selected;Game.menu.close(MenuId.Fans);Games.AvatarManager.autoActorToReception(this.visitData.actorId)}else{if(Game.moduleModel.secretary.isTempSecretary){Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto2)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}else{Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_not_owned,Game.config.msg.getTxt(MsgKey.secretary_auto2)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}this.m_checkbox.selected=false;Game.moduleModel.secretary.isAutoVisit=this.m_checkbox.selected}}else{Game.moduleModel.secretary.isAutoVisit=this.m_checkbox.selected}};VisitMainTopUI.prototype.onWindowShow=function(){this.m_checkbox.onClick(this,this.onClickCheckBox)};VisitMainTopUI.prototype.onWindowHide=function(){this.m_checkbox.offClick(this,this.onClickCheckBox)};VisitMainTopUI.prototype.onClickIcon=function(){Game.system.toastText(Game.config.msg.getTxt(MsgKey.visit_point))};VisitMainTopUI.prototype.hide=function(){this.clearTime();if(this.visible){this.visible=false;this.onWindowHide()}if(this.avatar){this.avatar.off(Laya.Event.CLICK,this,this.onClickIcon);this.avatar.dispose();this.avatar.removeSelf();this.avatar=null}};return VisitMainTopUI}(MainUI.VisitMainTopUIStruct));MainUI.VisitMainTopUI=VisitMainTopUI})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarExpectStruct=(function(_super){__extends(WarExpectStruct,_super);function WarExpectStruct(){return _super.call(this)||this}WarExpectStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","WarExpect"))};WarExpectStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_control=this.getController("control");this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_expectProgress=(this.getChild("expectProgress"));this.m_t0=this.getTransition("t0")};WarExpectStruct.URL="ui://7ecreso0qz7hx4r";WarExpectStruct.DependPackages=["MainUI","System","Common"];return WarExpectStruct}(fairygui.GComponent));MainUI.WarExpectStruct=WarExpectStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarExpect=(function(_super){__extends(WarExpect,_super);function WarExpect(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.showHide=false;return _this}WarExpect.prototype.showHidePanel=function(showHide){if(showHide===void 0){showHide=true}this.showHide=showHide;this.visible=this.showHide};WarExpect.prototype.setData=function(showHide){if(showHide===void 0){showHide=true}if(this.showHide){var expectVal=User.info.expected;var movieExpect=Game.config.movieExpect.getConfigWithExpect(expectVal);var indexOf=0;switch(movieExpect.id){case 1:case 2:indexOf=1;break;case 3:case 4:indexOf=2;break;default:indexOf=0;break}this.m_control.setSelectedIndex(indexOf);this.m_expectProgress.m_Progress.setSelectedIndex(indexOf);var max=movieExpect.expect_req_max;if(max<0){max=expectVal+10}this.m_expectProgress.max=max;this.m_expectProgress.value=expectVal;if(movieExpect.expect_req_max<0){this.m_expectProgress.m_title.text=expectVal.toFixed(0)}this.m_tip1.text=movieExpect.name}};return WarExpect}(MainUI.WarExpectStruct));MainUI.WarExpect=WarExpect})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarFilmContinueStruct=(function(_super){__extends(WarFilmContinueStruct,_super);function WarFilmContinueStruct(){return _super.call(this)||this}WarFilmContinueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","WarFilmContinue"))};WarFilmContinueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmIcon=(this.getChild("filmIcon"));this.m_t0=this.getTransition("t0")};WarFilmContinueStruct.URL="ui://7ecreso0gbg3x3x";WarFilmContinueStruct.DependPackages=["MainUI","Common"];return WarFilmContinueStruct}(fairygui.GButton));MainUI.WarFilmContinueStruct=WarFilmContinueStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarFilmContinue=(function(_super){__extends(WarFilmContinue,_super);function WarFilmContinue(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmContinue.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.warContinueUI=null;this.onClick(this,this.onClickBtn)};WarFilmContinue.prototype.onWindowHide=function(){Laya.timer.clear(this,this.onUpdateTime);this.visible=false};WarFilmContinue.prototype.onClickBtn=function(){Game.moduleModel.task.seeMovieRewardNum=1;if(!this.homeWin||this.homeWin===null){this.homeWin=Game.menu.getMenuCtl(MenuId.Home).moduleWindow}if(this.warContinueUI==null){this.warContinueUI=fgui.WarMovie.WarContinuousIncome.createInstance();this.homeWin.conent.addChild(this.warContinueUI);this.warContinueUI.setXY(0,0)}this.homeWin.conent.setChildIndex(this.warContinueUI,this.homeWin.conent.numChildren-1);this.warContinueUI.setData(this.indexOf,this.subTime);if(this.subTime>0){this.warContinueUI.onUpdateTime(this.subTime)}else{this.warContinueUI.onIncomeOver()}this.warContinueUI.visible=true};WarFilmContinue.prototype.setData=function(indexOf){this.indexOf=indexOf;this.m_t0.play(null,-1);this.visible=true;var curData=Game.moduleModel.warData.movieDataList[indexOf];var moveStory=Game.config.story.getConfig(curData.movieId);this.m_filmIcon.icon=Game.config.avatar.getConfig(moveStory.poster_name).iconUrl;this.onUpdateTime(curData.startTime);Laya.timer.loop(1000,this,this.onUpdateTime,[curData.startTime],true,true)};WarFilmContinue.prototype.onUpdateTime=function(val){this.subTime=7200-Game.time.getSubSecondsPre(val);if(this.subTime>0){if(!this.m_t0.playing){this.m_t0.play(null,-1)}if(this.warContinueUI!==null&&this.warContinueUI.visible){this.warContinueUI.onUpdateTime(this.subTime)}if(this.showUpdateCallBack&&this.showUpdateCallBack!==null){this.showUpdateCallBack(this.subTime)}}else{if(this.subTime<0){this.subTime=0}Laya.timer.clear(this,this.onUpdateTime);if(this.warContinueUI!==null&&this.warContinueUI.visible){this.warContinueUI.onIncomeOver()}if(this.showUpdateCallBack&&this.showUpdateCallBack!==null){this.showUpdateCallBack(0)}this.m_t0.stop()}};WarFilmContinue.prototype.onGetCallBack=function(showUpdateCallBack){this.showUpdateCallBack=showUpdateCallBack;showUpdateCallBack(this.subTime)};return WarFilmContinue}(MainUI.WarFilmContinueStruct));MainUI.WarFilmContinue=WarFilmContinue})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarFilmSmallsStruct=(function(_super){__extends(WarFilmSmallsStruct,_super);function WarFilmSmallsStruct(){return _super.call(this)||this}WarFilmSmallsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","WarFilmSmalls"))};WarFilmSmallsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmName=(this.getChild("filmName"));this.m_dayLeft=(this.getChild("dayLeft"));this.m_total=(this.getChild("total"));this.m_addVal=(this.getChild("addVal"));this.m_progressList=(this.getChild("progressList"));this.m_t0=this.getTransition("t0")};WarFilmSmallsStruct.URL="ui://7ecreso0mjkfx3t";WarFilmSmallsStruct.DependPackages=["MainUI","Common"];return WarFilmSmallsStruct}(fairygui.GButton));MainUI.WarFilmSmallsStruct=WarFilmSmallsStruct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarFilmSmalls=(function(_super){__extends(WarFilmSmalls,_super);function WarFilmSmalls(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmSmalls.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_progressList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.onClick(this,this.onClickBtn)};WarFilmSmalls.prototype.onClickBtn=function(){if(this.curTween&&this.curTween!==null){this.curTween.complete()}this.onCloseSelf();Game.menu.open(MenuId.War)};WarFilmSmalls.prototype.onCloseSelf=function(){if(this.visible){this.clearData();Game.event.remove(GameEventKey.GameEventKey_UpdateFilmingStatus,this.updateData,this);this.visible=false}};WarFilmSmalls.prototype.onWindowShow=function(){this.setData();this.visible=true;this.updateData();Game.event.add(GameEventKey.GameEventKey_UpdateFilmingStatus,this.updateData,this)};WarFilmSmalls.prototype.onWindowHide=function(){};WarFilmSmalls.prototype.setData=function(){this.dayLeftTip=Game.config.msg.getConfig(MsgKey.movie_remaining_days).notice;var moveData=Game.moduleModel.warData.moveData;this.m_filmName.text=moveData.name};WarFilmSmalls.prototype.clearData=function(){this.m_filmName.text="";this.m_total.text="";this.m_addVal.text="";this.m_dayLeft.text="";this.m_progressList.numItems=0};WarFilmSmalls.prototype.initItem=function(index,obj){var item=obj;item.max=Game.moduleModel.warData.filmingMaxCur;if(index+1===Game.moduleModel.warData.filmingCurDay){item.value=0;if(this.curTween&&this.curTween!==null){this.curTween.complete()}this.curTween=laya.utils.Tween.to(item,{value:Game.moduleModel.warData.moveData.runDays[index]},Game.moduleModel.warData.movieHistogramTime,Laya.Ease.linearIn)}else{item.value=Game.moduleModel.warData.moveData.runDays[index]}};WarFilmSmalls.prototype.updateData=function(){if(Game.moduleModel.warData.filmingCurDay>0&&Game.moduleModel.warData.filmingCurDay<=Game.moduleModel.warData.filmingMaxDay){this.m_total.text=formatNumberUnit(Game.moduleModel.warData.filmingTotal);this.m_addVal.text=format("+{0}",formatNumberUnit(Game.moduleModel.warData.moveData.runDays[Game.moduleModel.warData.filmingCurDay-1]));var lastDay=Game.moduleModel.warData.filmingMaxDay-Game.moduleModel.warData.filmingCurDay;this.m_dayLeft.text=format(this.dayLeftTip,lastDay);this.m_progressList.numItems=Game.moduleModel.warData.filmingCurDay;this.m_progressList.scrollToView(Game.moduleModel.warData.filmingCurDay-1)}else{if(Game.moduleModel.warData.filmingCurDay===Game.moduleModel.warData.filmingMaxDay+1){this.onCloseSelf();Game.moduleModel.warData.setBattleOver(function(){Game.menu.open(MenuId.War)})}}};return WarFilmSmalls}(MainUI.WarFilmSmallsStruct));MainUI.WarFilmSmalls=WarFilmSmalls})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarShangyingProgressBar2Struct=(function(_super){__extends(WarShangyingProgressBar2Struct,_super);function WarShangyingProgressBar2Struct(){return _super.call(this)||this}WarShangyingProgressBar2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("MainUI","WarShangyingProgressBar2"))};WarShangyingProgressBar2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar_v=(this.getChild("bar_v"))};WarShangyingProgressBar2Struct.URL="ui://7ecreso0ma97x3u";WarShangyingProgressBar2Struct.DependPackages=["MainUI","Common"];return WarShangyingProgressBar2Struct}(fairygui.GProgressBar));MainUI.WarShangyingProgressBar2Struct=WarShangyingProgressBar2Struct})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var MainUI;(function(MainUI){var WarShangyingProgressBar2=(function(_super){__extends(WarShangyingProgressBar2,_super);function WarShangyingProgressBar2(){return _super!==null&&_super.apply(this,arguments)||this}return WarShangyingProgressBar2}(MainUI.WarShangyingProgressBar2Struct));MainUI.WarShangyingProgressBar2=WarShangyingProgressBar2})(MainUI=fgui.MainUI||(fgui.MainUI={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessLoadingPanelStruct=(function(_super){__extends(BusinessLoadingPanelStruct,_super);function BusinessLoadingPanelStruct(){return _super.call(this)||this}BusinessLoadingPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","BusinessLoadingPanel"))};BusinessLoadingPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"))};BusinessLoadingPanelStruct.URL="ui://y3jchkngtpm80";BusinessLoadingPanelStruct.DependPackages=["Manage","WarMovie"];return BusinessLoadingPanelStruct}(fairygui.GComponent));Manage.BusinessLoadingPanelStruct=BusinessLoadingPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessLoadingPanel=(function(_super){__extends(BusinessLoadingPanel,_super);function BusinessLoadingPanel(){return _super!==null&&_super.apply(this,arguments)||this}BusinessLoadingPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=Games.TEXT.BusinessReadNewMsg};return BusinessLoadingPanel}(Manage.BusinessLoadingPanelStruct));Manage.BusinessLoadingPanel=BusinessLoadingPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessMsgPanelStruct=(function(_super){__extends(BusinessMsgPanelStruct,_super);function BusinessMsgPanelStruct(){return _super.call(this)||this}BusinessMsgPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","BusinessMsgPanel"))};BusinessMsgPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_read=this.getController("read");this.m_company=(this.getChild("company"));this.m_content=(this.getChild("content"));this.m_get=(this.getChild("get"));this.m_reward=(this.getChild("reward"));this.m_t0=this.getTransition("t0")};BusinessMsgPanelStruct.URL="ui://y3jchkngtpm81";BusinessMsgPanelStruct.DependPackages=["Manage","Common"];return BusinessMsgPanelStruct}(fairygui.GComponent));Manage.BusinessMsgPanelStruct=BusinessMsgPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessMsgPanel=(function(_super){__extends(BusinessMsgPanel,_super);function BusinessMsgPanel(){return _super!==null&&_super.apply(this,arguments)||this}BusinessMsgPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_reward.itemRenderer=Handler.create(this,this.updateRewardItemRender,null,false);this.m_get.text=TEXT.BusinessGet};BusinessMsgPanel.prototype.updateRewardItemRender=function(index,item){var item1=item;item1.updateViewByDTNum(this.rewards[index])};BusinessMsgPanel.prototype.updateView=function(data){this.rewards=data.resultRewards;this.m_reward.numItems=this.rewards.length};return BusinessMsgPanel}(Manage.BusinessMsgPanelStruct));Manage.BusinessMsgPanel=BusinessMsgPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessUIStruct=(function(_super){__extends(BusinessUIStruct,_super);function BusinessUIStruct(){return _super.call(this)||this}BusinessUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","BusinessUI"))};BusinessUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"));this.m_remain=(this.getChild("remain"));this.m_tip=(this.getChild("tip"));this.m_auto=(this.getChild("auto"));this.m_commonDialog=(this.getChild("commonDialog"));this.m_checkbox=(this.getChild("checkbox"));this.m_nextBtn=(this.getChild("nextBtn"));this.m_contentPanel=(this.getChild("contentPanel"));this.m_bar=(this.getChild("bar"));this.m_head=(this.getChild("head"))};BusinessUIStruct.URL="ui://y3jchkngtpm82";BusinessUIStruct.DependPackages=["Manage","PfSkin","Common","WarMovie"];return BusinessUIStruct}(fairygui.GComponent));Manage.BusinessUIStruct=BusinessUIStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var BusinessUI=(function(_super){__extends(BusinessUI,_super);function BusinessUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.LevelChatReplace="{level}";_this.FansChatReplace="{fans}";return _this}BusinessUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.chats=[this.LevelChatReplace,this.FansChatReplace];this.m_nextBtn.text=Games.TEXT.BusinessNextPage;this.m_nextBtn.visible=false;this.m_tip.text=Games.TEXT.HaveAgentCanAutoRead;this.m_auto.text=Games.TEXT.AutoRead};BusinessUI.prototype.updateView=function(){this.clearTimerLoop();this.businessData=Game.moduleModel.business.getBusinessData();this.m_contentPanel.m_read.selectedIndex=0;this.m_c1.selectedIndex=0;if(this.businessData){this.m_remain.text=format(Games.TEXT.BusinessRemainRead,this.businessData.nextBusinessNum,this.businessData.lineLimit);if(this.businessData.nextBusinessNum>0){if(Game.moduleModel.secretary.isTempSecretary){var remainTimes=Game.moduleModel.secretary.autoBusinessReadNum;if(remainTimes<=0){this.m_tip.text=Games.TEXT.HaveAgentCanAutoRead}else{this.m_tip.text=format(TEXT.SecretaryRemainAutoReadNum,remainTimes)}}else{this.m_tip.text=Games.TEXT.HaveAgentCanAutoRead}this.m_checkbox.selected=Game.moduleModel.secretary.isAutoRead;var config=this.businessData.config;if(config){this.m_head.m_icon.icon=Game.config.avatar.getConfig(config.icon).iconUrl;this.m_contentPanel.updateView(this.businessData);this.m_name.text=format(Games.TEXT.BusinessSendName,config.from);this.m_title.text=config.name;this.m_contentPanel.m_company.text=User.info.name;this.charIndex=0;var desc=config.description;var value=0;var num=0;for(var index=0;index<this.chats.length;index++){var element=this.chats[index];switch(element){case this.FansChatReplace:num=this.userCurExp;break;case this.LevelChatReplace:num=User.info.level;break;default:break}value=num-Math.floor(num*Random.range(0,0.2));value=Math.max(1,value);desc=desc.replace(element,value+"")}this.content=desc;this.curContent="";this.m_contentPanel.m_content.text="";this.startTypeWrite()}}else{this.onClickCloseBtn()}}};Object.defineProperty(BusinessUI.prototype,"userCurExp",{get:function(){var prevExp=0;for(var i=0;i<User.info.level;i++){var cfg=Game.config.playerLevel.getConfig(i);if(cfg!=null){prevExp+=cfg.fans}}return prevExp+User.info.fans},enumerable:true,configurable:true});BusinessUI.prototype.startTypeWrite=function(){var speed=Game.moduleModel.secretary.isAutoRead?20:100;this.isTyping=true;Laya.timer.loop(speed,this,this.showChatByTime);this.showChatByTime()};BusinessUI.prototype.clearTimerLoop=function(){Laya.timer.clear(this,this.showChatByTime)};BusinessUI.prototype.charByTimeComplete=function(){var _this=this;this.clearTimerLoop();this.isTyping=false;this.m_contentPanel.m_content.text=this.content;this.m_contentPanel.m_read.selectedIndex=1;this.m_nextBtn.visible=Game.moduleModel.secretary.isAutoRead==false;this.m_contentPanel.m_t0.play(Handler.create(null,function(){if(Game.moduleModel.secretary.isAutoRead){_this.onClickNextBtn()}else{_this.m_nextBtn.visible=true}}))};BusinessUI.prototype.showChatByTime=function(){if(this.charIndex>=this.content.length){this.charByTimeComplete()}else{this.curContent+=this.content.charAt(this.charIndex);this.m_contentPanel.m_content.text=this.curContent;this.charIndex++}};BusinessUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};BusinessUI.prototype.onClickNextBtn=function(){this.m_nextBtn.visible=false;Game.moduleModel.business.rewardId=this.businessData.id;Game.protosender.manageBusiness.GetReward()};BusinessUI.prototype.onGetRewardBack=function(){var _this=this;if(Game.moduleModel.business.rewardId>0){var config=Game.config.business.getConfig(Game.moduleModel.business.rewardId);if(config){var otherItem=new DTItemNum();otherItem.itemId=EItemId.expect;otherItem.itemNum=config.expect;var items_1=config.reward.concat();items_1.push(otherItem);var isAuto_1=Game.moduleModel.secretary.isAutoRead;Game.system.getItemText(items_1,function(){Game.system.playEffects(items_1);if(Game.moduleModel.business.getBusinessData().isMaxDaily){Game.system.toastMsg(MsgKey.business_down)}else{if(Game.moduleModel.business.getBusinessData().nextBusinessNum>0){if(_this.m_checkbox.selected&&Game.moduleModel.secretary.isTempSecretary&&Game.moduleModel.secretary.autoBusinessReadNum<=0){Game.moduleModel.secretary.isAutoRead=false;Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto3)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}_this.m_c1.selectedIndex=1;_this.m_bar.m_progress.value=0;var speed=isAuto_1?200:3000;Laya.Tween.to(_this.m_bar.m_progress,{value:100},speed,Laya.Ease.linearIn,Handler.create(null,function(){_this.updateView()}))}else{_this.onClickCloseBtn()}}},isAuto_1)}Game.moduleModel.business.rewardId=0}};BusinessUI.prototype.onWindowShow=function(){this.m_commonDialog.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_nextBtn.onClick(this,this.onClickNextBtn);this.m_checkbox.onClick(this,this.onClickCheckBoxBtn);fairygui.GRoot.inst.onClick(this,this.onClickStage);Game.protoOkEvent.add(ProtoEventKey.manageBusiness_GetReward,this.onGetRewardBack,this);this.updateView()};BusinessUI.prototype.onClickStage=function(){if(Game.moduleModel.secretary.isAutoRead&&this.isTyping){this.charByTimeComplete()}};BusinessUI.prototype.onWindowHide=function(){this.m_commonDialog.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_nextBtn.offClick(this,this.onClickNextBtn);this.m_checkbox.offClick(this,this.onClickCheckBoxBtn);fairygui.GRoot.inst.offClick(this,this.onClickStage);this.clearTimerLoop();Laya.Tween.clearAll(this.m_bar.m_progress);this.m_nextBtn.visible=false;Game.protoOkEvent.remove(ProtoEventKey.manageBusiness_GetReward,this.onGetRewardBack,this)};BusinessUI.prototype.onClickCheckBoxBtn=function(){if(this.m_checkbox.selected){this.setAutoRead()}else{Game.moduleModel.secretary.isAutoRead=this.m_checkbox.selected}};BusinessUI.prototype.setAutoRead=function(){if(Game.moduleModel.secretary.autoBusinessReadNum>0){Game.moduleModel.secretary.isAutoRead=this.m_checkbox.selected}else{if(Game.moduleModel.secretary.isTempSecretary){Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto3)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}else{Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_not_owned,Game.config.msg.getTxt(MsgKey.secretary_auto3)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}this.m_checkbox.selected=false}};return BusinessUI}(Manage.BusinessUIStruct));Manage.BusinessUI=BusinessUI})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var DeleteBtnStruct=(function(_super){__extends(DeleteBtnStruct,_super);function DeleteBtnStruct(){return _super.call(this)||this}DeleteBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","DeleteBtn"))};DeleteBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};DeleteBtnStruct.URL="ui://y3jchkngtpm8p";DeleteBtnStruct.DependPackages=["Manage"];return DeleteBtnStruct}(fairygui.GButton));Manage.DeleteBtnStruct=DeleteBtnStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var DeleteBtn=(function(_super){__extends(DeleteBtn,_super);function DeleteBtn(){return _super!==null&&_super.apply(this,arguments)||this}return DeleteBtn}(Manage.DeleteBtnStruct));Manage.DeleteBtn=DeleteBtn})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderNeedItemStruct=(function(_super){__extends(ManagerOrderNeedItemStruct,_super);function ManagerOrderNeedItemStruct(){return _super.call(this)||this}ManagerOrderNeedItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","ManagerOrderNeedItem"))};ManagerOrderNeedItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_complete=this.getController("complete");this.m_canComplete=this.getController("canComplete");this.m_lv=(this.getChild("lv"));this.m_icon=(this.getChild("icon"));this.m_head=(this.getChild("head"))};ManagerOrderNeedItemStruct.URL="ui://y3jchkngtpm8i";ManagerOrderNeedItemStruct.DependPackages=["Manage","Common"];return ManagerOrderNeedItemStruct}(fairygui.GButton));Manage.ManagerOrderNeedItemStruct=ManagerOrderNeedItemStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderNeedItem=(function(_super){__extends(ManagerOrderNeedItem,_super);function ManagerOrderNeedItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isClick=false;_this.clickHandler=0;return _this}ManagerOrderNeedItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickItem)};ManagerOrderNeedItem.prototype.onClickItem=function(){var _this=this;if(this.isClick){return}else{this.isClick=true;this.clickHandler=setTimeout(function(){_this.isClick=false},500)}if(this.isPut){Game.system.toastText(TEXT.OrderTheBoxHasPut)}else{if(this.isCooperation&&this.orderData.isCooperationOrder){Game.system.toastMsg(MsgKey.cooperative_order_repeat)}else{if(this.curItemNum>=this.maxItemNum){var item_1=Game.moduleModel.item.getItem(this.dtItem.itemId);if(item_1){if(this.isCooperation){Game.system.confirmMsg(MsgKey.order_give,[this.maxItemNum,this.dtItem.itemName,this.curItemNum],TEXT.OrderCooperationComfirmTitle,null,function(){Game.protosender.manageOrder.PutItem(_this.orderData.uuid,_this.orderData.entityId,item_1.itemId,1,true,true)})}else{Game.protosender.manageOrder.PutItem(this.orderData.uuid,0,item_1.itemId,0,false,false)}}}else{Game.system.openItemWay(this.dtItem.itemId,this.maxItemNum-this.curItemNum)}}}};ManagerOrderNeedItem.prototype.updateView=function(data,dtItem,isCooperation){this.isClick=false;clearTimeout(this.clickHandler);this.dtItem=dtItem;this.orderData=data;this.isCooperation=isCooperation;var cur=Game.moduleModel.item.getItemNum(dtItem.itemId);var max=dtItem.itemNum;this.m_lv.text=format("{0}/{1}",cur,max);this.curItemNum=cur;this.maxItemNum=max;this.isPut=data.isPut(dtItem.itemId);if(this.isPut){this.m_canComplete.selectedIndex=0;var orderItem=this.orderData.getOrderItem(dtItem.itemId);this.m_lv.text=max+"";this.m_lv.color="#BDFF54";if(orderItem.portrait==-1){this.m_complete.selectedIndex=1}else{this.m_complete.selectedIndex=2;this.m_head.m_icon.icon=Game.config.headPortrait.GetPlayerIconUrl(Game.moduleModel.cooperation.partnerInfData.portrait,Game.moduleModel.cooperation.partnerInfData.sex)}}else{this.m_icon.icon=Game.config.item.getConfig(dtItem.itemId).iconUrl;this.m_complete.selectedIndex=0;if(cur>=max){this.m_lv.color="#BDFF54";this.m_canComplete.selectedIndex=1}else{this.m_lv.color="#FF7676";this.m_canComplete.selectedIndex=0}}};return ManagerOrderNeedItem}(Manage.ManagerOrderNeedItemStruct));Manage.ManagerOrderNeedItem=ManagerOrderNeedItem})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderNeedPanelStruct=(function(_super){__extends(ManagerOrderNeedPanelStruct,_super);function ManagerOrderNeedPanelStruct(){return _super.call(this)||this}ManagerOrderNeedPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","ManagerOrderNeedPanel"))};ManagerOrderNeedPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_cooperation=this.getController("c_cooperation");this.m_title=(this.getChild("title"));this.m_orderLabel=(this.getChild("orderLabel"));this.m_needlist=(this.getChild("needlist"));this.m_completeLabel=(this.getChild("completeLabel"));this.m_rewardList=(this.getChild("rewardList"));this.m_deleteBtn=(this.getChild("deleteBtn"));this.m_okBtn=(this.getChild("okBtn"))};ManagerOrderNeedPanelStruct.URL="ui://y3jchkngtpm8o";ManagerOrderNeedPanelStruct.DependPackages=["Manage","Common"];return ManagerOrderNeedPanelStruct}(fairygui.GComponent));Manage.ManagerOrderNeedPanelStruct=ManagerOrderNeedPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderNeedPanel=(function(_super){__extends(ManagerOrderNeedPanel,_super);function ManagerOrderNeedPanel(){return _super!==null&&_super.apply(this,arguments)||this}ManagerOrderNeedPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.OrderNeedTitle;this.m_orderLabel.text=TEXT.OrderNeed;this.m_completeLabel.text=TEXT.OrderCompleteReward;this.m_needlist.itemRenderer=Handler.create(this,this.updateNeedItemRender,null,false);this.m_rewardList.itemRenderer=Handler.create(this,this.updateRwardItemRender,null,false);this.m_deleteBtn.onClick(this,this.onClickDeleteBtn);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_okBtn.text=TEXT.Complete};ManagerOrderNeedPanel.prototype.onClickOkBtn=function(){if(this.orderData.isAllComplete){Game.protosender.manageOrder.FinishOrder(this.orderData.uuid)}else{Game.system.toastText(Game.config.msg.getConfig(MsgKey.order_fail).notice)}};ManagerOrderNeedPanel.prototype.onClickDeleteBtn=function(){var _this=this;Game.system.confirmText(TEXT.OrderSureDeleteOrder,TEXT.OrderRefuseOrder,null,function(){Game.protosender.manageOrder.DelOrder(_this.orderData.uuid)})};ManagerOrderNeedPanel.prototype.updateNeedItemRender=function(index,item){var item1=item;item1.updateView(this.orderData,this.config.need[index],this.isCooperation)};ManagerOrderNeedPanel.prototype.updateRwardItemRender=function(index,item){item.updateViewByDTNum(this.orderData.rewardItems[index])};ManagerOrderNeedPanel.prototype.updateView=function(data,isCooperation){this.orderData=data;this.config=data.config;this.isCooperation=isCooperation;this.m_needlist.numItems=this.config.need.length;if(this.isCooperation==false){this.m_rewardList.numItems=this.orderData.rewardItems.length}};ManagerOrderNeedPanel.prototype.guideBoxItem=function(index){if(index<this.m_needlist.numItems){return this.m_needlist.getChildAt(index)}return null};return ManagerOrderNeedPanel}(Manage.ManagerOrderNeedPanelStruct));Manage.ManagerOrderNeedPanel=ManagerOrderNeedPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderUIStruct=(function(_super){__extends(ManagerOrderUIStruct,_super);function ManagerOrderUIStruct(){return _super.call(this)||this}ManagerOrderUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","ManagerOrderUI"))};ManagerOrderUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c_haveorder=this.getController("c_haveorder");this.m_c_cooperation=this.getController("c_cooperation");this.m_orderGroup=(this.getChild("orderGroup"));this.m_noneOrder=(this.getChild("noneOrder"));this.m_newOrderWay=(this.getChild("newOrderWay"));this.m_noneGroup=(this.getChild("noneGroup"));this.m_sortOrder=(this.getChild("sortOrder"));this.m_cooperator=(this.getChild("cooperator"));this.m_cooperatorName=(this.getChild("cooperatorName"));this.m_needPanel=(this.getChild("needPanel"));this.m_order1=(this.getChild("order1"));this.m_order2=(this.getChild("order2"));this.m_order5=(this.getChild("order5"));this.m_order8=(this.getChild("order8"));this.m_order3=(this.getChild("order3"));this.m_order4=(this.getChild("order4"));this.m_order6=(this.getChild("order6"));this.m_order9=(this.getChild("order9"));this.m_order7=(this.getChild("order7"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_progressTotalBar=(this.getChild("progressTotalBar"));this.m_head=(this.getChild("head"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};ManagerOrderUIStruct.URL="ui://y3jchkngtpm8u";ManagerOrderUIStruct.DependPackages=["Manage","Common"];return ManagerOrderUIStruct}(fairygui.GComponent));Manage.ManagerOrderUIStruct=ManagerOrderUIStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var ManagerOrderUI=(function(_super){__extends(ManagerOrderUI,_super);function ManagerOrderUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.delayUpdateTimeOutHandler=0;return _this}ManagerOrderUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_noneOrder.text=TEXT.OrderNoneOrder;this.m_newOrderWay.text=TEXT.OrderNewOrderWay;this.orderItemList=[];for(var index=0;index<Game.moduleModel.order.maxOrderMaking;index++){var orderItem=(this.getChild("order"+(index+1)));this.orderItemList.push(orderItem);orderItem.visible=false;orderItem.onClick(this,this.onClickOrderItem,[index])}this.m_cooperator.text=TEXT.OrderCooperation};ManagerOrderUI.prototype.onClickOrderItem=function(select){var item=this.orderItemList[select];var data=item.orderData;if(data&&data.deleteFlag){return}this.currentSelectUUid=data.uuid;this.currentSelect=select;this.updateNeedPanel()};ManagerOrderUI.prototype.updateNeedPanel=function(){var select;for(var index=0;index<this.orderItemList.length;index++){var element=this.orderItemList[index];if(index==this.currentSelect){select=element;element.m_c3.selectedIndex=1}else{element.m_c3.selectedIndex=0}}var data;if(this.currentSelect>=0){this.m_needPanel.visible=true;if(isNullOrEmpty(this.currentSelectUUid)){data=this.getOrderDataByPos(this.currentSelect+1)}else{data=Game.moduleModel.order.getOrderDataByUUid(this.currentSelectUUid)}if(data==null||data.deleteFlag){this.currentSelect=-1;this.currentSelectUUid="";this.updateNeedPanel()}else{this.currentSelectUUid=data.uuid;this.m_needPanel.updateView(data,this.isCooperation)}}else{this.currentSelectUUid="";this.m_needPanel.visible=false}};ManagerOrderUI.prototype.updateDelayView=function(){var _this=this;if(this.delayUpdateTimeOutHandler>0){clearTimeout(this.delayUpdateTimeOutHandler)}this.delayUpdateTimeOutHandler=setTimeout(function(){_this.updateViewNow()},500)};ManagerOrderUI.prototype.updateViewNow=function(){this.updateOrderView();this.updateNeedPanel()};ManagerOrderUI.prototype.getOrderDataByPos=function(pos){for(var index=0;index<this.orderDataList.length;index++){var element=this.orderDataList[index];if(element.position==pos){return element}}return null};ManagerOrderUI.prototype.updateOrderView=function(){var startIndex=0;if(this.isCooperation){this.orderDataList=Game.moduleModel.order.getCooperationOrderList()}else{this.orderDataList=Game.moduleModel.order.getCurrrentOrderList()}for(var index=0;index<this.orderItemList.length;index++){var item=this.orderItemList[index];var data=this.getOrderDataByPos(index+1);item.updateView(data)}this.m_sortOrder.text=format(TEXT.OrderSortOrder,Game.moduleModel.order.sortOrderMaking);if(this.orderDataList.length>0){this.m_c_haveorder.selectedIndex=0}else{if(this.isCooperation){this.onClickCloseBtn()}this.m_c_haveorder.selectedIndex=1}};ManagerOrderUI.prototype.onWindowHide=function(){if(this.isCooperation){Game.event.remove(GameEventKey.GameEventKey_UpdateCoopreationOrderView,this.updateDelayView,this)}else{Game.event.remove(GameEventKey.GameEventKey_UpdateOrderView,this.updateDelayView,this)}Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateDelayView,this);Game.protoOkEvent.remove(ProtoEventKey.ManageOrderData,this.updateDelayView,this);this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.clearFlags()};ManagerOrderUI.prototype.onWindowShow=function(){this.isCooperation=false;if(this.moduleWindow.menuParameter.args&&this.moduleWindow.menuParameter.args.length>0){this.isCooperation=this.moduleWindow.menuParameter.args[0]}if(this.isCooperation){this.m_progressTotalBar.visible=false;this.m_needPanel.m_c_cooperation.selectedIndex=1;this.m_c_cooperation.selectedIndex=1;this.m_head.m_icon.icon=Game.config.headPortrait.GetPlayerIconUrl(Game.moduleModel.cooperation.partnerInfData.portrait,Game.moduleModel.cooperation.partnerInfData.sex);this.m_cooperatorName.text=Game.moduleModel.cooperation.partnerInfData.name;Game.event.add(GameEventKey.GameEventKey_UpdateCoopreationOrderView,this.updateDelayView,this)}else{this.m_progressTotalBar.visible=true;this.m_needPanel.m_c_cooperation.selectedIndex=0;this.m_c_cooperation.selectedIndex=0;Game.event.add(GameEventKey.GameEventKey_UpdateOrderView,this.updateDelayView,this);this.m_progressTotalBar.setProgressId(EProgressBoxId.manageOrder,this.onClickBox);this.currentSelect=-1}Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateDelayView,this);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.updateViewNow();Game.protoOkEvent.add(ProtoEventKey.ManageOrderData,this.updateDelayView,this)};ManagerOrderUI.prototype.onClickBox=function(index,needOrderNum){Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.order_complete,needOrderNum))};ManagerOrderUI.prototype.clearFlags=function(){for(var index=0;index<this.orderItemList.length;index++){var element=this.orderItemList[index];element.clearTime();element.clearFlag()}};ManagerOrderUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};ManagerOrderUI.prototype.guideSelectOrder=function(){var orderDataList=Game.moduleModel.order.getCurrrentOrderList();for(var index=0;index<orderDataList.length;index++){var element=orderDataList[index];if(element.isAllComplete){return this.orderItemList[element.position-1]}}for(var index=0;index<orderDataList.length;index++){var element=orderDataList[index];if(element.isCanPut){return this.orderItemList[element.position-1]}}if(orderDataList.length>0){return this.orderItemList[orderDataList[0].position-1]}return null};ManagerOrderUI.prototype.guideBoxItem=function(index){return this.m_needPanel.guideBoxItem(index-1)};return ManagerOrderUI}(Manage.ManagerOrderUIStruct));Manage.ManagerOrderUI=ManagerOrderUI})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingAskPricePanelStruct=(function(_super){__extends(MeetingAskPricePanelStruct,_super);function MeetingAskPricePanelStruct(){return _super.call(this)||this}MeetingAskPricePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingAskPricePanel"))};MeetingAskPricePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_title=(this.getChild("title"));this.m_pay1Btn=(this.getChild("pay1Btn"));this.m_pay2Btn=(this.getChild("pay2Btn"));this.m_refuse=(this.getChild("refuse"));this.m_dialog=(this.getChild("dialog"));this.m_okBtn=(this.getChild("okBtn"));this.m_head=(this.getChild("head"))};MeetingAskPricePanelStruct.URL="ui://y3jchkngtpm81l";MeetingAskPricePanelStruct.DependPackages=["Manage","Common"];return MeetingAskPricePanelStruct}(fairygui.GComponent));Manage.MeetingAskPricePanelStruct=MeetingAskPricePanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingAskPricePanel=(function(_super){__extends(MeetingAskPricePanel,_super);function MeetingAskPricePanel(){return _super!==null&&_super.apply(this,arguments)||this}MeetingAskPricePanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pay1Btn.text=Games.TEXT.MeetingMantianYaojia;this.m_pay2Btn.text=Games.TEXT.MeetingTaojiahuanjia;this.m_pay1Btn.m_number.text="+200%";this.m_pay2Btn.m_number.text="+50%";this.m_title.text=TEXT.MeetingInMeeting;this.m_tip.text=TEXT.MeetingNeedAddPiece;this.m_refuse.text=Games.TEXT.MeetingHuijue;this.m_okBtn.text=Games.TEXT.MeetingChengjiao;this.m_pay1Btn.onClick(this,this.onClickPay1Btn);this.m_pay2Btn.onClick(this,this.onClickPay2Btn);this.m_refuse.onClick(this,this.onClickRefuseBtn);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_okBtn.text=Games.TEXT.MeetingChengjiao};MeetingAskPricePanel.prototype.onWindowHide=function(){console.log("hide")};MeetingAskPricePanel.prototype.onWindowShow=function(){console.log("show")};MeetingAskPricePanel.prototype.onClickPay1Btn=function(){Game.moduleModel.meeting.isDouble=true;this.moduleView.showGamePanel();Game.event.dispatch(GameEventKey.GameEventKey_MeetingStep,2);Game.protosender.manageMeeting.Markup(1)};MeetingAskPricePanel.prototype.onClickPay2Btn=function(){Game.moduleModel.meeting.isDouble=false;this.moduleView.showGamePanel();Game.event.dispatch(GameEventKey.GameEventKey_MeetingStep,1);Game.protosender.manageMeeting.Markup(2)};MeetingAskPricePanel.prototype.onClickRefuseBtn=function(){Game.protosender.manageMeeting.GetReward(MeetingRewardType.Refuse)};MeetingAskPricePanel.prototype.onClickOkBtn=function(){var _this=this;Game.system.alertTextIcon([this.meetingData.costMoney],Games.TEXT.MeetingChengjiaoSure,function(){var enough=ItemHelper.checkItemEnough(_this.meetingData.costMoney);if(enough){Game.moduleModel.meeting.rewardItems=_this.meetingData.resultRewards;Game.protosender.manageMeeting.GetReward(MeetingRewardType.Receive)}else{Game.system.openItemWay(_this.meetingData.costMoney.itemId,_this.meetingData.costMoney.itemNum)}})};MeetingAskPricePanel.prototype.updateItemRender=function(index,item){var item1=item;item1.updateViewByDTNum(this.meetingData.rewards[index])};MeetingAskPricePanel.prototype.updateView=function(){this.m_dialog.m_title.text=Game.moduleModel.meeting.companyGoal;var meetingData=Game.moduleModel.meeting.getMeetingData();this.meetingData=meetingData;this.m_dialog.updateView(meetingData);if(meetingData){var cost=meetingData.costMoney;this.m_okBtn.m_number.text=formatNumberUnit(cost.itemNum);this.m_okBtn.m_icon.icon=Game.config.item.getConfig(cost.itemId).iconUrl}var avatarConfig=Game.config.avatar.getConfig(Game.moduleModel.meeting.companyDelegateAvatarId);if(avatarConfig){this.m_head.m_icon.icon=avatarConfig.iconUrl}};return MeetingAskPricePanel}(Manage.MeetingAskPricePanelStruct));Manage.MeetingAskPricePanel=MeetingAskPricePanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingDialogRewardPanelStruct=(function(_super){__extends(MeetingDialogRewardPanelStruct,_super);function MeetingDialogRewardPanelStruct(){return _super.call(this)||this}MeetingDialogRewardPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingDialogRewardPanel"))};MeetingDialogRewardPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkBg=(this.getChild("talkBg"));this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_list=(this.getChild("list"))};MeetingDialogRewardPanelStruct.URL="ui://y3jchkngtpm82b";MeetingDialogRewardPanelStruct.DependPackages=["Manage","Common"];return MeetingDialogRewardPanelStruct}(fairygui.GLabel));Manage.MeetingDialogRewardPanelStruct=MeetingDialogRewardPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingDialogRewardPanel=(function(_super){__extends(MeetingDialogRewardPanel,_super);function MeetingDialogRewardPanel(){return _super!==null&&_super.apply(this,arguments)||this}MeetingDialogRewardPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.updateItemRender,null,false)};MeetingDialogRewardPanel.prototype.updateItemRender=function(index,item){item.updateViewByDTNum(this.meetingData.rewards[index])};MeetingDialogRewardPanel.prototype.updateView=function(meetingData){this.meetingData=meetingData;this.m_title.text=Game.moduleModel.meeting.companyGoal;this.m_name.text=Games.TEXT.MeetingRewardTitle;if(meetingData.id>0){this.m_list.numItems=meetingData.rewards.length}};return MeetingDialogRewardPanel}(Manage.MeetingDialogRewardPanelStruct));Manage.MeetingDialogRewardPanel=MeetingDialogRewardPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingGameItemStruct=(function(_super){__extends(MeetingGameItemStruct,_super);function MeetingGameItemStruct(){return _super.call(this)||this}MeetingGameItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingGameItem"))};MeetingGameItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dice=this.getController("dice")};MeetingGameItemStruct.URL="ui://y3jchkngtpm81u";MeetingGameItemStruct.DependPackages=["Manage","Common"];return MeetingGameItemStruct}(fairygui.GComponent));Manage.MeetingGameItemStruct=MeetingGameItemStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingGameItem=(function(_super){__extends(MeetingGameItem,_super);function MeetingGameItem(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingGameItem}(Manage.MeetingGameItemStruct));Manage.MeetingGameItem=MeetingGameItem})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingGamePanelStruct=(function(_super){__extends(MeetingGamePanelStruct,_super);function MeetingGamePanelStruct(){return _super.call(this)||this}MeetingGamePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingGamePanel"))};MeetingGamePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_other=(this.getChild("other"));this.m_minelist=(this.getChild("minelist"));this.m_title=(this.getChild("title"));this.m_head=(this.getChild("head"));this.m_target=(this.getChild("target"));this.m_stopBtn=(this.getChild("stopBtn"))};MeetingGamePanelStruct.URL="ui://y3jchkngtpm821";MeetingGamePanelStruct.DependPackages=["Manage","Common"];return MeetingGamePanelStruct}(fairygui.GComponent));Manage.MeetingGamePanelStruct=MeetingGamePanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingGamePanel=(function(_super){__extends(MeetingGamePanel,_super);function MeetingGamePanel(){return _super!==null&&_super.apply(this,arguments)||this}MeetingGamePanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_minelist.setVirtualAndLoop();this.m_stopBtn.text=Games.TEXT.MeetingGameStop;this.m_stopBtn.onClick(this,this.onClickStopBtn);this.m_title.text=TEXT.MeetingInMeeting;this.m_minelist.itemRenderer=Handler.create(this,this.updateItemRender,null,false)};MeetingGamePanel.prototype.updateItemRender=function(index,item){var item1=item;item1.m_dice.selectedIndex=this.random[index]};MeetingGamePanel.prototype.onClickStopBtn=function(){var _this=this;if(this.isResult==false){this.isResult=true;this.clearScroll();var preIndex=this.mineResult-1;var lastIndex=this.mineResult+1;if(preIndex<0){preIndex=preIndex+6}if(lastIndex>5){lastIndex=0}this.random=[preIndex,this.mineResult,lastIndex];this.m_minelist.scrollPane.setPosY(20);this.m_minelist.numItems=this.random.length;setTimeout(function(){_this.moduleView.m_c_result_effect.selectedIndex=1;_this.moduleView.m_resultEffectPanel.m_c_result.selectedIndex=_this.resultIndex;if(_this.effect){Game.sound.playSound(SoundKey.MM09_GoldReward);_this.effect.play(Handler.create(null,function(){_this.moduleView.m_c_result_effect.selectedIndex=0;_this.moduleView.showResultPanel()}),1)}},1500)}};MeetingGamePanel.prototype.updateView=function(){var avatarConfig=Game.config.avatar.getConfig(Game.moduleModel.meeting.companyDelegateAvatarId);if(avatarConfig){this.m_head.m_icon.icon=avatarConfig.iconUrl}this.isResult=false;this.m_target.visible=false};MeetingGamePanel.prototype.startRandom=function(){this.m_minelist.scrollPane.scrollTop();this.random=[0,1,2,3,4,5];this.speed=8;if(Game.moduleModel.meeting.isDouble){this.speed=10}this.m_minelist.numItems=this.random.length;Laya.timer.loop(1,this,this.updateScroll)};MeetingGamePanel.prototype.updateScroll=function(){this.m_minelist.scrollPane.setPosY(this.m_minelist.scrollPane.posY+this.speed)};MeetingGamePanel.prototype.updateResult=function(result){this.moduleView.m_c_result_effect.selectedIndex=0;this.m_target.visible=true;var gameConfig=Game.config.meetingGame.getConfig(result);if(gameConfig){switch(gameConfig.result){case MeetingResultType.Win:this.otherResult=Random.rangeBoth(0,4);this.mineResult=this.otherResult+1;this.resultIndex=0;this.effect=this.moduleView.m_resultEffectPanel.m_winEffect.m_t2;break;case MeetingResultType.Draw:this.otherResult=Random.rangeBoth(0,5);this.mineResult=this.otherResult;this.resultIndex=2;this.effect=this.moduleView.m_resultEffectPanel.m_deuceEffect.m_t0;break;case MeetingResultType.FailHalf:this.otherResult=Random.rangeBoth(1,5);this.mineResult=this.otherResult-1;this.resultIndex=3;this.effect=this.moduleView.m_resultEffectPanel.m_loseEffect.m_t222;break;case MeetingResultType.FailAll:this.otherResult=Random.rangeBoth(1,5);this.mineResult=this.otherResult-1;this.resultIndex=1;this.effect=this.moduleView.m_resultEffectPanel.m_loseEffect.m_t222;break;default:break}this.rollTimes=0;Laya.timer.loop(50,this,this.updataOtherRoll)}this.startRandom()};MeetingGamePanel.prototype.updataOtherRoll=function(){if(this.rollTimes>5){Laya.timer.clear(this,this.updataOtherRoll);this.m_target.m_dice.selectedIndex=this.otherResult}else{this.rollTimes++;this.m_target.m_dice.selectedIndex=Random.rangeBoth(0,5)}};MeetingGamePanel.prototype.onRandom=function(){};MeetingGamePanel.prototype.clearScroll=function(){Laya.timer.clear(this,this.updateScroll)};return MeetingGamePanel}(Manage.MeetingGamePanelStruct));Manage.MeetingGamePanel=MeetingGamePanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultDialogPanelStruct=(function(_super){__extends(MeetingResultDialogPanelStruct,_super);function MeetingResultDialogPanelStruct(){return _super.call(this)||this}MeetingResultDialogPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingResultDialogPanel"))};MeetingResultDialogPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkBg=(this.getChild("talkBg"));this.m_title=(this.getChild("title"))};MeetingResultDialogPanelStruct.URL="ui://y3jchkngw1sr2m";MeetingResultDialogPanelStruct.DependPackages=["Manage","Common"];return MeetingResultDialogPanelStruct}(fairygui.GLabel));Manage.MeetingResultDialogPanelStruct=MeetingResultDialogPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultDialogPanel=(function(_super){__extends(MeetingResultDialogPanel,_super);function MeetingResultDialogPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingResultDialogPanel}(Manage.MeetingResultDialogPanelStruct));Manage.MeetingResultDialogPanel=MeetingResultDialogPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultEffectStruct=(function(_super){__extends(MeetingResultEffectStruct,_super);function MeetingResultEffectStruct(){return _super.call(this)||this}MeetingResultEffectStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingResultEffect"))};MeetingResultEffectStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_result=this.getController("c_result");this.m_loseEffect=(this.getChild("loseEffect"));this.m_winEffect=(this.getChild("winEffect"));this.m_deuceEffect=(this.getChild("deuceEffect"))};MeetingResultEffectStruct.URL="ui://y3jchkngw1sr2n";MeetingResultEffectStruct.DependPackages=["Manage","Fx"];return MeetingResultEffectStruct}(fairygui.GComponent));Manage.MeetingResultEffectStruct=MeetingResultEffectStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultEffect=(function(_super){__extends(MeetingResultEffect,_super);function MeetingResultEffect(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingResultEffect}(Manage.MeetingResultEffectStruct));Manage.MeetingResultEffect=MeetingResultEffect})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultPanelStruct=(function(_super){__extends(MeetingResultPanelStruct,_super);function MeetingResultPanelStruct(){return _super.call(this)||this}MeetingResultPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingResultPanel"))};MeetingResultPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_result=this.getController("c_result");this.m_title=(this.getChild("title"));this.m_paylist=(this.getChild("paylist"));this.m_paytitle=(this.getChild("paytitle"));this.m_okBtn=(this.getChild("okBtn"));this.m_refuse=(this.getChild("refuse"));this.m_dialog=(this.getChild("dialog"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_head=(this.getChild("head"))};MeetingResultPanelStruct.URL="ui://y3jchkngtpm823";MeetingResultPanelStruct.DependPackages=["Manage","Common"];return MeetingResultPanelStruct}(fairygui.GComponent));Manage.MeetingResultPanelStruct=MeetingResultPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingResultPanel=(function(_super){__extends(MeetingResultPanel,_super);function MeetingResultPanel(){return _super!==null&&_super.apply(this,arguments)||this}MeetingResultPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_refuse.onClick(this,this.onClickRefuseBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_closeBtn.text=TEXT.ButtonOk;this.m_refuse.text=Games.TEXT.MeetingHuijue;this.m_title.text=TEXT.MeetingInMeeting;this.m_paylist.itemRenderer=Handler.create(this,this.updateItemRender,null,false)};MeetingResultPanel.prototype.onClickCloseBtn=function(){this.onClickRefuseBtn()};MeetingResultPanel.prototype.updateItemRender=function(index,item){var item1=item;item1.updateViewByDTNum(this.meetingData.resultRewards[index])};MeetingResultPanel.prototype.onClickOkBtn=function(){var _this=this;Game.system.alertTextIcon([this.meetingData.costMoney],Games.TEXT.MeetingChengjiaoSure,function(){var enough=ItemHelper.checkItemEnough(_this.meetingData.costMoney);if(enough){Game.moduleModel.meeting.rewardItems=Game.moduleModel.meeting.getMeetingData().resultRewards;Game.protosender.manageMeeting.GetReward(MeetingRewardType.Receive)}else{Game.system.openItemWay(_this.meetingData.costMoney.itemId,_this.meetingData.costMoney.itemNum)}})};MeetingResultPanel.prototype.onClickRefuseBtn=function(){Game.protosender.manageMeeting.GetReward(MeetingRewardType.Refuse)};MeetingResultPanel.prototype.updateView=function(){var avatarConfig=Game.config.avatar.getConfig(Game.moduleModel.meeting.companyDelegateAvatarId);if(avatarConfig){this.m_head.m_icon.icon=avatarConfig.iconUrl}var meetingData=Game.moduleModel.meeting.getMeetingData();this.m_okBtn.text=Games.TEXT.MeetingChengjiao;this.m_okBtn.m_number.visible=true;this.m_okBtn.m_icon.visible=true;this.meetingData=meetingData;if(meetingData){var cost=meetingData.costMoney;this.m_okBtn.m_number.text=formatNumberUnit(cost.itemNum);this.m_okBtn.m_icon.icon=Game.config.item.getConfig(cost.itemId).iconUrl;var config=Game.config.meetingGame.getConfig(meetingData.randResult);this.result=config.result;switch(this.result){case MeetingResultType.Win:this.m_c_result.selectedIndex=1;this.m_dialog.m_title.text=Game.config.msg.getTxt(MsgKey.meeting_win);break;case MeetingResultType.Draw:this.m_c_result.selectedIndex=1;this.m_dialog.m_title.text=Game.config.msg.getTxt(MsgKey.meeting_fair);break;case MeetingResultType.FailAll:this.m_c_result.selectedIndex=0;this.m_dialog.m_title.text=Game.config.msg.getTxt(MsgKey.meeting_lose1);break;case MeetingResultType.FailHalf:this.m_c_result.selectedIndex=1;this.m_dialog.m_title.text=Game.config.msg.getTxt(MsgKey.meeting_lose2);break;default:break}var step=this.result==MeetingResultType.FailAll?4:3;Game.event.dispatch(GameEventKey.GameEventKey_MeetingStep,step);this.m_title.text=config.name;this.m_paylist.numItems=meetingData.resultRewards.length}};return MeetingResultPanel}(Manage.MeetingResultPanelStruct));Manage.MeetingResultPanel=MeetingResultPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingUIStruct=(function(_super){__extends(MeetingUIStruct,_super);function MeetingUIStruct(){return _super.call(this)||this}MeetingUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MeetingUI"))};MeetingUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c_result_effect=this.getController("c_result_effect");this.m_startMeeting=(this.getChild("startMeeting"));this.m_askPrice=(this.getChild("askPrice"));this.m_gamePanel=(this.getChild("gamePanel"));this.m_resultPanel=(this.getChild("resultPanel"));this.m_resultEffectPanel=(this.getChild("resultEffectPanel"))};MeetingUIStruct.URL="ui://y3jchkngtpm824";MeetingUIStruct.DependPackages=["Manage","Common","Fx"];return MeetingUIStruct}(fairygui.GComponent));Manage.MeetingUIStruct=MeetingUIStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MeetingUI=(function(_super){__extends(MeetingUI,_super);function MeetingUI(){return _super!==null&&_super.apply(this,arguments)||this}MeetingUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_startMeeting.moduleView=this;this.m_gamePanel.moduleView=this;this.m_resultPanel.moduleView=this;this.m_askPrice.moduleView=this};MeetingUI.prototype.onWindowHide=function(){this.m_c1.selectedIndex=MeetingPanelType.None;Game.event.dispatch(GameEventKey.GameEventKey_EnabledScrollMain,true,Games.RoomType.Meeting);Game.protoOkEvent.remove(ProtoEventKey.manageMeeting_Markup,this.onMarkUpHandler,this)};MeetingUI.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.manageMeeting_Markup,this.onMarkUpHandler,this);Game.event.dispatch(GameEventKey.GameEventKey_ScrollMainRoom,[Games.RoomType.Meeting]);Game.event.dispatch(GameEventKey.GameEventKey_EnabledScrollMain,false,Games.RoomType.Meeting);this.m_c_result_effect.selectedIndex=0;this.updateView()};MeetingUI.prototype.onMarkUpHandler=function(msg){this.updateResult(this.meetingData.randResult)};MeetingUI.prototype.updateResult=function(result){this.m_gamePanel.updateResult(result)};MeetingUI.prototype.showTargetUI=function(type){if(type===void 0){type=MeetingPanelType.None}this.m_c1.selectedIndex=type;switch(type){case MeetingPanelType.Start:this.m_startMeeting.updateView();break;case MeetingPanelType.Result:this.m_resultPanel.updateView();break;case MeetingPanelType.Game:this.m_gamePanel.updateView();break;case MeetingPanelType.AskPirce:this.m_askPrice.updateView();Game.event.dispatch(GameEventKey.GameEventKey_MeetingStep,0);break;default:break}};MeetingUI.prototype.showResultPanel=function(){this.showTargetUI(MeetingPanelType.Result)};MeetingUI.prototype.showAskPricePanel=function(){this.showTargetUI(MeetingPanelType.AskPirce)};MeetingUI.prototype.showGamePanel=function(){this.showTargetUI(MeetingPanelType.Game)};MeetingUI.prototype.updateView=function(){var meetingData=Game.moduleModel.meeting.getMeetingData();if(meetingData){if(this.moduleWindow.menuParameter.args.length>0){this.showTargetUI(this.moduleWindow.menuParameter.args[0])}else{this.showTargetUI(MeetingPanelType.Start)}}this.meetingData=meetingData};return MeetingUI}(Manage.MeetingUIStruct));Manage.MeetingUI=MeetingUI})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MettingStartPanelStruct=(function(_super){__extends(MettingStartPanelStruct,_super);function MettingStartPanelStruct(){return _super.call(this)||this}MettingStartPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","MettingStartPanel"))};MettingStartPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_next=(this.getChild("next"));this.m_okBtn=(this.getChild("okBtn"));this.m_cancleBtn=(this.getChild("cancleBtn"));this.m_dialog=(this.getChild("dialog"))};MettingStartPanelStruct.URL="ui://y3jchkngtpm826";MettingStartPanelStruct.DependPackages=["Manage","Common"];return MettingStartPanelStruct}(fairygui.GComponent));Manage.MettingStartPanelStruct=MettingStartPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var MettingStartPanel=(function(_super){__extends(MettingStartPanel,_super);function MettingStartPanel(){return _super!==null&&_super.apply(this,arguments)||this}MettingStartPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.text=Games.TEXT.MeetingStartOkBtnText;this.m_cancleBtn.text=Games.TEXT.MeetingStartCancelBtnText;this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_cancleBtn.onClick(this,this.onClickCancleBtn);this.m_icon.icon=Game.config.avatar.getConfig(9999).bodyIconUrl};MettingStartPanel.prototype.updateView=function(){this.meetingData=Game.moduleModel.meeting.getMeetingData();if(this.meetingData){var nextNum=this.meetingData.nextMeetingNum;this.m_next.text=format(Games.TEXT.MeetingNextNum,nextNum,this.meetingData.lineLimit);if(this.meetingData.randResult>0){this.m_dialog.m_title.text=Game.config.msg.getTxtFormat(MsgKey.meeting_midtime,Game.moduleModel.meeting.meetingCompanyName);this.m_cancleBtn.visible=false}else{this.m_dialog.m_title.text=Game.config.msg.getTxtFormat(MsgKey.meeting_wait,Game.moduleModel.meeting.meetingCompanyName);this.m_cancleBtn.visible=true}}};MettingStartPanel.prototype.onClickOkBtn=function(){if(this.meetingData.randResult>0){this.moduleView.showResultPanel()}else{this.moduleView.showAskPricePanel()}};MettingStartPanel.prototype.onClickCancleBtn=function(){this.moduleView.moduleWindow.menuClose()};return MettingStartPanel}(Manage.MettingStartPanelStruct));Manage.MettingStartPanel=MettingStartPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderBoxStruct=(function(_super){__extends(OrderBoxStruct,_super);function OrderBoxStruct(){return _super.call(this)||this}OrderBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","OrderBox"))};OrderBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_t1=this.getTransition("t1")};OrderBoxStruct.URL="ui://y3jchkngtpm815";OrderBoxStruct.DependPackages=["Manage","Common"];return OrderBoxStruct}(fairygui.GButton));Manage.OrderBoxStruct=OrderBoxStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderBox=(function(_super){__extends(OrderBox,_super);function OrderBox(){return _super!==null&&_super.apply(this,arguments)||this}return OrderBox}(Manage.OrderBoxStruct));Manage.OrderBox=OrderBox})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderHeadItemStruct=(function(_super){__extends(OrderHeadItemStruct,_super);function OrderHeadItemStruct(){return _super.call(this)||this}OrderHeadItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","OrderHeadItem"))};OrderHeadItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};OrderHeadItemStruct.URL="ui://y3jchkngtpm818";OrderHeadItemStruct.DependPackages=["Manage","Common"];return OrderHeadItemStruct}(fairygui.GComponent));Manage.OrderHeadItemStruct=OrderHeadItemStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderHeadItem=(function(_super){__extends(OrderHeadItem,_super);function OrderHeadItem(){return _super!==null&&_super.apply(this,arguments)||this}return OrderHeadItem}(Manage.OrderHeadItemStruct));Manage.OrderHeadItem=OrderHeadItem})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderTargetItemStruct=(function(_super){__extends(OrderTargetItemStruct,_super);function OrderTargetItemStruct(){return _super.call(this)||this}OrderTargetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","OrderTargetItem"))};OrderTargetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c2=this.getController("c2");this.m_c3=this.getController("c3");this.m_c4=this.getController("c4");this.m_time=(this.getChild("time"));this.m_gou=(this.getChild("gou"));this.m_headIcon=(this.getChild("headIcon"))};OrderTargetItemStruct.URL="ui://y3jchkngtpm811";OrderTargetItemStruct.DependPackages=["Manage","Common"];return OrderTargetItemStruct}(fairygui.GButton));Manage.OrderTargetItemStruct=OrderTargetItemStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var OrderTargetItem=(function(_super){__extends(OrderTargetItem,_super);function OrderTargetItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.preOrderUUid="";_this.duration=0;return _this}OrderTargetItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OrderTargetItem.prototype.updateView=function(data){this.orderData=data;this.clearTime();if(this.orderData){this.m_c2.selectedIndex=1;if(this.orderData.deleteFlag){this.m_c1.selectedIndex=1;this.m_c2.selectedIndex=0;this.m_c4.selectedIndex=0;this.duration=Game.time.getSubSecondsAfter(this.orderData.delTime)}else{this.m_headIcon.m_icon.icon=Game.config.avatar.getConfig(this.orderData.config.icon).iconUrl;var isFirst=isNullOrEmpty(this.preOrderUUid);if(this.preOrderUUid!=this.orderData.uuid&&isFirst==false){this.m_c1.selectedIndex=1;this.m_c2.selectedIndex=0;this.m_c4.selectedIndex=0;this.duration=2}else{if(this.orderData.isCooperation){if(this.orderData.isCooperationOrder){this.m_c2.selectedIndex=1}else{this.m_c2.selectedIndex=0}}else{if(this.orderData.isAllComplete){this.m_c2.selectedIndex=1}else{if(this.orderData.isCanPut){this.m_c2.selectedIndex=1}else{this.m_c2.selectedIndex=0}}}this.m_c1.selectedIndex=this.orderData.config.quality;this.m_c4.selectedIndex=1;this.duration=Game.time.getSubSecondsAfter(this.orderData.expiredTime)}}if(this.duration>0){Laya.timer.loop(1000,this,this.updateTime,null,false);this.visible=true;this.preOrderUUid=this.orderData.uuid}else{this.preOrderUUid="";this.visible=false;this.duration=0}this.updateTimeView(this.duration)}else{this.preOrderUUid="";this.visible=false}};OrderTargetItem.prototype.updateTime=function(){if(this.duration>0){this.duration--;this.updateTimeView(this.duration)}else{if(this.orderData.deleteFlag){this.preOrderUUid="";this.visible=false;this.clearTime()}else{this.updateView(this.orderData)}}};OrderTargetItem.prototype.updateTimeView=function(duration){this.m_time.text=Games.TimeHelper.TimeFormat3(duration)};OrderTargetItem.prototype.clearTime=function(){Laya.timer.clear(this,this.updateTime)};OrderTargetItem.prototype.clearFlag=function(){this.preOrderUUid="";this.clearTime()};return OrderTargetItem}(Manage.OrderTargetItemStruct));Manage.OrderTargetItem=OrderTargetItem})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var VisitDialogPanelStruct=(function(_super){__extends(VisitDialogPanelStruct,_super);function VisitDialogPanelStruct(){return _super.call(this)||this}VisitDialogPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","VisitDialogPanel"))};VisitDialogPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkBg=(this.getChild("talkBg"));this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"))};VisitDialogPanelStruct.URL="ui://y3jchkngtpm8d";VisitDialogPanelStruct.DependPackages=["Manage","Common"];return VisitDialogPanelStruct}(fairygui.GLabel));Manage.VisitDialogPanelStruct=VisitDialogPanelStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var VisitDialogPanel=(function(_super){__extends(VisitDialogPanel,_super);function VisitDialogPanel(){return _super!==null&&_super.apply(this,arguments)||this}return VisitDialogPanel}(Manage.VisitDialogPanelStruct));Manage.VisitDialogPanel=VisitDialogPanel})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var VisitUIStruct=(function(_super){__extends(VisitUIStruct,_super);function VisitUIStruct(){return _super.call(this)||this}VisitUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Manage","VisitUI"))};VisitUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_nextFans=(this.getChild("nextFans"));this.m_okBtn=(this.getChild("okBtn"));this.m_dialog=(this.getChild("dialog"))};VisitUIStruct.URL="ui://y3jchkngtpm83";VisitUIStruct.DependPackages=["Manage","Common"];return VisitUIStruct}(fairygui.GComponent));Manage.VisitUIStruct=VisitUIStruct})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Manage;(function(Manage){var VisitUI=(function(_super){__extends(VisitUI,_super);function VisitUI(){return _super!==null&&_super.apply(this,arguments)||this}VisitUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.text=Games.TEXT.VisitStartBtnOk};VisitUI.prototype.onWindowHide=function(){this.m_okBtn.offClick(this,this.onClickOkBtn);Game.protoOkEvent.remove(ProtoEventKey.ManageVisitData,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.manageVisit_GetReward,this.closeMenuWindow,this);Game.event.remove(GameEventKey.GameEventKey_UpdateVisitActor,this.updateVisitView,this);Game.event.dispatch(GameEventKey.GameEventKey_EnabledScrollMain,true)};VisitUI.prototype.onWindowShow=function(){this.m_okBtn.onClick(this,this.onClickOkBtn);Game.protoOkEvent.add(ProtoEventKey.ManageVisitData,this.updateView,this);Game.protoOkEvent.add(ProtoEventKey.manageVisit_GetReward,this.closeMenuWindow,this);Game.event.add(GameEventKey.GameEventKey_UpdateVisitActor,this.updateVisitView,this);Game.event.dispatch(GameEventKey.GameEventKey_ScrollMainRoom,[Games.RoomType.Reception]);Game.event.dispatch(GameEventKey.GameEventKey_EnabledScrollMain,false);this.updateView()};VisitUI.prototype.closeMenuWindow=function(){this.onClickOkBtn()};VisitUI.prototype.updateView=function(){var visitData=Game.moduleModel.visit.getVisitData();if(visitData){var nextFans=visitData.nextFansNum;this.m_nextFans.text=format(Games.TEXT.VisitNextFansNum,nextFans,visitData.lineLimit);if(visitData.actorId>0){this.m_dialog.m_title.text=Games.TEXT.VisitFansTomeetActor;this.m_dialog.m_name.text=Game.moduleModel.actor.getActor(visitData.actorId).name}this.m_icon.icon=Game.config.avatar.GetBodyIconUrl(9999)}};VisitUI.prototype.updateVisitView=function(){this.onClickOkBtn()};VisitUI.prototype.onClickOkBtn=function(){this.moduleWindow.menuClose()};return VisitUI}(Manage.VisitUIStruct));Manage.VisitUI=VisitUI})(Manage=fgui.Manage||(fgui.Manage={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var ActorPropertStruct=(function(_super){__extends(ActorPropertStruct,_super);function ActorPropertStruct(){return _super.call(this)||this}ActorPropertStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","ActorPropert"))};ActorPropertStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_hasIcon=this.getController("hasIcon");this.m_color=this.getController("color");this.m_value=(this.getChild("value"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};ActorPropertStruct.URL="ui://p7g5z54adm31dv";ActorPropertStruct.DependPackages=["Market","Common"];return ActorPropertStruct}(fairygui.GLabel));Market.ActorPropertStruct=ActorPropertStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var ActorPropert=(function(_super){__extends(ActorPropert,_super);function ActorPropert(){return _super!==null&&_super.apply(this,arguments)||this}return ActorPropert}(Market.ActorPropertStruct));Market.ActorPropert=ActorPropert})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnAddActerStruct=(function(_super){__extends(BtnAddActerStruct,_super);function BtnAddActerStruct(){return _super.call(this)||this}BtnAddActerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","BtnAddActer"))};BtnAddActerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"))};BtnAddActerStruct.URL="ui://p7g5z54adm31bh";BtnAddActerStruct.DependPackages=["Market","WarMovie","Common"];return BtnAddActerStruct}(fairygui.GButton));Market.BtnAddActerStruct=BtnAddActerStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnAddActer=(function(_super){__extends(BtnAddActer,_super);function BtnAddActer(){return _super!==null&&_super.apply(this,arguments)||this}return BtnAddActer}(Market.BtnAddActerStruct));Market.BtnAddActer=BtnAddActer})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnAddActer_BlueStruct=(function(_super){__extends(BtnAddActer_BlueStruct,_super);function BtnAddActer_BlueStruct(){return _super.call(this)||this}BtnAddActer_BlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","BtnAddActer_Blue"))};BtnAddActer_BlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"))};BtnAddActer_BlueStruct.URL="ui://p7g5z54adm31az";BtnAddActer_BlueStruct.DependPackages=["Market","WarMovie","Common"];return BtnAddActer_BlueStruct}(fairygui.GButton));Market.BtnAddActer_BlueStruct=BtnAddActer_BlueStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnAddActer_Blue=(function(_super){__extends(BtnAddActer_Blue,_super);function BtnAddActer_Blue(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(BtnAddActer_Blue.prototype,"State",{set:function(value){this.m_state.setSelectedIndex(value)},enumerable:true,configurable:true});Object.defineProperty(BtnAddActer_Blue.prototype,"Icon",{set:function(url){this.m_icon.m_icon.url=url},enumerable:true,configurable:true});return BtnAddActer_Blue}(Market.BtnAddActer_BlueStruct));Market.BtnAddActer_Blue=BtnAddActer_Blue})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnCityStruct=(function(_super){__extends(BtnCityStruct,_super);function BtnCityStruct(){return _super.call(this)||this}BtnCityStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","BtnCity"))};BtnCityStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_isHome=this.getController("isHome");this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnCityStruct.URL="ui://p7g5z54adm31f1";BtnCityStruct.DependPackages=["Market","WarMovie","Common"];return BtnCityStruct}(fairygui.GButton));Market.BtnCityStruct=BtnCityStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnCity=(function(_super){__extends(BtnCity,_super);function BtnCity(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCity}(Market.BtnCityStruct));Market.BtnCity=BtnCity})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnCityPointStruct=(function(_super){__extends(BtnCityPointStruct,_super);function BtnCityPointStruct(){return _super.call(this)||this}BtnCityPointStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","BtnCityPoint"))};BtnCityPointStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"));this.m_tranOccupy=this.getTransition("tranOccupy")};BtnCityPointStruct.URL="ui://p7g5z54adm31b7";BtnCityPointStruct.DependPackages=["Market","Common"];return BtnCityPointStruct}(fairygui.GButton));Market.BtnCityPointStruct=BtnCityPointStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnCityPoint=(function(_super){__extends(BtnCityPoint,_super);function BtnCityPoint(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCityPoint}(Market.BtnCityPointStruct));Market.BtnCityPoint=BtnCityPoint})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnRoadShowStruct=(function(_super){__extends(BtnRoadShowStruct,_super);function BtnRoadShowStruct(){return _super.call(this)||this}BtnRoadShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","btnRoadShow"))};BtnRoadShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_labCost=(this.getChild("labCost"))};BtnRoadShowStruct.URL="ui://p7g5z54adm319x";BtnRoadShowStruct.DependPackages=["Market","Common"];return BtnRoadShowStruct}(fairygui.GButton));Market.BtnRoadShowStruct=BtnRoadShowStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var BtnRoadShow=(function(_super){__extends(BtnRoadShow,_super);function BtnRoadShow(){return _super!==null&&_super.apply(this,arguments)||this}return BtnRoadShow}(Market.BtnRoadShowStruct));Market.BtnRoadShow=BtnRoadShow})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var CountryItemStruct=(function(_super){__extends(CountryItemStruct,_super);function CountryItemStruct(){return _super.call(this)||this}CountryItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","CountryItem"))};CountryItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_imgHome=(this.getChild("imgHome"));this.m_txtName=(this.getChild("txtName"));this.m_txtProgress=(this.getChild("txtProgress"));this.m_imgCountryIcon=(this.getChild("imgCountryIcon"))};CountryItemStruct.URL="ui://p7g5z54adm31fc";CountryItemStruct.DependPackages=["Market","Common"];return CountryItemStruct}(fairygui.GButton));Market.CountryItemStruct=CountryItemStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var CountryItem=(function(_super){__extends(CountryItem,_super);function CountryItem(){return _super!==null&&_super.apply(this,arguments)||this}return CountryItem}(Market.CountryItemStruct));Market.CountryItem=CountryItem})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var GoldFxStruct=(function(_super){__extends(GoldFxStruct,_super);function GoldFxStruct(){return _super.call(this)||this}GoldFxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","GoldFx"))};GoldFxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state")};GoldFxStruct.URL="ui://p7g5z54afnrrfi";GoldFxStruct.DependPackages=["Market"];return GoldFxStruct}(fairygui.GComponent));Market.GoldFxStruct=GoldFxStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var GoldFx=(function(_super){__extends(GoldFx,_super);function GoldFx(){return _super!==null&&_super.apply(this,arguments)||this}GoldFx.prototype.Start=function(){};GoldFx.prototype.Stop=function(){};return GoldFx}(Market.GoldFxStruct));Market.GoldFx=GoldFx})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketCityInfoPanelStruct=(function(_super){__extends(MarketCityInfoPanelStruct,_super);function MarketCityInfoPanelStruct(){return _super.call(this)||this}MarketCityInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketCityInfoPanel"))};MarketCityInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isHome=this.getController("isHome");this.m_cityName=(this.getChild("cityName"));this.m_listAssetSpeed=(this.getChild("listAssetSpeed"));this.m_listActor=(this.getChild("listActor"));this.m_listReward=(this.getChild("listReward"));this.m_listAsset=(this.getChild("listAsset"));this.m_btnGet=(this.getChild("btnGet"));this.m_labAniGold=(this.getChild("labAniGold"));this.m_labAniFans=(this.getChild("labAniFans"));this.m_tweenIcon=(this.getChild("tweenIcon"));this.m_marquee=(this.getChild("marquee"));this.m_trAddAsset=this.getTransition("trAddAsset")};MarketCityInfoPanelStruct.URL="ui://p7g5z54adm319m";MarketCityInfoPanelStruct.DependPackages=["Market","Common","Fx","WarMovie"];return MarketCityInfoPanelStruct}(fairygui.GComponent));Market.MarketCityInfoPanelStruct=MarketCityInfoPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketCityInfoPanel=(function(_super){__extends(MarketCityInfoPanel,_super);function MarketCityInfoPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.NAME_ITEMDISPATCH="DispatchItem";return _this}MarketCityInfoPanel.prototype.onWindowInited=function(){this.m_btnGet.onClick(this,this.OnBtnGetclick);this.tick=Game.tick.AddTick(5,-1,Handler.create(this,this.UpdateAddAsset,null,false),null);this.InitDispatch();this.InitAssetSpeed();this.InitAssets();this.InitRewards();this.m_labAniGold.icon=Game.moduleModel.item.getItem(2).itemIconUrl;this.m_labAniFans.icon=Game.moduleModel.item.getItem(5).itemIconUrl};MarketCityInfoPanel.prototype.onWindowDestory=function(){Game.tick.ClearTick(this.tick);this.m_btnGet.onClick(null,null)};MarketCityInfoPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.city_GetReward,this.OnGetRewardResponse,this);Game.protoOkEvent.add(ProtoEventKey.city_SetAmbassador,this.OnsSetAmbassador,this)};MarketCityInfoPanel.prototype.onWindowHide=function(){this.m_marquee.Hide();this.HideHome();Game.protoOkEvent.remove(ProtoEventKey.city_GetReward,this.OnGetRewardResponse,this);Game.protoOkEvent.remove(ProtoEventKey.city_SetAmbassador,this.OnsSetAmbassador,this)};MarketCityInfoPanel.prototype.UpdateView=function(cityId){this.cityData=Game.moduleModel.market.GetCity(cityId);this.m_isHome.setSelectedIndex(this.cityData.isHome?1:0);this.dispatchList=this.cityData.isHome?Game.moduleModel.market.GetAmbassador():null;this.m_listActor.numItems=5;if(this.cityData.isHome){this.m_listAssetSpeed.numItems=2;this.m_listAsset.numItems=2}else{this.m_listAssetSpeed.numItems=0;this.m_listAsset.numItems=0}this.cityRewardList=Game.moduleModel.market.GetCityReward(this.cityData.id);this.m_listReward.numItems=this.cityRewardList.length;this.m_cityName.text=this.cityData.num+"."+this.cityData.name;this.m_isHome.setSelectedIndex(this.cityData.isHome?1:0);if(this.cityData.isHome){this.m_btnGet.enabled=Game.time.getSubSecondsPre(Game.moduleModel.market.Info.lastDropTimestamp)>=1;var msg=Games.TEXT.MarketMaxAsset.format(Game.moduleModel.market.GoldLimitTime.toFixed(1));this.ShowHome();this.m_marquee.UpdateView([msg,msg],30)}else{this.HideHome();this.m_btnGet.enabled=false}};MarketCityInfoPanel.prototype.UpdateAddAsset=function(){if(this.cityData&&this.cityData.isHome){if(Game.moduleModel.market.GetCurGold()+Game.moduleModel.market.GetCityGoldSpeed()*5>=Game.moduleModel.market.GoldLimit){this.UpdateAsset();return}this.m_labAniGold.title=Math.ceil(Game.moduleModel.market.GetCityGoldSpeed()*5).toString();this.m_labAniFans.title=Math.ceil(Game.moduleModel.market.GetCityFansSpeed()*5).toString();this.AddAssetAnim();this.m_btnGet.enabled=Game.time.getSubSecondsPre(Game.moduleModel.market.Info.lastDropTimestamp)>=4}};MarketCityInfoPanel.prototype.AddAssetAnim=function(){var _this=this;var startPos;var endPos;var startItem;var endItem;startPos=new Point(this.width/2,this.height/2-100);endItem=this.m_listAsset.getChildAt(0);endPos=this.m_listAsset.localToGlobal(endItem.x,endItem.y);endPos=this.globalToLocal(endPos.x,endPos.y);endPos.x=endPos.x+50;FguiHelper.startTrailSingle(2,startPos,endPos,1000,this);endItem=this.m_listAsset.getChildAt(1);endPos=this.m_listAsset.localToGlobal(endItem.x,endItem.y);endPos=this.globalToLocal(endPos.x,endPos.y);endPos.x=endPos.x+50;FguiHelper.startTrailSingle(5,startPos,endPos,1000,this);setTimeout(function(){_this.UpdateAsset()},1000)};MarketCityInfoPanel.prototype.UpdateAsset=function(){if(this.cityData.isHome){this.m_listAsset.numItems=2}else{this.m_listAsset.numItems=0}};MarketCityInfoPanel.prototype.InitDispatch=function(){this.m_listActor.itemRenderer=Handler.create(this,this.RenderDispatchList,null,false);this.m_listActor.on(fairygui.Events.CLICK_ITEM,this,this.OnDispatchClick)};MarketCityInfoPanel.prototype.RenderDispatchList=function(index,obj){var item=obj;item.name=this.NAME_ITEMDISPATCH+index;if(this.cityData==null){return}item.setPivot(0.5,0.5);if(index==4&&Game.moduleModel.market.IsUnlockFiveActor){item.m_state.setSelectedIndex(0);return}if(this.dispatchList==null){item.m_state.setSelectedIndex(1);return}var id=this.dispatchList[index];if(id==null||id==0){item.m_state.setSelectedIndex(1);return}var data=Game.config.actor.getConfig(id);item.m_state.setSelectedIndex(2);item.icon=Game.moduleModel.market.GetActorIcon(id)};MarketCityInfoPanel.prototype.OnDispatchClick=function(obj){var _this=this;var item=obj;if(item.m_state.selectedIndex==0){return}if(this.cityData.isHome==false){Game.system.confirmText(Games.TEXT.MarketChangeHomeContent,Games.TEXT.MarketChangeHomeTitle,this,function(){_this.OnDispatch(item)});return}this.OnDispatch(item)};MarketCityInfoPanel.prototype.OnDispatch=function(item){var _this=this;var itemIndex=parseInt(item.name.substr(this.NAME_ITEMDISPATCH.length));var demandList=Game.moduleModel.market.GetCityDemand(this.cityData.id,itemIndex);var dispatch=this.cityData.isHome?Game.moduleModel.market.GetAmbassador():[];this.moduleWindow.openSubwindowByIndex(Games.MarketSubEnum.SelectActor,true,function(actor,tweenRect){_this.OnSelect(itemIndex,actor,tweenRect)},demandList,dispatch,Games.TEXT.MarketSelectActorForCity.format(this.cityData.numName))};MarketCityInfoPanel.prototype.InitAssetSpeed=function(){this.m_listAssetSpeed.itemRenderer=Handler.create(this,this.RenderAssetSpeedList,null,false)};MarketCityInfoPanel.prototype.RenderAssetSpeedList=function(index,obj){var item=obj;item.setPivot(0.5,0.5);var speed=0;if(index==0){speed=Math.ceil(Game.moduleModel.market.GetCityGoldSpeed()*3600);item.icon=Game.moduleModel.item.getItem(2).itemIconUrl}else{speed=Math.ceil(Game.moduleModel.market.GetCityFansSpeed()*3600);item.icon=Game.moduleModel.item.getItem(5).itemIconUrl}var formatStr="[color=#e3b121]{0}[/color][color=#488fc1]/{1}[/color]";item.title=formatStr.format(formatNumberUnit(speed),Games.TEXT.Hour)};MarketCityInfoPanel.prototype.InitAssets=function(){var list=this.m_listAsset;list.itemRenderer=Handler.create(this,this.RenderAssetList,null,false)};MarketCityInfoPanel.prototype.RenderAssetList=function(index,obj){var item=obj;item.setPivot(0.5,0.5);var count=0;var limit=0;var valueTxt="";if(index==0){item.m_icon.url=Game.moduleModel.item.getItem(2).itemIconUrl;count=Game.moduleModel.market.GetCurGold();limit=Game.moduleModel.market.GoldLimit;if(count>=limit){count=limit;valueTxt=formatArrayNumberUnit("[color=#e3b121]{0}[/color][color=#488fc1]/{1}[/color]",count,limit)}else{valueTxt=formatArrayNumberUnit("[color=#e3b121]{0}[/color][color=#488fc1]/{1}[/color]",count,limit)}}else{item.m_icon.url=Game.moduleModel.item.getItem(5).itemIconUrl;count=Game.moduleModel.market.GetCurFans();limit=Game.moduleModel.market.FansLimit;if(count>=limit){count=limit;valueTxt=formatArrayNumberUnit("[color=#e3b121]{0}[/color][color=#488fc1]/{1}[/color]",count,limit)}else{valueTxt=formatArrayNumberUnit("[color=#e3b121]{0}[/color][color=#488fc1]/{1}[/color]",count,limit)}}item.title=valueTxt};MarketCityInfoPanel.prototype.InitRewards=function(){var list=this.m_listReward;list.itemRenderer=Handler.create(this,this.RenderRewardList,null,false)};MarketCityInfoPanel.prototype.RenderRewardList=function(index,obj){var viewItem=obj;var itemId=this.cityRewardList[index];var itemNum=Game.moduleModel.market.GetCityRewardNum(itemId);viewItem.icon=Game.config.item.getItemIcon(itemId);viewItem.m_num.text=formatNumberUnit(itemNum);viewItem.starNum=Game.config.item.getStarNum(itemId);viewItem.PopupInfo=itemId;if(this.cityData.isHome){viewItem.m_isLock.setSelectedIndex(Game.moduleModel.market.GetAmbassadorNum()>index?0:1)}else{viewItem.m_isLock.setSelectedIndex(1)}};MarketCityInfoPanel.prototype.OnBtnGetclick=function(){if(this.cityData.isHome){Game.protosender.city.GetReward("",this.cityData.id)}};MarketCityInfoPanel.prototype.OnGetRewardResponse=function(resData){var rewardList=resData.dropout;this.OnGetReward(rewardList);this.UpdateView(this.cityData.id);this.m_listAsset.numItems=2};MarketCityInfoPanel.prototype.OnGetReward=function(rewardList){var addFans=0;for(var index=0;index<rewardList.length;index++){var reward=rewardList[index];if(reward.itemId==5){addFans=reward.amount}}if(addFans>0){Game.system.addFansText(addFans,null,Games.TEXT.MarketAddFansTip,3)}};MarketCityInfoPanel.prototype.OnSelect=function(index,actor,tweenRect){if(actor==null){return}this.animSelectActorStruct={index:index,actor:actor,tweenRect:tweenRect};Game.moduleModel.market.SendSetAmbassador("",this.cityData.id,index,actor)};MarketCityInfoPanel.prototype.OnsSetAmbassador=function(resData){var _this=this;var rewardList=resData.dropout;this.OnGetReward(rewardList);if(this.animSelectActorStruct){var itemIndex=this.animSelectActorStruct.index;var tweenRect=this.animSelectActorStruct.tweenRect;var actorId_1=this.animSelectActorStruct.actor;var item=this.m_listActor.getChildAt(itemIndex);var icon_1=item.m_icon;icon_1.visible=false;var fromRect=this.globalToLocalRect(tweenRect.x,tweenRect.y,tweenRect.width,tweenRect.height);var iconGlobalRect=item.localToGlobalRect(icon_1.x,icon_1.y,icon_1.width,icon_1.height);var toRect=this.globalToLocalRect(iconGlobalRect.x,iconGlobalRect.y,iconGlobalRect.width,iconGlobalRect.height);this.m_tweenIcon.visible=true;this.m_tweenIcon.m_icon.url=Game.moduleModel.market.GetActorIcon(actorId_1);DoTween.TweenRect(this.m_tweenIcon,fromRect,toRect,300,null,Handler.create(this,function(){icon_1.visible=true;_this.m_tweenIcon.visible=false;Game.system.playSkillEffect(actorId_1,Games.SkillTriggerType.city_get_gold_time);Game.system.playSkillEffect(actorId_1,Games.SkillTriggerType.get_gold_speed)}))}this.animSelectActorStruct=null};MarketCityInfoPanel.prototype.ShowHome=function(){if(this.cityData.isHome){this.m_marquee.Show();this.tick.Restart()}else{this.HideHome()}};MarketCityInfoPanel.prototype.HideHome=function(){this.m_marquee.Hide();this.tick.Stop()};return MarketCityInfoPanel}(Market.MarketCityInfoPanelStruct));Market.MarketCityInfoPanel=MarketCityInfoPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketCountryListPanelStruct=(function(_super){__extends(MarketCountryListPanelStruct,_super);function MarketCountryListPanelStruct(){return _super.call(this)||this}MarketCountryListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketCountryListPanel"))};MarketCountryListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_listCountry=(this.getChild("listCountry"));this.m_btnClose=(this.getChild("btnClose"));this.m_btnShow=(this.getChild("btnShow"))};MarketCountryListPanelStruct.URL="ui://p7g5z54adm319s";MarketCountryListPanelStruct.DependPackages=["Market","Common"];return MarketCountryListPanelStruct}(fairygui.GComponent));Market.MarketCountryListPanelStruct=MarketCountryListPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketCountryListPanel=(function(_super){__extends(MarketCountryListPanel,_super);function MarketCountryListPanel(){return _super!==null&&_super.apply(this,arguments)||this}MarketCountryListPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this.moduleWindow,this.moduleWindow.closeSelf);this.m_btnShow.onClick(this,this.OnBtnShowClick);this.m_listCountry.setVirtual();this.m_listCountry.itemRenderer=Handler.create(this,this.RenderListItem,null,false)};MarketCountryListPanel.prototype.onWindowDestory=function(){this.m_btnClose.onClick(null,null);this.m_btnShow.onClick(null,null)};MarketCountryListPanel.prototype.onWindowShow=function(){this.UpdateView()};MarketCountryListPanel.prototype.onWindowHide=function(){};MarketCountryListPanel.prototype.UpdateView=function(){this.countryList=Game.moduleModel.market.GetCountryList();this.m_listCountry.numItems=this.countryList.length;this.m_listCountry.refreshVirtualList()};MarketCountryListPanel.prototype.OnBtnShowClick=function(){var mainWindow=this.moduleWindow.mainWindow;var selectIndex=this.m_listCountry.selectedIndex;if(selectIndex==null||selectIndex<0){mainWindow.conent.OnSelectCountry(null)}else{var data=this.countryList[selectIndex];mainWindow.conent.OnSelectCountry(data.id)}this.moduleWindow.closeSelf()};MarketCountryListPanel.prototype.RenderListItem=function(index,obj){var item=obj;var data=this.countryList[index];item.m_txtName.text=data.cfg.number+". "+data.name;item.m_imgHome.visible=data.isHome;var progress=Game.moduleModel.market.GetCountryProgress(data.id);item.m_txtProgress.text=Games.TEXT.MarketOccupe.format(progress,Game.config.country.getConfig(data.id).city_num);item.m_imgCountryIcon.url=data.flagUrl};return MarketCountryListPanel}(Market.MarketCountryListPanelStruct));Market.MarketCountryListPanel=MarketCountryListPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketMainPanelStruct=(function(_super){__extends(MarketMainPanelStruct,_super);function MarketMainPanelStruct(){return _super.call(this)||this}MarketMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketMainPanel"))};MarketMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_txtCountry=(this.getChild("txtCountry"));this.m_cityInfoPanel=(this.getChild("cityInfoPanel"));this.m_occupyPanel=(this.getChild("occupyPanel"));this.m_btnCountry=(this.getChild("btnCountry"));this.m_topAsset=(this.getChild("topAsset"))};MarketMainPanelStruct.URL="ui://p7g5z54adm319t";MarketMainPanelStruct.DependPackages=["Market","Common","Fx","WarMovie"];return MarketMainPanelStruct}(fairygui.GComponent));Market.MarketMainPanelStruct=MarketMainPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketMainPanel=(function(_super){__extends(MarketMainPanel,_super);function MarketMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}MarketMainPanel.prototype.onWindowInited=function(){this.m_topAsset.InitView(this,this.OnCloseClick,[1,2,9004]);this.m_topAsset.m_Bg.setSelectedIndex(1);this.m_btnCountry.onClick(this,this.ShowCountryList);this.InitCityList()};MarketMainPanel.prototype.onWindowDestory=function(){this.m_topAsset.onWindowDestory();this.m_btnCountry.onClick(null,null)};MarketMainPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.city_HoldCity,this.OnOccupyFinish,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.m_topAsset.updateAsset,this.m_topAsset);Game.protoOkEvent.add(ProtoEventKey.city_Propaganda,this.OnPublicityFinish,this);Game.protoOkEvent.add(ProtoEventKey.CityData,this.OnCityDataUpdate,this);this.Open()};MarketMainPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.city_HoldCity,this.OnOccupyFinish,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.m_topAsset.updateAsset,this.m_topAsset);Game.protoOkEvent.remove(ProtoEventKey.city_Propaganda,this.OnPublicityFinish,this);Game.protoOkEvent.remove(ProtoEventKey.CityData,this.OnCityDataUpdate,this)};MarketMainPanel.prototype.Open=function(){if(this.countryId==null){var countryList=Game.moduleModel.market.GetCountryList();if(countryList.length>1){this.ShowCountryList();return}}this.UpdateView()};MarketMainPanel.prototype.UpdateView=function(){this.m_topAsset.updateAsset();if(this.countryId==null){this.countryId=Game.moduleModel.market.GetLastCountryId()}this.cityDatas=Game.moduleModel.market.GetCityList(this.countryId);if(this.selectIndex==null||this.selectIndex>this.cityDatas.length||this.selectIndex<0){this.selectIndex=this.cityDatas.length-2}var cfg=Game.config.country.getConfig(this.countryId);var countryProgress=Game.moduleModel.market.GetCountryProgress(this.countryId);this.m_txtCountry.text=cfg.number+". "+cfg.name+" "+(countryProgress<cfg.city_num?countryProgress+1:countryProgress)+"/"+cfg.city_num;this.m_list.numItems=this.cityDatas.length;this.m_list.refreshVirtualList();this.m_list.selectedIndex=this.selectIndex;this.m_list.scrollToView(this.selectIndex);this.ShowCity()};MarketMainPanel.prototype.InitCityList=function(){this.m_list.setVirtual();this.m_list.itemRenderer=Handler.create(this,this.RenderCityListItem,null,false);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.OnCityItemClick);this.m_list.numItems=0};MarketMainPanel.prototype.OnCloseClick=function(){this.countryId=null;this.selectIndex=null;this.moduleWindow.menuClose()};MarketMainPanel.prototype.OnDestory=function(){};MarketMainPanel.prototype.OnCityItemClick=function(obj){this.selectIndex=this.m_list.selectedIndex;this.ShowCity()};MarketMainPanel.prototype.RenderCityListItem=function(index,obj){var item=obj;var data=this.cityDatas[index];item.setPivot(0.5,0.5);item.title=data.cfg.city_num+". "+data.name;item.m_state.setSelectedIndex(data.state==Games.CityStateEnum.Lock?0:1);item.enabled=data.state!=Games.CityStateEnum.Lock;item.m_isHome.setSelectedIndex(data.isHome?1:0)};MarketMainPanel.prototype.ShowCity=function(){var index=this.selectIndex;if(index==null||index<0){return}var data=this.cityDatas[index];if(data.state==Games.CityStateEnum.Lock){return}if(data.state==Games.CityStateEnum.hasOccupy){this.ShowCityInfo()}else{this.ShowOccupyPanel()}};MarketMainPanel.prototype.ShowOccupyPanel=function(){this.moduleWindow.openTab(Games.MarketTabEnum.Occupy);this.m_occupyPanel.UpdateView()};MarketMainPanel.prototype.ShowCityInfo=function(){this.moduleWindow.openTab(Games.MarketTabEnum.CityInfo);var data=this.cityDatas[this.m_list.selectedIndex];this.m_cityInfoPanel.UpdateView(data.id)};MarketMainPanel.prototype.OnPublicityFinish=function(){this.UpdateView()};MarketMainPanel.prototype.OnCityDataUpdate=function(){this.UpdateView()};MarketMainPanel.prototype.OnOccupyFinish=function(){var city=Game.moduleModel.market.GetMaxCity();if(city){Game.system.getItemText(city.holdReward)}this.UpdateView()};MarketMainPanel.prototype.OnSelectCountry=function(countryId){if(countryId!=null&&countryId==this.countryId){this.countryId=countryId;this.selectIndex=-1}this.UpdateView()};MarketMainPanel.prototype.ShowCountryList=function(){this.moduleWindow.openSubwindowByIndex(Games.MarketSubEnum.CountryList,true)};Object.defineProperty(MarketMainPanel.prototype,"CurrentCity",{get:function(){return this.cityDatas[this.m_list.selectedIndex]},enumerable:true,configurable:true});return MarketMainPanel}(Market.MarketMainPanelStruct));Market.MarketMainPanel=MarketMainPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketOccupyPanelStruct=(function(_super){__extends(MarketOccupyPanelStruct,_super);function MarketOccupyPanelStruct(){return _super.call(this)||this}MarketOccupyPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketOccupyPanel"))};MarketOccupyPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_mapCityPoint=(this.getChild("mapCityPoint"));this.m_country=(this.getChild("country"));this.m_cityName=(this.getChild("cityName"));this.m_listReward=(this.getChild("listReward"));this.m_progress=(this.getChild("progress"));this.m_btnRoadShow=(this.getChild("btnRoadShow"));this.m_btnZhanling=(this.getChild("btnZhanling"));this.m_labAniCost=(this.getChild("labAniCost"));this.m_t1=this.getTransition("t1");this.m_tCostMove=this.getTransition("tCostMove")};MarketOccupyPanelStruct.URL="ui://p7g5z54adm319u";MarketOccupyPanelStruct.DependPackages=["Market","Common"];return MarketOccupyPanelStruct}(fairygui.GComponent));Market.MarketOccupyPanelStruct=MarketOccupyPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketOccupyPanel=(function(_super){__extends(MarketOccupyPanel,_super);function MarketOccupyPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.ItemPointList=[];_this.NAME_BTNCITYPOINT="BtnCityPoint";_this.CityPointPool=new fairygui.GObjectPool();return _this}MarketOccupyPanel.prototype.onWindowInited=function(){this.m_btnRoadShow.onClick(this,this.OnBtnRoadShowClick);this.m_btnZhanling.onClick(this,this.OnBtnOccupyClick);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false)};MarketOccupyPanel.prototype.onWindowDestory=function(){this.m_btnRoadShow.onClick(null,null);this.m_btnZhanling.onClick(null,null)};MarketOccupyPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.city_Roadshow,this.OnsRoadshow,this);this.UpdateView()};MarketOccupyPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.city_Roadshow,this.OnsRoadshow,this)};MarketOccupyPanel.prototype.UpdateView=function(){this.cityData=Game.moduleModel.market.GetLastCity();this.pointDatas=Game.moduleModel.market.GetStreetList();this.rewardList=Game.config.city.getConfig(this.cityData.id).hold_reward;var numItems=this.ItemPointList.length;for(var index=0;index<this.pointDatas.length;index++){var item=this.ItemPointList[index];if(item==undefined){item=this.CityPointPool.getObject(fgui.Market.BtnCityPoint.URL);item.name=this.NAME_BTNCITYPOINT+index;this.addChild(item);item.setPivot(0.5,1);item.onClick(this,this.OnItemClick);this.ItemPointList[index]=item}var data=this.pointDatas[index];var maxX=this.m_mapCityPoint.width;var maxY=this.m_mapCityPoint.height;var x=data.pos.x*maxX;var y=data.pos.y*maxY;item.setXY(x,y);item.title=data.name;if(data.state==Games.StreetStateEnum.NotOccupy){item.m_state.setSelectedIndex(0)}else{if(data.state==Games.StreetStateEnum.InOccupy){item.m_progress.value=data.progress;item.m_state.setSelectedIndex(1);item.m_tranOccupy.play()}}if(data.state==Games.StreetStateEnum.HasOccupy){item.m_state.setSelectedIndex(2)}else{}item.visible=true}for(var index=this.pointDatas.length;index<numItems;index++){var item=this.ItemPointList[index];this.removeChild(item);this.CityPointPool.returnObject(item)}this.ItemPointList.splice(this.pointDatas.length);if(this.cityData.state==Games.CityStateEnum.InOccupy){this.m_state.setSelectedIndex(0)}else{if(this.cityData.state==Games.CityStateEnum.FinishPublicity){this.m_btnRoadShow.enabled=true;this.m_state.setSelectedIndex(1)}else{if(this.cityData.state==Games.CityStateEnum.FinishRoadShow){this.m_state.setSelectedIndex(2)}else{this.m_state.setSelectedIndex(0)}}}var cost=Game.moduleModel.market.GetRoadShowCost();this.m_btnRoadShow.m_labCost.icon=Game.config.item.getItemIcon(3);this.m_btnRoadShow.m_labCost.title=formatNumberUnit(cost,cost>1000?1:0);this.m_labAniCost.title=formatNumberUnit(cost,cost>1000?1:0);this.m_listReward.numItems=this.rewardList.length;this.m_cityName.text=this.cityData.name+Games.TEXT.MarketShare;this.m_progress.value=Game.moduleModel.market.GetCityProgress();this.m_country.url=Game.moduleModel.market.GetCountry(this.cityData.country).flagUrl;this.m_btnRoadShow.enabled=true};MarketOccupyPanel.prototype.RenderRewardItem=function(index,obj){var item=obj;var data=this.rewardList[index];item.setPivot(0.5,0.5);item.icon=Game.moduleModel.item.getItem(data.itemId).itemIconUrl;item.m_num.text=formatNumberUnit(data.itemNum,data.itemNum>1000?1:0);item.m_star.starNum=data.itemStar;item.PopupInfo=data.itemId};MarketOccupyPanel.prototype.OnItemClick=function(evt){var index=Number(fairygui.GObject.cast(evt.currentTarget).name.substr(12));var data=this.pointDatas[index];if(data.state==Games.StreetStateEnum.InOccupy){this.moduleWindow.openSubwindowByIndex(Games.MarketSubEnum.Publicity,true,data)}};MarketOccupyPanel.prototype.OnBtnRoadShowClick=function(){if(this.cityData.state==Games.CityStateEnum.FinishPublicity){var cost=Game.moduleModel.market.GetRoadShowCost();if(Game.moduleModel.item.hasItemNum(3,cost)){this.m_btnRoadShow.enabled=false;Game.protosender.city.Roadshow("",this.cityData.id,0)}else{Game.system.openItemWay(3,cost)}}};MarketOccupyPanel.prototype.OnsRoadshow=function(){var _this=this;Game.sound.playSound(SoundKey.MM10_PayMent);this.m_tCostMove.play(new Handler(this,function(){_this.moduleWindow.openSubwindowByIndex(Games.MarketSubEnum.RoadShow)}))};MarketOccupyPanel.prototype.OnBtnOccupyClick=function(){Game.protosender.city.HoldCity()};Object.defineProperty(MarketOccupyPanel.prototype,"CurrentStreetBtn",{get:function(){var currentStreet=Game.moduleModel.market.GetLastStreet();for(var index=0;index<this.pointDatas.length;index++){var pointData=this.pointDatas[index];if(pointData.id==currentStreet.id){return this.ItemPointList[index]}}},enumerable:true,configurable:true});MarketOccupyPanel.prototype.guideGetCityPointBtn=function(){for(var index=0;index<this.pointDatas.length;index++){var data=this.pointDatas[index];if(data.state==Games.StreetStateEnum.InOccupy){return this.ItemPointList[index]}}};return MarketOccupyPanel}(Market.MarketOccupyPanelStruct));Market.MarketOccupyPanel=MarketOccupyPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketPublicityPanelStruct=(function(_super){__extends(MarketPublicityPanelStruct,_super);function MarketPublicityPanelStruct(){return _super.call(this)||this}MarketPublicityPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketPublicityPanel"))};MarketPublicityPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_active=this.getController("active");this.m_name=(this.getChild("name"));this.m_actorDemand=(this.getChild("actorDemand"));this.m_auto=(this.getChild("auto"));this.m_tip=(this.getChild("tip"));this.m_AnimBg=(this.getChild("AnimBg"));this.m_listReward=(this.getChild("listReward"));this.m_topAsset=(this.getChild("topAsset"));this.m_btnAddActor=(this.getChild("btnAddActor"));this.m_demand=(this.getChild("demand"));this.m_progress=(this.getChild("progress"));this.m_btnPublicity=(this.getChild("btnPublicity"));this.m_tabSelfmotion=(this.getChild("tabSelfmotion"));this.m_tweenIcon=(this.getChild("tweenIcon"));this.m_btnFinish=(this.getChild("btnFinish"));this.m_t0=this.getTransition("t0");this.m_soundGoldReward=this.getTransition("soundGoldReward")};MarketPublicityPanelStruct.URL="ui://p7g5z54adm319z";MarketPublicityPanelStruct.DependPackages=["Market","Common","WarMovie","PfSkin","Fx","PlayerInfo"];return MarketPublicityPanelStruct}(fairygui.GComponent));Market.MarketPublicityPanelStruct=MarketPublicityPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketPublicityPanel=(function(_super){__extends(MarketPublicityPanel,_super);function MarketPublicityPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isShow=false;_this.publicRewards=[];return _this}MarketPublicityPanel.prototype.onWindowInited=function(){this.m_topAsset.InitView(this,this.OnCloseClick,[3]);this.m_btnAddActor.onClick(this,this.OnBtnAddActorClick);this.m_btnPublicity.onClick(this,this.OnBtnPublicityClick);this.m_btnFinish.onClick(this,this.OnPublicityFinish);this.m_tabSelfmotion.onClick(this,this.OnTabSelfmotionChangState);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardsItem,null,false)};MarketPublicityPanel.prototype.onWindowDestory=function(){this.m_topAsset.onWindowDestory();this.m_btnAddActor.onClick(null,null);this.m_btnPublicity.onClick(null,null);this.m_btnFinish.onClick(null,null);this.m_tabSelfmotion.onClick(null,null)};MarketPublicityPanel.prototype.onWindowShow=function(){this.isShow=true;Game.sound.playMusic(SoundKey.MM_BGM_Propaganda,0);Game.protoOkEvent.add(ProtoEventKey.city_Propaganda,this.OnsPropaganda,this);Game.protoOkEvent.add(ProtoEventKey.city_SetPropagandaActor,this.OnsSetPropagandaActor,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.m_topAsset.updateAsset,this.m_topAsset);this.m_btnPublicity.enabled=true;this.m_btnAddActor.enabled=true;this.UpdateView();this.m_topAsset.updateAsset()};MarketPublicityPanel.prototype.onWindowHide=function(){this.isShow=false;Game.sound.stopMusic();Game.sound.playMusic(SoundKey.MM_BGM_Cinema);Game.protoOkEvent.remove(ProtoEventKey.city_Propaganda,this.OnsPropaganda,this);Game.protoOkEvent.remove(ProtoEventKey.city_SetPropagandaActor,this.OnsSetPropagandaActor,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.m_topAsset.updateAsset,this.m_topAsset)};MarketPublicityPanel.prototype.UpdateView=function(){this.pointData=Game.moduleModel.market.GetLastStreet();this.rewardList=this.pointData.reward;this.m_listReward.numItems=this.rewardList.length;this.selectActor=Game.moduleModel.market.Info.propagandaActor;this.m_progress.value=this.pointData.progress;this.m_active.setSelectedIndex(0);this.m_demand.text=Game.moduleModel.market.GetPublicityDemandText();this.m_actorDemand.text=Game.moduleModel.market.GetStreetDemandText();this.m_name.text=this.pointData.numName;if(this.selectActor!=null&&this.selectActor!=0){this.m_btnAddActor.State=1;this.m_btnAddActor.Icon=Game.moduleModel.market.GetActorIcon(this.selectActor)}else{this.m_btnAddActor.State=0}if(Game.moduleModel.secretary.isTempSecretary){var remainTimes=Game.moduleModel.secretary.autoPublicizeNum;if(remainTimes<=0){Game.moduleModel.secretary.isAutoPublicize=false;this.m_tip.text=Games.TEXT.HaveAgentCanAutoPublicize}else{this.m_tip.text=format(TEXT.SecretaryRemainAutoPublicizeNum,remainTimes)}}else{this.m_tip.text=Games.TEXT.HaveAgentCanAutoRead}this.m_tabSelfmotion.selected=Game.moduleModel.secretary.isAutoPublicize};MarketPublicityPanel.prototype.OnTabSelfmotionChangState=function(){if(this.m_tabSelfmotion.selected){if(Game.moduleModel.secretary.autoPublicizeNum>0){Game.moduleModel.secretary.isAutoPublicize=this.m_tabSelfmotion.selected}else{if(Game.moduleModel.secretary.isTempSecretary){Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto1)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}else{Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_not_owned,Game.config.msg.getTxt(MsgKey.secretary_auto1)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}this.m_tabSelfmotion.selected=false}}else{Game.moduleModel.secretary.isAutoPublicize=this.m_tabSelfmotion.selected}};MarketPublicityPanel.prototype.RenderRewardsItem=function(index,obj){var data=this.rewardList[index];var item=obj;item.icon=Game.moduleModel.item.getItem(data.itemId).itemIconUrl;item.m_num.text=data.itemNumTxt;item.m_star.starNum=data.itemStar;item.PopupInfo=data.itemId};MarketPublicityPanel.prototype.OnCloseClick=function(){this.isShow=false;this.moduleWindow.backToMainWindow()};MarketPublicityPanel.prototype.OnBtnAddActorClick=function(){var _this=this;var demandList=Game.moduleModel.market.GetStreetDemand();var dispatch=Game.moduleModel.market.GetPropagandaActor();var dispatchList=dispatch==0?[]:[dispatch];var mainWindow=(this.moduleWindow.mainWindow);mainWindow.openSubwindowByIndex(Games.MarketSubEnum.SelectActor,true,function(actor,tweenRect){_this.OnActorSelect(actor,tweenRect)},demandList,dispatchList,Games.TEXT.MarketSelectActor.format(this.pointData.numName))};MarketPublicityPanel.prototype.OnActorSelect=function(actor,tweenRect){if(actor==null){return}this.animSelectActorStruct={actor:actor,tweenRect:tweenRect};Game.protosender.city.SetPropagandaActor("",this.pointData.city,this.pointData.id,actor)};MarketPublicityPanel.prototype.OnsSetPropagandaActor=function(msg){this.UpdateView();this.PlaySelectAnim()};MarketPublicityPanel.prototype.PlaySelectAnim=function(){var _this=this;var actor=this.animSelectActorStruct.actor;var tweenRect=this.animSelectActorStruct.tweenRect;var mIcon=this.m_btnAddActor.m_icon;var fromRect=this.globalToLocalRect(tweenRect.x,tweenRect.y,tweenRect.width,tweenRect.height);var iconGlobalRect=this.m_btnAddActor.localToGlobalRect(mIcon.x,mIcon.y,mIcon.width,mIcon.height);var toRect=this.globalToLocalRect(iconGlobalRect.x,iconGlobalRect.y,mIcon.width,iconGlobalRect.height);this.m_tweenIcon.visible=true;this.m_tweenIcon.m_icon.url=Game.moduleModel.market.GetActorIcon(actor);DoTween.TweenRect(this.m_tweenIcon,fromRect,toRect,300,null,Handler.create(this,function(){_this.m_tweenIcon.visible=false}))};MarketPublicityPanel.prototype.OnBtnPublicityClick=function(){this.PublicityOnce()};MarketPublicityPanel.prototype.PublicityOnce=function(){if(this.isShow==false){return}var cost=this.pointData.cfg.publicize_cost;if(Game.moduleModel.item.hasItemNum(3,cost)){this.m_btnAddActor.enabled=true;this.m_btnPublicity.enabled=false;this.publicRewards=Game.moduleModel.market.GetPublicRewards(this.pointData);Game.protosender.city.Propaganda("",this.pointData.city,this.pointData.id)}else{Game.system.openItemWay(3,cost)}};MarketPublicityPanel.prototype.OnsPropaganda=function(msg){if(Game.moduleModel.market.Info.lastArea==this.pointData.id){this.UpdateView()}else{this.m_progress.value=100}this.m_t0.play(Handler.create(this,this.OnPublicityTransFinish))};MarketPublicityPanel.prototype.OnPublicityTransFinish=function(){Game.system.getRewardText(this.publicRewards,Games.TEXT.MarketReward,Game.moduleModel.secretary.isAutoPublicize?0.3:0);this.m_btnAddActor.enabled=true;this.m_btnPublicity.enabled=true;if(Game.moduleModel.market.Info.lastArea!=this.pointData.id||Game.moduleModel.market.Info.lastAreaProgress==100){this.ShowFinishView()}else{var isAuto=Game.moduleModel.secretary.isAutoPublicize;if(this.m_tabSelfmotion.selected){this.UpdateView();this.PublicityOnce()}else{if(this.m_tabSelfmotion.selected&&Game.moduleModel.secretary.isTempSecretary){Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto1)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false)}this.UpdateView()}}};MarketPublicityPanel.prototype.ShowFinishView=function(){this.m_active.setSelectedIndex(1)};MarketPublicityPanel.prototype.OnPublicityFinish=function(){Game.guide.checkPlayStoryByType(Games.StoryTriggerType.FinishStreet);var mainWindow=(this.moduleWindow.mainWindow);mainWindow.conent.UpdateView();this.moduleWindow.closeSelf()};return MarketPublicityPanel}(Market.MarketPublicityPanelStruct));Market.MarketPublicityPanel=MarketPublicityPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketRoadShowPanelStruct=(function(_super){__extends(MarketRoadShowPanelStruct,_super);function MarketRoadShowPanelStruct(){return _super.call(this)||this}MarketRoadShowPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketRoadShowPanel"))};MarketRoadShowPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_listActor=(this.getChild("listActor"));this.m_aniAixin=(this.getChild("aniAixin"));this.m_roadshowContainer=(this.getChild("roadshowContainer"));this.m_progress=(this.getChild("progress"));this.m_btnSkip=(this.getChild("btnSkip"));this.m_btnFinish=(this.getChild("btnFinish"));this.m_soundSuccess=this.getTransition("soundSuccess");this.m_soundFail=this.getTransition("soundFail")};MarketRoadShowPanelStruct.URL="ui://p7g5z54adm31a6";MarketRoadShowPanelStruct.DependPackages=["Market","PfSkin","Common","Fx","WarMovie"];return MarketRoadShowPanelStruct}(fairygui.GComponent));Market.MarketRoadShowPanelStruct=MarketRoadShowPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketRoadShowPanel=(function(_super){__extends(MarketRoadShowPanel,_super);function MarketRoadShowPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.debug=false;return _this}MarketRoadShowPanel.prototype.onWindowInited=function(){this.m_btnSkip.onClick(this,this.OnBtnSkipClick);this.m_btnFinish.onClick(this,this.OnBtnFinishClick)};MarketRoadShowPanel.prototype.onWindowDestory=function(){this.m_btnSkip.onClick(null,null);this.m_btnFinish.onClick(null,null)};MarketRoadShowPanel.prototype.onWindowShow=function(){Game.sound.playMusic(SoundKey.MM_BGM_RoadShow,0);this.UpdateView()};MarketRoadShowPanel.prototype.onWindowHide=function(){Game.sound.stopMusic();Game.sound.playMusic(SoundKey.MM_BGM_Cinema)};MarketRoadShowPanel.prototype.UpdateView=function(){this.m_listActor.itemRenderer=new Handler(this,this.RenderActorItem,null,false);this.m_state.setSelectedIndex(0);this.cityData=Game.moduleModel.market.GetLastCity();this.actorList=Game.moduleModel.market.GetActorList();this.m_listActor.numItems=this.actorList.length;this.show_need=Game.config.city.getConfig(this.cityData.id).show_need;this.m_progress.max=this.show_need;this.m_progress.value=0;this.StartAnim()};MarketRoadShowPanel.prototype.StartAnim=function(){this.roadShowAnimPanel=fgui.PfSkin.LyShow.createInstance();this.roadShowAnimPanel.showFor(this.m_roadshowContainer,this)};MarketRoadShowPanel.prototype.OnAnimFinish=function(){this.OnFinish()};MarketRoadShowPanel.prototype.currentActorData=function(){return this.actorList[this.m_listActor.numItems-1]};MarketRoadShowPanel.prototype.curActorPopularValue=function(actor){return actor.art+actor.plot+actor.perform+actor.spectacle+actor.entertainment};MarketRoadShowPanel.prototype.UpdateProgress=function(actor){this.m_listActor.numItems=this.m_listActor.numItems-1;var total=actor.art+actor.plot+actor.perform+actor.spectacle+actor.entertainment;total=this.m_progress.value+total;if(total>=this.show_need){total=this.show_need}this.m_progress.value=total;if(this.m_progress.value==this.show_need){return true}var num=this.m_listActor.numItems;if(num==0){return true}return false};MarketRoadShowPanel.prototype.RenderActorItem=function(index,obj){var data=this.actorList[index];obj.Render(data)};MarketRoadShowPanel.prototype.OnFinish=function(){if(Game.moduleModel.market.Info.roadShowFlag){this.OnSuccess()}else{this.OnFail()}};MarketRoadShowPanel.prototype.OnSuccess=function(){this.m_state.setSelectedIndex(1)};MarketRoadShowPanel.prototype.OnFail=function(){this.m_state.setSelectedIndex(2)};MarketRoadShowPanel.prototype.OnBtnSkipClick=function(){if(this.roadShowAnimPanel){this.roadShowAnimPanel.dispose();this.roadShowAnimPanel=null}this.OnAnimFinish()};MarketRoadShowPanel.prototype.OnBtnFinishClick=function(){Game.guide.checkPlayStoryByType(Games.StoryTriggerType.FinishRoadShow);this.moduleWindow.backPreWindow()};return MarketRoadShowPanel}(Market.MarketRoadShowPanelStruct));Market.MarketRoadShowPanel=MarketRoadShowPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketRoadShowSuccessStruct=(function(_super){__extends(MarketRoadShowSuccessStruct,_super);function MarketRoadShowSuccessStruct(){return _super.call(this)||this}MarketRoadShowSuccessStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketRoadShowSuccess"))};MarketRoadShowSuccessStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};MarketRoadShowSuccessStruct.URL="ui://p7g5z54apuatfd";MarketRoadShowSuccessStruct.DependPackages=["Market","Fx","Common"];return MarketRoadShowSuccessStruct}(fairygui.GComponent));Market.MarketRoadShowSuccessStruct=MarketRoadShowSuccessStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketRoadShowSuccess=(function(_super){__extends(MarketRoadShowSuccess,_super);function MarketRoadShowSuccess(){return _super!==null&&_super.apply(this,arguments)||this}return MarketRoadShowSuccess}(Market.MarketRoadShowSuccessStruct));Market.MarketRoadShowSuccess=MarketRoadShowSuccess})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketSelectActorItemStruct=(function(_super){__extends(MarketSelectActorItemStruct,_super);function MarketSelectActorItemStruct(){return _super.call(this)||this}MarketSelectActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketSelectActorItem"))};MarketSelectActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_labDemand1=(this.getChild("labDemand1"));this.m_labDemand2=(this.getChild("labDemand2"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnPromotion=(this.getChild("btnPromotion"));this.m_talkBox=(this.getChild("talkBox"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};MarketSelectActorItemStruct.URL="ui://p7g5z54adm31ed";MarketSelectActorItemStruct.DependPackages=["Market","Common","WarMovie"];return MarketSelectActorItemStruct}(fairygui.GButton));Market.MarketSelectActorItemStruct=MarketSelectActorItemStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketSelectActorItem=(function(_super){__extends(MarketSelectActorItem,_super);function MarketSelectActorItem(){return _super!==null&&_super.apply(this,arguments)||this}MarketSelectActorItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnPromotion.onClick(this,this.OnBtnPromotionClick)};MarketSelectActorItem.prototype.UpdateView=function(actorData,demandList,dispatchList){this.actorData=actorData;this.demandList=demandList;this.dispatchList=dispatchList;this.title=actorData.name;this.m_state.setSelectedIndex(this.IsDispatch(actorData.id)?1:0);var demand=this.demandList[0];var actDemand=Game.moduleModel.market.GetActorRequire(actorData.id);if(demand!=null){this.m_labDemand1.visible=true;this.m_labDemand1.title=Game.moduleModel.market.GetDemandTypeName(demand.type)+":";this.m_labDemand1.m_value.text=Game.moduleModel.market.GetActorDemandValueText(demand,actDemand[demand.type]);this.m_labDemand1.m_color.setSelectedIndex(Game.moduleModel.market.IsDemandConform(demand,actDemand[demand.type])?1:0);var icon=Game.moduleModel.market.GetDemandTypeIcon(demand.type);this.m_labDemand1.icon=icon;this.m_labDemand1.m_hasIcon.setSelectedIndex(icon==""?0:1)}else{this.m_labDemand1.visible=false}demand=this.demandList[1];if(demand!=null){this.m_labDemand2.visible=true;this.m_labDemand2.title=Game.moduleModel.market.GetDemandTypeName(demand.type)+":";this.m_labDemand2.m_value.text=Game.moduleModel.market.GetActorDemandValueText(demand,actDemand[demand.type]);this.m_labDemand2.m_color.setSelectedIndex(Game.moduleModel.market.IsDemandConform(demand,actDemand[demand.type])?1:0);var icon=Game.moduleModel.market.GetDemandTypeIcon(demand.type);this.m_labDemand2.icon=icon;this.m_labDemand2.m_hasIcon.setSelectedIndex(icon==""?0:1)}else{this.m_labDemand2.visible=false}this.m_icon.url=Game.moduleModel.market.GetActorIcon(actorData.id);this.UpdateState()};MarketSelectActorItem.prototype.UpdateState=function(){var actDemand=Game.moduleModel.market.GetActorRequire(this.actorData.id);var isFinish=true;var selectType=0;for(var index=0;index<this.demandList.length;index++){var demand=this.demandList[index];if(!Game.moduleModel.market.IsDemandConform(demand,actDemand[demand.type])){switch(demand.type){case Games.ActorRequireEnum.age:this.m_talkBox.title=Game.config.msg.getTxt(MsgKey.market_envoy_wrong3);selectType=1;break;case Games.ActorRequireEnum.Continents:this.m_talkBox.title=Game.config.msg.getTxt(MsgKey.market_envoy_wrong1);selectType=1;break;case Games.ActorRequireEnum.type:this.m_talkBox.title=Game.config.msg.getTxt(MsgKey.market_envoy_wrong2);selectType=1;break;case Games.ActorRequireEnum.sex:this.m_talkBox.title=Game.config.msg.getTxt(MsgKey.market_envoy_wrong5);selectType=1;break;default:break}isFinish=false}}this.m_selectType.setSelectedIndex(selectType);return isFinish};MarketSelectActorItem.prototype.onselect=function(){var actDemand=Game.moduleModel.market.GetActorRequire(this.actorData.id);for(var index=0;index<this.demandList.length;index++){var demand=this.demandList[index];if(!Game.moduleModel.market.IsDemandConform(demand,actDemand[demand.type])){return false}}return true};MarketSelectActorItem.prototype.OnBtnPromotionClick=function(){Game.menu.open(MenuId.ArtistDetail,this.actorData.id)};MarketSelectActorItem.prototype.IsDispatch=function(id){for(var index=0;index<this.dispatchList.length;index++){var dispatch=this.dispatchList[index];if(dispatch==id){return true}}return false};return MarketSelectActorItem}(Market.MarketSelectActorItemStruct));Market.MarketSelectActorItem=MarketSelectActorItem})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketSelectActorPanelStruct=(function(_super){__extends(MarketSelectActorPanelStruct,_super);function MarketSelectActorPanelStruct(){return _super.call(this)||this}MarketSelectActorPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","MarketSelectActorPanel"))};MarketSelectActorPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_txtTip=(this.getChild("txtTip"));this.m_btnClose=(this.getChild("btnClose"))};MarketSelectActorPanelStruct.URL="ui://p7g5z54adm31af";MarketSelectActorPanelStruct.DependPackages=["Market","Common"];return MarketSelectActorPanelStruct}(fairygui.GComponent));Market.MarketSelectActorPanelStruct=MarketSelectActorPanelStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var MarketSelectActorPanel=(function(_super){__extends(MarketSelectActorPanel,_super);function MarketSelectActorPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dispatchList=[];_this.NAME_ITEM="MarketActorItem";_this.lastSelect=-1;return _this}MarketSelectActorPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnCloseClick);this.m_list.setVirtual();this.m_list.itemRenderer=Handler.create(this,this.RenderListItem,null,false);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.OnSelect)};MarketSelectActorPanel.prototype.onWindowDestory=function(){this.m_btnClose.onClick(null,null);this.m_list.itemRenderer=null};MarketSelectActorPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.ActorData,this.UpdateActors,this);this.UpdateView()};MarketSelectActorPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ActorData,this.UpdateActors,this)};MarketSelectActorPanel.prototype.UpdateView=function(){var args=this.moduleWindow.menuParameter.args;this.onSelect=args[0];this.demandList=args[1];this.dispatchList=args[2];this.m_txtTip.text=args[3];this.m_txtTip2.text=Game.moduleModel.market.GetDemandListText(this.demandList);this.lastSelect=-1;this.m_list.selectNone();this.m_list.refreshVirtualList();this.UpdateList()};MarketSelectActorPanel.prototype.UpdateList=function(){var _this=this;this.actorList=Game.moduleModel.market.GetActorList().sort(function(a,b){return _this.sort(a,b,_this.demandList)});this.m_list.numItems=this.actorList.length};MarketSelectActorPanel.prototype.sort=function(a,b,demandList){if(this.demandList==null){return}var demand=this.demandList[0];if(demand==null){return}switch(demand.type){case Games.ActorRequireEnum.age:case Games.ActorRequireEnum.Continents:case Games.ActorRequireEnum.type:case Games.ActorRequireEnum.sex:return b.level-a.level;default:break}var aDemand=Game.moduleModel.market.GetActorRequire(a.id);var bDemand=Game.moduleModel.market.GetActorRequire(b.id);var aValue=aDemand[demand.type];var bValue=bDemand[demand.type];return bValue-aValue};MarketSelectActorPanel.prototype.UpdateActors=function(){if(this.visible){this.UpdateList();if(this.m_list.selectedIndex>=0){var item=this.m_list.getVisibleChild(this.NAME_ITEM+this.m_list.selectedIndex);if(item.UpdateState()){this.lastSelect=-1}}}};MarketSelectActorPanel.prototype.OnSelect=function(obj){var item=obj;var itemIndex=Number(item.name.substr(this.NAME_ITEM.length));if(this.lastSelect==itemIndex){return}var data=this.actorList[itemIndex];if(item.onselect()){var rect=this.localToGlobalRect(item.x,item.y,item.width,item.height);this.moduleWindow.backPreWindow();this.onSelect(data.id,rect)}this.lastSelect=itemIndex};MarketSelectActorPanel.prototype.RenderListItem=function(index,obj){var item=obj;var actorData=this.actorList[index];item.name=this.NAME_ITEM+index;item.setPivot(0.5,0.5);item.UpdateView(actorData,this.demandList,this.dispatchList)};MarketSelectActorPanel.prototype.OnCloseClick=function(){this.moduleWindow.backPreWindow();this.onSelect()};MarketSelectActorPanel.prototype.Show=function(){this.visible=true};MarketSelectActorPanel.prototype.Hide=function(){this.visible=false};return MarketSelectActorPanel}(Market.MarketSelectActorPanelStruct));Market.MarketSelectActorPanel=MarketSelectActorPanel})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var ProgressBarStruct=(function(_super){__extends(ProgressBarStruct,_super);function ProgressBarStruct(){return _super.call(this)||this}ProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Market","ProgressBar"))};ProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarStruct.URL="ui://p7g5z54adm31ax";ProgressBarStruct.DependPackages=["Market"];return ProgressBarStruct}(fairygui.GProgressBar));Market.ProgressBarStruct=ProgressBarStruct})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Market;(function(Market){var ProgressBar=(function(_super){__extends(ProgressBar,_super);function ProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBar}(Market.ProgressBarStruct));Market.ProgressBar=ProgressBar})(Market=fgui.Market||(fgui.Market={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var CommonProgressBarStruct=(function(_super){__extends(CommonProgressBarStruct,_super);function CommonProgressBarStruct(){return _super.call(this)||this}CommonProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Mission","CommonProgressBar"))};CommonProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};CommonProgressBarStruct.URL="ui://33rn3ccx7wlga";CommonProgressBarStruct.DependPackages=["Mission"];return CommonProgressBarStruct}(fairygui.GProgressBar));Mission.CommonProgressBarStruct=CommonProgressBarStruct})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var CommonProgressBar=(function(_super){__extends(CommonProgressBar,_super);function CommonProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return CommonProgressBar}(Mission.CommonProgressBarStruct));Mission.CommonProgressBar=CommonProgressBar})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionItemStruct=(function(_super){__extends(MissionItemStruct,_super);function MissionItemStruct(){return _super.call(this)||this}MissionItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Mission","MissionItem"))};MissionItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_stateText=(this.getChild("stateText"));this.m_state=(this.getChild("state"));this.m_rewardList=(this.getChild("rewardList"));this.m_gotImg=(this.getChild("gotImg"));this.m_barFinishBg=(this.getChild("barFinishBg"));this.m_buttonGet=(this.getChild("buttonGet"));this.m_buttonGo=(this.getChild("buttonGo"));this.m_progressBar=(this.getChild("progressBar"))};MissionItemStruct.URL="ui://33rn3ccxj3a35";MissionItemStruct.DependPackages=["Mission","Common","WarMovie"];return MissionItemStruct}(fairygui.GComponent));Mission.MissionItemStruct=MissionItemStruct})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionItem=(function(_super){__extends(MissionItem,_super);function MissionItem(){return _super!==null&&_super.apply(this,arguments)||this}MissionItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_buttonGet.onClick(this,this.onClickGetButton);this.m_buttonGo.onClick(this,this.onClickGoButton)};MissionItem.prototype.onClickGetButton=function(){Game.protosender.task.reward(this.data.protoData.uuid)};MissionItem.prototype.onClickGoButton=function(){Game.menu.close(MenuId.Mission);if(this.data.config.guide>0){Game.guide.readyPlayGuide(this.data.config.guide,true)}};MissionItem.prototype.setData=function(data){this.data=data;this.m_name.text=data.config.name;this.m_progressBar.max=data.config.goal;this.m_progressBar.value=data.protoData.progress;this.m_stateText.text=Games.TEXT.StateText;this.m_state.text=data.config.Complete.toString();this.refreshRewardList();this.m_gotImg.visible=false;this.m_barFinishBg.visible=false;switch(data.protoData.state){case EAchievementState.rewarded:this.m_buttonGet.visible=false;this.m_buttonGo.visible=false;this.m_barFinishBg.visible=false;this.m_gotImg.visible=true;break;case EAchievementState.finished:this.m_buttonGet.visible=true;this.m_buttonGo.visible=false;this.m_barFinishBg.visible=true;this.m_gotImg.visible=false;break;default:this.m_buttonGet.visible=false;this.m_buttonGo.visible=true;this.m_barFinishBg.visible=false;this.m_gotImg.visible=false;break}};MissionItem.prototype.refreshRewardList=function(){var list=this.m_rewardList;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=this.data.config.reward.length};MissionItem.prototype.renderListItem=function(index,item){var data=this.data.config.reward[index];item.setItemNumData(data)};return MissionItem}(Mission.MissionItemStruct));Mission.MissionItem=MissionItem})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionMainPanelStruct=(function(_super){__extends(MissionMainPanelStruct,_super);function MissionMainPanelStruct(){return _super.call(this)||this}MissionMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Mission","MissionMainPanel"))};MissionMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_tipMsg=(this.getChild("tipMsg"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_progressTotalBar=(this.getChild("progressTotalBar"))};MissionMainPanelStruct.URL="ui://33rn3ccxj3a30";MissionMainPanelStruct.DependPackages=["Mission","Common","WarMovie"];return MissionMainPanelStruct}(fairygui.GComponent));Mission.MissionMainPanelStruct=MissionMainPanelStruct})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionMainPanel=(function(_super){__extends(MissionMainPanel,_super);function MissionMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}MissionMainPanel.prototype.onWindowInited=function(){this.m_title.text=Games.TEXT.TaskArrangement;this.m_progressTotalBar.setProgressId(EProgressBoxId.dailyTask);this.m_closeBtn.onClick(this,this.oncloseBtn)};MissionMainPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.TaskData,this.refreshData,this);this.m_tipMsg.text=Game.config.msg.getTxt(MsgKey.task_bottom);this.refreshData()};MissionMainPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.TaskData,this.refreshData,this)};MissionMainPanel.prototype.refreshData=function(){this.refreshList(Game.moduleModel.mission.getUnlockList())};MissionMainPanel.prototype.refreshList=function(items){this.listData=items;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=items.length};MissionMainPanel.prototype.renderListItem=function(index,item){var data=this.listData[index];item.setData(data)};MissionMainPanel.prototype.oncloseBtn=function(){this.moduleWindow.menuClose()};return MissionMainPanel}(Mission.MissionMainPanelStruct));Mission.MissionMainPanel=MissionMainPanel})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionRewardStruct=(function(_super){__extends(MissionRewardStruct,_super);function MissionRewardStruct(){return _super.call(this)||this}MissionRewardStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Mission","MissionReward"))};MissionRewardStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_default=this.getTransition("default");this.m_twinkle=this.getTransition("twinkle")};MissionRewardStruct.URL="ui://33rn3ccxpmz6c";MissionRewardStruct.DependPackages=["Mission","Common"];return MissionRewardStruct}(fairygui.GButton));Mission.MissionRewardStruct=MissionRewardStruct})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var MissionReward=(function(_super){__extends(MissionReward,_super);function MissionReward(){return _super!==null&&_super.apply(this,arguments)||this}MissionReward.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickBoxItem);this.tip=fgui.Common.TipReward.createInstance()};MissionReward.prototype.setData=function(index,config,progressData){this.index=index;this.config=config;this.progressData=progressData;this.needOrderNum=config.completion-progressData.progress;this.enableGet=progressData.progress>=config.completion;this.isGet=progressData.isGet(index-1);this.title=config.completion.toString();this.m_twinkle.stop();this.m_default.stop();var url="";var iconIndex=index>=2?index-1:1;if(!this.isGet){if(this.enableGet){url=format("icon_reward_lv{0}_2",iconIndex);this.m_twinkle.play(null,-1)}else{url=format("icon_reward_lv{0}_1",iconIndex);this.m_default.play(null)}}else{url=format("icon_reward_lv{0}_3",iconIndex)}this.m_icon.icon=fairygui.UIPackage.getItemURL(Games.GuiPackageNames.Common,url)};MissionReward.prototype.onClickBoxItem=function(){if(this.enableGet){Game.protosender.progressBox.GetReward(this.progressData.uuid,this.index)}if(!this.isGet&&!this.enableGet){if(this.config){this.showRewardUI(this.config.reward)}}};MissionReward.prototype.showRewardUI=function(items){this.tip.setItems(items);this.tip.showPopup(this)};return MissionReward}(Mission.MissionRewardStruct));Mission.MissionReward=MissionReward})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var ProgressMissionStruct=(function(_super){__extends(ProgressMissionStruct,_super);function ProgressMissionStruct(){return _super.call(this)||this}ProgressMissionStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Mission","ProgressMission"))};ProgressMissionStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_bar=(this.getChild("bar"))};ProgressMissionStruct.URL="ui://33rn3ccxpmz6b";ProgressMissionStruct.DependPackages=["Mission","Common","Cooperation"];return ProgressMissionStruct}(fairygui.GComponent));Mission.ProgressMissionStruct=ProgressMissionStruct})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Mission;(function(Mission){var ProgressMission=(function(_super){__extends(ProgressMission,_super);function ProgressMission(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.configs=[];return _this}ProgressMission.prototype.updateBarPanel=function(){};Object.defineProperty(ProgressMission.prototype,"value",{get:function(){return this.m_bar.value},set:function(curProgress){this.m_title.text=curProgress.toString();var progressNums=[];for(var index=0;index<this.configs.length;index++){var element=this.configs[index];progressNums.push(element.completion)}var preMaxValue=0;var max=0;var value=0;var num=progressNums.length;var total=progressNums[num-1];var eachParagragh=total/progressNums.length;for(var index=0;index<num;index++){var prog=progressNums[index];if(curProgress<=prog){max=total/((eachParagragh*(index+1))/prog);var diff=prog-preMaxValue;var va=max*(eachParagragh/total);value=max*(eachParagragh*index/total)+va/diff*(curProgress-preMaxValue);break}preMaxValue=prog}this.m_bar.max=max;this.m_bar.value=value},enumerable:true,configurable:true});Object.defineProperty(ProgressMission.prototype,"max",{get:function(){return this.m_bar.max},set:function(value){this.m_bar.max=value},enumerable:true,configurable:true});ProgressMission.prototype.setProgressId=function(progressId){this.progressId=progressId;this.progressData=Game.moduleModel.progressBox.getProgressBoxData(progressId);this.configs=Game.config.complete.getCompleteList(progressId);this.max=this.configs[this.configs.length-1].completion;this.value=this.progressData.progress;var list=this.m_list;list.setVirtual();list.setVirtualAndLoop();if(!list.itemRenderer){list.itemRenderer=Handler.create(this,this.renderListItem,null,false)}list.numItems=this.configs.length};ProgressMission.prototype.renderListItem=function(index,item){var config=this.configs[index];item.setData(index+1,config,this.progressData)};ProgressMission.prototype.updateView=function(){if(this.progressData){this.setProgressId(this.progressId)}};ProgressMission.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ManageOrderData,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.ProgressBoxData,this.updateView,this)};ProgressMission.prototype.onWindowShow=function(){this.updateView();Game.protoOkEvent.add(ProtoEventKey.ManageOrderData,this.updateView,this);Game.protoOkEvent.add(ProtoEventKey.ProgressBoxData,this.updateView,this)};return ProgressMission}(Mission.ProgressMissionStruct));Mission.ProgressMission=ProgressMission})(Mission=fgui.Mission||(fgui.Mission={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Notice;(function(Notice){var PublicNoticePanelStruct=(function(_super){__extends(PublicNoticePanelStruct,_super);function PublicNoticePanelStruct(){return _super.call(this)||this}PublicNoticePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Notice","PublicNoticePanel"))};PublicNoticePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_labContent=(this.getChild("labContent"));this.m_checkBox=(this.getChild("checkBox"));this.m_btnClose=(this.getChild("btnClose"))};PublicNoticePanelStruct.URL="ui://jh3pqd7de77b0";PublicNoticePanelStruct.DependPackages=["Notice","Common","PfSkin"];return PublicNoticePanelStruct}(fairygui.GComponent));Notice.PublicNoticePanelStruct=PublicNoticePanelStruct})(Notice=fgui.Notice||(fgui.Notice={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Notice;(function(Notice){var PublicNoticePanel=(function(_super){__extends(PublicNoticePanel,_super);function PublicNoticePanel(){return _super!==null&&_super.apply(this,arguments)||this}PublicNoticePanel.prototype.onWindowInited=function(){this.m_checkBox.onClick(this,this.onClickCheckBox);this.m_btnClose.onClick(this.moduleWindow,this.moduleWindow.menuClose)};PublicNoticePanel.prototype.onClickCheckBox=function(){Game.localStorage.isNoticTodayNoOpen=this.m_checkBox.selected};PublicNoticePanel.prototype.onWindowShow=function(){this.m_checkBox.selected=Game.localStorage.isNoticTodayNoOpen;var data=Game.channel.serverNoticData;if(data){this.m_labContent.text=data.content}};PublicNoticePanel.prototype.onWindowHide=function(){};return PublicNoticePanel}(Notice.PublicNoticePanelStruct));Notice.PublicNoticePanel=PublicNoticePanel})(Notice=fgui.Notice||(fgui.Notice={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var AwardsInfoItemtsStruct=(function(_super){__extends(AwardsInfoItemtsStruct,_super);function AwardsInfoItemtsStruct(){return _super.call(this)||this}AwardsInfoItemtsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","AwardsInfoItem.ts"))};AwardsInfoItemtsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isSpecial=this.getController("isSpecial");this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"))};AwardsInfoItemtsStruct.URL="ui://spuqgpclyyljt";AwardsInfoItemtsStruct.DependPackages=["Oscar","Common"];return AwardsInfoItemtsStruct}(fairygui.GButton));Oscar.AwardsInfoItemtsStruct=AwardsInfoItemtsStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var AwardsInfoItemts=(function(_super){__extends(AwardsInfoItemts,_super);function AwardsInfoItemts(){return _super!==null&&_super.apply(this,arguments)||this}AwardsInfoItemts.prototype.Render=function(dailyEvent){this.dailyEvent=dailyEvent;this.m_title.text=this.dailyEvent.Name;this.m_time.text=this.dailyEvent.Time};return AwardsInfoItemts}(Oscar.AwardsInfoItemtsStruct));Oscar.AwardsInfoItemts=AwardsInfoItemts})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var AwardsTitleStruct=(function(_super){__extends(AwardsTitleStruct,_super);function AwardsTitleStruct(){return _super.call(this)||this}AwardsTitleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","AwardsTitle"))};AwardsTitleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_seletCup=this.getController("seletCup");this.m_ImgTitle=(this.getChild("ImgTitle"))};AwardsTitleStruct.URL="ui://spuqgpclenjf16";AwardsTitleStruct.DependPackages=["Oscar","Common"];return AwardsTitleStruct}(fairygui.GComponent));Oscar.AwardsTitleStruct=AwardsTitleStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var AwardsTitle=(function(_super){__extends(AwardsTitle,_super);function AwardsTitle(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(AwardsTitle.prototype,"Title",{set:function(type){switch(type){case Games.OscarAwardsType.Man:this.m_seletCup.setSelectedIndex(0);break;case Games.OscarAwardsType.Woman:this.m_seletCup.setSelectedIndex(1);break;case Games.OscarAwardsType.Art:this.m_seletCup.setSelectedIndex(2);break;case Games.OscarAwardsType.Perform:this.m_seletCup.setSelectedIndex(3);break;case Games.OscarAwardsType.PublicPraise:this.m_seletCup.setSelectedIndex(4);break;default:this.m_seletCup.setSelectedIndex(5);break}},enumerable:true,configurable:true});return AwardsTitle}(Oscar.AwardsTitleStruct));Oscar.AwardsTitle=AwardsTitle})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarAwardsListPanelStruct=(function(_super){__extends(OscarAwardsListPanelStruct,_super);function OscarAwardsListPanelStruct(){return _super.call(this)||this}OscarAwardsListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarAwardsListPanel"))};OscarAwardsListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_checkDay=(this.getChild("checkDay"));this.m_btnClose=(this.getChild("btnClose"))};OscarAwardsListPanelStruct.URL="ui://spuqgpclyylj0";OscarAwardsListPanelStruct.DependPackages=["Oscar","Common"];return OscarAwardsListPanelStruct}(fairygui.GComponent));Oscar.OscarAwardsListPanelStruct=OscarAwardsListPanelStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarAwardsListPanel=(function(_super){__extends(OscarAwardsListPanel,_super);function OscarAwardsListPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dailyEventList=[];return _this}OscarAwardsListPanel.prototype.onWindowInited=function(){this.m_checkDay.onClick(this,this.OnDayChange);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_list.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_list.setVirtual();this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.OnItemClick)};OscarAwardsListPanel.prototype.onWindowOpen=function(arg){var oscType=arg;switch(oscType){case Games.OscarSubEnum.OscarReward:console.log("OscarReward");this.moduleWindow.openSubwindowByIndex(Games.OscarSubEnum.OscarReward,false);break;case Games.OscarSubEnum.OscarShow:console.log("OscarShow");this.moduleWindow.openSubwindowByIndex(Games.OscarSubEnum.OscarShow,false);break;default:this.m_checkDay.selected=false;this.UpdateView();break}};OscarAwardsListPanel.prototype.UpdateView=function(){if(this.m_checkDay.selected){this.dailyEventList=Game.moduleModel.oscar.OscarYesterdayEventList}else{this.dailyEventList=Game.moduleModel.oscar.OscarDailyEventList}this.m_list.numItems=this.dailyEventList.length};OscarAwardsListPanel.prototype.RenderItem=function(index,obj){var data=this.dailyEventList[index];obj.Render(data)};OscarAwardsListPanel.prototype.OnItemClick=function(obj){var data=obj.dailyEvent;if(data.hasData&&data.type==Games.DailyEventType.Awards){this.moduleWindow.openSubwindowByIndex(Games.OscarSubEnum.OscarShow,false)}};OscarAwardsListPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.DailyEvent,this.UpdateView,this)};OscarAwardsListPanel.prototype.onWindowHide=function(){};OscarAwardsListPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};OscarAwardsListPanel.prototype.OnDayChange=function(){this.UpdateView()};return OscarAwardsListPanel}(Oscar.OscarAwardsListPanelStruct));Oscar.OscarAwardsListPanel=OscarAwardsListPanel})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarCandidateItemStruct=(function(_super){__extends(OscarCandidateItemStruct,_super);function OscarCandidateItemStruct(){return _super.call(this)||this}OscarCandidateItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarCandidateItem"))};OscarCandidateItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_showLight=this.getController("showLight");this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"))};OscarCandidateItemStruct.URL="ui://spuqgpclyyljv";OscarCandidateItemStruct.DependPackages=["Oscar","Common"];return OscarCandidateItemStruct}(fairygui.GButton));Oscar.OscarCandidateItemStruct=OscarCandidateItemStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarCandidateItem=(function(_super){__extends(OscarCandidateItem,_super);function OscarCandidateItem(){return _super!==null&&_super.apply(this,arguments)||this}OscarCandidateItem.prototype.Render=function(data,type){if(data==null){return}switch(type){case Games.OscarAwardsType.Art:case Games.OscarAwardsType.Perform:case Games.OscarAwardsType.PublicPraise:this.icon=Game.config.story.GetPoster(data.id);break;case Games.OscarAwardsType.Man:case Games.OscarAwardsType.Woman:this.icon=Game.config.actor.GetBodyIconUrl(data.id);break;default:break}this.title=data.name;this.m_name.text=data.playerName};return OscarCandidateItem}(Oscar.OscarCandidateItemStruct));Oscar.OscarCandidateItem=OscarCandidateItem})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarCupItemStruct=(function(_super){__extends(OscarCupItemStruct,_super);function OscarCupItemStruct(){return _super.call(this)||this}OscarCupItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarCupItem"))};OscarCupItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};OscarCupItemStruct.URL="ui://spuqgpclenjf10";OscarCupItemStruct.DependPackages=["Oscar","Common"];return OscarCupItemStruct}(fairygui.GButton));Oscar.OscarCupItemStruct=OscarCupItemStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarCupItem=(function(_super){__extends(OscarCupItem,_super);function OscarCupItem(){return _super!==null&&_super.apply(this,arguments)||this}return OscarCupItem}(Oscar.OscarCupItemStruct));Oscar.OscarCupItem=OscarCupItem})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarDailyCheckboxStruct=(function(_super){__extends(OscarDailyCheckboxStruct,_super);function OscarDailyCheckboxStruct(){return _super.call(this)||this}OscarDailyCheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarDailyCheckbox"))};OscarDailyCheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};OscarDailyCheckboxStruct.URL="ui://spuqgpclyyljb";OscarDailyCheckboxStruct.DependPackages=["Oscar","Common"];return OscarDailyCheckboxStruct}(fairygui.GButton));Oscar.OscarDailyCheckboxStruct=OscarDailyCheckboxStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarDailyCheckbox=(function(_super){__extends(OscarDailyCheckbox,_super);function OscarDailyCheckbox(){return _super!==null&&_super.apply(this,arguments)||this}return OscarDailyCheckbox}(Oscar.OscarDailyCheckboxStruct));Oscar.OscarDailyCheckbox=OscarDailyCheckbox})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarRewardItemStruct=(function(_super){__extends(OscarRewardItemStruct,_super);function OscarRewardItemStruct(){return _super.call(this)||this}OscarRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarRewardItem"))};OscarRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardState=this.getController("rewardState");this.m_isNew=this.getController("isNew");this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"));this.m_info=(this.getChild("info"));this.m_tip=(this.getChild("tip"));this.m_list=(this.getChild("list"));this.m_btnReward=(this.getChild("btnReward"))};OscarRewardItemStruct.URL="ui://spuqgpclyyljr";OscarRewardItemStruct.DependPackages=["Oscar","Common"];return OscarRewardItemStruct}(fairygui.GComponent));Oscar.OscarRewardItemStruct=OscarRewardItemStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarRewardItem=(function(_super){__extends(OscarRewardItem,_super);function OscarRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}OscarRewardItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_btnReward.onClick(this,this.OnRewardClick)};OscarRewardItem.prototype.Render=function(oscarRewardData){this.oscarRewardData=oscarRewardData;this.m_name.text=this.oscarRewardData.name;this.m_title.text=this.oscarRewardData.title;this.m_info.text=this.oscarRewardData.info;this.m_isNew.setSelectedIndex(this.oscarRewardData.IsHistoryBest?1:0);if(this.oscarRewardData.canReward){this.m_list.numItems=this.oscarRewardData.RewardList.length;if(this.oscarRewardData.hasGetReward){this.m_rewardState.setSelectedIndex(2)}else{this.m_rewardState.setSelectedIndex(1)}}else{this.m_rewardState.setSelectedIndex(0);this.m_tip.text=this.oscarRewardData.tip}};OscarRewardItem.prototype.RenderItem=function(index,obj){var data=this.oscarRewardData.RewardList[index];obj.m_num.text=data.itemNumTxt;obj.icon=data.itemIconUrl;obj.m_star.starNum=data.itemStar;obj.PopupInfo=data.itemId};OscarRewardItem.prototype.OnRewardClick=function(){Game.protosender.rank.GetOscarReward(this.oscarRewardData.type)};return OscarRewardItem}(Oscar.OscarRewardItemStruct));Oscar.OscarRewardItem=OscarRewardItem})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarRewardPanelStruct=(function(_super){__extends(OscarRewardPanelStruct,_super);function OscarRewardPanelStruct(){return _super.call(this)||this}OscarRewardPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarRewardPanel"))};OscarRewardPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_btnConfirm=(this.getChild("btnConfirm"))};OscarRewardPanelStruct.URL="ui://spuqgpclyylj1";OscarRewardPanelStruct.DependPackages=["Oscar","Common"];return OscarRewardPanelStruct}(fairygui.GComponent));Oscar.OscarRewardPanelStruct=OscarRewardPanelStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarRewardPanel=(function(_super){__extends(OscarRewardPanel,_super);function OscarRewardPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listData=[];return _this}OscarRewardPanel.prototype.onWindowInited=function(){this.m_btnConfirm.onClick(this,this.OnConfirm);this.m_list.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_list.setVirtual()};OscarRewardPanel.prototype.onWindowOpen=function(arg){this.UpdateView()};OscarRewardPanel.prototype.UpdateView=function(){this.listData=Game.moduleModel.oscar.OscarRewardList;this.m_list.numItems=this.listData.length;this.m_btnConfirm.visible=Game.moduleModel.oscar.IsFinishReward};OscarRewardPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.rank_GetOscarReward,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetOscarData,this.UpdateView,this)};OscarRewardPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.rank_GetOscarReward,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.rank_GetOscarData,this.UpdateView,this)};OscarRewardPanel.prototype.RenderItem=function(index,obj){var data=this.listData[index];obj.Render(data)};OscarRewardPanel.prototype.OnConfirm=function(){this.OnCloseClick()};OscarRewardPanel.prototype.OnCloseClick=function(){this.moduleWindow.closeSelf();var mainWindow=this.moduleWindow.mainWindow;mainWindow.conent.UpdateView()};return OscarRewardPanel}(Oscar.OscarRewardPanelStruct));Oscar.OscarRewardPanel=OscarRewardPanel})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowFrontViewStruct=(function(_super){__extends(OscarShowFrontViewStruct,_super);function OscarShowFrontViewStruct(){return _super.call(this)||this}OscarShowFrontViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarShowFrontView"))};OscarShowFrontViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_seletCup=this.getController("seletCup");this.m_buttonState=this.getController("buttonState");this.m_listOscarCup=(this.getChild("listOscarCup"));this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_awardsTitle=(this.getChild("awardsTitle"));this.m_btnCongra=(this.getChild("btnCongra"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnLeft=(this.getChild("btnLeft"));this.m_btnRight=(this.getChild("btnRight"))};OscarShowFrontViewStruct.URL="ui://spuqgpclenjfz";OscarShowFrontViewStruct.DependPackages=["Oscar","Common"];return OscarShowFrontViewStruct}(fairygui.GComponent));Oscar.OscarShowFrontViewStruct=OscarShowFrontViewStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowFrontView=(function(_super){__extends(OscarShowFrontView,_super);function OscarShowFrontView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.selectIndex=0;_this.finishIndex=-1;_this.currentIndex=0;return _this}OscarShowFrontView.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listOscarCup.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_btnCongra.onClick(this,this.OnBtnCongraClick);this.m_btnReward.onClick(this,this.OnBtnRewardClick);this.m_btnRight.onClick(this,this.OnBtnRightClick);this.m_btnLeft.onClick(this,this.OnBtnLeftClick)};OscarShowFrontView.prototype.Show=function(){this.selectIndex=0;this.finishIndex=-1;this.currentIndex=0;this.UpdateView()};OscarShowFrontView.prototype.Hide=function(){};OscarShowFrontView.prototype.Next=function(index){if(index<0){index=0}if(index>4){index=4}this.currentIndex=index;this.Selected=this.currentIndex;this.finishIndex=this.currentIndex-1};OscarShowFrontView.prototype.Finish=function(){this.finishIndex=this.selectIndex;this.UpdateInfo()};OscarShowFrontView.prototype.UpdateView=function(){this.oscarAwardsList=Game.moduleModel.oscar.OscarAwardsList;this.m_listOscarCup.numItems=this.oscarAwardsList.length;if(this.selectIndex==null){this.Selected=0}else{this.UpdateInfo()}};Object.defineProperty(OscarShowFrontView.prototype,"Selected",{set:function(index){if(index>4){index=4}if(index<0){index=0}this.selectIndex=index;this.m_listOscarCup.selectedIndex=this.selectIndex;this.UpdateInfo()},enumerable:true,configurable:true});OscarShowFrontView.prototype.UpdateInfo=function(){var data=this.oscarAwardsList[this.selectIndex];this.m_seletCup.setSelectedIndex(this.selectIndex);this.m_btnLeft.enabled=this.selectIndex>0;this.m_btnRight.enabled=this.selectIndex<this.currentIndex;if(this.selectIndex>this.finishIndex){this.m_title.text="???";this.m_name.text="";this.ButtonState=0}else{if(data&&data.winner){this.m_title.text=data.winner.name;this.m_name.text=data.winner.playerName;if(data.winner.userId==User.account.userId){this.ButtonState=2}else{this.ButtonState=1}}else{this.m_title.text="";this.m_name.text="";this.ButtonState=0}}};Object.defineProperty(OscarShowFrontView.prototype,"ButtonState",{set:function(state){var data=this.oscarAwardsList[this.selectIndex];switch(state){case 0:this.m_buttonState.setSelectedIndex(0);break;case 1:this.m_buttonState.setSelectedIndex(1);this.m_btnCongra.enabled=!Game.moduleModel.oscar.HasGetReward(data.type);break;case 2:this.m_buttonState.setSelectedIndex(2);this.m_btnReward.enabled=!Game.moduleModel.oscar.HasGetReward(data.type);break;default:break}},enumerable:true,configurable:true});OscarShowFrontView.prototype.RenderItem=function(index,obj){};OscarShowFrontView.prototype.OnBtnCongraClick=function(){var data=this.oscarAwardsList[this.selectIndex];Game.protosender.rank.GetOscarReward(data.type)};OscarShowFrontView.prototype.OnBtnRewardClick=function(){var data=this.oscarAwardsList[this.selectIndex];Game.protosender.rank.GetOscarReward(data.type)};OscarShowFrontView.prototype.OnBtnRightClick=function(){if(this.selectIndex>=this.currentIndex){return}this.Selected=this.selectIndex+1};OscarShowFrontView.prototype.OnBtnLeftClick=function(){if(this.selectIndex<=0){return}this.Selected=this.selectIndex-1};return OscarShowFrontView}(Oscar.OscarShowFrontViewStruct));Oscar.OscarShowFrontView=OscarShowFrontView})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowPanelStruct=(function(_super){__extends(OscarShowPanelStruct,_super);function OscarShowPanelStruct(){return _super.call(this)||this}OscarShowPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarShowPanel"))};OscarShowPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isFinish=this.getController("isFinish");this.m_actorControl=(this.getChild("actorControl"));this.m_listCandidate=(this.getChild("listCandidate"));this.m_showPoint=(this.getChild("showPoint"));this.m_txtTime=(this.getChild("txtTime"));this.m_title=(this.getChild("title"));this.m_animContainer=(this.getChild("animContainer"));this.m_winnerItem=(this.getChild("winnerItem"));this.m_danmu=(this.getChild("danmu"));this.m_frontView=(this.getChild("frontView"));this.m_input=(this.getChild("input"));this.m_btnSend=(this.getChild("btnSend"));this.m_btnNext=(this.getChild("btnNext"));this.m_btnClose=(this.getChild("btnClose"));this.m_showWinner=(this.getChild("showWinner"))};OscarShowPanelStruct.URL="ui://spuqgpclyylj2";OscarShowPanelStruct.DependPackages=["Oscar","PfSkin","Common","Fx"];return OscarShowPanelStruct}(fairygui.GComponent));Oscar.OscarShowPanelStruct=OscarShowPanelStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowPanel=(function(_super){__extends(OscarShowPanel,_super);function OscarShowPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.currentAwards=-1;_this.midCandidateIndex=2;_this.delayCandidateShow=500;_this.currentCandidate=2;_this.lastNextTime=0;return _this}OscarShowPanel.prototype.onWindowInited=function(){this.m_btnNext.onClick(this,this.OnNextClick);this.m_btnSend.onClick(this,this.OnSendClick);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_listCandidate.itemRenderer=new Handler(this,this.RenderCandidateItem,null,false);this.m_animContainer.m_oscarCard.asCom.addChild(this.m_listCandidate);this.m_animContainer.m_oscarCard.asCom.addChild(this.m_winnerItem);this.m_winnerItem.setPivot(0.5,0.5);this.m_showWinner.visible=false};OscarShowPanel.prototype.onWindowOpen=function(arg){this.currentAwards=-1;this.UpdateView();this.m_isFinish.setSelectedIndex(0);this.m_btnNext.visible=false;this.m_input.text="Enter a barrage";this.m_btnSend.enabled=true;Game.protosender.Danmu.get(Game.moduleModel.rank.LastStreetId,0);this.oscarAnim=fgui.PfSkin.OscarAnim.createInstance();this.oscarAnim.showFor(this.m_animContainer.m_oscarAvatar.asCom,this)};OscarShowPanel.prototype.UpdateView=function(){this.oscarAwardsList=Game.moduleModel.oscar.OscarAwardsList;this.m_txtTime.text=Games.TEXT.OscarTitle.format(Game.moduleModel.street.currentStreetData.Name,Game.moduleModel.oscar.LastOscarDay);this.m_frontView.UpdateView()};OscarShowPanel.prototype.StartOscar=function(){var _this=this;Game.guide.checkOpenOscarWindow(1,function(){_this.currentAwards=-1;_this.NextPrize()})};OscarShowPanel.prototype.ShowNextPrizeUI=function(){this.m_btnNext.visible=true};OscarShowPanel.prototype.NextPrize=function(){this.HideCandidate();this.currentAwards++;this.UpdateView();if(this.oscarAwardsList.length<=(this.currentAwards)){this.OnFinish();return}var awardsData=this.oscarAwardsList[this.currentAwards];if(awardsData!=undefined){this.StartPrize(awardsData)}else{this.OnFinish()}};OscarShowPanel.prototype.StartPrize=function(awards){var danmuList=Game.moduleModel.oscar.GetDanmu(this.currentAwards+1);this.m_danmu.AddDanmuList(danmuList);this.AniStartPrize(awards);this.m_frontView.Next(this.currentAwards);if(awards.listCandidate==null||awards.listCandidate.length==0){return}this.m_listCandidate.numItems=awards.listCandidate.length;this.currentCandidate=Math.ceil((awards.listCandidate.length-1)/2);this.midCandidateIndex=Math.ceil((awards.listCandidate.length-1)/2);Laya.timer.loop(this.delayCandidateShow,this,this.LoopShowCandidate)};OscarShowPanel.prototype.LoopShowCandidate=function(){if(this.currentCandidate>=this.m_listCandidate.numChildren||this.currentCandidate<0){Laya.timer.clear(this,this.LoopShowCandidate);return}var obj=this.m_listCandidate.getChildAt(this.currentCandidate);if(obj==null){Laya.timer.clear(this,this.LoopShowCandidate);return}obj.setScale(0,0);var ss=1;Laya.Tween.to(obj,{scaleX:ss,scaleY:ss},this.delayCandidateShow);var d=this.midCandidateIndex-this.currentCandidate;if(d<=0){this.currentCandidate=this.midCandidateIndex+d-1}else{this.currentCandidate=this.midCandidateIndex+d}};OscarShowPanel.prototype.OnPrizeSelect=function(){this.m_listCandidate.resizeToFit();Laya.timer.loop(100,this,this.LoopSelectCandidateItem)};OscarShowPanel.prototype.LoopSelectCandidateItem=function(){Game.sound.playSound(SoundKey.MM01_Button);var select=this.m_listCandidate.selectedIndex+1;if(select>=this.m_listCandidate.numItems){this.m_listCandidate.selectNone();Laya.timer.clear(this,this.LoopSelectCandidateItem);this.ShowWinner();return}this.m_listCandidate.selectedIndex=select};OscarShowPanel.prototype.OnPrize=function(){var oscarData=this.oscarAwardsList[this.currentAwards];var prizeIndex=oscarData.winnerIndex;this.RenderCandidateItem(oscarData.winnerIndex,this.m_winnerItem);var targetItem=this.m_showWinner.m_candidate;this.m_winnerItem.visible=true;this.m_winnerItem.setXY(targetItem.x,targetItem.y);this.m_winnerItem.setScale(targetItem.scaleX,targetItem.scaleY);this.m_showWinner.Hide();Laya.Tween.to(this.m_winnerItem,{x:this.m_showPoint.x,y:this.m_showPoint.y,scaleX:1.2,scaleY:1.2},this.delayCandidateShow);var cnt=this.m_listCandidate.numChildren;for(var i=0;i<cnt;i++){var obj=this.m_listCandidate.getChildAt(i);Laya.Tween.to(obj,{scaleX:0,scaleY:0},this.delayCandidateShow)}};OscarShowPanel.prototype.ShowWinner=function(){var _this=this;var oscarData=this.oscarAwardsList[this.currentAwards];var prizeIndex=oscarData.winnerIndex;var winner=oscarData.winner;if(winner==null){return}this.AniWinner(winner);this.m_frontView.Finish();this.m_showWinner.Open(oscarData);setTimeout(function(){_this.OnPrize()},1000)};OscarShowPanel.prototype.HideCandidate=function(){Laya.timer.clear(this,this.LoopShowCandidate);var cnt=this.m_listCandidate.numChildren;for(var i=0;i<cnt;i++){var obj=this.m_listCandidate.getChildAt(i);obj.setScale(0,0);Laya.Tween.to(obj,{scaleX:0,scaleY:0},this.delayCandidateShow)}this.m_winnerItem.visible=false};OscarShowPanel.prototype.FinishPrize=function(){this.m_frontView.Finish();this.NextPrize()};OscarShowPanel.prototype.OnFinish=function(){this.m_btnNext.visible=false;this.AniFinish();this.HideCandidate();this.m_danmu.Hide()};OscarShowPanel.prototype.RenderCandidateItem=function(index,obj){obj.setPivot(0.5,0.5);obj.setScale(0,0);var awardsData=this.oscarAwardsList[this.currentAwards];var data=awardsData.listCandidate[index];obj.Render(data,awardsData.type)};OscarShowPanel.prototype.OnNextClick=function(){if(Game.time.serverSeconds-this.lastNextTime>=2){this.lastNextTime=Game.time.serverSeconds;this.FinishPrize()}};OscarShowPanel.prototype.OnSendClick=function(){var msg=this.m_input.text;msg=msg+(this.currentAwards+1);if(validateDanmu(msg,4,100)){Game.protosender.Danmu.set(Game.moduleModel.rank.LastStreetId,msg)}};OscarShowPanel.prototype.OnCloseClick=function(){if(this.oscarAnim){this.oscarAnim.dispose();this.oscarAnim=null}this.moduleWindow.mainWindow.menuClose()};OscarShowPanel.prototype.onWindowShow=function(){Game.sound.playMusic(SoundKey.MM_BGM_RoadShow);this.m_danmu.Show();this.m_frontView.Show();Game.protoOkEvent.add(ProtoEventKey.Danmu_get,this.OnDanmuGet,this);Game.protoOkEvent.add(ProtoEventKey.Danmu_set,this.OnDanmuSend,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetOscarReward,this.OnGetReward,this)};OscarShowPanel.prototype.onWindowHide=function(){Game.sound.playMusic(SoundKey.MM_BGM_Cinema);this.m_danmu.Hide();this.m_frontView.Hide();if(this.oscarAnim){this.oscarAnim.dispose();this.oscarAnim=null}Game.protoOkEvent.remove(ProtoEventKey.Danmu_get,this.OnDanmuGet,this);Game.protoOkEvent.remove(ProtoEventKey.Danmu_set,this.OnDanmuSend,this);Game.protoOkEvent.remove(ProtoEventKey.rank_GetOscarReward,this.OnGetReward,this)};OscarShowPanel.prototype.OnDanmuGet=function(){var danmuList=Game.moduleModel.oscar.GetDanmu(this.currentAwards+1);this.m_danmu.AddDanmuList(danmuList)};OscarShowPanel.prototype.OnDanmuSend=function(){var _this=this;var msg=this.m_input.text;var danmu=Games.DanmuData.Create(msg,this.currentAwards+1);this.m_danmu.AddDanmu(danmu);this.m_input.text="";this.m_btnSend.enabled=false;setTimeout(function(){_this.m_btnSend.enabled=true},5*1000)};OscarShowPanel.prototype.OnGetReward=function(){this.UpdateView()};OscarShowPanel.prototype.AniStartPrize=function(arg){this.oscarAnim.startTurnShow(arg)};OscarShowPanel.prototype.AniWinner=function(arg){this.oscarAnim.setWinner(arg)};OscarShowPanel.prototype.AniFinish=function(){this.oscarAnim.endAllPrize()};OscarShowPanel.prototype.AniStart=function(){this.StartOscar()};OscarShowPanel.prototype.AniSelectCandidtate=function(){this.OnPrizeSelect()};OscarShowPanel.prototype.AniFinishPrize=function(){this.FinishPrize()};OscarShowPanel.prototype.showOscarReward=function(){this.oscarAnim.endShow();this.m_isFinish.setSelectedIndex(1);Game.guide.checkOpenOscarWindow(2,null);this.moduleWindow.mainWindow.openSubwindowByIndex(Games.OscarSubEnum.OscarReward,true)};return OscarShowPanel}(Oscar.OscarShowPanelStruct));Oscar.OscarShowPanel=OscarShowPanel})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowWinnerStruct=(function(_super){__extends(OscarShowWinnerStruct,_super);function OscarShowWinnerStruct(){return _super.call(this)||this}OscarShowWinnerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Oscar","OscarShowWinner"))};OscarShowWinnerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"));this.m_candidate=(this.getChild("candidate"));this.m_awardsTitle=(this.getChild("awardsTitle"))};OscarShowWinnerStruct.URL="ui://spuqgpclyylju";OscarShowWinnerStruct.DependPackages=["Oscar","Fx","Common"];return OscarShowWinnerStruct}(fairygui.GComponent));Oscar.OscarShowWinnerStruct=OscarShowWinnerStruct})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Oscar;(function(Oscar){var OscarShowWinner=(function(_super){__extends(OscarShowWinner,_super);function OscarShowWinner(){return _super!==null&&_super.apply(this,arguments)||this}OscarShowWinner.prototype.Open=function(data){Game.sound.playSound(SoundKey.MM05_Upgrade);this.visible=true;this.m_awardsTitle.Title=data.type;this.m_candidate.Render(data.winner,data.type)};OscarShowWinner.prototype.Hide=function(){this.visible=false};return OscarShowWinner}(Oscar.OscarShowWinnerStruct));Oscar.OscarShowWinner=OscarShowWinner})(Oscar=fgui.Oscar||(fgui.Oscar={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActionContainerStruct=(function(_super){__extends(ActionContainerStruct,_super);function ActionContainerStruct(){return _super.call(this)||this}ActionContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActionContainer"))};ActionContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ActionContainerStruct.URL="ui://s33x8418gjpxt24j";ActionContainerStruct.DependPackages=["PfSkin"];return ActionContainerStruct}(fairygui.GComponent));PfSkin.ActionContainerStruct=ActionContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActionContainer=(function(_super){__extends(ActionContainer,_super);function ActionContainer(){return _super!==null&&_super.apply(this,arguments)||this}return ActionContainer}(PfSkin.ActionContainerStruct));PfSkin.ActionContainer=ActionContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActionItemStruct=(function(_super){__extends(ActionItemStruct,_super);function ActionItemStruct(){return _super.call(this)||this}ActionItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActionItem"))};ActionItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_level=(this.getChild("level"));this.m_type=(this.getChild("type"))};ActionItemStruct.URL="ui://s33x8418jazc1lw";ActionItemStruct.DependPackages=["PfSkin"];return ActionItemStruct}(fairygui.GComponent));PfSkin.ActionItemStruct=ActionItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActionItem=(function(_super){__extends(ActionItem,_super);function ActionItem(){return _super!==null&&_super.apply(this,arguments)||this}ActionItem.prototype.updateView=function(data){var shootId=data.type-400;var config=Game.config.movieShootType.getConfig(shootId);if(config){this.m_icon.icon=Game.config.avatar.getConfig(config.pic).iconUrl}var propConfig=Game.config.property.getConfig(shootId);if(propConfig){this.m_type.text=propConfig.name}this.m_level.text=data.proficiencyLevel+""};return ActionItem}(PfSkin.ActionItemStruct));PfSkin.ActionItem=ActionItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorCircleItemStruct=(function(_super){__extends(ActorCircleItemStruct,_super);function ActorCircleItemStruct(){return _super.call(this)||this}ActorCircleItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorCircleItem"))};ActorCircleItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ActorCircleItemStruct.URL="ui://s33x8418mywn1kf";ActorCircleItemStruct.DependPackages=["PfSkin"];return ActorCircleItemStruct}(fairygui.GLabel));PfSkin.ActorCircleItemStruct=ActorCircleItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorCircleItem=(function(_super){__extends(ActorCircleItem,_super);function ActorCircleItem(){return _super!==null&&_super.apply(this,arguments)||this}return ActorCircleItem}(PfSkin.ActorCircleItemStruct));PfSkin.ActorCircleItem=ActorCircleItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorDetailUIStruct=(function(_super){__extends(ActorDetailUIStruct,_super);function ActorDetailUIStruct(){return _super.call(this)||this}ActorDetailUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorDetailUI"))};ActorDetailUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_aName=(this.getChild("aName"));this.m_starlist=(this.getChild("starlist"));this.m_sex=(this.getChild("sex"));this.m_contory=(this.getChild("contory"));this.m_biaoqian1=(this.getChild("biaoqian1"));this.m_biaoqian2=(this.getChild("biaoqian2"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_content=(this.getChild("content"))};ActorDetailUIStruct.URL="ui://s33x8418jazc1kz";ActorDetailUIStruct.DependPackages=["PfSkin","Common"];return ActorDetailUIStruct}(fairygui.GComponent));PfSkin.ActorDetailUIStruct=ActorDetailUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorDetailUI=(function(_super){__extends(ActorDetailUI,_super);function ActorDetailUI(){return _super!==null&&_super.apply(this,arguments)||this}ActorDetailUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ActorDetailUI.prototype.updateView=function(id){var _this=this;this.config=Game.config.actor.getConfig(id);if(Game.moduleModel.actor.hasActor(id)){this.m_aName.text=Game.moduleModel.actor.getActor(id).name}else{this.m_aName.text=this.config.name}this.m_starlist.itemRenderer=Handler.create(this,function(index,item){item.icon=_this.config.starUrl},null,false);this.m_starlist.numItems=this.config.starNum;this.m_icon.url=Game.config.avatar.getConfig(this.config.avatar).bodyIconUrl;this.m_sex.url=Game.config.avatar.getConfig(Game.config.property.getConfig(this.config.sex).icon).iconUrl;this.m_contory.url=Game.config.avatar.getConfig(Game.config.property.getConfig(this.config.country).icon).iconUrl;this.m_biaoqian1.icon=Game.config.property.getConfig(this.config.age_type).iconUrl;this.m_biaoqian2.icon=Game.config.property.getConfig(this.config.show_type).iconUrl;this.m_content.text=this.config.tips};return ActorDetailUI}(PfSkin.ActorDetailUIStruct));PfSkin.ActorDetailUI=ActorDetailUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorExperciseItemStruct=(function(_super){__extends(ActorExperciseItemStruct,_super);function ActorExperciseItemStruct(){return _super.call(this)||this}ActorExperciseItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorExperciseItem"))};ActorExperciseItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_starList=(this.getChild("starList"));this.m_title=(this.getChild("title"));this.m_skillExp=(this.getChild("skillExp"));this.m_btnSelect=(this.getChild("btnSelect"))};ActorExperciseItemStruct.URL="ui://s33x8418rn1rt1vx";ActorExperciseItemStruct.DependPackages=["PfSkin","Common"];return ActorExperciseItemStruct}(fairygui.GButton));PfSkin.ActorExperciseItemStruct=ActorExperciseItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorExperciseItem=(function(_super){__extends(ActorExperciseItem,_super);function ActorExperciseItem(){return _super!==null&&_super.apply(this,arguments)||this}ActorExperciseItem.prototype.setInfo=function(data){this.data=data;this.m_title.text=data.name;this.m_skillExp.text=format(TEXT.ActorSkillExp,data.skillExp);this.m_btnSelect.m_title.text=TEXT.ButtonSelect;this.m_starList.removeChildrenToPool();for(var i=0;i<data.star;i++){var star=this.m_starList.addItemFromPool();this.m_starList.addChild(star)}this.m_icon.url=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl};return ActorExperciseItem}(PfSkin.ActorExperciseItemStruct));PfSkin.ActorExperciseItem=ActorExperciseItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorExperciseSelectPanelStruct=(function(_super){__extends(ActorExperciseSelectPanelStruct,_super);function ActorExperciseSelectPanelStruct(){return _super.call(this)||this}ActorExperciseSelectPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorExperciseSelectPanel"))};ActorExperciseSelectPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_btnClose=(this.getChild("btnClose"))};ActorExperciseSelectPanelStruct.URL="ui://s33x8418rn1rt1vu";ActorExperciseSelectPanelStruct.DependPackages=["PfSkin","Common"];return ActorExperciseSelectPanelStruct}(fairygui.GComponent));PfSkin.ActorExperciseSelectPanelStruct=ActorExperciseSelectPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorExperciseSelectPanel=(function(_super){__extends(ActorExperciseSelectPanel,_super);function ActorExperciseSelectPanel(){return _super!==null&&_super.apply(this,arguments)||this}ActorExperciseSelectPanel.prototype.showForParent=function(lineUuid,parent){this.lineUuid=lineUuid;if(parent==null){parent=Games.MenuLayer.module}parent.addChild(this);this.actorList=Game.moduleModel.actor.getActors();this.m_title.text=TEXT.ProduceActorTitle;this.m_btnClose.onClick(this,this.onClose);this.setListContent();Game.protoOkEvent.add(ProtoEventKey.Actor_ActorExerciseStart,this.callBackActorExerciseStart,this)};ActorExperciseSelectPanel.prototype.onClose=function(){Game.protoOkEvent.remove(ProtoEventKey.Actor_ActorExerciseStart,this.callBackActorExerciseStart,this);this.selectItem=null;this.actorList.length=0;this.removeFromParent()};ActorExperciseSelectPanel.prototype.callBackActorExerciseStart=function(proto){this.onClose()};ActorExperciseSelectPanel.prototype.setListContent=function(){var _this=this;this.m_list.removeChildrenToPool();var i=-1;this.actorList=this.actorList.filter(function(value,index,array){return !_this.isExperciseActor(value.uuid)});for(var _i=0,_a=this.actorList;_i<_a.length;_i++){var actor=_a[_i];i++;var item=this.m_list.addItemFromPool();item.setInfo(actor);item.name=i.toString();item.m_btnSelect.onClick(this,this.onAvatarSelected,[item]);this.m_list.addChild(item)}};ActorExperciseSelectPanel.prototype.isExperciseActor=function(actorUuid){var actorExperciseData=Game.moduleModel.actor.getActorExerciseDataByActorUuid(actorUuid);return(actorExperciseData!=null&&actorExperciseData.uuid!="")};ActorExperciseSelectPanel.prototype.onAvatarSelected=function(e){this.selectItem=e;var actorUuid=Game.moduleModel.actor.getActor(e.data.id).uuid;Game.protosender.Actor.ActorExerciseStart(actorUuid,this.lineUuid)};return ActorExperciseSelectPanel}(PfSkin.ActorExperciseSelectPanelStruct));PfSkin.ActorExperciseSelectPanel=ActorExperciseSelectPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorIconStruct=(function(_super){__extends(ActorIconStruct,_super);function ActorIconStruct(){return _super.call(this)||this}ActorIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorIcon"))};ActorIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};ActorIconStruct.URL="ui://s33x8418kk9x1v3";ActorIconStruct.DependPackages=["PfSkin","Common"];return ActorIconStruct}(fairygui.GButton));PfSkin.ActorIconStruct=ActorIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorIcon=(function(_super){__extends(ActorIcon,_super);function ActorIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ActorIcon}(PfSkin.ActorIconStruct));PfSkin.ActorIcon=ActorIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorItemStruct=(function(_super){__extends(ActorItemStruct,_super);function ActorItemStruct(){return _super.call(this)||this}ActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ActorItem"))};ActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_txtLv=(this.getChild("txtLv"));this.m_title=(this.getChild("title"));this.m_labDemand1=(this.getChild("labDemand1"));this.m_labDemand2=(this.getChild("labDemand2"));this.m_star=(this.getChild("star"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnPromotion=(this.getChild("btnPromotion"))};ActorItemStruct.URL="ui://s33x8418mywn1kl";ActorItemStruct.DependPackages=["PfSkin","PlayerInfo","Common"];return ActorItemStruct}(fairygui.GButton));PfSkin.ActorItemStruct=ActorItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ActorItem=(function(_super){__extends(ActorItem,_super);function ActorItem(){return _super!==null&&_super.apply(this,arguments)||this}return ActorItem}(PfSkin.ActorItemStruct));PfSkin.ActorItem=ActorItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AgentItemStruct=(function(_super){__extends(AgentItemStruct,_super);function AgentItemStruct(){return _super.call(this)||this}AgentItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","AgentItem"))};AgentItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_label=(this.getChild("label"))};AgentItemStruct.URL="ui://s33x8418jazc1lx";AgentItemStruct.DependPackages=["PfSkin"];return AgentItemStruct}(fairygui.GButton));PfSkin.AgentItemStruct=AgentItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AgentItem=(function(_super){__extends(AgentItem,_super);function AgentItem(){return _super!==null&&_super.apply(this,arguments)||this}return AgentItem}(PfSkin.AgentItemStruct));PfSkin.AgentItem=AgentItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AnimContainerStruct=(function(_super){__extends(AnimContainerStruct,_super);function AnimContainerStruct(){return _super.call(this)||this}AnimContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","AnimContainer"))};AnimContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_oscarBg=(this.getChild("oscarBg"));this.m_oscarCard=(this.getChild("oscarCard"));this.m_oscarAvatar=(this.getChild("oscarAvatar"))};AnimContainerStruct.URL="ui://s33x8418h1e3t1wk";AnimContainerStruct.DependPackages=["PfSkin"];return AnimContainerStruct}(fairygui.GComponent));PfSkin.AnimContainerStruct=AnimContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AnimContainer=(function(_super){__extends(AnimContainer,_super);function AnimContainer(){return _super!==null&&_super.apply(this,arguments)||this}return AnimContainer}(PfSkin.AnimContainerStruct));PfSkin.AnimContainer=AnimContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAgentPanelStruct=(function(_super){__extends(ArtistAgentPanelStruct,_super);function ArtistAgentPanelStruct(){return _super.call(this)||this}ArtistAgentPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistAgentPanel"))};ArtistAgentPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_title2=(this.getChild("title2"));this.m_tipLabel1=(this.getChild("tipLabel1"));this.m_tipLabel2=(this.getChild("tipLabel2"));this.m_agent1=(this.getChild("agent1"));this.m_agent2=(this.getChild("agent2"));this.m_agent3=(this.getChild("agent3"));this.m_agent4=(this.getChild("agent4"));this.m_agent5=(this.getChild("agent5"));this.m_agent6=(this.getChild("agent6"));this.m_agent7=(this.getChild("agent7"));this.m_agent8=(this.getChild("agent8"))};ArtistAgentPanelStruct.URL="ui://s33x8418jazc1l0";ArtistAgentPanelStruct.DependPackages=["PfSkin"];return ArtistAgentPanelStruct}(fairygui.GComponent));PfSkin.ArtistAgentPanelStruct=ArtistAgentPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAgentPanel=(function(_super){__extends(ArtistAgentPanel,_super);function ArtistAgentPanel(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistAgentPanel}(PfSkin.ArtistAgentPanelStruct));PfSkin.ArtistAgentPanel=ArtistAgentPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAssetItemStruct=(function(_super){__extends(ArtistAssetItemStruct,_super);function ArtistAssetItemStruct(){return _super.call(this)||this}ArtistAssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistAssetItem"))};ArtistAssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starList=(this.getChild("starList"));this.m_name=(this.getChild("name"));this.m_desc=(this.getChild("desc"));this.m_value=(this.getChild("value"));this.m_picon=(this.getChild("picon"));this.m_unLockGroup=(this.getChild("unLockGroup"));this.m_unlock=(this.getChild("unlock"));this.m_condition=(this.getChild("condition"));this.m_lockGroup=(this.getChild("lockGroup"));this.m_sendBtn=(this.getChild("sendBtn"));this.m_bar=(this.getChild("bar"));this.m_itemView=(this.getChild("itemView"))};ArtistAssetItemStruct.URL="ui://s33x8418jazc1ly";ArtistAssetItemStruct.DependPackages=["PfSkin","Common"];return ArtistAssetItemStruct}(fairygui.GComponent));PfSkin.ArtistAssetItemStruct=ArtistAssetItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAssetItem=(function(_super){__extends(ArtistAssetItem,_super);function ArtistAssetItem(){return _super!==null&&_super.apply(this,arguments)||this}ArtistAssetItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_sendBtn.onClick(this,this.onClickSendBtn);this.m_starList.itemRenderer=Handler.create(this,this.onUpdateStarItem,null,false);this.m_sendBtn.text=Games.TEXT.Send;this.m_lockGroup.visible=false};ArtistAssetItem.prototype.onUpdateStarItem=function(index,item){item.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.itemConfig.star).icon).iconUrl};ArtistAssetItem.prototype.updateView=function(data,index){this.index=index;this.actorData=data;this.assetData=data.assets[index];var itemId=this.assetData.item;var itemConfig=Game.config.item.getConfig(itemId);this.itemConfig=itemConfig;if(itemConfig){this.m_itemView.icon=itemConfig.iconUrl;this.m_name.text=itemConfig.name+"";var propertyConfig=Game.config.property.getConfig(itemConfig.star);if(propertyConfig){this.m_starList.numItems=parseInt(propertyConfig.field)}}this.m_picon.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.assetData.actor_property).icon).iconUrl;this.m_value.text=format("+{0}",this.assetData.value);this.m_desc.text=format(Games.TEXT.GetAssetToGetProp,this.assetData.num);var sendMax=this.assetData.maxSendNum;sendMax=Math.min(sendMax,this.assetData.max);var currMax=this.assetData.getItemNum(itemId);this.m_itemView.title=format("{0}/{1}",currMax,sendMax);this.currSendNum=currMax;this.maxSendNum=sendMax;var remain=sendMax-currMax;remain=Math.max(0,remain);var curr=Game.moduleModel.item.getItemNum(itemId);this.max=Math.min(curr,remain);this.curr=curr;this.m_sendBtn.grayed=this.max<=0;this.m_bar.max=this.assetData.num;this.m_bar.value=this.assetData.getCurLvItemNum(itemId)};ArtistAssetItem.prototype.onClickSendBtn=function(){var _this=this;if(this.assetData.isMax){Game.system.toastText(TEXT.AssetSendMax);return}if(this.currSendNum>=this.maxSendNum){Game.system.confirmText(TEXT.AssetSendMaxToExpend,TEXT.AssetExpend,null,function(){},function(){if(ItemHelper.checkItemEnough2(5003,1)){var max=Math.max(_this.assetData.useCardMax,Game.moduleModel.item.getItemNum(5003));Game.system.setNumText(max,TEXT.AssetChooseCardNum,"",null,function(num){Game.protosender.Actor.GiveLoyaltyCard(_this.actorData.uuid,_this.assetData.type,num)},null,TEXT.Use)}else{Game.system.toastItemNotEnough(5003)}},TEXT.AssetArtistUpgrade,TEXT.AssetUseCard)}else{if(this.curr>0){if(this.max>0){Game.system.setNumText(this.max,Games.TEXT.ChooseSendAssetNum,"",null,function(num){Game.moduleModel.actor.giveAssetType=_this.index;Game.moduleModel.actor.giveAssetUUid=_this.actorData.uuid;Game.moduleModel.actor.giveAssetNum=num;Game.protosender.Actor.giveActorAssets(_this.actorData.uuid,_this.assetData.type,_this.assetData.lv,num)})}else{Game.system.toastText(Games.TEXT.SendAssetMax)}}else{Game.system.toastItemNotEnough(this.itemConfig.id)}}};return ArtistAssetItem}(PfSkin.ArtistAssetItemStruct));PfSkin.ArtistAssetItem=ArtistAssetItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAssetPanelStruct=(function(_super){__extends(ArtistAssetPanelStruct,_super);function ArtistAssetPanelStruct(){return _super.call(this)||this}ArtistAssetPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistAssetPanel"))};ArtistAssetPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_tipMsg=(this.getChild("tipMsg"));this.m_assetLoyaltyBar=(this.getChild("assetLoyaltyBar"));this.m_t0=this.getTransition("t0")};ArtistAssetPanelStruct.URL="ui://s33x8418jazc1l1";ArtistAssetPanelStruct.DependPackages=["PfSkin","Common"];return ArtistAssetPanelStruct}(fairygui.GComponent));PfSkin.ArtistAssetPanelStruct=ArtistAssetPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistAssetPanel=(function(_super){__extends(ArtistAssetPanel,_super);function ArtistAssetPanel(){var _this=_super.call(this)||this;_this.on(Laya.Event.DISPLAY,_this,_this.onDisplay);_this.on(Laya.Event.UNDISPLAY,_this,_this.onUnDisplay);return _this}ArtistAssetPanel.prototype.onDisplay=function(){};ArtistAssetPanel.prototype.onUnDisplay=function(){};ArtistAssetPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_list.setVirtual();this.poolIcons=[];this.items=[];this.tweenItems=[]};ArtistAssetPanel.prototype.updateView=function(data){this.actorData=data;var curConfig=Game.config.actorLoyalty.getConfigByIdLv(this.actorData.id,this.actorData.loyaltyLevel);this.m_assetLoyaltyBar.m_assetBar.value=this.actorData.loyaltyExp;this.m_assetLoyaltyBar.m_assetBar.max=curConfig.exp;this.m_tipMsg.text=Games.TEXT.PropertyTipMsg;this.m_assetLoyaltyBar.m_assetBar.m_title.visible=false;if(this.actorData.isLoyaltyMaxLv){this.m_assetLoyaltyBar.m_title.text="MAX"}else{this.m_assetLoyaltyBar.m_title.text=this.actorData.loyaltyExp+"/"+curConfig.exp}this.m_list.numItems=Games.ActorModel.assetLenth;this.m_assetLoyaltyBar.m_love.text=Games.TEXT.Level+this.actorData.loyaltyLevel};ArtistAssetPanel.prototype.onUpdateItem=function(index,item){var aitem=item;aitem.updateView(this.actorData,index)};ArtistAssetPanel.prototype.playeffect=function(){this.m_t0.play()};ArtistAssetPanel.prototype.playUpAsset=function(){var _this=this;var type=Game.moduleModel.actor.giveAssetType;var uuid=Game.moduleModel.actor.giveAssetUUid;var num=Game.moduleModel.actor.giveAssetNum;if(uuid==this.actorData.uuid){var item=this.m_list.getChildAt(type);if(item){var globalPos=item.localToGlobal(item.m_sendBtn.x,item.m_sendBtn.y);var localPos=this.globalToLocal(globalPos.x,globalPos.y);var cItem_1;if(this.poolIcons.length>0){cItem_1=this.poolIcons[0];this.poolIcons.splice(0,1)}else{cItem_1=fgui.Common.CommonItem.createInstance();this.items.push(cItem_1)}cItem_1.m_icon.icon=fairygui.UIPackage.getItemURL(Games.GuiPackageNames.PfSkin,"icon_contribution");cItem_1.m_c_show_bg.selectedIndex=1;cItem_1.m_title.text="";this.addChild(cItem_1);cItem_1.alpha=0.5;cItem_1.setXY(localPos.x,localPos.y);this.tweenItems.push(cItem_1);Laya.Tween.to(cItem_1,{x:0,y:0,alpha:1},500,Laya.Ease.quadIn,Handler.create(null,function(){_this.removeChild(cItem_1);_this.poolIcons.push(cItem_1)}))}}};ArtistAssetPanel.prototype.stopUpAsset=function(){for(var index=0;index<this.tweenItems.length;index++){var element=this.tweenItems[index];Laya.Tween.clearAll(element);element.removeFromParent()}};return ArtistAssetPanel}(PfSkin.ArtistAssetPanelStruct));PfSkin.ArtistAssetPanel=ArtistAssetPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistBasePanelStruct=(function(_super){__extends(ArtistBasePanelStruct,_super);function ArtistBasePanelStruct(){return _super.call(this)||this}ArtistBasePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistBasePanel"))};ArtistBasePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_attrIcon1=(this.getChild("attrIcon1"));this.m_attTitle1=(this.getChild("attTitle1"));this.m_attLabel1=(this.getChild("attLabel1"));this.m_attrIcon2=(this.getChild("attrIcon2"));this.m_attTitle2=(this.getChild("attTitle2"));this.m_attLabel2=(this.getChild("attLabel2"));this.m_attrIcon3=(this.getChild("attrIcon3"));this.m_attTitle3=(this.getChild("attTitle3"));this.m_attLabel3=(this.getChild("attLabel3"));this.m_attrIcon4=(this.getChild("attrIcon4"));this.m_attTitle4=(this.getChild("attTitle4"));this.m_attLabel4=(this.getChild("attLabel4"));this.m_attrGroup=(this.getChild("attrGroup"));this.m_descGroup=(this.getChild("descGroup"));this.m_upgradeBtn=(this.getChild("upgradeBtn"));this.m_DetailTextCom=(this.getChild("DetailTextCom"))};ArtistBasePanelStruct.URL="ui://s33x8418jazc1l2";ArtistBasePanelStruct.DependPackages=["PfSkin","Common"];return ArtistBasePanelStruct}(fairygui.GComponent));PfSkin.ArtistBasePanelStruct=ArtistBasePanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistBasePanel=(function(_super){__extends(ArtistBasePanel,_super);function ArtistBasePanel(){return _super!==null&&_super.apply(this,arguments)||this}ArtistBasePanel.prototype.updateView=function(data){this.actorData=data;if(data){this.m_attLabel1.text=data.spectacle+"";this.m_attLabel2.text=data.perform+"";this.m_attLabel3.text=data.plot+"";this.m_attLabel4.text=data.entertainment+"";var props=data.getProps();for(var index=0;index<props.length;index++){var id=props[index];var config=Game.config.property.getConfig(id);var field=config.field;var value=data[field];this.attrLabels[index].text=value;this.attrTitles[index].text=config.name;this.attrIcons[index].icon=Game.config.avatar.getConfig(config.icon).iconUrl}var isOpen=Game.moduleModel.market.GetCityState(id)==Games.CityStateEnum.hasOccupy;this.m_upgradeBtn.grayed=Game.moduleModel.actor.isOpenTrain==false;this.m_DetailTextCom.text=data.config.tips}};ArtistBasePanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.attrIcons=[this.m_attrIcon1,this.m_attrIcon2,this.m_attrIcon3,this.m_attrIcon4];this.attrTitles=[this.m_attTitle1,this.m_attTitle2,this.m_attTitle3,this.m_attTitle4];this.attrLabels=[this.m_attLabel1,this.m_attLabel2,this.m_attLabel3,this.m_attLabel4];this.m_upgradeBtn.text=Games.TEXT.ActorTrain;this.m_upgradeBtn.onClick(this,this.onClickUpgradeBtn)};ArtistBasePanel.prototype.onClickUpgradeBtn=function(){if(Game.moduleModel.actor.isOpenTrain){Game.menu.open(MenuId.ArtistTrain,this.actorData.id)}else{Game.system.toastText(Game.moduleModel.actor.openTrainTip)}};ArtistBasePanel.lv=30;return ArtistBasePanel}(PfSkin.ArtistBasePanelStruct));PfSkin.ArtistBasePanel=ArtistBasePanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistBtnStruct=(function(_super){__extends(ArtistBtnStruct,_super);function ArtistBtnStruct(){return _super.call(this)||this}ArtistBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistBtn"))};ArtistBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ArtistBtnStruct.URL="ui://s33x8418yru4t219";ArtistBtnStruct.DependPackages=["PfSkin","Common"];return ArtistBtnStruct}(fairygui.GButton));PfSkin.ArtistBtnStruct=ArtistBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistBtn=(function(_super){__extends(ArtistBtn,_super);function ArtistBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistBtn}(PfSkin.ArtistBtnStruct));PfSkin.ArtistBtn=ArtistBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistDetailContentStruct=(function(_super){__extends(ArtistDetailContentStruct,_super);function ArtistDetailContentStruct(){return _super.call(this)||this}ArtistDetailContentStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistDetailContent"))};ArtistDetailContentStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_di=(this.getChild("di"))};ArtistDetailContentStruct.URL="ui://s33x8418qr3yt1wm";ArtistDetailContentStruct.DependPackages=["PfSkin","Common"];return ArtistDetailContentStruct}(fairygui.GComponent));PfSkin.ArtistDetailContentStruct=ArtistDetailContentStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistDetailContent=(function(_super){__extends(ArtistDetailContent,_super);function ArtistDetailContent(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistDetailContent}(PfSkin.ArtistDetailContentStruct));PfSkin.ArtistDetailContent=ArtistDetailContent})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistDetailUIStruct=(function(_super){__extends(ArtistDetailUIStruct,_super);function ArtistDetailUIStruct(){return _super.call(this)||this}ArtistDetailUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistDetailUI"))};ArtistDetailUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_icon=(this.getChild("icon"));this.m_sex=(this.getChild("sex"));this.m_contory=(this.getChild("contory"));this.m_biaoqian1=(this.getChild("biaoqian1"));this.m_biaoqian2=(this.getChild("biaoqian2"));this.m_starList=(this.getChild("starList"));this.m_renqizhi=(this.getChild("renqizhi"));this.m_renqiLabel=(this.getChild("renqiLabel"));this.m_renqizhiGroup=(this.getChild("renqizhiGroup"));this.m_tablist=(this.getChild("tablist"));this.m_gold=(this.getChild("gold"));this.m_needGold=(this.getChild("needGold"));this.m_srcName=(this.getChild("srcName"));this.m_tsrcName=(this.getChild("tsrcName"));this.m_level=(this.getChild("level"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_frozenBtn=(this.getChild("frozenBtn"));this.m_renameBtn=(this.getChild("renameBtn"));this.m_sendFloorBtn=(this.getChild("sendFloorBtn"));this.m_upgradeBtn=(this.getChild("upgradeBtn"));this.m_content=(this.getChild("content"));this.m_expbar=(this.getChild("expbar"));this.m_effect=(this.getChild("effect"))};ArtistDetailUIStruct.URL="ui://s33x8418jazc1l3";ArtistDetailUIStruct.DependPackages=["PfSkin","Common","Fx"];return ArtistDetailUIStruct}(fairygui.GComponent));PfSkin.ArtistDetailUIStruct=ArtistDetailUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistDetailUI=(function(_super){__extends(ArtistDetailUI,_super);function ArtistDetailUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.actorId=0;_this.lv=0;_this.floatpos=[new laya.maths.Point(200,180),new laya.maths.Point(450,180),new laya.maths.Point(200,300),new laya.maths.Point(450,300)];_this.downTimeoutHandler=-1;_this.downIntervalHandler=-1;_this.upTimeoutHandler=-1;_this.isDowning=false;return _this}ArtistDetailUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.attrlist=new Array();this.m_upgradeBtn.text=Games.TEXT.Upgrade;this.m_upgradeBtn.sound="";this.preProps=new Dictionary();this.m_effect.visible=false};ArtistDetailUI.prototype.onUpgradeUp=function(){var _this=this;if(this.downTimeoutHandler!=-1){clearTimeout(this.downTimeoutHandler);this.downTimeoutHandler=-1}if(this.downIntervalHandler!=-1){clearInterval(this.downIntervalHandler);this.downIntervalHandler=-1}if(this.isDowning){this.upTimeoutHandler=setTimeout(function(){_this.isDowning=false},200)}};ArtistDetailUI.prototype.onUpgradeDowm=function(){var _this=this;if(this.upTimeoutHandler!=-1){clearTimeout(this.upTimeoutHandler);this.upTimeoutHandler=-1}this.downTimeoutHandler=setTimeout(function(){_this.isDowning=true;_this.downIntervalHandler=setInterval(function(){_this.onClickUpgradeBtn()},200)},200)};ArtistDetailUI.prototype.onClickUpgradeBtn=function(){var _this=this;console.log("upgrade");this.isDowning=false;var levelLimit=this.actorData.getMaxLv();if(levelLimit>this.actorData.level){if(Games.ItemHelper.checkItemEnough2(this.actorData.levelData.cost.itemId,1)){Game.protosender.Actor.upgradeActor(this.actorData.uuid)}else{this.onUpgradeUp();Game.system.openItemWay(this.actorData.levelData.cost.itemId,this.actorData.upgradeCostNum)}}else{if(this.actorData.isMaxLv()){Game.system.toastText(Games.TEXT.LvUpMax);this.onUpgradeUp()}else{this.onUpgradeUp();if(this.levelupLimit==null){this.levelupLimit=PfSkin.LevelUpLimitUI.createInstance()}this.levelupLimit.open(Games.TEXT.UpLvLimit,Games.TEXT.LoyaltyText,format(Games.TEXT.LvUpTo,this.actorData.name,this.actorData.level,this.actorData.getNextLvUpLv()),format(Games.TEXT.BuildLevel,this.actorData.getNextLvUpLoyaltyLv()),null,function(){_this.moduleWindow.effectAsset()})}}};ArtistDetailUI.prototype.toValue=function(data){var _this=this;if(this.isPlayLvUp){return}this.isPlayLvUp=true;this.m_expbar.max=data.upgradeTotalCostNum;Laya.Tween.to(this.m_expbar,{value:data.levelExp},200,null,Handler.create(null,function(){_this.isPlayLvUp=false}))};ArtistDetailUI.prototype.crossToValue=function(data){var _this=this;if(this.isPlayLvUp){return}this.isPlayLvUp=true;Laya.Tween.to(this.m_expbar,{value:this.preCostNum},200,null,Handler.create(null,function(){_this.isPlayLvUp=false;_this.m_expbar.value=0;_this.m_expbar.max=data.upgradeTotalCostNum}))};ArtistDetailUI.prototype.updateView=function(data){var _this=this;var lvUp=false;if(this.actorId==data.id&&this.lv<data.level){lvUp=true}if(lvUp){var sub=data.giveAssetsCountLimit-this.preAssetNum;if(sub>0){Game.system.toastText(format(TEXT.ActorUpgradeAssetCount,sub))}Game.sound.playSound(SoundKey.MM14_ArtistGradeUp,true);this.m_effect.visible=true;this.m_effect.m_t501.play(Handler.create(null,function(){_this.m_effect.visible=false}));if(data.level==data.preMaxLv+1){this.onUpgradeUp();Game.system.playBreakEffect(data.id,format(TEXT.ActorBreakToLv,data.curMaxLv))}this.crossToValue(data)}else{this.toValue(data)}this.lv=data.level;this.actorData=data;this.preAssetNum=data.giveAssetsCountLimit;this.m_renqizhiGroup.visible=false;this.m_renqiLabel.text=data.popularValue+"";this.m_name.text=this.actorData.name;var levelLimit=this.actorData.getMaxLv();this.m_level.text=format(Games.TEXT.CurNextLv,this.actorData.level,this.actorData.curMaxLv);this.m_gold.text=formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.gold));this.m_icon.icon=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl;this.m_expbar.m_title.visible=false;this.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=data.config.starUrl},null,false);this.m_starList.numItems=this.actorData.star;this.m_sex.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.actorData.config.sex).icon).iconUrl;this.m_contory.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.actorData.config.country).icon).iconUrl;this.m_biaoqian1.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.actorData.config.show_type).icon).iconUrl;this.m_biaoqian2.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(this.actorData.config.age_type).icon).iconUrl;this.m_tsrcName.text=Games.TEXT.OldName;this.m_srcName.text=""+this.actorData.config.name;if(data.levelData){this.preCostNum=data.upgradeTotalCostNum;this.m_needGold.text=format(Games.TEXT.UpgradeNeedGold,formatNumberUnit(data.upgradeCostNum))}else{this.m_needGold.text=format(Games.TEXT.UpgradeNeedGold,formatNumberUnit(data.upgradeCostNum));this.m_upgradeBtn.visible=false}var props=data.getProps();var pos=0;for(var index=0;index<props.length;index++){var id=props[index];var config=Game.config.property.getConfig(id);var field=config.field;var value=data[field];if(this.preProps.hasKey(id)&&this.actorId==data.id){var preValue=this.preProps.getValue(id);if(value>preValue){var url=Game.config.avatar.getConfig(config.icon).iconUrl;this.floatAddAttrView(value-preValue,url,this.floatpos[pos]);pos++}}this.preProps.add(id,value)}this.actorId=data.id};ArtistDetailUI.prototype.floatAddAttrView=function(value,url,pos){var _this=this;var attr;if(this.attrlist.length>0){attr=this.attrlist.pop()}else{attr=PfSkin.AttrUpView.createInstance();this.addChild(attr)}if(this.targetPos==null){this.targetPos=new laya.maths.Point()}this.targetPos.x=pos.x+(Math.random()>0.5?-1:1)*10;this.targetPos.y=pos.y+(Math.random()>0.5?-1:1)*20;attr.setXY(pos.x,pos.y);attr.text="+"+value;attr.visible=true;attr.icon=url;laya.utils.Tween.to(attr,{y:pos.y-40},500,Laya.Ease.quadIn,Handler.create(this,function(){_this.attrlist.push(attr);attr.visible=false}))};ArtistDetailUI.prototype.clearProps=function(){this.preProps.clear()};ArtistDetailUI.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.Actor_GiveActorAssets,this.giveAssetHandler,this);this.m_upgradeBtn.onClick(this,this.onClickUpgradeBtn);this.m_upgradeBtn.on(Laya.Event.MOUSE_DOWN,this,this.onUpgradeDowm);this.m_upgradeBtn.on(Laya.Event.MOUSE_UP,this,this.onUpgradeUp);this.m_upgradeBtn.on(Laya.Event.MOUSE_OUT,this,this.onUpgradeUp);this.m_upgradeBtn.on(Laya.Event.FOCUS_CHANGE,this,this.onUpgradeUp);Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onUpgradeUp);this.m_effect.visible=false};ArtistDetailUI.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.Actor_GiveActorAssets,this.giveAssetHandler,this);this.m_upgradeBtn.offClick(this,this.onClickUpgradeBtn);this.m_upgradeBtn.off(Laya.Event.MOUSE_DOWN,this,this.onUpgradeDowm);this.m_upgradeBtn.off(Laya.Event.MOUSE_UP,this,this.onUpgradeUp);this.m_upgradeBtn.off(Laya.Event.MOUSE_OUT,this,this.onUpgradeUp);this.m_upgradeBtn.off(Laya.Event.FOCUS_CHANGE,this,this.onUpgradeUp);Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onUpgradeUp)};ArtistDetailUI.prototype.giveAssetHandler=function(msg){this.moduleWindow.assetPanel.playUpAsset()};ArtistDetailUI.prototype.getSelectTab=function(index){return this.m_tablist.getChildAt(index)};return ArtistDetailUI}(PfSkin.ArtistDetailUIStruct));PfSkin.ArtistDetailUI=ArtistDetailUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExperciseRoomStruct=(function(_super){__extends(ArtistExperciseRoomStruct,_super);function ArtistExperciseRoomStruct(){return _super.call(this)||this}ArtistExperciseRoomStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistExperciseRoom"))};ArtistExperciseRoomStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ArtistExperciseRoomStruct.URL="ui://s33x8418rn1rt1vt";ArtistExperciseRoomStruct.DependPackages=["PfSkin"];return ArtistExperciseRoomStruct}(fairygui.GComponent));PfSkin.ArtistExperciseRoomStruct=ArtistExperciseRoomStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExperciseRoom=(function(_super){__extends(ArtistExperciseRoom,_super);function ArtistExperciseRoom(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistExperciseRoom}(PfSkin.ArtistExperciseRoomStruct));PfSkin.ArtistExperciseRoom=ArtistExperciseRoom})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertItem1Struct=(function(_super){__extends(ArtistExpertItem1Struct,_super);function ArtistExpertItem1Struct(){return _super.call(this)||this}ArtistExpertItem1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistExpertItem1"))};ArtistExpertItem1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"))};ArtistExpertItem1Struct.URL="ui://s33x8418jazc1l4";ArtistExpertItem1Struct.DependPackages=["PfSkin","Common"];return ArtistExpertItem1Struct}(fairygui.GComponent));PfSkin.ArtistExpertItem1Struct=ArtistExpertItem1Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertItem1=(function(_super){__extends(ArtistExpertItem1,_super);function ArtistExpertItem1(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistExpertItem1}(PfSkin.ArtistExpertItem1Struct));PfSkin.ArtistExpertItem1=ArtistExpertItem1})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertItem2Struct=(function(_super){__extends(ArtistExpertItem2Struct,_super);function ArtistExpertItem2Struct(){return _super.call(this)||this}ArtistExpertItem2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistExpertItem2"))};ArtistExpertItem2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"))};ArtistExpertItem2Struct.URL="ui://s33x8418jazc1l5";ArtistExpertItem2Struct.DependPackages=["PfSkin","Common"];return ArtistExpertItem2Struct}(fairygui.GComponent));PfSkin.ArtistExpertItem2Struct=ArtistExpertItem2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertItem2=(function(_super){__extends(ArtistExpertItem2,_super);function ArtistExpertItem2(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistExpertItem2}(PfSkin.ArtistExpertItem2Struct));PfSkin.ArtistExpertItem2=ArtistExpertItem2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertPanelStruct=(function(_super){__extends(ArtistExpertPanelStruct,_super);function ArtistExpertPanelStruct(){return _super.call(this)||this}ArtistExpertPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistExpertPanel"))};ArtistExpertPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};ArtistExpertPanelStruct.URL="ui://s33x8418jazc1l6";ArtistExpertPanelStruct.DependPackages=["PfSkin"];return ArtistExpertPanelStruct}(fairygui.GComponent));PfSkin.ArtistExpertPanelStruct=ArtistExpertPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistExpertPanel=(function(_super){__extends(ArtistExpertPanel,_super);function ArtistExpertPanel(){var _this=_super.call(this)||this;_this.on(Laya.Event.ADDED,_this,_this.onAddToStage);_this.on(Laya.Event.REMOVED,_this,_this.onRemoveFromStage);return _this}ArtistExpertPanel.prototype.onAddToStage=function(){this.m_list.scrollItemToViewOnClick=false;this.tagtip=fgui.PfSkin.ArtistTagTip.createInstance();this.addChild(this.tagtip);this.tagtip.visible=false;Laya.stage.on(Laya.Event.CLICK,this,this.onClickStage)};ArtistExpertPanel.prototype.onRemoveFromStage=function(){this.off(Laya.Event.ADDED,this,this.onAddToStage);this.off(Laya.Event.REMOVED,this,this.onRemoveFromStage);Laya.stage.off(Laya.Event.CLICK,this,this.onClickStage)};ArtistExpertPanel.prototype.refreshView=function(){};ArtistExpertPanel.prototype.updateView=function(data){this.actorData=data;this.m_list.removeChildrenToPool();var characterNum=this.actorData.config.character.length;var storyNum=this.actorData.config.story_type.length+this.actorData.config.story_feature.length;this.shootTypeList=this.actorData.getShootListLvGreater0();var movieNum=this.shootTypeList.length;var line=0;if(storyNum>0){this.storyList=this.m_list.addItemFromPool(fgui.PfSkin.ArtistExpertItem1.URL);this.storyList.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickStoryItem);this.storyList.m_list.itemRenderer=Handler.create(this,this.onUpdateStory,null,false);this.storyList.m_list.numItems=storyNum;line=Math.ceil(storyNum/this.storyList.m_list.columnCount);this.storyList.m_list.viewHeight=(this.storyList.m_list.lineGap+70)*line;this.storyList.m_title.text=Games.TEXT.ExpertStory}if(characterNum>0){this.characterList=this.m_list.addItemFromPool(fgui.PfSkin.ArtistExpertItem1.URL);this.characterList.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickCharacterItem);this.characterList.m_list.itemRenderer=Handler.create(this,this.onUpdateCharacter,null,false);this.characterList.m_list.numItems=characterNum;line=Math.ceil(characterNum/this.characterList.m_list.columnCount);this.characterList.m_list.viewHeight=(this.characterList.m_list.lineGap+70)*line;this.characterList.m_title.text=Games.TEXT.ExpertCharacter}if(movieNum>0){this.movieList=this.m_list.addItemFromPool(fgui.PfSkin.ArtistExpertItem2.URL);this.movieList.m_list.itemRenderer=Handler.create(this,this.onUpdateMoveShootRender,null,false);this.movieList.m_list.numItems=movieNum;line=Math.ceil(movieNum/this.movieList.m_list.columnCount);this.movieList.m_list.viewHeight=(this.movieList.m_list.lineGap+135)*line;this.movieList.m_title.text=Games.TEXT.ExpertType}};ArtistExpertPanel.prototype.onUpdateCharacter=function(index,item){var charItem=item;charItem.updateViewByCharacter(this.actorData.config.character[index])};ArtistExpertPanel.prototype.onUpdateStory=function(index,item){var charItem=item;if(index>=this.actorData.config.story_type.length){charItem.updateViewByFeatureType(this.actorData.config.story_feature[index-this.actorData.config.story_type.length])}else{charItem.updateViewByStoryType(this.actorData.config.story_type[index])}};ArtistExpertPanel.prototype.onUpdateMoveShootRender=function(index,item){var movieItem=item;movieItem.updateView(this.shootTypeList[index])};ArtistExpertPanel.prototype.onClickStage=function(evt){if(this.isClickItem==false){this.tagtip.visible=false}this.isClickItem=false};ArtistExpertPanel.prototype.onClickStoryItem=function(itemObject){var index=this.storyList.m_list.getChildIndex(itemObject);var realIndex=this.storyList.m_list.childIndexToItemIndex(index);var globalPos=itemObject.localToGlobal(0,0);var localPos=this.globalToLocal(globalPos.x,globalPos.y+itemObject.height);this.tagtip.visible=true;this.tagtip.setXY(localPos.x,localPos.y);this.isClickItem=true;var charItem=itemObject;this.tagtip.text=charItem.tip};ArtistExpertPanel.prototype.onClickCharacterItem=function(itemObject){var index=this.characterList.m_list.getChildIndex(itemObject);var realIndex=this.characterList.m_list.childIndexToItemIndex(index);var globalPos=itemObject.localToGlobal(0,0);var localPos=this.globalToLocal(globalPos.x,globalPos.y+itemObject.height);this.tagtip.visible=true;this.tagtip.setXY(localPos.x,localPos.y);this.isClickItem=true;var charItem=itemObject;this.tagtip.text=charItem.tip};return ArtistExpertPanel}(PfSkin.ArtistExpertPanelStruct));PfSkin.ArtistExpertPanel=ArtistExpertPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistFindPanelStruct=(function(_super){__extends(ArtistFindPanelStruct,_super);function ArtistFindPanelStruct(){return _super.call(this)||this}ArtistFindPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistFindPanel"))};ArtistFindPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_visible_dialog=this.getController("c_visible_dialog");this.m_gold=(this.getChild("gold"));this.m_time=(this.getChild("time"));this.m_remianTime=(this.getChild("remianTime"));this.m_leaveTip=(this.getChild("leaveTip"));this.m_tremianTime=(this.getChild("tremianTime"));this.m_findBtn=(this.getChild("findBtn"));this.m_dialog1=(this.getChild("dialog1"));this.m_dialog2=(this.getChild("dialog2"));this.m_dialog3=(this.getChild("dialog3"))};ArtistFindPanelStruct.URL="ui://s33x8418tqflt269";ArtistFindPanelStruct.DependPackages=["PfSkin","Common","WarMovie"];return ArtistFindPanelStruct}(fairygui.GComponent));PfSkin.ArtistFindPanelStruct=ArtistFindPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistFindPanel=(function(_super){__extends(ArtistFindPanel,_super);function ArtistFindPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dialogNumbers=[];_this.dialogPanels=[];_this.dialogNumPanels=[];return _this}ArtistFindPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_findBtn.m_red.visible=false;this.dialogPanels=[this.m_dialog1,this.m_dialog2,this.m_dialog3]};ArtistFindPanel.prototype.clearTime=function(){Laya.timer.clear(this,this.onUpdateTime);Laya.timer.clear(this,this.onUpdateClearTime)};ArtistFindPanel.prototype.updateView=function(){this.checkTime();this.startDialog();this.updateGoldView()};ArtistFindPanel.prototype.initDialog=function(){this.dialogNumbers=[100101,100102,100103,100104,100105,100106,100107,100108]};ArtistFindPanel.prototype.initDialogNum=function(){this.dialogNumPanels=[0,1,2]};ArtistFindPanel.prototype.onWindowHide=function(){this.clearTime();clearTimeout(this.dialogInterval);this.m_findBtn.offClick(this,this.onClickFindBtn);User.sGameInfoUpdate.remove(this.onUpdateGameInfoHandler,this);Game.moduleModel.actor.sUpdateActorInfo.remove(this.onUpdateActorHandler,this)};ArtistFindPanel.prototype.onWindowShow=function(){this.m_findBtn.onClick(this,this.onClickFindBtn);User.sGameInfoUpdate.add(this.onUpdateGameInfoHandler,this);Game.moduleModel.actor.sUpdateActorInfo.add(this.onUpdateActorHandler,this)};ArtistFindPanel.prototype.onUpdateActorHandler=function(){this.updateView()};ArtistFindPanel.prototype.onUpdateGameInfoHandler=function(){if(User.info.noseIntoActorList.length>0){Game.menu.open(MenuId.ArtistScoutResult)}else{this.moduleWindow.conent.showListPanel()}};ArtistFindPanel.prototype.onTabShow=function(){console.log("tabShow")};ArtistFindPanel.prototype.startDialog=function(){var _this=this;if(this.dialogNumbers.length<=0){this.initDialog()}if(this.dialogNumPanels.length<=0){this.initDialogNum()}clearTimeout(this.dialogInterval);var index=Math.floor(this.dialogNumbers.length*Math.random());var dialogId=this.dialogNumbers[index];this.dialogNumbers.splice(index,1);var pos=Math.floor(this.dialogNumPanels.length*Math.random());index=this.dialogNumPanels[pos];var dialog=this.dialogPanels[index];this.dialogNumPanels.splice(pos,1);this.m_c_visible_dialog.selectedIndex=index+1;var config=Game.config.speak.getConfig(dialogId);if(config){dialog.m_title.text=config.speak;this.dialogInterval=setTimeout(function(){_this.startDialog()},3000)}else{}};ArtistFindPanel.prototype.onTabHide=function(){this.clearTime()};ArtistFindPanel.prototype.updateGoldView=function(){this.m_gold.text=formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.gold))};ArtistFindPanel.prototype.updateRemainTime=function(remain){this.m_remianTime.text=Games.TEXT.TalentTimes;this.m_tremianTime.text=format("{0}/{1}",remain,GlobalConfig.getValue(GlobalKey.KEY_1013_XingTanCiShu))};ArtistFindPanel.prototype.checkTime=function(){this.clearTime();if(Game.moduleModel.actor.isMaxNose){this.showNoseLeave()}else{var nowTimes=Game.time.serverSeconds;var resetTimes=User.info.noseIntoTime+Game.moduleModel.actor.noseCdReset;this.resetTimes=Math.max(0,resetTimes-nowTimes);if(this.resetTimes>0){this.startTimeHandler()}else{this.showCanNose()}}};ArtistFindPanel.prototype.startTimeHandler=function(){this.m_time.visible=true;this.m_leaveTip.visible=false;this.m_findBtn.text=Games.TEXT.ScountActor;this.updateRemainTime(0);Laya.timer.loop(1000,this,this.onUpdateTime,null,true,true);this.updateTimeView()};ArtistFindPanel.prototype.showCanNose=function(){this.updateRemainTime(1);this.m_findBtn.text=Games.TEXT.ScountActor;var itemCost=GlobalConfig.getValue1(GlobalKey.KEY_1001_TanChaXiaoHao);this.m_findBtn.m_icon.icon=Game.config.item.getConfig(itemCost[0]).iconUrl;this.m_findBtn.m_number.text=itemCost[1]+"";this.m_time.visible=false;this.m_leaveTip.visible=false};ArtistFindPanel.prototype.showNoseLeave=function(){this.updateRemainTime(0);this.m_findBtn.text=Games.TEXT.ScountActor;this.m_findBtn.m_number.text=formatNumberUnit(GlobalConfig.getValue1(GlobalKey.KEY_1001_TanChaXiaoHao)[1]);this.m_time.visible=false;this.m_leaveTip.visible=true;var currSecond=Game.time.serverSeconds;this.clearTimes=0;var nextSecond=User.info.resetNoseIntoTime;if(currSecond<nextSecond){this.clearTimes=nextSecond-currSecond;Laya.timer.loop(1000,this,this.onUpdateClearTime,null,true,true)}this.updateLeaveTimeView()};ArtistFindPanel.prototype.stopTimeHandler=function(){this.updateRemainTime(1);this.m_findBtn.text=Games.TEXT.ScountActor;this.m_findBtn.m_number.text=formatNumberUnit(GlobalConfig.getValue1(GlobalKey.KEY_1001_TanChaXiaoHao)[1]);this.m_time.visible=false;this.m_leaveTip.visible=false};ArtistFindPanel.prototype.onUpdateTime=function(){if(this.resetTimes>=0){this.resetTimes--;if(this.resetTimes<0){this.resetTimes=0;this.checkTime()}}this.updateTimeView()};ArtistFindPanel.prototype.onUpdateClearTime=function(){if(this.clearTimes>=0){this.clearTimes--;if(this.clearTimes<0){this.clearTimes=0;this.checkTime()}}this.updateLeaveTimeView()};ArtistFindPanel.prototype.updateTimeView=function(){this.m_time.text=format(Games.TEXT.AfterToScountActor,Games.TimeHelper.TimeFormat2(this.resetTimes))};ArtistFindPanel.prototype.updateLeaveTimeView=function(){this.m_leaveTip.text=format(Games.TEXT.AfterToClearNoseTimes,Games.TimeHelper.TimeFormat2(this.clearTimes))};ArtistFindPanel.prototype.onClickFindBtn=function(){var self=this;function noseActor(){var cost=GlobalConfig.getValue1(GlobalKey.KEY_1001_TanChaXiaoHao);var enough=Games.ItemHelper.checkItemEnough3(cost);if(enough){Game.protosender.Actor.noseInfoActor(self.resetTimes>0)}else{Game.system.openItemWay(cost[0],cost[1])}}if(Game.moduleModel.actor.actorIsMax){Game.system.toastText(Games.TEXT.ActorMax)}else{if(this.resetTimes>0||Game.moduleModel.actor.isMaxNose){Game.system.openGoOtherFunc(Games.OtherFunctionType.ActorStarCard,Games.TEXT.TitleTip,TEXT.SystemGoOtherFunction_Desc_2,function(){var cost=GlobalConfig.getValue1(GlobalKey.KEY_1008_JiangZhiTanCha__PinHeShuLiang);var enough=Games.ItemHelper.checkItemEnough3(cost);if(enough){noseActor()}else{Game.system.openItemWay(cost[0],cost[1])}})}else{noseActor()}}};return ArtistFindPanel}(PfSkin.ArtistFindPanelStruct));PfSkin.ArtistFindPanel=ArtistFindPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistForzenItemStruct=(function(_super){__extends(ArtistForzenItemStruct,_super);function ArtistForzenItemStruct(){return _super.call(this)||this}ArtistForzenItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistForzenItem"))};ArtistForzenItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_country=(this.getChild("country"));this.m_sex=(this.getChild("sex"));this.m_show=(this.getChild("show"));this.m_age=(this.getChild("age"));this.m_starlist=(this.getChild("starlist"));this.m_name=(this.getChild("name"));this.m_level=(this.getChild("level"));this.m_attrLabel1=(this.getChild("attrLabel1"));this.m_attrIcon1=(this.getChild("attrIcon1"));this.m_attrLabel2=(this.getChild("attrLabel2"));this.m_attrIcon2=(this.getChild("attrIcon2"));this.m_attrLabel3=(this.getChild("attrLabel3"));this.m_attrIcon3=(this.getChild("attrIcon3"));this.m_attrLabel4=(this.getChild("attrLabel4"));this.m_attrIcon4=(this.getChild("attrIcon4"));this.m_icon=(this.getChild("icon"));this.m_aliveBtn2=(this.getChild("aliveBtn2"))};ArtistForzenItemStruct.URL="ui://s33x8418jazc1lz";ArtistForzenItemStruct.DependPackages=["PfSkin","Common"];return ArtistForzenItemStruct}(fairygui.GComponent));PfSkin.ArtistForzenItemStruct=ArtistForzenItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistForzenItem=(function(_super){__extends(ArtistForzenItem,_super);function ArtistForzenItem(){return _super!==null&&_super.apply(this,arguments)||this}ArtistForzenItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_aliveBtn2.onClick(this,this.onClickAliveBtn);this.attrLabels=[this.m_attrLabel1,this.m_attrLabel2,this.m_attrLabel3,this.m_attrLabel4];this.attrIcons=[this.m_attrIcon1,this.m_attrIcon2,this.m_attrIcon3,this.m_attrIcon4];this.displayObject.cacheAs="bitmap";this.displayObject.staticCache=true};ArtistForzenItem.prototype.onClickAliveBtn=function(){var _this=this;if(Game.moduleModel.actor.actorIsMax){Game.system.toastText(Games.TEXT.ActorMax)}else{var itemId=this.actorData.config.enable_cost.itemId;var itemNum=this.actorData.config.enable_cost.itemNum;Game.system.confirmBuyText(Games.TEXT.AliveAcotr,[itemId,itemNum],null,function(){Game.protosender.Actor.hideActor(_this.actorData.uuid,false)})}};ArtistForzenItem.prototype.updateView=function(data){this.actorData=data;this.m_name.text=data.name;this.m_level.text=format(Games.TEXT.Lv,data.level);this.m_name.text=data.name;this.m_starlist.itemRenderer=Handler.create(this,function(index,item){item.icon=data.config.starUrl},null,false);this.m_starlist.numItems=data.star;this.m_icon.icon=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl;this.m_country.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(data.config.country).icon).iconUrl;this.m_sex.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(data.config.sex).icon).iconUrl;this.m_aliveBtn2.m_num.text=formatNumberUnit(data.config.enable_cost.itemNum);this.m_age.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(data.config.age_type).icon).iconUrl;this.m_show.icon=Game.config.avatar.getConfig(Game.config.property.getConfig(data.config.show_type).icon).iconUrl;this.m_aliveBtn2.m_icon.url=Game.config.avatar.getConfig(Game.config.item.getConfig(data.config.enable_cost.itemId).icon).iconUrl;this.m_aliveBtn2.m_title.text=Games.TEXT.RelieveArtist;var props=data.getProps();for(var index=0;index<props.length;index++){var id=props[index];var config=Game.config.property.getConfig(id);var field=config.field;var value=data[field];this.attrLabels[index].text=formatNumberUnit(value);this.attrIcons[index].icon=Game.config.avatar.getConfig(config.icon).iconUrl}this.displayObject.reCache()};return ArtistForzenItem}(PfSkin.ArtistForzenItemStruct));PfSkin.ArtistForzenItem=ArtistForzenItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistForzenUIStruct=(function(_super){__extends(ArtistForzenUIStruct,_super);function ArtistForzenUIStruct(){return _super.call(this)||this}ArtistForzenUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistForzenUI"))};ArtistForzenUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_xuecang=(this.getChild("xuecang"));this.m_artName=(this.getChild("artName"));this.m_descLabel=(this.getChild("descLabel"));this.m_artlist=(this.getChild("artlist"));this.m_canLabel=(this.getChild("canLabel"));this.m_noTip=(this.getChild("noTip"));this.m_closeBtn=(this.getChild("closeBtn"))};ArtistForzenUIStruct.URL="ui://s33x8418jazc1l7";ArtistForzenUIStruct.DependPackages=["PfSkin","Common"];return ArtistForzenUIStruct}(fairygui.GComponent));PfSkin.ArtistForzenUIStruct=ArtistForzenUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistForzenUI=(function(_super){__extends(ArtistForzenUI,_super);function ArtistForzenUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistForzenUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_artlist.setVirtual();this.m_artlist.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_noTip.text=Games.TEXT.NoForzen};ArtistForzenUI.prototype.updateView=function(){this.actors=Game.moduleModel.actor.getHideActors();this.m_artlist.numItems=this.actors.length;if(this.actors.length<=0){this.m_noTip.visible=true}else{this.m_noTip.visible=false}this.m_canLabel.text=format(Games.TEXT.CanHideActorNums,this.actors.length,User.info.maxHideActor);this.m_artName.text=Games.TEXT.HideActor;this.m_descLabel.text=Games.TEXT.HideActorDesc};ArtistForzenUI.prototype.onUpdateItem=function(index,item){var gItem=item;gItem.updateView(this.actors[index])};return ArtistForzenUI}(PfSkin.ArtistForzenUIStruct));PfSkin.ArtistForzenUI=ArtistForzenUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistGetUIStruct=(function(_super){__extends(ArtistGetUIStruct,_super);function ArtistGetUIStruct(){return _super.call(this)||this}ArtistGetUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistGetUI"))};ArtistGetUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_starList=(this.getChild("starList"));this.m_name=(this.getChild("name"));this.m_tipMsg=(this.getChild("tipMsg"));this.m_clickclose=(this.getChild("clickclose"));this.m_effect=(this.getChild("effect"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_shareBtn=(this.getChild("shareBtn"))};ArtistGetUIStruct.URL="ui://s33x8418eb3n1oa";ArtistGetUIStruct.DependPackages=["PfSkin","Fx","Common"];return ArtistGetUIStruct}(fairygui.GComponent));PfSkin.ArtistGetUIStruct=ArtistGetUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistGetUI=(function(_super){__extends(ArtistGetUI,_super);function ArtistGetUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistGetUI.prototype.updateView=function(data){this.actorData=data;this.m_icon.icon=data.config.avatarConfig.bodyIconUrl;this.m_name.text=data.name;this.m_shareBtn.visible=false;this.m_tipMsg.text=Games.TEXT.ClickAnyWhereToClose;this.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=data.config.starUrl},null,false);this.m_starList.numItems=data.config.starNum};ArtistGetUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose();Game.guide.checkPlayStoryByType(Games.StoryTriggerType.SelectActor)};ArtistGetUI.prototype.onClickShareBtn=function(){Game.menu.open(MenuId.ArtistShare,this.actorData)};ArtistGetUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_shareBtn.onClick(this,this.onClickShareBtn);this.m_clickclose.onClick(this,this.onClickCloseBtn);Game.sound.playSound(SoundKey.MM13_GetArtist)};ArtistGetUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_shareBtn.offClick(this,this.onClickShareBtn)};return ArtistGetUI}(PfSkin.ArtistGetUIStruct));PfSkin.ArtistGetUI=ArtistGetUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistHeroPanelStruct=(function(_super){__extends(ArtistHeroPanelStruct,_super);function ArtistHeroPanelStruct(){return _super.call(this)||this}ArtistHeroPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistHeroPanel"))};ArtistHeroPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title2=(this.getChild("title2"));this.m_tipLabel1=(this.getChild("tipLabel1"));this.m_tipLabel2=(this.getChild("tipLabel2"));this.m_numLabel=(this.getChild("numLabel"))};ArtistHeroPanelStruct.URL="ui://s33x8418jazc1l8";ArtistHeroPanelStruct.DependPackages=["PfSkin"];return ArtistHeroPanelStruct}(fairygui.GComponent));PfSkin.ArtistHeroPanelStruct=ArtistHeroPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistHeroPanel=(function(_super){__extends(ArtistHeroPanel,_super);function ArtistHeroPanel(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistHeroPanel}(PfSkin.ArtistHeroPanelStruct));PfSkin.ArtistHeroPanel=ArtistHeroPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistIconStruct=(function(_super){__extends(ArtistIconStruct,_super);function ArtistIconStruct(){return _super.call(this)||this}ArtistIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistIcon"))};ArtistIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ArtistIconStruct.URL="ui://s33x84189wvbt25w";ArtistIconStruct.DependPackages=["PfSkin","Common"];return ArtistIconStruct}(fairygui.GLabel));PfSkin.ArtistIconStruct=ArtistIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistIcon=(function(_super){__extends(ArtistIcon,_super);function ArtistIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistIcon}(PfSkin.ArtistIconStruct));PfSkin.ArtistIcon=ArtistIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistIcon150Struct=(function(_super){__extends(ArtistIcon150Struct,_super);function ArtistIcon150Struct(){return _super.call(this)||this}ArtistIcon150Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistIcon150"))};ArtistIcon150Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ArtistIcon150Struct.URL="ui://s33x84189wvbt25x";ArtistIcon150Struct.DependPackages=["PfSkin","Common"];return ArtistIcon150Struct}(fairygui.GLabel));PfSkin.ArtistIcon150Struct=ArtistIcon150Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistIcon150=(function(_super){__extends(ArtistIcon150,_super);function ArtistIcon150(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistIcon150}(PfSkin.ArtistIcon150Struct));PfSkin.ArtistIcon150=ArtistIcon150})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistItemViewStruct=(function(_super){__extends(ArtistItemViewStruct,_super);function ArtistItemViewStruct(){return _super.call(this)||this}ArtistItemViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistItemView"))};ArtistItemViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_head=(this.getChild("head"));this.m_label=(this.getChild("label"));this.m_contory=(this.getChild("contory"));this.m_level=(this.getChild("level"));this.m_starList=(this.getChild("starList"));this.m_icon=(this.getChild("icon"));this.m_red=(this.getChild("red"));this.m_detailBtn=(this.getChild("detailBtn"));this.m_attr1=(this.getChild("attr1"));this.m_attr2=(this.getChild("attr2"));this.m_attr3=(this.getChild("attr3"));this.m_attr4=(this.getChild("attr4"));this.m_t0=this.getTransition("t0")};ArtistItemViewStruct.URL="ui://s33x8418jazc1m0";ArtistItemViewStruct.DependPackages=["PfSkin","Common"];return ArtistItemViewStruct}(fairygui.GComponent));PfSkin.ArtistItemViewStruct=ArtistItemViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistItemView=(function(_super){__extends(ArtistItemView,_super);function ArtistItemView(){return _super!==null&&_super.apply(this,arguments)||this}ArtistItemView.prototype.updateView=function(data){this.actorData=data;this.m_label.text=data.name;this.m_level.text=format(Games.TEXT.Lv,data.level);this.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=data.config.starUrl},null,false);this.m_starList.numItems=data.star;this.m_red.visible=false;this.m_icon.m_icon.icon=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl;this.m_contory.url=Game.config.avatar.getConfig(Game.config.property.getConfig(data.config.country).icon).iconUrl;var props=data.getProps();for(var index=0;index<props.length;index++){var id=props[index];var config=Game.config.property.getConfig(id);var field=config.field;var value=data[field];this.attrs[index].icon=Game.config.avatar.getConfig(config.icon).iconUrl;this.attrs[index].text=value}};ArtistItemView.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.attrs=[this.m_attr1,this.m_attr2,this.m_attr3,this.m_attr4]};return ArtistItemView}(PfSkin.ArtistItemViewStruct));PfSkin.ArtistItemView=ArtistItemView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistListPanelStruct=(function(_super){__extends(ArtistListPanelStruct,_super);function ArtistListPanelStruct(){return _super.call(this)||this}ArtistListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistListPanel"))};ArtistListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_name1=(this.getChild("name1"));this.m_name2=(this.getChild("name2"));this.m_canScount=(this.getChild("canScount"));this.m_canScountTitle=(this.getChild("canScountTitle"));this.m_listPanel=(this.getChild("listPanel"));this.m_xingtanBtn=(this.getChild("xingtanBtn"));this.m_frozenBtn=(this.getChild("frozenBtn"));this.m_add=(this.getChild("add"))};ArtistListPanelStruct.URL="ui://s33x8418tqflt26a";ArtistListPanelStruct.DependPackages=["PfSkin","Common"];return ArtistListPanelStruct}(fairygui.GComponent));PfSkin.ArtistListPanelStruct=ArtistListPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistListPanel=(function(_super){__extends(ArtistListPanel,_super);function ArtistListPanel(){return _super!==null&&_super.apply(this,arguments)||this}ArtistListPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.setVirtual();this.m_list.setVirtualAndLoop();this.m_list.itemRenderer=Handler.create(this,this.onUpdateItemList,null,false);this.m_list.scrollItemToViewOnClick=false;this.m_xingtanBtn.m_red.visible=false;this.m_name1.text=Games.TEXT.TalentText;this.m_name2.text=Games.TEXT.HiddenText};ArtistListPanel.prototype.onUpdateItemList=function(index,obj){var item=obj;item.updateView(this.actors[index])};ArtistListPanel.prototype.onWindowHide=function(){this.m_frozenBtn.offClick(this,this.onClickFrozenBtn);this.m_xingtanBtn.offClick(this,this.onClickXingTanBtn);this.m_add.offClick(this,this.onClickAddBtn);this.m_list.off(fairygui.Events.CLICK_ITEM,this,this.onClickArtistItem)};ArtistListPanel.prototype.onWindowShow=function(){this.m_frozenBtn.onClick(this,this.onClickFrozenBtn);this.m_xingtanBtn.onClick(this,this.onClickXingTanBtn);this.m_add.onClick(this,this.onClickAddBtn);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onClickArtistItem)};ArtistListPanel.prototype.onClickArtistItem=function(itemObject){var index=this.m_list.getChildIndex(itemObject);var realIndex=this.m_list.childIndexToItemIndex(index);Game.menu.open(MenuId.ArtistDetail,itemObject.actorData.id)};ArtistListPanel.prototype.onClickAddBtn=function(){Game.system.confirmBuyText(Games.TEXT.AlertTextBuyActor,GlobalConfig.getValue1(GlobalKey.KEY_1009_ZuanDanZengJia__ShuLiangXiaoHao),null,function(){Game.protosender.Actor.addActorSlot()})};ArtistListPanel.prototype.onClickFrozenBtn=function(){Game.menu.open(MenuId.ArtistFrozen)};ArtistListPanel.prototype.onClickXingTanBtn=function(){var nowTimes=Game.time.serverSeconds;var leaveTimes=User.info.noseIntoActorEffectTime;var actorLeaveTime=0;if(leaveTimes>nowTimes){actorLeaveTime=leaveTimes-nowTimes}if(actorLeaveTime>0&&User.info.noseIntoActorList.length>0){Game.menu.open(MenuId.ArtistScoutResult)}else{this.moduleWindow.conent.showFindPanel()}};ArtistListPanel.prototype.updateView=function(){this.actors=Game.moduleModel.actor.getActors();this.m_canScountTitle.text=TEXT.CanScountActor;this.m_canScount.text=format("{0}/{1}",this.actors.length,User.info.maxActor);this.m_list.numItems=this.actors.length;this.m_xingtanBtn.m_red.visible=Game.moduleModel.actor.isCanNoseActor};ArtistListPanel.prototype.onTabShow=function(){console.log("tabShow")};ArtistListPanel.prototype.onTabHide=function(){console.log("onTabHide")};ArtistListPanel.prototype.selectActor=function(lv){for(var index=0;index<this.actors.length;index++){var data=this.actors[index];if(data.level<lv&&index<this.m_list.numItems){var real=this.m_list.itemIndexToChildIndex(index);this.m_list.scrollToView(index);return this.m_list.getChildAt(real)}}return null};return ArtistListPanel}(PfSkin.ArtistListPanelStruct));PfSkin.ArtistListPanel=ArtistListPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutResultItemStruct=(function(_super){__extends(ArtistScoutResultItemStruct,_super);function ArtistScoutResultItemStruct(){return _super.call(this)||this}ArtistScoutResultItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistScoutResultItem"))};ArtistScoutResultItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_need=(this.getChild("need"));this.m_already=(this.getChild("already"));this.m_tAlready=(this.getChild("tAlready"));this.m_goBtn=(this.getChild("goBtn"));this.m_detailBtn=(this.getChild("detailBtn"));this.m_giftBtn=(this.getChild("giftBtn"))};ArtistScoutResultItemStruct.URL="ui://s33x8418jazc1m1";ArtistScoutResultItemStruct.DependPackages=["PfSkin","Common"];return ArtistScoutResultItemStruct}(fairygui.GComponent));PfSkin.ArtistScoutResultItemStruct=ArtistScoutResultItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutResultItem=(function(_super){__extends(ArtistScoutResultItem,_super);function ArtistScoutResultItem(){return _super!==null&&_super.apply(this,arguments)||this}ArtistScoutResultItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_detailBtn.onClick(this,this.onClickDetailBtn);this.m_goBtn.onClick(this,this.onClickBuyBtn);this.m_giftBtn.onClick(this,this.onClickGiftBtn);this.m_icon.onClick(this,this.onClickDetailBtn);this.m_goBtn.title=Games.TEXT.NoseActor;this.tipsItemUI=new Array();this.showItemsUI=new Array();this.m_giftBtn.m_red.visible=false};ArtistScoutResultItem.prototype.onClickBuyBtn=function(){var _this=this;if(Game.moduleModel.actor.actorIsMax&&Game.moduleModel.actor.hasActor(this.config.id)==false){Game.system.toastText(Games.TEXT.ActorMax)}else{var cost=[this.config.cost.itemId,this.config.cost.itemNum];var TipMsgs=(Game.moduleModel.actor.hasActor(this.config.id)==true)?Games.TEXT.SecondBuyArtistMsg:Games.TEXT.AlertNoseActor;Game.system.confirmBuyText(TipMsgs,cost,null,function(){var enough=Games.ItemHelper.checkItemEnough3(cost);if(enough){Game.protosender.Actor.recruitActor(_this.config.id)}else{Game.system.openItemWay(_this.config.cost.itemId,_this.config.cost.itemNum)}})}};ArtistScoutResultItem.prototype.onClickDetailBtn=function(){Game.menu.open(MenuId.ActorDetail,this.config.id)};ArtistScoutResultItem.prototype.onClickGiftBtn=function(){if(this.rewardUI==null){this.rewardUI=fgui.Common.TipReward.createInstance()}this.rewardUI.setItems(this.config.recruit_reward);this.rewardUI.showPopup(this.m_giftBtn)};ArtistScoutResultItem.prototype.updateView=function(id){var _this=this;this.config=Game.config.actor.getConfig(id);if(this.config){this.m_detailBtn.m_name.text=this.config.name;this.m_detailBtn.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=_this.config.starUrl},null,false);this.m_detailBtn.m_starList.numItems=this.config.starNum;this.m_need.text=formatNumberUnit(this.config.cost.itemNum);this.m_icon.icon=Game.config.avatar.getConfig(this.config.avatar).bodyIconUrl}if(Game.moduleModel.actor.hasActor(id)){this.m_giftBtn.visible=true;this.m_already.visible=true;this.m_tAlready.visible=true;this.m_detailBtn.m_name.text=Game.moduleModel.actor.getActor(id).name}else{this.m_giftBtn.visible=false;this.m_already.visible=false;this.m_tAlready.visible=false}};return ArtistScoutResultItem}(PfSkin.ArtistScoutResultItemStruct));PfSkin.ArtistScoutResultItem=ArtistScoutResultItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutResultUIStruct=(function(_super){__extends(ArtistScoutResultUIStruct,_super);function ArtistScoutResultUIStruct(){return _super.call(this)||this}ArtistScoutResultUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistScoutResultUI"))};ArtistScoutResultUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_visible_effect=this.getController("c_visible_effect");this.m_dianzan=(this.getChild("dianzan"));this.m_zuanshi=(this.getChild("zuanshi"));this.m_leaveLabel=(this.getChild("leaveLabel"));this.m_list=(this.getChild("list"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_resetBtn=(this.getChild("resetBtn"));this.m_speedBtn=(this.getChild("speedBtn"));this.m_effect=(this.getChild("effect"))};ArtistScoutResultUIStruct.URL="ui://s33x8418jazc1l9";ArtistScoutResultUIStruct.DependPackages=["PfSkin","Common","WarMovie","Fx"];return ArtistScoutResultUIStruct}(fairygui.GComponent));PfSkin.ArtistScoutResultUIStruct=ArtistScoutResultUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutResultUI=(function(_super){__extends(ArtistScoutResultUI,_super);function ArtistScoutResultUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistScoutResultUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_resetBtn.text=Games.TEXT.ResetNose;this.m_list.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_resetBtn.onClick(this,this.onClickResetBtn);this.m_speedBtn.onClick(this,this.onClickSpeedBtn);this.m_c_visible_effect.selectedIndex=0};ArtistScoutResultUI.prototype.onClickResetBtn=function(){var _this=this;if(Game.moduleModel.actor.actorIsMax){Game.system.toastText(Games.TEXT.ActorMax)}else{if(Game.moduleModel.actor.isMaxNose){Game.system.openGoOtherFunc(Games.OtherFunctionType.ActorStarCard,Games.TEXT.TitleTip,TEXT.SystemGoOtherFunction_Desc_2,function(){var cost=GlobalConfig.getValue1(GlobalKey.KEY_1008_JiangZhiTanCha__PinHeShuLiang);var enough=Games.ItemHelper.checkItemEnough3(cost);if(enough){_this.costToNoseActor(function(){Game.protosender.Actor.noseInfoActor(true)})}else{Game.system.openItemWay(cost[0],cost[1])}})}else{Game.system.confirmText(Games.TEXT.SureResetActors,null,null,function(){_this.costToNoseActor(function(){Game.protosender.Actor.noseInfoActor(false)})})}}};ArtistScoutResultUI.prototype.costToNoseActor=function(callBack){var cost=GlobalConfig.getValue1(GlobalKey.KEY_1001_TanChaXiaoHao);var enough=Games.ItemHelper.checkItemEnough3(cost);if(enough){if(callBack){callBack()}}else{Game.system.openItemWay(cost[0],cost[1])}};ArtistScoutResultUI.prototype.onClickSpeedBtn=function(){var _this=this;if(Game.moduleModel.actor.actorIsMax){Game.system.toastText(Games.TEXT.ActorMax)}else{Game.system.openGoOtherFunc(Games.OtherFunctionType.ActorStarCard,Games.TEXT.TitleTip,TEXT.SystemGoOtherFunction_Desc_2,function(){var cost=GlobalConfig.getValue1(GlobalKey.KEY_1008_JiangZhiTanCha__PinHeShuLiang);if(Games.ItemHelper.checkItemEnough3(cost)){_this.costToNoseActor(function(){Game.protosender.Actor.noseInfoActor(true)})}else{Game.system.openItemWay(cost[0],cost[1])}})}};ArtistScoutResultUI.prototype.updateView=function(){var _this=this;this.m_c_visible_effect.selectedIndex=1;Game.sound.playSound(SoundKey.MM17_FoundArtist);this.m_effect.m_t0.play(Handler.create(null,function(){_this.m_c_visible_effect.selectedIndex=0}));this.scoutActors=User.info.noseIntoActorList;this.m_list.numItems=this.scoutActors.length;this.m_dianzan.text=formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.praise));this.m_zuanshi.text=formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.diamond));this.startTime()};ArtistScoutResultUI.prototype.onUpdateItem=function(index,item){var rItem=item;rItem.updateView(this.scoutActors[index])};ArtistScoutResultUI.prototype.startTime=function(){var nowTimes=Game.time.serverSeconds;this.resetTimes=0;var resetTimes=User.info.noseIntoTime+Game.moduleModel.actor.noseCdReset;if(resetTimes>nowTimes){this.resetTimes=resetTimes-nowTimes}this.leaveTimes=0;var leaveTimes=User.info.noseIntoActorEffectTime;if(leaveTimes>nowTimes){this.leaveTimes=leaveTimes-nowTimes}this.clearTime();if(this.leaveTimes>0||this.resetTimes>0){Laya.timer.loop(1000,this,this.onUpdateTime,null,true,true)}this.updateTimeView()};ArtistScoutResultUI.prototype.onUpdateTime=function(){if(this.resetTimes>0){this.resetTimes--;if(this.resetTimes<0){this.resetTimes=0}}if(this.leaveTimes>0){this.leaveTimes--;if(this.leaveTimes<=0){this.leaveTimes=0;this.moduleWindow.onClickCloseBtn()}}this.updateTimeView()};ArtistScoutResultUI.prototype.updateTimeView=function(){if(this.resetTimes>0){this.m_speedBtn.text=Games.TimeHelper.TimeFormat(this.resetTimes);this.m_speedBtn.visible=true;this.m_resetBtn.visible=false}else{this.m_speedBtn.visible=false;this.m_resetBtn.visible=true}if(this.leaveTimes>0){this.m_leaveLabel.text=Games.TEXT.ActorWillLeave1+Games.TimeHelper.TimeFormat2(this.leaveTimes)}};ArtistScoutResultUI.prototype.onWindowHide=function(){this.clearTime()};ArtistScoutResultUI.prototype.clearTime=function(){Laya.timer.clear(this,this.onUpdateTime)};return ArtistScoutResultUI}(PfSkin.ArtistScoutResultUIStruct));PfSkin.ArtistScoutResultUI=ArtistScoutResultUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutSuccessUIStruct=(function(_super){__extends(ArtistScoutSuccessUIStruct,_super);function ArtistScoutSuccessUIStruct(){return _super.call(this)||this}ArtistScoutSuccessUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistScoutSuccessUI"))};ArtistScoutSuccessUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_visible=this.getController("c_visible");this.m_icon=(this.getChild("icon"));this.m_starList=(this.getChild("starList"));this.m_nameGroup=(this.getChild("nameGroup"));this.m_content=(this.getChild("content"));this.m_firstGroup=(this.getChild("firstGroup"));this.m_rewardList=(this.getChild("rewardList"));this.m_secGroup=(this.getChild("secGroup"));this.m_name=(this.getChild("name"));this.m_desc1=(this.getChild("desc1"));this.m_desc2=(this.getChild("desc2"));this.m_confirmBtn=(this.getChild("confirmBtn"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_randomBtn=(this.getChild("randomBtn"))};ArtistScoutSuccessUIStruct.URL="ui://s33x8418jazc1la";ArtistScoutSuccessUIStruct.DependPackages=["PfSkin","Fx","Common"];return ArtistScoutSuccessUIStruct}(fairygui.GComponent));PfSkin.ArtistScoutSuccessUIStruct=ArtistScoutSuccessUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistScoutSuccessUI=(function(_super){__extends(ArtistScoutSuccessUI,_super);function ArtistScoutSuccessUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistScoutSuccessUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_confirmBtn.onClick(this,this.onClickConfirmBtn);this.m_randomBtn.onClick(this,this.onClickRandomBtn);this.m_content.promptText=format(Games.TEXT.Input4toNumChar,18);this.m_content.input.maxChars=18;this.m_rewardList.itemRenderer=Handler.create(this,this.updateRewardItemHandler,null,false);this.m_closeBtn.visible=false};ArtistScoutSuccessUI.prototype.updateRewardItemHandler=function(index,item){item.updateViewByDTNum(this.actorData.config.recruit_reward[index])};ArtistScoutSuccessUI.prototype.showFirstGroup=function(){this.getRandomNames();var promptText=format(Games.TEXT.RenameForActor,(this.actorData.config.sex==1101?Games.TEXT.She:Games.TEXT.He));this.m_content.promptText=promptText;this.m_content.text="";this.m_desc1.text=Games.TEXT.NoseSuccess;this.m_desc2.text=Games.TEXT.NewActorJoin;this.m_confirmBtn.text=Games.TEXT.Rename;this.m_c_visible.selectedIndex=0;Game.sound.playSound(SoundKey.MM12_RecruitArtist)};ArtistScoutSuccessUI.prototype.showSecondGroup=function(){this.m_confirmBtn.text=Games.TEXT.Sure;this.m_c_visible.selectedIndex=1;this.m_rewardList.numItems=this.actorData.config.recruit_reward.length;this.m_desc2.text=Games.TEXT.SameActorJoin;this.m_desc1.text=Games.TEXT.ActorRecoverToDealAsset};ArtistScoutSuccessUI.prototype.updateView=function(data,isSecond){var _this=this;if(isSecond===void 0){isSecond=false}this.actorData=data;this.isSecond=isSecond;this.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=_this.actorData.config.starUrl},null,false);this.m_starList.numItems=this.actorData.star;this.m_icon.icon=Game.config.avatar.getConfig(this.actorData.config.avatar).bodyIconUrl;if(isSecond){this.m_name.text=this.actorData.name;this.showSecondGroup()}else{this.m_name.text=this.actorData.config.name;this.showFirstGroup()}};ArtistScoutSuccessUI.prototype.closeMenu=function(){if(this.isSecond==false){Game.menu.open(MenuId.ArtistGet,this.actorData)}Game.menu.close(MenuId.ArtistScoutSuccess)};ArtistScoutSuccessUI.prototype.changeName=function(name){this.actorData.name=name;Game.protosender.Actor.actorChangeName(this.actorData.uuid,name);this.closeMenu()};ArtistScoutSuccessUI.prototype.onClickConfirmBtn=function(){var _this=this;if(this.isSecond){this.closeMenu()}else{if(this.m_content.text!=""){if(validateOtherName(this.m_content.text)){this.changeName(this.m_content.text)}}else{Game.system.confirmText(Games.TEXT.SureUseDefaultName,null,null,function(){_this.changeName(_this.actorData.config.name)})}}};ArtistScoutSuccessUI.prototype.onClickRandomBtn=function(){this.m_content.text=this.curRandomNames[this.randomIndex];this.randomIndex++;if(this.randomIndex>=this.curRandomNames.length){this.randomIndex=0}};ArtistScoutSuccessUI.prototype.getRandomNames=function(){this.curRandomNames=Game.config.gameRandomName.getConfig(this.actorData.config.random_name).names;this.randomIndex=Math.floor(this.curRandomNames.length*Math.random())};return ArtistScoutSuccessUI}(PfSkin.ArtistScoutSuccessUIStruct));PfSkin.ArtistScoutSuccessUI=ArtistScoutSuccessUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistShareUIStruct=(function(_super){__extends(ArtistShareUIStruct,_super);function ArtistShareUIStruct(){return _super.call(this)||this}ArtistShareUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistShareUI"))};ArtistShareUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_signActor=(this.getChild("signActor"));this.m_share=(this.getChild("share"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_shareBtn=(this.getChild("shareBtn"))};ArtistShareUIStruct.URL="ui://s33x8418eb3n1o9";ArtistShareUIStruct.DependPackages=["PfSkin","Common","Fx"];return ArtistShareUIStruct}(fairygui.GComponent));PfSkin.ArtistShareUIStruct=ArtistShareUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistShareUI=(function(_super){__extends(ArtistShareUI,_super);function ArtistShareUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistShareUI.prototype.updateView=function(data){this.m_icon.icon=data.config.avatarConfig.bodyIconUrl;this.m_name.text=data.name;this.m_shareBtn.visible=false};ArtistShareUI.prototype.onWindowShow=function(){this.m_shareBtn.onClick(this,this.onClickShareBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};ArtistShareUI.prototype.onWindowHide=function(){this.m_shareBtn.offClick(this,this.onClickShareBtn);this.m_closeBtn.offClick(this,this.onClickCloseBtn)};ArtistShareUI.prototype.onClickShareBtn=function(){};ArtistShareUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};return ArtistShareUI}(PfSkin.ArtistShareUIStruct));PfSkin.ArtistShareUI=ArtistShareUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistSkillItemStruct=(function(_super){__extends(ArtistSkillItemStruct,_super);function ArtistSkillItemStruct(){return _super.call(this)||this}ArtistSkillItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistSkillItem"))};ArtistSkillItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_skillName=(this.getChild("skillName"));this.m_desc=(this.getChild("desc"));this.m_lv=(this.getChild("lv"));this.m_cost=(this.getChild("cost"));this.m_unLockGroup=(this.getChild("unLockGroup"));this.m_lock=(this.getChild("lock"));this.m_condition=(this.getChild("condition"));this.m_lockGroup=(this.getChild("lockGroup"));this.m_skill=(this.getChild("skill"));this.m_upgradeBtn=(this.getChild("upgradeBtn"))};ArtistSkillItemStruct.URL="ui://s33x8418jazc1m2";ArtistSkillItemStruct.DependPackages=["PfSkin","Common"];return ArtistSkillItemStruct}(fairygui.GComponent));PfSkin.ArtistSkillItemStruct=ArtistSkillItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistSkillItem=(function(_super){__extends(ArtistSkillItem,_super);function ArtistSkillItem(){return _super!==null&&_super.apply(this,arguments)||this}ArtistSkillItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_desc.ubbEnabled=true;this.m_upgradeBtn.onClick(this,this.onClickUpgradeBtn)};ArtistSkillItem.prototype.onClickUpgradeBtn=function(){if(this.isHasNextLv){if(this.actorData.skillExp>=this.config.exp){Game.protosender.Actor.upgradeActorSkill(this.actorData.uuid,this.config.id)}else{Game.system.openGoOtherFunc(Games.OtherFunctionType.ActorSkillExp)}}else{Game.system.toastText(Games.TEXT.SkillLvMaxTip)}};ArtistSkillItem.prototype.updateView=function(data,index){this.actorData=data;var skill=data.skills[index];if(skill){this.config=skill.config;if(skill.dtActor.lv>data.level){this.m_unLockGroup.visible=false;this.m_lockGroup.visible=true;this.m_condition.text=format(Games.TEXT.UnlockSkill,skill.dtActor.lv)}else{this.m_unLockGroup.visible=true;this.m_lockGroup.visible=false;this.m_skillName.text=this.config.name;this.m_desc.text=skill.desc;this.m_lv.text=Games.TEXT.Level+this.config.lv;this.m_cost.text=this.config.exp+"";var nextConfig=Game.config.skill.getConfigByGroupIdAndLv(this.config.group_id,this.config.lv+1);if(nextConfig){this.isHasNextLv=true;this.m_cost.text=this.config.exp+""}else{this.isHasNextLv=false;this.m_cost.text=Games.TEXT.MaxLevel}this.m_skill.icon=skill.iconUrl}}};return ArtistSkillItem}(PfSkin.ArtistSkillItemStruct));PfSkin.ArtistSkillItem=ArtistSkillItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistSkillPanelStruct=(function(_super){__extends(ArtistSkillPanelStruct,_super);function ArtistSkillPanelStruct(){return _super.call(this)||this}ArtistSkillPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistSkillPanel"))};ArtistSkillPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_skillexp=(this.getChild("skillexp"));this.m_exp=(this.getChild("exp"));this.m_energy2=(this.getChild("energy2"));this.m_list=(this.getChild("list"));this.m_energyBar=(this.getChild("energyBar"))};ArtistSkillPanelStruct.URL="ui://s33x8418jazc1lb";ArtistSkillPanelStruct.DependPackages=["PfSkin","Common"];return ArtistSkillPanelStruct}(fairygui.GComponent));PfSkin.ArtistSkillPanelStruct=ArtistSkillPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistSkillPanel=(function(_super){__extends(ArtistSkillPanel,_super);function ArtistSkillPanel(){return _super!==null&&_super.apply(this,arguments)||this}ArtistSkillPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_list.setVirtual()};ArtistSkillPanel.prototype.updateView=function(data){this.currentActor=data;this.skills=data.config.skill;this.m_list.numItems=this.skills.length;this.m_energyBar.max=data.staminaLimit;this.m_energyBar.value=data.stamina;this.m_energyBar.m_bar.width=this.m_energyBar.width*this.m_energyBar.value/this.m_energyBar.max;this.m_exp.text=data.skillExp+""};ArtistSkillPanel.prototype.onUpdateItem=function(index,item){var aitem=item;aitem.updateView(this.currentActor,index)};return ArtistSkillPanel}(PfSkin.ArtistSkillPanelStruct));PfSkin.ArtistSkillPanel=ArtistSkillPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTabBtnStruct=(function(_super){__extends(ArtistTabBtnStruct,_super);function ArtistTabBtnStruct(){return _super.call(this)||this}ArtistTabBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTabBtn"))};ArtistTabBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};ArtistTabBtnStruct.URL="ui://s33x8418jazc1m3";ArtistTabBtnStruct.DependPackages=["PfSkin","Common"];return ArtistTabBtnStruct}(fairygui.GButton));PfSkin.ArtistTabBtnStruct=ArtistTabBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTabBtn=(function(_super){__extends(ArtistTabBtn,_super);function ArtistTabBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistTabBtn}(PfSkin.ArtistTabBtnStruct));PfSkin.ArtistTabBtn=ArtistTabBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTagStruct=(function(_super){__extends(ArtistTagStruct,_super);function ArtistTagStruct(){return _super.call(this)||this}ArtistTagStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTag"))};ArtistTagStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ArtistTagStruct.URL="ui://s33x8418jazc1m4";ArtistTagStruct.DependPackages=["PfSkin"];return ArtistTagStruct}(fairygui.GButton));PfSkin.ArtistTagStruct=ArtistTagStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTag=(function(_super){__extends(ArtistTag,_super);function ArtistTag(){return _super!==null&&_super.apply(this,arguments)||this}ArtistTag.prototype.updateViewByCharacter=function(mchar){this.title=Game.config.property.getConfig(mchar.character).name;this.tip=Game.config.msg.getConfig(3000+mchar.lv).notice;this.m_c1.selectedIndex=mchar.lv-1};ArtistTag.prototype.updateViewByFeatureType=function(feature){this.title=Game.config.property.getConfig(feature.feature).name;this.tip=Game.config.msg.getConfig(3000+feature.lv).notice;this.m_c1.selectedIndex=feature.lv-1};ArtistTag.prototype.updateViewByStoryType=function(story){this.title=Game.config.property.getConfig(story.story).name;this.tip=Game.config.msg.getConfig(3000+story.lv).notice;this.m_c1.selectedIndex=story.lv-1};return ArtistTag}(PfSkin.ArtistTagStruct));PfSkin.ArtistTag=ArtistTag})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTagTipStruct=(function(_super){__extends(ArtistTagTipStruct,_super);function ArtistTagTipStruct(){return _super.call(this)||this}ArtistTagTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTagTip"))};ArtistTagTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};ArtistTagTipStruct.URL="ui://s33x8418jazc1lc";ArtistTagTipStruct.DependPackages=["PfSkin"];return ArtistTagTipStruct}(fairygui.GLabel));PfSkin.ArtistTagTipStruct=ArtistTagTipStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTagTip=(function(_super){__extends(ArtistTagTip,_super);function ArtistTagTip(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistTagTip}(PfSkin.ArtistTagTipStruct));PfSkin.ArtistTagTip=ArtistTagTip})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainAttrUpItemStruct=(function(_super){__extends(ArtistTrainAttrUpItemStruct,_super);function ArtistTrainAttrUpItemStruct(){return _super.call(this)||this}ArtistTrainAttrUpItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTrainAttrUpItem"))};ArtistTrainAttrUpItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ArtistTrainAttrUpItemStruct.URL="ui://s33x8418jazc1m5";ArtistTrainAttrUpItemStruct.DependPackages=["PfSkin","Common"];return ArtistTrainAttrUpItemStruct}(fairygui.GButton));PfSkin.ArtistTrainAttrUpItemStruct=ArtistTrainAttrUpItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainAttrUpItem=(function(_super){__extends(ArtistTrainAttrUpItem,_super);function ArtistTrainAttrUpItem(){return _super!==null&&_super.apply(this,arguments)||this}return ArtistTrainAttrUpItem}(PfSkin.ArtistTrainAttrUpItemStruct));PfSkin.ArtistTrainAttrUpItem=ArtistTrainAttrUpItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainItem1Struct=(function(_super){__extends(ArtistTrainItem1Struct,_super);function ArtistTrainItem1Struct(){return _super.call(this)||this}ArtistTrainItem1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTrainItem1"))};ArtistTrainItem1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_starList=(this.getChild("starList"));this.m_name=(this.getChild("name"));this.m_level=(this.getChild("level"));this.m_expBar=(this.getChild("expBar"))};ArtistTrainItem1Struct.URL="ui://s33x8418jazc1m6";ArtistTrainItem1Struct.DependPackages=["PfSkin","Common"];return ArtistTrainItem1Struct}(fairygui.GButton));PfSkin.ArtistTrainItem1Struct=ArtistTrainItem1Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainItem1=(function(_super){__extends(ArtistTrainItem1,_super);function ArtistTrainItem1(){return _super!==null&&_super.apply(this,arguments)||this}ArtistTrainItem1.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ArtistTrainItem1.prototype.updateView=function(data){this.m_starList.itemRenderer=Handler.create(this,function(index,item){item.icon=data.config.starUrl},null,false);this.m_starList.numItems=data.star;this.m_level.text=Games.TEXT.Level+data.level;this.m_expBar.visible=false;this.m_name.text=data.name;this.m_icon.icon=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl};return ArtistTrainItem1}(PfSkin.ArtistTrainItem1Struct));PfSkin.ArtistTrainItem1=ArtistTrainItem1})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainItem2Struct=(function(_super){__extends(ArtistTrainItem2Struct,_super);function ArtistTrainItem2Struct(){return _super.call(this)||this}ArtistTrainItem2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTrainItem2"))};ArtistTrainItem2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_desc=(this.getChild("desc"));this.m_attrList=(this.getChild("attrList"));this.m_unlockGroup=(this.getChild("unlockGroup"));this.m_lockGroup=(this.getChild("lockGroup"));this.m_upgradeBtn=(this.getChild("upgradeBtn"))};ArtistTrainItem2Struct.URL="ui://s33x8418jazc1m7";ArtistTrainItem2Struct.DependPackages=["PfSkin"];return ArtistTrainItem2Struct}(fairygui.GComponent));PfSkin.ArtistTrainItem2Struct=ArtistTrainItem2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainItem2=(function(_super){__extends(ArtistTrainItem2,_super);function ArtistTrainItem2(){return _super!==null&&_super.apply(this,arguments)||this}ArtistTrainItem2.prototype.updateView=function(data,index,isMax){if(isMax===void 0){isMax=false}this.actorData=data;this.isMax=isMax;this.type=index+1;this.trainData=this.actorData.getNextTrainDataByType(index);this.m_desc.text=Games.TEXT.GetRandomTrainAttr;this.m_desc.visible=false;this.m_title.text=this.trainData.name;this.m_attrList.numItems=this.trainData.property.length;this.m_upgradeBtn.m_goldIcon.icon=Game.config.item.getConfig(this.trainData.cost[0].itemId).iconUrl;this.m_upgradeBtn.m_cardIcon.icon=Game.config.item.getConfig(this.trainData.cost[1].itemId).iconUrl;this.m_upgradeBtn.m_gold.text=data.upgradeTrainCostGoldNum(this.type)+"";this.m_upgradeBtn.m_page.text=formatNumberUnit(this.trainData.cost[1].itemNum)};ArtistTrainItem2.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_lockGroup.visible=false;this.m_attrList.itemRenderer=Handler.create(this,this.onUpdateAttrItem,null,false);this.m_upgradeBtn.onClick(this,this.onClickUpdateBtn)};ArtistTrainItem2.prototype.onClickUpdateBtn=function(){if(User.info.daysCultivateCount<User.trainNumCount){if(this.actorData.cultivateCount<this.actorData.cultivateCountLimit){this.checkItemEnough()}else{Game.system.toastText(Games.TEXT.ActorTrainMax)}}else{Game.system.toastText(Games.TEXT.CompanyTodayTrainMax)}};ArtistTrainItem2.prototype.checkItemEnough=function(){if(this.isMax){var enough=Games.ItemHelper.checkItemEnough3(GlobalConfig.getValue1(GlobalKey.KEY_1012_ZuanDanPeiYang__YiRenXiaoHao));if(enough){this.upgrade()}}else{this.upgrade()}};ArtistTrainItem2.prototype.upgrade=function(){var goldCost=new DTItemNum();goldCost.itemId=this.trainData.cost[0].itemId;goldCost.itemNum=this.actorData.upgradeTrainCostGoldNum(this.type);var cost=[goldCost,this.trainData.cost[1]];var enough=Games.ItemHelper.checkItemsEnough(cost);if(enough){Game.protosender.Actor.actorTrain(this.actorData.uuid,this.type,this.isMax)}else{var notEnoughItem=Games.ItemHelper.getItemNotEnough(cost);Game.system.openItemWay(notEnoughItem.itemId,notEnoughItem.itemNum)}};ArtistTrainItem2.prototype.onUpdateAttrItem=function(index,item){var item1=item;var dtRandom=this.trainData.property_interval[index];var min=dtRandom[0];var max=dtRandom[1];if(this.isMax){item1.title=format("+ {0} ~ {1}",max,max)}else{item1.title=format("+ {0} ~ {1}",min,max)}var propConfig=Game.config.property.getConfig(this.trainData.property[index]);item1.icon=Game.config.avatar.getConfig(propConfig.icon).iconUrl};return ArtistTrainItem2}(PfSkin.ArtistTrainItem2Struct));PfSkin.ArtistTrainItem2=ArtistTrainItem2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainResultUIStruct=(function(_super){__extends(ArtistTrainResultUIStruct,_super);function ArtistTrainResultUIStruct(){return _super.call(this)||this}ArtistTrainResultUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTrainResultUI"))};ArtistTrainResultUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c_action=this.getController("c_action");this.m_list=(this.getChild("list"));this.m_checktip1=(this.getChild("checktip1"));this.m_checktip2=(this.getChild("checktip2"));this.m_d1=(this.getChild("d1"));this.m_bedGroup=(this.getChild("bedGroup"));this.m_d2=(this.getChild("d2"));this.m_normalGroup=(this.getChild("normalGroup"));this.m_d3=(this.getChild("d3"));this.m_goodGroup=(this.getChild("goodGroup"));this.m_d4=(this.getChild("d4"));this.m_prefectGroup=(this.getChild("prefectGroup"));this.m_group=(this.getChild("group"));this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_vipCheckBox=(this.getChild("vipCheckBox"));this.m_container=(this.getChild("container"));this.m_effect1=(this.getChild("effect1"));this.m_effect2=(this.getChild("effect2"));this.m_effect3=(this.getChild("effect3"));this.m_effect4=(this.getChild("effect4"))};ArtistTrainResultUIStruct.URL="ui://s33x8418jazc1ld";ArtistTrainResultUIStruct.DependPackages=["PfSkin","Common","Fx"];return ArtistTrainResultUIStruct}(fairygui.GComponent));PfSkin.ArtistTrainResultUIStruct=ArtistTrainResultUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainResultUI=(function(_super){__extends(ArtistTrainResultUI,_super);function ArtistTrainResultUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.pos=new Point();return _this}ArtistTrainResultUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_checktip1.text=Games.TEXT.TrainCompleteRightNow;this.m_checktip2.text=Games.TEXT.HaveAgentCanComplete;this.m_okBtn.text=Games.TEXT.Sure};ArtistTrainResultUI.prototype.onWindowHide=function(){this.m_okBtn.offClick(this,this.onClickOkBtn);this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_vipCheckBox.offClick(this,this.onChangedState);if(this.avatar){this.avatar.dispose();this.avatar.removeSelf();this.avatar=null}};ArtistTrainResultUI.prototype.onWindowShow=function(){this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_vipCheckBox.onClick(this,this.onChangedState);this.m_d1.visible=this.m_d2.visible=this.m_d3.visible=this.m_d4.visible=false};ArtistTrainResultUI.prototype.onChangedState=function(){if(this.m_vipCheckBox.selected){this.setAutoTrain()}else{Game.moduleModel.secretary.isAutoActorTrain=this.m_vipCheckBox.selected}};ArtistTrainResultUI.prototype.setAutoTrain=function(){if(Game.moduleModel.secretary.isForever){Game.moduleModel.secretary.isAutoActorTrain=this.m_vipCheckBox.selected}else{Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_not_owned,Game.config.msg.getTxt(MsgKey.secretary_auto3)),TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(MenuId.Weal,1)},null,Game.config.msg.getTxt(MsgKey.go_to_hire),TEXT.ButtonCannel,false);this.m_vipCheckBox.selected=false}};ArtistTrainResultUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};ArtistTrainResultUI.prototype.onClickOkBtn=function(){this.moduleWindow.menuClose()};ArtistTrainResultUI.prototype.onUpdateItem=function(index,item){var item1=item;item1.updateView(this.actorData,this.attrchangeInfo[index])};ArtistTrainResultUI.prototype.updateView=function(arg){var _this=this;var uuid=arg[0];var attrChangeInfo=arg[1];this.attrchangeInfo=attrChangeInfo;var trainType=arg[2];if(this.attrChangeDic==null){this.attrChangeDic=new Dictionary()}this.attrChangeDic.clear();var curMax=0;for(var index=0;index<attrChangeInfo.length;index++){var element=attrChangeInfo[index];curMax+=element.value;this.attrChangeDic.add(element.attrId,element.value)}this.trainType=trainType;this.m_vipCheckBox.selected=Game.moduleModel.secretary.isAutoActorTrain;this.checkVipShow();this.actorData=Game.moduleModel.actor.getActorByUUid(uuid);this.m_list.numItems=attrChangeInfo.length;if(this.actorData){Game.system.playSkillEffect(this.actorData.id,Games.SkillTriggerType.upgrade_gold_cost);var trainData_1=this.actorData.getTrainDataByType(trainType);var max=0;for(var index=0;index<trainData_1.property.length;index++){var prop=trainData_1.property[index];for(var j=0;j<attrChangeInfo.length;j++){var element=attrChangeInfo[j];if(element.attrId==prop){max+=trainData_1.property_interval[index][1]}}}this.m_title.text=trainData_1.scene_name;var aInfo=Games.AvatarInfo.creatByAvatarId(this.actorData.id);this.avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=_this.avatar.getBounds();_this.m_container.displayObject.addChild(_this.avatar);_this.avatar.pos((_this.m_container.width)*0.5,bounds.height);_this.avatar.scale(0.4,0.4);_this.avatar.openShadow();_this.avatar.playAction(trainData_1.action)});this.m_c_action.selectedIndex=trainData_1.action==1017?1:0;var precent=Math.floor(curMax/max*100);if(precent>=0&&precent<=25){this.m_c1.selectedIndex=0}else{if(precent>25&&precent<=50){this.m_c1.selectedIndex=1}else{if(precent>50&&precent<=75){this.m_c1.selectedIndex=2}else{if(precent>75&&precent<=100){this.m_c1.selectedIndex=3}}}}}};ArtistTrainResultUI.prototype.checkVipShow=function(){Laya.timer.clear(this,this.showAll);var isAtOnceShow=Game.moduleModel.secretary.isAutoActorTrain;if(isAtOnceShow){this.isShowAll=true}else{var delay=0;switch(this.trainType){case 1:delay=GlobalConfig.getValue(GlobalKey.KEY_1027_YiRenPeiYang__ShiJianHaoMiao);this.effect=this.m_effect1.m_t0;break;case 2:delay=GlobalConfig.getValue(GlobalKey.KEY_1028_YiRenPeiYang__ShiJianHaoMiao);this.effect=this.m_effect2.m_t0;break;case 3:delay=GlobalConfig.getValue(GlobalKey.KEY_1029_YiRenPeiYang__ShiJianHaoMiao);this.effect=this.m_effect3.m_t0;break;case 4:delay=GlobalConfig.getValue(GlobalKey.KEY_1030_YiRenPeiYang__ShiJianHaoMiao);this.effect=this.m_effect4.m_t0;break;default:delay=GlobalConfig.getValue(GlobalKey.KEY_1030_YiRenPeiYang__ShiJianHaoMiao);this.effect=this.m_effect3.m_t0;break}this.isShowAll=false;Laya.timer.once(delay,this,this.showAll)}};ArtistTrainResultUI.prototype.showAll=function(){this.isShowAll=true;this.effect.play()};Object.defineProperty(ArtistTrainResultUI.prototype,"isShowAll",{set:function(value){this.m_group.visible=value;this.m_list.visible=value;this.m_okBtn.visible=value;this.m_closeBtn.visible=value;if(value){Game.sound.playSound(SoundKey.MM34_CultrueArtist)}},enumerable:true,configurable:true});return ArtistTrainResultUI}(PfSkin.ArtistTrainResultUIStruct));PfSkin.ArtistTrainResultUI=ArtistTrainResultUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainUIStruct=(function(_super){__extends(ArtistTrainUIStruct,_super);function ArtistTrainUIStruct(){return _super.call(this)||this}ArtistTrainUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistTrainUI"))};ArtistTrainUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_costTrain=(this.getChild("costTrain"));this.m_superTrainIcon=(this.getChild("superTrainIcon"));this.m_superTrainCost=(this.getChild("superTrainCost"));this.m_trainToGetMax=(this.getChild("trainToGetMax"));this.m_bottom=(this.getChild("bottom"));this.m_actorList=(this.getChild("actorList"));this.m_attrIcon1=(this.getChild("attrIcon1"));this.m_attrIcon2=(this.getChild("attrIcon2"));this.m_attrIcon3=(this.getChild("attrIcon3"));this.m_attrIcon4=(this.getChild("attrIcon4"));this.m_attrLabel1=(this.getChild("attrLabel1"));this.m_attrLabel2=(this.getChild("attrLabel2"));this.m_attrLabel3=(this.getChild("attrLabel3"));this.m_attrLabel4=(this.getChild("attrLabel4"));this.m_desc=(this.getChild("desc"));this.m_artistTrainTimes=(this.getChild("artistTrainTimes"));this.m_trainTimes=(this.getChild("trainTimes"));this.m_cardIcon=(this.getChild("cardIcon"));this.m_cardNum=(this.getChild("cardNum"));this.m_companyTrainTimes=(this.getChild("companyTrainTimes"));this.m_companyTimes=(this.getChild("companyTimes"));this.m_bgCom=(this.getChild("bgCom"));this.m_checkbox=(this.getChild("checkbox"));this.m_gold=(this.getChild("gold"));this.m_diamand=(this.getChild("diamand"))};ArtistTrainUIStruct.URL="ui://s33x8418jazc1le";ArtistTrainUIStruct.DependPackages=["PfSkin","Common"];return ArtistTrainUIStruct}(fairygui.GComponent));PfSkin.ArtistTrainUIStruct=ArtistTrainUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistTrainUI=(function(_super){__extends(ArtistTrainUI,_super);function ArtistTrainUI(){return _super!==null&&_super.apply(this,arguments)||this}ArtistTrainUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.attrLabels=[this.m_attrLabel1,this.m_attrLabel2,this.m_attrLabel3,this.m_attrLabel4];this.attrIcons=[this.m_attrIcon1,this.m_attrIcon2,this.m_attrIcon3,this.m_attrIcon4];this.m_list.itemRenderer=Handler.create(this,this.onUpdateItem,null,false);this.m_actorList.itemRenderer=Handler.create(this,this.onUpdateActorItem,null,false);this.m_actorList.on(fairygui.Events.CLICK_ITEM,this,this.onClickActorItem);this.m_checkbox.on(fairygui.Events.STATE_CHANGED,this,this.onChangedState);this.m_costTrain.text=Games.TEXT.DiamondTrain;this.m_trainToGetMax.text=Games.TEXT.DiamondMustBeMax;this.m_actorList.setVirtual();this.m_list.setVirtual()};ArtistTrainUI.prototype.onChangedState=function(){this.m_list.refreshVirtualList()};ArtistTrainUI.prototype.onClickActorItem=function(item){var index=this.m_actorList.getChildIndex(item);var realIndex=this.m_actorList.childIndexToItemIndex(index);this.currentActor=this.actors[realIndex];this.refreshView()};ArtistTrainUI.prototype.refreshView=function(){this.m_list.numItems=4;var props=this.currentActor.getProps();for(var index=0;index<props.length;index++){var id=props[index];var config=Game.config.property.getConfig(id);var field=config.field;var value=this.currentActor[field];this.attrIcons[index].icon=Game.config.avatar.getConfig(config.icon).iconUrl;this.attrLabels[index].text=value}this.m_artistTrainTimes.text=Games.TEXT.ActorCanUseTrain;this.m_trainTimes.text=format("{0}/{1}",this.currentActor.cultivateCount,this.currentActor.cultivateCountLimit);var dtItem=this.currentActor.getNextTrainDataByType(1).diamondsCost;this.m_superTrainCost.text=dtItem.itemNum+"";this.m_superTrainIcon.icon=dtItem.itemIconUrl;this.updateCompany();this.updateCard();this.m_desc.text=Games.TEXT.GetRandomTrainAttr};ArtistTrainUI.prototype.updateCompany=function(){this.m_companyTrainTimes.text=Games.TEXT.CompanyTodayTrain;this.m_companyTimes.text=format("{0}/{1}",User.info.daysCultivateCount,User.trainNumCount)};ArtistTrainUI.prototype.updateCard=function(){this.m_cardIcon.icon=Game.config.item.getConfig(5004).iconUrl;this.m_cardNum.text=formatNumberUnit(Game.moduleModel.item.getItemNum(5004));this.m_gold.setItemId(EItemId.gold);this.m_diamand.setItemId(EItemId.diamond)};ArtistTrainUI.prototype.onUpdateItem=function(index,item){var item2=item;item2.updateView(this.currentActor,index,this.m_checkbox.selected)};ArtistTrainUI.prototype.onUpdateActorItem=function(index,item){var item2=item;item2.updateView(this.actors[index])};ArtistTrainUI.prototype.updateView=function(id){this.selectedIndex=0;this.actors=Game.moduleModel.actor.getActors();if(id!=null){var actorData=Game.moduleModel.actor.getActor(id);this.selectedIndex=this.actors.indexOf(actorData)}this.m_actorList.numItems=this.actors.length;this.m_actorList.addSelection(this.selectedIndex,true);this.currentActor=this.actors[this.selectedIndex];this.refreshView()};ArtistTrainUI.prototype.onWindowShow=function(){console.log("show");Game.protoOkEvent.add(ProtoEventKey.ActorData,this.updateActorInfo,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateItemInfo,this);Game.protoOkEvent.add(ProtoEventKey.GameInfo,this.updateCompany,this)};ArtistTrainUI.prototype.updateActorInfo=function(){this.refreshView()};ArtistTrainUI.prototype.updateItemInfo=function(){this.updateCard()};ArtistTrainUI.prototype.onWindowHide=function(){console.log("hide");Game.protoOkEvent.remove(ProtoEventKey.ActorData,this.updateActorInfo,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateItemInfo,this);Game.protoOkEvent.remove(ProtoEventKey.GameInfo,this.updateCompany,this)};return ArtistTrainUI}(PfSkin.ArtistTrainUIStruct));PfSkin.ArtistTrainUI=ArtistTrainUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistUIStruct=(function(_super){__extends(ArtistUIStruct,_super);function ArtistUIStruct(){return _super.call(this)||this}ArtistUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtistUI"))};ArtistUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_roomIcon=(this.getChild("roomIcon"));this.m_title=(this.getChild("title"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_listPanel=(this.getChild("listPanel"));this.m_findPanel=(this.getChild("findPanel"))};ArtistUIStruct.URL="ui://s33x8418jazc1lf";ArtistUIStruct.DependPackages=["PfSkin","Common","WarMovie","Building"];return ArtistUIStruct}(fairygui.GComponent));PfSkin.ArtistUIStruct=ArtistUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtistUI=(function(_super){__extends(ArtistUI,_super);function ArtistUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildIndex=-1;return _this}ArtistUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ArtistUI.prototype.onClickCloseBtn=function(){if(this.tabIndex==Games.ArtistListSubType.FindPanel){this.showListPanel()}else{this.moduleWindow.menuClose()}};ArtistUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.hideBuildRoom()};ArtistUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.showBuildRoom();this.onShowWindow()};ArtistUI.prototype.onShowWindow=function(){var args=this.moduleWindow.menuParameter.args;if(args&&args.length>0){var param=args[0];if(param==1){this.showListPanel()}else{this.showFindPanel()}}else{this.showListPanel()}};ArtistUI.prototype.onOpenTab=function(tabIndex){switch(tabIndex){case Games.ArtistListSubType.FindPanel:this.m_findPanel.updateView();break;case Games.ArtistListSubType.ListPanel:this.m_listPanel.updateView();break;default:break}};ArtistUI.prototype.showFindPanel=function(){this.moduleWindow.openTab(Games.ArtistListSubType.FindPanel)};ArtistUI.prototype.showListPanel=function(){this.moduleWindow.openTab(Games.ArtistListSubType.ListPanel)};ArtistUI.prototype.showBuildRoom=function(){this.buildRoom=Games.AvatarManager.context.getRoomByType(Games.RoomType.Actor);if(this.buildRoom!=null){this.buildRoom.onRoomInScreen();this.buildRoom.setRoomFrameVisible(false);this.buildIndex=Games.AvatarManager.context.getRoomIndexByType(Games.RoomType.Actor);this.buildRoom.setXY(-20,-4);this.buildRoom.setScale(1.05,1.05);this.m_roomContainer.addChild(this.buildRoom)}};ArtistUI.prototype.hideBuildRoom=function(){if(this.buildRoom){this.buildRoom.setXY(0,0);this.buildRoom.setScale(1,1);this.buildRoom.setRoomFrameVisible(true);Games.AvatarManager.context.addRoomAt(this.buildRoom,this.buildIndex)}};ArtistUI.prototype.selectActor=function(lv){return this.m_listPanel.selectActor(lv)};return ArtistUI}(PfSkin.ArtistUIStruct));PfSkin.ArtistUI=ArtistUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtListExerciseItemStruct=(function(_super){__extends(ArtListExerciseItemStruct,_super);function ArtListExerciseItemStruct(){return _super.call(this)||this}ArtListExerciseItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtListExerciseItem"))};ArtListExerciseItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_noneActorBg=(this.getChild("noneActorBg"));this.m_onActorBg=(this.getChild("onActorBg"));this.m_timeText=(this.getChild("timeText"));this.m_desc=(this.getChild("desc"));this.m_costText=(this.getChild("costText"));this.m_assetIcon=(this.getChild("assetIcon"));this.m_onExpercise=(this.getChild("onExpercise"));this.m_t1=(this.getChild("t1"));this.m_tkey=(this.getChild("tkey"));this.m_tvalue=(this.getChild("tvalue"));this.m_completeExpercise=(this.getChild("completeExpercise"));this.m_noneActorDesc=(this.getChild("noneActorDesc"));this.m_iconLoader=(this.getChild("iconLoader"));this.m_bar=(this.getChild("bar"));this.m_quickBtn=(this.getChild("quickBtn"));this.m_iconBtn=(this.getChild("iconBtn"))};ArtListExerciseItemStruct.URL="ui://s33x8418rn1rt1vp";ArtListExerciseItemStruct.DependPackages=["PfSkin","Common","System"];return ArtListExerciseItemStruct}(fairygui.GComponent));PfSkin.ArtListExerciseItemStruct=ArtListExerciseItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtListExerciseItem=(function(_super){__extends(ArtListExerciseItem,_super);function ArtListExerciseItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.uuid="";_this.totalTime=0;_this.cutDownTime=0;_this.quickExperciseCost=0;_this.isComplete=false;return _this}ArtListExerciseItem.prototype.setInfo=function(uuid,info){this.uuid=uuid;this.info=info;this.totalTime=Game.config.global.getConfig(GlobalKey.Actor_Train_Time).value*60-MathDesign.calcActorExperciseDerateTime()*60;this.m_iconBtn.onClick(this,this.onActorExercise);this.m_quickBtn.onClick(this,this.onQuickExercise);this.m_quickBtn.m_title.text=TEXT.ActorExperciseExpedite;this.m_completeExpercise.visible=false;this.m_onActorBg.visible=false;this.m_noneActorBg.visible=false;if(info.uuid==""){this.m_noneActorBg.visible=true;this.m_iconBtn.visible=true;this.stopTimeCutdown();this.m_onExpercise.visible=false;this.m_timeText.text="";this.m_noneActorDesc.text=TEXT.ActorExperciserStart;this.m_iconLoader.url=""}else{var actorId=0;var actorData=Game.moduleModel.actor.getActorByUUid(info.uuid);if(actorData){actorId=actorData.id}this.actorCfg=Game.config.actor.getConfig(actorId);if(this.actorCfg){this.m_iconLoader.url=this.actorCfg.avatarConfig.bodyIconUrl}this.m_onActorBg.visible=true;this.m_iconBtn.visible=false;this.m_onExpercise.visible=true;this.m_desc.text=TEXT.ActorExperciserOn;this.m_noneActorDesc.text="";this.m_assetIcon.url=Game.config.item.getConfig(Games.AssetType.Diamond).iconUrl;this.startTimeCutdown()}};ArtListExerciseItem.prototype.dispose=function(){this.stopTimeCutdown()};Object.defineProperty(ArtListExerciseItem.prototype,"complete",{get:function(){return this.isComplete},enumerable:true,configurable:true});ArtListExerciseItem.prototype.startTimeCutdown=function(){this.cutDownTime=this.totalTime-Game.time.getSubSecondsPre(this.info.startTime);if(this.cutDownTime<=0){this.setExperciseComplete()}else{this.onTimeCutDown();Laya.timer.loop(1000,this,this.onTimeCutDown,null,true,true)}};ArtListExerciseItem.prototype.stopTimeCutdown=function(){Laya.timer.clear(this,this.onTimeCutDown)};ArtListExerciseItem.prototype.onTimeCutDown=function(){this.cutDownTime--;if(this.cutDownTime>=0){this.quickExperciseCost=this.getQuickExperciseCost(this.cutDownTime);this.updateQuickExperciseCost(this.cutDownTime);this.m_timeText.text=TimeHelper.TimeFormat(this.cutDownTime);this.m_bar.value=Math.round((this.totalTime-this.cutDownTime)*100/this.totalTime)}else{this.setExperciseComplete()}};ArtListExerciseItem.prototype.getQuickExperciseCost=function(leftTime){return Math.round(leftTime/60/5)};ArtListExerciseItem.prototype.updateQuickExperciseCost=function(leftTime){var cost=this.getQuickExperciseCost(leftTime);this.m_costText.text=cost.toString();if(cost==0){this.m_quickBtn.visible=false}};ArtListExerciseItem.prototype.onActorExercise=function(){console.log("onActorExercise");var selectActorPanel=PfSkin.ActorExperciseSelectPanel.createInstance();selectActorPanel.showForParent(this.uuid)};ArtListExerciseItem.prototype.onQuickExercise=function(){var _this=this;console.log("onQuickExercise");var cost=new DTItemNum();cost.itemId=Games.AssetType.Diamond;cost.itemNum=this.getQuickExperciseCost(this.cutDownTime);Game.system.confirmTextIcon([cost],TEXT.NoticeTitle,TEXT.ActorExperciseQuick,function(){if(!ItemHelper.checkItemEnough(cost)){Game.system.toastFormatText(TEXT.ToastTextItemNotEnough,ItemHelper.getItemName(cost.itemId));return}Game.protosender.Actor.ActorExerciseReward(_this.uuid,true)})};ArtListExerciseItem.prototype.setExperciseComplete=function(){this.stopTimeCutdown();this.m_t1.text=TEXT.ActorExperciceCompleteDesc;this.m_tkey.text=TEXT.ActorExperciceKey;var expVal=Game.config.global.getConfig(GlobalKey.Actor_Train_Exp).value;this.m_tvalue.text=MathDesign.calcActorExperciseExp().toString();this.m_completeExpercise.visible=true;this.m_onExpercise.visible=false;this.isComplete=true;this.m_bar.value=100};return ArtListExerciseItem}(PfSkin.ArtListExerciseItemStruct));PfSkin.ArtListExerciseItem=ArtListExerciseItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtListExerciseUIStruct=(function(_super){__extends(ArtListExerciseUIStruct,_super);function ArtListExerciseUIStruct(){return _super.call(this)||this}ArtListExerciseUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ArtListExerciseUI"))};ArtListExerciseUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_listItem=(this.getChild("listItem"));this.m_effectText=(this.getChild("effectText"));this.m_levelText=(this.getChild("levelText"));this.m_slotText=(this.getChild("slotText"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_addSlotBtn=(this.getChild("addSlotBtn"))};ArtListExerciseUIStruct.URL="ui://s33x8418rn1rt1vr";ArtListExerciseUIStruct.DependPackages=["PfSkin","Common","Building"];return ArtListExerciseUIStruct}(fairygui.GComponent));PfSkin.ArtListExerciseUIStruct=ArtListExerciseUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ArtListExerciseUI=(function(_super){__extends(ArtListExerciseUI,_super);function ArtListExerciseUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildIndex=-1;return _this}ArtListExerciseUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.onClosePanel);this.m_addSlotBtn.onClick(this,this.onAddSlotClick)};ArtListExerciseUI.prototype.onWindowShow=function(){this.showActorRoom();var roomLevel=Game.moduleModel.building.getRoomLevel(Games.RoomType.Training);this.m_levelText.text=format(Game.config.msg.getTxtFormat(MsgKey.train_title_level,roomLevel));this.m_effectText.text=format(Game.config.msg.getTxtFormat(MsgKey.train_title_tips,MathDesign.calcActorExperciseExp()));this.updateListView();this.m_listItem.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);Game.protoOkEvent.add(ProtoEventKey.Actor_ActorExerciseStart,this.callBackActorExerciseStart,this);Game.protoOkEvent.add(ProtoEventKey.Actor_ActorExerciseAdd,this.callBackActorExerciseAdd,this);Game.protoOkEvent.add(ProtoEventKey.Actor_ActorExerciseReward,this.callBackActorExerciseReward,this)};ArtListExerciseUI.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.Actor_ActorExerciseStart,this.callBackActorExerciseStart,this);Game.protoOkEvent.remove(ProtoEventKey.Actor_ActorExerciseAdd,this.callBackActorExerciseAdd,this);Game.protoOkEvent.remove(ProtoEventKey.Actor_ActorExerciseReward,this.callBackActorExerciseReward,this);this.m_listItem.off(fairygui.Events.CLICK_ITEM,this,this.onClickItem);this.hideActorRoom()};ArtListExerciseUI.prototype.onClosePanel=function(){Game.menu.close(MenuId.ArtListExercise)};ArtListExerciseUI.prototype.callBackActorExerciseStart=function(proto){this.updateListView();Game.event.dispatch(GameEventKey.GameEventKey_ActorExperciseStart,proto.aId)};ArtListExerciseUI.prototype.callBackActorExerciseReward=function(proto){this.updateListView();Game.event.dispatch(GameEventKey.GameEventKey_ActorExperciseEnd,proto.aId,proto.eId)};ArtListExerciseUI.prototype.callBackActorExerciseAdd=function(proto){this.updateListView()};ArtListExerciseUI.prototype.onClickItem=function(item){if(item.isComplete){Game.protosender.Actor.ActorExerciseReward(item.uuid,false)}};ArtListExerciseUI.prototype.updateListView=function(){var actorExerciseDataList=Game.moduleModel.actor.getExperciseDataList();actorExerciseDataList.sort(function(a,b){return a.seatIndex-b.seatIndex});this.m_listItem.removeChildrenToPool();for(var i=0;i<actorExerciseDataList.length;i++){var actorExerciseData=actorExerciseDataList[i];var exerciseItem=this.m_listItem.addItemFromPool();exerciseItem.setInfo(actorExerciseData.seatUuid,actorExerciseData);this.m_listItem.addChild(exerciseItem)}this.m_slotText.text=Game.config.msg.getTxtFormat(MsgKey.train_area_tips,Game.moduleModel.actor.onExperciseCount,actorExerciseDataList.length)};ArtListExerciseUI.prototype.onAddSlotClick=function(){console.log("onAddSlotClick");var slotCount=Game.moduleModel.actor.getActorExerciseDataKeys().length;var slotCostList=Game.config.global.getConfig(GlobalKey.Training_Area_Price).value2;if(slotCount>=slotCostList.length+1){Game.system.toastText(TEXT.ActorExperciseMaxLine);return}Game.system.confirmTextIcon(this.getSoltCost(),TEXT.NoticeTitle,TEXT.ActorExperciseUnlock,function(){var currentCost=slotCostList[slotCount-1];if(ItemHelper.checkItemEnough2(currentCost.v1,currentCost.v2)){Game.protosender.Actor.ActorExerciseAdd()}else{Game.system.toastText(format(TEXT.ToastTextItemNotEnough2,ItemHelper.getItemName(currentCost.v1),currentCost.v2))}})};ArtListExerciseUI.prototype.getSoltCost=function(){var result=new DTItemNum();var priceList=Game.config.global.getConfig(GlobalKey.Training_Area_Price).value2;var currentSoltCount=Game.moduleModel.actor.getExperciseDataList().length;var minIndex=Math.min(currentSoltCount,priceList.length-1);minIndex=Math.max(0,minIndex-1);var price=priceList[minIndex];if(price){result.itemId=price.v1;result.itemNum=price.v2}return[result]};ArtListExerciseUI.prototype.showActorRoom=function(){this.buildRoom=Games.AvatarManager.context.getRoomByType(Games.RoomType.Training);if(this.buildRoom!=null){this.buildRoom.onRoomInScreen();this.buildRoom.setRoomFrameVisible(false);this.buildRoom.setXY(-20,-15);this.buildRoom.setScale(1.05,1.05);this.buildIndex=Games.AvatarManager.context.getRoomIndexByType(Games.RoomType.Training);this.m_roomContainer.addChild(this.buildRoom)}};ArtListExerciseUI.prototype.hideActorRoom=function(){if(this.buildRoom){this.buildRoom.setXY(0,0);this.buildRoom.setScale(1,1);this.buildRoom.setRoomFrameVisible(true);Games.AvatarManager.context.addRoomAt(this.buildRoom,this.buildIndex)}};return ArtListExerciseUI}(PfSkin.ArtListExerciseUIStruct));PfSkin.ArtListExerciseUI=ArtListExerciseUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AssetLoyaltyBarStruct=(function(_super){__extends(AssetLoyaltyBarStruct,_super);function AssetLoyaltyBarStruct(){return _super.call(this)||this}AssetLoyaltyBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","AssetLoyaltyBar"))};AssetLoyaltyBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_love=(this.getChild("love"));this.m_title=(this.getChild("title"));this.m_assetBar=(this.getChild("assetBar"))};AssetLoyaltyBarStruct.URL="ui://s33x8418js171nu";AssetLoyaltyBarStruct.DependPackages=["PfSkin","Common"];return AssetLoyaltyBarStruct}(fairygui.GLabel));PfSkin.AssetLoyaltyBarStruct=AssetLoyaltyBarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AssetLoyaltyBar=(function(_super){__extends(AssetLoyaltyBar,_super);function AssetLoyaltyBar(){return _super!==null&&_super.apply(this,arguments)||this}return AssetLoyaltyBar}(PfSkin.AssetLoyaltyBarStruct));PfSkin.AssetLoyaltyBar=AssetLoyaltyBar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AttrUpViewStruct=(function(_super){__extends(AttrUpViewStruct,_super);function AttrUpViewStruct(){return _super.call(this)||this}AttrUpViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","AttrUpView"))};AttrUpViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_titleColor=this.getController("titleColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};AttrUpViewStruct.URL="ui://s33x8418l3ra1nm";AttrUpViewStruct.DependPackages=["PfSkin","Common"];return AttrUpViewStruct}(fairygui.GLabel));PfSkin.AttrUpViewStruct=AttrUpViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AttrUpView=(function(_super){__extends(AttrUpView,_super);function AttrUpView(){return _super!==null&&_super.apply(this,arguments)||this}return AttrUpView}(PfSkin.AttrUpViewStruct));PfSkin.AttrUpView=AttrUpView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AwardsInfoItemtsStruct=(function(_super){__extends(AwardsInfoItemtsStruct,_super);function AwardsInfoItemtsStruct(){return _super.call(this)||this}AwardsInfoItemtsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","AwardsInfoItem.ts"))};AwardsInfoItemtsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isSpecial=this.getController("isSpecial");this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"))};AwardsInfoItemtsStruct.URL="ui://s33x8418rjg3t1w3";AwardsInfoItemtsStruct.DependPackages=["PfSkin","Common"];return AwardsInfoItemtsStruct}(fairygui.GButton));PfSkin.AwardsInfoItemtsStruct=AwardsInfoItemtsStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var AwardsInfoItemts=(function(_super){__extends(AwardsInfoItemts,_super);function AwardsInfoItemts(){return _super!==null&&_super.apply(this,arguments)||this}return AwardsInfoItemts}(PfSkin.AwardsInfoItemtsStruct));PfSkin.AwardsInfoItemts=AwardsInfoItemts})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BagItemInfoStruct=(function(_super){__extends(BagItemInfoStruct,_super);function BagItemInfoStruct(){return _super.call(this)||this}BagItemInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BagItemInfo"))};BagItemInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_buttonType=this.getController("buttonType");this.m_ItemType=this.getController("ItemType");this.m_txtItemCount=(this.getChild("txtItemCount"));this.m_txtInfo=(this.getChild("txtInfo"));this.m_tipAct=(this.getChild("tipAct"));this.m_labItem=(this.getChild("labItem"));this.m_labPrice=(this.getChild("labPrice"));this.m_btnSale=(this.getChild("btnSale"));this.m_btnUse=(this.getChild("btnUse"));this.m_btnInfo=(this.getChild("btnInfo"));this.m_btnResolve=(this.getChild("btnResolve"));this.m_btnGive=(this.getChild("btnGive"));this.m_btnCompound=(this.getChild("btnCompound"))};BagItemInfoStruct.URL="ui://s33x8418ow2j1nq";BagItemInfoStruct.DependPackages=["PfSkin","MainUI","Common"];return BagItemInfoStruct}(fairygui.GComponent));PfSkin.BagItemInfoStruct=BagItemInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BagItemInfo=(function(_super){__extends(BagItemInfo,_super);function BagItemInfo(){return _super!==null&&_super.apply(this,arguments)||this}return BagItemInfo}(PfSkin.BagItemInfoStruct));PfSkin.BagItemInfo=BagItemInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BagMainPanelStruct=(function(_super){__extends(BagMainPanelStruct,_super);function BagMainPanelStruct(){return _super.call(this)||this}BagMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BagMainPanel"))};BagMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_select=this.getController("select");this.m_listBagItem=(this.getChild("listBagItem"));this.m_listTab=(this.getChild("listTab"));this.m_txtCapacity=(this.getChild("txtCapacity"));this.m_btnClose=(this.getChild("btnClose"));this.m_btnLv=(this.getChild("btnLv"));this.m_itemInfo=(this.getChild("itemInfo"))};BagMainPanelStruct.URL="ui://s33x8418mywn1k4";BagMainPanelStruct.DependPackages=["PfSkin","Common","MainUI"];return BagMainPanelStruct}(fairygui.GComponent));PfSkin.BagMainPanelStruct=BagMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BagMainPanel=(function(_super){__extends(BagMainPanel,_super);function BagMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}return BagMainPanel}(PfSkin.BagMainPanelStruct));PfSkin.BagMainPanel=BagMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnAddActerStruct=(function(_super){__extends(BtnAddActerStruct,_super);function BtnAddActerStruct(){return _super.call(this)||this}BtnAddActerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnAddActer"))};BtnAddActerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"))};BtnAddActerStruct.URL="ui://s33x8418mywn1kj";BtnAddActerStruct.DependPackages=["PfSkin","Common"];return BtnAddActerStruct}(fairygui.GButton));PfSkin.BtnAddActerStruct=BtnAddActerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnAddActer=(function(_super){__extends(BtnAddActer,_super);function BtnAddActer(){return _super!==null&&_super.apply(this,arguments)||this}return BtnAddActer}(PfSkin.BtnAddActerStruct));PfSkin.BtnAddActer=BtnAddActer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnAddActer_BlueStruct=(function(_super){__extends(BtnAddActer_BlueStruct,_super);function BtnAddActer_BlueStruct(){return _super.call(this)||this}BtnAddActer_BlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnAddActer_Blue"))};BtnAddActer_BlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"))};BtnAddActer_BlueStruct.URL="ui://s33x8418mywn1kc";BtnAddActer_BlueStruct.DependPackages=["PfSkin","Common"];return BtnAddActer_BlueStruct}(fairygui.GButton));PfSkin.BtnAddActer_BlueStruct=BtnAddActer_BlueStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnAddActer_Blue=(function(_super){__extends(BtnAddActer_Blue,_super);function BtnAddActer_Blue(){return _super!==null&&_super.apply(this,arguments)||this}return BtnAddActer_Blue}(PfSkin.BtnAddActer_BlueStruct));PfSkin.BtnAddActer_Blue=BtnAddActer_Blue})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnBigAddStruct=(function(_super){__extends(BtnBigAddStruct,_super);function BtnBigAddStruct(){return _super.call(this)||this}BtnBigAddStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnBigAdd"))};BtnBigAddStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnBigAddStruct.URL="ui://s33x8418itjot1xd";BtnBigAddStruct.DependPackages=["PfSkin","Common"];return BtnBigAddStruct}(fairygui.GButton));PfSkin.BtnBigAddStruct=BtnBigAddStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnBigAdd=(function(_super){__extends(BtnBigAdd,_super);function BtnBigAdd(){return _super!==null&&_super.apply(this,arguments)||this}return BtnBigAdd}(PfSkin.BtnBigAddStruct));PfSkin.BtnBigAdd=BtnBigAdd})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCityStruct=(function(_super){__extends(BtnCityStruct,_super);function BtnCityStruct(){return _super.call(this)||this}BtnCityStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnCity"))};BtnCityStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_isHome=this.getController("isHome");this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnCityStruct.URL="ui://s33x8418mywn1kh";BtnCityStruct.DependPackages=["PfSkin","WarMovie"];return BtnCityStruct}(fairygui.GButton));PfSkin.BtnCityStruct=BtnCityStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCity=(function(_super){__extends(BtnCity,_super);function BtnCity(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCity}(PfSkin.BtnCityStruct));PfSkin.BtnCity=BtnCity})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCityPointStruct=(function(_super){__extends(BtnCityPointStruct,_super);function BtnCityPointStruct(){return _super.call(this)||this}BtnCityPointStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnCityPoint"))};BtnCityPointStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"));this.m_tranOccupy=this.getTransition("tranOccupy")};BtnCityPointStruct.URL="ui://s33x8418mywn1kg";BtnCityPointStruct.DependPackages=["PfSkin"];return BtnCityPointStruct}(fairygui.GButton));PfSkin.BtnCityPointStruct=BtnCityPointStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCityPoint=(function(_super){__extends(BtnCityPoint,_super);function BtnCityPoint(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCityPoint}(PfSkin.BtnCityPointStruct));PfSkin.BtnCityPoint=BtnCityPoint})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCloseStruct=(function(_super){__extends(BtnCloseStruct,_super);function BtnCloseStruct(){return _super.call(this)||this}BtnCloseStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnClose"))};BtnCloseStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BtnCloseStruct.URL="ui://s33x8418mywn1k8";BtnCloseStruct.DependPackages=["PfSkin","Common"];return BtnCloseStruct}(fairygui.GButton));PfSkin.BtnCloseStruct=BtnCloseStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnClose=(function(_super){__extends(BtnClose,_super);function BtnClose(){return _super!==null&&_super.apply(this,arguments)||this}return BtnClose}(PfSkin.BtnCloseStruct));PfSkin.BtnClose=BtnClose})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCongratulateStruct=(function(_super){__extends(BtnCongratulateStruct,_super);function BtnCongratulateStruct(){return _super.call(this)||this}BtnCongratulateStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnCongratulate"))};BtnCongratulateStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isOpen=this.getController("isOpen");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"))};BtnCongratulateStruct.URL="ui://s33x8418yb8tt1vb";BtnCongratulateStruct.DependPackages=["PfSkin"];return BtnCongratulateStruct}(fairygui.GButton));PfSkin.BtnCongratulateStruct=BtnCongratulateStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnCongratulate=(function(_super){__extends(BtnCongratulate,_super);function BtnCongratulate(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCongratulate}(PfSkin.BtnCongratulateStruct));PfSkin.BtnCongratulate=BtnCongratulate})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnNextStruct=(function(_super){__extends(BtnNextStruct,_super);function BtnNextStruct(){return _super.call(this)||this}BtnNextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BtnNext"))};BtnNextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};BtnNextStruct.URL="ui://s33x8418ifoct1wl";BtnNextStruct.DependPackages=["PfSkin","Common"];return BtnNextStruct}(fairygui.GButton));PfSkin.BtnNextStruct=BtnNextStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnNext=(function(_super){__extends(BtnNext,_super);function BtnNext(){return _super!==null&&_super.apply(this,arguments)||this}return BtnNext}(PfSkin.BtnNextStruct));PfSkin.BtnNext=BtnNext})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnRoadShowStruct=(function(_super){__extends(BtnRoadShowStruct,_super);function BtnRoadShowStruct(){return _super.call(this)||this}BtnRoadShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","btnRoadShow"))};BtnRoadShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_labCost=(this.getChild("labCost"))};BtnRoadShowStruct.URL="ui://s33x8418udqe1um";BtnRoadShowStruct.DependPackages=["PfSkin"];return BtnRoadShowStruct}(fairygui.GButton));PfSkin.BtnRoadShowStruct=BtnRoadShowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnRoadShow=(function(_super){__extends(BtnRoadShow,_super);function BtnRoadShow(){return _super!==null&&_super.apply(this,arguments)||this}return BtnRoadShow}(PfSkin.BtnRoadShowStruct));PfSkin.BtnRoadShow=BtnRoadShow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnShopTabStruct=(function(_super){__extends(BtnShopTabStruct,_super);function BtnShopTabStruct(){return _super.call(this)||this}BtnShopTabStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","btnShopTab"))};BtnShopTabStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_grayed=this.getController("grayed");this.m_title=(this.getChild("title"))};BtnShopTabStruct.URL="ui://s33x8418ap5a1uw";BtnShopTabStruct.DependPackages=["PfSkin"];return BtnShopTabStruct}(fairygui.GButton));PfSkin.BtnShopTabStruct=BtnShopTabStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnShopTab=(function(_super){__extends(BtnShopTab,_super);function BtnShopTab(){return _super!==null&&_super.apply(this,arguments)||this}return BtnShopTab}(PfSkin.BtnShopTabStruct));PfSkin.BtnShopTab=BtnShopTab})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnTabStruct=(function(_super){__extends(BtnTabStruct,_super);function BtnTabStruct(){return _super.call(this)||this}BtnTabStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","btnTab"))};BtnTabStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_grayed=this.getController("grayed");this.m_title=(this.getChild("title"));this.m_red=(this.getChild("red"))};BtnTabStruct.URL="ui://s33x8418mywn1kn";BtnTabStruct.DependPackages=["PfSkin","MainUI","Common"];return BtnTabStruct}(fairygui.GButton));PfSkin.BtnTabStruct=BtnTabStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BtnTab=(function(_super){__extends(BtnTab,_super);function BtnTab(){return _super!==null&&_super.apply(this,arguments)||this}return BtnTab}(PfSkin.BtnTabStruct));PfSkin.BtnTab=BtnTab})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Btn_editor_nameStruct=(function(_super){__extends(Btn_editor_nameStruct,_super);function Btn_editor_nameStruct(){return _super.call(this)||this}Btn_editor_nameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","btn_editor_name"))};Btn_editor_nameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_editor_nameStruct.URL="ui://s33x8418l8141vd";Btn_editor_nameStruct.DependPackages=["PfSkin","Common"];return Btn_editor_nameStruct}(fairygui.GButton));PfSkin.Btn_editor_nameStruct=Btn_editor_nameStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Btn_editor_name=(function(_super){__extends(Btn_editor_name,_super);function Btn_editor_name(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_editor_name}(PfSkin.Btn_editor_nameStruct));PfSkin.Btn_editor_name=Btn_editor_name})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Btn_renameStruct=(function(_super){__extends(Btn_renameStruct,_super);function Btn_renameStruct(){return _super.call(this)||this}Btn_renameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","btn_rename"))};Btn_renameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_btnName=(this.getChild("btnName"))};Btn_renameStruct.URL="ui://s33x8418l8141vc";Btn_renameStruct.DependPackages=["PfSkin","Common"];return Btn_renameStruct}(fairygui.GButton));PfSkin.Btn_renameStruct=Btn_renameStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Btn_rename=(function(_super){__extends(Btn_rename,_super);function Btn_rename(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_rename}(PfSkin.Btn_renameStruct));PfSkin.Btn_rename=Btn_rename})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessLoadingPanelStruct=(function(_super){__extends(BusinessLoadingPanelStruct,_super);function BusinessLoadingPanelStruct(){return _super.call(this)||this}BusinessLoadingPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BusinessLoadingPanel"))};BusinessLoadingPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"))};BusinessLoadingPanelStruct.URL="ui://s33x8418jzhf1vb";BusinessLoadingPanelStruct.DependPackages=["PfSkin"];return BusinessLoadingPanelStruct}(fairygui.GComponent));PfSkin.BusinessLoadingPanelStruct=BusinessLoadingPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessLoadingPanel=(function(_super){__extends(BusinessLoadingPanel,_super);function BusinessLoadingPanel(){return _super!==null&&_super.apply(this,arguments)||this}return BusinessLoadingPanel}(PfSkin.BusinessLoadingPanelStruct));PfSkin.BusinessLoadingPanel=BusinessLoadingPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessMsgPanelStruct=(function(_super){__extends(BusinessMsgPanelStruct,_super);function BusinessMsgPanelStruct(){return _super.call(this)||this}BusinessMsgPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BusinessMsgPanel"))};BusinessMsgPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_read=this.getController("read");this.m_content=(this.getChild("content"));this.m_reward=(this.getChild("reward"));this.m_company=(this.getChild("company"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};BusinessMsgPanelStruct.URL="ui://s33x8418jzhf1va";BusinessMsgPanelStruct.DependPackages=["PfSkin"];return BusinessMsgPanelStruct}(fairygui.GComponent));PfSkin.BusinessMsgPanelStruct=BusinessMsgPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessMsgPanel=(function(_super){__extends(BusinessMsgPanel,_super);function BusinessMsgPanel(){return _super!==null&&_super.apply(this,arguments)||this}return BusinessMsgPanel}(PfSkin.BusinessMsgPanelStruct));PfSkin.BusinessMsgPanel=BusinessMsgPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessUIStruct=(function(_super){__extends(BusinessUIStruct,_super);function BusinessUIStruct(){return _super.call(this)||this}BusinessUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","BusinessUI"))};BusinessUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_mailGroup=(this.getChild("mailGroup"));this.m_remain=(this.getChild("remain"));this.m_auto=(this.getChild("auto"));this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_contentPanel=(this.getChild("contentPanel"));this.m_checkbox=(this.getChild("checkbox"));this.m_nextBtn=(this.getChild("nextBtn"));this.m_bar=(this.getChild("bar"))};BusinessUIStruct.URL="ui://s33x8418jzhf1v8";BusinessUIStruct.DependPackages=["PfSkin"];return BusinessUIStruct}(fairygui.GComponent));PfSkin.BusinessUIStruct=BusinessUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var BusinessUI=(function(_super){__extends(BusinessUI,_super);function BusinessUI(){return _super!==null&&_super.apply(this,arguments)||this}return BusinessUI}(PfSkin.BusinessUIStruct));PfSkin.BusinessUI=BusinessUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Button_CommonStruct=(function(_super){__extends(Button_CommonStruct,_super);function Button_CommonStruct(){return _super.call(this)||this}Button_CommonStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Button_Common"))};Button_CommonStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};Button_CommonStruct.URL="ui://s33x8418mywn1k6";Button_CommonStruct.DependPackages=["PfSkin"];return Button_CommonStruct}(fairygui.GButton));PfSkin.Button_CommonStruct=Button_CommonStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Button_Common=(function(_super){__extends(Button_Common,_super);function Button_Common(){return _super!==null&&_super.apply(this,arguments)||this}return Button_Common}(PfSkin.Button_CommonStruct));PfSkin.Button_Common=Button_Common})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CheckBoxStruct=(function(_super){__extends(CheckBoxStruct,_super);function CheckBoxStruct(){return _super.call(this)||this}CheckBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CheckBox"))};CheckBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};CheckBoxStruct.URL="ui://s33x8418n2px1n5";CheckBoxStruct.DependPackages=["PfSkin","Common"];return CheckBoxStruct}(fairygui.GButton));PfSkin.CheckBoxStruct=CheckBoxStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CheckBox=(function(_super){__extends(CheckBox,_super);function CheckBox(){return _super!==null&&_super.apply(this,arguments)||this}return CheckBox}(PfSkin.CheckBoxStruct));PfSkin.CheckBox=CheckBox})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CheckMarkStruct=(function(_super){__extends(CheckMarkStruct,_super);function CheckMarkStruct(){return _super.call(this)||this}CheckMarkStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CheckMark"))};CheckMarkStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1")};CheckMarkStruct.URL="ui://s33x8418eb3n1o0";CheckMarkStruct.DependPackages=["PfSkin","Common"];return CheckMarkStruct}(fairygui.GComponent));PfSkin.CheckMarkStruct=CheckMarkStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CheckMark=(function(_super){__extends(CheckMark,_super);function CheckMark(){return _super!==null&&_super.apply(this,arguments)||this}return CheckMark}(PfSkin.CheckMarkStruct));PfSkin.CheckMark=CheckMark})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CinemaIconStruct=(function(_super){__extends(CinemaIconStruct,_super);function CinemaIconStruct(){return _super.call(this)||this}CinemaIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CinemaIcon"))};CinemaIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CinemaIconStruct.URL="ui://s33x8418pn361w3";CinemaIconStruct.DependPackages=["PfSkin"];return CinemaIconStruct}(fairygui.GButton));PfSkin.CinemaIconStruct=CinemaIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CinemaIcon=(function(_super){__extends(CinemaIcon,_super);function CinemaIcon(){return _super!==null&&_super.apply(this,arguments)||this}return CinemaIcon}(PfSkin.CinemaIconStruct));PfSkin.CinemaIcon=CinemaIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CinemaSelectItemStruct=(function(_super){__extends(CinemaSelectItemStruct,_super);function CinemaSelectItemStruct(){return _super.call(this)||this}CinemaSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CinemaSelectItem"))};CinemaSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_txtCinemaNums=(this.getChild("txtCinemaNums"));this.m_txtLike=(this.getChild("txtLike"));this.m_txLevel=(this.getChild("txLevel"));this.m_icon=(this.getChild("icon"))};CinemaSelectItemStruct.URL="ui://s33x84186ia7t1v9";CinemaSelectItemStruct.DependPackages=["PfSkin","Common"];return CinemaSelectItemStruct}(fairygui.GButton));PfSkin.CinemaSelectItemStruct=CinemaSelectItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CinemaSelectItem=(function(_super){__extends(CinemaSelectItem,_super);function CinemaSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}return CinemaSelectItem}(PfSkin.CinemaSelectItemStruct));PfSkin.CinemaSelectItem=CinemaSelectItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CloseBtnStruct=(function(_super){__extends(CloseBtnStruct,_super);function CloseBtnStruct(){return _super.call(this)||this}CloseBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CloseBtn"))};CloseBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};CloseBtnStruct.URL="ui://s33x8418jazc1ma";CloseBtnStruct.DependPackages=["PfSkin","Common"];return CloseBtnStruct}(fairygui.GButton));PfSkin.CloseBtnStruct=CloseBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CloseBtn=(function(_super){__extends(CloseBtn,_super);function CloseBtn(){return _super!==null&&_super.apply(this,arguments)||this}return CloseBtn}(PfSkin.CloseBtnStruct));PfSkin.CloseBtn=CloseBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CollectBtnStruct=(function(_super){__extends(CollectBtnStruct,_super);function CollectBtnStruct(){return _super.call(this)||this}CollectBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CollectBtn"))};CollectBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};CollectBtnStruct.URL="ui://s33x8418jazc1mb";CollectBtnStruct.DependPackages=["PfSkin"];return CollectBtnStruct}(fairygui.GButton));PfSkin.CollectBtnStruct=CollectBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CollectBtn=(function(_super){__extends(CollectBtn,_super);function CollectBtn(){return _super!==null&&_super.apply(this,arguments)||this}return CollectBtn}(PfSkin.CollectBtnStruct));PfSkin.CollectBtn=CollectBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ComfirmUIStruct=(function(_super){__extends(ComfirmUIStruct,_super);function ComfirmUIStruct(){return _super.call(this)||this}ComfirmUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ComfirmUI"))};ComfirmUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_content=(this.getChild("content"));this.m_title=(this.getChild("title"));this.m_bgCom=(this.getChild("bgCom"));this.m_okBtn=(this.getChild("okBtn"));this.m_cancleBtn=(this.getChild("cancleBtn"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};ComfirmUIStruct.URL="ui://s33x8418jazc1lg";ComfirmUIStruct.DependPackages=["PfSkin","Common"];return ComfirmUIStruct}(fairygui.GComponent));PfSkin.ComfirmUIStruct=ComfirmUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ComfirmUI=(function(_super){__extends(ComfirmUI,_super);function ComfirmUI(){return _super!==null&&_super.apply(this,arguments)||this}return ComfirmUI}(PfSkin.ComfirmUIStruct));PfSkin.ComfirmUI=ComfirmUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonBtnStruct=(function(_super){__extends(CommonBtnStruct,_super);function CommonBtnStruct(){return _super.call(this)||this}CommonBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CommonBtn"))};CommonBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_red=(this.getChild("red"))};CommonBtnStruct.URL="ui://s33x8418jazc1mc";CommonBtnStruct.DependPackages=["PfSkin"];return CommonBtnStruct}(fairygui.GButton));PfSkin.CommonBtnStruct=CommonBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonBtn=(function(_super){__extends(CommonBtn,_super);function CommonBtn(){return _super!==null&&_super.apply(this,arguments)||this}return CommonBtn}(PfSkin.CommonBtnStruct));PfSkin.CommonBtn=CommonBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonBtn2Struct=(function(_super){__extends(CommonBtn2Struct,_super);function CommonBtn2Struct(){return _super.call(this)||this}CommonBtn2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CommonBtn2"))};CommonBtn2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CommonBtn2Struct.URL="ui://s33x8418jazc1md";CommonBtn2Struct.DependPackages=["PfSkin","Common"];return CommonBtn2Struct}(fairygui.GButton));PfSkin.CommonBtn2Struct=CommonBtn2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonBtn2=(function(_super){__extends(CommonBtn2,_super);function CommonBtn2(){return _super!==null&&_super.apply(this,arguments)||this}return CommonBtn2}(PfSkin.CommonBtn2Struct));PfSkin.CommonBtn2=CommonBtn2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonDialogUIStruct=(function(_super){__extends(CommonDialogUIStruct,_super);function CommonDialogUIStruct(){return _super.call(this)||this}CommonDialogUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CommonDialogUI"))};CommonDialogUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn=(this.getChild("closeBtn"))};CommonDialogUIStruct.URL="ui://s33x8418jazc1me";CommonDialogUIStruct.DependPackages=["PfSkin","Common"];return CommonDialogUIStruct}(fairygui.GComponent));PfSkin.CommonDialogUIStruct=CommonDialogUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonDialogUI=(function(_super){__extends(CommonDialogUI,_super);function CommonDialogUI(){return _super!==null&&_super.apply(this,arguments)||this}return CommonDialogUI}(PfSkin.CommonDialogUIStruct));PfSkin.CommonDialogUI=CommonDialogUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonIconStruct=(function(_super){__extends(CommonIconStruct,_super);function CommonIconStruct(){return _super.call(this)||this}CommonIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CommonIcon"))};CommonIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};CommonIconStruct.URL="ui://s33x8418pn361w4";CommonIconStruct.DependPackages=["PfSkin"];return CommonIconStruct}(fairygui.GButton));PfSkin.CommonIconStruct=CommonIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CommonIcon=(function(_super){__extends(CommonIcon,_super);function CommonIcon(){return _super!==null&&_super.apply(this,arguments)||this}return CommonIcon}(PfSkin.CommonIconStruct));PfSkin.CommonIcon=CommonIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CountryItemStruct=(function(_super){__extends(CountryItemStruct,_super);function CountryItemStruct(){return _super.call(this)||this}CountryItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","CountryItem"))};CountryItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_imgHome=(this.getChild("imgHome"));this.m_imgCountryIcon=(this.getChild("imgCountryIcon"));this.m_txtName=(this.getChild("txtName"));this.m_txtProgress=(this.getChild("txtProgress"))};CountryItemStruct.URL="ui://s33x8418mywn1km";CountryItemStruct.DependPackages=["PfSkin","Common"];return CountryItemStruct}(fairygui.GButton));PfSkin.CountryItemStruct=CountryItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var CountryItem=(function(_super){__extends(CountryItem,_super);function CountryItem(){return _super!==null&&_super.apply(this,arguments)||this}return CountryItem}(PfSkin.CountryItemStruct));PfSkin.CountryItem=CountryItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var DialogStruct=(function(_super){__extends(DialogStruct,_super);function DialogStruct(){return _super.call(this)||this}DialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Dialog"))};DialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};DialogStruct.URL="ui://s33x8418js171nw";DialogStruct.DependPackages=["PfSkin"];return DialogStruct}(fairygui.GComponent));PfSkin.DialogStruct=DialogStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Dialog=(function(_super){__extends(Dialog,_super);function Dialog(){return _super!==null&&_super.apply(this,arguments)||this}return Dialog}(PfSkin.DialogStruct));PfSkin.Dialog=Dialog})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var DialogUIStruct=(function(_super){__extends(DialogUIStruct,_super);function DialogUIStruct(){return _super.call(this)||this}DialogUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","DialogUI"))};DialogUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_close=(this.getChild("close"));this.m_dialog=(this.getChild("dialog"));this.m_t2=this.getTransition("t2")};DialogUIStruct.URL="ui://s33x8418js171nv";DialogUIStruct.DependPackages=["PfSkin","Common"];return DialogUIStruct}(fairygui.GComponent));PfSkin.DialogUIStruct=DialogUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var DialogUI=(function(_super){__extends(DialogUI,_super);function DialogUI(){return _super!==null&&_super.apply(this,arguments)||this}DialogUI.prototype.open=function(content,okFunc){var _this=this;this.m_dialog.m_title.text=content;this.okFunc=okFunc;Games.MenuLayer.dialog.addChild(this);setTimeout(function(){_this.close()},3000);setTimeout(function(){_this.onClick(_this,_this.close)},1000)};DialogUI.prototype.close=function(){this.offClick(this,this.close);this.removeFromParent();if(this.okFunc!==null){this.okFunc()}};return DialogUI}(PfSkin.DialogUIStruct));PfSkin.DialogUI=DialogUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var EmptyBtnStruct=(function(_super){__extends(EmptyBtnStruct,_super);function EmptyBtnStruct(){return _super.call(this)||this}EmptyBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","EmptyBtn"))};EmptyBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};EmptyBtnStruct.URL="ui://s33x8418lq441uj";EmptyBtnStruct.DependPackages=["PfSkin"];return EmptyBtnStruct}(fairygui.GButton));PfSkin.EmptyBtnStruct=EmptyBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var EmptyBtn=(function(_super){__extends(EmptyBtn,_super);function EmptyBtn(){return _super!==null&&_super.apply(this,arguments)||this}return EmptyBtn}(PfSkin.EmptyBtnStruct));PfSkin.EmptyBtn=EmptyBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GoodsLineStruct=(function(_super){__extends(GoodsLineStruct,_super);function GoodsLineStruct(){return _super.call(this)||this}GoodsLineStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","GoodsLine"))};GoodsLineStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Goods1=(this.getChild("Goods1"));this.m_Goods2=(this.getChild("Goods2"));this.m_Goods3=(this.getChild("Goods3"))};GoodsLineStruct.URL="ui://s33x8418kl6dt21p";GoodsLineStruct.DependPackages=["PfSkin","Common"];return GoodsLineStruct}(fairygui.GComponent));PfSkin.GoodsLineStruct=GoodsLineStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GoodsLine=(function(_super){__extends(GoodsLine,_super);function GoodsLine(){return _super!==null&&_super.apply(this,arguments)||this}GoodsLine.prototype.RenderItem=function(data,buyHandler){this.goodsLine=data;this.buyHandler=buyHandler;if(this.goodsLine&&this.goodsLine.length>0){if(this.goodsLine[0]){this.m_Goods1.visible=true;this.m_Goods1.RenderItem(this.goodsLine[0]);this.m_Goods1.buyHandler=this.buyHandler}else{this.m_Goods1.visible=false}if(this.goodsLine[1]){this.m_Goods2.visible=true;this.m_Goods2.RenderItem(this.goodsLine[1]);this.m_Goods2.buyHandler=this.buyHandler}else{this.m_Goods2.visible=false}if(this.goodsLine[2]){this.m_Goods3.visible=true;this.m_Goods3.RenderItem(this.goodsLine[2]);this.m_Goods3.buyHandler=this.buyHandler}else{this.m_Goods3.visible=false}}};return GoodsLine}(PfSkin.GoodsLineStruct));PfSkin.GoodsLine=GoodsLine})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupItemRewardDialogStruct=(function(_super){__extends(GroupItemRewardDialogStruct,_super);function GroupItemRewardDialogStruct(){return _super.call(this)||this}GroupItemRewardDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","GroupItemRewardDialog"))};GroupItemRewardDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};GroupItemRewardDialogStruct.URL="ui://s33x8418eb3n1o2";GroupItemRewardDialogStruct.DependPackages=["PfSkin","Common"];return GroupItemRewardDialogStruct}(fairygui.GComponent));PfSkin.GroupItemRewardDialogStruct=GroupItemRewardDialogStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupItemRewardDialog=(function(_super){__extends(GroupItemRewardDialog,_super);function GroupItemRewardDialog(){return _super!==null&&_super.apply(this,arguments)||this}GroupItemRewardDialog.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.updateItemRender,null,false)};GroupItemRewardDialog.prototype.updateItemRender=function(index,item){item.icon=Game.config.item.getConfig(this.items[index].itemId).iconUrl;item.text=this.items[index].itemNum+""};GroupItemRewardDialog.prototype.updateView=function(items){this.items=items;this.m_list.numItems=items.length;var line=items.length;this.m_list.viewWidth=(this.m_list.columnGap+75)*line};return GroupItemRewardDialog}(PfSkin.GroupItemRewardDialogStruct));PfSkin.GroupItemRewardDialog=GroupItemRewardDialog})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupMovieViewStruct=(function(_super){__extends(GroupMovieViewStruct,_super);function GroupMovieViewStruct(){return _super.call(this)||this}GroupMovieViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","GroupMovieView"))};GroupMovieViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_groupMovieRankList=(this.getChild("groupMovieRankList"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtMovieRank=(this.getChild("txtMovieRank"));this.m_txtMovieName=(this.getChild("txtMovieName"))};GroupMovieViewStruct.URL="ui://s33x8418oebq1vr";GroupMovieViewStruct.DependPackages=["PfSkin"];return GroupMovieViewStruct}(fairygui.GComponent));PfSkin.GroupMovieViewStruct=GroupMovieViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupMovieView=(function(_super){__extends(GroupMovieView,_super);function GroupMovieView(){return _super!==null&&_super.apply(this,arguments)||this}return GroupMovieView}(PfSkin.GroupMovieViewStruct));PfSkin.GroupMovieView=GroupMovieView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupRankViewStruct=(function(_super){__extends(GroupRankViewStruct,_super);function GroupRankViewStruct(){return _super.call(this)||this}GroupRankViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","GroupRankView"))};GroupRankViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_groupRankList=(this.getChild("groupRankList"));this.m_txtGroupMovie=(this.getChild("txtGroupMovie"));this.m_txtGroupMovieRank=(this.getChild("txtGroupMovieRank"));this.m_txtMovieTime=(this.getChild("txtMovieTime"));this.m_tip=(this.getChild("tip"))};GroupRankViewStruct.URL="ui://s33x8418oebq1vq";GroupRankViewStruct.DependPackages=["PfSkin"];return GroupRankViewStruct}(fairygui.GComponent));PfSkin.GroupRankViewStruct=GroupRankViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var GroupRankView=(function(_super){__extends(GroupRankView,_super);function GroupRankView(){return _super!==null&&_super.apply(this,arguments)||this}return GroupRankView}(PfSkin.GroupRankViewStruct));PfSkin.GroupRankView=GroupRankView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var HeadTipDialogPanelStruct=(function(_super){__extends(HeadTipDialogPanelStruct,_super);function HeadTipDialogPanelStruct(){return _super.call(this)||this}HeadTipDialogPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","HeadTipDialogPanel"))};HeadTipDialogPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};HeadTipDialogPanelStruct.URL="ui://s33x8418jzhf1vl";HeadTipDialogPanelStruct.DependPackages=["PfSkin"];return HeadTipDialogPanelStruct}(fairygui.GComponent));PfSkin.HeadTipDialogPanelStruct=HeadTipDialogPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var HeadTipDialogPanel=(function(_super){__extends(HeadTipDialogPanel,_super);function HeadTipDialogPanel(){return _super!==null&&_super.apply(this,arguments)||this}return HeadTipDialogPanel}(PfSkin.HeadTipDialogPanelStruct));PfSkin.HeadTipDialogPanel=HeadTipDialogPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var IconLabelItemStruct=(function(_super){__extends(IconLabelItemStruct,_super);function IconLabelItemStruct(){return _super.call(this)||this}IconLabelItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","IconLabelItem"))};IconLabelItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};IconLabelItemStruct.URL="ui://s33x8418jazc1mf";IconLabelItemStruct.DependPackages=["PfSkin","Common"];return IconLabelItemStruct}(fairygui.GButton));PfSkin.IconLabelItemStruct=IconLabelItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var IconLabelItem=(function(_super){__extends(IconLabelItem,_super);function IconLabelItem(){return _super!==null&&_super.apply(this,arguments)||this}return IconLabelItem}(PfSkin.IconLabelItemStruct));PfSkin.IconLabelItem=IconLabelItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemGetUIStruct=(function(_super){__extends(ItemGetUIStruct,_super);function ItemGetUIStruct(){return _super.call(this)||this}ItemGetUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ItemGetUI"))};ItemGetUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_content=(this.getChild("content"));this.m_title=(this.getChild("title"));this.m_bgCom=(this.getChild("bgCom"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};ItemGetUIStruct.URL="ui://s33x8418lrcb1no";ItemGetUIStruct.DependPackages=["PfSkin","Common"];return ItemGetUIStruct}(fairygui.GComponent));PfSkin.ItemGetUIStruct=ItemGetUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemGetUI=(function(_super){__extends(ItemGetUI,_super);function ItemGetUI(){return _super!==null&&_super.apply(this,arguments)||this}return ItemGetUI}(PfSkin.ItemGetUIStruct));PfSkin.ItemGetUI=ItemGetUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemIconStruct=(function(_super){__extends(ItemIconStruct,_super);function ItemIconStruct(){return _super.call(this)||this}ItemIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ItemIcon"))};ItemIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};ItemIconStruct.URL="ui://s33x8418oebq1vy";ItemIconStruct.DependPackages=["PfSkin","Common"];return ItemIconStruct}(fairygui.GButton));PfSkin.ItemIconStruct=ItemIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemIcon=(function(_super){__extends(ItemIcon,_super);function ItemIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ItemIcon}(PfSkin.ItemIconStruct));PfSkin.ItemIcon=ItemIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemNotEnoughUIStruct=(function(_super){__extends(ItemNotEnoughUIStruct,_super);function ItemNotEnoughUIStruct(){return _super.call(this)||this}ItemNotEnoughUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ItemNotEnoughUI"))};ItemNotEnoughUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bgCom=(this.getChild("bgCom"))};ItemNotEnoughUIStruct.URL="ui://s33x8418jazc1lh";ItemNotEnoughUIStruct.DependPackages=["PfSkin","Common"];return ItemNotEnoughUIStruct}(fairygui.GComponent));PfSkin.ItemNotEnoughUIStruct=ItemNotEnoughUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemNotEnoughUI=(function(_super){__extends(ItemNotEnoughUI,_super);function ItemNotEnoughUI(){return _super!==null&&_super.apply(this,arguments)||this}return ItemNotEnoughUI}(PfSkin.ItemNotEnoughUIStruct));PfSkin.ItemNotEnoughUI=ItemNotEnoughUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabAssetStruct=(function(_super){__extends(LabAssetStruct,_super);function LabAssetStruct(){return _super.call(this)||this}LabAssetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabAsset"))};LabAssetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};LabAssetStruct.URL="ui://s33x8418mywn1kb";LabAssetStruct.DependPackages=["PfSkin","Common"];return LabAssetStruct}(fairygui.GLabel));PfSkin.LabAssetStruct=LabAssetStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabAsset=(function(_super){__extends(LabAsset,_super);function LabAsset(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(LabAsset.prototype,"normalNumb",{set:function(num){var str=formatNumberUnit(num,num>=1000?1:0);this.title=str},enumerable:true,configurable:true});LabAsset.prototype.normalNumbs=function(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var str=formatArrayNumberUnit.apply(void 0,[fmat].concat(numbs));this.title=str};return LabAsset}(PfSkin.LabAssetStruct));PfSkin.LabAsset=LabAsset})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabAsset_BGStruct=(function(_super){__extends(LabAsset_BGStruct,_super);function LabAsset_BGStruct(){return _super.call(this)||this}LabAsset_BGStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabAsset_BG"))};LabAsset_BGStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};LabAsset_BGStruct.URL="ui://s33x8418mywn1ki";LabAsset_BGStruct.DependPackages=["PfSkin","Common"];return LabAsset_BGStruct}(fairygui.GLabel));PfSkin.LabAsset_BGStruct=LabAsset_BGStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabAsset_BG=(function(_super){__extends(LabAsset_BG,_super);function LabAsset_BG(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(LabAsset_BG.prototype,"normalNumb",{set:function(num){var str=formatNumberUnit(num,num>=1000?1:0);this.title=str},enumerable:true,configurable:true});LabAsset_BG.prototype.normalNumbs=function(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var str=formatArrayNumberUnit.apply(void 0,[fmat].concat(numbs));this.title=str};return LabAsset_BG}(PfSkin.LabAsset_BGStruct));PfSkin.LabAsset_BG=LabAsset_BG})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabCostStruct=(function(_super){__extends(LabCostStruct,_super);function LabCostStruct(){return _super.call(this)||this}LabCostStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabCost"))};LabCostStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_number=(this.getChild("number"))};LabCostStruct.URL="ui://s33x8418gkgst1yl";LabCostStruct.DependPackages=["PfSkin","Common"];return LabCostStruct}(fairygui.GComponent));PfSkin.LabCostStruct=LabCostStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabCost=(function(_super){__extends(LabCost,_super);function LabCost(){return _super!==null&&_super.apply(this,arguments)||this}return LabCost}(PfSkin.LabCostStruct));PfSkin.LabCost=LabCost})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabCost2Struct=(function(_super){__extends(LabCost2Struct,_super);function LabCost2Struct(){return _super.call(this)||this}LabCost2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabCost2"))};LabCost2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_number=(this.getChild("number"))};LabCost2Struct.URL="ui://s33x8418kl6dt21o";LabCost2Struct.DependPackages=["PfSkin","Common"];return LabCost2Struct}(fairygui.GLabel));PfSkin.LabCost2Struct=LabCost2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabCost2=(function(_super){__extends(LabCost2,_super);function LabCost2(){return _super!==null&&_super.apply(this,arguments)||this}return LabCost2}(PfSkin.LabCost2Struct));PfSkin.LabCost2=LabCost2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItemStruct=(function(_super){__extends(LabItemStruct,_super);function LabItemStruct(){return _super.call(this)||this}LabItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabItem"))};LabItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};LabItemStruct.URL="ui://s33x8418mywn1kk";LabItemStruct.DependPackages=["PfSkin"];return LabItemStruct}(fairygui.GLabel));PfSkin.LabItemStruct=LabItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItem=(function(_super){__extends(LabItem,_super);function LabItem(){return _super!==null&&_super.apply(this,arguments)||this}LabItem.prototype.RenderItem=function(data){if(data==null){return}if(data.itemIconUrl){this.itemData=data}else{this.itemData=Games.ItemData.Create(data.itemId,data.itemNum)}this.normalNumb=this.itemData.itemNum;this.icon=this.itemData.itemIconUrl;this.m_star.starNum=this.itemData.itemStar};Object.defineProperty(LabItem.prototype,"normalNumb",{set:function(num){var str=formatNumberUnit(num);this.title=str},enumerable:true,configurable:true});LabItem.prototype.normalNumbs=function(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var str=formatArrayNumberUnit.apply(void 0,[fmat].concat(numbs));this.title=str};return LabItem}(PfSkin.LabItemStruct));PfSkin.LabItem=LabItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItem_bigStruct=(function(_super){__extends(LabItem_bigStruct,_super);function LabItem_bigStruct(){return _super.call(this)||this}LabItem_bigStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabItem_big"))};LabItem_bigStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};LabItem_bigStruct.URL="ui://s33x8418ap5a1v0";LabItem_bigStruct.DependPackages=["PfSkin"];return LabItem_bigStruct}(fairygui.GLabel));PfSkin.LabItem_bigStruct=LabItem_bigStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItem_big=(function(_super){__extends(LabItem_big,_super);function LabItem_big(){return _super!==null&&_super.apply(this,arguments)||this}LabItem_big.prototype.RenderItem=function(data){if(data==null){return}if(data.itemIconUrl){this.itemData=data}else{this.itemData=Games.ItemData.Create(data.itemId,data.itemNum)}this.normalNumb=this.itemData.itemNum;this.icon=this.itemData.itemIconUrl;this.m_star.starNum=this.itemData.itemStar};Object.defineProperty(LabItem_big.prototype,"normalNumb",{set:function(num){var str=formatNumberUnit(num);this.title=str},enumerable:true,configurable:true});LabItem_big.prototype.normalNumbs=function(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var str=formatArrayNumberUnit.apply(void 0,[fmat].concat(numbs));this.title=str};return LabItem_big}(PfSkin.LabItem_bigStruct));PfSkin.LabItem_big=LabItem_big})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItem_littleStruct=(function(_super){__extends(LabItem_littleStruct,_super);function LabItem_littleStruct(){return _super.call(this)||this}LabItem_littleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LabItem_little"))};LabItem_littleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};LabItem_littleStruct.URL="ui://s33x8418j6cs1n9";LabItem_littleStruct.DependPackages=["PfSkin","Common"];return LabItem_littleStruct}(fairygui.GLabel));PfSkin.LabItem_littleStruct=LabItem_littleStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LabItem_little=(function(_super){__extends(LabItem_little,_super);function LabItem_little(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(LabItem_little.prototype,"normalNumb",{set:function(num){var str=formatNumberUnit(num);this.title=str},enumerable:true,configurable:true});LabItem_little.prototype.normalNumbs=function(fmat){var numbs=[];for(var _i=1;_i<arguments.length;_i++){numbs[_i-1]=arguments[_i]}var str=formatArrayNumberUnit.apply(void 0,[fmat].concat(numbs));this.title=str};return LabItem_little}(PfSkin.LabItem_littleStruct));PfSkin.LabItem_little=LabItem_little})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LeftTimeBtnStruct=(function(_super){__extends(LeftTimeBtnStruct,_super);function LeftTimeBtnStruct(){return _super.call(this)||this}LeftTimeBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LeftTimeBtn"))};LeftTimeBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_costIcon=(this.getChild("costIcon"));this.m_title2=(this.getChild("title2"))};LeftTimeBtnStruct.URL="ui://s33x8418aqgxt1x0";LeftTimeBtnStruct.DependPackages=["PfSkin","Common"];return LeftTimeBtnStruct}(fairygui.GButton));PfSkin.LeftTimeBtnStruct=LeftTimeBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LeftTimeBtn=(function(_super){__extends(LeftTimeBtn,_super);function LeftTimeBtn(){return _super!==null&&_super.apply(this,arguments)||this}return LeftTimeBtn}(PfSkin.LeftTimeBtnStruct));PfSkin.LeftTimeBtn=LeftTimeBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LevelUpLimitUIStruct=(function(_super){__extends(LevelUpLimitUIStruct,_super);function LevelUpLimitUIStruct(){return _super.call(this)||this}LevelUpLimitUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LevelUpLimitUI"))};LevelUpLimitUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_content=(this.getChild("content"));this.m_need=(this.getChild("need"));this.m_level=(this.getChild("level"));this.m_bgCom=(this.getChild("bgCom"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};LevelUpLimitUIStruct.URL="ui://s33x8418js171nt";LevelUpLimitUIStruct.DependPackages=["PfSkin","Common"];return LevelUpLimitUIStruct}(fairygui.GComponent));PfSkin.LevelUpLimitUIStruct=LevelUpLimitUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LevelUpLimitUI=(function(_super){__extends(LevelUpLimitUI,_super);function LevelUpLimitUI(){return _super!==null&&_super.apply(this,arguments)||this}LevelUpLimitUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_okBtn.title=Games.TEXT.Send;this.m_okBtn.onClick(this,this.onClickOkBtn)};LevelUpLimitUI.prototype.onClickCloseBtn=function(){this.removeFromParent()};LevelUpLimitUI.prototype.open=function(title,need,content,level,caller,okFunc){this.m_title.text=title;this.m_level.text=level;this.m_content.text=content;this.m_need.text=need;this.caller=caller;this.okFunc=okFunc;Games.MenuLayer.dialog.addChild(this)};LevelUpLimitUI.prototype.onClickOkBtn=function(){if(this.okFunc){if(this.caller){this.okFunc.apply(this.caller)}else{this.okFunc()}}this.onClickCloseBtn()};return LevelUpLimitUI}(PfSkin.LevelUpLimitUIStruct));PfSkin.LevelUpLimitUI=LevelUpLimitUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LineTextStruct=(function(_super){__extends(LineTextStruct,_super);function LineTextStruct(){return _super.call(this)||this}LineTextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LineText"))};LineTextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};LineTextStruct.URL="ui://s33x8418jazc1mh";LineTextStruct.DependPackages=["PfSkin"];return LineTextStruct}(fairygui.GButton));PfSkin.LineTextStruct=LineTextStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LineText=(function(_super){__extends(LineText,_super);function LineText(){return _super!==null&&_super.apply(this,arguments)||this}return LineText}(PfSkin.LineTextStruct));PfSkin.LineText=LineText})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LockFunctionItemStruct=(function(_super){__extends(LockFunctionItemStruct,_super);function LockFunctionItemStruct(){return _super.call(this)||this}LockFunctionItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LockFunctionItem"))};LockFunctionItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};LockFunctionItemStruct.URL="ui://s33x8418jazc1mi";LockFunctionItemStruct.DependPackages=["PfSkin"];return LockFunctionItemStruct}(fairygui.GButton));PfSkin.LockFunctionItemStruct=LockFunctionItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LockFunctionItem=(function(_super){__extends(LockFunctionItem,_super);function LockFunctionItem(){return _super!==null&&_super.apply(this,arguments)||this}return LockFunctionItem}(PfSkin.LockFunctionItemStruct));PfSkin.LockFunctionItem=LockFunctionItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair1Struct=(function(_super){__extends(LyChair1Struct,_super);function LyChair1Struct(){return _super.call(this)||this}LyChair1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyChair1"))};LyChair1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LyChair1Struct.URL="ui://s33x8418sm6tt1vk";LyChair1Struct.DependPackages=["PfSkin"];return LyChair1Struct}(fairygui.GComponent));PfSkin.LyChair1Struct=LyChair1Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair1=(function(_super){__extends(LyChair1,_super);function LyChair1(){return _super!==null&&_super.apply(this,arguments)||this}return LyChair1}(PfSkin.LyChair1Struct));PfSkin.LyChair1=LyChair1})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair2Struct=(function(_super){__extends(LyChair2Struct,_super);function LyChair2Struct(){return _super.call(this)||this}LyChair2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyChair2"))};LyChair2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LyChair2Struct.URL="ui://s33x8418sm6tt1vl";LyChair2Struct.DependPackages=["PfSkin"];return LyChair2Struct}(fairygui.GComponent));PfSkin.LyChair2Struct=LyChair2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair2=(function(_super){__extends(LyChair2,_super);function LyChair2(){return _super!==null&&_super.apply(this,arguments)||this}return LyChair2}(PfSkin.LyChair2Struct));PfSkin.LyChair2=LyChair2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair3Struct=(function(_super){__extends(LyChair3Struct,_super);function LyChair3Struct(){return _super.call(this)||this}LyChair3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyChair3"))};LyChair3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LyChair3Struct.URL="ui://s33x8418sm6tt1vm";LyChair3Struct.DependPackages=["PfSkin"];return LyChair3Struct}(fairygui.GComponent));PfSkin.LyChair3Struct=LyChair3Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair3=(function(_super){__extends(LyChair3,_super);function LyChair3(){return _super!==null&&_super.apply(this,arguments)||this}return LyChair3}(PfSkin.LyChair3Struct));PfSkin.LyChair3=LyChair3})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair4Struct=(function(_super){__extends(LyChair4Struct,_super);function LyChair4Struct(){return _super.call(this)||this}LyChair4Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyChair4"))};LyChair4Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LyChair4Struct.URL="ui://s33x8418sm6tt1vn";LyChair4Struct.DependPackages=["PfSkin"];return LyChair4Struct}(fairygui.GComponent));PfSkin.LyChair4Struct=LyChair4Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyChair4=(function(_super){__extends(LyChair4,_super);function LyChair4(){return _super!==null&&_super.apply(this,arguments)||this}return LyChair4}(PfSkin.LyChair4Struct));PfSkin.LyChair4=LyChair4})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyContainerStruct=(function(_super){__extends(LyContainerStruct,_super);function LyContainerStruct(){return _super.call(this)||this}LyContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyContainer"))};LyContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};LyContainerStruct.URL="ui://s33x8418sm6tt1vo";LyContainerStruct.DependPackages=["PfSkin"];return LyContainerStruct}(fairygui.GComponent));PfSkin.LyContainerStruct=LyContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyContainer=(function(_super){__extends(LyContainer,_super);function LyContainer(){return _super!==null&&_super.apply(this,arguments)||this}return LyContainer}(PfSkin.LyContainerStruct));PfSkin.LyContainer=LyContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var LyShowStruct=(function(_super){__extends(LyShowStruct,_super);function LyShowStruct(){return _super.call(this)||this}LyShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","LyShow"))};LyShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_ChairGroup1=(this.getChild("ChairGroup1"));this.m_ChairGroup2=(this.getChild("ChairGroup2"));this.m_ChairGroup3=(this.getChild("ChairGroup3"));this.m_ChairGroup4=(this.getChild("ChairGroup4"));this.m_avatarContainner=(this.getChild("avatarContainner"))};LyShowStruct.URL="ui://s33x8418sm6tt1vd";LyShowStruct.DependPackages=["PfSkin"];return LyShowStruct}(fairygui.GComponent));PfSkin.LyShowStruct=LyShowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PerformType=Games.PerformType;var AvatarManager=Games.AvatarManager;var LyShow=(function(_super){__extends(LyShow,_super);function LyShow(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.chairList=[];_this.avatarList=[];_this.speekerId=0;_this.isSpeekerBeginTalk=true;_this.currActorName="";_this.isRoadShowSuccess=false;_this._isRoadShowEnd=false;_this.currChairIndex=-1;return _this}LyShow.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.setScale(0.67,0.67);this.setPivot(0.5,0.5)};LyShow.prototype.showFor=function(parent,context){this.context=context;this.initAudience();parent.addChild(this);AvatarManager.sBehaviorFinish.add(this.onAvatarBehaviorFinish,this);AvatarManager.sEventFinish.add(this.onAvatarEventFinish,this);this.startShow()};LyShow.prototype.startShow=function(){var _this=this;this.tween=Laya.Tween.to(this,{scaleX:0.8,scaleY:0.8},1500,Laya.Ease.linearIn,Handler.create(null,function(){if(!_this.speeker){_this.creatSpeeker();_this.curActorData=_this.context.currentActorData();_this.currActorName=Game.config.actor.getConfig(_this.curActorData.id).name}}),0,true,true)};LyShow.prototype.endShow=function(){this.context.OnAnimFinish();this.dispose()};LyShow.prototype.dispose=function(){AvatarManager.sBehaviorFinish.remove(this.onAvatarBehaviorFinish,this);AvatarManager.sEventFinish.remove(this.onAvatarEventFinish,this);if(this.tween!=null){Laya.Tween.clear(this.tween);this.tween=null}if(this.speeker){this.speeker.endEvent(false);this.speeker.dispose();this.speeker=null}if(this.curActor){this.curActor.endEvent(false);this.curActor.dispose();this.curActor=null}this.avatarList.forEach(function(value,index,array){value.dispose()});this.avatarList.length=0;this.context=null};Object.defineProperty(LyShow.prototype,"isRoadShowEnd",{get:function(){return this._isRoadShowEnd},set:function(value){if(value){this.isRoadShowSuccess=Game.moduleModel.market.Info.roadShowFlag}this._isRoadShowEnd=value},enumerable:true,configurable:true});LyShow.prototype.setTalkParams=function(events){for(var _i=0,events_1=events;_i<events_1.length;_i++){var event_1=events_1[_i];var argName="";switch(event_1.evtId){case 7102:event_1.setTalkParams(User.info.name,this.currActorName);break;case 7105:var popularvalue=this.context.curActorPopularValue(this.curActorData);event_1.setTalkParams(this.currActorName,popularvalue);break;case 7108:case 7109:argName=Game.moduleModel.market.GetLastCity().name;event_1.setTalkParams(argName);break;case 7113:switch(event_1.actionInfo.talkActionId){case 7105:case 7107:case 7109:case 7110:case 7112:argName=Game.moduleModel.market.GetLastCity().name;break;case 7106:argName=User.info.name;break;case 7108:argName=this.currActorName;break}event_1.setTalkParams(argName);break}}};LyShow.prototype.onAvatarEventFinish=function(data){if(data.performType==PerformType.RoadShow){if(data.eventId==7102||data.eventId==7103||data.eventId==7113){this.cheer()}}};LyShow.prototype.onAvatarBehaviorFinish=function(data){if(data.performType==PerformType.RoadShow){if(data.avatarId==0){}else{if(data.avatarId==this.speekerId){this.speeker.direction=Games.DirtionType.Right;if(this.speeker.x>Laya.stage.width/2){this.speeker.direction=Games.DirtionType.Left}if(!this.isRoadShowEnd){this.curActorData=this.context.currentActorData();this.creatActor(this.curActorData.id)}else{this.endShow()}}else{var actorData=Game.moduleModel.actor.getActor(data.avatarId);this.isRoadShowEnd=this.context.UpdateProgress(actorData);if(this.curActor!=null){this.curActor.dispose()}if(!this.isRoadShowEnd){this.speeker.executeActionEvents(this.getSpeekerEventSummary(),PerformType.RoadShow)}else{if(this.isRoadShowSuccess){this.speeker.executeActionEvents(this.getSpeekerEventSucc(),PerformType.RoadShow)}else{this.speeker.executeActionEvents(this.getSpeekerEventFail(),PerformType.RoadShow)}}}}}};LyShow.prototype.creatSpeeker=function(npcId){var _this=this;if(npcId===void 0){npcId=201}this.speekerId=npcId;var aInfo=Games.AvatarInfo.creatByNpcId(npcId);this.speeker=Games.Avatar.Creat(aInfo,function(AvatarInfo){_this.speeker.setScale(0.35,true);var bounds=_this.speeker.getBounds();_this.speeker.pos(bounds.width,bounds.height);_this.m_avatarContainner.displayObject.addChild(_this.speeker);_this.speeker.enterTo(-100,Laya.stage.height/2+230);_this.speeker.executeActionEvents(_this.getSpeekerEventBegin(),PerformType.RoadShow);_this.speeker.openShadow();_this.isSpeekerBeginTalk=true})};LyShow.prototype.creatActor=function(actorId){var _this=this;var aInfo=Games.AvatarInfo.creatByAvatarId(actorId);this.curActor=Games.Avatar.Creat(aInfo,function(AvatarInfo){_this.curActor.setScale(0.35,true);var bounds=_this.curActor.getBounds();_this.curActor.pos(bounds.width,bounds.height);_this.m_avatarContainner.displayObject.addChild(_this.curActor);_this.curActor.enterTo(-100,Laya.stage.height/2+230);_this.curActor.openShadow();_this.curActor.executeActionEvents(_this.getActorEvent(),PerformType.RoadShow)})};LyShow.prototype.creatAudience=function(){var _this=this;var aInfo=new Games.AvatarInfo();aInfo.type=Games.AvatarType.Npc;aInfo.idleName="audience_idle";aInfo.texturePath=Res.getAudienceSkin();aInfo.skeletonPath=Res.getAudienceSK();var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var scale=0.3;var offsetX=20;var offsetY=60;if(_this.currChairIndex<5){scale=0.3}else{if(_this.currChairIndex<10){scale=0.45}else{if(_this.currChairIndex<15){scale=0.5}}}avatar.setScale(scale);var bounds=avatar.getBounds();avatar.pos(bounds.width+offsetX,bounds.height+offsetY);var chairCom=_this.getChairCom();chairCom.displayObject.addChildAt(avatar,0);_this.avatarList.push(avatar)})};LyShow.prototype.initAudience=function(){var chairGroup1=this.m_ChairGroup1.asList;chairGroup1.touchable=false;for(var i=0;i<chairGroup1.numItems;i++){var chair=chairGroup1.getChildAt(i).asCom;this.chairList.push(chair)}var chairGroup2=this.m_ChairGroup2.asList;chairGroup2.touchable=false;for(var i=0;i<chairGroup2.numItems;i++){var chair=chairGroup2.getChildAt(i).asCom;this.chairList.push(chair)}var chairGroup3=this.m_ChairGroup3.asList;chairGroup3.touchable=false;for(var i=0;i<chairGroup3.numItems;i++){var chair=chairGroup3.getChildAt(i).asCom;this.chairList.push(chair)}this.avatarList.length=0;this.currChairIndex=-1;for(var i=0;i<this.chairList.length;i++){this.creatAudience()}};LyShow.prototype.getChairCom=function(){this.currChairIndex++;var chairCom=this.chairList.splice(0,1)[0];return chairCom};LyShow.prototype.getRDEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==4});var index=Random.range(0,playActList.length);return playActList[index].eventList};LyShow.prototype.getCheerEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==7});var index=Random.range(0,playActList.length);return playActList[index].eventList};LyShow.prototype.getSpeekerEventBegin=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==1});var index=Random.range(0,playActList.length);var events=playActList[index].eventList;this.setTalkParams(events);return events};LyShow.prototype.getActorEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==3});var index=Random.range(0,playActList.length);var events=playActList[index].eventList;this.setTalkParams(events);return events};LyShow.prototype.getSpeekerEventSummary=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&(value.data%10==2)});var index=Random.range(0,playActList.length);var events=playActList[index].eventList;this.setTalkParams(events);return events};LyShow.prototype.getSpeekerEventSucc=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==5});var index=Random.range(0,playActList.length);var events=playActList[index].eventList;this.setTalkParams(events);return events};LyShow.prototype.getSpeekerEventFail=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.RoadShow&&value.data%10==6});var index=Random.range(0,playActList.length);var events=playActList[index].eventList;this.setTalkParams(events);return events};LyShow.prototype.getAvatar=function(avatarUid){return this.avatarList.findOne(function(value){return value.uid==avatarUid})};LyShow.prototype.cheer=function(){var _this=this;console.log("Audience->cheer");this.avatarList.forEach(function(value,index,array){value.endEvent(false);value.executeActionEvents(_this.getCheerEvent(),PerformType.RoadShow)})};return LyShow}(PfSkin.LyShowStruct));PfSkin.LyShow=LyShow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailContentPanelStruct=(function(_super){__extends(MailContentPanelStruct,_super);function MailContentPanelStruct(){return _super.call(this)||this}MailContentPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MailContentPanel"))};MailContentPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_reward=this.getController("reward");this.m_closeBtn=(this.getChild("closeBtn"));this.m_time=(this.getChild("time"));this.m_listReward=(this.getChild("listReward"));this.m_tipHasReward=(this.getChild("tipHasReward"));this.m_title=(this.getChild("title"));this.m_Msg1=(this.getChild("Msg1"));this.m_Msg2=(this.getChild("Msg2"));this.m_content=(this.getChild("content"));this.m_btnDelect=(this.getChild("btnDelect"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnClose=(this.getChild("btnClose"))};MailContentPanelStruct.URL="ui://s33x8418klss1uh";MailContentPanelStruct.DependPackages=["PfSkin","Common"];return MailContentPanelStruct}(fairygui.GComponent));PfSkin.MailContentPanelStruct=MailContentPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailContentPanel=(function(_super){__extends(MailContentPanel,_super);function MailContentPanel(){return _super!==null&&_super.apply(this,arguments)||this}MailContentPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_closeBtn.onClick(this,this.OnCloseClick);this.m_btnDelect.onClick(this,this.OnBtnDelectClick);this.m_btnReward.onClick(this,this.OnBtnRewardClick);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false)};MailContentPanel.prototype.onWindowInited=function(){};MailContentPanel.prototype.OnWindowOpen=function(uuid){this.moduleMain=this.moduleWindow.mainWindow;this.uuid=uuid;if(this.uuid){this.UpdateView()}};MailContentPanel.prototype.UpdateView=function(){this.m_Msg1.text=Games.TEXT.ToReader;this.m_Msg2.text=Games.TEXT.ReawrdMsg;if(this.uuid){this.mailData=Game.moduleModel.mail.GetMail(this.uuid);if(this.mailData){this.m_title.text=this.mailData.title;this.m_content.title=this.mailData.content;this.m_time.text=Games.TimeHelper.DateTimeFormat2(this.mailData.createTime);var rewardList=this.mailData.itemList;this.m_listReward.numItems=rewardList.length;if(rewardList.length==0){this.m_reward.setSelectedIndex(0)}else{if(this.mailData.IsRewardGot){this.m_reward.setSelectedIndex(1)}else{this.m_reward.setSelectedIndex(2)}}}}};MailContentPanel.prototype.RenderRewardItem=function(index,item){var data=this.mailData.itemList[index];var reward=Game.moduleModel.item.CreateItem(data.itemId,data.amount);item.icon=reward.itemIconUrl;item.title=reward.itemNumTxt};MailContentPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.Mail_MailDelete,this.OnMailDeleteResponse,this);Game.protoOkEvent.add(ProtoEventKey.Mail_MailGetReward,this.OnMailGetRewardResponse,this);Game.protoOkEvent.add(ProtoEventKey.Mail_MailRead,this.OnMailReadResponse,this);this.UpdateView()};MailContentPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.Mail_MailDelete,this.OnMailDeleteResponse,this);Game.protoOkEvent.remove(ProtoEventKey.Mail_MailGetReward,this.OnMailGetRewardResponse,this);Game.protoOkEvent.remove(ProtoEventKey.Mail_MailRead,this.OnMailReadResponse,this)};MailContentPanel.prototype.OnMailDeleteResponse=function(){this.moduleWindow.closeSelf();this.moduleMain.conent.UpdateView()};MailContentPanel.prototype.OnMailGetRewardResponse=function(){this.UpdateView()};MailContentPanel.prototype.OnMailReadResponse=function(){};MailContentPanel.prototype.OnCloseClick=function(){this.moduleWindow.closeSelf();this.moduleMain.conent.UpdateView()};MailContentPanel.prototype.OnBtnDelectClick=function(){Game.moduleModel.mail.DeleteMail(this.uuid)};MailContentPanel.prototype.OnBtnRewardClick=function(){if(Game.moduleModel.mail.RewardMail(this.uuid)){this.rewardList=[];for(var _i=0,_a=this.mailData.itemList;_i<_a.length;_i++){var item=_a[_i];var reward=new DTItemNum();reward.itemId=item.itemId;reward.itemNum=item.amount;this.rewardList.push(reward)}}};return MailContentPanel}(PfSkin.MailContentPanelStruct));PfSkin.MailContentPanel=MailContentPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailItemStruct=(function(_super){__extends(MailItemStruct,_super);function MailItemStruct(){return _super.call(this)||this}MailItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MailItem"))};MailItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_read=this.getController("read");this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"));this.m_reward=(this.getChild("reward"))};MailItemStruct.URL="ui://s33x8418klss1uf";MailItemStruct.DependPackages=["PfSkin"];return MailItemStruct}(fairygui.GButton));PfSkin.MailItemStruct=MailItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailItem=(function(_super){__extends(MailItem,_super);function MailItem(){return _super!==null&&_super.apply(this,arguments)||this}MailItem.prototype.RenderItem=function(data){this.mailData=data;this.m_read.setSelectedIndex(this.mailData.IsNew?0:1);this.title=this.mailData.title;this.m_time.text=Games.TimeHelper.DateTimeFormat2(this.mailData.createTime);if(this.mailData.itemList.length>0&&!this.mailData.IsRewardGot){this.m_reward.visible=true;var item=Game.moduleModel.item.CreateItem(this.mailData.itemList[0].itemId,this.mailData.itemList[0].amount);this.m_reward.icon=item.itemIconUrl;this.m_reward.title=item.itemNumTxt}else{this.m_reward.visible=false}};MailItem.prototype.OnSelect=function(){if(this.mailData.isNew){Game.moduleModel.mail.ReadMail(this.mailData.uuid)}};return MailItem}(PfSkin.MailItemStruct));PfSkin.MailItem=MailItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailMainPanelStruct=(function(_super){__extends(MailMainPanelStruct,_super);function MailMainPanelStruct(){return _super.call(this)||this}MailMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MailMainPanel"))};MailMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_tip=(this.getChild("tip"));this.m_NoMail=(this.getChild("NoMail"));this.m_viewPanel=(this.getChild("viewPanel"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnDelect=(this.getChild("btnDelect"));this.m_closeBtn=(this.getChild("closeBtn"))};MailMainPanelStruct.URL="ui://s33x8418klss1ud";MailMainPanelStruct.DependPackages=["PfSkin","Common"];return MailMainPanelStruct}(fairygui.GComponent));PfSkin.MailMainPanelStruct=MailMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailMainPanel=(function(_super){__extends(MailMainPanel,_super);function MailMainPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.doAllDelect=false;_this.doAllReward=false;return _this}MailMainPanel.prototype.onWindowInited=function(){this.m_viewPanel.InitView(this,this.OnCloseClick);this.m_closeBtn.onClick(this,this.OnCloseClick);this.m_btnDelect.onClick(this,this.OnBtnDelectClick);this.m_btnReward.onClick(this,this.OnBtnRewardClick);this.m_list.itemRenderer=new Handler(this,this.RenderMailItem,null,false);this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.OnMailItemSelect)};MailMainPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.UpdateView()};MailMainPanel.prototype.UpdateView=function(){this.m_viewPanel.m_title.text=Games.TEXT.MailTitle;this.m_btnDelect.m_title.text=Games.TEXT.DeleteRead;this.mailList=Game.moduleModel.mail.GetMailList();this.m_list.numItems=this.mailList.length;this.m_NoMail.visible=this.mailList.length==0};MailMainPanel.prototype.RenderMailItem=function(index,item){var data=this.mailList[index];item.RenderItem(data)};MailMainPanel.prototype.OnMailItemSelect=function(item){item.OnSelect();this.moduleWindow.openSubwindowByIndex("mailContent",true,item.mailData.uuid)};MailMainPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.MailData,this.OnMailDataResponse,this);this.UpdateView()};MailMainPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.MailData,this.OnMailDataResponse,this)};MailMainPanel.prototype.OnMailDataResponse=function(){this.UpdateView()};MailMainPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};MailMainPanel.prototype.OnBtnDelectClick=function(){Game.moduleModel.mail.DeleteAll()};MailMainPanel.prototype.OnBtnRewardClick=function(){Game.moduleModel.mail.RewardAll()};return MailMainPanel}(PfSkin.MailMainPanelStruct));PfSkin.MailMainPanel=MailMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailRewardItemStruct=(function(_super){__extends(MailRewardItemStruct,_super);function MailRewardItemStruct(){return _super.call(this)||this}MailRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MailRewardItem"))};MailRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};MailRewardItemStruct.URL="ui://s33x8418pmz6t25s";MailRewardItemStruct.DependPackages=["PfSkin","Common"];return MailRewardItemStruct}(fairygui.GButton));PfSkin.MailRewardItemStruct=MailRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailRewardItem=(function(_super){__extends(MailRewardItem,_super);function MailRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return MailRewardItem}(PfSkin.MailRewardItemStruct));PfSkin.MailRewardItem=MailRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailViewPanelStruct=(function(_super){__extends(MailViewPanelStruct,_super);function MailViewPanelStruct(){return _super.call(this)||this}MailViewPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MailViewPanel"))};MailViewPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listAsset=(this.getChild("listAsset"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"))};MailViewPanelStruct.URL="ui://s33x8418pmz6t25r";MailViewPanelStruct.DependPackages=["PfSkin","Common"];return MailViewPanelStruct}(fairygui.GLabel));PfSkin.MailViewPanelStruct=MailViewPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MailViewPanel=(function(_super){__extends(MailViewPanel,_super);function MailViewPanel(){return _super!==null&&_super.apply(this,arguments)||this}MailViewPanel.prototype.InitView=function(thisObj,closeHandler,assetList){if(assetList==null){assetList=[]}this.m_btnClose.onClick(thisObj,closeHandler);this.m_listAsset.itemRenderer=new Handler(this,this.RenderAssetItem,null,false);this.assetList=assetList};MailViewPanel.prototype.updateAsset=function(){this.m_listAsset.numItems=this.assetList.length};MailViewPanel.prototype.RenderAssetItem=function(index,obj){var itemId=this.assetList[index];var item=Game.moduleModel.item.getItem(itemId);obj.icon=item.itemIconUrl;obj.normalNumb=item.itemNum;obj.m_trColor.setSelectedIndex(item.itemNum>10000?1:0)};return MailViewPanel}(PfSkin.MailViewPanelStruct));PfSkin.MailViewPanel=MailViewPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderDialogStruct=(function(_super){__extends(ManagerOrderDialogStruct,_super);function ManagerOrderDialogStruct(){return _super.call(this)||this}ManagerOrderDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ManagerOrderDialog"))};ManagerOrderDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_dialog=(this.getChild("dialog"))};ManagerOrderDialogStruct.URL="ui://s33x8418lq441uv";ManagerOrderDialogStruct.DependPackages=["PfSkin"];return ManagerOrderDialogStruct}(fairygui.GComponent));PfSkin.ManagerOrderDialogStruct=ManagerOrderDialogStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderDialog=(function(_super){__extends(ManagerOrderDialog,_super);function ManagerOrderDialog(){return _super!==null&&_super.apply(this,arguments)||this}return ManagerOrderDialog}(PfSkin.ManagerOrderDialogStruct));PfSkin.ManagerOrderDialog=ManagerOrderDialog})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderNeedItemStruct=(function(_super){__extends(ManagerOrderNeedItemStruct,_super);function ManagerOrderNeedItemStruct(){return _super.call(this)||this}ManagerOrderNeedItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ManagerOrderNeedItem"))};ManagerOrderNeedItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_complete=this.getController("complete");this.m_hezuo=this.getController("hezuo");this.m_canComplete=this.getController("canComplete");this.m_lv=(this.getChild("lv"));this.m_icon=(this.getChild("icon"))};ManagerOrderNeedItemStruct.URL="ui://s33x8418lq441uu";ManagerOrderNeedItemStruct.DependPackages=["PfSkin","Common"];return ManagerOrderNeedItemStruct}(fairygui.GButton));PfSkin.ManagerOrderNeedItemStruct=ManagerOrderNeedItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderNeedItem=(function(_super){__extends(ManagerOrderNeedItem,_super);function ManagerOrderNeedItem(){return _super!==null&&_super.apply(this,arguments)||this}return ManagerOrderNeedItem}(PfSkin.ManagerOrderNeedItemStruct));PfSkin.ManagerOrderNeedItem=ManagerOrderNeedItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderNeedPanelStruct=(function(_super){__extends(ManagerOrderNeedPanelStruct,_super);function ManagerOrderNeedPanelStruct(){return _super.call(this)||this}ManagerOrderNeedPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ManagerOrderNeedPanel"))};ManagerOrderNeedPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_orderLabel=(this.getChild("orderLabel"));this.m_needlist=(this.getChild("needlist"));this.m_completeLabel=(this.getChild("completeLabel"));this.m_otherLabel=(this.getChild("otherLabel"));this.m_extraReward=(this.getChild("extraReward"));this.m_deleteBtn=(this.getChild("deleteBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_reward=(this.getChild("reward"))};ManagerOrderNeedPanelStruct.URL="ui://s33x8418lq441uw";ManagerOrderNeedPanelStruct.DependPackages=["PfSkin","Common"];return ManagerOrderNeedPanelStruct}(fairygui.GComponent));PfSkin.ManagerOrderNeedPanelStruct=ManagerOrderNeedPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderNeedPanel=(function(_super){__extends(ManagerOrderNeedPanel,_super);function ManagerOrderNeedPanel(){return _super!==null&&_super.apply(this,arguments)||this}return ManagerOrderNeedPanel}(PfSkin.ManagerOrderNeedPanelStruct));PfSkin.ManagerOrderNeedPanel=ManagerOrderNeedPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderUIStruct=(function(_super){__extends(ManagerOrderUIStruct,_super);function ManagerOrderUIStruct(){return _super.call(this)||this}ManagerOrderUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ManagerOrderUI"))};ManagerOrderUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c2=this.getController("c2");this.m_sortOrder=(this.getChild("sortOrder"));this.m_num=(this.getChild("num"));this.m_noneOrder=(this.getChild("noneOrder"));this.m_newOrderWay=(this.getChild("newOrderWay"));this.m_noneGroup=(this.getChild("noneGroup"));this.m_orderGroup=(this.getChild("orderGroup"));this.m_icon=(this.getChild("icon"));this.m_progressNum=(this.getChild("progressNum"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_needPanel=(this.getChild("needPanel"));this.m_order8=(this.getChild("order8"));this.m_order9=(this.getChild("order9"));this.m_order1=(this.getChild("order1"));this.m_order3=(this.getChild("order3"));this.m_order5=(this.getChild("order5"));this.m_order4=(this.getChild("order4"));this.m_order6=(this.getChild("order6"));this.m_order7=(this.getChild("order7"));this.m_order2=(this.getChild("order2"));this.m_bar=(this.getChild("bar"));this.m_box1=(this.getChild("box1"));this.m_box2=(this.getChild("box2"));this.m_box3=(this.getChild("box3"));this.m_box4=(this.getChild("box4"));this.m_box5=(this.getChild("box5"));this.m_dialog=(this.getChild("dialog"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};ManagerOrderUIStruct.URL="ui://s33x8418lq441uq";ManagerOrderUIStruct.DependPackages=["PfSkin","Common"];return ManagerOrderUIStruct}(fairygui.GComponent));PfSkin.ManagerOrderUIStruct=ManagerOrderUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ManagerOrderUI=(function(_super){__extends(ManagerOrderUI,_super);function ManagerOrderUI(){return _super!==null&&_super.apply(this,arguments)||this}return ManagerOrderUI}(PfSkin.ManagerOrderUIStruct));PfSkin.ManagerOrderUI=ManagerOrderUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketActorItemStruct=(function(_super){__extends(MarketActorItemStruct,_super);function MarketActorItemStruct(){return _super.call(this)||this}MarketActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketActorItem"))};MarketActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_txtLv=(this.getChild("txtLv"));this.m_title=(this.getChild("title"));this.m_labDemand1=(this.getChild("labDemand1"));this.m_labDemand2=(this.getChild("labDemand2"));this.m_star=(this.getChild("star"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnPromotion=(this.getChild("btnPromotion"))};MarketActorItemStruct.URL="ui://s33x8418p9t7t1x3";MarketActorItemStruct.DependPackages=["PfSkin","Common"];return MarketActorItemStruct}(fairygui.GButton));PfSkin.MarketActorItemStruct=MarketActorItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketActorItem=(function(_super){__extends(MarketActorItem,_super);function MarketActorItem(){return _super!==null&&_super.apply(this,arguments)||this}return MarketActorItem}(PfSkin.MarketActorItemStruct));PfSkin.MarketActorItem=MarketActorItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketCityInfoPanelStruct=(function(_super){__extends(MarketCityInfoPanelStruct,_super);function MarketCityInfoPanelStruct(){return _super.call(this)||this}MarketCityInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketCityInfoPanel"))};MarketCityInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isHome=this.getController("isHome");this.m_listActor=(this.getChild("listActor"));this.m_cityName=(this.getChild("cityName"));this.m_listAssetSpeed=(this.getChild("listAssetSpeed"));this.m_listReward=(this.getChild("listReward"));this.m_listAsset=(this.getChild("listAsset"));this.m_posJinbi=(this.getChild("posJinbi"));this.m_tweenIcon=(this.getChild("tweenIcon"));this.m_btnGet=(this.getChild("btnGet"));this.m_labAniGold=(this.getChild("labAniGold"));this.m_labAniFans=(this.getChild("labAniFans"));this.m_trAddAsset=this.getTransition("trAddAsset")};MarketCityInfoPanelStruct.URL="ui://s33x8418mywn1kq";MarketCityInfoPanelStruct.DependPackages=["PfSkin","Common"];return MarketCityInfoPanelStruct}(fairygui.GComponent));PfSkin.MarketCityInfoPanelStruct=MarketCityInfoPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketCityInfoPanel=(function(_super){__extends(MarketCityInfoPanel,_super);function MarketCityInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketCityInfoPanel}(PfSkin.MarketCityInfoPanelStruct));PfSkin.MarketCityInfoPanel=MarketCityInfoPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketCountryListPanelStruct=(function(_super){__extends(MarketCountryListPanelStruct,_super);function MarketCountryListPanelStruct(){return _super.call(this)||this}MarketCountryListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketCountryListPanel"))};MarketCountryListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listCountry=(this.getChild("listCountry"));this.m_btnShow=(this.getChild("btnShow"))};MarketCountryListPanelStruct.URL="ui://s33x8418mywn1kv";MarketCountryListPanelStruct.DependPackages=["PfSkin","Common"];return MarketCountryListPanelStruct}(fairygui.GComponent));PfSkin.MarketCountryListPanelStruct=MarketCountryListPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketCountryListPanel=(function(_super){__extends(MarketCountryListPanel,_super);function MarketCountryListPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketCountryListPanel}(PfSkin.MarketCountryListPanelStruct));PfSkin.MarketCountryListPanel=MarketCountryListPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketLabAssetStruct=(function(_super){__extends(MarketLabAssetStruct,_super);function MarketLabAssetStruct(){return _super.call(this)||this}MarketLabAssetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketLabAsset"))};MarketLabAssetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};MarketLabAssetStruct.URL="ui://s33x8418p9t7t1x4";MarketLabAssetStruct.DependPackages=["PfSkin","Common"];return MarketLabAssetStruct}(fairygui.GLabel));PfSkin.MarketLabAssetStruct=MarketLabAssetStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketLabAsset=(function(_super){__extends(MarketLabAsset,_super);function MarketLabAsset(){return _super!==null&&_super.apply(this,arguments)||this}return MarketLabAsset}(PfSkin.MarketLabAssetStruct));PfSkin.MarketLabAsset=MarketLabAsset})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketMainPanelStruct=(function(_super){__extends(MarketMainPanelStruct,_super);function MarketMainPanelStruct(){return _super.call(this)||this}MarketMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketMainPanel"))};MarketMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtCountry=(this.getChild("txtCountry"));this.m_list=(this.getChild("list"));this.m_topPanel=(this.getChild("topPanel"));this.m_btnCountry=(this.getChild("btnCountry"));this.m_cityInfoPanel=(this.getChild("cityInfoPanel"));this.m_occupyPanel=(this.getChild("occupyPanel"))};MarketMainPanelStruct.URL="ui://s33x8418mywn1kr";MarketMainPanelStruct.DependPackages=["PfSkin","Common"];return MarketMainPanelStruct}(fairygui.GComponent));PfSkin.MarketMainPanelStruct=MarketMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketMainPanel=(function(_super){__extends(MarketMainPanel,_super);function MarketMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketMainPanel}(PfSkin.MarketMainPanelStruct));PfSkin.MarketMainPanel=MarketMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketOccupyPanelStruct=(function(_super){__extends(MarketOccupyPanelStruct,_super);function MarketOccupyPanelStruct(){return _super.call(this)||this}MarketOccupyPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketOccupyPanel"))};MarketOccupyPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_mapCityPoint=(this.getChild("mapCityPoint"));this.m_listReward=(this.getChild("listReward"));this.m_country=(this.getChild("country"));this.m_cityName=(this.getChild("cityName"));this.m_progress=(this.getChild("progress"));this.m_btnRoadShow=(this.getChild("btnRoadShow"));this.m_btnZhanling=(this.getChild("btnZhanling"));this.m_labAniCost=(this.getChild("labAniCost"));this.m_t1=this.getTransition("t1");this.m_tCostMove=this.getTransition("tCostMove")};MarketOccupyPanelStruct.URL="ui://s33x8418mywn1ks";MarketOccupyPanelStruct.DependPackages=["PfSkin"];return MarketOccupyPanelStruct}(fairygui.GComponent));PfSkin.MarketOccupyPanelStruct=MarketOccupyPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketOccupyPanel=(function(_super){__extends(MarketOccupyPanel,_super);function MarketOccupyPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketOccupyPanel}(PfSkin.MarketOccupyPanelStruct));PfSkin.MarketOccupyPanel=MarketOccupyPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketPublicityPanelStruct=(function(_super){__extends(MarketPublicityPanelStruct,_super);function MarketPublicityPanelStruct(){return _super.call(this)||this}MarketPublicityPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketPublicityPanel"))};MarketPublicityPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_active=this.getController("active");this.m_name=(this.getChild("name"));this.m_demand=(this.getChild("demand"));this.m_actorDemand=(this.getChild("actorDemand"));this.m_auto=(this.getChild("auto"));this.m_tip=(this.getChild("tip"));this.m_listReward=(this.getChild("listReward"));this.m_tweenIcon=(this.getChild("tweenIcon"));this.m_topPanel=(this.getChild("topPanel"));this.m_btnAddActor=(this.getChild("btnAddActor"));this.m_progress=(this.getChild("progress"));this.m_btnPublicity=(this.getChild("btnPublicity"));this.m_labCost=(this.getChild("labCost"));this.m_tabSelfmotion=(this.getChild("tabSelfmotion"));this.m_btnFinish=(this.getChild("btnFinish"));this.m_labRewardGold=(this.getChild("labRewardGold"));this.m_t0=this.getTransition("t0")};MarketPublicityPanelStruct.URL="ui://s33x8418mywn1kt";MarketPublicityPanelStruct.DependPackages=["PfSkin"];return MarketPublicityPanelStruct}(fairygui.GComponent));PfSkin.MarketPublicityPanelStruct=MarketPublicityPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketPublicityPanel=(function(_super){__extends(MarketPublicityPanel,_super);function MarketPublicityPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketPublicityPanel}(PfSkin.MarketPublicityPanelStruct));PfSkin.MarketPublicityPanel=MarketPublicityPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketRoadShowPanelStruct=(function(_super){__extends(MarketRoadShowPanelStruct,_super);function MarketRoadShowPanelStruct(){return _super.call(this)||this}MarketRoadShowPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketRoadShowPanel"))};MarketRoadShowPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_listActor=(this.getChild("listActor"));this.m_aniAixin=(this.getChild("aniAixin"));this.m_loadCurrentActor=(this.getChild("loadCurrentActor"));this.m_roadshowContainer=(this.getChild("roadshowContainer"));this.m_progress=(this.getChild("progress"));this.m_btnSkip=(this.getChild("btnSkip"));this.m_labTalk=(this.getChild("labTalk"));this.m_tweenItem=(this.getChild("tweenItem"));this.m_btnFinish=(this.getChild("btnFinish"));this.m_aniIcon=this.getTransition("aniIcon")};MarketRoadShowPanelStruct.URL="ui://s33x8418mywn1kw";MarketRoadShowPanelStruct.DependPackages=["PfSkin","Market"];return MarketRoadShowPanelStruct}(fairygui.GComponent));PfSkin.MarketRoadShowPanelStruct=MarketRoadShowPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketRoadShowPanel=(function(_super){__extends(MarketRoadShowPanel,_super);function MarketRoadShowPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketRoadShowPanel}(PfSkin.MarketRoadShowPanelStruct));PfSkin.MarketRoadShowPanel=MarketRoadShowPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketSelectActorPanelStruct=(function(_super){__extends(MarketSelectActorPanelStruct,_super);function MarketSelectActorPanelStruct(){return _super.call(this)||this}MarketSelectActorPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MarketSelectActorPanel"))};MarketSelectActorPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_txtTip=(this.getChild("txtTip"));this.m_btnClose=(this.getChild("btnClose"))};MarketSelectActorPanelStruct.URL="ui://s33x8418mywn1ku";MarketSelectActorPanelStruct.DependPackages=["PfSkin","Common"];return MarketSelectActorPanelStruct}(fairygui.GComponent));PfSkin.MarketSelectActorPanelStruct=MarketSelectActorPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarketSelectActorPanel=(function(_super){__extends(MarketSelectActorPanel,_super);function MarketSelectActorPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MarketSelectActorPanel}(PfSkin.MarketSelectActorPanelStruct));PfSkin.MarketSelectActorPanel=MarketSelectActorPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MarqueeStruct=(function(_super){__extends(MarqueeStruct,_super);function MarqueeStruct(){return _super.call(this)||this}MarqueeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Marquee"))};MarqueeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_way=(this.getChild("way"))};MarqueeStruct.URL="ui://s33x8418swip1uc";MarqueeStruct.DependPackages=["PfSkin"];return MarqueeStruct}(fairygui.GLabel));PfSkin.MarqueeStruct=MarqueeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Marquee=(function(_super){__extends(Marquee,_super);function Marquee(){return _super!==null&&_super.apply(this,arguments)||this}return Marquee}(PfSkin.MarqueeStruct));PfSkin.Marquee=Marquee})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingAskPricePanelStruct=(function(_super){__extends(MeetingAskPricePanelStruct,_super);function MeetingAskPricePanelStruct(){return _super.call(this)||this}MeetingAskPricePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingAskPricePanel"))};MeetingAskPricePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_needPay=(this.getChild("needPay"));this.m_paylist=(this.getChild("paylist"));this.m_pay1Btn=(this.getChild("pay1Btn"));this.m_pay2Btn=(this.getChild("pay2Btn"));this.m_okBtn=(this.getChild("okBtn"));this.m_head=(this.getChild("head"));this.m_dialog=(this.getChild("dialog"));this.m_refuse=(this.getChild("refuse"))};MeetingAskPricePanelStruct.URL="ui://s33x8418jzhf1vm";MeetingAskPricePanelStruct.DependPackages=["PfSkin","Common"];return MeetingAskPricePanelStruct}(fairygui.GComponent));PfSkin.MeetingAskPricePanelStruct=MeetingAskPricePanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingAskPricePanel=(function(_super){__extends(MeetingAskPricePanel,_super);function MeetingAskPricePanel(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingAskPricePanel}(PfSkin.MeetingAskPricePanelStruct));PfSkin.MeetingAskPricePanel=MeetingAskPricePanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingGameItemStruct=(function(_super){__extends(MeetingGameItemStruct,_super);function MeetingGameItemStruct(){return _super.call(this)||this}MeetingGameItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingGameItem"))};MeetingGameItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dice=this.getController("dice")};MeetingGameItemStruct.URL="ui://s33x8418jzhf1vo";MeetingGameItemStruct.DependPackages=["PfSkin"];return MeetingGameItemStruct}(fairygui.GComponent));PfSkin.MeetingGameItemStruct=MeetingGameItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingGameItem=(function(_super){__extends(MeetingGameItem,_super);function MeetingGameItem(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingGameItem}(PfSkin.MeetingGameItemStruct));PfSkin.MeetingGameItem=MeetingGameItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingGamePanelStruct=(function(_super){__extends(MeetingGamePanelStruct,_super);function MeetingGamePanelStruct(){return _super.call(this)||this}MeetingGamePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingGamePanel"))};MeetingGamePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_other=(this.getChild("other"));this.m_title=(this.getChild("title"));this.m_minelist=(this.getChild("minelist"));this.m_head=(this.getChild("head"));this.m_target=(this.getChild("target"));this.m_stopBtn=(this.getChild("stopBtn"))};MeetingGamePanelStruct.URL="ui://s33x8418jzhf1vp";MeetingGamePanelStruct.DependPackages=["PfSkin","Common"];return MeetingGamePanelStruct}(fairygui.GComponent));PfSkin.MeetingGamePanelStruct=MeetingGamePanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingGamePanel=(function(_super){__extends(MeetingGamePanel,_super);function MeetingGamePanel(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingGamePanel}(PfSkin.MeetingGamePanelStruct));PfSkin.MeetingGamePanel=MeetingGamePanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingPlayerItemStruct=(function(_super){__extends(MeetingPlayerItemStruct,_super);function MeetingPlayerItemStruct(){return _super.call(this)||this}MeetingPlayerItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingPlayerItem"))};MeetingPlayerItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};MeetingPlayerItemStruct.URL="ui://s33x8418jzhf1vn";MeetingPlayerItemStruct.DependPackages=["PfSkin"];return MeetingPlayerItemStruct}(fairygui.GComponent));PfSkin.MeetingPlayerItemStruct=MeetingPlayerItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingPlayerItem=(function(_super){__extends(MeetingPlayerItem,_super);function MeetingPlayerItem(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingPlayerItem}(PfSkin.MeetingPlayerItemStruct));PfSkin.MeetingPlayerItem=MeetingPlayerItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingResultPanelStruct=(function(_super){__extends(MeetingResultPanelStruct,_super);function MeetingResultPanelStruct(){return _super.call(this)||this}MeetingResultPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingResultPanel"))};MeetingResultPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_paylist=(this.getChild("paylist"));this.m_next=(this.getChild("next"));this.m_okBtn=(this.getChild("okBtn"));this.m_head=(this.getChild("head"));this.m_dialog=(this.getChild("dialog"));this.m_refuse=(this.getChild("refuse"))};MeetingResultPanelStruct.URL="ui://s33x8418jzhf1vq";MeetingResultPanelStruct.DependPackages=["PfSkin","Common"];return MeetingResultPanelStruct}(fairygui.GComponent));PfSkin.MeetingResultPanelStruct=MeetingResultPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingResultPanel=(function(_super){__extends(MeetingResultPanel,_super);function MeetingResultPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingResultPanel}(PfSkin.MeetingResultPanelStruct));PfSkin.MeetingResultPanel=MeetingResultPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingUIStruct=(function(_super){__extends(MeetingUIStruct,_super);function MeetingUIStruct(){return _super.call(this)||this}MeetingUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MeetingUI"))};MeetingUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_startMeeting=(this.getChild("startMeeting"));this.m_askPrice=(this.getChild("askPrice"));this.m_gamePanel=(this.getChild("gamePanel"));this.m_resultPanel=(this.getChild("resultPanel"))};MeetingUIStruct.URL="ui://s33x8418jzhf1vi";MeetingUIStruct.DependPackages=["PfSkin"];return MeetingUIStruct}(fairygui.GComponent));PfSkin.MeetingUIStruct=MeetingUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MeetingUI=(function(_super){__extends(MeetingUI,_super);function MeetingUI(){return _super!==null&&_super.apply(this,arguments)||this}return MeetingUI}(PfSkin.MeetingUIStruct));PfSkin.MeetingUI=MeetingUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MenuIconStruct=(function(_super){__extends(MenuIconStruct,_super);function MenuIconStruct(){return _super.call(this)||this}MenuIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MenuIcon"))};MenuIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_trColor=this.getController("trColor");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};MenuIconStruct.URL="ui://s33x8418pn361w2";MenuIconStruct.DependPackages=["PfSkin","Common"];return MenuIconStruct}(fairygui.GButton));PfSkin.MenuIconStruct=MenuIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MenuIcon=(function(_super){__extends(MenuIcon,_super);function MenuIcon(){return _super!==null&&_super.apply(this,arguments)||this}return MenuIcon}(PfSkin.MenuIconStruct));PfSkin.MenuIcon=MenuIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MettingStartPanelStruct=(function(_super){__extends(MettingStartPanelStruct,_super);function MettingStartPanelStruct(){return _super.call(this)||this}MettingStartPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MettingStartPanel"))};MettingStartPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_next=(this.getChild("next"));this.m_dialog=(this.getChild("dialog"));this.m_cancleBtn=(this.getChild("cancleBtn"));this.m_okBtn=(this.getChild("okBtn"))};MettingStartPanelStruct.URL="ui://s33x8418jzhf1vj";MettingStartPanelStruct.DependPackages=["PfSkin"];return MettingStartPanelStruct}(fairygui.GComponent));PfSkin.MettingStartPanelStruct=MettingStartPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MettingStartPanel=(function(_super){__extends(MettingStartPanel,_super);function MettingStartPanel(){return _super!==null&&_super.apply(this,arguments)||this}return MettingStartPanel}(PfSkin.MettingStartPanelStruct));PfSkin.MettingStartPanel=MettingStartPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ModalUIStruct=(function(_super){__extends(ModalUIStruct,_super);function ModalUIStruct(){return _super.call(this)||this}ModalUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ModalUI"))};ModalUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ModalUIStruct.URL="ui://s33x8418jazc1li";ModalUIStruct.DependPackages=["PfSkin"];return ModalUIStruct}(fairygui.GComponent));PfSkin.ModalUIStruct=ModalUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ModalUI=(function(_super){__extends(ModalUI,_super);function ModalUI(){return _super!==null&&_super.apply(this,arguments)||this}return ModalUI}(PfSkin.ModalUIStruct));PfSkin.ModalUI=ModalUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieIconStruct=(function(_super){__extends(MovieIconStruct,_super);function MovieIconStruct(){return _super.call(this)||this}MovieIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MovieIcon"))};MovieIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_kuang=(this.getChild("kuang"));this.m_icon=(this.getChild("icon"))};MovieIconStruct.URL="ui://s33x8418l8141v8";MovieIconStruct.DependPackages=["PfSkin","Common"];return MovieIconStruct}(fairygui.GButton));PfSkin.MovieIconStruct=MovieIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieIcon=(function(_super){__extends(MovieIcon,_super);function MovieIcon(){return _super!==null&&_super.apply(this,arguments)||this}return MovieIcon}(PfSkin.MovieIconStruct));PfSkin.MovieIcon=MovieIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieIcon_littleStruct=(function(_super){__extends(MovieIcon_littleStruct,_super);function MovieIcon_littleStruct(){return _super.call(this)||this}MovieIcon_littleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","movieIcon_little"))};MovieIcon_littleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};MovieIcon_littleStruct.URL="ui://s33x8418oebq1vl";MovieIcon_littleStruct.DependPackages=["PfSkin"];return MovieIcon_littleStruct}(fairygui.GButton));PfSkin.MovieIcon_littleStruct=MovieIcon_littleStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieIcon_little=(function(_super){__extends(MovieIcon_little,_super);function MovieIcon_little(){return _super!==null&&_super.apply(this,arguments)||this}return MovieIcon_little}(PfSkin.MovieIcon_littleStruct));PfSkin.MovieIcon_little=MovieIcon_little})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieInfoItemStruct=(function(_super){__extends(MovieInfoItemStruct,_super);function MovieInfoItemStruct(){return _super.call(this)||this}MovieInfoItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","MovieInfoItem"))};MovieInfoItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_boxOffice=(this.getChild("boxOffice"));this.m_lv=(this.getChild("lv"))};MovieInfoItemStruct.URL="ui://s33x8418jakwt1wx";MovieInfoItemStruct.DependPackages=["PfSkin","Common"];return MovieInfoItemStruct}(fairygui.GLabel));PfSkin.MovieInfoItemStruct=MovieInfoItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var MovieInfoItem=(function(_super){__extends(MovieInfoItem,_super);function MovieInfoItem(){return _super!==null&&_super.apply(this,arguments)||this}return MovieInfoItem}(PfSkin.MovieInfoItemStruct));PfSkin.MovieInfoItem=MovieInfoItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var NewArtistBgStruct=(function(_super){__extends(NewArtistBgStruct,_super);function NewArtistBgStruct(){return _super.call(this)||this}NewArtistBgStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","NewArtistBg"))};NewArtistBgStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};NewArtistBgStruct.URL="ui://s33x8418wgdot21e";NewArtistBgStruct.DependPackages=["PfSkin","Common"];return NewArtistBgStruct}(fairygui.GComponent));PfSkin.NewArtistBgStruct=NewArtistBgStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var NewArtistBg=(function(_super){__extends(NewArtistBg,_super);function NewArtistBg(){return _super!==null&&_super.apply(this,arguments)||this}return NewArtistBg}(PfSkin.NewArtistBgStruct));PfSkin.NewArtistBg=NewArtistBg})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var NewArtistItemStruct=(function(_super){__extends(NewArtistItemStruct,_super);function NewArtistItemStruct(){return _super.call(this)||this}NewArtistItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","NewArtistItem"))};NewArtistItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};NewArtistItemStruct.URL="ui://s33x8418wgdot21d";NewArtistItemStruct.DependPackages=["PfSkin"];return NewArtistItemStruct}(fairygui.GComponent));PfSkin.NewArtistItemStruct=NewArtistItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var NewArtistItem=(function(_super){__extends(NewArtistItem,_super);function NewArtistItem(){return _super!==null&&_super.apply(this,arguments)||this}return NewArtistItem}(PfSkin.NewArtistItemStruct));PfSkin.NewArtistItem=NewArtistItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderBoxStruct=(function(_super){__extends(OrderBoxStruct,_super);function OrderBoxStruct(){return _super.call(this)||this}OrderBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OrderBox"))};OrderBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};OrderBoxStruct.URL="ui://s33x8418lq441ut";OrderBoxStruct.DependPackages=["PfSkin"];return OrderBoxStruct}(fairygui.GButton));PfSkin.OrderBoxStruct=OrderBoxStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderBox=(function(_super){__extends(OrderBox,_super);function OrderBox(){return _super!==null&&_super.apply(this,arguments)||this}return OrderBox}(PfSkin.OrderBoxStruct));PfSkin.OrderBox=OrderBox})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderHeadItemStruct=(function(_super){__extends(OrderHeadItemStruct,_super);function OrderHeadItemStruct(){return _super.call(this)||this}OrderHeadItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OrderHeadItem"))};OrderHeadItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OrderHeadItemStruct.URL="ui://s33x8418lq441us";OrderHeadItemStruct.DependPackages=["PfSkin"];return OrderHeadItemStruct}(fairygui.GComponent));PfSkin.OrderHeadItemStruct=OrderHeadItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderHeadItem=(function(_super){__extends(OrderHeadItem,_super);function OrderHeadItem(){return _super!==null&&_super.apply(this,arguments)||this}return OrderHeadItem}(PfSkin.OrderHeadItemStruct));PfSkin.OrderHeadItem=OrderHeadItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderTargetItemStruct=(function(_super){__extends(OrderTargetItemStruct,_super);function OrderTargetItemStruct(){return _super.call(this)||this}OrderTargetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OrderTargetItem"))};OrderTargetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_c2=this.getController("c2");this.m_c3=this.getController("c3");this.m_c4=this.getController("c4");this.m_time=(this.getChild("time"));this.m_suo=(this.getChild("suo"));this.m_gou=(this.getChild("gou"));this.m_headIcon=(this.getChild("headIcon"));this.m_t0=this.getTransition("t0")};OrderTargetItemStruct.URL="ui://s33x8418lq441ur";OrderTargetItemStruct.DependPackages=["PfSkin"];return OrderTargetItemStruct}(fairygui.GButton));PfSkin.OrderTargetItemStruct=OrderTargetItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OrderTargetItem=(function(_super){__extends(OrderTargetItem,_super);function OrderTargetItem(){return _super!==null&&_super.apply(this,arguments)||this}return OrderTargetItem}(PfSkin.OrderTargetItemStruct));PfSkin.OrderTargetItem=OrderTargetItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarAnimStruct=(function(_super){__extends(OscarAnimStruct,_super);function OscarAnimStruct(){return _super.call(this)||this}OscarAnimStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarAnim"))};OscarAnimStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_ChairGroup1=(this.getChild("ChairGroup1"));this.m_ChairGroup2=(this.getChild("ChairGroup2"));this.m_ChairGroup3=(this.getChild("ChairGroup3"));this.m_ChairGroup4=(this.getChild("ChairGroup4"));this.m_actorContainner=(this.getChild("actorContainner"));this.m_speekerContainner=(this.getChild("speekerContainner"))};OscarAnimStruct.URL="ui://s33x8418iacmt1w5";OscarAnimStruct.DependPackages=["PfSkin"];return OscarAnimStruct}(fairygui.GComponent));PfSkin.OscarAnimStruct=OscarAnimStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PerformType=Games.PerformType;var AvatarManager=Games.AvatarManager;var DialogManager=Games.DialogManager;var OscarAwardsType=Games.OscarAwardsType;var OscarAnim=(function(_super){__extends(OscarAnim,_super);function OscarAnim(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.chairList=[];_this.avatarList=[];_this.winnerOrignalPos=0;_this.stageActorList=[];_this.enterIndex=-1;_this.bornOffset=150;_this.actorEnterNum=0;_this.actorLeaveNum=0;_this.speakerFinishIndex=0;_this.actorIndex=-1;_this.actorIdList=[];_this.oscarEnd=false;_this.currChairIndex=-1;return _this}OscarAnim.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.setScale(0.67,0.67);this.setPivot(0.5,0.5)};OscarAnim.prototype.showFor=function(parent,context){this.context=context;this.initAudience();parent.addChild(this);AvatarManager.sEventFinish.add(this.onAvatarEventFinish,this);DialogManager.sDialogFinish.add(this.onDialogFinish,this);DialogManager.sDialogEvent.add(this.onDialogEventFinish,this);this.startShow()};OscarAnim.prototype.startShow=function(){var _this=this;this.tween=Laya.Tween.to(this,{scaleX:0.8,scaleY:0.8},1500,Laya.Ease.linearIn,Handler.create(null,function(){_this.oscarEnd=false;_this.creatSpeeker();_this.context.m_animContainer.m_oscarBg.asCom.addChild(_this.getChildAt(0));_this.context.m_animContainer.m_oscarBg.setPivot(0.5,0.5);_this.context.m_animContainer.m_oscarBg.setScale(0.8,0.8);_this.context.AniStart()}),0,true,true)};OscarAnim.prototype.startTurnShow=function(arg){this.curPrizeData=arg;if(this.stageActorList.length>0){this.endTurnShowImmediately()}this.initActorList();this.creatStageActorList();if(arg.type>1){if(this.curPrizeData.listCandidate.length==0){this.startSpeekerDialog(this.getSpeekerNoWinnerEvent())}else{this.startSpeekerDialog(this.getSpeekerBeginEvent())}}};OscarAnim.prototype.endTurnShow=function(){console.log("endTurnShow");this.actorIndex=-1;this.winnerActor=null;this.actorLeaveNum=0;this.actorEnterNum=0;this.speakerFinishIndex=0;this.enterIndex=-1;this.stageActorList.length=0;this.stopSpeekerDialog();this.context.AniFinishPrize()};OscarAnim.prototype.endAllPrize=function(){console.log("endAllPrize");this.startSpeekerDialog(this.getSpeekerAllPrizeEndEvent())};OscarAnim.prototype.endShow=function(){if(!this.oscarEnd){console.log("endShow");this.oscarEnd=true;this.speekerA.stand();this.speekerB.stand();this.__dispose()}};OscarAnim.prototype.__dispose=function(){AvatarManager.sEventFinish.remove(this.onAvatarEventFinish,this);DialogManager.sDialogFinish.remove(this.onDialogFinish,this);DialogManager.sDialogEvent.remove(this.onDialogEventFinish,this);Laya.timer.clear(this,this.onTimeActorEnter);if(this.tween!=null){Laya.Tween.clear(this.tween);this.tween=null}this.stopSpeekerDialog();for(var _i=0,_a=this.stageActorList;_i<_a.length;_i++){var actor=_a[_i];actor.dispose()}this.stageActorList.length=0};OscarAnim.prototype.dispose=function(){this.__dispose();for(var _i=0,_a=this.avatarList;_i<_a.length;_i++){var avatar=_a[_i];if(avatar.info.type==Games.AvatarType.Actor){console.log("@@@endShow :"+avatar.info.config.id)}avatar.dispose()}this.avatarList.length=0;this.context=null};OscarAnim.prototype.actorLeaveStage=function(){var _this=this;if(this.oscarEnd){return}for(var i=this.stageActorList.length-1;i>=0;i--){var avatar=this.stageActorList[i];var dx=-100;if(avatar.y>Laya.stage.width/2){dx=Laya.stage.width+100}avatar.moveTo(dx,false,Handler.create(this,function(target){_this.actorLeaveNum++;if(target&&!target.isDestoryed){console.log("@endTurn : "+target.info.config.id);target.dispose();if(_this.isAllActorLeave){_this.endTurnShow()}}},[avatar]))}};OscarAnim.prototype.endTurnShowImmediately=function(){this.actorIndex=-1;this.winnerActor=null;this.actorLeaveNum=0;this.actorEnterNum=0;this.speakerFinishIndex=0;this.stopSpeekerDialog();this.enterIndex=-1;for(var i=this.stageActorList.length-1;i>=0;i--){var avatar=this.stageActorList[i];console.log("@@endTurnImmediately : "+avatar.info.config.id);avatar.dispose()}this.stageActorList.length=0};Object.defineProperty(OscarAnim.prototype,"isAllActorLeave",{get:function(){return this.actorLeaveNum>=this.stageActorList.length},enumerable:true,configurable:true});Object.defineProperty(OscarAnim.prototype,"isAllActorEnter",{get:function(){return this.actorEnterNum>=this.stageActorList.length},enumerable:true,configurable:true});OscarAnim.prototype.setWinner=function(arg){console.log("setWinner arg="+arg);this.winnerData=arg;var winnerIndex=this.curPrizeData.winnerIndex;var winnerId=this.actorIdList[winnerIndex];this.winnerActor=this.stageActorList.findOne(function(value){return value.info.id==winnerId});if(this.winnerActor){this.winnerActor.parent.setChildIndex(this.winnerActor,this.winnerActor.parent.numChildren-1);this.winnerOrignalPos=this.winnerActor.x;this.winnerActor.executeActionEvents(this.getWinnerActorEvent(),PerformType.Oscar)}this.startSpeekerDialog(this.getSpeekerWinnerEvent())};OscarAnim.prototype.onAvatarEventFinish=function(data){var _this=this;if(this.oscarEnd){return}if(data.performType==PerformType.Oscar){switch(data.eventId){case 6001:break;case 6002:if(!this.oscarEnd){this.context.ShowNextPrizeUI();if(this.curPrizeData.listCandidate.length==0){this.startSpeekerDialog(this.getSpeekerNoWinnerEvent())}else{this.startSpeekerDialog(this.getSpeekerBeginEvent())}}break;case 6019:break;case 6020:this.winnerActor.moveTo(this.winnerOrignalPos,false,Handler.create(this,function(){_this.actorLeaveStage()},null,true));break}}};OscarAnim.prototype.startSpeekerDialog=function(dialogs){if(!this.oscarEnd){if(this.speekerA&&this.speekerB){this.stopSpeekerDialog();this.dialog=DialogManager.startDialog(this.speekerA,this.speekerB,dialogs,PerformType.Oscar)}}};OscarAnim.prototype.stopSpeekerDialog=function(){if(this.dialog){this.dialog.endEvent(false);this.dialog=null}};OscarAnim.prototype.setTalkParams=function(events){for(var _i=0,events_1=events;_i<events_1.length;_i++){var event_1=events_1[_i];var argName="";switch(event_1.evtId){case 6003:argName=this.curPrizeData.name;event_1.setTalkParams(argName);break;case 6005:case 6006:case 6007:case 6009:case 6010:if(this.curPrizeData.listCandidate.length>0){this.actorIndex++;var minIndex=Math.min(this.actorIndex,this.curPrizeData.listCandidate.length-1);argName=this.curPrizeData.listCandidate[minIndex].name}event_1.setTalkParams(argName);break;case 6011:case 6012:if(this.curPrizeData.listCandidate.length>0){var rdIndex=Random.range(0,this.curPrizeData.listCandidate.length);argName=this.curPrizeData.listCandidate[rdIndex].name}event_1.setTalkParams(argName);break;case 6015:case 6017:argName=this.winnerData?this.winnerData.name:"this.winnerData undefine";if(!argName){argName="name is undefine"}event_1.setTalkParams(argName);break;case 6021:argName=this.curPrizeData.name;event_1.setTalkParams(argName);break}}};OscarAnim.prototype.onDialogFinish=function(performType){};OscarAnim.prototype.onDialogEventFinish=function(data){if(data.performType==Games.PerformType.Oscar){console.log("onDialogEventFinish "+data.eventId);switch(data.eventId){case 6003:this.onActorTimeEnterStage();break;case 6014:this.context.AniSelectCandidtate();break;case 6015:this.startSpeekerDialog(this.getSpeekerCongratulationEvent());break;case 6018:this.winnerActor.executeActionEvents(this.getWinnerActorTalkEvent(),PerformType.Oscar);break;case 6022:this.endTurnShow();break;case 6024:this.context.showOscarReward();break}}};OscarAnim.prototype.getSpeekerAEnterEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==1});var events=playActList[0].eventList;return events};OscarAnim.prototype.getSpeekerBEnterEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==2});var events=playActList[0].eventList;return events};OscarAnim.prototype.getSpeekerBeginEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==3});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getSpeekerSelectWinnerEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==5});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getSpeekerWinnerEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==6});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getSpeekerCongratulationEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==7});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getSpeekerNoWinnerEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%100==10});if(playActList.length==0){console.error("\u56FA\u5B9A\u8868\u6F14\u8868 \u6CA1\u6709\u67E5\u627E\u5230\u5BF9\u5E94\u7684\u6570\u636E\uFF0C OscarAnim.getSpeekerNoWinnerEvent(),  Game.config.playAct type="+PerformType.Oscar);return[]}var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getSpeekerAllPrizeEndEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%100==11});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getWinnerActorEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==8});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.getWinnerActorTalkEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Oscar&&value.data%10==9});var events=playActList[0].eventList;this.setTalkParams(events);return events};OscarAnim.prototype.creatAudience=function(){var _this=this;var aInfo=new Games.AvatarInfo();aInfo.type=Games.AvatarType.Npc;aInfo.idleName="audience_idle";aInfo.texturePath=Res.getAudienceSkin();aInfo.skeletonPath=Res.getAudienceSK();var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var scale=0.3;var offsetX=20;var offsetY=60;if(_this.currChairIndex<5){scale=0.3}else{if(_this.currChairIndex<10){scale=0.4}else{if(_this.currChairIndex<15){scale=0.5}}}avatar.setScale(scale);var bounds=avatar.getBounds();avatar.pos(bounds.width+offsetX,bounds.height+offsetY);var chairCom=_this.getChairCom();chairCom.displayObject.addChildAt(avatar,0);_this.avatarList.push(avatar)})};OscarAnim.prototype.initAudience=function(){var chairGroup1=this.m_ChairGroup1.asList;chairGroup1.touchable=false;for(var i=0;i<chairGroup1.numItems;i++){var chair=chairGroup1.getChildAt(i).asCom;this.chairList.push(chair)}var chairGroup2=this.m_ChairGroup2.asList;chairGroup2.touchable=false;for(var i=0;i<chairGroup2.numItems;i++){var chair=chairGroup2.getChildAt(i).asCom;this.chairList.push(chair)}var chairGroup3=this.m_ChairGroup3.asList;chairGroup3.touchable=false;for(var i=0;i<chairGroup3.numItems;i++){var chair=chairGroup3.getChildAt(i).asCom;this.chairList.push(chair)}this.avatarList.length=0;this.currChairIndex=-1;for(var i=0;i<this.chairList.length;i++){this.creatAudience()}};OscarAnim.prototype.getChairCom=function(){this.currChairIndex++;var chairCom=this.chairList.splice(0,1)[0];return chairCom};OscarAnim.prototype.creatSpeeker=function(npcId){var _this=this;if(npcId===void 0){npcId=201}var speekerIdA=201;var speekerIdB=202;var aInfoA=Games.AvatarInfo.creatByNpcId(speekerIdA);var aInfoB=Games.AvatarInfo.creatByNpcId(speekerIdB);var avatarA=Games.Avatar.Creat(aInfoA,function(AvatarInfo){_this.speekerA=avatarA;_this.speekerA.setScale(0.35,true);var bounds=_this.speekerA.getBounds();_this.speekerA.pos(bounds.width,bounds.height);_this.m_speekerContainner.displayObject.addChild(_this.speekerA);_this.avatarList.push(_this.speekerA);_this.speekerA.enterTo(-_this.bornOffset,Laya.stage.height/2-20);_this.speekerA.executeActionEvents(_this.getSpeekerAEnterEvent(),PerformType.Oscar)});var avatarB=Games.Avatar.Creat(aInfoB,function(AvatarInfo){_this.speekerB=avatarB;_this.speekerB.setScale(0.35,true);var bounds=_this.speekerB.getBounds();_this.speekerB.pos(bounds.width,bounds.height);_this.m_speekerContainner.displayObject.addChild(_this.speekerB);_this.avatarList.push(_this.speekerB);_this.speekerB.enterTo(Laya.stage.width+_this.bornOffset,Laya.stage.height/2-20);_this.speekerB.executeActionEvents(_this.getSpeekerBEnterEvent(),PerformType.Oscar)})};OscarAnim.prototype.initActorList=function(){this.actorIdList.length=0;for(var i=0;i<this.curPrizeData.listCandidate.length;i++){if(this.curPrizeData.type==OscarAwardsType.Man||this.curPrizeData.type==OscarAwardsType.Woman){this.actorIdList.push(this.curPrizeData.listCandidate[i].id)}else{var actors=Game.config.actor.getConfigList();actors=actors.filter(function(value,index,array){return value.id!=9998&&value.id!=9999});this.actorIdList.push(actors[Random.range(0,actors.length)].id)}}};OscarAnim.prototype.creatStageActorList=function(){var _this=this;var _loop_1=function(i){var actorId=this_1.actorIdList[i];var aInfo=Games.AvatarInfo.creatByAvatarId(actorId);var actor=Games.Avatar.Creat(aInfo,function(AvatarInfo){actor.setScale(0.3,true);_this.m_actorContainner.displayObject.addChild(actor);_this.stageActorList.push(actor);actor.enterTo(-_this.bornOffset,Laya.stage.height/2-110,Games.DirtionType.Right)})};var this_1=this;for(var i=0;i<this.actorIdList.length;i++){_loop_1(i)}};OscarAnim.prototype.onActorTimeEnterStage=function(){Laya.timer.loop(1500,this,this.onTimeActorEnter,null,true,true)};OscarAnim.prototype.onTimeActorEnter=function(){var _this=this;this.enterIndex++;if(this.enterIndex>this.stageActorList.length-1){Laya.timer.clear(this,this.onTimeActorEnter);return}var stageLeftOffset=30;var gap=(Laya.stage.width-stageLeftOffset)/4;var avatar=this.stageActorList[this.enterIndex];var leftPos=(Laya.stage.width-(this.stageActorList.length-1)*gap)*0.5;var targetPos=leftPos+this.enterIndex*gap;avatar.moveTo(targetPos,false,Handler.create(this,function(){_this.actorEnterNum++;if(_this.isAllActorEnter){_this.startSpeekerDialog(_this.getSpeekerSelectWinnerEvent())}},null,true))};return OscarAnim}(PfSkin.OscarAnimStruct));PfSkin.OscarAnim=OscarAnim})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarAwardsListPanelStruct=(function(_super){__extends(OscarAwardsListPanelStruct,_super);function OscarAwardsListPanelStruct(){return _super.call(this)||this}OscarAwardsListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarAwardsListPanel"))};OscarAwardsListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_checkDay=(this.getChild("checkDay"));this.m_btnClose=(this.getChild("btnClose"))};OscarAwardsListPanelStruct.URL="ui://s33x8418rjg3t1w1";OscarAwardsListPanelStruct.DependPackages=["PfSkin"];return OscarAwardsListPanelStruct}(fairygui.GComponent));PfSkin.OscarAwardsListPanelStruct=OscarAwardsListPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarAwardsListPanel=(function(_super){__extends(OscarAwardsListPanel,_super);function OscarAwardsListPanel(){return _super!==null&&_super.apply(this,arguments)||this}return OscarAwardsListPanel}(PfSkin.OscarAwardsListPanelStruct));PfSkin.OscarAwardsListPanel=OscarAwardsListPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarCandidateItemStruct=(function(_super){__extends(OscarCandidateItemStruct,_super);function OscarCandidateItemStruct(){return _super.call(this)||this}OscarCandidateItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarCandidateItem"))};OscarCandidateItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_title=(this.getChild("title"))};OscarCandidateItemStruct.URL="ui://s33x8418rjg3t1w4";OscarCandidateItemStruct.DependPackages=["PfSkin","Common"];return OscarCandidateItemStruct}(fairygui.GButton));PfSkin.OscarCandidateItemStruct=OscarCandidateItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarCandidateItem=(function(_super){__extends(OscarCandidateItem,_super);function OscarCandidateItem(){return _super!==null&&_super.apply(this,arguments)||this}return OscarCandidateItem}(PfSkin.OscarCandidateItemStruct));PfSkin.OscarCandidateItem=OscarCandidateItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair1Struct=(function(_super){__extends(OscarChair1Struct,_super);function OscarChair1Struct(){return _super.call(this)||this}OscarChair1Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarChair1"))};OscarChair1Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarChair1Struct.URL="ui://s33x8418iacmt1wd";OscarChair1Struct.DependPackages=["PfSkin"];return OscarChair1Struct}(fairygui.GComponent));PfSkin.OscarChair1Struct=OscarChair1Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair1=(function(_super){__extends(OscarChair1,_super);function OscarChair1(){return _super!==null&&_super.apply(this,arguments)||this}return OscarChair1}(PfSkin.OscarChair1Struct));PfSkin.OscarChair1=OscarChair1})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair2Struct=(function(_super){__extends(OscarChair2Struct,_super);function OscarChair2Struct(){return _super.call(this)||this}OscarChair2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarChair2"))};OscarChair2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarChair2Struct.URL="ui://s33x8418iacmt1we";OscarChair2Struct.DependPackages=["PfSkin"];return OscarChair2Struct}(fairygui.GComponent));PfSkin.OscarChair2Struct=OscarChair2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair2=(function(_super){__extends(OscarChair2,_super);function OscarChair2(){return _super!==null&&_super.apply(this,arguments)||this}return OscarChair2}(PfSkin.OscarChair2Struct));PfSkin.OscarChair2=OscarChair2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair3Struct=(function(_super){__extends(OscarChair3Struct,_super);function OscarChair3Struct(){return _super.call(this)||this}OscarChair3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarChair3"))};OscarChair3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarChair3Struct.URL="ui://s33x8418iacmt1wf";OscarChair3Struct.DependPackages=["PfSkin"];return OscarChair3Struct}(fairygui.GComponent));PfSkin.OscarChair3Struct=OscarChair3Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair3=(function(_super){__extends(OscarChair3,_super);function OscarChair3(){return _super!==null&&_super.apply(this,arguments)||this}return OscarChair3}(PfSkin.OscarChair3Struct));PfSkin.OscarChair3=OscarChair3})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair4Struct=(function(_super){__extends(OscarChair4Struct,_super);function OscarChair4Struct(){return _super.call(this)||this}OscarChair4Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarChair4"))};OscarChair4Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarChair4Struct.URL="ui://s33x8418iacmt1wh";OscarChair4Struct.DependPackages=["PfSkin"];return OscarChair4Struct}(fairygui.GComponent));PfSkin.OscarChair4Struct=OscarChair4Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarChair4=(function(_super){__extends(OscarChair4,_super);function OscarChair4(){return _super!==null&&_super.apply(this,arguments)||this}return OscarChair4}(PfSkin.OscarChair4Struct));PfSkin.OscarChair4=OscarChair4})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarContainerStruct=(function(_super){__extends(OscarContainerStruct,_super);function OscarContainerStruct(){return _super.call(this)||this}OscarContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarContainer"))};OscarContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarContainerStruct.URL="ui://s33x8418iacmt1wj";OscarContainerStruct.DependPackages=["PfSkin"];return OscarContainerStruct}(fairygui.GComponent));PfSkin.OscarContainerStruct=OscarContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarContainer=(function(_super){__extends(OscarContainer,_super);function OscarContainer(){return _super!==null&&_super.apply(this,arguments)||this}return OscarContainer}(PfSkin.OscarContainerStruct));PfSkin.OscarContainer=OscarContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarCupItemStruct=(function(_super){__extends(OscarCupItemStruct,_super);function OscarCupItemStruct(){return _super.call(this)||this}OscarCupItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarCupItem"))};OscarCupItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_buttonState=this.getController("buttonState");this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_btnCongra=(this.getChild("btnCongra"));this.m_btnReward=(this.getChild("btnReward"))};OscarCupItemStruct.URL="ui://s33x8418iybct1vs";OscarCupItemStruct.DependPackages=["PfSkin"];return OscarCupItemStruct}(fairygui.GLabel));PfSkin.OscarCupItemStruct=OscarCupItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarCupItem=(function(_super){__extends(OscarCupItem,_super);function OscarCupItem(){return _super!==null&&_super.apply(this,arguments)||this}return OscarCupItem}(PfSkin.OscarCupItemStruct));PfSkin.OscarCupItem=OscarCupItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDailyCheckboxStruct=(function(_super){__extends(OscarDailyCheckboxStruct,_super);function OscarDailyCheckboxStruct(){return _super.call(this)||this}OscarDailyCheckboxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarDailyCheckbox"))};OscarDailyCheckboxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};OscarDailyCheckboxStruct.URL="ui://s33x8418puw0t1w7";OscarDailyCheckboxStruct.DependPackages=["PfSkin"];return OscarDailyCheckboxStruct}(fairygui.GButton));PfSkin.OscarDailyCheckboxStruct=OscarDailyCheckboxStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDailyCheckbox=(function(_super){__extends(OscarDailyCheckbox,_super);function OscarDailyCheckbox(){return _super!==null&&_super.apply(this,arguments)||this}return OscarDailyCheckbox}(PfSkin.OscarDailyCheckboxStruct));PfSkin.OscarDailyCheckbox=OscarDailyCheckbox})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmuStruct=(function(_super){__extends(OscarDanmuStruct,_super);function OscarDanmuStruct(){return _super.call(this)||this}OscarDanmuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarDanmu"))};OscarDanmuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"))};OscarDanmuStruct.URL="ui://s33x8418p9t7t1x0";OscarDanmuStruct.DependPackages=["PfSkin"];return OscarDanmuStruct}(fairygui.GComponent));PfSkin.OscarDanmuStruct=OscarDanmuStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmu=(function(_super){__extends(OscarDanmu,_super);function OscarDanmu(){return _super!==null&&_super.apply(this,arguments)||this}return OscarDanmu}(PfSkin.OscarDanmuStruct));PfSkin.OscarDanmu=OscarDanmu})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmuContentStruct=(function(_super){__extends(OscarDanmuContentStruct,_super);function OscarDanmuContentStruct(){return _super.call(this)||this}OscarDanmuContentStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarDanmuContent"))};OscarDanmuContentStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};OscarDanmuContentStruct.URL="ui://s33x8418p9t7t1x1";OscarDanmuContentStruct.DependPackages=["PfSkin"];return OscarDanmuContentStruct}(fairygui.GLabel));PfSkin.OscarDanmuContentStruct=OscarDanmuContentStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmuContent=(function(_super){__extends(OscarDanmuContent,_super);function OscarDanmuContent(){return _super!==null&&_super.apply(this,arguments)||this}return OscarDanmuContent}(PfSkin.OscarDanmuContentStruct));PfSkin.OscarDanmuContent=OscarDanmuContent})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmuWayStruct=(function(_super){__extends(OscarDanmuWayStruct,_super);function OscarDanmuWayStruct(){return _super.call(this)||this}OscarDanmuWayStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarDanmuWay"))};OscarDanmuWayStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_talkContent=(this.getChild("talkContent"))};OscarDanmuWayStruct.URL="ui://s33x8418p9t7t1x2";OscarDanmuWayStruct.DependPackages=["PfSkin"];return OscarDanmuWayStruct}(fairygui.GComponent));PfSkin.OscarDanmuWayStruct=OscarDanmuWayStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarDanmuWay=(function(_super){__extends(OscarDanmuWay,_super);function OscarDanmuWay(){return _super!==null&&_super.apply(this,arguments)||this}return OscarDanmuWay}(PfSkin.OscarDanmuWayStruct));PfSkin.OscarDanmuWay=OscarDanmuWay})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarPanelStruct=(function(_super){__extends(OscarPanelStruct,_super);function OscarPanelStruct(){return _super.call(this)||this}OscarPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarPanel"))};OscarPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OscarPanelStruct.URL="ui://s33x8418p9t7t1wz";OscarPanelStruct.DependPackages=["PfSkin"];return OscarPanelStruct}(fairygui.GComponent));PfSkin.OscarPanelStruct=OscarPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarPanel=(function(_super){__extends(OscarPanel,_super);function OscarPanel(){return _super!==null&&_super.apply(this,arguments)||this}return OscarPanel}(PfSkin.OscarPanelStruct));PfSkin.OscarPanel=OscarPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarRewardItemStruct=(function(_super){__extends(OscarRewardItemStruct,_super);function OscarRewardItemStruct(){return _super.call(this)||this}OscarRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarRewardItem"))};OscarRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardState=this.getController("rewardState");this.m_isNew=this.getController("isNew");this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_info=(this.getChild("info"));this.m_list=(this.getChild("list"));this.m_btnReward=(this.getChild("btnReward"))};OscarRewardItemStruct.URL="ui://s33x8418rjg3t1w0";OscarRewardItemStruct.DependPackages=["PfSkin","Common"];return OscarRewardItemStruct}(fairygui.GComponent));PfSkin.OscarRewardItemStruct=OscarRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarRewardItem=(function(_super){__extends(OscarRewardItem,_super);function OscarRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return OscarRewardItem}(PfSkin.OscarRewardItemStruct));PfSkin.OscarRewardItem=OscarRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarRewardPanelStruct=(function(_super){__extends(OscarRewardPanelStruct,_super);function OscarRewardPanelStruct(){return _super.call(this)||this}OscarRewardPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarRewardPanel"))};OscarRewardPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_btnConfirm=(this.getChild("btnConfirm"))};OscarRewardPanelStruct.URL="ui://s33x8418rjg3t1vw";OscarRewardPanelStruct.DependPackages=["PfSkin","Common"];return OscarRewardPanelStruct}(fairygui.GComponent));PfSkin.OscarRewardPanelStruct=OscarRewardPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarRewardPanel=(function(_super){__extends(OscarRewardPanel,_super);function OscarRewardPanel(){return _super!==null&&_super.apply(this,arguments)||this}return OscarRewardPanel}(PfSkin.OscarRewardPanelStruct));PfSkin.OscarRewardPanel=OscarRewardPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarShowPanelStruct=(function(_super){__extends(OscarShowPanelStruct,_super);function OscarShowPanelStruct(){return _super.call(this)||this}OscarShowPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OscarShowPanel"))};OscarShowPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_actorControl=(this.getChild("actorControl"));this.m_listCandidate=(this.getChild("listCandidate"));this.m_listOscarCup=(this.getChild("listOscarCup"));this.m_showPoint=(this.getChild("showPoint"));this.m_animContainer=(this.getChild("animContainer"));this.m_winnerItem=(this.getChild("winnerItem"));this.m_danmu=(this.getChild("danmu"));this.m_btnNext=(this.getChild("btnNext"));this.m_input=(this.getChild("input"));this.m_btnSend=(this.getChild("btnSend"));this.m_btnClose=(this.getChild("btnClose"))};OscarShowPanelStruct.URL="ui://s33x8418iybct1vp";OscarShowPanelStruct.DependPackages=["PfSkin"];return OscarShowPanelStruct}(fairygui.GComponent));PfSkin.OscarShowPanelStruct=OscarShowPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OscarShowPanel=(function(_super){__extends(OscarShowPanel,_super);function OscarShowPanel(){return _super!==null&&_super.apply(this,arguments)||this}return OscarShowPanel}(PfSkin.OscarShowPanelStruct));PfSkin.OscarShowPanel=OscarShowPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OtherPlayerUIStruct=(function(_super){__extends(OtherPlayerUIStruct,_super);function OtherPlayerUIStruct(){return _super.call(this)||this}OtherPlayerUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","OtherPlayerUI"))};OtherPlayerUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_di=(this.getChild("di"));this.m_list=(this.getChild("list"));this.m_closeBtn=(this.getChild("closeBtn"))};OtherPlayerUIStruct.URL="ui://s33x8418lq441ul";OtherPlayerUIStruct.DependPackages=["PfSkin","Common"];return OtherPlayerUIStruct}(fairygui.GComponent));PfSkin.OtherPlayerUIStruct=OtherPlayerUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var OtherPlayerUI=(function(_super){__extends(OtherPlayerUI,_super);function OtherPlayerUI(){return _super!==null&&_super.apply(this,arguments)||this}return OtherPlayerUI}(PfSkin.OtherPlayerUIStruct));PfSkin.OtherPlayerUI=OtherPlayerUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PactIconStruct=(function(_super){__extends(PactIconStruct,_super);function PactIconStruct(){return _super.call(this)||this}PactIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","PactIcon"))};PactIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};PactIconStruct.URL="ui://s33x8418oebq1vv";PactIconStruct.DependPackages=["PfSkin"];return PactIconStruct}(fairygui.GButton));PfSkin.PactIconStruct=PactIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PactIcon=(function(_super){__extends(PactIcon,_super);function PactIcon(){return _super!==null&&_super.apply(this,arguments)||this}return PactIcon}(PfSkin.PactIconStruct));PfSkin.PactIcon=PactIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PactItemStruct=(function(_super){__extends(PactItemStruct,_super);function PactItemStruct(){return _super.call(this)||this}PactItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","PactItem"))};PactItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_state=this.getController("state");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};PactItemStruct.URL="ui://s33x8418mywn1kp";PactItemStruct.DependPackages=["PfSkin","Common"];return PactItemStruct}(fairygui.GButton));PfSkin.PactItemStruct=PactItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PactItem=(function(_super){__extends(PactItem,_super);function PactItem(){return _super!==null&&_super.apply(this,arguments)||this}return PactItem}(PfSkin.PactItemStruct));PfSkin.PactItem=PactItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PlayerMovieInfoStruct=(function(_super){__extends(PlayerMovieInfoStruct,_super);function PlayerMovieInfoStruct(){return _super.call(this)||this}PlayerMovieInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","PlayerMovieInfo"))};PlayerMovieInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listMovieLv=(this.getChild("listMovieLv"));this.m_listBestMovie=(this.getChild("listBestMovie"));this.m_listMovieSeries=(this.getChild("listMovieSeries"))};PlayerMovieInfoStruct.URL="ui://s33x8418jakwt1wy";PlayerMovieInfoStruct.DependPackages=["PfSkin"];return PlayerMovieInfoStruct}(fairygui.GComponent));PfSkin.PlayerMovieInfoStruct=PlayerMovieInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PlayerMovieInfo=(function(_super){__extends(PlayerMovieInfo,_super);function PlayerMovieInfo(){return _super!==null&&_super.apply(this,arguments)||this}return PlayerMovieInfo}(PfSkin.PlayerMovieInfoStruct));PfSkin.PlayerMovieInfo=PlayerMovieInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarStruct=(function(_super){__extends(ProgressBarStruct,_super);function ProgressBarStruct(){return _super.call(this)||this}ProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ProgressBar"))};ProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarStruct.URL="ui://s33x8418mywn1ka";ProgressBarStruct.DependPackages=["PfSkin"];return ProgressBarStruct}(fairygui.GProgressBar));PfSkin.ProgressBarStruct=ProgressBarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBar=(function(_super){__extends(ProgressBar,_super);function ProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBar}(PfSkin.ProgressBarStruct));PfSkin.ProgressBar=ProgressBar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarLevelStruct=(function(_super){__extends(ProgressBarLevelStruct,_super);function ProgressBarLevelStruct(){return _super.call(this)||this}ProgressBarLevelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ProgressBarLevel"))};ProgressBarLevelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};ProgressBarLevelStruct.URL="ui://s33x8418jazc1mk";ProgressBarLevelStruct.DependPackages=["PfSkin"];return ProgressBarLevelStruct}(fairygui.GProgressBar));PfSkin.ProgressBarLevelStruct=ProgressBarLevelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarLevel=(function(_super){__extends(ProgressBarLevel,_super);function ProgressBarLevel(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarLevel}(PfSkin.ProgressBarLevelStruct));PfSkin.ProgressBarLevel=ProgressBarLevel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarPurple2Struct=(function(_super){__extends(ProgressBarPurple2Struct,_super);function ProgressBarPurple2Struct(){return _super.call(this)||this}ProgressBarPurple2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ProgressBarPurple2"))};ProgressBarPurple2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};ProgressBarPurple2Struct.URL="ui://s33x8418jazc1mm";ProgressBarPurple2Struct.DependPackages=["PfSkin"];return ProgressBarPurple2Struct}(fairygui.GProgressBar));PfSkin.ProgressBarPurple2Struct=ProgressBarPurple2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarPurple2=(function(_super){__extends(ProgressBarPurple2,_super);function ProgressBarPurple2(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarPurple2}(PfSkin.ProgressBarPurple2Struct));PfSkin.ProgressBarPurple2=ProgressBarPurple2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarYellowStruct=(function(_super){__extends(ProgressBarYellowStruct,_super);function ProgressBarYellowStruct(){return _super.call(this)||this}ProgressBarYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ProgressBarYellow"))};ProgressBarYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};ProgressBarYellowStruct.URL="ui://s33x8418jazc1mn";ProgressBarYellowStruct.DependPackages=["PfSkin","Common"];return ProgressBarYellowStruct}(fairygui.GProgressBar));PfSkin.ProgressBarYellowStruct=ProgressBarYellowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBarYellow=(function(_super){__extends(ProgressBarYellow,_super);function ProgressBarYellow(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBarYellow}(PfSkin.ProgressBarYellowStruct));PfSkin.ProgressBarYellow=ProgressBarYellow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBar_roadshowStruct=(function(_super){__extends(ProgressBar_roadshowStruct,_super);function ProgressBar_roadshowStruct(){return _super.call(this)||this}ProgressBar_roadshowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ProgressBar_roadshow"))};ProgressBar_roadshowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"));this.m_aniProgress=this.getTransition("aniProgress")};ProgressBar_roadshowStruct.URL="ui://s33x8418mywn1ke";ProgressBar_roadshowStruct.DependPackages=["PfSkin"];return ProgressBar_roadshowStruct}(fairygui.GProgressBar));PfSkin.ProgressBar_roadshowStruct=ProgressBar_roadshowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ProgressBar_roadshow=(function(_super){__extends(ProgressBar_roadshow,_super);function ProgressBar_roadshow(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBar_roadshow}(PfSkin.ProgressBar_roadshowStruct));PfSkin.ProgressBar_roadshow=ProgressBar_roadshow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PropItemStruct=(function(_super){__extends(PropItemStruct,_super);function PropItemStruct(){return _super.call(this)||this}PropItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","PropItem"))};PropItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_type=this.getController("type");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"));this.m_red=(this.getChild("red"))};PropItemStruct.URL="ui://s33x8418mywn1ko";PropItemStruct.DependPackages=["PfSkin","MainUI","Common"];return PropItemStruct}(fairygui.GButton));PfSkin.PropItemStruct=PropItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PropItem=(function(_super){__extends(PropItem,_super);function PropItem(){return _super!==null&&_super.apply(this,arguments)||this}return PropItem}(PfSkin.PropItemStruct));PfSkin.PropItem=PropItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PublicNoticePanelStruct=(function(_super){__extends(PublicNoticePanelStruct,_super);function PublicNoticePanelStruct(){return _super.call(this)||this}PublicNoticePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","PublicNoticePanel"))};PublicNoticePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_viewPanel=(this.getChild("viewPanel"));this.m_labContent=(this.getChild("labContent"));this.m_checkBox=(this.getChild("checkBox"))};PublicNoticePanelStruct.URL="ui://s33x8418l8141v9";PublicNoticePanelStruct.DependPackages=["PfSkin"];return PublicNoticePanelStruct}(fairygui.GComponent));PfSkin.PublicNoticePanelStruct=PublicNoticePanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var PublicNoticePanel=(function(_super){__extends(PublicNoticePanel,_super);function PublicNoticePanel(){return _super!==null&&_super.apply(this,arguments)||this}return PublicNoticePanel}(PfSkin.PublicNoticePanelStruct));PfSkin.PublicNoticePanel=PublicNoticePanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankGroupItemStruct=(function(_super){__extends(RankGroupItemStruct,_super);function RankGroupItemStruct(){return _super.call(this)||this}RankGroupItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankGroupItem"))};RankGroupItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_hasReward=this.getController("hasReward");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtName=(this.getChild("txtName"));this.m_labIcon=(this.getChild("labIcon"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_labReward=(this.getChild("labReward"));this.m_btnCongratulate=(this.getChild("btnCongratulate"));this.m_aniBling=this.getTransition("aniBling")};RankGroupItemStruct.URL="ui://s33x8418oebq1vm";RankGroupItemStruct.DependPackages=["PfSkin"];return RankGroupItemStruct}(fairygui.GLabel));PfSkin.RankGroupItemStruct=RankGroupItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankGroupItem=(function(_super){__extends(RankGroupItem,_super);function RankGroupItem(){return _super!==null&&_super.apply(this,arguments)||this}return RankGroupItem}(PfSkin.RankGroupItemStruct));PfSkin.RankGroupItem=RankGroupItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankGroupMovieItemStruct=(function(_super){__extends(RankGroupMovieItemStruct,_super);function RankGroupMovieItemStruct(){return _super.call(this)||this}RankGroupMovieItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankGroupMovieItem"))};RankGroupMovieItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtMovieName=(this.getChild("txtMovieName"));this.m_txtName=(this.getChild("txtName"));this.m_btnMovie=(this.getChild("btnMovie"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnCongratulate=(this.getChild("btnCongratulate"));this.m_aniBling=this.getTransition("aniBling")};RankGroupMovieItemStruct.URL="ui://s33x8418oebq1vp";RankGroupMovieItemStruct.DependPackages=["PfSkin","Common"];return RankGroupMovieItemStruct}(fairygui.GLabel));PfSkin.RankGroupMovieItemStruct=RankGroupMovieItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankGroupMovieItem=(function(_super){__extends(RankGroupMovieItem,_super);function RankGroupMovieItem(){return _super!==null&&_super.apply(this,arguments)||this}return RankGroupMovieItem}(PfSkin.RankGroupMovieItemStruct));PfSkin.RankGroupMovieItem=RankGroupMovieItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankItemStruct=(function(_super){__extends(RankItemStruct,_super);function RankItemStruct(){return _super.call(this)||this}RankItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankItem"))};RankItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtName=(this.getChild("txtName"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnMovie=(this.getChild("btnMovie"));this.m_btnPlayer=(this.getChild("btnPlayer"));this.m_labIcon=(this.getChild("labIcon"));this.m_aniBling=this.getTransition("aniBling")};RankItemStruct.URL="ui://s33x8418swip1o0";RankItemStruct.DependPackages=["PfSkin","Common"];return RankItemStruct}(fairygui.GLabel));PfSkin.RankItemStruct=RankItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankItem=(function(_super){__extends(RankItem,_super);function RankItem(){return _super!==null&&_super.apply(this,arguments)||this}return RankItem}(PfSkin.RankItemStruct));PfSkin.RankItem=RankItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankMainPanelStruct=(function(_super){__extends(RankMainPanelStruct,_super);function RankMainPanelStruct(){return _super.call(this)||this}RankMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankMainPanel"))};RankMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip=(this.getChild("txtTip"));this.m_txtChangeName=(this.getChild("txtChangeName"));this.m_rankList=(this.getChild("rankList"));this.m_btnChangeName=(this.getChild("btnChangeName"));this.m_btnHelp=(this.getChild("btnHelp"));this.m_btnClose=(this.getChild("btnClose"));this.m_rank1=(this.getChild("rank1"));this.m_rank2=(this.getChild("rank2"));this.m_rank3=(this.getChild("rank3"));this.m_userRank=(this.getChild("userRank"));this.m_marquee=(this.getChild("marquee"))};RankMainPanelStruct.URL="ui://s33x8418swip1nx";RankMainPanelStruct.DependPackages=["PfSkin","Common"];return RankMainPanelStruct}(fairygui.GComponent));PfSkin.RankMainPanelStruct=RankMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankMainPanel=(function(_super){__extends(RankMainPanel,_super);function RankMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}return RankMainPanel}(PfSkin.RankMainPanelStruct));PfSkin.RankMainPanel=RankMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankMovieInfoStruct=(function(_super){__extends(RankMovieInfoStruct,_super);function RankMovieInfoStruct(){return _super.call(this)||this}RankMovieInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankMovieInfo"))};RankMovieInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_upDaban=(this.getChild("upDaban"));this.m_diban=(this.getChild("diban"));this.m_dibian=(this.getChild("dibian"));this.m_daban=(this.getChild("daban"));this.m_daojiao=(this.getChild("daojiao"));this.m_name=(this.getChild("name"));this.m_time=(this.getChild("time"));this.m_filmLabelList=(this.getChild("filmLabelList"));this.m_mdiaEaluation=(this.getChild("mdiaEaluation"));this.m_praise=(this.getChild("praise"));this.m_txtDesc=(this.getChild("txtDesc"));this.m_listActor=(this.getChild("listActor"));this.m_listCup=(this.getChild("listCup"));this.m_btnClose=(this.getChild("btnClose"));this.m_movieIcon=(this.getChild("movieIcon"));this.m_filmType=(this.getChild("filmType"));this.m_star=(this.getChild("star"));this.m_t1=this.getTransition("t1")};RankMovieInfoStruct.URL="ui://s33x8418l8141v6";RankMovieInfoStruct.DependPackages=["PfSkin","Common"];return RankMovieInfoStruct}(fairygui.GComponent));PfSkin.RankMovieInfoStruct=RankMovieInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankMovieInfo=(function(_super){__extends(RankMovieInfo,_super);function RankMovieInfo(){return _super!==null&&_super.apply(this,arguments)||this}return RankMovieInfo}(PfSkin.RankMovieInfoStruct));PfSkin.RankMovieInfo=RankMovieInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankPlayerInfoStruct=(function(_super){__extends(RankPlayerInfoStruct,_super);function RankPlayerInfoStruct(){return _super.call(this)||this}RankPlayerInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankPlayerInfo"))};RankPlayerInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_lv=(this.getChild("lv"));this.m_union=(this.getChild("union"));this.m_street=(this.getChild("street"));this.m_build=(this.getChild("build"));this.m_actor=(this.getChild("actor"));this.m_market=(this.getChild("market"));this.m_playerIcon=(this.getChild("playerIcon"))};RankPlayerInfoStruct.URL="ui://s33x8418jakwt1ww";RankPlayerInfoStruct.DependPackages=["PfSkin"];return RankPlayerInfoStruct}(fairygui.GComponent));PfSkin.RankPlayerInfoStruct=RankPlayerInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankPlayerInfo=(function(_super){__extends(RankPlayerInfo,_super);function RankPlayerInfo(){return _super!==null&&_super.apply(this,arguments)||this}return RankPlayerInfo}(PfSkin.RankPlayerInfoStruct));PfSkin.RankPlayerInfo=RankPlayerInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankPlayerInfoPanelStruct=(function(_super){__extends(RankPlayerInfoPanelStruct,_super);function RankPlayerInfoPanelStruct(){return _super.call(this)||this}RankPlayerInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankPlayerInfoPanel"))};RankPlayerInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"));this.m_info=(this.getChild("info"));this.m_movie=(this.getChild("movie"))};RankPlayerInfoPanelStruct.URL="ui://s33x8418jakwt1wr";RankPlayerInfoPanelStruct.DependPackages=["PfSkin","Common"];return RankPlayerInfoPanelStruct}(fairygui.GComponent));PfSkin.RankPlayerInfoPanelStruct=RankPlayerInfoPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankPlayerInfoPanel=(function(_super){__extends(RankPlayerInfoPanel,_super);function RankPlayerInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}return RankPlayerInfoPanel}(PfSkin.RankPlayerInfoPanelStruct));PfSkin.RankPlayerInfoPanel=RankPlayerInfoPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRenamePanelStruct=(function(_super){__extends(RankRenamePanelStruct,_super);function RankRenamePanelStruct(){return _super.call(this)||this}RankRenamePanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankRenamePanel"))};RankRenamePanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_titleName=(this.getChild("titleName"));this.m_inputName=(this.getChild("inputName"));this.m_txtContent=(this.getChild("txtContent"));this.m_btn_close=(this.getChild("btn_close"));this.m_btn_rename=(this.getChild("btn_rename"));this.m_btn_editor=(this.getChild("btn_editor"))};RankRenamePanelStruct.URL="ui://s33x8418l8141ve";RankRenamePanelStruct.DependPackages=["PfSkin","Common"];return RankRenamePanelStruct}(fairygui.GComponent));PfSkin.RankRenamePanelStruct=RankRenamePanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRenamePanel=(function(_super){__extends(RankRenamePanel,_super);function RankRenamePanel(){return _super!==null&&_super.apply(this,arguments)||this}return RankRenamePanel}(PfSkin.RankRenamePanelStruct));PfSkin.RankRenamePanel=RankRenamePanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRewardItemStruct=(function(_super){__extends(RankRewardItemStruct,_super);function RankRewardItemStruct(){return _super.call(this)||this}RankRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankRewardItem"))};RankRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtRank=(this.getChild("txtRank"));this.m_listReward=(this.getChild("listReward"))};RankRewardItemStruct.URL="ui://s33x8418swip1ub";RankRewardItemStruct.DependPackages=["PfSkin"];return RankRewardItemStruct}(fairygui.GComponent));PfSkin.RankRewardItemStruct=RankRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRewardItem=(function(_super){__extends(RankRewardItem,_super);function RankRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return RankRewardItem}(PfSkin.RankRewardItemStruct));PfSkin.RankRewardItem=RankRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRewardPanelStruct=(function(_super){__extends(RankRewardPanelStruct,_super);function RankRewardPanelStruct(){return _super.call(this)||this}RankRewardPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RankRewardPanel"))};RankRewardPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip=(this.getChild("txtTip"));this.m_listRanKReward=(this.getChild("listRanKReward"));this.m_closeBtn=(this.getChild("closeBtn"))};RankRewardPanelStruct.URL="ui://s33x8418swip1r5";RankRewardPanelStruct.DependPackages=["PfSkin","Common"];return RankRewardPanelStruct}(fairygui.GComponent));PfSkin.RankRewardPanelStruct=RankRewardPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RankRewardPanel=(function(_super){__extends(RankRewardPanel,_super);function RankRewardPanel(){return _super!==null&&_super.apply(this,arguments)||this}return RankRewardPanel}(PfSkin.RankRewardPanelStruct));PfSkin.RankRewardPanel=RankRewardPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RechargeMainPanelStruct=(function(_super){__extends(RechargeMainPanelStruct,_super);function RechargeMainPanelStruct(){return _super.call(this)||this}RechargeMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RechargeMainPanel"))};RechargeMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listRechargeItem=(this.getChild("listRechargeItem"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"));this.m_marquee=(this.getChild("marquee"))};RechargeMainPanelStruct.URL="ui://s33x8418ap5a1ux";RechargeMainPanelStruct.DependPackages=["PfSkin","Common"];return RechargeMainPanelStruct}(fairygui.GComponent));PfSkin.RechargeMainPanelStruct=RechargeMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RechargeMainPanel=(function(_super){__extends(RechargeMainPanel,_super);function RechargeMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}RechargeMainPanel.prototype.onWindowInited=function(){this.m_listRechargeItem.itemRenderer=new Handler(this,this.RenderItem,null,false)};RechargeMainPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.UpdateView()};RechargeMainPanel.prototype.UpdateView=function(){this.rechargeList=Game.moduleModel.recharge.rechargeList;this.m_listRechargeItem.numItems=this.rechargeList.length;this.m_title.text=Games.TEXT.RechargeTitle};RechargeMainPanel.prototype.RenderItem=function(index,item){var data=this.rechargeList[index];item.RenderItem(data)};RechargeMainPanel.prototype.onWindowShow=function(){this.UpdateView();this.m_btnClose.onClick(this,this.OnCloseClick);this.m_marquee.Show()};RechargeMainPanel.prototype.onWindowHide=function(){this.m_marquee.Hide()};RechargeMainPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};return RechargeMainPanel}(PfSkin.RechargeMainPanelStruct));PfSkin.RechargeMainPanel=RechargeMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RedStruct=(function(_super){__extends(RedStruct,_super);function RedStruct(){return _super.call(this)||this}RedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Red"))};RedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"))};RedStruct.URL="ui://s33x8418jazc1mo";RedStruct.DependPackages=["PfSkin","Common"];return RedStruct}(fairygui.GComponent));PfSkin.RedStruct=RedStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Red=(function(_super){__extends(Red,_super);function Red(){return _super!==null&&_super.apply(this,arguments)||this}Red.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_num.visible=false};return Red}(PfSkin.RedStruct));PfSkin.Red=Red})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RenameBtnStruct=(function(_super){__extends(RenameBtnStruct,_super);function RenameBtnStruct(){return _super.call(this)||this}RenameBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RenameBtn"))};RenameBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};RenameBtnStruct.URL="ui://s33x8418jazc1mp";RenameBtnStruct.DependPackages=["PfSkin","Common"];return RenameBtnStruct}(fairygui.GButton));PfSkin.RenameBtnStruct=RenameBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RenameBtn=(function(_super){__extends(RenameBtn,_super);function RenameBtn(){return _super!==null&&_super.apply(this,arguments)||this}return RenameBtn}(PfSkin.RenameBtnStruct));PfSkin.RenameBtn=RenameBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RenameUIStruct=(function(_super){__extends(RenameUIStruct,_super);function RenameUIStruct(){return _super.call(this)||this}RenameUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RenameUI"))};RenameUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_tip=(this.getChild("tip"));this.m_content=(this.getChild("content"));this.m_close=(this.getChild("close"));this.m_okBtn=(this.getChild("okBtn"));this.m_noCostBtn=(this.getChild("noCostBtn"));this.m_randomBtn=(this.getChild("randomBtn"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};RenameUIStruct.URL="ui://s33x8418jazc1lj";RenameUIStruct.DependPackages=["PfSkin","Common"];return RenameUIStruct}(fairygui.GComponent));PfSkin.RenameUIStruct=RenameUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RenameUI=(function(_super){__extends(RenameUI,_super);function RenameUI(){return _super!==null&&_super.apply(this,arguments)||this}RenameUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_noCostBtn.onClick(this,this.onClickNoCostBtn);this.m_randomBtn.onClick(this,this.onClickRandomBtn);this.m_close.onClick(this,this.onClickCloseBtn);this.m_okBtn.visible=false;this.m_noCostBtn.visible=false};RenameUI.prototype.open=function(dialogMsg,caller,okFunc,closeFunc,okBtnTxt,defaultTxt,promptText,maxLen,url,cost,isClickButtonAutoClose,randomNames){if(isClickButtonAutoClose===void 0){isClickButtonAutoClose=true}if(isNullOrEmpty(okBtnTxt)){okBtnTxt=Games.TEXT.Rename}this.m_tip.text=dialogMsg;this.m_okBtn.text=okBtnTxt;this.m_content.input.maxChars=maxLen;this.charMaxLength=maxLen;this.m_content.input.restrict="a-zA-Z0-9\u4e00-\u9fa5 ";this.m_content.text=defaultTxt;if(maxLen>0){promptText=format(promptText,maxLen)}this.m_content.promptText=promptText;this.m_content.input.focus=true;this.okFunc=okFunc;this.closeFunc=closeFunc;this.isClickButtonAutoClose=isClickButtonAutoClose;this.cost=cost;this.caller=caller;this.randomNames=randomNames;if(isNullOrEmpty(url)){url=Game.config.avatar.GetBodyIconUrl(9999)}this.m_icon.icon=url;if(randomNames&&randomNames.length>0){this.getRandomNames()}if(cost&&cost.length>0){this.m_okBtn.icon=Game.config.avatar.getConfig(Game.config.item.getConfig(cost[0]).icon).iconUrl;this.m_okBtn.m_number.text=formatNumberUnit(cost[1]);this.m_okBtn.visible=true;this.m_noCostBtn.visible=false}else{this.m_okBtn.visible=false;this.m_noCostBtn.visible=true}Games.MenuLayer.module.addChild(this);setScreenSize(this);centerScreen(this)};RenameUI.prototype.onClickCloseBtn=function(){if(this.closeFunc){this.closeFunc()}this.close()};RenameUI.prototype.onClickOkBtn=function(){if(validateOtherName(this.m_content.text,this.charMaxLength)){var enough=Games.ItemHelper.checkItemEnough3(this.cost);if(enough){this.onClickNoCostBtn()}else{Game.system.toastItemNotEnough(this.cost[0])}}};RenameUI.prototype.onClickNoCostBtn=function(){if(this.isClickButtonAutoClose){this.close()}if(this.okFunc){if(this.caller){this.okFunc.apply(this.caller,this.m_content.text)}else{this.okFunc(this.m_content.text)}}};RenameUI.prototype.close=function(){this.removeFromParent()};RenameUI.prototype.onClickRandomBtn=function(){this.m_content.text=this.randomNames[this.randomIndex];this.randomIndex++;if(this.randomIndex>=this.randomNames.length){this.randomIndex=0}};RenameUI.prototype.getRandomNames=function(){this.randomIndex=Math.floor(this.randomNames.length*Math.random())};return RenameUI}(PfSkin.RenameUIStruct));PfSkin.RenameUI=RenameUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ResultItemBtnStruct=(function(_super){__extends(ResultItemBtnStruct,_super);function ResultItemBtnStruct(){return _super.call(this)||this}ResultItemBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ResultItemBtn"))};ResultItemBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starList=(this.getChild("starList"));this.m_name=(this.getChild("name"));this.m_detailBtn=(this.getChild("detailBtn"))};ResultItemBtnStruct.URL="ui://s33x8418mrkf1np";ResultItemBtnStruct.DependPackages=["PfSkin","Common"];return ResultItemBtnStruct}(fairygui.GButton));PfSkin.ResultItemBtnStruct=ResultItemBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ResultItemBtn=(function(_super){__extends(ResultItemBtn,_super);function ResultItemBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ResultItemBtn}(PfSkin.ResultItemBtnStruct));PfSkin.ResultItemBtn=ResultItemBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RewardCellViewStruct=(function(_super){__extends(RewardCellViewStruct,_super);function RewardCellViewStruct(){return _super.call(this)||this}RewardCellViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RewardCellView"))};RewardCellViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};RewardCellViewStruct.URL="ui://s33x8418jazc1mg";RewardCellViewStruct.DependPackages=["PfSkin"];return RewardCellViewStruct}(fairygui.GLabel));PfSkin.RewardCellViewStruct=RewardCellViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RewardCellView=(function(_super){__extends(RewardCellView,_super);function RewardCellView(){return _super!==null&&_super.apply(this,arguments)||this}return RewardCellView}(PfSkin.RewardCellViewStruct));PfSkin.RewardCellView=RewardCellView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RewardItemStruct=(function(_super){__extends(RewardItemStruct,_super);function RewardItemStruct(){return _super.call(this)||this}RewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RewardItem"))};RewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_star=(this.getChild("star"))};RewardItemStruct.URL="ui://s33x8418swip1ua";RewardItemStruct.DependPackages=["PfSkin","Common"];return RewardItemStruct}(fairygui.GButton));PfSkin.RewardItemStruct=RewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RewardItem=(function(_super){__extends(RewardItem,_super);function RewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return RewardItem}(PfSkin.RewardItemStruct));PfSkin.RewardItem=RewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RoadShowContainerStruct=(function(_super){__extends(RoadShowContainerStruct,_super);function RoadShowContainerStruct(){return _super.call(this)||this}RoadShowContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RoadShowContainer"))};RoadShowContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};RoadShowContainerStruct.URL="ui://s33x8418iacmt1w4";RoadShowContainerStruct.DependPackages=["PfSkin"];return RoadShowContainerStruct}(fairygui.GComponent));PfSkin.RoadShowContainerStruct=RoadShowContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RoadShowContainer=(function(_super){__extends(RoadShowContainer,_super);function RoadShowContainer(){return _super!==null&&_super.apply(this,arguments)||this}return RoadShowContainer}(PfSkin.RoadShowContainerStruct));PfSkin.RoadShowContainer=RoadShowContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RoomDisplayContainerStruct=(function(_super){__extends(RoomDisplayContainerStruct,_super);function RoomDisplayContainerStruct(){return _super.call(this)||this}RoomDisplayContainerStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","RoomDisplayContainer"))};RoomDisplayContainerStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};RoomDisplayContainerStruct.URL="ui://s33x8418w2u61wa";RoomDisplayContainerStruct.DependPackages=["PfSkin"];return RoomDisplayContainerStruct}(fairygui.GComponent));PfSkin.RoomDisplayContainerStruct=RoomDisplayContainerStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var RoomDisplayContainer=(function(_super){__extends(RoomDisplayContainer,_super);function RoomDisplayContainer(){return _super!==null&&_super.apply(this,arguments)||this}return RoomDisplayContainer}(PfSkin.RoomDisplayContainerStruct));PfSkin.RoomDisplayContainer=RoomDisplayContainer})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShareBtnStruct=(function(_super){__extends(ShareBtnStruct,_super);function ShareBtnStruct(){return _super.call(this)||this}ShareBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","shareBtn"))};ShareBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};ShareBtnStruct.URL="ui://s33x8418dk94t21g";ShareBtnStruct.DependPackages=["PfSkin","Fx","WarMovie","Common"];return ShareBtnStruct}(fairygui.GButton));PfSkin.ShareBtnStruct=ShareBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShareBtn=(function(_super){__extends(ShareBtn,_super);function ShareBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ShareBtn}(PfSkin.ShareBtnStruct));PfSkin.ShareBtn=ShareBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopGoodsItemStruct=(function(_super){__extends(ShopGoodsItemStruct,_super);function ShopGoodsItemStruct(){return _super.call(this)||this}ShopGoodsItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopGoodsItem"))};ShopGoodsItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_type=this.getController("type");this.m_listGive=(this.getChild("listGive"));this.m_title=(this.getChild("title"));this.m_labBuy=(this.getChild("labBuy"))};ShopGoodsItemStruct.URL="ui://s33x8418ap5a1v1";ShopGoodsItemStruct.DependPackages=["PfSkin"];return ShopGoodsItemStruct}(fairygui.GLabel));PfSkin.ShopGoodsItemStruct=ShopGoodsItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopGoodsItem=(function(_super){__extends(ShopGoodsItem,_super);function ShopGoodsItem(){return _super!==null&&_super.apply(this,arguments)||this}ShopGoodsItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listGive.itemRenderer=new Handler(this,this.RenderListItem,null,false)};ShopGoodsItem.prototype.RenderItem=function(data){if(data instanceof Array){this.itemList=data;this.m_listGive.numItems=this.itemList.length}else{this.itemData=data;this.m_labBuy.title=this.itemData.itemNumTxt;this.m_labBuy.icon=Games.ItemData.GetIconUrl(this.itemData.itemId)}};ShopGoodsItem.prototype.RenderListItem=function(index,item){var data=this.itemList[index];item.title=data.itemNumTxt;item.icon=Games.ItemData.GetIconUrl(data.itemId)};return ShopGoodsItem}(PfSkin.ShopGoodsItemStruct));PfSkin.ShopGoodsItem=ShopGoodsItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopItemStruct=(function(_super){__extends(ShopItemStruct,_super);function ShopItemStruct(){return _super.call(this)||this}ShopItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopItem"))};ShopItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_hasPeriodTime=this.getController("hasPeriodTime");this.m_hasSallUp=this.getController("hasSallUp");this.m_name=(this.getChild("name"));this.m_tip=(this.getChild("tip"));this.m_timeCanBuy=(this.getChild("timeCanBuy"));this.m_timeCanBuyTitle=(this.getChild("timeCanBuyTitle"));this.m_tiptitle=(this.getChild("tiptitle"));this.m_labItem=(this.getChild("labItem"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_labCost=(this.getChild("labCost"))};ShopItemStruct.URL="ui://s33x8418ap5a1us";ShopItemStruct.DependPackages=["PfSkin","Common"];return ShopItemStruct}(fairygui.GLabel));PfSkin.ShopItemStruct=ShopItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopItem=(function(_super){__extends(ShopItem,_super);function ShopItem(){return _super!==null&&_super.apply(this,arguments)||this}ShopItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnSelect.onClick(this,this.OnSelect);this.m_btnSelect.title=null};ShopItem.prototype.RenderItem=function(data){this.goodsData=data;if(data&&data.Config){this.m_tip.text=data.Limit.toString();this.m_tiptitle.text=data.LimitString;this.m_name.text=data.Config.name;if(data.Items&&data.Items[0]){var item=data.Items[0];this.m_labItem.title=item.itemNumTxt;this.m_labItem.icon=Games.ItemData.GetIconUrl(item.itemId)}if(data.Config.cost){var cost=data.Config.cost;this.m_labCost.m_number.text=cost.itemNumTxt;this.m_labCost.m_icon.url=Games.ItemData.GetIconUrl(cost.itemId)}this.m_hasPeriodTime.setSelectedIndex(this.goodsData.Config.hasPeriodTime?1:0);this.m_hasSallUp.setSelectedIndex(this.goodsData.saleNums==0?1:0);if(this.m_hasSallUp[1]){this.m_labItem.m_icon.grayed=true;this.m_labItem.grayed=true}else{this.m_labItem.m_icon.grayed=false}}};ShopItem.prototype.OnSelect=function(){if(this.goodsData&&this.goodsData.Config){if(this.goodsData.saleNums>0){if(!this.goodsData.isPeriodTime){Game.system.toastMsg(MsgKey.shop_period,this.goodsData.Config.period);return}var cost=this.goodsData.Config.cost;if(Game.moduleModel.item.hasItemNum(cost.itemId,cost.itemNum)){if(this.buyHandler){this.buyHandler.runWith([this.goodsData.Items])}Game.protosender.mall.buy(this.goodsData.id,1,cost.itemId)}else{Game.system.openItemWay(cost.itemId,cost.itemNum)}}}};return ShopItem}(PfSkin.ShopItemStruct));PfSkin.ShopItem=ShopItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopMainPanelStruct=(function(_super){__extends(ShopMainPanelStruct,_super);function ShopMainPanelStruct(){return _super.call(this)||this}ShopMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopMainPanel"))};ShopMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tab=this.getController("tab");this.m_listSingleItem=(this.getChild("listSingleItem"));this.m_listSpecialItem=(this.getChild("listSpecialItem"));this.m_listTab=(this.getChild("listTab"));this.m_listAsset=(this.getChild("listAsset"));this.m_btnClose=(this.getChild("btnClose"))};ShopMainPanelStruct.URL="ui://s33x8418ap5a1uq";ShopMainPanelStruct.DependPackages=["PfSkin","Common"];return ShopMainPanelStruct}(fairygui.GComponent));PfSkin.ShopMainPanelStruct=ShopMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopMainPanel=(function(_super){__extends(ShopMainPanel,_super);function ShopMainPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.assetTypes=[1,6];return _this}ShopMainPanel.prototype.onWindowInited=function(){this.m_listAsset.itemRenderer=new Handler(this,this.RenderAsset,null,false);this.m_btnClose.onClick(this,this.OnCloseClick);this.m_listTab.itemRenderer=new Handler(this,this.RenderTab,null,false);this.m_listTab.on(fairygui.Events.CLICK_ITEM,this,this.OnTabSelect);this.m_listSingleItem.itemRenderer=new Handler(this,this.RenderSignalItem,null,false);this.m_listSpecialItem.itemRenderer=new Handler(this,this.RenderSpecialItem,null,false)};ShopMainPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.shopType=1;this.m_listTab.selectedIndex=0};ShopMainPanel.prototype.UpdateView=function(){this.GoodsList=Game.moduleModel.shop.GetGoodsByShopType(this.shopType);switch(this.shopType){case 1:this.m_listSingleItem.numItems=Math.ceil(this.GoodsList.length/3);break;case 2:this.m_listSpecialItem.numItems=this.GoodsList.length;break;case 3:break;default:break}};ShopMainPanel.prototype.UpdateAsset=function(){this.m_listAsset.numItems=this.assetTypes.length};ShopMainPanel.prototype.RenderAsset=function(index,item){var id=this.assetTypes[index];item.setItemId(id)};ShopMainPanel.prototype.RenderTab=function(index,item){};ShopMainPanel.prototype.OnTabSelect=function(item){switch(this.m_listTab.selectedIndex){case 0:this.shopType=1;break;case 1:this.shopType=2;break;case 2:this.shopType=3;break;default:break}this.UpdateView()};ShopMainPanel.prototype.RenderSignalItem=function(index,item){var goodsLine=this.GoodsList.slice(index*3,index*3+3);var handler=new Handler(this,this.OnBuy,null,false);item.RenderItem(goodsLine,handler)};ShopMainPanel.prototype.OnBuy=function(items){this.buyItems=items};ShopMainPanel.prototype.RenderSpecialItem=function(index,item){var goods=this.GoodsList[index];item.RenderItem(goods);item.buyHandler=new Handler(this,this.OnBuy,null,false)};ShopMainPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.mall_buy,this.OnMallBuyResponse,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.UpdateAsset,this);Game.event.add(GameEventKey.GameEventKey_TimeLimitRemind,this.GameEventKey_TimeLimitRemind,this);this.UpdateAsset();this.UpdateView()};ShopMainPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.mall_buy,this.OnMallBuyResponse,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.UpdateAsset,this);Game.event.remove(GameEventKey.GameEventKey_TimeLimitRemind,this.GameEventKey_TimeLimitRemind,this)};ShopMainPanel.prototype.GameEventKey_TimeLimitRemind=function(timeLimit){switch(timeLimit){case Games.TimeLimitType.Zero:if(User.isTenTime){Game.moduleModel.shop.ClearGoodsLimit();this.UpdateView()}break}};ShopMainPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};ShopMainPanel.prototype.OnMallBuyResponse=function(){if(this.buyItems){Game.system.getItemText(this.buyItems)}Game.sound.playSound(SoundKey.MM10_PayMent);this.UpdateView()};return ShopMainPanel}(PfSkin.ShopMainPanelStruct));PfSkin.ShopMainPanel=ShopMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopRechargeItemStruct=(function(_super){__extends(ShopRechargeItemStruct,_super);function ShopRechargeItemStruct(){return _super.call(this)||this}ShopRechargeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopRechargeItem"))};ShopRechargeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isFirstDouble=this.getController("isFirstDouble");this.m_txtTip=(this.getChild("txtTip"));this.m_imgTipFirst=(this.getChild("imgTipFirst"));this.m_buyGoods=(this.getChild("buyGoods"));this.m_giveGoods=(this.getChild("giveGoods"));this.m_btnSelect=(this.getChild("btnSelect"))};ShopRechargeItemStruct.URL="ui://s33x8418ap5a1uz";ShopRechargeItemStruct.DependPackages=["PfSkin","Common"];return ShopRechargeItemStruct}(fairygui.GComponent));PfSkin.ShopRechargeItemStruct=ShopRechargeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopRechargeItem=(function(_super){__extends(ShopRechargeItem,_super);function ShopRechargeItem(){return _super!==null&&_super.apply(this,arguments)||this}ShopRechargeItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnSelect.onClick(this,this.OnSelect)};ShopRechargeItem.prototype.RenderItem=function(data){this.data=data;var buyGoods=this.data.item;var giveGoods=this.data.gift;this.m_txtTip.text=Games.TEXT.ShopAvailable.format(this.data.term);this.m_buyGoods.RenderItem(buyGoods);this.m_buyGoods.title=this.data.name;this.m_giveGoods.RenderItem(giveGoods);this.m_giveGoods.title=Games.TEXT.ShopGive;this.m_btnSelect.title=this.data.cost_dollar.toString()};ShopRechargeItem.prototype.OnSelect=function(){Game.system.toastText("功能未开放")};return ShopRechargeItem}(PfSkin.ShopRechargeItemStruct));PfSkin.ShopRechargeItem=ShopRechargeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopSpecialItemStruct=(function(_super){__extends(ShopSpecialItemStruct,_super);function ShopSpecialItemStruct(){return _super.call(this)||this}ShopSpecialItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopSpecialItem"))};ShopSpecialItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_hasPeriodTime=this.getController("hasPeriodTime");this.m_hasSallUp=this.getController("hasSallUp");this.m_name=(this.getChild("name"));this.m_tip=(this.getChild("tip"));this.m_listItem=(this.getChild("listItem"));this.m_tipTitle=(this.getChild("tipTitle"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_labCost=(this.getChild("labCost"))};ShopSpecialItemStruct.URL="ui://s33x8418ap5a1uv";ShopSpecialItemStruct.DependPackages=["PfSkin","Common"];return ShopSpecialItemStruct}(fairygui.GComponent));PfSkin.ShopSpecialItemStruct=ShopSpecialItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopSpecialItem=(function(_super){__extends(ShopSpecialItem,_super);function ShopSpecialItem(){return _super!==null&&_super.apply(this,arguments)||this}ShopSpecialItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnSelect.onClick(this,this.OnSelect);this.m_listItem.itemRenderer=new Handler(this,this.RenderGoodsItem,null,false)};ShopSpecialItem.prototype.RenderItem=function(data){this.goodsData=data;if(this.goodsData&&this.goodsData.Config){this.m_name.text=data.Config.name;this.m_btnSelect.title=null;this.m_tip.text=data.Limit.toString();this.m_tipTitle.text=data.LimitString;var cost=data.Config.cost;this.m_labCost.m_number.text=cost.itemNumTxt;this.m_labCost.icon=Games.ItemData.GetIconUrl(cost.itemId);var itemList=data.Items;this.m_listItem.numItems=itemList.length;this.m_hasPeriodTime.setSelectedIndex(this.goodsData.Config.hasPeriodTime?1:0);this.m_hasSallUp.setSelectedIndex(this.goodsData.saleNums==0?1:0)}};ShopSpecialItem.prototype.RenderGoodsItem=function(index,item){if(this.goodsData&&this.goodsData.Config){var itemList=this.goodsData.Items;if(itemList){var itemData=itemList[index];item.RenderItem(itemData);item.m_star.visible=false}}};ShopSpecialItem.prototype.OnSelect=function(){if(this.goodsData&&this.goodsData.Config){if(this.goodsData.saleNums>0){if(!this.goodsData.isPeriodTime){Game.system.toastMsg(MsgKey.shop_period,this.goodsData.Config.period);return}var cost=this.goodsData.Config.cost;if(Game.moduleModel.item.hasItemNum(cost.itemId,cost.itemNum)){if(this.buyHandler){this.buyHandler.runWith([this.goodsData.Items])}Game.protosender.mall.buy(this.goodsData.id,1,cost.itemId)}else{Game.system.openItemWay(cost.itemId,cost.itemNum)}}}};return ShopSpecialItem}(PfSkin.ShopSpecialItemStruct));PfSkin.ShopSpecialItem=ShopSpecialItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopTopPanelStruct=(function(_super){__extends(ShopTopPanelStruct,_super);function ShopTopPanelStruct(){return _super.call(this)||this}ShopTopPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ShopTopPanel"))};ShopTopPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listAsset=(this.getChild("listAsset"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"))};ShopTopPanelStruct.URL="ui://s33x8418kl6dt21n";ShopTopPanelStruct.DependPackages=["PfSkin","Common"];return ShopTopPanelStruct}(fairygui.GLabel));PfSkin.ShopTopPanelStruct=ShopTopPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ShopTopPanel=(function(_super){__extends(ShopTopPanel,_super);function ShopTopPanel(){return _super!==null&&_super.apply(this,arguments)||this}return ShopTopPanel}(PfSkin.ShopTopPanelStruct));PfSkin.ShopTopPanel=ShopTopPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SkillCellStruct=(function(_super){__extends(SkillCellStruct,_super);function SkillCellStruct(){return _super.call(this)||this}SkillCellStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","SkillCell"))};SkillCellStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};SkillCellStruct.URL="ui://s33x8418jazc1mq";SkillCellStruct.DependPackages=["PfSkin"];return SkillCellStruct}(fairygui.GLabel));PfSkin.SkillCellStruct=SkillCellStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SkillCell=(function(_super){__extends(SkillCell,_super);function SkillCell(){return _super!==null&&_super.apply(this,arguments)||this}return SkillCell}(PfSkin.SkillCellStruct));PfSkin.SkillCell=SkillCell})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SpeedBtnStruct=(function(_super){__extends(SpeedBtnStruct,_super);function SpeedBtnStruct(){return _super.call(this)||this}SpeedBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","SpeedBtn"))};SpeedBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title2=(this.getChild("title2"));this.m_costIcon=(this.getChild("costIcon"));this.m_title=(this.getChild("title"))};SpeedBtnStruct.URL="ui://s33x8418jazc1mt";SpeedBtnStruct.DependPackages=["PfSkin","Common"];return SpeedBtnStruct}(fairygui.GButton));PfSkin.SpeedBtnStruct=SpeedBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SpeedBtn=(function(_super){__extends(SpeedBtn,_super);function SpeedBtn(){return _super!==null&&_super.apply(this,arguments)||this}return SpeedBtn}(PfSkin.SpeedBtnStruct));PfSkin.SpeedBtn=SpeedBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StarStruct=(function(_super){__extends(StarStruct,_super);function StarStruct(){return _super.call(this)||this}StarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Star"))};StarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starNum=this.getController("starNum");this.m_color=this.getController("color")};StarStruct.URL="ui://s33x8418xl2j1nj";StarStruct.DependPackages=["PfSkin"];return StarStruct}(fairygui.GComponent));PfSkin.StarStruct=StarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Star=(function(_super){__extends(Star,_super);function Star(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(Star.prototype,"starNum",{set:function(num){if(num==null){console.log("Error Star Num == null");return}if(num<0){num=0}if(num>6){num=6}this.m_starNum.setSelectedIndex(num)},enumerable:true,configurable:true});return Star}(PfSkin.StarStruct));PfSkin.Star=Star})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StarItemStruct=(function(_super){__extends(StarItemStruct,_super);function StarItemStruct(){return _super.call(this)||this}StarItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StarItem"))};StarItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};StarItemStruct.URL="ui://s33x8418jazc1mu";StarItemStruct.DependPackages=["PfSkin"];return StarItemStruct}(fairygui.GLabel));PfSkin.StarItemStruct=StarItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StarItem=(function(_super){__extends(StarItem,_super);function StarItem(){return _super!==null&&_super.apply(this,arguments)||this}return StarItem}(PfSkin.StarItemStruct));PfSkin.StarItem=StarItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementItemStruct=(function(_super){__extends(StoryAchevementItemStruct,_super);function StoryAchevementItemStruct(){return _super.call(this)||this}StoryAchevementItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryAchevementItem"))};StoryAchevementItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c_color=this.getController("c_color");this.m_desc=(this.getChild("desc"));this.m_progress=(this.getChild("progress"));this.m_list=(this.getChild("list"));this.m_okBtn=(this.getChild("okBtn"))};StoryAchevementItemStruct.URL="ui://s33x8418eb3n1o4";StoryAchevementItemStruct.DependPackages=["PfSkin","Common"];return StoryAchevementItemStruct}(fairygui.GComponent));PfSkin.StoryAchevementItemStruct=StoryAchevementItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementItem=(function(_super){__extends(StoryAchevementItem,_super);function StoryAchevementItem(){return _super!==null&&_super.apply(this,arguments)||this}StoryAchevementItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_okBtn.text=TEXT.StoryGetReward;this.m_list.itemRenderer=Handler.create(this,this.updateRewardItem,null,false)};StoryAchevementItem.prototype.updateRewardItem=function(index,item){var dtItem=this.config.reward[index];var itemConfig=Game.config.item.getConfig(dtItem.itemId);item.icon=itemConfig.iconUrl;item.text=dtItem.itemNum+""};StoryAchevementItem.prototype.onClickOkBtn=function(){Game.protosender.task.reward(this.taskData.uuid)};StoryAchevementItem.prototype.updateView=function(data){this.taskData=data;this.config=data.config;this.m_desc.text=format(this.config.name,this.config.goal);this.m_progress.text=format("({0}/{1})",data.progress,this.config.goal);this.m_list.numItems=this.config.reward.length;if(data.isFinished){this.m_okBtn.touchable=true;this.m_okBtn.grayed=false;this.m_c_color.selectedIndex=1}else{this.m_okBtn.touchable=false;this.m_okBtn.grayed=true;this.m_c_color.selectedIndex=0}};return StoryAchevementItem}(PfSkin.StoryAchevementItemStruct));PfSkin.StoryAchevementItem=StoryAchevementItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementTargetItemStruct=(function(_super){__extends(StoryAchevementTargetItemStruct,_super);function StoryAchevementTargetItemStruct(){return _super.call(this)||this}StoryAchevementTargetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryAchevementTargetItem"))};StoryAchevementTargetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_gou=(this.getChild("gou"))};StoryAchevementTargetItemStruct.URL="ui://s33x8418eb3n1o5";StoryAchevementTargetItemStruct.DependPackages=["PfSkin","Common"];return StoryAchevementTargetItemStruct}(fairygui.GLabel));PfSkin.StoryAchevementTargetItemStruct=StoryAchevementTargetItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementTargetItem=(function(_super){__extends(StoryAchevementTargetItem,_super);function StoryAchevementTargetItem(){return _super!==null&&_super.apply(this,arguments)||this}StoryAchevementTargetItem.prototype.updateView=function(str,data){this.text=format(str,data.progress);if(data.status==EStoryModule.finish){this.m_gou.grayed=false}else{this.m_gou.grayed=true}};return StoryAchevementTargetItem}(PfSkin.StoryAchevementTargetItemStruct));PfSkin.StoryAchevementTargetItem=StoryAchevementTargetItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementTargetUIStruct=(function(_super){__extends(StoryAchevementTargetUIStruct,_super);function StoryAchevementTargetUIStruct(){return _super.call(this)||this}StoryAchevementTargetUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryAchevementTargetUI"))};StoryAchevementTargetUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_close=(this.getChild("close"));this.m_title=(this.getChild("title"));this.m_desc=(this.getChild("desc"));this.m_list=(this.getChild("list"))};StoryAchevementTargetUIStruct.URL="ui://s33x8418eb3n1o6";StoryAchevementTargetUIStruct.DependPackages=["PfSkin","Common"];return StoryAchevementTargetUIStruct}(fairygui.GComponent));PfSkin.StoryAchevementTargetUIStruct=StoryAchevementTargetUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementTargetUI=(function(_super){__extends(StoryAchevementTargetUI,_super);function StoryAchevementTargetUI(){return _super!==null&&_super.apply(this,arguments)||this}StoryAchevementTargetUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.targetTips=[Games.TEXT.StoryAchieveTarget1,Games.TEXT.StoryAchieveTarget2,Games.TEXT.StoryAchieveTarget3];this.m_desc.text=TEXT.StoryAchievementDesc;this.m_title.text=TEXT.StoryAchievementTitle;this.m_list.itemRenderer=Handler.create(this,this.onUpdateItemRender,null,false)};StoryAchevementTargetUI.prototype.onUpdateItemRender=function(index,item){var item1=item;item1.updateView(this.targetTips[index],this.storyProgress[index])};StoryAchevementTargetUI.prototype.updateView=function(data){this.storyProgress=data.storyProgressInfo;this.m_list.numItems=data.storyProgressInfo.length};return StoryAchevementTargetUI}(PfSkin.StoryAchevementTargetUIStruct));PfSkin.StoryAchevementTargetUI=StoryAchevementTargetUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementUIStruct=(function(_super){__extends(StoryAchevementUIStruct,_super);function StoryAchevementUIStruct(){return _super.call(this)||this}StoryAchevementUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryAchevementUI"))};StoryAchevementUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_closeBtn=(this.getChild("closeBtn"))};StoryAchevementUIStruct.URL="ui://s33x8418eb3n1o3";StoryAchevementUIStruct.DependPackages=["PfSkin","Common"];return StoryAchevementUIStruct}(fairygui.GComponent));PfSkin.StoryAchevementUIStruct=StoryAchevementUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchevementUI=(function(_super){__extends(StoryAchevementUI,_super);function StoryAchevementUI(){return _super!==null&&_super.apply(this,arguments)||this}StoryAchevementUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.itemRenderer=Handler.create(this,this.onUpdateItemRender,null,false);this.m_list.setVirtual()};StoryAchevementUI.prototype.updateView=function(){this.storyTaskList=Game.moduleModel.task.getCurrentStoryTask();this.m_list.numItems=this.storyTaskList.length};StoryAchevementUI.prototype.onUpdateItemRender=function(index,item){var item1=item;item1.updateView(this.storyTaskList[index])};return StoryAchevementUI}(PfSkin.StoryAchevementUIStruct));PfSkin.StoryAchevementUI=StoryAchevementUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchieveItemViewStruct=(function(_super){__extends(StoryAchieveItemViewStruct,_super);function StoryAchieveItemViewStruct(){return _super.call(this)||this}StoryAchieveItemViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryAchieveItemView"))};StoryAchieveItemViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};StoryAchieveItemViewStruct.URL="ui://s33x8418aqgxt1x1";StoryAchieveItemViewStruct.DependPackages=["PfSkin","Common","Building"];return StoryAchieveItemViewStruct}(fairygui.GButton));PfSkin.StoryAchieveItemViewStruct=StoryAchieveItemViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryAchieveItemView=(function(_super){__extends(StoryAchieveItemView,_super);function StoryAchieveItemView(){return _super!==null&&_super.apply(this,arguments)||this}return StoryAchieveItemView}(PfSkin.StoryAchieveItemViewStruct));PfSkin.StoryAchieveItemView=StoryAchieveItemView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryFindUIStruct=(function(_super){__extends(StoryFindUIStruct,_super);function StoryFindUIStruct(){return _super.call(this)||this}StoryFindUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryFindUI"))};StoryFindUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_itemOrStory=this.getController("itemOrStory");this.m_fxStarboom=(this.getChild("fxStarboom"));this.m_storyItem=(this.getChild("storyItem"));this.m_item=(this.getChild("item"));this.m_t0=this.getTransition("t0")};StoryFindUIStruct.URL="ui://s33x8418o7xit21j";StoryFindUIStruct.DependPackages=["PfSkin","WarMovie","Fx","Common"];return StoryFindUIStruct}(fairygui.GComponent));PfSkin.StoryFindUIStruct=StoryFindUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryFindUI=(function(_super){__extends(StoryFindUI,_super);function StoryFindUI(){return _super!==null&&_super.apply(this,arguments)||this}StoryFindUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickClose)};StoryFindUI.prototype.onClickClose=function(){if(this.isClickClose){if(this.callBackFunc){this.callBackFunc()}this.visible=false}};StoryFindUI.prototype.hide=function(){this.isClickClose=false;this.visible=false};StoryFindUI.prototype.showStory=function(id,callBack){var _this=this;if(callBack===void 0){callBack=null}this.callBackFunc=callBack;this.visible=true;this.isClickClose=false;this.m_itemOrStory.selectedIndex=1;var cfg=Game.config.story.getConfig(id);if(cfg){this.m_storyItem.m_filmStar.m_starList.numItems=cfg.starNumber;this.m_storyItem.text=cfg.filmName;this.m_storyItem.icon=Game.config.avatar.getConfig(cfg.poster_name).iconUrl}this.m_t0.setHook("playStar",Handler.create(null,function(){Game.sound.playSound(SoundKey.MM13_GetArtist);_this.m_fxStarboom.m_boom.play(null,1)}));this.m_t0.play(Handler.create(this,this.canClickClose),1)};StoryFindUI.prototype.showItem=function(id,num){var _this=this;this.m_itemOrStory.selectedIndex=0;this.visible=true;this.isClickClose=false;var cfg=Game.config.item.getConfig(id);if(cfg){this.m_item.icon=cfg.iconUrl}this.m_item.text=formatNumberUnit(num);this.m_t0.setHook("playStar",Handler.create(null,function(){Game.sound.playSound(SoundKey.MM09_GoldReward);_this.m_fxStarboom.m_boom.play(null,1)}));this.m_t0.play(Handler.create(this,this.canClickClose),1)};StoryFindUI.prototype.canClickClose=function(){this.isClickClose=true};return StoryFindUI}(PfSkin.StoryFindUIStruct));PfSkin.StoryFindUI=StoryFindUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryGroupItemStruct=(function(_super){__extends(StoryGroupItemStruct,_super);function StoryGroupItemStruct(){return _super.call(this)||this}StoryGroupItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryGroupItem"))};StoryGroupItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_name=(this.getChild("name"));this.m_list=(this.getChild("list"));this.m_completeC=(this.getChild("completeC"));this.m_progress=(this.getChild("progress"));this.m_desc=(this.getChild("desc"));this.m_rewardItem=(this.getChild("rewardItem"));this.m_rewardDialog=(this.getChild("rewardDialog"));this.m_t0=this.getTransition("t0")};StoryGroupItemStruct.URL="ui://s33x8418eb3n1nz";StoryGroupItemStruct.DependPackages=["PfSkin","Common"];return StoryGroupItemStruct}(fairygui.GLabel));PfSkin.StoryGroupItemStruct=StoryGroupItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryGroupItem=(function(_super){__extends(StoryGroupItem,_super);function StoryGroupItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isShowReward=false;return _this}StoryGroupItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardItem.m_name.text=Games.TEXT.StoryCollect;this.m_rewardItem.onClick(this,this.onClickRewardItem);this.m_list.itemRenderer=Handler.create(this,this.onUpdateItemRender,null,false)};StoryGroupItem.prototype.showReward=function(){var _this=this;if(this.isShowReward==false){this.isShowReward=true;this.m_rewardDialog.visible=true;this.m_t0.play(Handler.create(null,function(){_this.isShowReward=false;_this.m_rewardDialog.visible=false}))}};StoryGroupItem.prototype.onClickRewardItem=function(){if(this.hasRewardCanGet){Game.protosender.story.getReward(this.config.id)}else{this.showReward()}};StoryGroupItem.prototype.onUpdateItemRender=function(index,item){var item1=item;item1.updateView(this.config.scripts[index],this.storylibUI)};StoryGroupItem.prototype.unlockStory=function(id,callback){for(var index=0;index<this.config.scripts.length;index++){var element=this.config.scripts[index];if(element==id){var item=this.m_list.getChildAt(index);if(item){item.unlockStory(callback)}}}};StoryGroupItem.prototype.updateView=function(suitData,p){this.storylibUI=p;this.config=suitData.config;this.m_list.numItems=this.config.scripts.length;this.m_name.text=this.config.name;this.m_rewardDialog.visible=false;var cur=0;var max=this.config.scripts.length*3;this.hasRewardCanGet=false;if(suitData){cur=suitData.progress2;if(suitData.isHasRewardCanGet){this.hasRewardCanGet=true}}if(cur>=max){this.m_c1.selectedIndex=1}else{this.m_c1.selectedIndex=0}this.suitData=suitData;this.m_progress.text=format("{0}/{1}",cur,max);if(this.hasRewardCanGet){this.m_rewardItem.playEffect()}else{if(suitData.status==EStoryModule.hadGet){this.m_rewardItem.getEffect()}else{this.m_rewardItem.stopEffect()}}var str=Games.TEXT.StoryDesc1;var str1="";for(var index=0;index<this.config.addition_scene.length;index++){var element=this.config.addition_scene[index];var s="";if(index!=0){s=","}s+=format(Games.TEXT.StoryDesc2,Game.config.property.getConfig(element.storyeffect).name,element.rate);str1+=s}str=format(str,str1);this.m_desc.text=str;this.m_rewardDialog.updateView(this.config.rewards)};return StoryGroupItem}(PfSkin.StoryGroupItemStruct));PfSkin.StoryGroupItem=StoryGroupItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryGroupRewardItemStruct=(function(_super){__extends(StoryGroupRewardItemStruct,_super);function StoryGroupRewardItemStruct(){return _super.call(this)||this}StoryGroupRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryGroupRewardItem"))};StoryGroupRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_name=(this.getChild("name"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};StoryGroupRewardItemStruct.URL="ui://s33x8418eb3n1ny";StoryGroupRewardItemStruct.DependPackages=["PfSkin","Common"];return StoryGroupRewardItemStruct}(fairygui.GButton));PfSkin.StoryGroupRewardItemStruct=StoryGroupRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryGroupRewardItem=(function(_super){__extends(StoryGroupRewardItem,_super);function StoryGroupRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}StoryGroupRewardItem.prototype.playEffect=function(){this.m_t0.stop();this.m_t1.play(null,-1);this.m_c1.selectedIndex=0};StoryGroupRewardItem.prototype.stopEffect=function(){this.m_t0.play(null,1);this.m_t1.stop();this.m_c1.selectedIndex=0};StoryGroupRewardItem.prototype.getEffect=function(){this.m_c1.selectedIndex=1};return StoryGroupRewardItem}(PfSkin.StoryGroupRewardItemStruct));PfSkin.StoryGroupRewardItem=StoryGroupRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryInfoItemStruct=(function(_super){__extends(StoryInfoItemStruct,_super);function StoryInfoItemStruct(){return _super.call(this)||this}StoryInfoItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryInfoItem"))};StoryInfoItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_name=(this.getChild("name"));this.m_desc=(this.getChild("desc"));this.m_tagLabel=(this.getChild("tagLabel"));this.m_tagGroup=(this.getChild("tagGroup"));this.m_head=(this.getChild("head"))};StoryInfoItemStruct.URL="ui://s33x8418eb3n1o8";StoryInfoItemStruct.DependPackages=["PfSkin","Common"];return StoryInfoItemStruct}(fairygui.GComponent));PfSkin.StoryInfoItemStruct=StoryInfoItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryInfoItem=(function(_super){__extends(StoryInfoItem,_super);function StoryInfoItem(){return _super!==null&&_super.apply(this,arguments)||this}StoryInfoItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tagGroup.visible=false;this.m_head.onClick(this,this.onClickHandler)};StoryInfoItem.prototype.onClickHandler=function(){Game.system.playerInfo(this.playerData.userId)};StoryInfoItem.prototype.updateView=function(data){this.playerData=data;this.m_name.text=data.name;this.m_desc.text=data.message;var headPortrait=data.portrait;if(headPortrait==0){if(data.sex==1101||data.sex==2002){headPortrait=1001}else{headPortrait=1101}}this.m_head.icon=Game.config.avatar.getConfig(Game.config.headPortrait.getConfig(headPortrait).icon).iconUrl};return StoryInfoItem}(PfSkin.StoryInfoItemStruct));PfSkin.StoryInfoItem=StoryInfoItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryInfoUIStruct=(function(_super){__extends(StoryInfoUIStruct,_super);function StoryInfoUIStruct(){return _super.call(this)||this}StoryInfoUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryInfoUI"))};StoryInfoUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_tip2=(this.getChild("tip2"));this.m_list=(this.getChild("list"));this.m_none=(this.getChild("none"));this.m_filmName=(this.getChild("filmName"));this.m_filmTypeList=(this.getChild("filmTypeList"));this.m_inputBG=(this.getChild("inputBG"));this.m_input=(this.getChild("input"));this.m_totalList=(this.getChild("totalList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_desc=(this.getChild("desc"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_sendBtn=(this.getChild("sendBtn"))};StoryInfoUIStruct.URL="ui://s33x8418eb3n1o7";StoryInfoUIStruct.DependPackages=["PfSkin","Common","WarMovie"];return StoryInfoUIStruct}(fairygui.GComponent));PfSkin.StoryInfoUIStruct=StoryInfoUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryInfoUI=(function(_super){__extends(StoryInfoUI,_super);function StoryInfoUI(){return _super!==null&&_super.apply(this,arguments)||this}StoryInfoUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_sendBtn.text=TEXT.SendMsg;this.m_input.promptText=TEXT.StoryInputPromptText;this.m_filmTypeList.itemRenderer=Laya.Handler.create(this,this.initTagsItem,null,false);this.m_list.itemRenderer=Handler.create(this,this.updateMessageBoard,null,false);this.m_totalList.itemRenderer=Handler.create(this,this.updateTotalNum,null,false)};StoryInfoUI.prototype.updateMessageBoard=function(index,obj){var item=obj;item.updateView(this.msgs[index])};StoryInfoUI.prototype.initTagsItem=function(index,obj){var item=obj;if(index===0){item.m_title.text=this.storyData.config.filmType;item.m_typeLabel.setSelectedIndex(1)}else{item.m_title.text=this.storyData.config.filmTags[index-1];item.m_typeLabel.setSelectedIndex(0)}};StoryInfoUI.prototype.updateTotalNum=function(index,obj){var item=obj;item.setData(this.curTotalNum[index])};StoryInfoUI.prototype.updateView=function(storyId){this.storyId=storyId;this.m_input.text="";this.storyData=Game.moduleModel.story.getStoryData(storyId);if(this.storyData){this.m_filmName.text=this.storyData.config.filmName;this.m_filmIcon.setData(this.storyData.config);this.m_desc.text=this.storyData.config.filmDes.toString();this.m_filmIcon.icon=Game.config.avatar.getConfig(this.storyData.config.poster_name).iconUrl;this.m_tip2.text=Games.TEXT.ZuiGaoPiaoFang;this.curTotalNum=formatNumberUnit(this.storyData.maxScore,1).toString().split("");this.m_totalList.numItems=this.curTotalNum.length;this.m_filmTypeList.numItems=this.storyData.config.filmTags.length+1;this.m_list.numItems=0;this.setMessage()}};StoryInfoUI.prototype.updateMsgBoard=function(msg){if(msg){this.msgs=msg.message;this.m_list.numItems=this.msgs.length}else{this.m_list.numItems=0}this.m_list.scrollPane.scrollBottom();if(this.m_list.numItems>0){this.m_none.visible=false}else{this.m_none.visible=true}};StoryInfoUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};StoryInfoUI.prototype.onClickSendBtn=function(){if(validateSendMsgBoard(this.m_input.text)){Game.protosender.story.setMessage(this.storyData.config.id,this.m_input.text);this.m_input.text=""}};StoryInfoUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_sendBtn.offClick(this,this.onClickSendBtn);Game.protoOkEvent.remove(ProtoEventKey.story_GetMessage,this.updateMsgBoard,this);Game.protoOkEvent.remove(ProtoEventKey.story_SetMessage,this.setMessage,this)};StoryInfoUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_sendBtn.onClick(this,this.onClickSendBtn);Game.protoOkEvent.add(ProtoEventKey.story_GetMessage,this.updateMsgBoard,this);Game.protoOkEvent.add(ProtoEventKey.story_SetMessage,this.setMessage,this);var id=this.moduleWindow.menuParameter.args[0];this.updateView(id)};StoryInfoUI.prototype.setMessage=function(){Game.protosender.story.getMessage(this.storyData.config.id)};return StoryInfoUI}(PfSkin.StoryInfoUIStruct));PfSkin.StoryInfoUI=StoryInfoUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItemStruct=(function(_super){__extends(StoryItemStruct,_super);function StoryItemStruct(){return _super.call(this)||this}StoryItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryItem"))};StoryItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_story_enable=this.getController("story_enable");this.m_c_visible_effect=this.getController("c_visible_effect");this.m_bg=(this.getChild("bg"));this.m_finishBg=(this.getChild("finishBg"));this.m_icon=(this.getChild("icon"));this.m_gouGroup=(this.getChild("gouGroup"));this.m_starList=(this.getChild("starList"));this.m_mark1=(this.getChild("mark1"));this.m_mark2=(this.getChild("mark2"));this.m_mark3=(this.getChild("mark3"));this.m_infoBtn=(this.getChild("infoBtn"));this.m_achieveBtn=(this.getChild("achieveBtn"));this.m_mask=(this.getChild("mask"));this.m_effect=(this.getChild("effect"))};StoryItemStruct.URL="ui://s33x8418eb3n1o1";StoryItemStruct.DependPackages=["PfSkin","Fx","Common"];return StoryItemStruct}(fairygui.GComponent));PfSkin.StoryItemStruct=StoryItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItem=(function(_super){__extends(StoryItem,_super);function StoryItem(){return _super!==null&&_super.apply(this,arguments)||this}StoryItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_infoBtn.onClick(this,this.onClickInfoBtn);this.m_achieveBtn.onClick(this,this.onClickAchieveBtn);setDark(this.m_mask)};StoryItem.prototype.updateView=function(storyId,storylibUI){var _this=this;this.storylibUI=storylibUI;this.config=Game.config.story.getConfig(storyId);this.storyData=Game.moduleModel.story.getStoryData(storyId);this.m_icon.icon=Game.config.avatar.getConfig(this.config.poster_name).iconUrl;var starNum=Game.config.story.getConfig(storyId).starNumber;this.m_starList.numItems=starNum;var has=Game.moduleModel.story.hasStoryData(this.config.id);var isGold=true;if(this.storyData&&this.storyData.storyProgressInfo.length>0){for(var index=0;index<this.storyData.storyProgressInfo.length;index++){var element=this.storyData.storyProgressInfo[index];this["m_mark"+(index+1)].m_c1.selectedIndex=element.status==EStoryModule.finish?1:0;if(element.status!=EStoryModule.finish){isGold=false}}}else{isGold=false;this.m_mark1.m_c1.selectedIndex=0;this.m_mark2.m_c1.selectedIndex=0;this.m_mark3.m_c1.selectedIndex=0}if(this.storyData&&this.storyData.isUnlock){this.unlockStory(function(){_this.storyData.isUnlock=false;_this.updateView(storyId,_this.storylibUI)})}else{if(has){if(isGold){this.m_story_enable.selectedIndex=2}else{this.m_story_enable.selectedIndex=1}}else{this.m_story_enable.selectedIndex=0}}};StoryItem.prototype.onClickInfoBtn=function(){Game.menu.open(MenuId.StoryInfo,this.config.id)};StoryItem.prototype.onClickAchieveBtn=function(){if(this.storyData){this.storylibUI.showAchieve(this.storyData)}};StoryItem.prototype.unlockStory=function(callback){var _this=this;this.m_c_visible_effect.selectedIndex=1;this.m_effect.m_t0.play(Handler.create(null,function(){_this.m_c_visible_effect.selectedIndex=0;callback&&callback()}))};return StoryItem}(PfSkin.StoryItemStruct));PfSkin.StoryItem=StoryItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItemMaskStruct=(function(_super){__extends(StoryItemMaskStruct,_super);function StoryItemMaskStruct(){return _super.call(this)||this}StoryItemMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryItemMask"))};StoryItemMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_mask=(this.getChild("mask"))};StoryItemMaskStruct.URL="ui://s33x8418lq441uk";StoryItemMaskStruct.DependPackages=["PfSkin","Common"];return StoryItemMaskStruct}(fairygui.GComponent));PfSkin.StoryItemMaskStruct=StoryItemMaskStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItemMask=(function(_super){__extends(StoryItemMask,_super);function StoryItemMask(){return _super!==null&&_super.apply(this,arguments)||this}return StoryItemMask}(PfSkin.StoryItemMaskStruct));PfSkin.StoryItemMask=StoryItemMask})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItemStarStruct=(function(_super){__extends(StoryItemStarStruct,_super);function StoryItemStarStruct(){return _super.call(this)||this}StoryItemStarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryItemStar"))};StoryItemStarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};StoryItemStarStruct.URL="ui://s33x8418dvryt264";StoryItemStarStruct.DependPackages=["PfSkin"];return StoryItemStarStruct}(fairygui.GComponent));PfSkin.StoryItemStarStruct=StoryItemStarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryItemStar=(function(_super){__extends(StoryItemStar,_super);function StoryItemStar(){return _super!==null&&_super.apply(this,arguments)||this}return StoryItemStar}(PfSkin.StoryItemStarStruct));PfSkin.StoryItemStar=StoryItemStar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryLibraryUIStruct=(function(_super){__extends(StoryLibraryUIStruct,_super);function StoryLibraryUIStruct(){return _super.call(this)||this}StoryLibraryUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryLibraryUI"))};StoryLibraryUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_name=(this.getChild("name"));this.m_souluotimes=(this.getChild("souluotimes"));this.m_times=(this.getChild("times"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_achieveBtn=(this.getChild("achieveBtn"));this.m_gold=(this.getChild("gold"));this.m_souBtn=(this.getChild("souBtn"));this.m_speed=(this.getChild("speed"));this.m_achevementUI=(this.getChild("achevementUI"));this.m_achevementTargetUI=(this.getChild("achevementTargetUI"));this.m_diamand=(this.getChild("diamand"));this.m_findResultUI=(this.getChild("findResultUI"))};StoryLibraryUIStruct.URL="ui://s33x8418eb3n1nx";StoryLibraryUIStruct.DependPackages=["PfSkin","Common","WarMovie","Fx"];return StoryLibraryUIStruct}(fairygui.GComponent));PfSkin.StoryLibraryUIStruct=StoryLibraryUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryLibraryUI=(function(_super){__extends(StoryLibraryUI,_super);function StoryLibraryUI(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isFinding=false;return _this}StoryLibraryUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list.setVirtual();this.m_list.scrollItemToViewOnClick=false;this.m_achevementUI.visible=false;this.m_achevementTargetUI.visible=false;this.m_name.text=Games.TEXT.StoryTitle;this.m_achevementUI.moduleWindow=this;this.m_findResultUI.visible=false;this.resetCost=GlobalConfig.getValue2(GlobalKey.story_stack_cd_stage_cost)[0];var url=Game.config.item.getConfig(this.resetCost.v1).iconUrl;this.m_speed.m_costIcon.icon=url;this.m_achieveBtn.m_red.visible=false};StoryLibraryUI.prototype.updateSearchCost=function(){this.souCost=Game.config.blockLevel.getConfig(User.info.stall).storysearchcost;var url=Game.config.item.getConfig(this.souCost.itemId).iconUrl;this.m_souBtn.m_icon.icon=url;this.m_souBtn.text=Games.TEXT.StorySou;this.m_souBtn.m_number.text=this.souCost.itemNum+"";this.m_gold.setItemId(this.souCost.itemId);this.m_diamand.setItemId(EItemId.diamond);this.resetTime=0;var preTime=User.info.lastTimeFindStory;var nowTime=Game.time.serverSeconds;var nextTime=preTime+GlobalConfig.getValue(GlobalKey.story_stack_cd);if(nowTime<nextTime){this.resetTime=nextTime-nowTime}this.m_souBtn.grayed=Game.moduleModel.story.isFindMax;this.m_speed.grayed=Game.moduleModel.story.isClearCdUnlock==false;Laya.timer.clear(this,this.updateTime);if(this.resetTime>0){Laya.timer.loop(1000,this,this.updateTime)}this.updateTimeView()};StoryLibraryUI.prototype.onClickSpeed=function(){if(Game.moduleModel.story.isClearCdUnlock==false){Game.system.toastMsg(MsgKey.block_level_less)}else{if(this.resetTime>0){var enough=Games.ItemHelper.checkItemEnough2(this.resetCost.v1,this.costNum);if(enough){Game.protosender.story.cleanFindStory()}else{Game.system.openItemWay(this.resetCost.v1,this.costNum)}}}};StoryLibraryUI.prototype.onClickSouBtn=function(){if(Game.moduleModel.story.isFindMax){Game.system.toastText(Games.TEXT.StoryRemainNotEnough)}else{var enough=Games.ItemHelper.checkItemEnough(this.souCost);if(enough){Game.protosender.story.findStory()}else{Game.system.openItemWay(this.souCost.itemId,this.souCost.itemNum)}}};StoryLibraryUI.prototype.updateView=function(){this.updateSearchCost();this.m_souluotimes.text=Games.TEXT.StoryFindTime;this.m_times.text=format("{0}/{1}",User.info.findStoryTime,GlobalConfig.getValue(GlobalKey.story_stack_daily_times));this.suits=Game.moduleModel.story.getStorySuitList();this.m_list.numItems=this.suits.length};StoryLibraryUI.prototype.updateTime=function(){this.resetTime--;if(this.resetTime<0){this.resetTime=0}this.updateTimeView()};Object.defineProperty(StoryLibraryUI.prototype,"costNum",{get:function(){var lv=Math.ceil(this.resetTime/GlobalConfig.getValue(GlobalKey.story_stack_cd_stage_length));var costnum=this.resetCost.v2*lv;return costnum},enumerable:true,configurable:true});StoryLibraryUI.prototype.updateAchieveView=function(){this.updateAchieveRedPoint();this.m_achevementUI.updateView()};StoryLibraryUI.prototype.updateAchieveRedPoint=function(){this.m_achieveBtn.m_red.visible=Game.moduleModel.task.isRedStoryAchievement};StoryLibraryUI.prototype.updateTimeView=function(){if(Game.moduleModel.story.isFindMax||this.resetTime<=0){this.m_speed.visible=false;this.m_souBtn.visible=true;var enough=Games.ItemHelper.checkItemEnough(this.souCost);this.m_souBtn.m_red.visible=enough&&(Game.moduleModel.story.isFindMax==false)}else{this.m_speed.text=Games.TimeHelper.TimeFormat(this.resetTime);this.m_speed.m_title2.text=this.costNum+"";this.m_speed.visible=true;this.m_souBtn.visible=false}};StoryLibraryUI.prototype.onWindowHide=function(){this.m_closeBtn.offClick(this,this.onClickCloseBtn);this.m_achieveBtn.offClick(this,this.onClickAchieveBtn);this.m_achevementUI.m_closeBtn.offClick(this,this.onClickAchieveCloseBtn);this.m_achevementTargetUI.m_close.offClick(this,this.hideAchieve);this.m_speed.offClick(this,this.onClickSpeed);this.m_souBtn.offClick(this,this.onClickSouBtn);Laya.timer.clear(this,this.updateTime);this.m_findResultUI.hide();Game.protoOkEvent.remove(ProtoEventKey.story_getReward,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.TaskData,this.updateAchieveView,this);Game.protoOkEvent.remove(ProtoEventKey.story_cleanFindStory,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.story_findStory,this.findStoryHandler,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateView,this);this.m_list.off(fairygui.Events.SCROLL_END,this,this.scrollEnd);Game.event.remove(GameEventKey.GameEventKey_ResetFindStoryTime,this.updateView,this)};StoryLibraryUI.prototype.onWindowShow=function(){this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_achevementUI.m_closeBtn.onClick(this,this.onClickAchieveCloseBtn);this.m_achieveBtn.onClick(this,this.onClickAchieveBtn);this.m_achevementTargetUI.m_close.onClick(this,this.hideAchieve);this.m_list.itemRenderer=Handler.create(this,this.updateItemRenderer,null,false);this.m_speed.onClick(this,this.onClickSpeed);this.m_souBtn.onClick(this,this.onClickSouBtn);Game.protoOkEvent.add(ProtoEventKey.story_getReward,this.updateView,this);Game.protoOkEvent.add(ProtoEventKey.story_cleanFindStory,this.updateView,this);Game.protoOkEvent.add(ProtoEventKey.story_findStory,this.findStoryHandler,this);Game.protoOkEvent.add(ProtoEventKey.TaskData,this.updateAchieveView,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateView,this);this.m_list.on(fairygui.Events.SCROLL_END,this,this.scrollEnd);this.findId=0;this.m_list.touchable=true;Game.event.add(GameEventKey.GameEventKey_ResetFindStoryTime,this.updateView,this);this.updateAchieveRedPoint();this.updateView()};StoryLibraryUI.prototype.scrollEnd=function(){if(this.findId>0){this.findId=0;this.updateView()}this.m_list.touchable=true};StoryLibraryUI.prototype.updateStoryDataHander=function(){this.updateView()};StoryLibraryUI.prototype.scrollToStory=function(id){for(var index=0;index<this.suits.length;index++){var element=this.suits[index];var storyConfig=Game.config.story.getConfig(id);if(storyConfig&&storyConfig.stack_sort==element.id){this.m_list.scrollPane.snapToItem=true;this.m_list.touchable=false;this.m_list.scrollToView(index,true);break}}};StoryLibraryUI.prototype.findStoryHandler=function(msg){var _this=this;if(msg.type==1){this.findId=msg.id;var data=Game.moduleModel.story.getStoryData(msg.id);if(data){data.isUnlock=true}this.m_findResultUI.showStory(msg.id,function(){_this.updateView();_this.scrollToStory(msg.id)})}else{this.m_findResultUI.showItem(msg.id,msg.num)}};StoryLibraryUI.prototype.onClickAchieveCloseBtn=function(){this.m_achevementUI.visible=false};StoryLibraryUI.prototype.onClickAchieveBtn=function(){this.m_achevementUI.visible=true;this.updateAchieveView()};StoryLibraryUI.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};StoryLibraryUI.prototype.showAchieve=function(data){this.m_achevementTargetUI.visible=true;this.m_achevementTargetUI.updateView(data)};StoryLibraryUI.prototype.hideAchieve=function(){this.m_achevementTargetUI.visible=false};StoryLibraryUI.prototype.updateItemRenderer=function(index,item){var item1=item;item1.updateView(this.suits[index],this)};return StoryLibraryUI}(PfSkin.StoryLibraryUIStruct));PfSkin.StoryLibraryUI=StoryLibraryUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryTypeItemStruct=(function(_super){__extends(StoryTypeItemStruct,_super);function StoryTypeItemStruct(){return _super.call(this)||this}StoryTypeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StoryTypeItem"))};StoryTypeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=this.getController("bg");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};StoryTypeItemStruct.URL="ui://s33x8418dk94t21f";StoryTypeItemStruct.DependPackages=["PfSkin"];return StoryTypeItemStruct}(fairygui.GLabel));PfSkin.StoryTypeItemStruct=StoryTypeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StoryTypeItem=(function(_super){__extends(StoryTypeItem,_super);function StoryTypeItem(){return _super!==null&&_super.apply(this,arguments)||this}return StoryTypeItem}(PfSkin.StoryTypeItemStruct));PfSkin.StoryTypeItem=StoryTypeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetCinemaSelectedPanelStruct=(function(_super){__extends(StreetCinemaSelectedPanelStruct,_super);function StreetCinemaSelectedPanelStruct(){return _super.call(this)||this}StreetCinemaSelectedPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetCinemaSelectedPanel"))};StreetCinemaSelectedPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_icon=(this.getChild("icon"));this.m_txLevel=(this.getChild("txLevel"));this.m_viewPanel=(this.getChild("viewPanel"));this.m_btnConfirm=(this.getChild("btnConfirm"))};StreetCinemaSelectedPanelStruct.URL="ui://s33x84186ia7t1va";StreetCinemaSelectedPanelStruct.DependPackages=["PfSkin","Common"];return StreetCinemaSelectedPanelStruct}(fairygui.GComponent));PfSkin.StreetCinemaSelectedPanelStruct=StreetCinemaSelectedPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetCinemaSelectedPanel=(function(_super){__extends(StreetCinemaSelectedPanel,_super);function StreetCinemaSelectedPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetCinemaSelectedPanel}(PfSkin.StreetCinemaSelectedPanelStruct));PfSkin.StreetCinemaSelectedPanel=StreetCinemaSelectedPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetIconStruct=(function(_super){__extends(StreetIconStruct,_super);function StreetIconStruct(){return _super.call(this)||this}StreetIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetIcon"))};StreetIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};StreetIconStruct.URL="ui://s33x8418oebq1vs";StreetIconStruct.DependPackages=["PfSkin"];return StreetIconStruct}(fairygui.GButton));PfSkin.StreetIconStruct=StreetIconStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetIcon=(function(_super){__extends(StreetIcon,_super);function StreetIcon(){return _super!==null&&_super.apply(this,arguments)||this}return StreetIcon}(PfSkin.StreetIconStruct));PfSkin.StreetIcon=StreetIcon})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetInfoPanelStruct=(function(_super){__extends(StreetInfoPanelStruct,_super);function StreetInfoPanelStruct(){return _super.call(this)||this}StreetInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetInfoPanel"))};StreetInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isCurrent=this.getController("isCurrent");this.m_canReward=this.getController("canReward");this.m_txtRewardInfo=(this.getChild("txtRewardInfo"));this.m_listReward=(this.getChild("listReward"));this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_txtTip3=(this.getChild("txtTip3"));this.m_txtStreetInfo=(this.getChild("txtStreetInfo"));this.m_title=(this.getChild("title"));this.m_viewPanel=(this.getChild("viewPanel"));this.m_progress=(this.getChild("progress"));this.m_btnConfirm=(this.getChild("btnConfirm"));this.m_btnReward=(this.getChild("btnReward"))};StreetInfoPanelStruct.URL="ui://s33x8418wpay1w7";StreetInfoPanelStruct.DependPackages=["PfSkin","Common"];return StreetInfoPanelStruct}(fairygui.GComponent));PfSkin.StreetInfoPanelStruct=StreetInfoPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetInfoPanel=(function(_super){__extends(StreetInfoPanel,_super);function StreetInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetInfoPanel}(PfSkin.StreetInfoPanelStruct));PfSkin.StreetInfoPanel=StreetInfoPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetItemStruct=(function(_super){__extends(StreetItemStruct,_super);function StreetItemStruct(){return _super.call(this)||this}StreetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetItem"))};StreetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_canReward=this.getController("canReward");this.m_canSign=this.getController("canSign");this.m_showCinema=this.getController("showCinema");this.m_txtCinemaNumb=(this.getChild("txtCinemaNumb"));this.m_txtTip=(this.getChild("txtTip"));this.m_listCinema=(this.getChild("listCinema"));this.m_listReward=(this.getChild("listReward"));this.m_streetIcon=(this.getChild("streetIcon"));this.m_progress=(this.getChild("progress"));this.m_btnLvUp=(this.getChild("btnLvUp"));this.m_labReward=(this.getChild("labReward"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnSign=(this.getChild("btnSign"))};StreetItemStruct.URL="ui://s33x8418oebq1w1";StreetItemStruct.DependPackages=["PfSkin","Common"];return StreetItemStruct}(fairygui.GLabel));PfSkin.StreetItemStruct=StreetItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetItem=(function(_super){__extends(StreetItem,_super);function StreetItem(){return _super!==null&&_super.apply(this,arguments)||this}return StreetItem}(PfSkin.StreetItemStruct));PfSkin.StreetItem=StreetItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetListPanelStruct=(function(_super){__extends(StreetListPanelStruct,_super);function StreetListPanelStruct(){return _super.call(this)||this}StreetListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetListPanel"))};StreetListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_topPanel=(this.getChild("topPanel"));this.m_btnRank=(this.getChild("btnRank"))};StreetListPanelStruct.URL="ui://s33x8418oebq1vf";StreetListPanelStruct.DependPackages=["PfSkin","Street"];return StreetListPanelStruct}(fairygui.GComponent));PfSkin.StreetListPanelStruct=StreetListPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetListPanel=(function(_super){__extends(StreetListPanel,_super);function StreetListPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetListPanel}(PfSkin.StreetListPanelStruct));PfSkin.StreetListPanel=StreetListPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetLvUpInfoPanelStruct=(function(_super){__extends(StreetLvUpInfoPanelStruct,_super);function StreetLvUpInfoPanelStruct(){return _super.call(this)||this}StreetLvUpInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetLvUpInfoPanel"))};StreetLvUpInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_txtTip3=(this.getChild("txtTip3"));this.m_viewPanel=(this.getChild("viewPanel"));this.m_progress=(this.getChild("progress"));this.m_btnConfirm=(this.getChild("btnConfirm"))};StreetLvUpInfoPanelStruct.URL="ui://s33x8418pn361w5";StreetLvUpInfoPanelStruct.DependPackages=["PfSkin"];return StreetLvUpInfoPanelStruct}(fairygui.GComponent));PfSkin.StreetLvUpInfoPanelStruct=StreetLvUpInfoPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetLvUpInfoPanel=(function(_super){__extends(StreetLvUpInfoPanel,_super);function StreetLvUpInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetLvUpInfoPanel}(PfSkin.StreetLvUpInfoPanelStruct));PfSkin.StreetLvUpInfoPanel=StreetLvUpInfoPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetMainPanelStruct=(function(_super){__extends(StreetMainPanelStruct,_super);function StreetMainPanelStruct(){return _super.call(this)||this}StreetMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetMainPanel"))};StreetMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showTab=this.getController("showTab");this.m_streetPanel=(this.getChild("streetPanel"));this.m_rankPanel=(this.getChild("rankPanel"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};StreetMainPanelStruct.URL="ui://s33x8418oebq1vu";StreetMainPanelStruct.DependPackages=["PfSkin","Street","Common"];return StreetMainPanelStruct}(fairygui.GComponent));PfSkin.StreetMainPanelStruct=StreetMainPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetMainPanel=(function(_super){__extends(StreetMainPanel,_super);function StreetMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetMainPanel}(PfSkin.StreetMainPanelStruct));PfSkin.StreetMainPanel=StreetMainPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetProgressBarStruct=(function(_super){__extends(StreetProgressBarStruct,_super);function StreetProgressBarStruct(){return _super.call(this)||this}StreetProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetProgressBar"))};StreetProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};StreetProgressBarStruct.URL="ui://s33x8418oebq1w0";StreetProgressBarStruct.DependPackages=["PfSkin"];return StreetProgressBarStruct}(fairygui.GProgressBar));PfSkin.StreetProgressBarStruct=StreetProgressBarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetProgressBar=(function(_super){__extends(StreetProgressBar,_super);function StreetProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return StreetProgressBar}(PfSkin.StreetProgressBarStruct));PfSkin.StreetProgressBar=StreetProgressBar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetProgressBar2Struct=(function(_super){__extends(StreetProgressBar2Struct,_super);function StreetProgressBar2Struct(){return _super.call(this)||this}StreetProgressBar2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetProgressBar2"))};StreetProgressBar2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};StreetProgressBar2Struct.URL="ui://s33x8418o5qn1w6";StreetProgressBar2Struct.DependPackages=["PfSkin"];return StreetProgressBar2Struct}(fairygui.GProgressBar));PfSkin.StreetProgressBar2Struct=StreetProgressBar2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetProgressBar2=(function(_super){__extends(StreetProgressBar2,_super);function StreetProgressBar2(){return _super!==null&&_super.apply(this,arguments)||this}return StreetProgressBar2}(PfSkin.StreetProgressBar2Struct));PfSkin.StreetProgressBar2=StreetProgressBar2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetRankPanelStruct=(function(_super){__extends(StreetRankPanelStruct,_super);function StreetRankPanelStruct(){return _super.call(this)||this}StreetRankPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetRankPanel"))};StreetRankPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rankType=this.getController("rankType");this.m_listTab=(this.getChild("listTab"));this.m_topPanel=(this.getChild("topPanel"));this.m_groupRank=(this.getChild("groupRank"));this.m_movieRank=(this.getChild("movieRank"));this.m_marquee=(this.getChild("marquee"));this.m_streetIcon=(this.getChild("streetIcon"))};StreetRankPanelStruct.URL="ui://s33x8418oebq1vt";StreetRankPanelStruct.DependPackages=["PfSkin","Common"];return StreetRankPanelStruct}(fairygui.GComponent));PfSkin.StreetRankPanelStruct=StreetRankPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetRankPanel=(function(_super){__extends(StreetRankPanel,_super);function StreetRankPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetRankPanel}(PfSkin.StreetRankPanelStruct));PfSkin.StreetRankPanel=StreetRankPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetSelectCinemaPanelStruct=(function(_super){__extends(StreetSelectCinemaPanelStruct,_super);function StreetSelectCinemaPanelStruct(){return _super.call(this)||this}StreetSelectCinemaPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","StreetSelectCinemaPanel"))};StreetSelectCinemaPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_viewPanel=(this.getChild("viewPanel"));this.m_btnConfirm=(this.getChild("btnConfirm"))};StreetSelectCinemaPanelStruct.URL="ui://s33x84186ia7t1v7";StreetSelectCinemaPanelStruct.DependPackages=["PfSkin","Common"];return StreetSelectCinemaPanelStruct}(fairygui.GComponent));PfSkin.StreetSelectCinemaPanelStruct=StreetSelectCinemaPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var StreetSelectCinemaPanel=(function(_super){__extends(StreetSelectCinemaPanel,_super);function StreetSelectCinemaPanel(){return _super!==null&&_super.apply(this,arguments)||this}return StreetSelectCinemaPanel}(PfSkin.StreetSelectCinemaPanelStruct));PfSkin.StreetSelectCinemaPanel=StreetSelectCinemaPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SystemSelectActorPanelStruct=(function(_super){__extends(SystemSelectActorPanelStruct,_super);function SystemSelectActorPanelStruct(){return _super.call(this)||this}SystemSelectActorPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","SystemSelectActorPanel"))};SystemSelectActorPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_list=(this.getChild("list"));this.m_tipNoActor=(this.getChild("tipNoActor"));this.m_btnClose=(this.getChild("btnClose"))};SystemSelectActorPanelStruct.URL="ui://s33x8418wpo31ns";SystemSelectActorPanelStruct.DependPackages=["PfSkin","Common"];return SystemSelectActorPanelStruct}(fairygui.GComponent));PfSkin.SystemSelectActorPanelStruct=SystemSelectActorPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var SystemSelectActorPanel=(function(_super){__extends(SystemSelectActorPanel,_super);function SystemSelectActorPanel(){return _super!==null&&_super.apply(this,arguments)||this}return SystemSelectActorPanel}(PfSkin.SystemSelectActorPanelStruct));PfSkin.SystemSelectActorPanel=SystemSelectActorPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TalkBoxStruct=(function(_super){__extends(TalkBoxStruct,_super);function TalkBoxStruct(){return _super.call(this)||this}TalkBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TalkBox"))};TalkBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TalkBoxStruct.URL="ui://s33x8418h1pn1ky";TalkBoxStruct.DependPackages=["PfSkin","Common"];return TalkBoxStruct}(fairygui.GLabel));PfSkin.TalkBoxStruct=TalkBoxStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TalkBox=(function(_super){__extends(TalkBox,_super);function TalkBox(){return _super!==null&&_super.apply(this,arguments)||this}return TalkBox}(PfSkin.TalkBoxStruct));PfSkin.TalkBox=TalkBox})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TextStruct=(function(_super){__extends(TextStruct,_super);function TextStruct(){return _super.call(this)||this}TextStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Text"))};TextStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextStruct.URL="ui://s33x8418jazc1mv";TextStruct.DependPackages=["PfSkin"];return TextStruct}(fairygui.GLabel));PfSkin.TextStruct=TextStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Text=(function(_super){__extends(Text,_super);function Text(){return _super!==null&&_super.apply(this,arguments)||this}return Text}(PfSkin.TextStruct));PfSkin.Text=Text})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TextInputStruct=(function(_super){__extends(TextInputStruct,_super);function TextInputStruct(){return _super.call(this)||this}TextInputStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TextInput"))};TextInputStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_grayed=this.getController("grayed");this.m_title=(this.getChild("title"))};TextInputStruct.URL="ui://s33x8418rjg3t1w5";TextInputStruct.DependPackages=["PfSkin"];return TextInputStruct}(fairygui.GLabel));PfSkin.TextInputStruct=TextInputStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TextInput=(function(_super){__extends(TextInput,_super);function TextInput(){return _super!==null&&_super.apply(this,arguments)||this}return TextInput}(PfSkin.TextInputStruct));PfSkin.TextInput=TextInput})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TextScrollStruct=(function(_super){__extends(TextScrollStruct,_super);function TextScrollStruct(){return _super.call(this)||this}TextScrollStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TextScroll"))};TextScrollStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};TextScrollStruct.URL="ui://s33x8418klss1ui";TextScrollStruct.DependPackages=["PfSkin"];return TextScrollStruct}(fairygui.GLabel));PfSkin.TextScrollStruct=TextScrollStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TextScroll=(function(_super){__extends(TextScroll,_super);function TextScroll(){return _super!==null&&_super.apply(this,arguments)||this}return TextScroll}(PfSkin.TextScrollStruct));PfSkin.TextScroll=TextScroll})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TipRewardUIStruct=(function(_super){__extends(TipRewardUIStruct,_super);function TipRewardUIStruct(){return _super.call(this)||this}TipRewardUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TipRewardUI"))};TipRewardUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_bg=(this.getChild("bg"));this.m_list=(this.getChild("list"));this.m_t0=this.getTransition("t0")};TipRewardUIStruct.URL="ui://s33x8418jazc1ll";TipRewardUIStruct.DependPackages=["PfSkin","Common"];return TipRewardUIStruct}(fairygui.GLabel));PfSkin.TipRewardUIStruct=TipRewardUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ItemCellView=fgui.Common.ItemCellView;var TipRewardUI=(function(_super){__extends(TipRewardUI,_super);function TipRewardUI(){return _super!==null&&_super.apply(this,arguments)||this}TipRewardUI.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};TipRewardUI.prototype.setItems=function(items){this.m_list.removeChildrenToPool();for(var index=0;index<items.length;index++){var item=items[index];var view=this.m_list.addItemFromPool(ItemCellView.URL);view.updateViewByDTNum(item)}this.m_list.viewWidth=items.length*86};TipRewardUI.prototype.setPos=function(target){var globalPos=target.localToGlobal(0,0);var localPos=this.parent.globalToLocal(globalPos.x,globalPos.y);this.setXY(localPos.x+43,localPos.y);if(localPos.x+this.m_list.viewWidth>fairygui.GRoot.inst.width){this.m_c1.selectedIndex=1;this.setPivot((this.width-60)/this.width,1,true)}else{this.m_c1.selectedIndex=0;this.setPivot(0.5,1,true)}};return TipRewardUI}(PfSkin.TipRewardUIStruct));PfSkin.TipRewardUI=TipRewardUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TipUIStruct=(function(_super){__extends(TipUIStruct,_super);function TipUIStruct(){return _super.call(this)||this}TipUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TipUI"))};TipUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_t0=this.getTransition("t0")};TipUIStruct.URL="ui://s33x8418jazc1lm";TipUIStruct.DependPackages=["PfSkin"];return TipUIStruct}(fairygui.GLabel));PfSkin.TipUIStruct=TipUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TipUI=(function(_super){__extends(TipUI,_super);function TipUI(){return _super!==null&&_super.apply(this,arguments)||this}return TipUI}(PfSkin.TipUIStruct));PfSkin.TipUI=TipUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TopPanelStruct=(function(_super){__extends(TopPanelStruct,_super);function TopPanelStruct(){return _super.call(this)||this}TopPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TopPanel"))};TopPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listAsset=(this.getChild("listAsset"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"))};TopPanelStruct.URL="ui://s33x8418mywn1k9";TopPanelStruct.DependPackages=["PfSkin","Common"];return TopPanelStruct}(fairygui.GLabel));PfSkin.TopPanelStruct=TopPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TopPanel=(function(_super){__extends(TopPanel,_super);function TopPanel(){return _super!==null&&_super.apply(this,arguments)||this}return TopPanel}(PfSkin.TopPanelStruct));PfSkin.TopPanel=TopPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TrainResultItemStruct=(function(_super){__extends(TrainResultItemStruct,_super);function TrainResultItemStruct(){return _super.call(this)||this}TrainResultItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","TrainResultItem"))};TrainResultItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_cur=(this.getChild("cur"));this.m_next=(this.getChild("next"));this.m_add=(this.getChild("add"))};TrainResultItemStruct.URL="ui://s33x8418jazc1mw";TrainResultItemStruct.DependPackages=["PfSkin","Common"];return TrainResultItemStruct}(fairygui.GLabel));PfSkin.TrainResultItemStruct=TrainResultItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var TrainResultItem=(function(_super){__extends(TrainResultItem,_super);function TrainResultItem(){return _super!==null&&_super.apply(this,arguments)||this}TrainResultItem.prototype.updateView=function(data,attr){var config=Game.config.property.getConfig(attr.attrId);var next=data[config.field];var curr=next-attr.value;this.m_add.text="(+"+attr.value+")";this.m_cur.text=curr+"";this.m_next.text=next+"";this.icon=Game.config.avatar.getConfig(config.icon).iconUrl};return TrainResultItem}(PfSkin.TrainResultItemStruct));PfSkin.TrainResultItem=TrainResultItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var UserRankStruct=(function(_super){__extends(UserRankStruct,_super);function UserRankStruct(){return _super.call(this)||this}UserRankStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","UserRank"))};UserRankStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_hasGetReward=this.getController("hasGetReward");this.m_txtName=(this.getChild("txtName"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtRank=(this.getChild("txtRank"));this.m_listReward=(this.getChild("listReward"));this.m_imgHasReward=(this.getChild("imgHasReward"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnMovie=(this.getChild("btnMovie"))};UserRankStruct.URL="ui://s33x8418swip1r4";UserRankStruct.DependPackages=["PfSkin","Common"];return UserRankStruct}(fairygui.GComponent));PfSkin.UserRankStruct=UserRankStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var UserRank=(function(_super){__extends(UserRank,_super);function UserRank(){return _super!==null&&_super.apply(this,arguments)||this}return UserRank}(PfSkin.UserRankStruct));PfSkin.UserRank=UserRank})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ViewPanelStruct=(function(_super){__extends(ViewPanelStruct,_super);function ViewPanelStruct(){return _super.call(this)||this}ViewPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","ViewPanel"))};ViewPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listAsset=(this.getChild("listAsset"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"))};ViewPanelStruct.URL="ui://s33x8418mywn1k5";ViewPanelStruct.DependPackages=["PfSkin","Common"];return ViewPanelStruct}(fairygui.GLabel));PfSkin.ViewPanelStruct=ViewPanelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var ViewPanel=(function(_super){__extends(ViewPanel,_super);function ViewPanel(){return _super!==null&&_super.apply(this,arguments)||this}return ViewPanel}(PfSkin.ViewPanelStruct));PfSkin.ViewPanel=ViewPanel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var VisitMainTopUIStruct=(function(_super){__extends(VisitMainTopUIStruct,_super);function VisitMainTopUIStruct(){return _super.call(this)||this}VisitMainTopUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","VisitMainTopUI"))};VisitMainTopUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_name=(this.getChild("name"));this.m_checklabel=(this.getChild("checklabel"));this.m_time=(this.getChild("time"));this.m_checkbox=(this.getChild("checkbox"))};VisitMainTopUIStruct.URL="ui://s33x8418h5zr1v7";VisitMainTopUIStruct.DependPackages=["PfSkin","Common"];return VisitMainTopUIStruct}(fairygui.GComponent));PfSkin.VisitMainTopUIStruct=VisitMainTopUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var VisitMainTopUI=(function(_super){__extends(VisitMainTopUI,_super);function VisitMainTopUI(){return _super!==null&&_super.apply(this,arguments)||this}return VisitMainTopUI}(PfSkin.VisitMainTopUIStruct));PfSkin.VisitMainTopUI=VisitMainTopUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var VisitUIStruct=(function(_super){__extends(VisitUIStruct,_super);function VisitUIStruct(){return _super.call(this)||this}VisitUIStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","VisitUI"))};VisitUIStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_nextFans=(this.getChild("nextFans"));this.m_dialog=(this.getChild("dialog"));this.m_okBtn=(this.getChild("okBtn"))};VisitUIStruct.URL="ui://s33x8418h5zr1v6";VisitUIStruct.DependPackages=["PfSkin"];return VisitUIStruct}(fairygui.GComponent));PfSkin.VisitUIStruct=VisitUIStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var VisitUI=(function(_super){__extends(VisitUI,_super);function VisitUI(){return _super!==null&&_super.apply(this,arguments)||this}return VisitUI}(PfSkin.VisitUIStruct));PfSkin.VisitUI=VisitUI})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeUpStruct=(function(_super){__extends(WarAttributeUpStruct,_super);function WarAttributeUpStruct(){return _super.call(this)||this}WarAttributeUpStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarAttributeUp"))};WarAttributeUpStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_up=(this.getChild("up"))};WarAttributeUpStruct.URL="ui://s33x8418r8ay1fn";WarAttributeUpStruct.DependPackages=["PfSkin"];return WarAttributeUpStruct}(fairygui.GLabel));PfSkin.WarAttributeUpStruct=WarAttributeUpStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeUp=(function(_super){__extends(WarAttributeUp,_super);function WarAttributeUp(){return _super!==null&&_super.apply(this,arguments)||this}return WarAttributeUp}(PfSkin.WarAttributeUpStruct));PfSkin.WarAttributeUp=WarAttributeUp})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeUpTipStruct=(function(_super){__extends(WarAttributeUpTipStruct,_super);function WarAttributeUpTipStruct(){return _super.call(this)||this}WarAttributeUpTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarAttributeUpTip"))};WarAttributeUpTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_bgTip=(this.getChild("bgTip"));this.m_title=(this.getChild("title"));this.m_upTip=(this.getChild("upTip"));this.m_t0=this.getTransition("t0")};WarAttributeUpTipStruct.URL="ui://s33x84186ve81gn";WarAttributeUpTipStruct.DependPackages=["PfSkin"];return WarAttributeUpTipStruct}(fairygui.GLabel));PfSkin.WarAttributeUpTipStruct=WarAttributeUpTipStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeUpTip=(function(_super){__extends(WarAttributeUpTip,_super);function WarAttributeUpTip(){return _super!==null&&_super.apply(this,arguments)||this}return WarAttributeUpTip}(PfSkin.WarAttributeUpTipStruct));PfSkin.WarAttributeUpTip=WarAttributeUpTip})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeWarStruct=(function(_super){__extends(WarAttributeWarStruct,_super);function WarAttributeWarStruct(){return _super.call(this)||this}WarAttributeWarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarAttributeWar"))};WarAttributeWarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};WarAttributeWarStruct.URL="ui://s33x84186ve81g4";WarAttributeWarStruct.DependPackages=["PfSkin"];return WarAttributeWarStruct}(fairygui.GLabel));PfSkin.WarAttributeWarStruct=WarAttributeWarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAttributeWar=(function(_super){__extends(WarAttributeWar,_super);function WarAttributeWar(){return _super!==null&&_super.apply(this,arguments)||this}return WarAttributeWar}(PfSkin.WarAttributeWarStruct));PfSkin.WarAttributeWar=WarAttributeWar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAudienceItemStruct=(function(_super){__extends(WarAudienceItemStruct,_super);function WarAudienceItemStruct(){return _super.call(this)||this}WarAudienceItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarAudienceItem"))};WarAudienceItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_icon=(this.getChild("icon"));this.m_noticeName=(this.getChild("noticeName"));this.m_pinglun1=(this.getChild("pinglun1"));this.m_fen=(this.getChild("fen"));this.m_des=(this.getChild("des"))};WarAudienceItemStruct.URL="ui://s33x8418k8js1hw";WarAudienceItemStruct.DependPackages=["PfSkin"];return WarAudienceItemStruct}(fairygui.GLabel));PfSkin.WarAudienceItemStruct=WarAudienceItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAudienceItem=(function(_super){__extends(WarAudienceItem,_super);function WarAudienceItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarAudienceItem}(PfSkin.WarAudienceItemStruct));PfSkin.WarAudienceItem=WarAudienceItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAudienceReputationStruct=(function(_super){__extends(WarAudienceReputationStruct,_super);function WarAudienceReputationStruct(){return _super.call(this)||this}WarAudienceReputationStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarAudienceReputation"))};WarAudienceReputationStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_bgTop=(this.getChild("bgTop"));this.m_title=(this.getChild("title"));this.m_typeList=(this.getChild("typeList"));this.m_filmName=(this.getChild("filmName"));this.m_tip=(this.getChild("tip"));this.m_mask=(this.getChild("mask"));this.m_att1Icon=(this.getChild("att1Icon"));this.m_att1Name=(this.getChild("att1Name"));this.m_att2Icon=(this.getChild("att2Icon"));this.m_att2Name=(this.getChild("att2Name"));this.m_att3Icon=(this.getChild("att3Icon"));this.m_att3Name=(this.getChild("att3Name"));this.m_tip3=(this.getChild("tip3"));this.m_okBtn=(this.getChild("okBtn"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_audienceProgress=(this.getChild("audienceProgress"))};WarAudienceReputationStruct.URL="ui://s33x8418k8js1hu";WarAudienceReputationStruct.DependPackages=["PfSkin"];return WarAudienceReputationStruct}(fairygui.GComponent));PfSkin.WarAudienceReputationStruct=WarAudienceReputationStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarAudienceReputation=(function(_super){__extends(WarAudienceReputation,_super);function WarAudienceReputation(){return _super!==null&&_super.apply(this,arguments)||this}return WarAudienceReputation}(PfSkin.WarAudienceReputationStruct));PfSkin.WarAudienceReputation=WarAudienceReputation})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBackBtnStruct=(function(_super){__extends(WarBackBtnStruct,_super);function WarBackBtnStruct(){return _super.call(this)||this}WarBackBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarBackBtn"))};WarBackBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarBackBtnStruct.URL="ui://s33x84186ve81g1";WarBackBtnStruct.DependPackages=["PfSkin"];return WarBackBtnStruct}(fairygui.GButton));PfSkin.WarBackBtnStruct=WarBackBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBackBtn=(function(_super){__extends(WarBackBtn,_super);function WarBackBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarBackBtn}(PfSkin.WarBackBtnStruct));PfSkin.WarBackBtn=WarBackBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBaoziMaskStruct=(function(_super){__extends(WarBaoziMaskStruct,_super);function WarBaoziMaskStruct(){return _super.call(this)||this}WarBaoziMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarBaoziMask"))};WarBaoziMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon3Mask=(this.getChild("icon3Mask"));this.m_icon2=(this.getChild("icon2"))};WarBaoziMaskStruct.URL="ui://s33x8418k8js1i2";WarBaoziMaskStruct.DependPackages=["PfSkin"];return WarBaoziMaskStruct}(fairygui.GComponent));PfSkin.WarBaoziMaskStruct=WarBaoziMaskStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBaoziMask=(function(_super){__extends(WarBaoziMask,_super);function WarBaoziMask(){return _super!==null&&_super.apply(this,arguments)||this}return WarBaoziMask}(PfSkin.WarBaoziMaskStruct));PfSkin.WarBaoziMask=WarBaoziMask})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBtnStruct=(function(_super){__extends(WarBtnStruct,_super);function WarBtnStruct(){return _super.call(this)||this}WarBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarBtn"))};WarBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarBtnStruct.URL="ui://s33x84186ve81ga";WarBtnStruct.DependPackages=["PfSkin"];return WarBtnStruct}(fairygui.GButton));PfSkin.WarBtnStruct=WarBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarBtn=(function(_super){__extends(WarBtn,_super);function WarBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarBtn}(PfSkin.WarBtnStruct));PfSkin.WarBtn=WarBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarbubbleStruct=(function(_super){__extends(WarbubbleStruct,_super);function WarbubbleStruct(){return _super.call(this)||this}WarbubbleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","Warbubble"))};WarbubbleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_bg=(this.getChild("bg"));this.m_0=(this.getChild("0"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_title=(this.getChild("title"))};WarbubbleStruct.URL="ui://s33x84186ve81gk";WarbubbleStruct.DependPackages=["PfSkin"];return WarbubbleStruct}(fairygui.GLabel));PfSkin.WarbubbleStruct=WarbubbleStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var Warbubble=(function(_super){__extends(Warbubble,_super);function Warbubble(){return _super!==null&&_super.apply(this,arguments)||this}return Warbubble}(PfSkin.WarbubbleStruct));PfSkin.Warbubble=Warbubble})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCinemaItemStruct=(function(_super){__extends(WarCinemaItemStruct,_super);function WarCinemaItemStruct(){return _super.call(this)||this}WarCinemaItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCinemaItem"))};WarCinemaItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg1=(this.getChild("bg1"));this.m_iconBg=(this.getChild("iconBg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_okBtn=(this.getChild("okBtn"))};WarCinemaItemStruct.URL="ui://s33x8418k8js1hs";WarCinemaItemStruct.DependPackages=["PfSkin"];return WarCinemaItemStruct}(fairygui.GComponent));PfSkin.WarCinemaItemStruct=WarCinemaItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCinemaItem=(function(_super){__extends(WarCinemaItem,_super);function WarCinemaItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarCinemaItem}(PfSkin.WarCinemaItemStruct));PfSkin.WarCinemaItem=WarCinemaItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCinemaSelectionStruct=(function(_super){__extends(WarCinemaSelectionStruct,_super);function WarCinemaSelectionStruct(){return _super.call(this)||this}WarCinemaSelectionStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCinemaSelection"))};WarCinemaSelectionStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_topBg=(this.getChild("topBg"));this.m_title=(this.getChild("title"));this.m_yxList=(this.getChild("yxList"));this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"))};WarCinemaSelectionStruct.URL="ui://s33x8418k8js1hr";WarCinemaSelectionStruct.DependPackages=["PfSkin"];return WarCinemaSelectionStruct}(fairygui.GComponent));PfSkin.WarCinemaSelectionStruct=WarCinemaSelectionStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCinemaSelection=(function(_super){__extends(WarCinemaSelection,_super);function WarCinemaSelection(){return _super!==null&&_super.apply(this,arguments)||this}return WarCinemaSelection}(PfSkin.WarCinemaSelectionStruct));PfSkin.WarCinemaSelection=WarCinemaSelection})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCloseBtnStruct=(function(_super){__extends(WarCloseBtnStruct,_super);function WarCloseBtnStruct(){return _super.call(this)||this}WarCloseBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCloseBtn"))};WarCloseBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_icon2=(this.getChild("icon2"))};WarCloseBtnStruct.URL="ui://s33x8418znuj1ez";WarCloseBtnStruct.DependPackages=["PfSkin","Common"];return WarCloseBtnStruct}(fairygui.GButton));PfSkin.WarCloseBtnStruct=WarCloseBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCloseBtn=(function(_super){__extends(WarCloseBtn,_super);function WarCloseBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarCloseBtn}(PfSkin.WarCloseBtnStruct));PfSkin.WarCloseBtn=WarCloseBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCompletedConditionsStruct=(function(_super){__extends(WarCompletedConditionsStruct,_super);function WarCompletedConditionsStruct(){return _super.call(this)||this}WarCompletedConditionsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCompletedConditions"))};WarCompletedConditionsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_star0=(this.getChild("star0"));this.m_star1=(this.getChild("star1"));this.m_title=(this.getChild("title"))};WarCompletedConditionsStruct.URL="ui://s33x8418r8ay1fq";WarCompletedConditionsStruct.DependPackages=["PfSkin"];return WarCompletedConditionsStruct}(fairygui.GLabel));PfSkin.WarCompletedConditionsStruct=WarCompletedConditionsStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCompletedConditions=(function(_super){__extends(WarCompletedConditions,_super);function WarCompletedConditions(){return _super!==null&&_super.apply(this,arguments)||this}return WarCompletedConditions}(PfSkin.WarCompletedConditionsStruct));PfSkin.WarCompletedConditions=WarCompletedConditions})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarContinuousIncomeStruct=(function(_super){__extends(WarContinuousIncomeStruct,_super);function WarContinuousIncomeStruct(){return _super.call(this)||this}WarContinuousIncomeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarContinuousIncome"))};WarContinuousIncomeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_changeCity=this.getController("changeCity");this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_pingjia=(this.getChild("pingjia"));this.m_filmName=(this.getChild("filmName"));this.m_incomeTime=(this.getChild("incomeTime"));this.m_guanzhuduValue=(this.getChild("guanzhuduValue"));this.m_lockTip=(this.getChild("lockTip"));this.m_lock=(this.getChild("lock"));this.m_rewardIcon1=(this.getChild("rewardIcon1"));this.m_rewardValue1=(this.getChild("rewardValue1"));this.m_rewardIcon2=(this.getChild("rewardIcon2"));this.m_rewardValue2=(this.getChild("rewardValue2"));this.m_rewardTip=(this.getChild("rewardTip"));this.m_rewardTipValue=(this.getChild("rewardTipValue"));this.m_cityList=(this.getChild("cityList"));this.m_IncomeList=(this.getChild("IncomeList"));this.m_rewardList=(this.getChild("rewardList"));this.m_bg2=(this.getChild("bg2"));this.m_bgBai2=(this.getChild("bgBai2"));this.m_cantTip=(this.getChild("cantTip"));this.m_icon2=(this.getChild("icon2"));this.m_cityName=(this.getChild("cityName"));this.m_IncomeList2=(this.getChild("IncomeList2"));this.m_rewardList2=(this.getChild("rewardList2"));this.m_overTip=(this.getChild("overTip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_xuanchuance=(this.getChild("xuanchuance"));this.m_nameBtn=(this.getChild("nameBtn"));this.m_guanzhuduProgress=(this.getChild("guanzhuduProgress"));this.m_promotionBtn=(this.getChild("promotionBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_okBtn2=(this.getChild("okBtn2"));this.m_closeBtn2=(this.getChild("closeBtn2"))};WarContinuousIncomeStruct.URL="ui://s33x8418pvrg1if";WarContinuousIncomeStruct.DependPackages=["PfSkin"];return WarContinuousIncomeStruct}(fairygui.GComponent));PfSkin.WarContinuousIncomeStruct=WarContinuousIncomeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarContinuousIncome=(function(_super){__extends(WarContinuousIncome,_super);function WarContinuousIncome(){return _super!==null&&_super.apply(this,arguments)||this}return WarContinuousIncome}(PfSkin.WarContinuousIncomeStruct));PfSkin.WarContinuousIncome=WarContinuousIncome})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCostViewStruct=(function(_super){__extends(WarCostViewStruct,_super);function WarCostViewStruct(){return _super.call(this)||this}WarCostViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCostView"))};WarCostViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_upDaban=(this.getChild("upDaban"));this.m_diHei=(this.getChild("diHei"));this.m_diBai=(this.getChild("diBai"));this.m_daban=(this.getChild("daban"));this.m_daojiao=(this.getChild("daojiao"));this.m_yrList=(this.getChild("yrList"));this.m_nameTip=(this.getChild("nameTip"));this.m_costIcon=(this.getChild("costIcon"));this.m_costText=(this.getChild("costText"));this.m_allTip=(this.getChild("allTip"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};WarCostViewStruct.URL="ui://s33x84186ve81g8";WarCostViewStruct.DependPackages=["PfSkin"];return WarCostViewStruct}(fairygui.GComponent));PfSkin.WarCostViewStruct=WarCostViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCostView=(function(_super){__extends(WarCostView,_super);function WarCostView(){return _super!==null&&_super.apply(this,arguments)||this}return WarCostView}(PfSkin.WarCostViewStruct));PfSkin.WarCostView=WarCostView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCurrentMarketInfoStruct=(function(_super){__extends(WarCurrentMarketInfoStruct,_super);function WarCurrentMarketInfoStruct(){return _super.call(this)||this}WarCurrentMarketInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCurrentMarketInfo"))};WarCurrentMarketInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_closeTip=(this.getChild("closeTip"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_tipIcon=(this.getChild("tipIcon"));this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_reqTip=(this.getChild("reqTip"));this.m_curTip=(this.getChild("curTip"));this.m_curManReq=(this.getChild("curManReq"));this.m_curWomanReq=(this.getChild("curWomanReq"));this.m_curChildReq=(this.getChild("curChildReq"));this.m_manTip=(this.getChild("manTip"));this.m_womenTip=(this.getChild("womenTip"));this.m_childTip=(this.getChild("childTip"));this.m_manIcon=(this.getChild("manIcon"));this.m_manOk=(this.getChild("manOk"));this.m_manReq=(this.getChild("manReq"));this.m_manReqCom=(this.getChild("manReqCom"));this.m_womanIcon=(this.getChild("womanIcon"));this.m_womanOk=(this.getChild("womanOk"));this.m_womenReq=(this.getChild("womenReq"));this.m_womanReqCom=(this.getChild("womanReqCom"));this.m_childIcon=(this.getChild("childIcon"));this.m_childOk=(this.getChild("childOk"));this.m_childReq=(this.getChild("childReq"));this.m_childReqCom=(this.getChild("childReqCom"));this.m_bottomCom=(this.getChild("bottomCom"));this.m_closeBtn=(this.getChild("closeBtn"))};WarCurrentMarketInfoStruct.URL="ui://s33x8418r8ay1fs";WarCurrentMarketInfoStruct.DependPackages=["PfSkin"];return WarCurrentMarketInfoStruct}(fairygui.GComponent));PfSkin.WarCurrentMarketInfoStruct=WarCurrentMarketInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCurrentMarketInfo=(function(_super){__extends(WarCurrentMarketInfo,_super);function WarCurrentMarketInfo(){return _super!==null&&_super.apply(this,arguments)||this}return WarCurrentMarketInfo}(PfSkin.WarCurrentMarketInfoStruct));PfSkin.WarCurrentMarketInfo=WarCurrentMarketInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCurrentYRStruct=(function(_super){__extends(WarCurrentYRStruct,_super);function WarCurrentYRStruct(){return _super.call(this)||this}WarCurrentYRStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarCurrentYR"))};WarCurrentYRStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_tip=(this.getChild("tip"));this.m_title=(this.getChild("title"))};WarCurrentYRStruct.URL="ui://s33x84186ve81gj";WarCurrentYRStruct.DependPackages=["PfSkin"];return WarCurrentYRStruct}(fairygui.GLabel));PfSkin.WarCurrentYRStruct=WarCurrentYRStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarCurrentYR=(function(_super){__extends(WarCurrentYR,_super);function WarCurrentYR(){return _super!==null&&_super.apply(this,arguments)||this}return WarCurrentYR}(PfSkin.WarCurrentYRStruct));PfSkin.WarCurrentYR=WarCurrentYR})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarEmptyBtnStruct=(function(_super){__extends(WarEmptyBtnStruct,_super);function WarEmptyBtnStruct(){return _super.call(this)||this}WarEmptyBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarEmptyBtn"))};WarEmptyBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};WarEmptyBtnStruct.URL="ui://s33x8418r8ay1fg";WarEmptyBtnStruct.DependPackages=["PfSkin"];return WarEmptyBtnStruct}(fairygui.GButton));PfSkin.WarEmptyBtnStruct=WarEmptyBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarEmptyBtn=(function(_super){__extends(WarEmptyBtn,_super);function WarEmptyBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarEmptyBtn}(PfSkin.WarEmptyBtnStruct));PfSkin.WarEmptyBtn=WarEmptyBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarEndingIncomeStruct=(function(_super){__extends(WarEndingIncomeStruct,_super);function WarEndingIncomeStruct(){return _super.call(this)||this}WarEndingIncomeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarEndingIncome"))};WarEndingIncomeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_filmList=(this.getChild("filmList"));this.m_okBtn=(this.getChild("okBtn"))};WarEndingIncomeStruct.URL="ui://s33x8418pvrg1id";WarEndingIncomeStruct.DependPackages=["PfSkin"];return WarEndingIncomeStruct}(fairygui.GComponent));PfSkin.WarEndingIncomeStruct=WarEndingIncomeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarEndingIncome=(function(_super){__extends(WarEndingIncome,_super);function WarEndingIncome(){return _super!==null&&_super.apply(this,arguments)||this}return WarEndingIncome}(PfSkin.WarEndingIncomeStruct));PfSkin.WarEndingIncome=WarEndingIncome})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmcityBtnStruct=(function(_super){__extends(WarFilmcityBtnStruct,_super);function WarFilmcityBtnStruct(){return _super.call(this)||this}WarFilmcityBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmcityBtn"))};WarFilmcityBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_selected=(this.getChild("selected"));this.m_title=(this.getChild("title"))};WarFilmcityBtnStruct.URL="ui://s33x8418pvrg1ii";WarFilmcityBtnStruct.DependPackages=["PfSkin"];return WarFilmcityBtnStruct}(fairygui.GButton));PfSkin.WarFilmcityBtnStruct=WarFilmcityBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmcityBtn=(function(_super){__extends(WarFilmcityBtn,_super);function WarFilmcityBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmcityBtn}(PfSkin.WarFilmcityBtnStruct));PfSkin.WarFilmcityBtn=WarFilmcityBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmFailedItemStruct=(function(_super){__extends(WarFilmFailedItemStruct,_super);function WarFilmFailedItemStruct(){return _super.call(this)||this}WarFilmFailedItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmFailedItem"))};WarFilmFailedItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_okTip=(this.getChild("okTip"))};WarFilmFailedItemStruct.URL="ui://s33x8418k8js1hd";WarFilmFailedItemStruct.DependPackages=["PfSkin"];return WarFilmFailedItemStruct}(fairygui.GLabel));PfSkin.WarFilmFailedItemStruct=WarFilmFailedItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmFailedItem=(function(_super){__extends(WarFilmFailedItem,_super);function WarFilmFailedItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmFailedItem}(PfSkin.WarFilmFailedItemStruct));PfSkin.WarFilmFailedItem=WarFilmFailedItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmguanzhongItemStruct=(function(_super){__extends(WarFilmguanzhongItemStruct,_super);function WarFilmguanzhongItemStruct(){return _super.call(this)||this}WarFilmguanzhongItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmguanzhongItem"))};WarFilmguanzhongItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_sex=this.getController("sex");this.m_phiz=this.getController("phiz");this.m_man=(this.getChild("man"));this.m_woman=(this.getChild("woman"));this.m_child=(this.getChild("child"));this.m_phiz1=(this.getChild("phiz1"));this.m_phiz2=(this.getChild("phiz2"));this.m_phiz3=(this.getChild("phiz3"));this.m_phiz4=(this.getChild("phiz4"));this.m_phiz5=(this.getChild("phiz5"));this.m_titleBg=(this.getChild("titleBg"));this.m_title=(this.getChild("title"));this.m_phizShow=this.getTransition("phizShow")};WarFilmguanzhongItemStruct.URL="ui://s33x8418k8js1i0";WarFilmguanzhongItemStruct.DependPackages=["PfSkin"];return WarFilmguanzhongItemStruct}(fairygui.GLabel));PfSkin.WarFilmguanzhongItemStruct=WarFilmguanzhongItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmguanzhongItem=(function(_super){__extends(WarFilmguanzhongItem,_super);function WarFilmguanzhongItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmguanzhongItem}(PfSkin.WarFilmguanzhongItemStruct));PfSkin.WarFilmguanzhongItem=WarFilmguanzhongItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmInfBtnStruct=(function(_super){__extends(WarFilmInfBtnStruct,_super);function WarFilmInfBtnStruct(){return _super.call(this)||this}WarFilmInfBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmInfBtn"))};WarFilmInfBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"))};WarFilmInfBtnStruct.URL="ui://s33x84186ve81g2";WarFilmInfBtnStruct.DependPackages=["PfSkin"];return WarFilmInfBtnStruct}(fairygui.GButton));PfSkin.WarFilmInfBtnStruct=WarFilmInfBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmInfBtn=(function(_super){__extends(WarFilmInfBtn,_super);function WarFilmInfBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmInfBtn}(PfSkin.WarFilmInfBtnStruct));PfSkin.WarFilmInfBtn=WarFilmInfBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmInfoStruct=(function(_super){__extends(WarFilmInfoStruct,_super);function WarFilmInfoStruct(){return _super.call(this)||this}WarFilmInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmInfo"))};WarFilmInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_upDaban=(this.getChild("upDaban"));this.m_diban=(this.getChild("diban"));this.m_dibian=(this.getChild("dibian"));this.m_daban=(this.getChild("daban"));this.m_daojiao=(this.getChild("daojiao"));this.m_textBg=(this.getChild("textBg"));this.m_kuang=(this.getChild("kuang"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmName=(this.getChild("filmName"));this.m_filmLabelList=(this.getChild("filmLabelList"));this.m_yirenbg=(this.getChild("yirenbg"));this.m_fenge1=(this.getChild("fenge1"));this.m_gzTip=(this.getChild("gzTip"));this.m_gzTip2=(this.getChild("gzTip2"));this.m_manIcon=(this.getChild("manIcon"));this.m_manReq=(this.getChild("manReq"));this.m_womanIcon=(this.getChild("womanIcon"));this.m_womanReq=(this.getChild("womanReq"));this.m_childIcon=(this.getChild("childIcon"));this.m_childReq=(this.getChild("childReq"));this.m_fenge2=(this.getChild("fenge2"));this.m_filmYirenList=(this.getChild("filmYirenList"));this.m_icon=(this.getChild("icon"));this.m_attAdd=(this.getChild("attAdd"));this.m_filmDes=(this.getChild("filmDes"));this.m_filmStar=(this.getChild("filmStar"));this.m_filmType=(this.getChild("filmType"));this.m_completedConditions1=(this.getChild("completedConditions1"));this.m_completedConditions2=(this.getChild("completedConditions2"));this.m_completedConditions3=(this.getChild("completedConditions3"));this.m_completedConditions4=(this.getChild("completedConditions4"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarFilmInfoStruct.URL="ui://s33x8418r8ay1fh";WarFilmInfoStruct.DependPackages=["PfSkin"];return WarFilmInfoStruct}(fairygui.GComponent));PfSkin.WarFilmInfoStruct=WarFilmInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmInfo=(function(_super){__extends(WarFilmInfo,_super);function WarFilmInfo(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmInfo}(PfSkin.WarFilmInfoStruct));PfSkin.WarFilmInfo=WarFilmInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmingStruct=(function(_super){__extends(WarFilmingStruct,_super);function WarFilmingStruct(){return _super.call(this)||this}WarFilmingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilming"))};WarFilmingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_xuhuan=(this.getChild("xuhuan"));this.m_topBg=(this.getChild("topBg"));this.m_title=(this.getChild("title"));this.m_qidaizhiBg=(this.getChild("qidaizhiBg"));this.m_qidaiIcon=(this.getChild("qidaiIcon"));this.m_tip=(this.getChild("tip"));this.m_qidaiValue=(this.getChild("qidaiValue"));this.m_psAim=(this.getChild("psAim"));this.m_attIcon1=(this.getChild("attIcon1"));this.m_att1=(this.getChild("att1"));this.m_attIcon2=(this.getChild("attIcon2"));this.m_att2=(this.getChild("att2"));this.m_attIcon3=(this.getChild("attIcon3"));this.m_att3=(this.getChild("att3"));this.m_attIcon4=(this.getChild("attIcon4"));this.m_att4=(this.getChild("att4"));this.m_attIcon5=(this.getChild("attIcon5"));this.m_att5=(this.getChild("att5"));this.m_bg4=(this.getChild("bg4"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_desBg=(this.getChild("desBg"));this.m_filmTypeList=(this.getChild("filmTypeList"));this.m_caozuoIcon=(this.getChild("caozuoIcon"));this.m_caozuoTip=(this.getChild("caozuoTip"));this.m_caozuo=(this.getChild("caozuo"));this.m_topBg2=(this.getChild("topBg2"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_5=(this.getChild("5"));this.m_filming=(this.getChild("filming"));this.m_biaoqianBg=(this.getChild("biaoqianBg"));this.m_guangmang=(this.getChild("guangmang"));this.m_guangquan=(this.getChild("guangquan"));this.m_lv1=(this.getChild("lv1"));this.m_lv2=(this.getChild("lv2"));this.m_lv3=(this.getChild("lv3"));this.m_lv4=(this.getChild("lv4"));this.m_lv5=(this.getChild("lv5"));this.m_iconQidaizhi=(this.getChild("iconQidaizhi"));this.m_qidaizhiValue=(this.getChild("qidaizhiValue"));this.m_qidaizhiTip=(this.getChild("qidaizhiTip"));this.m_biaoqian=(this.getChild("biaoqian"));this.m_hengfu1=(this.getChild("hengfu1"));this.m_hengfu2=(this.getChild("hengfu2"));this.m_xuhua=(this.getChild("xuhua"));this.m_hengfuTitle=(this.getChild("hengfuTitle"));this.m_hengfu=(this.getChild("hengfu"));this.m_dikuang=(this.getChild("dikuang"));this.m_fenge=(this.getChild("fenge"));this.m_yrList=(this.getChild("yrList"));this.m_xuanzeList=(this.getChild("xuanzeList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_filmDes=(this.getChild("filmDes"));this.m_changeNameBtn=(this.getChild("changeNameBtn"));this.m_filmProgress=(this.getChild("filmProgress"));this.m_sliver=(this.getChild("sliver"));this.m_xukezheng=(this.getChild("xukezheng"))};WarFilmingStruct.URL="ui://s33x84186ve81go";WarFilmingStruct.DependPackages=["PfSkin"];return WarFilmingStruct}(fairygui.GComponent));PfSkin.WarFilmingStruct=WarFilmingStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilming=(function(_super){__extends(WarFilming,_super);function WarFilming(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilming}(PfSkin.WarFilmingStruct));PfSkin.WarFilming=WarFilming})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmingSelectTipItemStruct=(function(_super){__extends(WarFilmingSelectTipItemStruct,_super);function WarFilmingSelectTipItemStruct(){return _super.call(this)||this}WarFilmingSelectTipItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmingSelectTipItem"))};WarFilmingSelectTipItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};WarFilmingSelectTipItemStruct.URL="ui://s33x84186ve81gu";WarFilmingSelectTipItemStruct.DependPackages=["PfSkin"];return WarFilmingSelectTipItemStruct}(fairygui.GLabel));PfSkin.WarFilmingSelectTipItemStruct=WarFilmingSelectTipItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmingSelectTipItem=(function(_super){__extends(WarFilmingSelectTipItem,_super);function WarFilmingSelectTipItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmingSelectTipItem}(PfSkin.WarFilmingSelectTipItemStruct));PfSkin.WarFilmingSelectTipItem=WarFilmingSelectTipItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmingYRItemStruct=(function(_super){__extends(WarFilmingYRItemStruct,_super);function WarFilmingYRItemStruct(){return _super.call(this)||this}WarFilmingYRItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmingYRItem"))};WarFilmingYRItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_mingzi=(this.getChild("mingzi"));this.m_shiyan=(this.getChild("shiyan"))};WarFilmingYRItemStruct.URL="ui://s33x84186ve81gt";WarFilmingYRItemStruct.DependPackages=["PfSkin"];return WarFilmingYRItemStruct}(fairygui.GButton));PfSkin.WarFilmingYRItemStruct=WarFilmingYRItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmingYRItem=(function(_super){__extends(WarFilmingYRItem,_super);function WarFilmingYRItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmingYRItem}(PfSkin.WarFilmingYRItemStruct));PfSkin.WarFilmingYRItem=WarFilmingYRItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmJiesuanStruct=(function(_super){__extends(WarFilmJiesuanStruct,_super);function WarFilmJiesuanStruct(){return _super.call(this)||this}WarFilmJiesuanStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmJiesuan"))};WarFilmJiesuanStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_kuang=(this.getChild("kuang"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmName=(this.getChild("filmName"));this.m_filmType=(this.getChild("filmType"));this.m_filmTime=(this.getChild("filmTime"));this.m_zhuyanList=(this.getChild("zhuyanList"));this.m_koubei=(this.getChild("koubei"));this.m_tip=(this.getChild("tip"));this.m_tip1=(this.getChild("tip1"));this.m_auther=(this.getChild("auther"));this.m_tip2=(this.getChild("tip2"));this.m_total=(this.getChild("total"));this.m_tip3=(this.getChild("tip3"));this.m_tip4=(this.getChild("tip4"));this.m_rewardValue=(this.getChild("rewardValue"));this.m_tip5=(this.getChild("tip5"));this.m_rewardList=(this.getChild("rewardList"));this.m_bpBg=(this.getChild("bpBg"));this.m_bp1=(this.getChild("bp1"));this.m_bp2=(this.getChild("bp2"));this.m_bipinCom=(this.getChild("bipinCom"));this.m_filmTip=(this.getChild("filmTip"));this.m_middleCom=(this.getChild("middleCom"));this.m_l1=(this.getChild("l1"));this.m_r1=(this.getChild("r1"));this.m_l2=(this.getChild("l2"));this.m_r2=(this.getChild("r2"));this.m_weiman=(this.getChild("weiman"));this.m_zuowei=(this.getChild("zuowei"));this.m_shareBg=(this.getChild("shareBg"));this.m_shareTip=(this.getChild("shareTip"));this.m_shareBox=(this.getChild("shareBox"));this.m_shareArrow=(this.getChild("shareArrow"));this.m_shareRewardTip=(this.getChild("shareRewardTip"));this.m_sellTipIcon=(this.getChild("sellTipIcon"));this.m_starProgress=(this.getChild("starProgress"));this.m_totalProgress=(this.getChild("totalProgress"));this.m_costProgress=(this.getChild("costProgress"));this.m_shareBtn=(this.getChild("shareBtn"));this.m_t0=this.getTransition("t0")};WarFilmJiesuanStruct.URL="ui://s33x8418k8js1i5";WarFilmJiesuanStruct.DependPackages=["PfSkin"];return WarFilmJiesuanStruct}(fairygui.GComponent));PfSkin.WarFilmJiesuanStruct=WarFilmJiesuanStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmJiesuan=(function(_super){__extends(WarFilmJiesuan,_super);function WarFilmJiesuan(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmJiesuan}(PfSkin.WarFilmJiesuanStruct));PfSkin.WarFilmJiesuan=WarFilmJiesuan})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmLabelStruct=(function(_super){__extends(WarFilmLabelStruct,_super);function WarFilmLabelStruct(){return _super.call(this)||this}WarFilmLabelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmLabel"))};WarFilmLabelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarFilmLabelStruct.URL="ui://s33x8418znuj1f8";WarFilmLabelStruct.DependPackages=["PfSkin"];return WarFilmLabelStruct}(fairygui.GLabel));PfSkin.WarFilmLabelStruct=WarFilmLabelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmLabel=(function(_super){__extends(WarFilmLabel,_super);function WarFilmLabel(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmLabel}(PfSkin.WarFilmLabelStruct));PfSkin.WarFilmLabel=WarFilmLabel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmLiuxingStruct=(function(_super){__extends(WarFilmLiuxingStruct,_super);function WarFilmLiuxingStruct(){return _super.call(this)||this}WarFilmLiuxingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmLiuxing"))};WarFilmLiuxingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_bgLight=(this.getChild("bgLight"));this.m_xuhua=(this.getChild("xuhua"));this.m_xuhua2=(this.getChild("xuhua2"));this.m_shouji2=(this.getChild("shouji2"));this.m_title1=(this.getChild("title1"));this.m_mask1=(this.getChild("mask1"));this.m_icon1=(this.getChild("icon1"));this.m_bglight2=(this.getChild("bglight2"));this.m_xuhua3=(this.getChild("xuhua3"));this.m_xuhua4=(this.getChild("xuhua4"));this.m_dizuo=(this.getChild("dizuo"));this.m_kuang=(this.getChild("kuang"));this.m_kuang2=(this.getChild("kuang2"));this.m_mask2=(this.getChild("mask2"));this.m_icon2=(this.getChild("icon2"));this.m_title2=(this.getChild("title2"));this.m_bglight3=(this.getChild("bglight3"));this.m_xuhua5=(this.getChild("xuhua5"));this.m_baozi=(this.getChild("baozi"));this.m_title3=(this.getChild("title3"));this.m_icon3=(this.getChild("icon3"))};WarFilmLiuxingStruct.URL="ui://s33x8418k8js1i1";WarFilmLiuxingStruct.DependPackages=["PfSkin"];return WarFilmLiuxingStruct}(fairygui.GComponent));PfSkin.WarFilmLiuxingStruct=WarFilmLiuxingStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmLiuxing=(function(_super){__extends(WarFilmLiuxing,_super);function WarFilmLiuxing(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmLiuxing}(PfSkin.WarFilmLiuxingStruct));PfSkin.WarFilmLiuxing=WarFilmLiuxing})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmMoveShowStruct=(function(_super){__extends(WarFilmMoveShowStruct,_super);function WarFilmMoveShowStruct(){return _super.call(this)||this}WarFilmMoveShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmMoveShow"))};WarFilmMoveShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_5=(this.getChild("5"));this.m_mask=(this.getChild("mask"));this.m_moveShow=this.getTransition("moveShow")};WarFilmMoveShowStruct.URL="ui://s33x8418znuj1f9";WarFilmMoveShowStruct.DependPackages=["PfSkin"];return WarFilmMoveShowStruct}(fairygui.GButton));PfSkin.WarFilmMoveShowStruct=WarFilmMoveShowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmMoveShow=(function(_super){__extends(WarFilmMoveShow,_super);function WarFilmMoveShow(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmMoveShow}(PfSkin.WarFilmMoveShowStruct));PfSkin.WarFilmMoveShow=WarFilmMoveShow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmOverMarketInfoStruct=(function(_super){__extends(WarFilmOverMarketInfoStruct,_super);function WarFilmOverMarketInfoStruct(){return _super.call(this)||this}WarFilmOverMarketInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmOverMarketInfo"))};WarFilmOverMarketInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_tipIcon=(this.getChild("tipIcon"));this.m_topBg=(this.getChild("topBg"));this.m_arrow=(this.getChild("arrow"));this.m_tip1=(this.getChild("tip1"));this.m_icon1=(this.getChild("icon1"));this.m_tip2=(this.getChild("tip2"));this.m_icon2=(this.getChild("icon2"));this.m_tip3=(this.getChild("tip3"));this.m_pinglun1=(this.getChild("pinglun1"));this.m_pinglun2=(this.getChild("pinglun2"));this.m_pinglun3=(this.getChild("pinglun3"));this.m_okBtn=(this.getChild("okBtn"))};WarFilmOverMarketInfoStruct.URL="ui://s33x8418t6ra1ue";WarFilmOverMarketInfoStruct.DependPackages=["PfSkin"];return WarFilmOverMarketInfoStruct}(fairygui.GComponent));PfSkin.WarFilmOverMarketInfoStruct=WarFilmOverMarketInfoStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmOverMarketInfo=(function(_super){__extends(WarFilmOverMarketInfo,_super);function WarFilmOverMarketInfo(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmOverMarketInfo}(PfSkin.WarFilmOverMarketInfoStruct));PfSkin.WarFilmOverMarketInfo=WarFilmOverMarketInfo})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmProgressStruct=(function(_super){__extends(WarFilmProgressStruct,_super);function WarFilmProgressStruct(){return _super.call(this)||this}WarFilmProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmProgress"))};WarFilmProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};WarFilmProgressStruct.URL="ui://s33x84186ve81gs";WarFilmProgressStruct.DependPackages=["PfSkin"];return WarFilmProgressStruct}(fairygui.GProgressBar));PfSkin.WarFilmProgressStruct=WarFilmProgressStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmProgress=(function(_super){__extends(WarFilmProgress,_super);function WarFilmProgress(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmProgress}(PfSkin.WarFilmProgressStruct));PfSkin.WarFilmProgress=WarFilmProgress})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmPromotionBtnStruct=(function(_super){__extends(WarFilmPromotionBtnStruct,_super);function WarFilmPromotionBtnStruct(){return _super.call(this)||this}WarFilmPromotionBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmPromotionBtn"))};WarFilmPromotionBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_selectTip=(this.getChild("selectTip"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarFilmPromotionBtnStruct.URL="ui://s33x8418pvrg1ih";WarFilmPromotionBtnStruct.DependPackages=["PfSkin"];return WarFilmPromotionBtnStruct}(fairygui.GButton));PfSkin.WarFilmPromotionBtnStruct=WarFilmPromotionBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmPromotionBtn=(function(_super){__extends(WarFilmPromotionBtn,_super);function WarFilmPromotionBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmPromotionBtn}(PfSkin.WarFilmPromotionBtnStruct));PfSkin.WarFilmPromotionBtn=WarFilmPromotionBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSelectBtnStruct=(function(_super){__extends(WarFilmSelectBtnStruct,_super);function WarFilmSelectBtnStruct(){return _super.call(this)||this}WarFilmSelectBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSelectBtn"))};WarFilmSelectBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_selectTip=(this.getChild("selectTip"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarFilmSelectBtnStruct.URL="ui://s33x8418r8ay1ff";WarFilmSelectBtnStruct.DependPackages=["PfSkin"];return WarFilmSelectBtnStruct}(fairygui.GButton));PfSkin.WarFilmSelectBtnStruct=WarFilmSelectBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSelectBtn=(function(_super){__extends(WarFilmSelectBtn,_super);function WarFilmSelectBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSelectBtn}(PfSkin.WarFilmSelectBtnStruct));PfSkin.WarFilmSelectBtn=WarFilmSelectBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSelectItemStruct=(function(_super){__extends(WarFilmSelectItemStruct,_super);function WarFilmSelectItemStruct(){return _super.call(this)||this}WarFilmSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSelectItem"))};WarFilmSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_filmName=(this.getChild("filmName"));this.m_kuang=(this.getChild("kuang"));this.m_typeList=(this.getChild("typeList"));this.m_desBg=(this.getChild("desBg"));this.m_filmTopic=(this.getChild("filmTopic"));this.m_filmMoveShow=(this.getChild("filmMoveShow"));this.m_starShow=(this.getChild("starShow"));this.m_infBtn=(this.getChild("infBtn"));this.m_filmDes=(this.getChild("filmDes"));this.m_manReq=(this.getChild("manReq"));this.m_womanReq=(this.getChild("womanReq"));this.m_childReq=(this.getChild("childReq"));this.m_selectBtn=(this.getChild("selectBtn"));this.m_infIconBtn=(this.getChild("infIconBtn"))};WarFilmSelectItemStruct.URL="ui://s33x8418znuj1f6";WarFilmSelectItemStruct.DependPackages=["PfSkin"];return WarFilmSelectItemStruct}(fairygui.GComponent));PfSkin.WarFilmSelectItemStruct=WarFilmSelectItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSelectItem=(function(_super){__extends(WarFilmSelectItem,_super);function WarFilmSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSelectItem}(PfSkin.WarFilmSelectItemStruct));PfSkin.WarFilmSelectItem=WarFilmSelectItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmShangYingStruct=(function(_super){__extends(WarFilmShangYingStruct,_super);function WarFilmShangYingStruct(){return _super.call(this)||this}WarFilmShangYingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmShangYing"))};WarFilmShangYingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bgTop=(this.getChild("bgTop"));this.m_bg2=(this.getChild("bg2"));this.m_bg4=(this.getChild("bg4"));this.m_progressList=(this.getChild("progressList"));this.m_bg3=(this.getChild("bg3"));this.m_jiaojuan=(this.getChild("jiaojuan"));this.m_deng=(this.getChild("deng"));this.m_dengguang=(this.getChild("dengguang"));this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_tip=(this.getChild("tip"));this.m_filmTotal=(this.getChild("filmTotal"));this.m_filmcurrent=(this.getChild("filmcurrent"));this.m_filmTip=(this.getChild("filmTip"));this.m_guanzhongList=(this.getChild("guanzhongList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_tiaowen=(this.getChild("tiaowen"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_t0=this.getTransition("t0")};WarFilmShangYingStruct.URL="ui://s33x8418k8js1hx";WarFilmShangYingStruct.DependPackages=["PfSkin"];return WarFilmShangYingStruct}(fairygui.GComponent));PfSkin.WarFilmShangYingStruct=WarFilmShangYingStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmShangYing=(function(_super){__extends(WarFilmShangYing,_super);function WarFilmShangYing(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmShangYing}(PfSkin.WarFilmShangYingStruct));PfSkin.WarFilmShangYing=WarFilmShangYing})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmShareStruct=(function(_super){__extends(WarFilmShareStruct,_super);function WarFilmShareStruct(){return _super.call(this)||this}WarFilmShareStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmShare"))};WarFilmShareStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_userName=(this.getChild("userName"));this.m_icon=(this.getChild("icon"));this.m_pingjia=(this.getChild("pingjia"));this.m_meitiValue=(this.getChild("meitiValue"));this.m_tip2=(this.getChild("tip2"));this.m_total=(this.getChild("total"));this.m_filmLabelList=(this.getChild("filmLabelList"));this.m_yrList=(this.getChild("yrList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_filmType=(this.getChild("filmType"))};WarFilmShareStruct.URL="ui://s33x8418pvrg1i9";WarFilmShareStruct.DependPackages=["PfSkin"];return WarFilmShareStruct}(fairygui.GComponent));PfSkin.WarFilmShareStruct=WarFilmShareStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmShare=(function(_super){__extends(WarFilmShare,_super);function WarFilmShare(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmShare}(PfSkin.WarFilmShareStruct));PfSkin.WarFilmShare=WarFilmShare})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQStruct=(function(_super){__extends(WarFilmSQStruct,_super);function WarFilmSQStruct(){return _super.call(this)||this}WarFilmSQStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSQ"))};WarFilmSQStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_topbg=(this.getChild("topbg"));this.m_handUp=(this.getChild("handUp"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_line=(this.getChild("line"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_handDown=(this.getChild("handDown"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_hand=this.getTransition("hand")};WarFilmSQStruct.URL="ui://s33x8418k8js1he";WarFilmSQStruct.DependPackages=["PfSkin"];return WarFilmSQStruct}(fairygui.GComponent));PfSkin.WarFilmSQStruct=WarFilmSQStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQ=(function(_super){__extends(WarFilmSQ,_super);function WarFilmSQ(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSQ}(PfSkin.WarFilmSQStruct));PfSkin.WarFilmSQ=WarFilmSQ})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQViewStruct=(function(_super){__extends(WarFilmSQViewStruct,_super);function WarFilmSQViewStruct(){return _super.call(this)||this}WarFilmSQViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSQView"))};WarFilmSQViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_icon=(this.getChild("icon"));this.m_kuang=(this.getChild("kuang"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmName=(this.getChild("filmName"));this.m_zhuyan=(this.getChild("zhuyan"));this.m_type=(this.getChild("type"));this.m_time=(this.getChild("time"));this.m_zhuyanList=(this.getChild("zhuyanList"));this.m_filmAttributeList=(this.getChild("filmAttributeList"));this.m_okBtn=(this.getChild("okBtn"));this.m_filmStar=(this.getChild("filmStar"))};WarFilmSQViewStruct.URL="ui://s33x8418k8js1hj";WarFilmSQViewStruct.DependPackages=["PfSkin"];return WarFilmSQViewStruct}(fairygui.GComponent));PfSkin.WarFilmSQViewStruct=WarFilmSQViewStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQView=(function(_super){__extends(WarFilmSQView,_super);function WarFilmSQView(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSQView}(PfSkin.WarFilmSQViewStruct));PfSkin.WarFilmSQView=WarFilmSQView})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQViewItemStruct=(function(_super){__extends(WarFilmSQViewItemStruct,_super);function WarFilmSQViewItemStruct(){return _super.call(this)||this}WarFilmSQViewItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSQViewItem"))};WarFilmSQViewItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_loading=(this.getChild("loading"));this.m_arrow=(this.getChild("arrow"));this.m_tip=(this.getChild("tip"));this.m_otherCom=(this.getChild("otherCom"));this.m_progress=(this.getChild("progress"))};WarFilmSQViewItemStruct.URL="ui://s33x8418k8js1hm";WarFilmSQViewItemStruct.DependPackages=["PfSkin"];return WarFilmSQViewItemStruct}(fairygui.GLabel));PfSkin.WarFilmSQViewItemStruct=WarFilmSQViewItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSQViewItem=(function(_super){__extends(WarFilmSQViewItem,_super);function WarFilmSQViewItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSQViewItem}(PfSkin.WarFilmSQViewItemStruct));PfSkin.WarFilmSQViewItem=WarFilmSQViewItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmStarStruct=(function(_super){__extends(WarFilmStarStruct,_super);function WarFilmStarStruct(){return _super.call(this)||this}WarFilmStarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmStar"))};WarFilmStarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_Star=this.getController("Star");this.m_11=(this.getChild("11"));this.m_21=(this.getChild("21"));this.m_22=(this.getChild("22"));this.m_31=(this.getChild("31"));this.m_32=(this.getChild("32"));this.m_33=(this.getChild("33"));this.m_41=(this.getChild("41"));this.m_42=(this.getChild("42"));this.m_43=(this.getChild("43"));this.m_44=(this.getChild("44"));this.m_51=(this.getChild("51"));this.m_52=(this.getChild("52"));this.m_53=(this.getChild("53"));this.m_54=(this.getChild("54"));this.m_55=(this.getChild("55"));this.m_61=(this.getChild("61"));this.m_62=(this.getChild("62"));this.m_63=(this.getChild("63"));this.m_64=(this.getChild("64"));this.m_65=(this.getChild("65"));this.m_66=(this.getChild("66"));this.m_6=(this.getChild("6"))};WarFilmStarStruct.URL="ui://s33x8418znuj1fa";WarFilmStarStruct.DependPackages=["PfSkin"];return WarFilmStarStruct}(fairygui.GComponent));PfSkin.WarFilmStarStruct=WarFilmStarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmStar=(function(_super){__extends(WarFilmStar,_super);function WarFilmStar(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmStar}(PfSkin.WarFilmStarStruct));PfSkin.WarFilmStar=WarFilmStar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmStartBtnStruct=(function(_super){__extends(WarFilmStartBtnStruct,_super);function WarFilmStartBtnStruct(){return _super.call(this)||this}WarFilmStartBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmStartBtn"))};WarFilmStartBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_tip=(this.getChild("tip"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarFilmStartBtnStruct.URL="ui://s33x8418r8ay1fr";WarFilmStartBtnStruct.DependPackages=["PfSkin"];return WarFilmStartBtnStruct}(fairygui.GButton));PfSkin.WarFilmStartBtnStruct=WarFilmStartBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmStartBtn=(function(_super){__extends(WarFilmStartBtn,_super);function WarFilmStartBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmStartBtn}(PfSkin.WarFilmStartBtnStruct));PfSkin.WarFilmStartBtn=WarFilmStartBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSYPFStruct=(function(_super){__extends(WarFilmSYPFStruct,_super);function WarFilmSYPFStruct(){return _super.call(this)||this}WarFilmSYPFStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmSYPF"))};WarFilmSYPFStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_topbg=(this.getChild("topbg"));this.m_handUp=(this.getChild("handUp"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_line=(this.getChild("line"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_handDown=(this.getChild("handDown"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_tip2=(this.getChild("tip2"));this.m_add=(this.getChild("add"));this.m_hand=this.getTransition("hand");this.m_t1=this.getTransition("t1")};WarFilmSYPFStruct.URL="ui://s33x8418k8js1ht";WarFilmSYPFStruct.DependPackages=["PfSkin"];return WarFilmSYPFStruct}(fairygui.GComponent));PfSkin.WarFilmSYPFStruct=WarFilmSYPFStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmSYPF=(function(_super){__extends(WarFilmSYPF,_super);function WarFilmSYPF(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmSYPF}(PfSkin.WarFilmSYPFStruct));PfSkin.WarFilmSYPF=WarFilmSYPF})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmTypeItemStruct=(function(_super){__extends(WarFilmTypeItemStruct,_super);function WarFilmTypeItemStruct(){return _super.call(this)||this}WarFilmTypeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmTypeItem"))};WarFilmTypeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarFilmTypeItemStruct.URL="ui://s33x8418r8ay1fb";WarFilmTypeItemStruct.DependPackages=["PfSkin"];return WarFilmTypeItemStruct}(fairygui.GLabel));PfSkin.WarFilmTypeItemStruct=WarFilmTypeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmTypeItem=(function(_super){__extends(WarFilmTypeItem,_super);function WarFilmTypeItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmTypeItem}(PfSkin.WarFilmTypeItemStruct));PfSkin.WarFilmTypeItem=WarFilmTypeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmTypeSelectItemStruct=(function(_super){__extends(WarFilmTypeSelectItemStruct,_super);function WarFilmTypeSelectItemStruct(){return _super.call(this)||this}WarFilmTypeSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmTypeSelectItem"))};WarFilmTypeSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_selectBg=(this.getChild("selectBg"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_typeBg=(this.getChild("typeBg"));this.m_filmType=(this.getChild("filmType"));this.m_tip1=(this.getChild("tip1"));this.m_proficiency=(this.getChild("proficiency"));this.m_lovePeople=(this.getChild("lovePeople"));this.m_tip3=(this.getChild("tip3"));this.m_rewardIcon=(this.getChild("rewardIcon"));this.m_tip4=(this.getChild("tip4"));this.m_proficiencyList=(this.getChild("proficiencyList"))};WarFilmTypeSelectItemStruct.URL="ui://s33x84186ve81gw";WarFilmTypeSelectItemStruct.DependPackages=["PfSkin"];return WarFilmTypeSelectItemStruct}(fairygui.GButton));PfSkin.WarFilmTypeSelectItemStruct=WarFilmTypeSelectItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmTypeSelectItem=(function(_super){__extends(WarFilmTypeSelectItem,_super);function WarFilmTypeSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmTypeSelectItem}(PfSkin.WarFilmTypeSelectItemStruct));PfSkin.WarFilmTypeSelectItem=WarFilmTypeSelectItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenItemStruct=(function(_super){__extends(WarFilmYirenItemStruct,_super);function WarFilmYirenItemStruct(){return _super.call(this)||this}WarFilmYirenItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmYirenItem"))};WarFilmYirenItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_popControl=this.getController("popControl");this.m_woman=(this.getChild("woman"));this.m_child=(this.getChild("child"));this.m_man=(this.getChild("man"));this.m_type=(this.getChild("type"));this.m_name=(this.getChild("name"));this.m_inf=(this.getChild("inf"));this.m_pop=(this.getChild("pop"));this.m_t0=this.getTransition("t0")};WarFilmYirenItemStruct.URL="ui://s33x8418r8ay1fj";WarFilmYirenItemStruct.DependPackages=["PfSkin"];return WarFilmYirenItemStruct}(fairygui.GButton));PfSkin.WarFilmYirenItemStruct=WarFilmYirenItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenItem=(function(_super){__extends(WarFilmYirenItem,_super);function WarFilmYirenItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYirenItem}(PfSkin.WarFilmYirenItemStruct));PfSkin.WarFilmYirenItem=WarFilmYirenItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenPopStruct=(function(_super){__extends(WarFilmYirenPopStruct,_super);function WarFilmYirenPopStruct(){return _super.call(this)||this}WarFilmYirenPopStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmYirenPop"))};WarFilmYirenPopStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_arrow=(this.getChild("arrow"));this.m_bg=(this.getChild("bg"));this.m_fenge=(this.getChild("fenge"));this.m_curType=(this.getChild("curType"));this.m_curName=(this.getChild("curName"));this.m_tip=(this.getChild("tip"));this.m_tip2=(this.getChild("tip2"));this.m_req1=(this.getChild("req1"));this.m_req2=(this.getChild("req2"));this.m_req3=(this.getChild("req3"));this.m_req4=(this.getChild("req4"));this.m_attTip1=(this.getChild("attTip1"));this.m_attTip2=(this.getChild("attTip2"));this.m_attDes=(this.getChild("attDes"))};WarFilmYirenPopStruct.URL="ui://s33x8418r8ay1fp";WarFilmYirenPopStruct.DependPackages=["PfSkin"];return WarFilmYirenPopStruct}(fairygui.GComponent));PfSkin.WarFilmYirenPopStruct=WarFilmYirenPopStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenPop=(function(_super){__extends(WarFilmYirenPop,_super);function WarFilmYirenPop(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYirenPop}(PfSkin.WarFilmYirenPopStruct));PfSkin.WarFilmYirenPop=WarFilmYirenPop})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenReqStruct=(function(_super){__extends(WarFilmYirenReqStruct,_super);function WarFilmYirenReqStruct(){return _super.call(this)||this}WarFilmYirenReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmYirenReq"))};WarFilmYirenReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarFilmYirenReqStruct.URL="ui://s33x8418r8ay1fm";WarFilmYirenReqStruct.DependPackages=["PfSkin"];return WarFilmYirenReqStruct}(fairygui.GButton));PfSkin.WarFilmYirenReqStruct=WarFilmYirenReqStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYirenReq=(function(_super){__extends(WarFilmYirenReq,_super);function WarFilmYirenReq(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYirenReq}(PfSkin.WarFilmYirenReqStruct));PfSkin.WarFilmYirenReq=WarFilmYirenReq})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYRMoveShowStruct=(function(_super){__extends(WarFilmYRMoveShowStruct,_super);function WarFilmYRMoveShowStruct(){return _super.call(this)||this}WarFilmYRMoveShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmYRMoveShow"))};WarFilmYRMoveShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_5=(this.getChild("5"));this.m_mask=(this.getChild("mask"));this.m_title=(this.getChild("title"));this.m_moveShow=this.getTransition("moveShow")};WarFilmYRMoveShowStruct.URL="ui://s33x84186ve81gg";WarFilmYRMoveShowStruct.DependPackages=["PfSkin"];return WarFilmYRMoveShowStruct}(fairygui.GLabel));PfSkin.WarFilmYRMoveShowStruct=WarFilmYRMoveShowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYRMoveShow=(function(_super){__extends(WarFilmYRMoveShow,_super);function WarFilmYRMoveShow(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYRMoveShow}(PfSkin.WarFilmYRMoveShowStruct));PfSkin.WarFilmYRMoveShow=WarFilmYRMoveShow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYRShowStruct=(function(_super){__extends(WarFilmYRShowStruct,_super);function WarFilmYRShowStruct(){return _super.call(this)||this}WarFilmYRShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFilmYRShow"))};WarFilmYRShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_yrBg=(this.getChild("yrBg"));this.m_yrList=(this.getChild("yrList"));this.m_yr1=(this.getChild("yr1"));this.m_yr2=(this.getChild("yr2"));this.m_yr3=(this.getChild("yr3"));this.m_yr4=(this.getChild("yr4"));this.m_yr5=(this.getChild("yr5"));this.m_yr6=(this.getChild("yr6"));this.m_bianUp=(this.getChild("bianUp"));this.m_bianDown=(this.getChild("bianDown"))};WarFilmYRShowStruct.URL="ui://s33x84186ve81ge";WarFilmYRShowStruct.DependPackages=["PfSkin"];return WarFilmYRShowStruct}(fairygui.GComponent));PfSkin.WarFilmYRShowStruct=WarFilmYRShowStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFilmYRShow=(function(_super){__extends(WarFilmYRShow,_super);function WarFilmYRShow(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYRShow}(PfSkin.WarFilmYRShowStruct));PfSkin.WarFilmYRShow=WarFilmYRShow})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFontItemStruct=(function(_super){__extends(WarFontItemStruct,_super);function WarFontItemStruct(){return _super.call(this)||this}WarFontItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarFontItem"))};WarFontItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarFontItemStruct.URL="ui://s33x8418k8js1i4";WarFontItemStruct.DependPackages=["PfSkin"];return WarFontItemStruct}(fairygui.GLabel));PfSkin.WarFontItemStruct=WarFontItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarFontItem=(function(_super){__extends(WarFontItem,_super);function WarFontItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFontItem}(PfSkin.WarFontItemStruct));PfSkin.WarFontItem=WarFontItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarGeneralRewardTipStruct=(function(_super){__extends(WarGeneralRewardTipStruct,_super);function WarGeneralRewardTipStruct(){return _super.call(this)||this}WarGeneralRewardTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarGeneralRewardTip"))};WarGeneralRewardTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_listBg=(this.getChild("listBg"));this.m_rewardList=(this.getChild("rewardList"));this.m_okBtn=(this.getChild("okBtn"))};WarGeneralRewardTipStruct.URL="ui://s33x8418k8js1h9";WarGeneralRewardTipStruct.DependPackages=["PfSkin"];return WarGeneralRewardTipStruct}(fairygui.GComponent));PfSkin.WarGeneralRewardTipStruct=WarGeneralRewardTipStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarGeneralRewardTip=(function(_super){__extends(WarGeneralRewardTip,_super);function WarGeneralRewardTip(){return _super!==null&&_super.apply(this,arguments)||this}return WarGeneralRewardTip}(PfSkin.WarGeneralRewardTipStruct));PfSkin.WarGeneralRewardTip=WarGeneralRewardTip})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarHaveReadyStruct=(function(_super){__extends(WarHaveReadyStruct,_super);function WarHaveReadyStruct(){return _super.call(this)||this}WarHaveReadyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarHaveReady"))};WarHaveReadyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"))};WarHaveReadyStruct.URL="ui://s33x84186ve81g5";WarHaveReadyStruct.DependPackages=["PfSkin"];return WarHaveReadyStruct}(fairygui.GLabel));PfSkin.WarHaveReadyStruct=WarHaveReadyStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarHaveReady=(function(_super){__extends(WarHaveReady,_super);function WarHaveReady(){return _super!==null&&_super.apply(this,arguments)||this}return WarHaveReady}(PfSkin.WarHaveReadyStruct));PfSkin.WarHaveReady=WarHaveReady})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIconBtnStruct=(function(_super){__extends(WarIconBtnStruct,_super);function WarIconBtnStruct(){return _super.call(this)||this}WarIconBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarIconBtn"))};WarIconBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"))};WarIconBtnStruct.URL="ui://s33x84186ve81gr";WarIconBtnStruct.DependPackages=["PfSkin"];return WarIconBtnStruct}(fairygui.GButton));PfSkin.WarIconBtnStruct=WarIconBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIconBtn=(function(_super){__extends(WarIconBtn,_super);function WarIconBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarIconBtn}(PfSkin.WarIconBtnStruct));PfSkin.WarIconBtn=WarIconBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeItemStruct=(function(_super){__extends(WarIncomeItemStruct,_super);function WarIncomeItemStruct(){return _super.call(this)||this}WarIncomeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarIncomeItem"))};WarIncomeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_xuzuoIndex=(this.getChild("xuzuoIndex"));this.m_filmName=(this.getChild("filmName"));this.m_shouyipingjia=(this.getChild("shouyipingjia"));this.m_timeLeft=(this.getChild("timeLeft"));this.m_okBtn=(this.getChild("okBtn"))};WarIncomeItemStruct.URL="ui://s33x8418pvrg1ie";WarIncomeItemStruct.DependPackages=["PfSkin"];return WarIncomeItemStruct}(fairygui.GComponent));PfSkin.WarIncomeItemStruct=WarIncomeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeItem=(function(_super){__extends(WarIncomeItem,_super);function WarIncomeItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarIncomeItem}(PfSkin.WarIncomeItemStruct));PfSkin.WarIncomeItem=WarIncomeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeRewardItemStruct=(function(_super){__extends(WarIncomeRewardItemStruct,_super);function WarIncomeRewardItemStruct(){return _super.call(this)||this}WarIncomeRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarIncomeRewardItem"))};WarIncomeRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"))};WarIncomeRewardItemStruct.URL="ui://s33x8418pvrg1ik";WarIncomeRewardItemStruct.DependPackages=["PfSkin"];return WarIncomeRewardItemStruct}(fairygui.GButton));PfSkin.WarIncomeRewardItemStruct=WarIncomeRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeRewardItem=(function(_super){__extends(WarIncomeRewardItem,_super);function WarIncomeRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarIncomeRewardItem}(PfSkin.WarIncomeRewardItemStruct));PfSkin.WarIncomeRewardItem=WarIncomeRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeZiyuanItemStruct=(function(_super){__extends(WarIncomeZiyuanItemStruct,_super);function WarIncomeZiyuanItemStruct(){return _super.call(this)||this}WarIncomeZiyuanItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarIncomeZiyuanItem"))};WarIncomeZiyuanItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarIncomeZiyuanItemStruct.URL="ui://s33x8418pvrg1ij";WarIncomeZiyuanItemStruct.DependPackages=["PfSkin"];return WarIncomeZiyuanItemStruct}(fairygui.GLabel));PfSkin.WarIncomeZiyuanItemStruct=WarIncomeZiyuanItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarIncomeZiyuanItem=(function(_super){__extends(WarIncomeZiyuanItem,_super);function WarIncomeZiyuanItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarIncomeZiyuanItem}(PfSkin.WarIncomeZiyuanItemStruct));PfSkin.WarIncomeZiyuanItem=WarIncomeZiyuanItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarItemBtnStruct=(function(_super){__extends(WarItemBtnStruct,_super);function WarItemBtnStruct(){return _super.call(this)||this}WarItemBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarItemBtn"))};WarItemBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarItemBtnStruct.URL="ui://s33x8418k8js1i7";WarItemBtnStruct.DependPackages=["PfSkin"];return WarItemBtnStruct}(fairygui.GButton));PfSkin.WarItemBtnStruct=WarItemBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarItemBtn=(function(_super){__extends(WarItemBtn,_super);function WarItemBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarItemBtn}(PfSkin.WarItemBtnStruct));PfSkin.WarItemBtn=WarItemBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMainStruct=(function(_super){__extends(WarMainStruct,_super);function WarMainStruct(){return _super.call(this)||this}WarMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMain"))};WarMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_topBg=(this.getChild("topBg"));this.m_bottomBg=(this.getChild("bottomBg"));this.m_filmItemList=(this.getChild("filmItemList"));this.m_labelTip=(this.getChild("labelTip"));this.m_surveyProgress=(this.getChild("surveyProgress"));this.m_mask=(this.getChild("mask"));this.m_sliver=(this.getChild("sliver"));this.m_xukezheng=(this.getChild("xukezheng"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_surveyMan=(this.getChild("surveyMan"));this.m_surveyWoman=(this.getChild("surveyWoman"));this.m_surveyChild=(this.getChild("surveyChild"))};WarMainStruct.URL="ui://s33x8418znuj1ex";WarMainStruct.DependPackages=["PfSkin"];return WarMainStruct}(fairygui.GComponent));PfSkin.WarMainStruct=WarMainStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMain=(function(_super){__extends(WarMain,_super);function WarMain(){return _super!==null&&_super.apply(this,arguments)||this}return WarMain}(PfSkin.WarMainStruct));PfSkin.WarMain=WarMain})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMissionFailedStruct=(function(_super){__extends(WarMissionFailedStruct,_super);function WarMissionFailedStruct(){return _super.call(this)||this}WarMissionFailedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMissionFailed"))};WarMissionFailedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_bg5=(this.getChild("bg5"));this.m_bgCom=(this.getChild("bgCom"));this.m_title=(this.getChild("title"));this.m_tip=(this.getChild("tip"));this.m_cb1=(this.getChild("cb1"));this.m_cb2=(this.getChild("cb2"));this.m_box=(this.getChild("box"));this.m_boxCom=(this.getChild("boxCom"));this.m_missionList=(this.getChild("missionList"))};WarMissionFailedStruct.URL="ui://s33x8418k8js1hb";WarMissionFailedStruct.DependPackages=["PfSkin"];return WarMissionFailedStruct}(fairygui.GComponent));PfSkin.WarMissionFailedStruct=WarMissionFailedStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMissionFailed=(function(_super){__extends(WarMissionFailed,_super);function WarMissionFailed(){return _super!==null&&_super.apply(this,arguments)||this}return WarMissionFailed}(PfSkin.WarMissionFailedStruct));PfSkin.WarMissionFailed=WarMissionFailed})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoneyLabelStruct=(function(_super){__extends(WarMoneyLabelStruct,_super);function WarMoneyLabelStruct(){return _super.call(this)||this}WarMoneyLabelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMoneyLabel"))};WarMoneyLabelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarMoneyLabelStruct.URL="ui://s33x8418znuj1ey";WarMoneyLabelStruct.DependPackages=["PfSkin"];return WarMoneyLabelStruct}(fairygui.GLabel));PfSkin.WarMoneyLabelStruct=WarMoneyLabelStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoneyLabel=(function(_super){__extends(WarMoneyLabel,_super);function WarMoneyLabel(){return _super!==null&&_super.apply(this,arguments)||this}return WarMoneyLabel}(PfSkin.WarMoneyLabelStruct));PfSkin.WarMoneyLabel=WarMoneyLabel})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveFilmbianStruct=(function(_super){__extends(WarMoveFilmbianStruct,_super);function WarMoveFilmbianStruct(){return _super.call(this)||this}WarMoveFilmbianStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMoveFilmbian"))};WarMoveFilmbianStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};WarMoveFilmbianStruct.URL="ui://s33x84186ve81gh";WarMoveFilmbianStruct.DependPackages=["PfSkin"];return WarMoveFilmbianStruct}(fairygui.GComponent));PfSkin.WarMoveFilmbianStruct=WarMoveFilmbianStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveFilmbian=(function(_super){__extends(WarMoveFilmbian,_super);function WarMoveFilmbian(){return _super!==null&&_super.apply(this,arguments)||this}return WarMoveFilmbian}(PfSkin.WarMoveFilmbianStruct));PfSkin.WarMoveFilmbian=WarMoveFilmbian})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveFilmTiaowenStruct=(function(_super){__extends(WarMoveFilmTiaowenStruct,_super);function WarMoveFilmTiaowenStruct(){return _super.call(this)||this}WarMoveFilmTiaowenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMoveFilmTiaowen"))};WarMoveFilmTiaowenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_t0=this.getTransition("t0")};WarMoveFilmTiaowenStruct.URL="ui://s33x8418k8js1hy";WarMoveFilmTiaowenStruct.DependPackages=["PfSkin"];return WarMoveFilmTiaowenStruct}(fairygui.GComponent));PfSkin.WarMoveFilmTiaowenStruct=WarMoveFilmTiaowenStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveFilmTiaowen=(function(_super){__extends(WarMoveFilmTiaowen,_super);function WarMoveFilmTiaowen(){return _super!==null&&_super.apply(this,arguments)||this}return WarMoveFilmTiaowen}(PfSkin.WarMoveFilmTiaowenStruct));PfSkin.WarMoveFilmTiaowen=WarMoveFilmTiaowen})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveTextUDStruct=(function(_super){__extends(WarMoveTextUDStruct,_super);function WarMoveTextUDStruct(){return _super.call(this)||this}WarMoveTextUDStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarMoveTextUD"))};WarMoveTextUDStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarMoveTextUDStruct.URL="ui://s33x8418r8ay1fk";WarMoveTextUDStruct.DependPackages=["PfSkin"];return WarMoveTextUDStruct}(fairygui.GLabel));PfSkin.WarMoveTextUDStruct=WarMoveTextUDStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarMoveTextUD=(function(_super){__extends(WarMoveTextUD,_super);function WarMoveTextUD(){return _super!==null&&_super.apply(this,arguments)||this}return WarMoveTextUD}(PfSkin.WarMoveTextUDStruct));PfSkin.WarMoveTextUD=WarMoveTextUD})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNewspaperHeadlinesStruct=(function(_super){__extends(WarNewspaperHeadlinesStruct,_super);function WarNewspaperHeadlinesStruct(){return _super.call(this)||this}WarNewspaperHeadlinesStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarNewspaperHeadlines"))};WarNewspaperHeadlinesStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_title=(this.getChild("title"))};WarNewspaperHeadlinesStruct.URL="ui://s33x8418pvrg1ib";WarNewspaperHeadlinesStruct.DependPackages=["PfSkin"];return WarNewspaperHeadlinesStruct}(fairygui.GComponent));PfSkin.WarNewspaperHeadlinesStruct=WarNewspaperHeadlinesStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNewspaperHeadlines=(function(_super){__extends(WarNewspaperHeadlines,_super);function WarNewspaperHeadlines(){return _super!==null&&_super.apply(this,arguments)||this}return WarNewspaperHeadlines}(PfSkin.WarNewspaperHeadlinesStruct));PfSkin.WarNewspaperHeadlines=WarNewspaperHeadlines})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNoticeStruct=(function(_super){__extends(WarNoticeStruct,_super);function WarNoticeStruct(){return _super.call(this)||this}WarNoticeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarNotice"))};WarNoticeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_title=(this.getChild("title"));this.m_noticeList=(this.getChild("noticeList"));this.m_mask=(this.getChild("mask"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarNoticeStruct.URL="ui://s33x8418k8js1h5";WarNoticeStruct.DependPackages=["PfSkin"];return WarNoticeStruct}(fairygui.GComponent));PfSkin.WarNoticeStruct=WarNoticeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNotice=(function(_super){__extends(WarNotice,_super);function WarNotice(){return _super!==null&&_super.apply(this,arguments)||this}return WarNotice}(PfSkin.WarNoticeStruct));PfSkin.WarNotice=WarNotice})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNoticeFeedBackStruct=(function(_super){__extends(WarNoticeFeedBackStruct,_super);function WarNoticeFeedBackStruct(){return _super.call(this)||this}WarNoticeFeedBackStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarNoticeFeedBack"))};WarNoticeFeedBackStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_bgTop=(this.getChild("bgTop"));this.m_title=(this.getChild("title"));this.m_typeList=(this.getChild("typeList"));this.m_dianzan=(this.getChild("dianzan"));this.m_filmName=(this.getChild("filmName"));this.m_tip=(this.getChild("tip"));this.m_zongfen=(this.getChild("zongfen"));this.m_tip2=(this.getChild("tip2"));this.m_dianzanValue=(this.getChild("dianzanValue"));this.m_mask=(this.getChild("mask"));this.m_att1Icon=(this.getChild("att1Icon"));this.m_att1Name=(this.getChild("att1Name"));this.m_att2Icon=(this.getChild("att2Icon"));this.m_att2Name=(this.getChild("att2Name"));this.m_tip3=(this.getChild("tip3"));this.m_okBtn=(this.getChild("okBtn"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_starProgress=(this.getChild("starProgress"))};WarNoticeFeedBackStruct.URL="ui://s33x8418q3y51gz";WarNoticeFeedBackStruct.DependPackages=["PfSkin"];return WarNoticeFeedBackStruct}(fairygui.GComponent));PfSkin.WarNoticeFeedBackStruct=WarNoticeFeedBackStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNoticeFeedBack=(function(_super){__extends(WarNoticeFeedBack,_super);function WarNoticeFeedBack(){return _super!==null&&_super.apply(this,arguments)||this}return WarNoticeFeedBack}(PfSkin.WarNoticeFeedBackStruct));PfSkin.WarNoticeFeedBack=WarNoticeFeedBack})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNoticeItemStruct=(function(_super){__extends(WarNoticeItemStruct,_super);function WarNoticeItemStruct(){return _super.call(this)||this}WarNoticeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarNoticeItem"))};WarNoticeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_pinglunPage=this.getController("pinglunPage");this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_icon=(this.getChild("icon"));this.m_noticeName=(this.getChild("noticeName"));this.m_userName=(this.getChild("userName"));this.m_filmName=(this.getChild("filmName"));this.m_tip1=(this.getChild("tip1"));this.m_riqi=(this.getChild("riqi"));this.m_okorerror=(this.getChild("okorerror"));this.m_pinglun1=(this.getChild("pinglun1"));this.m_meitiName=(this.getChild("meitiName"));this.m_haibao=(this.getChild("haibao"));this.m_tip2=(this.getChild("tip2"));this.m_pinglun2=(this.getChild("pinglun2"));this.m_meitiming=(this.getChild("meitiming"));this.m_meitijieshao=(this.getChild("meitijieshao"));this.m_haibaobg=(this.getChild("haibaobg"));this.m_haibao3=(this.getChild("haibao3"));this.m_pinglun3=(this.getChild("pinglun3"));this.m_dianzanIcon=(this.getChild("dianzanIcon"));this.m_fen=(this.getChild("fen"));this.m_dianzanValue=(this.getChild("dianzanValue"));this.m_des=(this.getChild("des"));this.m_des2=(this.getChild("des2"));this.m_des3=(this.getChild("des3"));this.m_starProgress=(this.getChild("starProgress"))};WarNoticeItemStruct.URL="ui://s33x8418q3y51h1";WarNoticeItemStruct.DependPackages=["PfSkin"];return WarNoticeItemStruct}(fairygui.GLabel));PfSkin.WarNoticeItemStruct=WarNoticeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarNoticeItem=(function(_super){__extends(WarNoticeItem,_super);function WarNoticeItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarNoticeItem}(PfSkin.WarNoticeItemStruct));PfSkin.WarNoticeItem=WarNoticeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarPaishequerenStruct=(function(_super){__extends(WarPaishequerenStruct,_super);function WarPaishequerenStruct(){return _super.call(this)||this}WarPaishequerenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarPaishequeren"))};WarPaishequerenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_tipIcon=(this.getChild("tipIcon"));this.m_tip=(this.getChild("tip"));this.m_reqTip=(this.getChild("reqTip"));this.m_costIcon=(this.getChild("costIcon"));this.m_curTip=(this.getChild("curTip"));this.m_okCom=(this.getChild("okCom"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarPaishequerenStruct.URL="ui://s33x84186ve81gd";WarPaishequerenStruct.DependPackages=["PfSkin"];return WarPaishequerenStruct}(fairygui.GComponent));PfSkin.WarPaishequerenStruct=WarPaishequerenStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarPaishequeren=(function(_super){__extends(WarPaishequeren,_super);function WarPaishequeren(){return _super!==null&&_super.apply(this,arguments)||this}return WarPaishequeren}(PfSkin.WarPaishequerenStruct));PfSkin.WarPaishequeren=WarPaishequeren})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProficiencyItemStruct=(function(_super){__extends(WarProficiencyItemStruct,_super);function WarProficiencyItemStruct(){return _super.call(this)||this}WarProficiencyItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarProficiencyItem"))};WarProficiencyItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarProficiencyItemStruct.URL="ui://s33x8418q3y51gx";WarProficiencyItemStruct.DependPackages=["PfSkin"];return WarProficiencyItemStruct}(fairygui.GLabel));PfSkin.WarProficiencyItemStruct=WarProficiencyItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProficiencyItem=(function(_super){__extends(WarProficiencyItem,_super);function WarProficiencyItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarProficiencyItem}(PfSkin.WarProficiencyItemStruct));PfSkin.WarProficiencyItem=WarProficiencyItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProficiencyProgressStruct=(function(_super){__extends(WarProficiencyProgressStruct,_super);function WarProficiencyProgressStruct(){return _super.call(this)||this}WarProficiencyProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarProficiencyProgress"))};WarProficiencyProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};WarProficiencyProgressStruct.URL="ui://s33x8418k8js1hi";WarProficiencyProgressStruct.DependPackages=["PfSkin"];return WarProficiencyProgressStruct}(fairygui.GProgressBar));PfSkin.WarProficiencyProgressStruct=WarProficiencyProgressStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProficiencyProgress=(function(_super){__extends(WarProficiencyProgress,_super);function WarProficiencyProgress(){return _super!==null&&_super.apply(this,arguments)||this}return WarProficiencyProgress}(PfSkin.WarProficiencyProgressStruct));PfSkin.WarProficiencyProgress=WarProficiencyProgress})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProgressStruct=(function(_super){__extends(WarProgressStruct,_super);function WarProgressStruct(){return _super.call(this)||this}WarProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarProgress"))};WarProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bar=(this.getChild("bar"));this.m_arrow=(this.getChild("arrow"));this.m_title=(this.getChild("title"))};WarProgressStruct.URL="ui://s33x8418k8js1hp";WarProgressStruct.DependPackages=["PfSkin"];return WarProgressStruct}(fairygui.GProgressBar));PfSkin.WarProgressStruct=WarProgressStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProgress=(function(_super){__extends(WarProgress,_super);function WarProgress(){return _super!==null&&_super.apply(this,arguments)||this}return WarProgress}(PfSkin.WarProgressStruct));PfSkin.WarProgress=WarProgress})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProgressAudienceStruct=(function(_super){__extends(WarProgressAudienceStruct,_super);function WarProgressAudienceStruct(){return _super.call(this)||this}WarProgressAudienceStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarProgressAudience"))};WarProgressAudienceStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bar=(this.getChild("bar"));this.m_arrow=(this.getChild("arrow"));this.m_title=(this.getChild("title"))};WarProgressAudienceStruct.URL="ui://s33x8418k8js1hv";WarProgressAudienceStruct.DependPackages=["PfSkin"];return WarProgressAudienceStruct}(fairygui.GProgressBar));PfSkin.WarProgressAudienceStruct=WarProgressAudienceStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarProgressAudience=(function(_super){__extends(WarProgressAudience,_super);function WarProgressAudience(){return _super!==null&&_super.apply(this,arguments)||this}return WarProgressAudience}(PfSkin.WarProgressAudienceStruct));PfSkin.WarProgressAudience=WarProgressAudience})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarPromptBoxStruct=(function(_super){__extends(WarPromptBoxStruct,_super);function WarPromptBoxStruct(){return _super.call(this)||this}WarPromptBoxStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarPromptBox"))};WarPromptBoxStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_tip=(this.getChild("tip"));this.m_title=(this.getChild("title"));this.m_okBtn=(this.getChild("okBtn"))};WarPromptBoxStruct.URL="ui://s33x8418pvrg1ic";WarPromptBoxStruct.DependPackages=["PfSkin"];return WarPromptBoxStruct}(fairygui.GComponent));PfSkin.WarPromptBoxStruct=WarPromptBoxStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarPromptBox=(function(_super){__extends(WarPromptBox,_super);function WarPromptBox(){return _super!==null&&_super.apply(this,arguments)||this}return WarPromptBox}(PfSkin.WarPromptBoxStruct));PfSkin.WarPromptBox=WarPromptBox})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarQiPaoTipStruct=(function(_super){__extends(WarQiPaoTipStruct,_super);function WarQiPaoTipStruct(){return _super.call(this)||this}WarQiPaoTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarQiPaoTip"))};WarQiPaoTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_arrow=(this.getChild("arrow"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarQiPaoTipStruct.URL="ui://s33x84186ve81fy";WarQiPaoTipStruct.DependPackages=["PfSkin"];return WarQiPaoTipStruct}(fairygui.GLabel));PfSkin.WarQiPaoTipStruct=WarQiPaoTipStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarQiPaoTip=(function(_super){__extends(WarQiPaoTip,_super);function WarQiPaoTip(){return _super!==null&&_super.apply(this,arguments)||this}return WarQiPaoTip}(PfSkin.WarQiPaoTipStruct));PfSkin.WarQiPaoTip=WarQiPaoTip})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarReceiveBtnStruct=(function(_super){__extends(WarReceiveBtnStruct,_super);function WarReceiveBtnStruct(){return _super.call(this)||this}WarReceiveBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarReceiveBtn"))};WarReceiveBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_colorChange=this.getController("colorChange");this.m_bg=(this.getChild("bg"));this.m_selectTip=(this.getChild("selectTip"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarReceiveBtnStruct.URL="ui://s33x8418k8js1h8";WarReceiveBtnStruct.DependPackages=["PfSkin"];return WarReceiveBtnStruct}(fairygui.GButton));PfSkin.WarReceiveBtnStruct=WarReceiveBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarReceiveBtn=(function(_super){__extends(WarReceiveBtn,_super);function WarReceiveBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarReceiveBtn}(PfSkin.WarReceiveBtnStruct));PfSkin.WarReceiveBtn=WarReceiveBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarRewardItemStruct=(function(_super){__extends(WarRewardItemStruct,_super);function WarRewardItemStruct(){return _super.call(this)||this}WarRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarRewardItem"))};WarRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarRewardItemStruct.URL="ui://s33x8418k8js1ha";WarRewardItemStruct.DependPackages=["PfSkin"];return WarRewardItemStruct}(fairygui.GButton));PfSkin.WarRewardItemStruct=WarRewardItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarRewardItem=(function(_super){__extends(WarRewardItem,_super);function WarRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarRewardItem}(PfSkin.WarRewardItemStruct));PfSkin.WarRewardItem=WarRewardItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectFilmTypeStruct=(function(_super){__extends(WarSelectFilmTypeStruct,_super);function WarSelectFilmTypeStruct(){return _super.call(this)||this}WarSelectFilmTypeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSelectFilmType"))};WarSelectFilmTypeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_bgTop=(this.getChild("bgTop"));this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_typeList=(this.getChild("typeList"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_filmInfBtn=(this.getChild("filmInfBtn"))};WarSelectFilmTypeStruct.URL="ui://s33x84186ve81gv";WarSelectFilmTypeStruct.DependPackages=["PfSkin"];return WarSelectFilmTypeStruct}(fairygui.GComponent));PfSkin.WarSelectFilmTypeStruct=WarSelectFilmTypeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectFilmType=(function(_super){__extends(WarSelectFilmType,_super);function WarSelectFilmType(){return _super!==null&&_super.apply(this,arguments)||this}return WarSelectFilmType}(PfSkin.WarSelectFilmTypeStruct));PfSkin.WarSelectFilmType=WarSelectFilmType})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectOkBtnStruct=(function(_super){__extends(WarSelectOkBtnStruct,_super);function WarSelectOkBtnStruct(){return _super.call(this)||this}WarSelectOkBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSelectOkBtn"))};WarSelectOkBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_ani1=(this.getChild("ani1"));this.m_ani2=(this.getChild("ani2"));this.m_t0=this.getTransition("t0")};WarSelectOkBtnStruct.URL="ui://s33x84186ve81g7";WarSelectOkBtnStruct.DependPackages=["PfSkin"];return WarSelectOkBtnStruct}(fairygui.GButton));PfSkin.WarSelectOkBtnStruct=WarSelectOkBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectOkBtn=(function(_super){__extends(WarSelectOkBtn,_super);function WarSelectOkBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarSelectOkBtn}(PfSkin.WarSelectOkBtnStruct));PfSkin.WarSelectOkBtn=WarSelectOkBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectyirenStruct=(function(_super){__extends(WarSelectyirenStruct,_super);function WarSelectyirenStruct(){return _super.call(this)||this}WarSelectyirenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSelectyiren"))};WarSelectyirenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_SelectYR=this.getController("SelectYR");this.m_bg=(this.getChild("bg"));this.m_topBg=(this.getChild("topBg"));this.m_title=(this.getChild("title"));this.m_reqList=(this.getChild("reqList"));this.m_zhong=(this.getChild("zhong"));this.m_zhongTip=(this.getChild("zhongTip"));this.m_yrReqCom=(this.getChild("yrReqCom"));this.m_listBg=(this.getChild("listBg"));this.m_yrList=(this.getChild("yrList"));this.m_yiList=(this.getChild("yiList"));this.m_bgTemp=(this.getChild("bgTemp"));this.m_emtpyTip=(this.getChild("emtpyTip"));this.m_emtpyTip2=(this.getChild("emtpyTip2"));this.m_searchTip=(this.getChild("searchTip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_filmInfBtn=(this.getChild("filmInfBtn"));this.m_backBtn=(this.getChild("backBtn"));this.m_selectOkBtn=(this.getChild("selectOkBtn"))};WarSelectyirenStruct.URL="ui://s33x84186ve81fw";WarSelectyirenStruct.DependPackages=["PfSkin"];return WarSelectyirenStruct}(fairygui.GComponent));PfSkin.WarSelectyirenStruct=WarSelectyirenStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSelectyiren=(function(_super){__extends(WarSelectyiren,_super);function WarSelectyiren(){return _super!==null&&_super.apply(this,arguments)||this}return WarSelectyiren}(PfSkin.WarSelectyirenStruct));PfSkin.WarSelectyiren=WarSelectyiren})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarShangyingProgressBarStruct=(function(_super){__extends(WarShangyingProgressBarStruct,_super);function WarShangyingProgressBarStruct(){return _super.call(this)||this}WarShangyingProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarShangyingProgressBar"))};WarShangyingProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};WarShangyingProgressBarStruct.URL="ui://s33x8418k8js1hz";WarShangyingProgressBarStruct.DependPackages=["PfSkin"];return WarShangyingProgressBarStruct}(fairygui.GProgressBar));PfSkin.WarShangyingProgressBarStruct=WarShangyingProgressBarStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarShangyingProgressBar=(function(_super){__extends(WarShangyingProgressBar,_super);function WarShangyingProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return WarShangyingProgressBar}(PfSkin.WarShangyingProgressBarStruct));PfSkin.WarShangyingProgressBar=WarShangyingProgressBar})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarShareBtnStruct=(function(_super){__extends(WarShareBtnStruct,_super);function WarShareBtnStruct(){return _super.call(this)||this}WarShareBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarShareBtn"))};WarShareBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_t0=this.getTransition("t0")};WarShareBtnStruct.URL="ui://s33x8418k8js1i8";WarShareBtnStruct.DependPackages=["PfSkin"];return WarShareBtnStruct}(fairygui.GButton));PfSkin.WarShareBtnStruct=WarShareBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarShareBtn=(function(_super){__extends(WarShareBtn,_super);function WarShareBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarShareBtn}(PfSkin.WarShareBtnStruct));PfSkin.WarShareBtn=WarShareBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarStarProgressStruct=(function(_super){__extends(WarStarProgressStruct,_super);function WarStarProgressStruct(){return _super.call(this)||this}WarStarProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarStarProgress"))};WarStarProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bar=(this.getChild("bar"))};WarStarProgressStruct.URL="ui://s33x8418q3y51h0";WarStarProgressStruct.DependPackages=["PfSkin"];return WarStarProgressStruct}(fairygui.GProgressBar));PfSkin.WarStarProgressStruct=WarStarProgressStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarStarProgress=(function(_super){__extends(WarStarProgress,_super);function WarStarProgress(){return _super!==null&&_super.apply(this,arguments)||this}return WarStarProgress}(PfSkin.WarStarProgressStruct));PfSkin.WarStarProgress=WarStarProgress})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfChildStruct=(function(_super){__extends(WarSurveyInfChildStruct,_super);function WarSurveyInfChildStruct(){return _super.call(this)||this}WarSurveyInfChildStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfChild"))};WarSurveyInfChildStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_sex=(this.getChild("sex"));this.m_title=(this.getChild("title"))};WarSurveyInfChildStruct.URL="ui://s33x8418znuj1f5";WarSurveyInfChildStruct.DependPackages=["PfSkin"];return WarSurveyInfChildStruct}(fairygui.GLabel));PfSkin.WarSurveyInfChildStruct=WarSurveyInfChildStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfChild=(function(_super){__extends(WarSurveyInfChild,_super);function WarSurveyInfChild(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfChild}(PfSkin.WarSurveyInfChildStruct));PfSkin.WarSurveyInfChild=WarSurveyInfChild})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfChildReqStruct=(function(_super){__extends(WarSurveyInfChildReqStruct,_super);function WarSurveyInfChildReqStruct(){return _super.call(this)||this}WarSurveyInfChildReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfChildReq"))};WarSurveyInfChildReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarSurveyInfChildReqStruct.URL="ui://s33x8418r8ay1fe";WarSurveyInfChildReqStruct.DependPackages=["PfSkin"];return WarSurveyInfChildReqStruct}(fairygui.GLabel));PfSkin.WarSurveyInfChildReqStruct=WarSurveyInfChildReqStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfChildReq=(function(_super){__extends(WarSurveyInfChildReq,_super);function WarSurveyInfChildReq(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfChildReq}(PfSkin.WarSurveyInfChildReqStruct));PfSkin.WarSurveyInfChildReq=WarSurveyInfChildReq})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfManStruct=(function(_super){__extends(WarSurveyInfManStruct,_super);function WarSurveyInfManStruct(){return _super.call(this)||this}WarSurveyInfManStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfMan"))};WarSurveyInfManStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_sex=(this.getChild("sex"));this.m_title=(this.getChild("title"))};WarSurveyInfManStruct.URL="ui://s33x8418znuj1f1";WarSurveyInfManStruct.DependPackages=["PfSkin"];return WarSurveyInfManStruct}(fairygui.GLabel));PfSkin.WarSurveyInfManStruct=WarSurveyInfManStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfMan=(function(_super){__extends(WarSurveyInfMan,_super);function WarSurveyInfMan(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfMan}(PfSkin.WarSurveyInfManStruct));PfSkin.WarSurveyInfMan=WarSurveyInfMan})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfManReqStruct=(function(_super){__extends(WarSurveyInfManReqStruct,_super);function WarSurveyInfManReqStruct(){return _super.call(this)||this}WarSurveyInfManReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfManReq"))};WarSurveyInfManReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarSurveyInfManReqStruct.URL="ui://s33x8418r8ay1fc";WarSurveyInfManReqStruct.DependPackages=["PfSkin"];return WarSurveyInfManReqStruct}(fairygui.GLabel));PfSkin.WarSurveyInfManReqStruct=WarSurveyInfManReqStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfManReq=(function(_super){__extends(WarSurveyInfManReq,_super);function WarSurveyInfManReq(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfManReq}(PfSkin.WarSurveyInfManReqStruct));PfSkin.WarSurveyInfManReq=WarSurveyInfManReq})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfWomanStruct=(function(_super){__extends(WarSurveyInfWomanStruct,_super);function WarSurveyInfWomanStruct(){return _super.call(this)||this}WarSurveyInfWomanStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfWoman"))};WarSurveyInfWomanStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_sex=(this.getChild("sex"));this.m_title=(this.getChild("title"))};WarSurveyInfWomanStruct.URL="ui://s33x8418znuj1f4";WarSurveyInfWomanStruct.DependPackages=["PfSkin"];return WarSurveyInfWomanStruct}(fairygui.GLabel));PfSkin.WarSurveyInfWomanStruct=WarSurveyInfWomanStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfWoman=(function(_super){__extends(WarSurveyInfWoman,_super);function WarSurveyInfWoman(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfWoman}(PfSkin.WarSurveyInfWomanStruct));PfSkin.WarSurveyInfWoman=WarSurveyInfWoman})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfWomanReqStruct=(function(_super){__extends(WarSurveyInfWomanReqStruct,_super);function WarSurveyInfWomanReqStruct(){return _super.call(this)||this}WarSurveyInfWomanReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarSurveyInfWomanReq"))};WarSurveyInfWomanReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarSurveyInfWomanReqStruct.URL="ui://s33x8418r8ay1fd";WarSurveyInfWomanReqStruct.DependPackages=["PfSkin"];return WarSurveyInfWomanReqStruct}(fairygui.GLabel));PfSkin.WarSurveyInfWomanReqStruct=WarSurveyInfWomanReqStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarSurveyInfWomanReq=(function(_super){__extends(WarSurveyInfWomanReq,_super);function WarSurveyInfWomanReq(){return _super!==null&&_super.apply(this,arguments)||this}return WarSurveyInfWomanReq}(PfSkin.WarSurveyInfWomanReqStruct));PfSkin.WarSurveyInfWomanReq=WarSurveyInfWomanReq})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarXKHuifuStruct=(function(_super){__extends(WarXKHuifuStruct,_super);function WarXKHuifuStruct(){return _super.call(this)||this}WarXKHuifuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarXKHuifu"))};WarXKHuifuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg4=(this.getChild("bg4"));this.m_bg3=(this.getChild("bg3"));this.m_title=(this.getChild("title"));this.m_Icon=(this.getChild("Icon"));this.m_getTip=(this.getChild("getTip"));this.m_time=(this.getChild("time"));this.m_line=(this.getChild("line"));this.m_number=(this.getChild("number"));this.m_closeBtn=(this.getChild("closeBtn"))};WarXKHuifuStruct.URL="ui://s33x8418t6ra1ud";WarXKHuifuStruct.DependPackages=["PfSkin","Common"];return WarXKHuifuStruct}(fairygui.GComponent));PfSkin.WarXKHuifuStruct=WarXKHuifuStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarXKHuifu=(function(_super){__extends(WarXKHuifu,_super);function WarXKHuifu(){return _super!==null&&_super.apply(this,arguments)||this}return WarXKHuifu}(PfSkin.WarXKHuifuStruct));PfSkin.WarXKHuifu=WarXKHuifu})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarXukezhengOverStruct=(function(_super){__extends(WarXukezhengOverStruct,_super);function WarXukezhengOverStruct(){return _super.call(this)||this}WarXukezhengOverStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarXukezhengOver"))};WarXukezhengOverStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg2=(this.getChild("bg2"));this.m_bg3=(this.getChild("bg3"));this.m_bg4=(this.getChild("bg4"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_getTip=(this.getChild("getTip"));this.m_okBtn=(this.getChild("okBtn"))};WarXukezhengOverStruct.URL="ui://s33x8418k8js1i3";WarXukezhengOverStruct.DependPackages=["PfSkin"];return WarXukezhengOverStruct}(fairygui.GComponent));PfSkin.WarXukezhengOverStruct=WarXukezhengOverStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarXukezhengOver=(function(_super){__extends(WarXukezhengOver,_super);function WarXukezhengOver(){return _super!==null&&_super.apply(this,arguments)||this}return WarXukezhengOver}(PfSkin.WarXukezhengOverStruct));PfSkin.WarXukezhengOver=WarXukezhengOver})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYirenSelectItemStruct=(function(_super){__extends(WarYirenSelectItemStruct,_super);function WarYirenSelectItemStruct(){return _super.call(this)||this}WarYirenSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYirenSelectItem"))};WarYirenSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_bg=(this.getChild("bg"));this.m_bgOk=(this.getChild("bgOk"));this.m_bgJiaobiao=(this.getChild("bgJiaobiao"));this.m_sex=(this.getChild("sex"));this.m_role=(this.getChild("role"));this.m_roleTip=(this.getChild("roleTip"));this.m_addIcon=(this.getChild("addIcon"));this.m_nation=(this.getChild("nation"));this.m_iconOk=(this.getChild("iconOk"));this.m_selectAni=(this.getChild("selectAni"));this.m_kuangOk=(this.getChild("kuangOk"));this.m_nameOk=(this.getChild("nameOk"));this.m_yirenType1=(this.getChild("yirenType1"));this.m_yirenType2=(this.getChild("yirenType2"));this.m_ani=this.getTransition("ani")};WarYirenSelectItemStruct.URL="ui://s33x84186ve81fz";WarYirenSelectItemStruct.DependPackages=["PfSkin"];return WarYirenSelectItemStruct}(fairygui.GButton));PfSkin.WarYirenSelectItemStruct=WarYirenSelectItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYirenSelectItem=(function(_super){__extends(WarYirenSelectItem,_super);function WarYirenSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYirenSelectItem}(PfSkin.WarYirenSelectItemStruct));PfSkin.WarYirenSelectItem=WarYirenSelectItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYirenTypeStruct=(function(_super){__extends(WarYirenTypeStruct,_super);function WarYirenTypeStruct(){return _super.call(this)||this}WarYirenTypeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYirenType"))};WarYirenTypeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};WarYirenTypeStruct.URL="ui://s33x84186ve81g0";WarYirenTypeStruct.DependPackages=["PfSkin"];return WarYirenTypeStruct}(fairygui.GLabel));PfSkin.WarYirenTypeStruct=WarYirenTypeStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYirenType=(function(_super){__extends(WarYirenType,_super);function WarYirenType(){return _super!==null&&_super.apply(this,arguments)||this}return WarYirenType}(PfSkin.WarYirenTypeStruct));PfSkin.WarYirenType=WarYirenType})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYISleectBtnStruct=(function(_super){__extends(WarYISleectBtnStruct,_super);function WarYISleectBtnStruct(){return _super.call(this)||this}WarYISleectBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYISleectBtn"))};WarYISleectBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_costOrNo=this.getController("costOrNo");this.m_icon=(this.getChild("icon"));this.m_tip=(this.getChild("tip"));this.m_tip2=(this.getChild("tip2"));this.m_title=(this.getChild("title"));this.m_costIcon=(this.getChild("costIcon"));this.m_noCost=(this.getChild("noCost"))};WarYISleectBtnStruct.URL="ui://s33x84186ve81g6";WarYISleectBtnStruct.DependPackages=["PfSkin"];return WarYISleectBtnStruct}(fairygui.GButton));PfSkin.WarYISleectBtnStruct=WarYISleectBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYISleectBtn=(function(_super){__extends(WarYISleectBtn,_super);function WarYISleectBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarYISleectBtn}(PfSkin.WarYISleectBtnStruct));PfSkin.WarYISleectBtn=WarYISleectBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRCostItemStruct=(function(_super){__extends(WarYRCostItemStruct,_super);function WarYRCostItemStruct(){return _super.call(this)||this}WarYRCostItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRCostItem"))};WarYRCostItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_costOrNo=this.getController("costOrNo");this.m_bg=(this.getChild("bg"));this.m_juese=(this.getChild("juese"));this.m_icon=(this.getChild("icon"));this.m_costIcon=(this.getChild("costIcon"));this.m_costText=(this.getChild("costText"));this.m_noCostTip1=(this.getChild("noCostTip1"));this.m_noCostTip2=(this.getChild("noCostTip2"));this.m_name=(this.getChild("name"));this.m_iconCom=(this.getChild("iconCom"))};WarYRCostItemStruct.URL="ui://s33x84186ve81gb";WarYRCostItemStruct.DependPackages=["PfSkin"];return WarYRCostItemStruct}(fairygui.GComponent));PfSkin.WarYRCostItemStruct=WarYRCostItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRCostItem=(function(_super){__extends(WarYRCostItem,_super);function WarYRCostItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRCostItem}(PfSkin.WarYRCostItemStruct));PfSkin.WarYRCostItem=WarYRCostItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRFilmItemStruct=(function(_super){__extends(WarYRFilmItemStruct,_super);function WarYRFilmItemStruct(){return _super.call(this)||this}WarYRFilmItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRFilmItem"))};WarYRFilmItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bgXuzuo=(this.getChild("bgXuzuo"));this.m_title=(this.getChild("title"));this.m_attributeList=(this.getChild("attributeList"));this.m_name=(this.getChild("name"));this.m_icon=(this.getChild("icon"))};WarYRFilmItemStruct.URL="ui://s33x84186ve81gl";WarYRFilmItemStruct.DependPackages=["PfSkin"];return WarYRFilmItemStruct}(fairygui.GButton));PfSkin.WarYRFilmItemStruct=WarYRFilmItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRFilmItem=(function(_super){__extends(WarYRFilmItem,_super);function WarYRFilmItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRFilmItem}(PfSkin.WarYRFilmItemStruct));PfSkin.WarYRFilmItem=WarYRFilmItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRForFilmStruct=(function(_super){__extends(WarYRForFilmStruct,_super);function WarYRForFilmStruct(){return _super.call(this)||this}WarYRForFilmStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRForFilm"))};WarYRForFilmStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgBai=(this.getChild("bgBai"));this.m_bgLan=(this.getChild("bgLan"));this.m_bgTop=(this.getChild("bgTop"));this.m_xuzuo=(this.getChild("xuzuo"));this.m_title=(this.getChild("title"));this.m_resultList=(this.getChild("resultList"));this.m_bubbleList=(this.getChild("bubbleList"));this.m_okBtn=(this.getChild("okBtn"));this.m_curYR=(this.getChild("curYR"))};WarYRForFilmStruct.URL="ui://s33x84186ve81gi";WarYRForFilmStruct.DependPackages=["PfSkin"];return WarYRForFilmStruct}(fairygui.GComponent));PfSkin.WarYRForFilmStruct=WarYRForFilmStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRForFilm=(function(_super){__extends(WarYRForFilm,_super);function WarYRForFilm(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRForFilm}(PfSkin.WarYRForFilmStruct));PfSkin.WarYRForFilm=WarYRForFilm})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRItemStruct=(function(_super){__extends(WarYRItemStruct,_super);function WarYRItemStruct(){return _super.call(this)||this}WarYRItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRItem"))};WarYRItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_YRHave=this.getController("YRHave");this.m_bg=(this.getChild("bg"));this.m_iconPos=(this.getChild("iconPos"));this.m_AttributeTip=(this.getChild("AttributeTip"));this.m_temName=(this.getChild("temName"));this.m_icon=(this.getChild("icon"));this.m_tip=(this.getChild("tip"));this.m_lv=(this.getChild("lv"));this.m_yrName=(this.getChild("yrName"));this.m_selectAni=(this.getChild("selectAni"));this.m_star=(this.getChild("star"));this.m_attribute1=(this.getChild("attribute1"));this.m_attribute2=(this.getChild("attribute2"));this.m_ready=(this.getChild("ready"));this.m_okBtn=(this.getChild("okBtn"));this.m_infBtn=(this.getChild("infBtn"));this.m_t0=this.getTransition("t0")};WarYRItemStruct.URL="ui://s33x84186ve81g3";WarYRItemStruct.DependPackages=["PfSkin"];return WarYRItemStruct}(fairygui.GButton));PfSkin.WarYRItemStruct=WarYRItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRItem=(function(_super){__extends(WarYRItem,_super);function WarYRItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRItem}(PfSkin.WarYRItemStruct));PfSkin.WarYRItem=WarYRItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRItem2Struct=(function(_super){__extends(WarYRItem2Struct,_super);function WarYRItem2Struct(){return _super.call(this)||this}WarYRItem2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRItem2"))};WarYRItem2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_bg=(this.getChild("bg"));this.m_starList=(this.getChild("starList"));this.m_t0=this.getTransition("t0")};WarYRItem2Struct.URL="ui://s33x8418k8js1hq";WarYRItem2Struct.DependPackages=["PfSkin"];return WarYRItem2Struct}(fairygui.GButton));PfSkin.WarYRItem2Struct=WarYRItem2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRItem2=(function(_super){__extends(WarYRItem2,_super);function WarYRItem2(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRItem2}(PfSkin.WarYRItem2Struct));PfSkin.WarYRItem2=WarYRItem2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRNoticeItemStruct=(function(_super){__extends(WarYRNoticeItemStruct,_super);function WarYRNoticeItemStruct(){return _super.call(this)||this}WarYRNoticeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRNoticeItem"))};WarYRNoticeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_bg=(this.getChild("bg"));this.m_bgXZ=(this.getChild("bgXZ"));this.m_luxiang1=(this.getChild("luxiang1"));this.m_luxiang2=(this.getChild("luxiang2"));this.m_luxiang3=(this.getChild("luxiang3"));this.m_luxiang4=(this.getChild("luxiang4"));this.m_luxiang5=(this.getChild("luxiang5"));this.m_luxiang6=(this.getChild("luxiang6"));this.m_luxiang7=(this.getChild("luxiang7"));this.m_luxiang8=(this.getChild("luxiang8"));this.m_titleBg=(this.getChild("titleBg"));this.m_bgKuang=(this.getChild("bgKuang"));this.m_lv=(this.getChild("lv"));this.m_title=(this.getChild("title"));this.m_yr1=(this.getChild("yr1"));this.m_yr2=(this.getChild("yr2"));this.m_okTip=(this.getChild("okTip"));this.m_bg1=(this.getChild("bg1"));this.m_nvIcon=(this.getChild("nvIcon"));this.m_tipBg=(this.getChild("tipBg"));this.m_tipArrow=(this.getChild("tipArrow"));this.m_tipDes=(this.getChild("tipDes"));this.m_tipCom=(this.getChild("tipCom"));this.m_selectBtn=(this.getChild("selectBtn"))};WarYRNoticeItemStruct.URL="ui://s33x8418k8js1h7";WarYRNoticeItemStruct.DependPackages=["PfSkin"];return WarYRNoticeItemStruct}(fairygui.GComponent));PfSkin.WarYRNoticeItemStruct=WarYRNoticeItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRNoticeItem=(function(_super){__extends(WarYRNoticeItem,_super);function WarYRNoticeItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRNoticeItem}(PfSkin.WarYRNoticeItemStruct));PfSkin.WarYRNoticeItem=WarYRNoticeItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRProficiencyStruct=(function(_super){__extends(WarYRProficiencyStruct,_super);function WarYRProficiencyStruct(){return _super.call(this)||this}WarYRProficiencyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRProficiency"))};WarYRProficiencyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg1=(this.getChild("bg1"));this.m_bgTop=(this.getChild("bgTop"));this.m_bgBai=(this.getChild("bgBai"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_yrList=(this.getChild("yrList"));this.m_okBtn=(this.getChild("okBtn"))};WarYRProficiencyStruct.URL="ui://s33x8418k8js1hg";WarYRProficiencyStruct.DependPackages=["PfSkin"];return WarYRProficiencyStruct}(fairygui.GComponent));PfSkin.WarYRProficiencyStruct=WarYRProficiencyStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRProficiency=(function(_super){__extends(WarYRProficiency,_super);function WarYRProficiency(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRProficiency}(PfSkin.WarYRProficiencyStruct));PfSkin.WarYRProficiency=WarYRProficiency})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRProficiencyItemStruct=(function(_super){__extends(WarYRProficiencyItemStruct,_super);function WarYRProficiencyItemStruct(){return _super.call(this)||this}WarYRProficiencyItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","WarYRProficiencyItem"))};WarYRProficiencyItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_name=(this.getChild("name"));this.m_shuliandu=(this.getChild("shuliandu"));this.m_level=(this.getChild("level"));this.m_progress=(this.getChild("progress"))};WarYRProficiencyItemStruct.URL="ui://s33x8418k8js1hh";WarYRProficiencyItemStruct.DependPackages=["PfSkin"];return WarYRProficiencyItemStruct}(fairygui.GComponent));PfSkin.WarYRProficiencyItemStruct=WarYRProficiencyItemStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var WarYRProficiencyItem=(function(_super){__extends(WarYRProficiencyItem,_super);function WarYRProficiencyItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarYRProficiencyItem}(PfSkin.WarYRProficiencyItemStruct));PfSkin.WarYRProficiencyItem=WarYRProficiencyItem})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtnStruct=(function(_super){__extends(YellowBtnStruct,_super);function YellowBtnStruct(){return _super.call(this)||this}YellowBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn"))};YellowBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};YellowBtnStruct.URL="ui://s33x8418jazc1mx";YellowBtnStruct.DependPackages=["PfSkin"];return YellowBtnStruct}(fairygui.GButton));PfSkin.YellowBtnStruct=YellowBtnStruct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn=(function(_super){__extends(YellowBtn,_super);function YellowBtn(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn}(PfSkin.YellowBtnStruct));PfSkin.YellowBtn=YellowBtn})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn2Struct=(function(_super){__extends(YellowBtn2Struct,_super);function YellowBtn2Struct(){return _super.call(this)||this}YellowBtn2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn2"))};YellowBtn2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_goldIcon=(this.getChild("goldIcon"));this.m_gold=(this.getChild("gold"));this.m_cardIcon=(this.getChild("cardIcon"));this.m_page=(this.getChild("page"))};YellowBtn2Struct.URL="ui://s33x8418jazc1my";YellowBtn2Struct.DependPackages=["PfSkin","Common"];return YellowBtn2Struct}(fairygui.GButton));PfSkin.YellowBtn2Struct=YellowBtn2Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn2=(function(_super){__extends(YellowBtn2,_super);function YellowBtn2(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn2}(PfSkin.YellowBtn2Struct));PfSkin.YellowBtn2=YellowBtn2})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn3Struct=(function(_super){__extends(YellowBtn3Struct,_super);function YellowBtn3Struct(){return _super.call(this)||this}YellowBtn3Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn3"))};YellowBtn3Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_name=(this.getChild("name"));this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};YellowBtn3Struct.URL="ui://s33x8418jazc1mz";YellowBtn3Struct.DependPackages=["PfSkin","Common"];return YellowBtn3Struct}(fairygui.GButton));PfSkin.YellowBtn3Struct=YellowBtn3Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn3=(function(_super){__extends(YellowBtn3,_super);function YellowBtn3(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn3}(PfSkin.YellowBtn3Struct));PfSkin.YellowBtn3=YellowBtn3})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn4Struct=(function(_super){__extends(YellowBtn4Struct,_super);function YellowBtn4Struct(){return _super.call(this)||this}YellowBtn4Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn4"))};YellowBtn4Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"))};YellowBtn4Struct.URL="ui://s33x8418jazc1n0";YellowBtn4Struct.DependPackages=["PfSkin"];return YellowBtn4Struct}(fairygui.GButton));PfSkin.YellowBtn4Struct=YellowBtn4Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn4=(function(_super){__extends(YellowBtn4,_super);function YellowBtn4(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn4}(PfSkin.YellowBtn4Struct));PfSkin.YellowBtn4=YellowBtn4})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn5Struct=(function(_super){__extends(YellowBtn5Struct,_super);function YellowBtn5Struct(){return _super.call(this)||this}YellowBtn5Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn5"))};YellowBtn5Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_number=(this.getChild("number"));this.m_red=(this.getChild("red"))};YellowBtn5Struct.URL="ui://s33x8418jazc1n1";YellowBtn5Struct.DependPackages=["PfSkin","Common"];return YellowBtn5Struct}(fairygui.GButton));PfSkin.YellowBtn5Struct=YellowBtn5Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn5=(function(_super){__extends(YellowBtn5,_super);function YellowBtn5(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn5}(PfSkin.YellowBtn5Struct));PfSkin.YellowBtn5=YellowBtn5})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn6Struct=(function(_super){__extends(YellowBtn6Struct,_super);function YellowBtn6Struct(){return _super.call(this)||this}YellowBtn6Struct.createInstance=function(){return(fairygui.UIPackage.createObject("PfSkin","YellowBtn6"))};YellowBtn6Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_number=(this.getChild("number"))};YellowBtn6Struct.URL="ui://s33x8418jzhf1vk";YellowBtn6Struct.DependPackages=["PfSkin"];return YellowBtn6Struct}(fairygui.GButton));PfSkin.YellowBtn6Struct=YellowBtn6Struct})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PfSkin;(function(PfSkin){var YellowBtn6=(function(_super){__extends(YellowBtn6,_super);function YellowBtn6(){return _super!==null&&_super.apply(this,arguments)||this}return YellowBtn6}(PfSkin.YellowBtn6Struct));PfSkin.YellowBtn6=YellowBtn6})(PfSkin=fgui.PfSkin||(fgui.PfSkin={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var AssetItemStruct=(function(_super){__extends(AssetItemStruct,_super);function AssetItemStruct(){return _super.call(this)||this}AssetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","AssetItem"))};AssetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_assetIcon=(this.getChild("assetIcon"))};AssetItemStruct.URL="ui://tderqmz5dyfei";AssetItemStruct.DependPackages=["PlayerInfo","Common"];return AssetItemStruct}(fairygui.GComponent));PlayerInfo.AssetItemStruct=AssetItemStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var AssetItem=(function(_super){__extends(AssetItem,_super);function AssetItem(){return _super!==null&&_super.apply(this,arguments)||this}AssetItem.prototype.setAsset=function(assetId){var userItem=Game.moduleModel.item.getItem(assetId);this.m_assetIcon.url=userItem.itemIconUrl;var assetNum=Game.moduleModel.item.getItemNum(assetId);this.m_title.text=formatNumberUnit(assetNum)};return AssetItem}(PlayerInfo.AssetItemStruct));PlayerInfo.AssetItem=AssetItem})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var AvatarIconItemStruct=(function(_super){__extends(AvatarIconItemStruct,_super);function AvatarIconItemStruct(){return _super.call(this)||this}AvatarIconItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","AvatarIconItem"))};AvatarIconItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_avatarLoader=(this.getChild("avatarLoader"));this.m_flag_inuse=(this.getChild("flag_inuse"));this.m_flag_lock=(this.getChild("flag_lock"));this.m_g_lock=(this.getChild("g_lock"));this.m_btn_choose=(this.getChild("btn_choose"));this.m_btn_itemBuy=(this.getChild("btn_itemBuy"))};AvatarIconItemStruct.URL="ui://tderqmz5o11z1p";AvatarIconItemStruct.DependPackages=["PlayerInfo","Common"];return AvatarIconItemStruct}(fairygui.GButton));PlayerInfo.AvatarIconItemStruct=AvatarIconItemStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var AvatarIconItem=(function(_super){__extends(AvatarIconItem,_super);function AvatarIconItem(){return _super!==null&&_super.apply(this,arguments)||this}AvatarIconItem.prototype.setInfo=function(cfg){this.cfg=cfg;this.m_flag_inuse.visible=false;this.m_g_lock.visible=false;this.m_btn_choose.visible=true;if(cfg.id==User.info.portrait||this.isDefaultPortrait(cfg.id)&&User.info.portrait==0){this.m_flag_inuse.visible=true;this.m_btn_choose.visible=false}var avatarConfig=Game.config.avatar.getConfig(cfg.icon);if(avatarConfig){this.m_avatarLoader.url=avatarConfig.iconUrl}if(!this.isFree){if(!this.isGetPortrait(cfg.id)){this.showLock()}}};AvatarIconItem.prototype.showUnlock=function(){this.m_btn_choose.visible=true;this.m_g_lock.visible=false};Object.defineProperty(AvatarIconItem.prototype,"isFree",{get:function(){return this.cfg.unlock.itemId==0},enumerable:true,configurable:true});AvatarIconItem.prototype.isGetPortrait=function(portraitId){return User.infoExt.portraitList.indexOf(portraitId)!=-1};AvatarIconItem.prototype.isDefaultPortrait=function(portraitId){var portraitCfgList=Game.config.headPortrait.getConfigList();var portraitSexList=portraitCfgList.filter(function(value,index,array){return value.sex==User.info.sex});for(var _i=0,portraitSexList_1=portraitSexList;_i<portraitSexList_1.length;_i++){var portrait=portraitSexList_1[_i];if(portrait.unlock.itemId==0&&portrait.unlock.itemNum==0){return portrait.id==portraitId}}return false};AvatarIconItem.prototype.showLock=function(){this.m_btn_choose.visible=false;this.m_g_lock.visible=true;var costItem=Game.moduleModel.item.getItem(this.cfg.unlock.itemId);this.m_btn_itemBuy.getChild("itemIcon").url=costItem.itemIconUrl;this.m_btn_itemBuy.getChild("itemCount").text=this.cfg.unlock.itemNum.toString()};return AvatarIconItem}(PlayerInfo.AvatarIconItemStruct));PlayerInfo.AvatarIconItem=AvatarIconItem})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var BarSquareStruct=(function(_super){__extends(BarSquareStruct,_super);function BarSquareStruct(){return _super.call(this)||this}BarSquareStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","BarSquare"))};BarSquareStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BarSquareStruct.URL="ui://tderqmz5dyfe3";BarSquareStruct.DependPackages=["PlayerInfo","Common"];return BarSquareStruct}(fairygui.GComponent));PlayerInfo.BarSquareStruct=BarSquareStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var BarSquare=(function(_super){__extends(BarSquare,_super);function BarSquare(){return _super!==null&&_super.apply(this,arguments)||this}return BarSquare}(PlayerInfo.BarSquareStruct));PlayerInfo.BarSquare=BarSquare})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_buyStruct=(function(_super){__extends(Btn_buyStruct,_super);function Btn_buyStruct(){return _super.call(this)||this}Btn_buyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_buy"))};Btn_buyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_btnName=(this.getChild("btnName"))};Btn_buyStruct.URL="ui://tderqmz5o11z1j";Btn_buyStruct.DependPackages=["PlayerInfo","Common"];return Btn_buyStruct}(fairygui.GButton));PlayerInfo.Btn_buyStruct=Btn_buyStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_buy=(function(_super){__extends(Btn_buy,_super);function Btn_buy(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_buy}(PlayerInfo.Btn_buyStruct));PlayerInfo.Btn_buy=Btn_buy})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_chooseStruct=(function(_super){__extends(Btn_chooseStruct,_super);function Btn_chooseStruct(){return _super.call(this)||this}Btn_chooseStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_choose"))};Btn_chooseStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};Btn_chooseStruct.URL="ui://tderqmz5o11z1n";Btn_chooseStruct.DependPackages=["PlayerInfo","Common"];return Btn_chooseStruct}(fairygui.GButton));PlayerInfo.Btn_chooseStruct=Btn_chooseStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_choose=(function(_super){__extends(Btn_choose,_super);function Btn_choose(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_choose}(PlayerInfo.Btn_chooseStruct));PlayerInfo.Btn_choose=Btn_choose})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_editor_descStruct=(function(_super){__extends(Btn_editor_descStruct,_super);function Btn_editor_descStruct(){return _super.call(this)||this}Btn_editor_descStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_editor_desc"))};Btn_editor_descStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_editor_descStruct.URL="ui://tderqmz5dyfef";Btn_editor_descStruct.DependPackages=["PlayerInfo","Common"];return Btn_editor_descStruct}(fairygui.GButton));PlayerInfo.Btn_editor_descStruct=Btn_editor_descStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_editor_desc=(function(_super){__extends(Btn_editor_desc,_super);function Btn_editor_desc(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_editor_desc}(PlayerInfo.Btn_editor_descStruct));PlayerInfo.Btn_editor_desc=Btn_editor_desc})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_editor_nameStruct=(function(_super){__extends(Btn_editor_nameStruct,_super);function Btn_editor_nameStruct(){return _super.call(this)||this}Btn_editor_nameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_editor_name"))};Btn_editor_nameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_editor_nameStruct.URL="ui://tderqmz5dyfeg";Btn_editor_nameStruct.DependPackages=["PlayerInfo","Common"];return Btn_editor_nameStruct}(fairygui.GButton));PlayerInfo.Btn_editor_nameStruct=Btn_editor_nameStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_editor_name=(function(_super){__extends(Btn_editor_name,_super);function Btn_editor_name(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_editor_name}(PlayerInfo.Btn_editor_nameStruct));PlayerInfo.Btn_editor_name=Btn_editor_name})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_renameStruct=(function(_super){__extends(Btn_renameStruct,_super);function Btn_renameStruct(){return _super.call(this)||this}Btn_renameStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_rename"))};Btn_renameStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_btnName=(this.getChild("btnName"));this.m_itemIcon=(this.getChild("itemIcon"));this.m_itemCount=(this.getChild("itemCount"))};Btn_renameStruct.URL="ui://tderqmz5o11z1g";Btn_renameStruct.DependPackages=["PlayerInfo","Common"];return Btn_renameStruct}(fairygui.GButton));PlayerInfo.Btn_renameStruct=Btn_renameStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_rename=(function(_super){__extends(Btn_rename,_super);function Btn_rename(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_rename}(PlayerInfo.Btn_renameStruct));PlayerInfo.Btn_rename=Btn_rename})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_topCloseStruct=(function(_super){__extends(Btn_topCloseStruct,_super);function Btn_topCloseStruct(){return _super.call(this)||this}Btn_topCloseStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","btn_topClose"))};Btn_topCloseStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};Btn_topCloseStruct.URL="ui://tderqmz5dyfej";Btn_topCloseStruct.DependPackages=["PlayerInfo","Common"];return Btn_topCloseStruct}(fairygui.GButton));PlayerInfo.Btn_topCloseStruct=Btn_topCloseStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Btn_topClose=(function(_super){__extends(Btn_topClose,_super);function Btn_topClose(){return _super!==null&&_super.apply(this,arguments)||this}return Btn_topClose}(PlayerInfo.Btn_topCloseStruct));PlayerInfo.Btn_topClose=Btn_topClose})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ChooseAvatarStruct=(function(_super){__extends(ChooseAvatarStruct,_super);function ChooseAvatarStruct(){return _super.call(this)||this}ChooseAvatarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","ChooseAvatar"))};ChooseAvatarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_titleName=(this.getChild("titleName"));this.m_avatarList=(this.getChild("avatarList"));this.m_btn_close=(this.getChild("btn_close"))};ChooseAvatarStruct.URL="ui://tderqmz5o11z1l";ChooseAvatarStruct.DependPackages=["PlayerInfo","Common"];return ChooseAvatarStruct}(fairygui.GComponent));PlayerInfo.ChooseAvatarStruct=ChooseAvatarStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ChooseAvatar=(function(_super){__extends(ChooseAvatar,_super);function ChooseAvatar(){return _super!==null&&_super.apply(this,arguments)||this}ChooseAvatar.prototype.showForParent=function(parent){parent.addChild(this);Game.protoOkEvent.add(ProtoEventKey.GameData_RePortraitGameData,this.onServerChangeHeadAvatar,this)};ChooseAvatar.prototype.setInfo=function(){var _this=this;this.avatarList=this.GetAvatarList();this.avatarList.sort(function(A,B){var isGetPortraitA=_this.isGetPortrait(A.id);var isGetPortraitB=_this.isGetPortrait(B.id);if(isGetPortraitA&&!isGetPortraitB){return -1}if(!isGetPortraitA&&isGetPortraitB){return 1}return 0});this.updateList();this.m_btn_close.onClick(this,this.onClose)};ChooseAvatar.prototype.updateList=function(){this.m_avatarList.removeChildrenToPool();for(var _i=0,_a=this.avatarList;_i<_a.length;_i++){var avatarCfg=_a[_i];var avatarIconItem=this.m_avatarList.addItemFromPool();avatarIconItem.setInfo(avatarCfg);avatarIconItem.m_btn_choose.onClick(this,this.onPortraitSelect,[avatarCfg.id]);avatarIconItem.m_btn_itemBuy.onClick(this,this.onPortraitUnlock,[avatarCfg.id]);this.m_avatarList.addChild(avatarIconItem)}};ChooseAvatar.prototype.isGetPortrait=function(portraitId){if(this.isDefaultPortrait(portraitId)){return true}return User.infoExt.portraitList.indexOf(portraitId)!=-1};ChooseAvatar.prototype.isDefaultPortrait=function(portraitId){var portraitCfgList=Game.config.headPortrait.getConfigList();var portraitSexList=portraitCfgList.filter(function(value,index,array){return value.sex==User.info.sex});for(var _i=0,portraitSexList_1=portraitSexList;_i<portraitSexList_1.length;_i++){var portrait=portraitSexList_1[_i];if(portrait.unlock.itemId==0&&portrait.unlock.itemNum==0){return portrait.id==portraitId}}return false};ChooseAvatar.prototype.onPortraitSelect=function(portraitId){Game.moduleModel.playerInfo.portraitType=Games.PortraitType.Dress;Game.moduleModel.playerInfo.portraitId=portraitId;Game.protosender.GameData.RePortraitGameData(Games.PortraitType.Dress,portraitId);this.onClose()};ChooseAvatar.prototype.onPortraitUnlock=function(portraitId){var itemCfg=Game.config.headPortrait.getConfig(portraitId);var itemCostCfg=Game.config.item.getConfig(itemCfg.unlock.itemId);var ownerItemNum=Game.moduleModel.item.getItemNum(itemCfg.unlock.itemId);if(ownerItemNum<itemCfg.unlock.itemNum){var msg=Game.config.msg.getTxtFormat(MsgKey.build_non_material,itemCostCfg.name);Game.system.toastText(msg)}else{Game.moduleModel.playerInfo.portraitType=Games.PortraitType.Buy;Game.moduleModel.playerInfo.portraitId=portraitId;Game.protosender.GameData.RePortraitGameData(Games.PortraitType.Buy,portraitId)}};ChooseAvatar.prototype.GetAvatarList=function(){var i=User.info;var headPortrait=Game.config.headPortrait.getConfigList();return headPortrait.filter(function(value,index,array){return value.sex==User.info.sex})};ChooseAvatar.prototype.onServerChangeHeadAvatar=function(proto){if(proto.result==0){if(Game.moduleModel.playerInfo.portraitType==Games.PortraitType.Buy){this.updateList()}}};ChooseAvatar.prototype.onClose=function(){Game.protoOkEvent.remove(ProtoEventKey.GameData_RePortraitGameData,this.onServerChangeHeadAvatar,this);this.parent.removeChild(this)};return ChooseAvatar}(PlayerInfo.ChooseAvatarStruct));PlayerInfo.ChooseAvatar=ChooseAvatar})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HeadCircleIconStruct=(function(_super){__extends(HeadCircleIconStruct,_super);function HeadCircleIconStruct(){return _super.call(this)||this}HeadCircleIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","HeadCircleIcon"))};HeadCircleIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_headIcon=(this.getChild("headIcon"));this.m_headCircleIconMask=(this.getChild("headCircleIconMask"))};HeadCircleIconStruct.URL="ui://tderqmz5gy5h21";HeadCircleIconStruct.DependPackages=["PlayerInfo"];return HeadCircleIconStruct}(fairygui.GComponent));PlayerInfo.HeadCircleIconStruct=HeadCircleIconStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HeadCircleIcon=(function(_super){__extends(HeadCircleIcon,_super);function HeadCircleIcon(){return _super!==null&&_super.apply(this,arguments)||this}return HeadCircleIcon}(PlayerInfo.HeadCircleIconStruct));PlayerInfo.HeadCircleIcon=HeadCircleIcon})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HomeRankItemStruct=(function(_super){__extends(HomeRankItemStruct,_super);function HomeRankItemStruct(){return _super.call(this)||this}HomeRankItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","HomeRankItem"))};HomeRankItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_iconLoader=(this.getChild("iconLoader"));this.m_title=(this.getChild("title"));this.m_nameTitle=(this.getChild("nameTitle"));this.m_value=(this.getChild("value"))};HomeRankItemStruct.URL="ui://tderqmz5xw64u";HomeRankItemStruct.DependPackages=["PlayerInfo","Common"];return HomeRankItemStruct}(fairygui.GComponent));PlayerInfo.HomeRankItemStruct=HomeRankItemStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HomeRankItem=(function(_super){__extends(HomeRankItem,_super);function HomeRankItem(){return _super!==null&&_super.apply(this,arguments)||this}HomeRankItem.prototype.setInfo=function(info){this.m_title.text=info.title;if(info.value===undefined){this.m_value.text=""}else{if(isNumber(info.value)){this.m_value.text=formatNumberUnit(info.value)}else{this.m_value.text=info.value.toString()}}if(info.nameTitle){this.m_nameTitle.text=info.nameTitle.toString()}else{this.m_nameTitle.text=""}if(info.iconId&&info.iconId>0){this.m_iconLoader.url=Game.config.avatar.GetIconUrl(info.iconId);this.m_iconLoader.width=73}else{this.m_iconLoader.url="";this.m_iconLoader.width=0}};return HomeRankItem}(PlayerInfo.HomeRankItemStruct));PlayerInfo.HomeRankItem=HomeRankItem})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HomeRankTopStruct=(function(_super){__extends(HomeRankTopStruct,_super);function HomeRankTopStruct(){return _super.call(this)||this}HomeRankTopStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","HomeRankTop"))};HomeRankTopStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_stLevel=(this.getChild("stLevel"));this.m_stRankKey=(this.getChild("stRankKey"));this.m_stRankValue=(this.getChild("stRankValue"));this.m_companyKey=(this.getChild("companyKey"));this.m_companyValue=(this.getChild("companyValue"))};HomeRankTopStruct.URL="ui://tderqmz5xw64t";HomeRankTopStruct.DependPackages=["PlayerInfo","Common"];return HomeRankTopStruct}(fairygui.GComponent));PlayerInfo.HomeRankTopStruct=HomeRankTopStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var HomeRankTop=(function(_super){__extends(HomeRankTop,_super);function HomeRankTop(){return _super!==null&&_super.apply(this,arguments)||this}return HomeRankTop}(PlayerInfo.HomeRankTopStruct));PlayerInfo.HomeRankTop=HomeRankTop})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ItemBuyStruct=(function(_super){__extends(ItemBuyStruct,_super);function ItemBuyStruct(){return _super.call(this)||this}ItemBuyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","ItemBuy"))};ItemBuyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_titleName=(this.getChild("titleName"));this.m_lbl=(this.getChild("lbl"));this.m_itemIcon=(this.getChild("itemIcon"));this.m_btn_close=(this.getChild("btn_close"))};ItemBuyStruct.URL="ui://tderqmz5o11z1i";ItemBuyStruct.DependPackages=["PlayerInfo","Common"];return ItemBuyStruct}(fairygui.GComponent));PlayerInfo.ItemBuyStruct=ItemBuyStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ItemBuy=(function(_super){__extends(ItemBuy,_super);function ItemBuy(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.ITEM_RENAME_ID=5008;return _this}ItemBuy.prototype.showForParent=function(parent){var _this=this;parent.addChild(this);var item=Game.moduleModel.item.getItem(this.ITEM_RENAME_ID);this.m_itemIcon.url=item.itemIconUrl;this.m_btn_close.onClick(this,function(){_this.parent.removeChild(_this)})};return ItemBuy}(PlayerInfo.ItemBuyStruct));PlayerInfo.ItemBuy=ItemBuy})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var MainStruct=(function(_super){__extends(MainStruct,_super);function MainStruct(){return _super.call(this)||this}MainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","Main"))};MainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rankList=(this.getChild("rankList"));this.m_underLine=(this.getChild("underLine"));this.m_PersonInfo=(this.getChild("PersonInfo"));this.m_topAssetList=(this.getChild("topAssetList"));this.m_tabPanel=(this.getChild("tabPanel"));this.m_homeRankTop=(this.getChild("homeRankTop"))};MainStruct.URL="ui://tderqmz5dyfe6";MainStruct.DependPackages=["PlayerInfo","Common"];return MainStruct}(fairygui.GComponent));PlayerInfo.MainStruct=MainStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var Event=laya.events.Event;var Main=(function(_super){__extends(Main,_super);function Main(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.ITEM_RENAME_ID=5008;_this.tabNameList=[Games.TEXT.PlayerInfoTab0,Games.TEXT.PlayerInfoTab1,Games.TEXT.PlayerInfoTab2,Games.TEXT.PlayerInfoTab3,Games.TEXT.PlayerInfoTab4];return _this}Main.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.init()};Main.prototype.onWindowShowCall=function(){this.setTopAsset();this.setPersonInfo();this.openTab(0);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateAssets,this);Game.protoOkEvent.add(ProtoEventKey.GameInfo,this.updateAssets,this);Game.protoOkEvent.add(ProtoEventKey.GameData_RenameGameData,this.onServerRename,this);Game.protoOkEvent.add(ProtoEventKey.GameData_RePerSignatureGameData,this.onServerRenameSignature,this);Game.protoOkEvent.add(ProtoEventKey.GameData_RePortraitGameData,this.onServerChangeHeadAvatar,this)};Main.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateAssets,this);Game.protoOkEvent.remove(ProtoEventKey.GameInfo,this.updateAssets,this);Game.protoOkEvent.remove(ProtoEventKey.GameData_RenameGameData,this.onServerRename,this);Game.protoOkEvent.remove(ProtoEventKey.GameData_RePerSignatureGameData,this.onServerRenameSignature,this);Game.protoOkEvent.remove(ProtoEventKey.GameData_RePortraitGameData,this.onServerChangeHeadAvatar,this)};Main.prototype.updateAssets=function(){this.setTopAsset();this.setPersonInfo()};Main.prototype.onServerChangeHeadAvatar=function(proto){if(proto.result==0){if(Game.moduleModel.playerInfo.portraitType==Games.PortraitType.Dress){User.info.portrait=Game.moduleModel.playerInfo.portraitId;this.updatePortrait()}else{if(Game.moduleModel.playerInfo.portraitType==Games.PortraitType.Buy){this.setTopAsset()}}}};Main.prototype.onServerRename=function(proto){if(proto.result==0){User.info.name=Game.moduleModel.playerInfo.playerName;this.m_PersonInfo.m_headName.text=User.info.name}};Main.prototype.onServerRenameSignature=function(proto){if(proto.result==0){Game.moduleModel.playerInfo.lastTimeRenameSignature=Game.time.serverSeconds;this.m_PersonInfo.m_btn_touch_desc.visible=true;this.m_PersonInfo.m_self_introduction.visible=true;this.m_PersonInfo.m_self_introduction_input.visible=false;User.infoExt.perSignature=Game.moduleModel.playerInfo.playerSign;this.m_PersonInfo.m_self_introduction.text=User.infoExt.perSignature;if(User.infoExt.perSignature==""){this.m_PersonInfo.m_self_introduction.text="Edit Self-Introduction"}}};Main.prototype.updatePortrait=function(){var portraitId=User.info.portrait;if(portraitId==0){portraitId=this.getDefaultPortrait()}var portraitCfg=Game.config.headPortrait.getConfig(portraitId);if(portraitCfg){portraitId=portraitCfg.icon;var avatarConfig=Game.config.avatar.getConfig(portraitCfg.icon);if(avatarConfig){this.m_PersonInfo.m_headCircleIcon.m_headIcon.url=avatarConfig.iconUrl}}};Main.prototype.getDefaultPortrait=function(){var portraitCfgList=Game.config.headPortrait.getConfigList();var portraitSexList=portraitCfgList.filter(function(value,index,array){return value.sex==User.info.sex});for(var _i=0,portraitSexList_1=portraitSexList;_i<portraitSexList_1.length;_i++){var portrait=portraitSexList_1[_i];if(portrait.unlock.itemId==0&&portrait.unlock.itemNum==0){return portrait.id}}return 0};Main.prototype.init=function(){var index=0;for(var _i=0,_a=this.tabNameList;_i<_a.length;_i++){var tabName=_a[_i];index++;var tab=this.m_tabPanel.getChild("tab"+index);var txtTitle=tab.getChild("title");var txtSelectTitle=tab.getChild("select_title");txtTitle.y+=12;txtSelectTitle.y+=12;txtTitle.text=tabName;txtSelectTitle.text=tabName;tab.onClick(this,this.onTabChange)}this.recordRankListPosition();this.m_topAssetList.m_btn_topClose.onClick(this,this.onCloseWindow)};Main.prototype.setTopAsset=function(){this.m_topAssetList.m_assetList.removeChildrenToPool();var assetItem=this.m_topAssetList.m_assetList.addItemFromPool();assetItem.setAsset(Games.AssetType.Diamond);this.m_topAssetList.m_assetList.addChild(assetItem);assetItem=this.m_topAssetList.m_assetList.addItemFromPool();assetItem.setAsset(Games.AssetType.Thumb);this.m_topAssetList.m_assetList.addChild(assetItem);assetItem=this.m_topAssetList.m_assetList.addItemFromPool();assetItem.setAsset(Games.AssetType.Gold);this.m_topAssetList.m_assetList.addChild(assetItem);assetItem=this.m_topAssetList.m_assetList.addItemFromPool();assetItem.setAsset(Games.AssetType.Dollar);this.m_topAssetList.m_assetList.addChild(assetItem)};Main.prototype.setPersonInfo=function(){this.updatePortrait();this.m_PersonInfo.m_headName.text=User.info.name;this.m_PersonInfo.m_level.text="LV."+User.info.level;this.m_PersonInfo.m_self_introduction_input.input.maxChars=100;this.m_PersonInfo.m_self_introduction.text=User.infoExt.perSignature;this.m_PersonInfo.m_self_introduction_input.input.on(Event.BLUR,this,this.onSignatureInputBlur);if(User.infoExt.perSignature==""){this.m_PersonInfo.m_self_introduction.text="Edit Self-Introduction"}var prevExp=0;for(var i=0;i<User.info.level;i++){var cfg=Game.config.playerLevel.getConfig(i);if(cfg!=null){prevExp+=cfg.fans}}var a=User.info;var curExp=Math.round(User.info.fans);var upgradeExp=Game.config.playerLevel.getConfig(User.info.level).fans;this.m_PersonInfo.m_progressBarText.text=curExp+"/"+upgradeExp;this.m_PersonInfo.m_progressBar.value=((curExp*100)/upgradeExp);this.m_PersonInfo.m_headCircleIcon.m_headIcon.onClick(this,this.onChooseAvatarClick);this.m_PersonInfo.m_btn_editor_name.onClick(this,this.onEditorNameClick);this.m_PersonInfo.m_btn_editor_desc.onClick(this,this.onEditorSignClick);this.m_PersonInfo.m_btn_touch_desc.onClick(this,this.onEditorSignClick)};Main.prototype.recordRankListPosition=function(){this.orignalY=this.m_rankList.y;this.orignalHeight=this.m_rankList.height};Main.prototype.onChooseAvatarClick=function(){var chooseAvatar=PlayerInfo.ChooseAvatar.createInstance();chooseAvatar.showForParent(this.parent);chooseAvatar.setInfo()};Main.prototype.onEditorNameClick=function(){Game.sound.playSound(SoundKey.MM02_Popup);if(Game.moduleModel.item.getItemNum(this.ITEM_RENAME_ID)==0){var itemBuy=PlayerInfo.ItemBuy.createInstance();itemBuy.showForParent(this.parent);return}var renameCompany=PlayerInfo.RenameCompany.createInstance();renameCompany.showForParent(this.parent);renameCompany.setInfo()};Main.prototype.onEditorSignClick=function(){if(!Game.moduleModel.playerInfo.checkRenameSignatureTime()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_often));return}this.m_PersonInfo.m_btn_touch_desc.visible=false;this.m_PersonInfo.m_self_introduction.visible=false;var editorName=this.m_PersonInfo.m_self_introduction.text;this.m_PersonInfo.m_self_introduction_input.text=editorName;this.m_PersonInfo.m_self_introduction_input.visible=true;this.m_PersonInfo.m_self_introduction_input.input.focus=true;if(User.infoExt.perSignature==""){this.m_PersonInfo.m_self_introduction_input.text=""}};Main.prototype.onSignatureInputBlur=function(){var editorName=this.m_PersonInfo.m_self_introduction_input.text;if(this.checkRenameSignature(editorName)){Game.moduleModel.playerInfo.playerSign=editorName;Game.protosender.GameData.RePerSignatureGameData(editorName)}else{this.m_PersonInfo.m_btn_touch_desc.visible=true;this.m_PersonInfo.m_self_introduction.visible=true;this.m_PersonInfo.m_self_introduction_input.visible=false}};Main.prototype.checkRenameSignature=function(name){var oldName=this.m_PersonInfo.m_self_introduction.text;if(name==oldName){return false}if(!validateBlockWords(name,true)){return false}return true};Main.prototype.onTabChange=function(){this.showContent(this.tabIndex-1)};Main.prototype.openTab=function(index){this.showContent(index);this.tabIndex=index+1};Main.prototype.showContent=function(tab){this.m_rankList.removeChildrenToPool();this.m_underLine.visible=(tab==0);switch(tab){case 0:this.showTabHome();break;case 1:this.showTabCareer();break;case 2:this.showTabTrophy();break;case 3:this.showTabFilms();break;case 4:this.showTabActors();break}};Object.defineProperty(Main.prototype,"tabIndex",{get:function(){return this.m_tabPanel.m_tabctrl.selectedIndex+1},set:function(value){this.m_tabPanel.m_tabctrl.setSelectedIndex(value-1)},enumerable:true,configurable:true});Main.prototype.showTabHome=function(){var blockCfg=Game.config.blockLevel.getConfig(User.info.stall);this.m_homeRankTop.m_stLevel.text="ST."+User.info.stall%1000;this.m_homeRankTop.m_stRankValue.text=blockCfg.name;this.m_homeRankTop.m_companyValue.text=formatNumberUnit(2546789);this.m_homeRankTop.visible=true;this.m_rankList.y=this.orignalY;this.m_rankList.height=this.orignalHeight;var rankInfoList=[];var info={title:Games.TEXT.PlayerInfoTabHome_Rank0,value:User.info.extendFloor,nameTitle:null,iconId:5041};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabHome_Rank1,value:Game.moduleModel.actor.getAllActorLen(),nameTitle:null,iconId:5011};rankInfoList.push(info);var maxMarket=Game.moduleModel.market.GetMaxCity();var kvalue="0";if(maxMarket){kvalue=maxMarket.num+"."+maxMarket.name}info={title:Games.TEXT.PlayerInfoTabHome_Rank3,value:kvalue,nameTitle:null,iconId:5008};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabHome_Rank5,value:Game.moduleModel.bag.GetBagVolume(),nameTitle:null,iconId:5001};rankInfoList.push(info);for(var _i=0,rankInfoList_1=rankInfoList;_i<rankInfoList_1.length;_i++){var rankInfo=rankInfoList_1[_i];var rankItem=this.m_rankList.addItemFromPool();rankItem.setInfo(rankInfo);this.m_rankList.addChild(rankItem)}};Main.prototype.showTabCareer=function(){this.rePosRankList();var rankInfoList=[];var info={title:Games.TEXT.PlayerInfoTabCareer_Rank0,value:User.infoExt.totalFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank1,value:User.infoExt.totalFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank2,value:User.infoExt.numBoxOffice};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank3,value:User.infoExt.numOrders};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank4,value:User.infoExt.numProductionLine};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank5,value:User.infoExt.numOfficialBusiness};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank6,value:User.infoExt.numMeeting};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank7,value:User.infoExt.numVisit};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabCareer_Rank8,value:User.infoExt.numGroupBest};rankInfoList.push(info);for(var _i=0,rankInfoList_2=rankInfoList;_i<rankInfoList_2.length;_i++){var rankInfo=rankInfoList_2[_i];var rankItem=this.m_rankList.addItemFromPool();rankItem.setInfo(rankInfo);this.m_rankList.addChild(rankItem)}};Main.prototype.showTabTrophy=function(){this.rePosRankList();var rankInfoList=[];var info;if(User.info.sex==EUserSex.boy){info={title:Games.TEXT.PlayerInfoTabTrophy_Rank00,value:Game.moduleModel.actor.bestActorCupCount};rankInfoList.push(info)}else{info={title:Games.TEXT.PlayerInfoTabTrophy_Rank11,value:Game.moduleModel.actor.bestActorCupCount};rankInfoList.push(info)}info={title:Games.TEXT.PlayerInfoTabTrophy_Rank22,value:User.infoExt.numBestPerformer};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank3,value:User.infoExt.numBestArtDirection};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank4,value:User.infoExt.numBestPublicPraise};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank5,value:0};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank6,value:0};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank7,value:0};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabTrophy_Rank8,value:0};rankInfoList.push(info);for(var _i=0,rankInfoList_3=rankInfoList;_i<rankInfoList_3.length;_i++){var rankInfo=rankInfoList_3[_i];if(rankInfo.value==0||rankInfo.value==null){continue}var rankItem=this.m_rankList.addItemFromPool();rankItem.setInfo(rankInfo);this.m_rankList.addChild(rankItem)}};Main.prototype.showTabFilms=function(){this.rePosRankList();var rankInfoList=[];var info={title:Games.TEXT.PlayerInfoTabFilm_Rank0,value:User.infoExt.bestWordOfMouth,nameTitle:User.infoExt.bestWordOfMouthFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank1,value:User.infoExt.bestBoxOffice,nameTitle:User.infoExt.bestBoxOfficeFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank2,value:User.infoExt.numHorrorFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank3,value:User.infoExt.numSuspense};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank4,value:User.infoExt.numMusicalFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank5,value:User.infoExt.numComedyFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank6,value:User.infoExt.numCartoonFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank7,value:User.infoExt.numNarrativeFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank8,value:User.infoExt.numAffectionalFilm};rankInfoList.push(info);info={title:Games.TEXT.PlayerInfoTabFilm_Rank9,value:User.infoExt.numActionFilm};rankInfoList.push(info);for(var _i=0,rankInfoList_4=rankInfoList;_i<rankInfoList_4.length;_i++){var rankInfo=rankInfoList_4[_i];if(rankInfo.value==null){continue}var rankItem=this.m_rankList.addItemFromPool();rankItem.setInfo(rankInfo);this.m_rankList.addChild(rankItem)}};Main.prototype.showTabActors=function(){this.rePosRankList();var rankInfoList=[];var info;var topBoxOfficeActor=Game.moduleModel.actor.getTopBoxOfficeCount;if(topBoxOfficeActor){info={title:Games.TEXT.PlayerInfoTabActor_Rank0,value:formatNumberUnit(topBoxOfficeActor.boxOfficeCount),nameTitle:topBoxOfficeActor.name};rankInfoList.push(info)}var topCupCountActor=Game.moduleModel.actor.getTopCupCount;if(topCupCountActor){var valueText=format(TEXT.PlayerInfoTabActor_Rank1Value,topCupCountActor.cupCount);info={title:Games.TEXT.PlayerInfoTabActor_Rank1,value:valueText,nameTitle:topCupCountActor.name};rankInfoList.push(info)}var topMovieCountActor=Game.moduleModel.actor.getTopMovieCount;if(topMovieCountActor){var valueText=format(TEXT.PlayerInfoTabActor_Rank2Value,topMovieCountActor.movieCount);info={title:Games.TEXT.PlayerInfoTabActor_Rank2,value:valueText,nameTitle:topMovieCountActor.name};rankInfoList.push(info)}var topGiveAssetListCountActor=Game.moduleModel.actor.getTopGiveAssetListCount;if(topGiveAssetListCountActor){var totalCount=0;for(var _i=0,_a=topGiveAssetListCountActor.giveAssetsList;_i<_a.length;_i++){var giveAsset=_a[_i];for(var _b=0,_c=giveAsset.giveItemList;_b<_c.length;_b++){var item=_c[_b];totalCount+=item.amount}}var valueText=format(TEXT.PlayerInfoTabActor_Rank3Value,totalCount);info={title:Games.TEXT.PlayerInfoTabActor_Rank3,value:valueText,nameTitle:topGiveAssetListCountActor.name};rankInfoList.push(info)}var topCultivateCountActor=Game.moduleModel.actor.getTopCultivateCount;if(topCultivateCountActor){var valueText=format(TEXT.PlayerInfoTabActor_Rank4Value,topCultivateCountActor.cultivateCount);info={title:Games.TEXT.PlayerInfoTabActor_Rank4,value:valueText,nameTitle:topGiveAssetListCountActor.name};rankInfoList.push(info)}var topSkillLevelActor=Game.moduleModel.actor.getTopSkillLevel;if(topSkillLevelActor){var totalSkillLevel=0;for(var _d=0,_e=topSkillLevelActor.skillList;_d<_e.length;_d++){var skillInfo=_e[_d];var skillCfg=Game.config.skill.getConfig(skillInfo.skillId);totalSkillLevel+=skillCfg.lv}var valueText=format(TEXT.PlayerInfoTabActor_Rank5Value,totalSkillLevel);info={title:Games.TEXT.PlayerInfoTabActor_Rank5,value:valueText,nameTitle:topSkillLevelActor.name};rankInfoList.push(info)}for(var _f=0,rankInfoList_5=rankInfoList;_f<rankInfoList_5.length;_f++){var rankInfo=rankInfoList_5[_f];var rankItem=this.m_rankList.addItemFromPool();rankItem.setInfo(rankInfo);this.m_rankList.addChild(rankItem)}};Main.prototype.rePosRankList=function(){this.m_homeRankTop.visible=false;this.m_rankList.y=this.orignalY-100;this.m_rankList.height=this.orignalHeight+100};Main.prototype.onCloseWindow=function(){Game.menu.close(MenuId.PlayerInfo)};Main.DependPackages=["PlayerInfo","Common"];return Main}(PlayerInfo.MainStruct));PlayerInfo.Main=Main})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PersonInfoStruct=(function(_super){__extends(PersonInfoStruct,_super);function PersonInfoStruct(){return _super.call(this)||this}PersonInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","PersonInfo"))};PersonInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_progressBarText=(this.getChild("progressBarText"));this.m_headName=(this.getChild("headName"));this.m_level=(this.getChild("level"));this.m_star_percent=(this.getChild("star_percent"));this.m_star_lv=(this.getChild("star_lv"));this.m_self_introduction_input=(this.getChild("self_introduction_input"));this.m_self_introduction=(this.getChild("self_introduction"));this.m_btn_touch_desc=(this.getChild("btn_touch_desc"));this.m_progressBar=(this.getChild("progressBar"));this.m_headCircleIcon=(this.getChild("headCircleIcon"));this.m_btn_editor_desc=(this.getChild("btn_editor_desc"));this.m_btn_editor_name=(this.getChild("btn_editor_name"))};PersonInfoStruct.URL="ui://tderqmz5dyfeh";PersonInfoStruct.DependPackages=["PlayerInfo","Common"];return PersonInfoStruct}(fairygui.GComponent));PlayerInfo.PersonInfoStruct=PersonInfoStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PersonInfo=(function(_super){__extends(PersonInfo,_super);function PersonInfo(){return _super!==null&&_super.apply(this,arguments)||this}return PersonInfo}(PlayerInfo.PersonInfoStruct));PlayerInfo.PersonInfo=PersonInfo})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerInfoAwardItemStruct=(function(_super){__extends(PlayerInfoAwardItemStruct,_super);function PlayerInfoAwardItemStruct(){return _super.call(this)||this}PlayerInfoAwardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","PlayerInfoAwardItem"))};PlayerInfoAwardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_frame=(this.getChild("frame"));this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"))};PlayerInfoAwardItemStruct.URL="ui://tderqmz5mk9y1t";PlayerInfoAwardItemStruct.DependPackages=["PlayerInfo","Common"];return PlayerInfoAwardItemStruct}(fairygui.GComponent));PlayerInfo.PlayerInfoAwardItemStruct=PlayerInfoAwardItemStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerInfoAwardItem=(function(_super){__extends(PlayerInfoAwardItem,_super);function PlayerInfoAwardItem(){return _super!==null&&_super.apply(this,arguments)||this}PlayerInfoAwardItem.prototype.setInfo=function(info){this.m_icon.url=ItemHelper.getItemIcon(info.itemId);this.m_num.text=info.itemNumTxt};return PlayerInfoAwardItem}(PlayerInfo.PlayerInfoAwardItemStruct));PlayerInfo.PlayerInfoAwardItem=PlayerInfoAwardItem})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerLevelNumberStruct=(function(_super){__extends(PlayerLevelNumberStruct,_super);function PlayerLevelNumberStruct(){return _super.call(this)||this}PlayerLevelNumberStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","PlayerLevelNumber"))};PlayerLevelNumberStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1")};PlayerLevelNumberStruct.URL="ui://tderqmz5mk9y1s";PlayerLevelNumberStruct.DependPackages=["PlayerInfo"];return PlayerLevelNumberStruct}(fairygui.GComponent));PlayerInfo.PlayerLevelNumberStruct=PlayerLevelNumberStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerLevelNumber=(function(_super){__extends(PlayerLevelNumber,_super);function PlayerLevelNumber(){return _super!==null&&_super.apply(this,arguments)||this}return PlayerLevelNumber}(PlayerInfo.PlayerLevelNumberStruct));PlayerInfo.PlayerLevelNumber=PlayerLevelNumber})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerLevelUpStruct=(function(_super){__extends(PlayerLevelUpStruct,_super);function PlayerLevelUpStruct(){return _super.call(this)||this}PlayerLevelUpStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","PlayerLevelUp"))};PlayerLevelUpStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_processBarIcon=(this.getChild("processBarIcon"));this.m_stroyIcon=(this.getChild("stroyIcon"));this.m_starList=(this.getChild("starList"));this.m_group1=(this.getChild("group1"));this.m_actorNum=(this.getChild("actorNum"));this.m_actorNumUpgrade=(this.getChild("actorNumUpgrade"));this.m_group2=(this.getChild("group2"));this.m_awardList=(this.getChild("awardList"));this.m_levelNumList=(this.getChild("levelNumList"));this.m_infiniten_star=(this.getChild("infiniten_star"));this.m_progressBar=(this.getChild("progressBar"));this.m_btnGetAward=(this.getChild("btnGetAward"));this.m_starboom_use01=(this.getChild("starboom_use01"));this.m_fireworks_level01=(this.getChild("fireworks_level01"));this.m_t0=this.getTransition("t0")};PlayerLevelUpStruct.URL="ui://tderqmz5mk9y1r";PlayerLevelUpStruct.DependPackages=["PlayerInfo","Fx","Common"];return PlayerLevelUpStruct}(fairygui.GComponent));PlayerInfo.PlayerLevelUpStruct=PlayerLevelUpStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerLevelUp=(function(_super){__extends(PlayerLevelUp,_super);function PlayerLevelUp(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.oldLevel=1;_this.nowLevel=1;return _this}PlayerLevelUp.prototype.show=function(oldLevel,nowLevel,stroys){this.oldLevel=oldLevel;this.nowLevel=nowLevel;this.stroys=stroys;Games.MenuLayer.dialog.addChild(this);this.setLevelNum();this.m_btnGetAward.m_title.text=TEXT.PlayerUpgradeGetAward;this.m_btnGetAward.onClick(this,this.onClose)};PlayerLevelUp.prototype.onClose=function(){this.removeFromParent()};PlayerLevelUp.prototype.setLevelNum=function(){var strlevel=this.nowLevel.toString();this.m_levelNumList.removeChildrenToPool();for(var i=0;i<strlevel.length;i++){var n=strlevel.charAt(i);var nItem=this.m_levelNumList.addItemFromPool();nItem.m_c1.selectedIndex=Number(n);this.m_levelNumList.addChild(nItem)}var curExp=User.info.fans;var cfg=Game.config.playerLevel.getConfig(this.nowLevel);var upgradeExp=cfg.fans;this.m_progressBar.value=((curExp*100)/upgradeExp);this.m_group1.visible=false;if(this.stroys.length>0){this.m_group1.visible=true;var stroyId=this.stroys[0];var stroyCfg=Game.config.story.getConfig(stroyId);if(stroyCfg){var avatarCfg=Game.config.avatar.getConfig(stroyCfg.poster_name);this.m_stroyIcon.url=avatarCfg.iconUrl;this.m_starList.removeChildrenToPool();for(var i=0;i<stroyCfg.starNumber;i++){this.m_starList.addItemFromPool()}}}var oldCfg=Game.config.playerLevel.getConfig(this.oldLevel);this.m_actorNum.text=oldCfg.actor_count.toString();this.m_actorNumUpgrade.text=cfg.actor_count.toString();var rewards=oldCfg.reward;this.m_awardList.removeChildrenToPool();for(var _i=0,rewards_1=rewards;_i<rewards_1.length;_i++){var reward=rewards_1[_i];var item=this.m_awardList.addItemFromPool();item.setInfo(reward);this.m_awardList.addChild(item)}};return PlayerLevelUp}(PlayerInfo.PlayerLevelUpStruct));PlayerInfo.PlayerLevelUp=PlayerLevelUp})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerTopAssetStruct=(function(_super){__extends(PlayerTopAssetStruct,_super);function PlayerTopAssetStruct(){return _super.call(this)||this}PlayerTopAssetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","PlayerTopAsset"))};PlayerTopAssetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_assetList=(this.getChild("assetList"));this.m_btn_topClose=(this.getChild("btn_topClose"))};PlayerTopAssetStruct.URL="ui://tderqmz5dyfek";PlayerTopAssetStruct.DependPackages=["PlayerInfo","Common"];return PlayerTopAssetStruct}(fairygui.GComponent));PlayerInfo.PlayerTopAssetStruct=PlayerTopAssetStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var PlayerTopAsset=(function(_super){__extends(PlayerTopAsset,_super);function PlayerTopAsset(){return _super!==null&&_super.apply(this,arguments)||this}return PlayerTopAsset}(PlayerInfo.PlayerTopAssetStruct));PlayerInfo.PlayerTopAsset=PlayerTopAsset})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ProgressRedBarStruct=(function(_super){__extends(ProgressRedBarStruct,_super);function ProgressRedBarStruct(){return _super.call(this)||this}ProgressRedBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","ProgressRedBar"))};ProgressRedBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_top=(this.getChild("top"));this.m_barSquare=(this.getChild("barSquare"))};ProgressRedBarStruct.URL="ui://tderqmz5dyfe0";ProgressRedBarStruct.DependPackages=["PlayerInfo","Common"];return ProgressRedBarStruct}(fairygui.GProgressBar));PlayerInfo.ProgressRedBarStruct=ProgressRedBarStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var ProgressRedBar=(function(_super){__extends(ProgressRedBar,_super);function ProgressRedBar(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressRedBar}(PlayerInfo.ProgressRedBarStruct));PlayerInfo.ProgressRedBar=ProgressRedBar})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var RenameCompanyStruct=(function(_super){__extends(RenameCompanyStruct,_super);function RenameCompanyStruct(){return _super.call(this)||this}RenameCompanyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","RenameCompany"))};RenameCompanyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_titleName=(this.getChild("titleName"));this.m_inputName=(this.getChild("inputName"));this.m_btn_close=(this.getChild("btn_close"));this.m_btn_rename=(this.getChild("btn_rename"));this.m_btn_editor=(this.getChild("btn_editor"))};RenameCompanyStruct.URL="ui://tderqmz5o11z1h";RenameCompanyStruct.DependPackages=["PlayerInfo","Common"];return RenameCompanyStruct}(fairygui.GComponent));PlayerInfo.RenameCompanyStruct=RenameCompanyStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var RenameCompany=(function(_super){__extends(RenameCompany,_super);function RenameCompany(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.ITEM_RENAME_ID=5008;return _this}RenameCompany.prototype.showForParent=function(parent){parent.addChild(this)};RenameCompany.prototype.setInfo=function(){this.m_inputName.input.focus=true;this.m_inputName.text=User.info.name;var item=Game.moduleModel.item.getItem(this.ITEM_RENAME_ID);this.m_btn_rename.m_icon.url=item.itemIconUrl;this.m_btn_rename.m_num.text="1";this.m_btn_rename.m_title.text=TEXT.Rename;this.m_btn_rename.onClick(this,this.onRenameClick);this.m_btn_close.onClick(this,this.onClose)};RenameCompany.prototype.onRenameClick=function(){var newName=this.m_inputName.text;if(this.check()&&newName!=""){Game.moduleModel.playerInfo.playerName=newName;Game.protosender.GameData.RenameGameData(newName);this.onClose()}};RenameCompany.prototype.check=function(){var newName=this.m_inputName.text;if(!validateRoleName(newName)){return false}if(newName==User.info.name){Game.system.toastText(Game.config.msg.getTxt(MsgKey.account_name_repeat));return false}if(Game.moduleModel.item.getItemNum(this.ITEM_RENAME_ID)==0){var itemBuy=PlayerInfo.ItemBuy.createInstance();itemBuy.showForParent(this.parent);return false}return true};RenameCompany.prototype.onClose=function(){this.parent.removeChild(this)};return RenameCompany}(PlayerInfo.RenameCompanyStruct));PlayerInfo.RenameCompany=RenameCompany})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var TabPanelStruct=(function(_super){__extends(TabPanelStruct,_super);function TabPanelStruct(){return _super.call(this)||this}TabPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("PlayerInfo","TabPanel"))};TabPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tabctrl=this.getController("tabctrl");this.m_tab1=(this.getChild("tab1"));this.m_tab2=(this.getChild("tab2"));this.m_tab3=(this.getChild("tab3"));this.m_tab4=(this.getChild("tab4"));this.m_tab5=(this.getChild("tab5"))};TabPanelStruct.URL="ui://tderqmz5dyfeq";TabPanelStruct.DependPackages=["PlayerInfo","Common"];return TabPanelStruct}(fairygui.GComponent));PlayerInfo.TabPanelStruct=TabPanelStruct})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var PlayerInfo;(function(PlayerInfo){var TabPanel=(function(_super){__extends(TabPanel,_super);function TabPanel(){return _super!==null&&_super.apply(this,arguments)||this}return TabPanel}(PlayerInfo.TabPanelStruct));PlayerInfo.TabPanel=TabPanel})(PlayerInfo=fgui.PlayerInfo||(fgui.PlayerInfo={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorAttrItemStruct=(function(_super){__extends(ActorAttrItemStruct,_super);function ActorAttrItemStruct(){return _super.call(this)||this}ActorAttrItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ActorAttrItem"))};ActorAttrItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_attrIcon=(this.getChild("attrIcon"));this.m_attrValue=(this.getChild("attrValue"))};ActorAttrItemStruct.URL="ui://eg7c5x5regep1h";ActorAttrItemStruct.DependPackages=["Produce","Common"];return ActorAttrItemStruct}(fairygui.GComponent));Produce.ActorAttrItemStruct=ActorAttrItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorAttrItem=(function(_super){__extends(ActorAttrItem,_super);function ActorAttrItem(){return _super!==null&&_super.apply(this,arguments)||this}return ActorAttrItem}(Produce.ActorAttrItemStruct));Produce.ActorAttrItem=ActorAttrItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorFilterItemStruct=(function(_super){__extends(ActorFilterItemStruct,_super);function ActorFilterItemStruct(){return _super.call(this)||this}ActorFilterItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ActorFilterItem"))};ActorFilterItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_loader=(this.getChild("loader"))};ActorFilterItemStruct.URL="ui://eg7c5x5rvw1q16";ActorFilterItemStruct.DependPackages=["Produce","Common"];return ActorFilterItemStruct}(fairygui.GComponent));Produce.ActorFilterItemStruct=ActorFilterItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorFilterItem=(function(_super){__extends(ActorFilterItem,_super);function ActorFilterItem(){return _super!==null&&_super.apply(this,arguments)||this}return ActorFilterItem}(Produce.ActorFilterItemStruct));Produce.ActorFilterItem=ActorFilterItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorItemStruct=(function(_super){__extends(ActorItemStruct,_super);function ActorItemStruct(){return _super.call(this)||this}ActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ActorItem"))};ActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_button=this.getController("button");this.m_selectType=this.getController("selectType");this.m_icon=(this.getChild("icon"));this.m_txtLv=(this.getChild("txtLv"));this.m_title=(this.getChild("title"));this.m_busyFlag=(this.getChild("busyFlag"));this.m_starList=(this.getChild("starList"))};ActorItemStruct.URL="ui://eg7c5x5rvw1qw";ActorItemStruct.DependPackages=["Produce","Common"];return ActorItemStruct}(fairygui.GButton));Produce.ActorItemStruct=ActorItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ActorItem=(function(_super){__extends(ActorItem,_super);function ActorItem(){return _super!==null&&_super.apply(this,arguments)||this}ActorItem.prototype.setInfo=function(data){this.data=data;this.m_title.text=data.name;this.m_starList.touchable=false;this.m_starList.removeChildrenToPool();for(var i=0;i<data.star;i++){var star=this.m_starList.addItemFromPool();this.m_starList.addChild(star)}this.m_icon.url=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl};Object.defineProperty(ActorItem.prototype,"isOnProduce",{get:function(){return this._isOnProduce},set:function(val){this._isOnProduce=val;if(val){this.m_state.selectedIndex=1}else{this.m_state.selectedIndex=0}},enumerable:true,configurable:true});return ActorItem}(Produce.ActorItemStruct));Produce.ActorItem=ActorItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnAddStruct=(function(_super){__extends(BtnAddStruct,_super);function BtnAddStruct(){return _super.call(this)||this}BtnAddStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnAdd"))};BtnAddStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnAddStruct.URL="ui://eg7c5x5rfd658";BtnAddStruct.DependPackages=["Produce","Common"];return BtnAddStruct}(fairygui.GButton));Produce.BtnAddStruct=BtnAddStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnAdd=(function(_super){__extends(BtnAdd,_super);function BtnAdd(){return _super!==null&&_super.apply(this,arguments)||this}return BtnAdd}(Produce.BtnAddStruct));Produce.BtnAdd=BtnAdd})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnAssetUnlockStruct=(function(_super){__extends(BtnAssetUnlockStruct,_super);function BtnAssetUnlockStruct(){return _super.call(this)||this}BtnAssetUnlockStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnAssetUnlock"))};BtnAssetUnlockStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_asset=(this.getChild("asset"));this.m_title=(this.getChild("title"))};BtnAssetUnlockStruct.URL="ui://eg7c5x5rfd65i";BtnAssetUnlockStruct.DependPackages=["Produce","Common"];return BtnAssetUnlockStruct}(fairygui.GButton));Produce.BtnAssetUnlockStruct=BtnAssetUnlockStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnAssetUnlock=(function(_super){__extends(BtnAssetUnlock,_super);function BtnAssetUnlock(){return _super!==null&&_super.apply(this,arguments)||this}return BtnAssetUnlock}(Produce.BtnAssetUnlockStruct));Produce.BtnAssetUnlock=BtnAssetUnlock})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnGetAwardStruct=(function(_super){__extends(BtnGetAwardStruct,_super);function BtnGetAwardStruct(){return _super.call(this)||this}BtnGetAwardStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnGetAward"))};BtnGetAwardStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnGetAwardStruct.URL="ui://eg7c5x5rfd65b";BtnGetAwardStruct.DependPackages=["Produce","Common"];return BtnGetAwardStruct}(fairygui.GButton));Produce.BtnGetAwardStruct=BtnGetAwardStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnGetAward=(function(_super){__extends(BtnGetAward,_super);function BtnGetAward(){return _super!==null&&_super.apply(this,arguments)||this}return BtnGetAward}(Produce.BtnGetAwardStruct));Produce.BtnGetAward=BtnGetAward})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnGetAwardAllStruct=(function(_super){__extends(BtnGetAwardAllStruct,_super);function BtnGetAwardAllStruct(){return _super.call(this)||this}BtnGetAwardAllStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnGetAwardAll"))};BtnGetAwardAllStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnGetAwardAllStruct.URL="ui://eg7c5x5rt2271e";BtnGetAwardAllStruct.DependPackages=["Produce","Common"];return BtnGetAwardAllStruct}(fairygui.GButton));Produce.BtnGetAwardAllStruct=BtnGetAwardAllStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnGetAwardAll=(function(_super){__extends(BtnGetAwardAll,_super);function BtnGetAwardAll(){return _super!==null&&_super.apply(this,arguments)||this}return BtnGetAwardAll}(Produce.BtnGetAwardAllStruct));Produce.BtnGetAwardAll=BtnGetAwardAll})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnOffActorStruct=(function(_super){__extends(BtnOffActorStruct,_super);function BtnOffActorStruct(){return _super.call(this)||this}BtnOffActorStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnOffActor"))};BtnOffActorStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};BtnOffActorStruct.URL="ui://eg7c5x5regep1i";BtnOffActorStruct.DependPackages=["Produce"];return BtnOffActorStruct}(fairygui.GButton));Produce.BtnOffActorStruct=BtnOffActorStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnOffActor=(function(_super){__extends(BtnOffActor,_super);function BtnOffActor(){return _super!==null&&_super.apply(this,arguments)||this}return BtnOffActor}(Produce.BtnOffActorStruct));Produce.BtnOffActor=BtnOffActor})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnProduceStruct=(function(_super){__extends(BtnProduceStruct,_super);function BtnProduceStruct(){return _super.call(this)||this}BtnProduceStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnProduce"))};BtnProduceStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_num=(this.getChild("num"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};BtnProduceStruct.URL="ui://eg7c5x5rfd65c";BtnProduceStruct.DependPackages=["Produce","Common"];return BtnProduceStruct}(fairygui.GButton));Produce.BtnProduceStruct=BtnProduceStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnProduce=(function(_super){__extends(BtnProduce,_super);function BtnProduce(){return _super!==null&&_super.apply(this,arguments)||this}return BtnProduce}(Produce.BtnProduceStruct));Produce.BtnProduce=BtnProduce})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnProduceAllStruct=(function(_super){__extends(BtnProduceAllStruct,_super);function BtnProduceAllStruct(){return _super.call(this)||this}BtnProduceAllStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnProduceAll"))};BtnProduceAllStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};BtnProduceAllStruct.URL="ui://eg7c5x5rt2271d";BtnProduceAllStruct.DependPackages=["Produce","Common"];return BtnProduceAllStruct}(fairygui.GButton));Produce.BtnProduceAllStruct=BtnProduceAllStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnProduceAll=(function(_super){__extends(BtnProduceAll,_super);function BtnProduceAll(){return _super!==null&&_super.apply(this,arguments)||this}return BtnProduceAll}(Produce.BtnProduceAllStruct));Produce.BtnProduceAll=BtnProduceAll})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnTimerEndStruct=(function(_super){__extends(BtnTimerEndStruct,_super);function BtnTimerEndStruct(){return _super.call(this)||this}BtnTimerEndStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnTimerEnd"))};BtnTimerEndStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_assetIcon=(this.getChild("assetIcon"));this.m_num=(this.getChild("num"))};BtnTimerEndStruct.URL="ui://eg7c5x5rfd657";BtnTimerEndStruct.DependPackages=["Produce"];return BtnTimerEndStruct}(fairygui.GButton));Produce.BtnTimerEndStruct=BtnTimerEndStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnTimerEnd=(function(_super){__extends(BtnTimerEnd,_super);function BtnTimerEnd(){return _super!==null&&_super.apply(this,arguments)||this}return BtnTimerEnd}(Produce.BtnTimerEndStruct));Produce.BtnTimerEnd=BtnTimerEnd})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnTipsStruct=(function(_super){__extends(BtnTipsStruct,_super);function BtnTipsStruct(){return _super.call(this)||this}BtnTipsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnTips"))};BtnTipsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button")};BtnTipsStruct.URL="ui://eg7c5x5rfd656";BtnTipsStruct.DependPackages=["Produce","Common"];return BtnTipsStruct}(fairygui.GButton));Produce.BtnTipsStruct=BtnTipsStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnTips=(function(_super){__extends(BtnTips,_super);function BtnTips(){return _super!==null&&_super.apply(this,arguments)||this}return BtnTips}(Produce.BtnTipsStruct));Produce.BtnTips=BtnTips})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgradeStruct=(function(_super){__extends(BtnUpgradeStruct,_super);function BtnUpgradeStruct(){return _super.call(this)||this}BtnUpgradeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnUpgrade"))};BtnUpgradeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BtnUpgradeStruct.URL="ui://eg7c5x5rfd655";BtnUpgradeStruct.DependPackages=["Produce"];return BtnUpgradeStruct}(fairygui.GButton));Produce.BtnUpgradeStruct=BtnUpgradeStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgrade=(function(_super){__extends(BtnUpgrade,_super);function BtnUpgrade(){return _super!==null&&_super.apply(this,arguments)||this}return BtnUpgrade}(Produce.BtnUpgradeStruct));Produce.BtnUpgrade=BtnUpgrade})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgradeLockStruct=(function(_super){__extends(BtnUpgradeLockStruct,_super);function BtnUpgradeLockStruct(){return _super.call(this)||this}BtnUpgradeLockStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnUpgradeLock"))};BtnUpgradeLockStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BtnUpgradeLockStruct.URL="ui://eg7c5x5re80io";BtnUpgradeLockStruct.DependPackages=["Produce","Common"];return BtnUpgradeLockStruct}(fairygui.GButton));Produce.BtnUpgradeLockStruct=BtnUpgradeLockStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgradeLock=(function(_super){__extends(BtnUpgradeLock,_super);function BtnUpgradeLock(){return _super!==null&&_super.apply(this,arguments)||this}return BtnUpgradeLock}(Produce.BtnUpgradeLockStruct));Produce.BtnUpgradeLock=BtnUpgradeLock})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgradeSelectStruct=(function(_super){__extends(BtnUpgradeSelectStruct,_super);function BtnUpgradeSelectStruct(){return _super.call(this)||this}BtnUpgradeSelectStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","BtnUpgradeSelect"))};BtnUpgradeSelectStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BtnUpgradeSelectStruct.URL="ui://eg7c5x5re80ir";BtnUpgradeSelectStruct.DependPackages=["Produce"];return BtnUpgradeSelectStruct}(fairygui.GButton));Produce.BtnUpgradeSelectStruct=BtnUpgradeSelectStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var BtnUpgradeSelect=(function(_super){__extends(BtnUpgradeSelect,_super);function BtnUpgradeSelect(){return _super!==null&&_super.apply(this,arguments)||this}return BtnUpgradeSelect}(Produce.BtnUpgradeSelectStruct));Produce.BtnUpgradeSelect=BtnUpgradeSelect})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ButtonEndTimeStruct=(function(_super){__extends(ButtonEndTimeStruct,_super);function ButtonEndTimeStruct(){return _super.call(this)||this}ButtonEndTimeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ButtonEndTime"))};ButtonEndTimeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_assetIcon=(this.getChild("assetIcon"));this.m_num=(this.getChild("num"))};ButtonEndTimeStruct.URL="ui://eg7c5x5rpspr2n";ButtonEndTimeStruct.DependPackages=["Produce","Common"];return ButtonEndTimeStruct}(fairygui.GButton));Produce.ButtonEndTimeStruct=ButtonEndTimeStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ButtonEndTime=(function(_super){__extends(ButtonEndTime,_super);function ButtonEndTime(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonEndTime}(Produce.ButtonEndTimeStruct));Produce.ButtonEndTime=ButtonEndTime})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemIconEffectLoaderStruct=(function(_super){__extends(ItemIconEffectLoaderStruct,_super);function ItemIconEffectLoaderStruct(){return _super.call(this)||this}ItemIconEffectLoaderStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ItemIconEffectLoader"))};ItemIconEffectLoaderStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_iconLoader=(this.getChild("iconLoader"));this.m_t1=this.getTransition("t1")};ItemIconEffectLoaderStruct.URL="ui://eg7c5x5rsayo33";ItemIconEffectLoaderStruct.DependPackages=["Produce"];return ItemIconEffectLoaderStruct}(fairygui.GComponent));Produce.ItemIconEffectLoaderStruct=ItemIconEffectLoaderStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemIconEffectLoader=(function(_super){__extends(ItemIconEffectLoader,_super);function ItemIconEffectLoader(){return _super!==null&&_super.apply(this,arguments)||this}return ItemIconEffectLoader}(Produce.ItemIconEffectLoaderStruct));Produce.ItemIconEffectLoader=ItemIconEffectLoader})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemProduceLineStruct=(function(_super){__extends(ItemProduceLineStruct,_super);function ItemProduceLineStruct(){return _super.call(this)||this}ItemProduceLineStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ItemProduceLine"))};ItemProduceLineStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ItemProduceLineStruct.URL="ui://eg7c5x5rfd65a";ItemProduceLineStruct.DependPackages=["Produce"];return ItemProduceLineStruct}(fairygui.GButton));Produce.ItemProduceLineStruct=ItemProduceLineStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemProduceLine=(function(_super){__extends(ItemProduceLine,_super);function ItemProduceLine(){return _super!==null&&_super.apply(this,arguments)||this}return ItemProduceLine}(Produce.ItemProduceLineStruct));Produce.ItemProduceLine=ItemProduceLine})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemProduceMaxLineStruct=(function(_super){__extends(ItemProduceMaxLineStruct,_super);function ItemProduceMaxLineStruct(){return _super.call(this)||this}ItemProduceMaxLineStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ItemProduceMaxLine"))};ItemProduceMaxLineStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};ItemProduceMaxLineStruct.URL="ui://eg7c5x5rx9sk19";ItemProduceMaxLineStruct.DependPackages=["Produce"];return ItemProduceMaxLineStruct}(fairygui.GButton));Produce.ItemProduceMaxLineStruct=ItemProduceMaxLineStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ItemProduceMaxLine=(function(_super){__extends(ItemProduceMaxLine,_super);function ItemProduceMaxLine(){return _super!==null&&_super.apply(this,arguments)||this}return ItemProduceMaxLine}(Produce.ItemProduceMaxLineStruct));Produce.ItemProduceMaxLine=ItemProduceMaxLine})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var MainStruct=(function(_super){__extends(MainStruct,_super);function MainStruct(){return _super.call(this)||this}MainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","Main"))};MainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_subBg=(this.getChild("subBg"));this.m_produceList=(this.getChild("produceList"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_btn_close=(this.getChild("btn_close"));this.m_assetListTitle=(this.getChild("assetListTitle"));this.m_tabList=(this.getChild("tabList"));this.m_btn_quickProduce=(this.getChild("btn_quickProduce"));this.m_btn_quickGetaward=(this.getChild("btn_quickGetaward"))};MainStruct.URL="ui://eg7c5x5rfd650";MainStruct.DependPackages=["Produce","Common"];return MainStruct}(fairygui.GComponent));Produce.MainStruct=MainStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var Main=(function(_super){__extends(Main,_super);function Main(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.PAPER_ID=7;_this.gradeLevelList=[];_this.buildIndex=-1;_this.quickGetRewardsList=[];return _this}Main.prototype.onWindowInited=function(){this.m_produceList.scrollItemToViewOnClick=false;this.m_btn_close.onClick(this,this.onCloseWindow);this.m_btn_quickProduce.m_title.text=TEXT.ProduceQuickBtnName;this.m_btn_quickGetaward.m_title.text=TEXT.ProduceQuickAwardBtnName;this.m_btn_quickProduce.onClick(this,this.onQuickProduce);this.m_btn_quickGetaward.onClick(this,this.onQuickGetAwards);this.m_produceList.itemRenderer=new Handler(this,this.renderProducetem,null,false);this.setAssets();this.initTabUI()};Main.prototype.onWindowShow=function(){this.showBuildRoom();this.tabIndex=0;this.onTabProduceList();Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateAssets,this);Game.protoOkEvent.add(ProtoEventKey.GameInfo,this.updateAssets,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_Produce,this.callBackProduce,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_Deblocking,this.callBackProduceLock,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_GetReward,this.callBackGetReward,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_Uplevel,this.callBackUplevel,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_cleanTime,this.callBackCleanTime,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_QuickProduce,this.callBackQuickProduce,this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_QuickGetReward,this.callBackQuickGetReward,this)};Main.prototype.onWindowHide=function(){this.hideBuildRoom();this.clearCurrentProduceList();Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateAssets,this);Game.protoOkEvent.remove(ProtoEventKey.GameInfo,this.updateAssets,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_Produce,this.callBackProduce,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_Deblocking,this.callBackProduceLock,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_GetReward,this.callBackGetReward,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_Uplevel,this.callBackUplevel,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_cleanTime,this.callBackCleanTime,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_QuickProduce,this.callBackQuickProduce,this);Game.protoOkEvent.remove(ProtoEventKey.manageProduce_QuickGetReward,this.callBackQuickGetReward,this)};Main.prototype.showBuildRoom=function(){this.buildRoom=Games.AvatarManager.context.getRoomByType(Games.RoomType.Depot);if(this.buildRoom!=null){this.buildRoom.onRoomInScreen();this.buildRoom.setRoomFrameVisible(false);this.buildIndex=Games.AvatarManager.context.getRoomIndexByType(Games.RoomType.Depot);this.buildRoom.setXY(-20,-4);this.buildRoom.setScale(1.05,1.05);this.m_roomContainer.addChild(this.buildRoom)}};Main.prototype.hideBuildRoom=function(){if(this.buildRoom){this.buildRoom.setXY(0,0);this.buildRoom.setScale(1,1);this.buildRoom.setRoomFrameVisible(true);Games.AvatarManager.context.addRoomAt(this.buildRoom,this.buildIndex)}};Main.prototype.callBackProduce=function(proto){console.log("[Response] callBackProduce "+proto.uuid);var produceId=Game.moduleModel.produce.getProduceByUuid(proto.uuid).produceId;this.getRenderItem(produceId).updateSingleProduce();this.eachRenderItem(function(value){if(!value.isOpen){value.updateProduce()}})};Main.prototype.callBackProduceLock=function(proto){console.log("[Response] callBackProduceLock "+proto.produceId);var index=this.getRenderItemIndex(proto.produceId);this.renderProducetem(index,this.m_produceList.getChildAt(index));this.eachRenderItem(function(value){if(!value.isOpen){value.updateProduce()}});this.initQuickProcess()};Main.prototype.callBackGetReward=function(proto){console.log("[Response] callBackGetReward "+proto.uuid);var produceId=Game.moduleModel.produce.getProduceByUuid(proto.uuid).produceId;var renderItem=this.getRenderItem(produceId);renderItem.updateGetRewardView();var startPos=renderItem.produceItemIconPos;var endPos;if(renderItem.activeItem.isFirstLine){endPos=this.m_assetListTitle.getAssetGloblePos(1);FguiHelper.startTrail(renderItem.activeItem.itemId,startPos,endPos,500,Laya.stage)}else{endPos=new Point(Laya.stage.width,Laya.stage.height);FguiHelper.startTrail(renderItem.activeItem.itemId,startPos,endPos,500,Laya.stage)}Game.sound.playSound(SoundKey.MM09_GoldReward)};Main.prototype.callBackUplevel=function(proto){console.log("[Response] callBackUplevel "+proto.uuid);var produceId=Game.moduleModel.produce.getProduceByUuid(proto.uuid).produceId;this.getRenderItem(produceId).updateLevelupView(proto.skillId)};Main.prototype.callBackSendActor=function(proto){console.log("[Response] callBackSendActor "+proto.uuid+" "+proto.actBaseId);var produceId=Game.moduleModel.produce.getProduceByUuid(proto.uuid).produceId;this.getRenderItem(produceId).updateActorView(proto.actBaseId);this.eachRenderItem(function(value){value.updateProduce()});if(proto.actBaseId>0){Game.system.playSkillEffect(proto.actBaseId,Games.SkillTriggerType.production_earnings)}};Main.prototype.callBackCleanTime=function(proto){console.log("[Response] callBackCleanTime "+proto.uuid);var produceId=Game.moduleModel.produce.getProduceByUuid(proto.uuid).produceId;this.getRenderItem(produceId).updateImmediateProduce()};Main.prototype.callBackQuickProduce=function(proto){this.eachRenderItem(function(value){value.updateSingleProduce()});var produceNum=proto.num;if(produceNum>0){Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.produce_one_click,produceNum))}};Main.prototype.callBackQuickGetReward=function(proto){if(this.quickGetRewardsList.length>0){Game.system.getItemText(this.quickGetRewardsList,null,true);this.quickGetRewardsList.length=0}this.eachRenderItem(function(value){value.updateGetRewardView()})};Main.prototype.setAssets=function(){var assets=[7,3,1,2];this.m_assetListTitle.setAssets(assets)};Main.prototype.updateAssets=function(){this.m_assetListTitle.updateAssets();var children=this.m_produceList.numChildren;for(var i=0;i<children;i++){var item=this.m_produceList.getChildAt(i);item.updateAssets()}};Main.prototype.initTabUI=function(){var list=Game.config.produce.getConfigList();var currentGrade=0;for(var i=0;i<list.length;i++){if(currentGrade!=list[i].grade){currentGrade=list[i].grade;this.gradeLevelList.push(list[i].grade)}}for(var i_1=0;i_1<this.gradeLevelList.length;i_1++){var tab=this.m_tabList.getChild("tab"+i_1);var txtTitle=tab.getChild("nomalTitle");var txtSelectTitle=tab.getChild("selectTitle");txtTitle.text=format(TEXT.ProduceGrade,(i_1+1));txtSelectTitle.text=format(TEXT.ProduceGrade,(i_1+1));tab.onClick(this,this.onTabGradeChange)}};Object.defineProperty(Main.prototype,"tabIndex",{get:function(){return this.m_tabList.m_cTab.selectedIndex},set:function(value){this.m_tabList.m_cTab.setSelectedIndex(value)},enumerable:true,configurable:true});Main.prototype.onTabGradeChange=function(e){this.onTabProduceList()};Main.prototype.onTabProduceList=function(){this.clearCurrentProduceList();this.curTabProduceList=this.getProduceListGrade(this.gradeLevelList[this.tabIndex]);this.m_produceList.numItems=this.curTabProduceList.length;this.m_produceList.scrollToView(0,false);this.initQuickProcess()};Main.prototype.clearCurrentProduceList=function(){var childNum=this.m_produceList.numChildren;for(var i=0;i<childNum;i++){var renderItem=this.m_produceList.getChildAt(i);if(renderItem.isOpen){renderItem.activeItem.dispose()}}this.m_produceList.numItems=0};Main.prototype.renderProducetem=function(index,item){var data=this.curTabProduceList[index];item.setData(data,this.tabIndex)};Main.prototype.getRenderItemIndex=function(produceId){var children=this.m_produceList.numChildren;for(var i=0;i<children;i++){var item=this.m_produceList.getChildAt(i);if(item.produceId==produceId){return i}}return -1};Main.prototype.getRenderItem=function(produceId){var index=this.getRenderItemIndex(produceId);return this.m_produceList.getChildAt(index)};Main.prototype.getUnlockItemList=function(){var result=[];var children=this.m_produceList.numChildren;for(var i=0;i<children;i++){var item=this.m_produceList.getChildAt(i);if(item.isOpen){result.push(item)}}return result};Main.prototype.eachRenderItem=function(handler){var children=this.m_produceList.numChildren;for(var i=0;i<children;i++){var item=this.m_produceList.getChildAt(i);handler(item)}};Main.prototype.getProduceListGrade=function(grade){var produceList=Game.config.produce.getConfigList();return produceList.filter(function(value,index,array){return value.grade==grade})};Main.prototype.initQuickProcess=function(){var isOpen=this.checkQuickProduceBlockStreetLevel();if(isOpen){FguiHelper.clearFilters(this.m_btn_quickProduce);FguiHelper.clearFilters(this.m_btn_quickGetaward)}else{FguiHelper.setGray(this.m_btn_quickProduce);FguiHelper.setGray(this.m_btn_quickGetaward)}this.m_btn_quickProduce.visible=true;this.m_btn_quickGetaward.visible=true;var unlockList=this.getUnlockItemList();if(unlockList.length==0){this.m_btn_quickProduce.visible=false;this.m_btn_quickGetaward.visible=false}};Main.prototype.onQuickProduce=function(){if(!this.checkQuickProduceBlockStreetLevel()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_provip_less));return}var unlockList=this.getUnlockItemList();var matchs=unlockList.filter(function(value,index,array){return value.activeItem.checkAll()});if(matchs.length==0){if(this.checkPaperZero()){}else{if(this.checkProduceLineFull(unlockList)){}else{if(this.checkOutputFull(unlockList)){}}}return}else{Game.protosender.manageProduce.QuickProduce(this.gradeLevelList[this.tabIndex])}};Main.prototype.checkPaperZero=function(){if(ItemHelper.getItemNum(this.PAPER_ID)==0){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_paper_less));return true}return false};Main.prototype.checkProduceLineFull=function(activeItemList){var isMatch=false;activeItemList.forEach(function(vaule,index,array){if(vaule.activeItem.checkProcessLineFull()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_lines_max));isMatch=true;return}});return isMatch};Main.prototype.checkOutputFull=function(activeItemList){var isMatch=false;activeItemList.forEach(function(vaule,index,array){if(vaule.activeItem.checkOutputFull()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_item_max));isMatch=true;return}});return isMatch};Main.prototype.checkQuickProduceBlockStreetLevel=function(){var blockStreetLevel=Game.config.global.getConfig(GlobalKey.produce_production_less).value;return User.info.stall>=blockStreetLevel};Main.prototype.onQuickGetAwards=function(){var _this=this;if(this.checkQuickGetAwards()){var unlockList=this.getUnlockItemList();var matchs=unlockList.filter(function(value,index,array){return value.activeItem.isCanGetItem()});this.quickGetRewardsList.length=0;matchs.forEach(function(value,index,array){if(value.activeItem.isCanGetItem()){var dtItem=new DTItemNum();dtItem.itemId=value.activeItem.itemId;dtItem.itemNum=value.activeItem.getOutItemNum();_this.quickGetRewardsList.push(dtItem)}});if(!this.checkDepotCapacityEnough()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_warehouse_max));return false}if(Game.moduleModel.bag.IsBagFull(this.quickGetRewardsList.length)){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_warehouse_max));return false}Game.protosender.manageProduce.QuickGetReward(this.gradeLevelList[this.tabIndex])}};Main.prototype.checkQuickGetAwards=function(useAlert){if(useAlert===void 0){useAlert=true}if(!this.checkQuickAwardBlockStreetLevel()){if(useAlert){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_recvip_less))}return false}if(!this.checkhasOutItem()){if(useAlert){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_item_less))}return false}return true};Main.prototype.checkQuickAwardBlockStreetLevel=function(){var blockStreetLevel=Game.config.global.getConfig(GlobalKey.produce_collection_less).value;return User.info.stall>=blockStreetLevel};Main.prototype.checkDepotCapacityEnough=function(){if(!Game.moduleModel.building.hasBuildByType(Games.RoomType.Depot)){return false}if(Game.moduleModel.bag.IsBagFull()){return false}return true};Main.prototype.checkhasOutItem=function(){var unlockList=this.getUnlockItemList();var matchs=unlockList.filter(function(value,index,array){return value.activeItem.isCanGetItem()});if(matchs.length==0){return false}return true};Main.prototype.onCloseWindow=function(){Game.menu.close(MenuId.Produce)};return Main}(Produce.MainStruct));Produce.Main=Main})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var OnProduceAnimStruct=(function(_super){__extends(OnProduceAnimStruct,_super);function OnProduceAnimStruct(){return _super.call(this)||this}OnProduceAnimStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","OnProduceAnim"))};OnProduceAnimStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};OnProduceAnimStruct.URL="ui://eg7c5x5rpspr2p";OnProduceAnimStruct.DependPackages=["Produce"];return OnProduceAnimStruct}(fairygui.GComponent));Produce.OnProduceAnimStruct=OnProduceAnimStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var OnProduceAnim=(function(_super){__extends(OnProduceAnim,_super);function OnProduceAnim(){return _super!==null&&_super.apply(this,arguments)||this}return OnProduceAnim}(Produce.OnProduceAnimStruct));Produce.OnProduceAnim=OnProduceAnim})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceItemStruct=(function(_super){__extends(ProduceItemStruct,_super);function ProduceItemStruct(){return _super.call(this)||this}ProduceItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceItem"))};ProduceItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_avatarLoader=(this.getChild("avatarLoader"));this.m_descText=(this.getChild("descText"));this.m_produceMaxLine=(this.getChild("produceMaxLine"));this.m_produceLine=(this.getChild("produceLine"));this.m_levelText=(this.getChild("levelText"));this.m_nameText=(this.getChild("nameText"));this.m_storeBg=(this.getChild("storeBg"));this.m_curItemNumLb=(this.getChild("curItemNumLb"));this.m_curItemNum=(this.getChild("curItemNum"));this.m_item=(this.getChild("item"));this.m_cutTime=(this.getChild("cutTime"));this.m_onProducing=(this.getChild("onProducing"));this.m_btn_addAvatar=(this.getChild("btn_addAvatar"));this.m_btn_produce=(this.getChild("btn_produce"));this.m_btn_upgrade=(this.getChild("btn_upgrade"));this.m_btn_tips=(this.getChild("btn_tips"));this.m_effectFull=(this.getChild("effectFull"));this.m_itemIcon=(this.getChild("itemIcon"));this.m_btn_getItem=(this.getChild("btn_getItem"));this.m_btn_timeEnd=(this.getChild("btn_timeEnd"));this.m_tip=(this.getChild("tip"))};ProduceItemStruct.URL="ui://eg7c5x5rfd65g";ProduceItemStruct.DependPackages=["Produce","Common","Fx"];return ProduceItemStruct}(fairygui.GComponent));Produce.ProduceItemStruct=ProduceItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceSkillType=Games.ProduceSkillType;var ProduceItem=(function(_super){__extends(ProduceItem,_super);function ProduceItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.PAPER_ID=7;_this.FIRST_LINE=100;_this.PRODUCE_SKILL_GROUP=1002;_this.cutDownTime=-1;_this.totalTime=0;_this.timeProcessedlineNum=0;_this.processedlineNum=0;return _this}ProduceItem.prototype.setInfo=function(produceId,grade){this.grade=grade;this.produceId=produceId;this.cfg=Game.config.produce.getConfig(this.produceId);this.itemId=this.cfg.item;this.m_nameText.text=this.cfg.name;this.m_descText.text=this.cfg.tip;this.m_curItemNumLb.text=TEXT.ProduceItemStore;this.m_curItemNum.text=formatNumberUnit(ItemHelper.getItemNum(this.cfg.item));this.m_itemIcon.m_iconLoader.url=ItemHelper.getItemIcon(this.cfg.item);this.m_btn_getItem.m_title.text=TEXT.GetReward;this.m_btn_produce.m_icon.url=Game.config.item.getConfig(this.PAPER_ID).iconUrl;this.m_btn_produce.m_title.text=TEXT.ProduceStart;this.m_btn_produce.m_num.text="1";this.m_btn_timeEnd.m_assetIcon.url=Game.config.item.getConfig(Games.AssetType.Diamond).iconUrl;this.data=Game.moduleModel.produce.getProduce(produceId);this.m_levelText.text=format(TEXT.ProduceLevel,this.data.level);this.setOutputItemText();this.setActorAvatar(this.data.actorId);this.m_btn_upgrade.onClick(this,this.onUpgradeClick);this.m_btn_tips.onClick(this,this.onTipsClick);this.m_btn_addAvatar.onClick(this,this.onAddAvatar);this.m_btn_timeEnd.onClick(this,this.onTimeEndClick);this.m_btn_getItem.onClick(this,this.onGetItemClick);this.m_btn_produce.onClick(this,this.onProduceClick);this.m_cutTime.text="";this.m_btn_getItem.visible=true;this.m_onProducing.visible=false;this.m_btn_upgrade.visible=true;this.m_avatarLoader.visible=true;this.m_btn_addAvatar.visible=true;if(this.data.itemNum==0){this.disableGetItemView()}if(this.data.actorId>0){this.m_btn_addAvatar.visible=false}this.setFirstLine();this.setProcessLine();this.setMaxProcessLine();this.refresh();this.updateTime()};ProduceItem.prototype.dispose=function(){this.stopTimeCutdown()};Object.defineProperty(ProduceItem.prototype,"currentItemNum",{get:function(){return ItemHelper.getItemNum(this.cfg.item)},enumerable:true,configurable:true});ProduceItem.prototype.setFirstLine=function(){this.m_curItemNumLb.visible=true;this.m_curItemNum.visible=true;this.m_storeBg.visible=true;if(this.isFirstLine){this.m_btn_upgrade.visible=false;this.m_avatarLoader.visible=false;this.m_btn_addAvatar.visible=false;this.m_btn_produce.m_num.text="0";this.m_curItemNumLb.visible=false;this.m_curItemNum.visible=false;this.m_storeBg.visible=false}};ProduceItem.prototype.refresh=function(){this.totalTime=this.getProcessTotalTime();this.timeProcessedlineNum=Math.floor(Game.time.getSubSecondsPre(this.data.startTime)/this.totalTime);this.processedlineNum=(this.data.processNum>this.timeProcessedlineNum?this.timeProcessedlineNum:this.data.processNum);if(this.timeProcessedlineNum>this.data.processNum){for(var i=0;i<this.processedlineNum;i++){this.data.itemNum+=this.perOutputNum()}this.data.processNum=0}for(var i=0;i<this.processedlineNum;i++){if(this.m_produceLine.numChildren>0){this.m_produceLine.removeChildAt(0)}}};ProduceItem.prototype.updateAssets=function(){if(this.cfg){this.m_curItemNum.text=ItemHelper.getItemNumFormat(this.cfg.item);var costNum=1;if(this.isFirstLine){costNum=0}if(!this.checkPaperEnough()){if(!this.isFirstLine){this.m_btn_produce.m_num.text="[color=#ff0000]"+costNum+"[/color]"}else{this.m_btn_produce.m_num.text="[color=#ffffff]"+costNum+"[/color]"}}else{this.m_btn_produce.m_num.text="[color=#ffffff]"+costNum+"[/color]"}}};ProduceItem.prototype.singleUpdate=function(){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.refresh();if(this.data.processNum>0){this.updateTime()}this.setOutputItemText();this.setProcessLine()};ProduceItem.prototype.updateView=function(){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.setActorAvatar(this.data.actorId);this.updateAssets()};ProduceItem.prototype.updateUpgrade=function(skillId){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.m_levelText.text=format(TEXT.ProduceLevel,this.data.level);this.setOutputItemText();if(skillId==ProduceSkillType.Output){this.updateTime()}this.setMaxProcessLine()};ProduceItem.prototype.updateGetReward=function(){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.refresh();this.setProcessLine();this.disableGetItemView();this.updateTime()};ProduceItem.prototype.updateActor=function(actorId){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.setActorAvatar(actorId)};ProduceItem.prototype.updateImmediateProduce=function(){this.data=Game.moduleModel.produce.getProduce(this.produceId);this.refresh();this.setProcessLine();this.enableGetItemView();this.updateTime()};ProduceItem.prototype.enableGetItemView=function(){this.m_cutTime.text="";this.m_onProducing.visible=false;this.m_btn_getItem.visible=true;this.m_item.visible=true;this.showGetItemEffect();this.setOutputItemText()};ProduceItem.prototype.disableGetItemView=function(){this.m_btn_getItem.visible=false;this.m_item.visible=false;this.hideGetItemEffect()};ProduceItem.prototype.showGetItemEffect=function(){this.m_effectFull.visible=true;var animTrans=this.m_itemIcon.getTransition("t1");if(animTrans){animTrans.play(null,-1,0)}};ProduceItem.prototype.hideGetItemEffect=function(){this.m_effectFull.visible=false;var animTrans=this.m_itemIcon.getTransition("t1");if(animTrans){animTrans.stop()}};ProduceItem.prototype.setOutputItemText=function(){if(this.checkOutputFull()){this.m_item.text="[color=#e02f2b]"+this.data.itemNum+"/"+this.maxStorage+"[/color]"}else{this.m_item.text="[color=#50e38a]"+this.data.itemNum+"/"+this.maxStorage+"[/color]"}};ProduceItem.prototype.updateTime=function(){if(this.processedlineNum<this.data.processNum){this.startTimeCutdown()}else{this.stopTimeCutdown();if(this.data.itemNum>0){this.refreshOutput()}}};ProduceItem.prototype.startTimeCutdown=function(){this.stopTimeCutdown();this.m_onProducing.visible=true;if(!this.isFirstLine){this.m_btn_timeEnd.visible=true}else{this.m_btn_timeEnd.visible=false}this.onProcessTimeCutDown();Laya.timer.loop(1000,this,this.onProcessTimeCutDown,null,true,true)};ProduceItem.prototype.stopTimeCutdown=function(){Laya.timer.clear(this,this.onProcessTimeCutDown);this.m_cutTime.text="";this.m_onProducing.visible=false};ProduceItem.prototype.onProcessTimeCutDown=function(){var curtimeProcessLineNum=Math.floor(Game.time.getSubSecondsPre(this.data.startTime)/this.totalTime);if(curtimeProcessLineNum>this.timeProcessedlineNum){this.timeProcessedlineNum=curtimeProcessLineNum;this.processedlineNum++;this.data.itemNum+=this.perOutputNum();this.data.processNum--;if(this.processedlineNum>=this.data.processNum){this.stopTimeCutdown()}this.m_produceLine.removeChildAt(0);this.refreshOutput()}else{this.cutDownTime=this.totalTime-Game.time.getSubSecondsPre(this.data.startTime)%this.totalTime;if(this.cutDownTime>0){this.immediateProduceCost=this.getImmediateProcessCost(this.cutDownTime,this.totalTime);this.updateImmediateProcessCost(this.cutDownTime,this.totalTime);this.m_cutTime.text=TimeHelper.TimeFormat3(this.cutDownTime)}}};ProduceItem.prototype.refreshOutput=function(){if(this.checkOutputFull()){this.stopTimeCutdown()}this.enableGetItemView()};ProduceItem.prototype.perOutputNum=function(){if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return cfg.once}var outputSkill=Game.moduleModel.produce.getProduceSkill(this.produceId,ProduceSkillType.Output);var baseOutput=Game.config.produceLevel.getConfig(outputSkill.level).output_initial;var baseOutputFactor=100;if(this.data.outFactorList.length>0){baseOutputFactor=this.data.outFactorList.splice(0,1)[0]}var produceSkillFactor=1;if(this.data.actorId>0){var actorData=Game.moduleModel.actor.getActor(this.data.actorId);if(actorData){var effectSkills=actorData.getEffectSkills();for(var _i=0,effectSkills_1=effectSkills;_i<effectSkills_1.length;_i++){var effectSkill=effectSkills_1[_i];if(effectSkill.config.group_id==this.PRODUCE_SKILL_GROUP){produceSkillFactor=effectSkill.config.value}}}}return baseOutput*(baseOutputFactor/100)*produceSkillFactor};ProduceItem.prototype.getProcessTotalTime=function(){var cd=Game.config.produce.getConfig(this.data.produceId).cd;var skillOutputLevel=this.data.produceSkillList[ProduceSkillType.Output].level;var extTime=Game.config.produceLevel.getConfig(skillOutputLevel).time_add;var skillTimeLevel=this.data.produceSkillList[ProduceSkillType.Time].level;var reduceTime=Game.config.produceLevel.getConfig(skillTimeLevel).time;var calcTime=cd+extTime-reduceTime;if(calcTime<=0){calcTime=1}return calcTime};ProduceItem.prototype.setMaxProcessLine=function(){var pSkillProcess=Game.moduleModel.produce.getProduceSkill(this.produceId,ProduceSkillType.Process);if(pSkillProcess){var maxLine=Game.config.produceLevel.getConfig(pSkillProcess.level).line;this.m_produceMaxLine.removeChildrenToPool();for(var i=0;i<maxLine;i++){var line=this.m_produceMaxLine.addItemFromPool();this.m_produceMaxLine.addChild(line)}}};ProduceItem.prototype.setProcessLine=function(){this.m_produceLine.removeChildrenToPool();for(var i=0;i<this.data.processNum;i++){var lineItem=this.m_produceLine.addItemFromPool();this.m_produceLine.addChild(lineItem)}};Object.defineProperty(ProduceItem.prototype,"maxStorage",{get:function(){if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return cfg.max}var pSkillStorage=Game.moduleModel.produce.getProduceSkill(this.produceId,ProduceSkillType.Storage);if(pSkillStorage){var produceLevelCfg=Game.config.produceLevel.getConfig(pSkillStorage.level);return produceLevelCfg.save}return 0},enumerable:true,configurable:true});Object.defineProperty(ProduceItem.prototype,"isFirstLine",{get:function(){return this.produceId==this.FIRST_LINE},enumerable:true,configurable:true});ProduceItem.prototype.onUpgradeClick=function(){var produceUpdate=Produce.ProduceUpgrade.createInstance();produceUpdate.showForParent(this.produceId,this.grade)};ProduceItem.prototype.onTipsClick=function(){this.m_tip.visible=true;this.m_tip.setInfo(this.produceId);fairygui.GRoot.inst.showPopup(this.m_tip)};ProduceItem.prototype.onTimeEndClick=function(){if(ItemHelper.getItemNum(Proto.SE.EItemId.diamond)<this.immediateProduceCost){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_diamond_less));return}Game.protosender.manageProduce.cleanTime(this.produceId)};ProduceItem.prototype.onAddAvatar=function(){if(this.data.actorId==0){if(this.checkAddAvatarToProduce()){var actorListPanel=Produce.ProduceSelectActorPanel.createInstance();actorListPanel.showForParent(this.produceId)}}else{var offActorPanel=Produce.ProduceOffActor.createInstance();offActorPanel.show(this.produceId,this.data.actorId)}};ProduceItem.prototype.checkAddAvatarToProduce=function(){var buildIdLock=Game.config.global.getConfig(GlobalKey.produce_inspire_buildlock).value;var lineLevelLock=Game.config.global.getConfig(GlobalKey.produce_inspire_linelock).value;if(!Game.moduleModel.building.validataBuildLevel(buildIdLock)){var buildLevelCfg=Game.config.buildingLevel.getConfig(buildIdLock);if(buildLevelCfg){Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.produce_inspire_buildlock,buildLevelCfg.name,buildLevelCfg.level))}return false}if(this.data.level<lineLevelLock){Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.produce_inspire_linelock,lineLevelLock));return false}return true};ProduceItem.prototype.setActorAvatar=function(actorId){var cfg=Game.config.actor.getConfig(actorId);if(cfg){this.m_btn_addAvatar.visible=false;var avatarCfg=Game.config.avatar.getConfig(cfg.avatar);this.m_avatarLoader.url=avatarCfg.bodyIconUrl;this.m_avatarLoader.onClick(this,this.onAddAvatar)}else{this.m_avatarLoader.url="";this.m_btn_addAvatar.visible=true}};ProduceItem.prototype.onGetItemClick=function(){Game.protosender.manageProduce.GetReward(this.produceId)};ProduceItem.prototype.isCanGetItem=function(){return this.data.itemNum>0};ProduceItem.prototype.getOutItemNum=function(){if(this.isCanGetItem()){return this.data.itemNum}return 0};ProduceItem.prototype.onProduceClick=function(){if(!this.isFirstLine){if(!this.checkPaperEnough()){Game.system.openItemWay(this.PAPER_ID,1);return}}if(this.checkOutputFull()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_item_max));return}if(this.checkProcessLineFull()){if(this.isFirstLine){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_special))}else{Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_line_max))}return}Game.protosender.manageProduce.Produce(this.produceId)};ProduceItem.prototype.checkAll=function(){if(!this.checkPaperEnough()){return false}if(this.checkOutputFull()){return false}if(this.checkProcessLineFull()){return false}return true};ProduceItem.prototype.checkPaperEnough=function(){return ItemHelper.getItemNum(this.PAPER_ID)>0};ProduceItem.prototype.checkOutputFull=function(){if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return this.data.itemNum>=cfg.max}return this.data.itemNum>=this.maxStorage};ProduceItem.prototype.checkProcessLineFull=function(){var pSkillProcess=Game.moduleModel.produce.getProduceSkill(this.produceId,ProduceSkillType.Process);if(pSkillProcess){var produceLevelCfg=Game.config.produceLevel.getConfig(pSkillProcess.level);return this.data.processNum-this.processedlineNum>=produceLevelCfg.line}return false};ProduceItem.prototype.checkStallLevelEnough=function(level){if(level===void 0){level=1003}var stall=User.info.stall;if(User.info.stall>=level){return true}return false};ProduceItem.prototype.updateImmediateProcessCost=function(cur,total){var costNum=this.getImmediateProcessCost(cur,total);var dt=total/cur;this.m_btn_timeEnd.m_num.text=costNum.toString()};ProduceItem.prototype.getImmediateProcessCost=function(cur,total){var costNum=0;var dt=total/cur;if(dt>=3){return 20}else{if(dt>=2&&dt<3){return 40}else{return 60}}};return ProduceItem}(Produce.ProduceItemStruct));Produce.ProduceItem=ProduceItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceLimitItemStruct=(function(_super){__extends(ProduceLimitItemStruct,_super);function ProduceLimitItemStruct(){return _super.call(this)||this}ProduceLimitItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceLimitItem"))};ProduceLimitItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_nameText=(this.getChild("nameText"));this.m_descText=(this.getChild("descText"));this.m_timeText=(this.getChild("timeText"));this.m_itemIcon=(this.getChild("itemIcon"));this.m_itemNum=(this.getChild("itemNum"));this.m_btnUnlock=(this.getChild("btnUnlock"))};ProduceLimitItemStruct.URL="ui://eg7c5x5rfd65h";ProduceLimitItemStruct.DependPackages=["Produce","Common","Building"];return ProduceLimitItemStruct}(fairygui.GComponent));Produce.ProduceLimitItemStruct=ProduceLimitItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceLimitItem=(function(_super){__extends(ProduceLimitItem,_super);function ProduceLimitItem(){return _super!==null&&_super.apply(this,arguments)||this}ProduceLimitItem.prototype.setInfo=function(produceId,grade){this.produceId=produceId;this.grade=grade;this.cfg=Game.config.produce.getConfig(produceId);this.m_nameText.text=this.cfg.name;this.m_descText.text=this.cfg.tip;this.m_itemIcon.url=ItemHelper.getItemIcon(this.cfg.unlock_reward.itemId);this.m_itemNum.text=this.cfg.unlock_reward.itemNum.toString();this.m_timeText.text=format(TEXT.ProduceTime,TimeHelper.TimeFormat3(this.cfg.cd));this.m_btnUnlock.m_icon.url=ItemHelper.getItemIcon(this.cfg.unlock_gold.itemId);var isReadyUnlock=this.checkCanUnlock();if(!isReadyUnlock){FguiHelper.setGray(this.m_btnUnlock)}else{FguiHelper.clearFilters(this.m_btnUnlock)}if(this.checkPrevProduce()){this.m_btnUnlock.m_title.text=TEXT.ProduceUnlock}else{this.m_btnUnlock.m_title.text=TEXT.ProduceUnlock}this.m_btnUnlock.m_num.text=formatNumberUnit(this.cfg.unlock_gold.itemNum);this.m_btnUnlock.onClick(this,this.onProduceUnlock)};ProduceLimitItem.prototype.onProduceUnlock=function(){if(!this.checkLevel()||!this.checkBuild()){var buildCfg=Game.config.buildingLevel.getConfig(this.cfg.unlock_building);Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.produce_lock,this.cfg.unlock_level,buildCfg.name));return}if(!this.checkPrevProduce()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_pre_unlock));return}if(!this.checkCostEnough()){Game.system.openItemWay(this.cfg.unlock_gold.itemId,this.cfg.unlock_gold.itemNum);return}Game.protosender.manageProduce.Deblocking(this.produceId)};ProduceLimitItem.prototype.checkCanUnlock=function(){if(!this.checkLevel()||!this.checkBuild()||!this.checkCostEnough()){return false}return true};ProduceLimitItem.prototype.checkLevel=function(){return User.info.level>=Game.config.produce.getConfig(this.produceId).unlock_level};ProduceLimitItem.prototype.checkPrevProduce=function(){if(this.cfg.pre_id==0){return true}return Game.moduleModel.produce.hasProduce(this.cfg.pre_id)};ProduceLimitItem.prototype.checkCostEnough=function(){return ItemHelper.getItemNum(this.cfg.unlock_gold.itemId)>=this.cfg.unlock_gold.itemNum};ProduceLimitItem.prototype.checkBuild=function(){return Game.moduleModel.building.validataBuildLevel(this.cfg.unlock_building)};return ProduceLimitItem}(Produce.ProduceLimitItemStruct));Produce.ProduceLimitItem=ProduceLimitItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceOffActorStruct=(function(_super){__extends(ProduceOffActorStruct,_super);function ProduceOffActorStruct(){return _super.call(this)||this}ProduceOffActorStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceOffActor"))};ProduceOffActorStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_actorName=(this.getChild("actorName"));this.m_starList=(this.getChild("starList"));this.m_actorIcon=(this.getChild("actorIcon"));this.m_bgmodel=(this.getChild("bgmodel"));this.m_commonPanel=(this.getChild("commonPanel"));this.m_btnOffActor=(this.getChild("btnOffActor"));this.m_attr1=(this.getChild("attr1"));this.m_attr2=(this.getChild("attr2"));this.m_attr3=(this.getChild("attr3"));this.m_attr4=(this.getChild("attr4"))};ProduceOffActorStruct.URL="ui://eg7c5x5regep1f";ProduceOffActorStruct.DependPackages=["Produce","System","Common"];return ProduceOffActorStruct}(fairygui.GComponent));Produce.ProduceOffActorStruct=ProduceOffActorStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceOffActor=(function(_super){__extends(ProduceOffActor,_super);function ProduceOffActor(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.attrs=[];return _this}ProduceOffActor.prototype.show=function(produceId,actorId,parent){this.produceId=produceId;this.actorId=actorId;this.actorData=Game.moduleModel.actor.getActor(actorId);Games.MenuLayer.module.addChild(this);Game.protoOkEvent.add(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this);var produceCfg=Game.config.produce.getConfig(this.produceId);this.m_commonPanel.m_title.text=format(TEXT.ProduceOffActorTitle,produceCfg.name);this.m_actorIcon.url=Game.config.avatar.getConfig(this.actorData.config.avatar).bodyIconUrl;this.m_actorName.text=this.actorData.config.name;this.m_starList.touchable=false;this.m_starList.removeChildrenToPool();for(var i_1=0;i_1<this.actorData.star;i_1++){var star=this.m_starList.addItemFromPool();this.m_starList.addChild(star)}this.attrs.push(this.m_attr1);this.attrs.push(this.m_attr2);this.attrs.push(this.m_attr3);this.attrs.push(this.m_attr4);var props=this.actorData.getProps();var attrIndex=-1;for(var i=0;i<props.length;i++){var id=props[i];var config=Game.config.property.getConfig(id);var field=config.field;var value=this.actorData[field];if(value>0){attrIndex++;this.attrs[attrIndex].m_attrIcon.url=Game.config.avatar.getConfig(config.icon).iconUrl;this.attrs[attrIndex].m_attrValue.text=value}}this.m_btnOffActor.m_title.text=TEXT.ProduceOffActor;this.m_btnOffActor.onClick(this,this.onOffActorClick);this.m_commonPanel.m_closeBtn.onClick(this,this.onClose)};ProduceOffActor.prototype.onClose=function(){Game.protoOkEvent.remove(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this);this.removeFromParent()};ProduceOffActor.prototype.callBackSendActor=function(proto){this.onClose()};ProduceOffActor.prototype.onOffActorClick=function(){Game.protosender.manageProduce.SendActor(this.produceId,0)};return ProduceOffActor}(Produce.ProduceOffActorStruct));Produce.ProduceOffActor=ProduceOffActor})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceRenderItemStruct=(function(_super){__extends(ProduceRenderItemStruct,_super);function ProduceRenderItemStruct(){return _super.call(this)||this}ProduceRenderItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceRenderItem"))};ProduceRenderItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_activeItem=(this.getChild("activeItem"));this.m_inActiveItem=(this.getChild("inActiveItem"))};ProduceRenderItemStruct.URL="ui://eg7c5x5rek6818";ProduceRenderItemStruct.DependPackages=["Produce","Common","Fx"];return ProduceRenderItemStruct}(fairygui.GComponent));Produce.ProduceRenderItemStruct=ProduceRenderItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceRenderItem=(function(_super){__extends(ProduceRenderItem,_super);function ProduceRenderItem(){return _super!==null&&_super.apply(this,arguments)||this}ProduceRenderItem.prototype.setData=function(cfg,grade){this.produceId=cfg.id;this.grade=grade;this.m_activeItem.visible=false;this.m_inActiveItem.visible=false;if(this.isOpen){this.m_activeItem.visible=true;this.m_activeItem.setInfo(this.produceId,this.grade)}else{this.m_inActiveItem.visible=true;this.m_inActiveItem.setInfo(this.produceId,this.grade)}};Object.defineProperty(ProduceRenderItem.prototype,"isOpen",{get:function(){return Game.moduleModel.produce.hasProduce(this.produceId)},enumerable:true,configurable:true});Object.defineProperty(ProduceRenderItem.prototype,"activeItem",{get:function(){return this.m_activeItem},enumerable:true,configurable:true});ProduceRenderItem.prototype.updateAssets=function(){if(this.isOpen){this.m_activeItem.updateAssets()}};ProduceRenderItem.prototype.updateSingleProduce=function(){if(this.isOpen){this.m_activeItem.singleUpdate()}};ProduceRenderItem.prototype.updateProduce=function(){if(this.isOpen){this.m_activeItem.updateView()}else{this.m_inActiveItem.visible=true;this.m_inActiveItem.setInfo(this.produceId,this.grade)}};ProduceRenderItem.prototype.updateGetRewardView=function(){if(this.isOpen){this.m_activeItem.updateGetReward()}};ProduceRenderItem.prototype.updateLevelupView=function(skillId){if(this.isOpen){this.m_activeItem.updateUpgrade(skillId)}};ProduceRenderItem.prototype.updateActorView=function(skillId){if(this.isOpen){this.m_activeItem.updateActor(skillId)}};ProduceRenderItem.prototype.updateImmediateProduce=function(){if(this.isOpen){this.m_activeItem.updateImmediateProduce()}};Object.defineProperty(ProduceRenderItem.prototype,"produceItemIconPos",{get:function(){if(this.isOpen){return this.m_activeItem.m_itemIcon.displayObject.localToGlobal(new Point(0,0))}},enumerable:true,configurable:true});return ProduceRenderItem}(Produce.ProduceRenderItemStruct));Produce.ProduceRenderItem=ProduceRenderItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceSelectActorPanelStruct=(function(_super){__extends(ProduceSelectActorPanelStruct,_super);function ProduceSelectActorPanelStruct(){return _super.call(this)||this}ProduceSelectActorPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceSelectActorPanel"))};ProduceSelectActorPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_typefilterList=(this.getChild("typefilterList"));this.m_bgmodel=(this.getChild("bgmodel"));this.m_commonDialog=(this.getChild("commonDialog"))};ProduceSelectActorPanelStruct.URL="ui://eg7c5x5rvw1q10";ProduceSelectActorPanelStruct.DependPackages=["Produce","System","Common"];return ProduceSelectActorPanelStruct}(fairygui.GComponent));Produce.ProduceSelectActorPanelStruct=ProduceSelectActorPanelStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceSelectActorPanel=(function(_super){__extends(ProduceSelectActorPanel,_super);function ProduceSelectActorPanel(){return _super!==null&&_super.apply(this,arguments)||this}ProduceSelectActorPanel.prototype.showForParent=function(produceId,selectCaller,parent){this.produceId=produceId;this.selectCaller=selectCaller;this.onProduceActorList=Game.moduleModel.produce.getActorList();if(parent==null){parent=Games.MenuLayer.module}parent.addChild(this);this.m_commonDialog.m_title.text=TEXT.ProduceActorTitle;this.m_commonDialog.m_closeBtn.onClick(this,this.onClose);this.setFilterTypeList();this.setListContent();Game.protoOkEvent.add(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this)};ProduceSelectActorPanel.prototype.callBackSendActor=function(proto){if(this.selectCaller){this.selectCaller(proto.actBaseId)}this.onClose()};ProduceSelectActorPanel.prototype.setFilterTypeList=function(){var cfg=Game.config.produce.getConfig(this.produceId);this.actorList=Game.moduleModel.actor.getActors();this.m_typefilterList.removeChildrenToPool();if(cfg){var propCfg=void 0;if(cfg.cheer_sex!=0){var item=this.m_typefilterList.addItemFromPool();propCfg=Game.config.property.getConfig(cfg.cheer_sex);item.m_loader.url=propCfg.iconUrl;this.m_typefilterList.addChild(item);this.actorList=this.actorList.filter(function(value,index,array){return value.config.sex==cfg.cheer_sex})}if(cfg.cheer_continents!=0){var item=this.m_typefilterList.addItemFromPool();propCfg=Game.config.property.getConfig(cfg.cheer_continents);item.m_loader.url=propCfg.iconUrl;this.m_typefilterList.addChild(item);this.actorList=this.actorList.filter(function(value,index,array){return value.config.country==cfg.cheer_continents})}if(cfg.cheer_age!=0){var item=this.m_typefilterList.addItemFromPool();propCfg=Game.config.property.getConfig(cfg.cheer_age);item.m_loader.url=propCfg.iconUrl;this.m_typefilterList.addChild(item);this.actorList=this.actorList.filter(function(value,index,array){return value.config.age_type==cfg.cheer_age})}if(cfg.cheer_type!=0){var item=this.m_typefilterList.addItemFromPool();propCfg=Game.config.property.getConfig(cfg.cheer_type);item.m_loader.url=propCfg.iconUrl;this.m_typefilterList.addChild(item);this.actorList=this.actorList.filter(function(value,index,array){return value.config.show_type==cfg.cheer_type})}}};ProduceSelectActorPanel.prototype.setListContent=function(){this.m_list.removeChildrenToPool();var i=-1;for(var _i=0,_a=this.actorList;_i<_a.length;_i++){var actor=_a[_i];i++;var item=this.m_list.addItemFromPool();item.setInfo(actor);item.isOnProduce=this.isActorOnProduce(actor.id);item.name=i.toString();this.m_list.addChild(item)}this.m_list.on(fairygui.Events.CLICK_ITEM,this,this.onAvatarSelected)};ProduceSelectActorPanel.prototype.isActorOnProduce=function(actorId){return this.onProduceActorList.indexOf(actorId)!=-1};ProduceSelectActorPanel.prototype.onAvatarSelected=function(e){Game.protosender.manageProduce.SendActor(this.produceId,e.data.id)};ProduceSelectActorPanel.prototype.onClose=function(){Game.protoOkEvent.remove(ProtoEventKey.manageProduce_SendActor,this.callBackSendActor,this);this.selectCaller=null;this.removeFromParent()};return ProduceSelectActorPanel}(Produce.ProduceSelectActorPanelStruct));Produce.ProduceSelectActorPanel=ProduceSelectActorPanel})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceTipStruct=(function(_super){__extends(ProduceTipStruct,_super);function ProduceTipStruct(){return _super.call(this)||this}ProduceTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceTip"))};ProduceTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_baseAddNum=(this.getChild("baseAddNum"));this.m_itemIcon1=(this.getChild("itemIcon1"));this.m_itemIcon2=(this.getChild("itemIcon2"));this.m_actorAddNum=(this.getChild("actorAddNum"));this.m_actorProduceDesc=(this.getChild("actorProduceDesc"));this.m_GActor=(this.getChild("GActor"))};ProduceTipStruct.URL="ui://eg7c5x5rx9sk1a";ProduceTipStruct.DependPackages=["Produce","Common"];return ProduceTipStruct}(fairygui.GComponent));Produce.ProduceTipStruct=ProduceTipStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceTip=(function(_super){__extends(ProduceTip,_super);function ProduceTip(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.FIRST_LINE=100;_this.PRODUCE_SKILL_GROUP=1002;return _this}ProduceTip.prototype.setInfo=function(produceId){this.produceId=produceId;this.cfg=Game.config.produce.getConfig(this.produceId);this.m_itemIcon1.url=ItemHelper.getItemIcon(this.cfg.item);this.m_itemIcon2.url=ItemHelper.getItemIcon(this.cfg.item);this.data=Game.moduleModel.produce.getProduce(produceId);var outputSkill=Game.moduleModel.produce.getProduceSkill(this.produceId,Games.ProduceSkillType.Output);var baseOutput=Game.config.produceLevel.getConfig(outputSkill.level).output_initial;this.m_GActor.visible=true;if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);baseOutput=cfg.once;this.m_GActor.visible=false}this.m_baseAddNum.text=baseOutput.toString();this.m_actorAddNum.text=(baseOutput*1.5).toString()};ProduceTip.prototype.getActorOutputNum=function(){var outputSkill=Game.moduleModel.produce.getProduceSkill(this.produceId,Games.ProduceSkillType.Output);var baseOutput=Game.config.produceLevel.getConfig(outputSkill.level).output_initial;var baseOutputFactor=100;if(this.data.outFactorList.length>0){baseOutputFactor=this.data.outFactorList[0]}var produceSkillFactor=1;if(this.data.actorId>0){var actorData=Game.moduleModel.actor.getActor(this.data.actorId);if(actorData){var effectSkills=actorData.getEffectSkills();for(var _i=0,effectSkills_1=effectSkills;_i<effectSkills_1.length;_i++){var effectSkill=effectSkills_1[_i];if(effectSkill.config.group_id==this.PRODUCE_SKILL_GROUP){produceSkillFactor=effectSkill.config.value}}}}return baseOutput*(baseOutputFactor/100)*produceSkillFactor};Object.defineProperty(ProduceTip.prototype,"isFirstLine",{get:function(){return this.produceId==this.FIRST_LINE},enumerable:true,configurable:true});return ProduceTip}(Produce.ProduceTipStruct));Produce.ProduceTip=ProduceTip})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceUpgradeStruct=(function(_super){__extends(ProduceUpgradeStruct,_super);function ProduceUpgradeStruct(){return _super.call(this)||this}ProduceUpgradeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceUpgrade"))};ProduceUpgradeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_assetList=(this.getChild("assetList"));this.m_itemIcon=(this.getChild("itemIcon"));this.m_itemNum=(this.getChild("itemNum"));this.m_commonPanel=(this.getChild("commonPanel"))};ProduceUpgradeStruct.URL="ui://eg7c5x5re80ij";ProduceUpgradeStruct.DependPackages=["Produce","System","Common"];return ProduceUpgradeStruct}(fairygui.GComponent));Produce.ProduceUpgradeStruct=ProduceUpgradeStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceUpgrade=(function(_super){__extends(ProduceUpgrade,_super);function ProduceUpgrade(){return _super!==null&&_super.apply(this,arguments)||this}ProduceUpgrade.prototype.showForParent=function(produceId,grade,onUpgradeCaller,thisArgs,parent){this.produceId=produceId;this.grade=grade;this.onUpgradeCaller=onUpgradeCaller;this.thisArgs=thisArgs;this.data=Game.moduleModel.produce.getProduce(produceId);this.cfg=Game.config.produce.getConfig(this.produceId);if(parent==null){parent=Games.MenuLayer.module}parent.addChild(this);var pLevelCfg=Game.config.produceLevel.getConfig(this.data.level);this.m_itemNum.text=formatNumberUnit(pLevelCfg.cost.itemNum);this.m_itemIcon.url=ItemHelper.getItemIcon(pLevelCfg.cost.itemId);this.m_commonPanel.m_closeBtn.onClick(this,this.onClose);Game.protoOkEvent.add(ProtoEventKey.manageProduce_Uplevel,this.onServerUplevel,this);this.update()};ProduceUpgrade.prototype.update=function(){this.data=Game.moduleModel.produce.getProduce(this.produceId);var pLevelCfg=Game.config.produceLevel.getConfig(this.data.level);this.m_itemNum.text=formatNumberUnit(pLevelCfg.cost.itemNum);this.m_commonPanel.m_title.text=this.cfg.name+"[color=#33ff33]  "+format(TEXT.Lv,this.data.level)+"[/color]";this.setList()};ProduceUpgrade.prototype.setList=function(){this.m_assetList.removeChildrenToPool();for(var i=0;i<this.data.produceSkillList.length;i++){var skill=this.data.produceSkillList[i];var pSkillItem=this.m_assetList.addItemFromPool();pSkillItem.setInfo(skill);pSkillItem.m_btnUpgradeSelect.onClick(this,this.onUpgradeClick,[skill]);this.m_assetList.addChild(pSkillItem)}};ProduceUpgrade.prototype.onServerUplevel=function(proto){this.update()};ProduceUpgrade.prototype.onUpgradeClick=function(skill){if(!this.checkCostEnough()){Game.system.toastText(Game.config.msg.getTxt(MsgKey.produce_gold_less));return}if(!this.checkhasBuild()){var pLevelCfg=Game.config.produceLevel.getConfig(this.data.level);var buildId=pLevelCfg.limit_grade[this.grade];var cfg=Game.config.buildingLevel.getConfig(buildId);Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.produce_produce_limit,cfg.name,cfg.level));return}Game.protosender.manageProduce.Uplevel(this.produceId,skill.id)};ProduceUpgrade.prototype.checkCostEnough=function(){var pLevelCfg=Game.config.produceLevel.getConfig(this.data.level);return ItemHelper.getItemNum(pLevelCfg.cost.itemId)>=pLevelCfg.cost.itemNum};ProduceUpgrade.prototype.checkhasBuild=function(){var pLevelCfg=Game.config.produceLevel.getConfig(this.data.level);if(pLevelCfg){var buildId=pLevelCfg.limit_grade[this.grade];if(buildId==0){return true}return Game.moduleModel.building.validataBuildLevel(buildId)}return true};ProduceUpgrade.prototype.onClose=function(){Game.protoOkEvent.remove(ProtoEventKey.manageProduce_Uplevel,this.onServerUplevel,this);this.removeFromParent()};return ProduceUpgrade}(Produce.ProduceUpgradeStruct));Produce.ProduceUpgrade=ProduceUpgrade})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceUpgradeItemStruct=(function(_super){__extends(ProduceUpgradeItemStruct,_super);function ProduceUpgradeItemStruct(){return _super.call(this)||this}ProduceUpgradeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","ProduceUpgradeItem"))};ProduceUpgradeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title=(this.getChild("title"));this.m_num=(this.getChild("num"));this.m_skill1=(this.getChild("skill1"));this.m_skill2=(this.getChild("skill2"));this.m_skill3=(this.getChild("skill3"));this.m_skill4=(this.getChild("skill4"));this.m_btnUpgradeLock=(this.getChild("btnUpgradeLock"));this.m_btnUpgradeSelect=(this.getChild("btnUpgradeSelect"))};ProduceUpgradeItemStruct.URL="ui://eg7c5x5re80is";ProduceUpgradeItemStruct.DependPackages=["Produce","Common"];return ProduceUpgradeItemStruct}(fairygui.GComponent));Produce.ProduceUpgradeItemStruct=ProduceUpgradeItemStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var ProduceUpgradeItem=(function(_super){__extends(ProduceUpgradeItem,_super);function ProduceUpgradeItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.skillNames=[TEXT.ProduceSkillType1,TEXT.ProduceSkillType2,TEXT.ProduceSkillType3,TEXT.ProduceSkillType4];return _this}ProduceUpgradeItem.prototype.setInfo=function(skill){this.m_title.text=this.skillNames[skill.id];this.m_num.text=this.getTypeNum(skill).toString();this.m_c1.setSelectedIndex(skill.id)};ProduceUpgradeItem.prototype.getTypeNum=function(skill){var cfg=Game.config.produceLevel.getConfig(skill.level);switch(skill.id){case 0:return cfg.line;case 1:return cfg.save;case 2:return cfg.time;case 3:return cfg.output_initial;default:return 0}};return ProduceUpgradeItem}(Produce.ProduceUpgradeItemStruct));Produce.ProduceUpgradeItem=ProduceUpgradeItem})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var TabCircleListStruct=(function(_super){__extends(TabCircleListStruct,_super);function TabCircleListStruct(){return _super.call(this)||this}TabCircleListStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","TabCircleList"))};TabCircleListStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_cTab=this.getController("cTab");this.m_tab0=(this.getChild("tab0"));this.m_tab1=(this.getChild("tab1"));this.m_tab2=(this.getChild("tab2"))};TabCircleListStruct.URL="ui://eg7c5x5rpspr2f";TabCircleListStruct.DependPackages=["Produce"];return TabCircleListStruct}(fairygui.GComponent));Produce.TabCircleListStruct=TabCircleListStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var TabCircleList=(function(_super){__extends(TabCircleList,_super);function TabCircleList(){return _super!==null&&_super.apply(this,arguments)||this}return TabCircleList}(Produce.TabCircleListStruct));Produce.TabCircleList=TabCircleList})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var TabGradeStruct=(function(_super){__extends(TabGradeStruct,_super);function TabGradeStruct(){return _super.call(this)||this}TabGradeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Produce","TabGrade"))};TabGradeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};TabGradeStruct.URL="ui://eg7c5x5rfd651";TabGradeStruct.DependPackages=["Produce","Common"];return TabGradeStruct}(fairygui.GButton));Produce.TabGradeStruct=TabGradeStruct})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Produce;(function(Produce){var TabGrade=(function(_super){__extends(TabGrade,_super);function TabGrade(){return _super!==null&&_super.apply(this,arguments)||this}return TabGrade}(Produce.TabGradeStruct));Produce.TabGrade=TabGrade})(Produce=fgui.Produce||(fgui.Produce={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankItemStruct=(function(_super){__extends(RankItemStruct,_super);function RankItemStruct(){return _super.call(this)||this}RankItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Rank","RankItem"))};RankItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtName=(this.getChild("txtName"));this.m_icon=(this.getChild("icon"));this.m_btnSelect=(this.getChild("btnSelect"));this.m_btnPlayer=(this.getChild("btnPlayer"));this.m_btnMovie=(this.getChild("btnMovie"));this.m_aniBling=this.getTransition("aniBling")};RankItemStruct.URL="ui://pqepuo38pqkqj";RankItemStruct.DependPackages=["Rank","Common"];return RankItemStruct}(fairygui.GLabel));Rank.RankItemStruct=RankItemStruct})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankItem=(function(_super){__extends(RankItem,_super);function RankItem(){return _super!==null&&_super.apply(this,arguments)||this}RankItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnMovie.onClick(this,this.OnBtnMovieClick);this.m_btnPlayer.onClick(this,this.OnBtnPlayerClick)};Object.defineProperty(RankItem.prototype,"rank",{set:function(num){if(num<=3&&num>0){this.m_Rank.setSelectedIndex(num)}else{this.m_Rank.setSelectedIndex(0);this.m_txtRank.text=num.toString()}},enumerable:true,configurable:true});RankItem.prototype.Render=function(rankData){this.rankData=rankData;if(this.rankData){this.rank=rankData.rank;this.icon=this.rankData.playerIconUrl;this.m_txtName.text=rankData.desc.name;this.m_txtMovie.text=this.rankData.desc.totalBoxOffice>0?formatNumberUnit(this.rankData.desc.totalBoxOffice):"";this.m_btnMovie.icon=Game.config.story.GetPoster(rankData.desc.movieId);this.m_btnMovie.visible=this.rankData.desc.movieId!=0;var userRank=Game.moduleModel.rank.SelfServerRankData;if(User.account.userId==this.rankData.desc.userId){this.icon=User.headIconUrl;this.m_BG.setSelectedIndex(1);this.m_isMine.setSelectedIndex(1)}else{this.m_BG.setSelectedIndex(0);this.m_isMine.setSelectedIndex(0)}}};RankItem.prototype.OnBtnMovieClick=function(){if(this.rankData.desc.movieUuid){var movieData=Game.moduleModel.rank.GetMovieShort(this.rankData.desc.movieUuid);if(movieData){Game.system.movieInfo(movieData)}else{Game.system.movieInfo(this.rankData.desc.movieUuid)}}};RankItem.prototype.OnBtnPlayerClick=function(){if(this.rankData.desc.userId){var playerData=Game.moduleModel.rank.GetPlayerShortData(this.rankData.desc.userId);if(playerData){Game.system.playerInfo(playerData)}else{Game.system.playerInfo(this.rankData.desc.userId)}}};return RankItem}(Rank.RankItemStruct));Rank.RankItem=RankItem})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankMainPanelStruct=(function(_super){__extends(RankMainPanelStruct,_super);function RankMainPanelStruct(){return _super.call(this)||this}RankMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Rank","RankMainPanel"))};RankMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_txtChangeName=(this.getChild("txtChangeName"));this.m_rankList=(this.getChild("rankList"));this.m_btnChangeName=(this.getChild("btnChangeName"));this.m_btnHelp=(this.getChild("btnHelp"));this.m_btnClose=(this.getChild("btnClose"));this.m_userRank=(this.getChild("userRank"));this.m_marquee=(this.getChild("marquee"));this.m_rank3=(this.getChild("rank3"));this.m_rank2=(this.getChild("rank2"));this.m_rank1=(this.getChild("rank1"))};RankMainPanelStruct.URL="ui://pqepuo38pqkq0";RankMainPanelStruct.DependPackages=["Rank","Common"];return RankMainPanelStruct}(fairygui.GComponent));Rank.RankMainPanelStruct=RankMainPanelStruct})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankMainPanel=(function(_super){__extends(RankMainPanel,_super);function RankMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}RankMainPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnBtnCloseClick);this.m_btnHelp.onClick(this,this.OnBtnHelpClick);this.m_btnChangeName.onClick(this,this.OnBtnChangeName);this.m_rankList.itemRenderer=new Handler(this,this.RenderRankItem,null,false);this.m_rankList.setVirtual()};RankMainPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.UpdateView();Game.protosender.rank.GetServerRankList()};RankMainPanel.prototype.onWindowShow=function(){this.m_marquee.Show();Game.protoOkEvent.add(ProtoEventKey.rank_GetServerRankList,this.OnRankGetServerRankList,this);Game.protoOkEvent.add(ProtoEventKey.SelfRankListDesc,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.rank_ChangeServerName,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetServerListReward,this.UpdateView,this)};RankMainPanel.prototype.onWindowHide=function(){this.m_marquee.Hide();Game.protoOkEvent.remove(ProtoEventKey.rank_GetServerRankList,this.OnRankGetServerRankList,this);Game.protoOkEvent.remove(ProtoEventKey.SelfRankListDesc,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.rank_ChangeServerName,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.rank_ChangeServerName,this.UpdateView,this)};RankMainPanel.prototype.UpdateView=function(){this.m_name.text=Game.moduleModel.rank.ServerName;this.rankList=Game.moduleModel.rank.ServerRankList;if(this.rankList.length>=1){this.m_rank1.visible=true;this.m_rank1.Render(this.rankList[0]);this.m_rank1.m_BG.setSelectedIndex(1)}else{this.m_rank1.visible=false}if(this.rankList.length>=2){this.m_rank2.visible=true;this.m_rank2.Render(this.rankList[1]);this.m_rank2.m_BG.setSelectedIndex(1)}else{this.m_rank2.visible=false}if(this.rankList.length>=3){this.m_rank3.visible=true;this.m_rank3.Render(this.rankList[2]);this.m_rank3.m_BG.setSelectedIndex(1)}else{this.m_rank3.visible=false}if(this.rankList.length>3){this.m_rankList.numItems=this.rankList.length-3;this.m_rankList.refreshVirtualList()}else{this.m_rankList.numItems=0}this.m_userRank.Render(Game.moduleModel.rank.SelfServerRankData);var msgList=[Game.config.msg.getTxt(MsgKey.ranking_list_tips1),Game.config.msg.getTxt(MsgKey.ranking_list_tips2)];this.m_marquee.UpdateView(msgList)};RankMainPanel.prototype.RenderRankItem=function(index,item){var data=this.rankList[index+3];item.Render(data)};RankMainPanel.prototype.OnBtnHelpClick=function(){this.moduleWindow.openSubwindowByIndex("rankReward",true)};RankMainPanel.prototype.OnBtnCloseClick=function(){this.moduleWindow.menuClose()};RankMainPanel.prototype.OnBtnChangeName=function(){if(Game.moduleModel.rank.CanChangeName){Game.system.rename("",this,this.OnChangeName,Game.moduleModel.rank.ServerName)}};RankMainPanel.prototype.OnRankGetServerRankList=function(){this.UpdateView()};RankMainPanel.prototype.OnChangeName=function(newName){Game.protosender.rank.ChangeServerName(Game.moduleModel.rank.ServerUuid,newName)};RankMainPanel.prototype.onChangeServerNameResponse=function(){Game.protosender.rank.GetSelfList()};return RankMainPanel}(Rank.RankMainPanelStruct));Rank.RankMainPanel=RankMainPanel})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankRewardItemStruct=(function(_super){__extends(RankRewardItemStruct,_super);function RankRewardItemStruct(){return _super.call(this)||this}RankRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Rank","RankRewardItem"))};RankRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtRank=(this.getChild("txtRank"));this.m_listReward=(this.getChild("listReward"))};RankRewardItemStruct.URL="ui://pqepuo38pqkqk";RankRewardItemStruct.DependPackages=["Rank","Common"];return RankRewardItemStruct}(fairygui.GComponent));Rank.RankRewardItemStruct=RankRewardItemStruct})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankRewardItem=(function(_super){__extends(RankRewardItem,_super);function RankRewardItem(){return _super!==null&&_super.apply(this,arguments)||this}RankRewardItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false)};RankRewardItem.prototype.Render=function(serverRewardData){this.serverRewardData=serverRewardData;if(this.serverRewardData==null){return}this.m_txtRank.text=this.serverRewardData.stringRank;this.m_listReward.numItems=this.serverRewardData.rewardList.length};RankRewardItem.prototype.RenderRewardItem=function(index,obj){var data=this.serverRewardData.rewardList[index];obj.m_num.text=formatNumberUnit(data.itemNum);obj.icon=data.itemIconUrl;obj.m_star.starNum=data.itemStar;obj.PopupInfo=data.itemId};return RankRewardItem}(Rank.RankRewardItemStruct));Rank.RankRewardItem=RankRewardItem})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankRewardPanelStruct=(function(_super){__extends(RankRewardPanelStruct,_super);function RankRewardPanelStruct(){return _super.call(this)||this}RankRewardPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Rank","RankRewardPanel"))};RankRewardPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_listRanKReward=(this.getChild("listRanKReward"));this.m_btnClose=(this.getChild("btnClose"));this.m_txtTip=(this.getChild("txtTip"))};RankRewardPanelStruct.URL="ui://pqepuo38pqkq4";RankRewardPanelStruct.DependPackages=["Rank","Common"];return RankRewardPanelStruct}(fairygui.GComponent));Rank.RankRewardPanelStruct=RankRewardPanelStruct})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var RankRewardPanel=(function(_super){__extends(RankRewardPanel,_super);function RankRewardPanel(){return _super!==null&&_super.apply(this,arguments)||this}RankRewardPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnClose.onClick(this,this.OnBtnCloseClick);this.m_listRanKReward.itemRenderer=new Handler(this,this.RenderItem,null,false);this.m_listRanKReward.setVirtual()};RankRewardPanel.prototype.OnWindowOpen=function(){this.UpdateView()};RankRewardPanel.prototype.UpdateView=function(){this.serverRewardList=Game.moduleModel.rank.RankRewardList;this.m_listRanKReward.numItems=this.serverRewardList.length;this.m_txtTip.title=Game.config.msg.getTxt(MsgKey.ranking_list_instruction1)+"\n"+Game.config.msg.getTxt(MsgKey.ranking_list_instruction2)+"\n"+Game.config.msg.getTxt(MsgKey.ranking_list_instruction3)};RankRewardPanel.prototype.RenderItem=function(index,obj){var data=this.serverRewardList[index];obj.Render(data)};RankRewardPanel.prototype.OnBtnCloseClick=function(){this.moduleWindow.closeSelf()};return RankRewardPanel}(Rank.RankRewardPanelStruct));Rank.RankRewardPanel=RankRewardPanel})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var UserRankStruct=(function(_super){__extends(UserRankStruct,_super);function UserRankStruct(){return _super.call(this)||this}UserRankStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Rank","UserRank"))};UserRankStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_hasGetReward=this.getController("hasGetReward");this.m_txtName=(this.getChild("txtName"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtRank=(this.getChild("txtRank"));this.m_listReward=(this.getChild("listReward"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnMovie=(this.getChild("btnMovie"))};UserRankStruct.URL="ui://pqepuo38pqkqn";UserRankStruct.DependPackages=["Rank","Common"];return UserRankStruct}(fairygui.GComponent));Rank.UserRankStruct=UserRankStruct})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Rank;(function(Rank){var UserRank=(function(_super){__extends(UserRank,_super);function UserRank(){return _super!==null&&_super.apply(this,arguments)||this}UserRank.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnMovie.onClick(this,this.OnBtnMovieClick);this.m_btnReward.onClick(this,this.OnBtnRewardClick);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false)};UserRank.prototype.Render=function(rankData){this.rankData=rankData;if(this.rankData==null){this.m_btnMovie.visible=false;this.m_txtRank.text="";this.m_txtName.text="";this.m_txtMovie.text="";this.m_listReward.numItems=0;return}if(this.rankData.desc.movieId!=0){this.m_txtName.text=this.rankData.desc.movieName;this.m_txtRank.text=this.rankData.rank.toString();this.m_txtMovie.text=formatNumberUnit(this.rankData.desc.totalBoxOffice||0,this.rankData.desc.totalBoxOffice>1000?1:0);this.m_btnMovie.icon=Game.config.story.GetPoster(rankData.desc.movieId);this.m_btnMovie.visible=true}else{this.m_btnMovie.visible=false;this.m_txtRank.text="";this.m_txtName.text="";this.m_txtMovie.text="";this.m_listReward.numItems=0}this.lastRewardList=Game.moduleModel.rank.LastRewardList;this.m_listReward.numItems=this.lastRewardList.length;if(Game.moduleModel.rank.hasGetLastReward){this.m_hasGetReward.setSelectedIndex(1)}else{this.m_hasGetReward.setSelectedIndex(0);this.m_btnReward.enabled=this.lastRewardList.length>0}};UserRank.prototype.RenderRewardItem=function(index,obj){if(this.rankData==null){return}var data=this.lastRewardList[index];obj.title=data.itemNumTxt;obj.m_star.starNum=data.itemStar;obj.icon=Games.ItemData.GetIconUrl(data.itemId);obj.PopupInfo=data.itemId};UserRank.prototype.OnBtnMovieClick=function(){if(this.rankData==null){return}var movieData=Game.moduleModel.rank.GetMovieShort(this.rankData.desc.movieUuid);if(movieData){Game.system.movieInfo(movieData)}else{if(this.rankData.desc.movieUuid){Game.protosender.rank.GetMovieShortData(this.rankData.desc.movieUuid)}}};UserRank.prototype.OnBtnRewardClick=function(){if(this.rankData==null){return}if(Game.moduleModel.rank.CanGetReward){Game.protosender.rank.GetServerListReward(Game.moduleModel.rank.ServerUuid)}};return UserRank}(Rank.UserRankStruct));Rank.UserRank=UserRank})(Rank=fgui.Rank||(fgui.Rank={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var ActorCircleItemStruct=(function(_super){__extends(ActorCircleItemStruct,_super);function ActorCircleItemStruct(){return _super.call(this)||this}ActorCircleItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","ActorCircleItem"))};ActorCircleItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ActorCircleItemStruct.URL="ui://mu4e45moh9ou1e";ActorCircleItemStruct.DependPackages=["Street","Common"];return ActorCircleItemStruct}(fairygui.GLabel));Street.ActorCircleItemStruct=ActorCircleItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var ActorCircleItem=(function(_super){__extends(ActorCircleItem,_super);function ActorCircleItem(){return _super!==null&&_super.apply(this,arguments)||this}return ActorCircleItem}(Street.ActorCircleItemStruct));Street.ActorCircleItem=ActorCircleItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var BtnBackStruct=(function(_super){__extends(BtnBackStruct,_super);function BtnBackStruct(){return _super.call(this)||this}BtnBackStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","BtnBack"))};BtnBackStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BtnBackStruct.URL="ui://mu4e45modo332c";BtnBackStruct.DependPackages=["Street","Common"];return BtnBackStruct}(fairygui.GComponent));Street.BtnBackStruct=BtnBackStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var BtnBack=(function(_super){__extends(BtnBack,_super);function BtnBack(){return _super!==null&&_super.apply(this,arguments)||this}return BtnBack}(Street.BtnBackStruct));Street.BtnBack=BtnBack})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var BtnCongratulateStruct=(function(_super){__extends(BtnCongratulateStruct,_super);function BtnCongratulateStruct(){return _super.call(this)||this}BtnCongratulateStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","BtnCongratulate"))};BtnCongratulateStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isOpen=this.getController("isOpen");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_time=(this.getChild("time"))};BtnCongratulateStruct.URL="ui://mu4e45moky79r";BtnCongratulateStruct.DependPackages=["Street","PfSkin"];return BtnCongratulateStruct}(fairygui.GButton));Street.BtnCongratulateStruct=BtnCongratulateStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var BtnCongratulate=(function(_super){__extends(BtnCongratulate,_super);function BtnCongratulate(){return _super!==null&&_super.apply(this,arguments)||this}return BtnCongratulate}(Street.BtnCongratulateStruct));Street.BtnCongratulate=BtnCongratulate})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaIconStruct=(function(_super){__extends(CinemaIconStruct,_super);function CinemaIconStruct(){return _super.call(this)||this}CinemaIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","CinemaIcon"))};CinemaIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_level=this.getController("level");this.m_icon=(this.getChild("icon"));this.m_lv=(this.getChild("lv"))};CinemaIconStruct.URL="ui://mu4e45moky79x";CinemaIconStruct.DependPackages=["Street","Common"];return CinemaIconStruct}(fairygui.GLabel));Street.CinemaIconStruct=CinemaIconStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaIcon=(function(_super){__extends(CinemaIcon,_super);function CinemaIcon(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CinemaIcon.prototype,"Level",{set:function(lv){if(lv>5){lv=4;console.log("Cinema signLevel: :",lv)}if(lv<1){lv=1;console.log("Cinema signLevel: :",lv)}this.m_level.setSelectedIndex(5-lv)},enumerable:true,configurable:true});return CinemaIcon}(Street.CinemaIconStruct));Street.CinemaIcon=CinemaIcon})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaItemStruct=(function(_super){__extends(CinemaItemStruct,_super);function CinemaItemStruct(){return _super.call(this)||this}CinemaItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","CinemaItem"))};CinemaItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_level=this.getController("level");this.m_title=(this.getChild("title"));this.m_num=(this.getChild("num"));this.m_icon=(this.getChild("icon"))};CinemaItemStruct.URL="ui://mu4e45moky79z";CinemaItemStruct.DependPackages=["Street"];return CinemaItemStruct}(fairygui.GLabel));Street.CinemaItemStruct=CinemaItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaItem=(function(_super){__extends(CinemaItem,_super);function CinemaItem(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CinemaItem.prototype,"Level",{set:function(lv){if(lv>5){lv=4;console.log("Cinema signLevel: :",lv)}if(lv<1){lv=1;console.log("Cinema signLevel: :",lv)}this.m_icon.Level=lv},enumerable:true,configurable:true});return CinemaItem}(Street.CinemaItemStruct));Street.CinemaItem=CinemaItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaItem_llittleStruct=(function(_super){__extends(CinemaItem_llittleStruct,_super);function CinemaItem_llittleStruct(){return _super.call(this)||this}CinemaItem_llittleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","CinemaItem_llittle"))};CinemaItem_llittleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_level=this.getController("level");this.m_title=(this.getChild("title"));this.m_num=(this.getChild("num"));this.m_icon=(this.getChild("icon"))};CinemaItem_llittleStruct.URL="ui://mu4e45moky7910";CinemaItem_llittleStruct.DependPackages=["Street"];return CinemaItem_llittleStruct}(fairygui.GLabel));Street.CinemaItem_llittleStruct=CinemaItem_llittleStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaItem_llittle=(function(_super){__extends(CinemaItem_llittle,_super);function CinemaItem_llittle(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(CinemaItem_llittle.prototype,"Level",{set:function(lv){if(lv>5){lv=4;console.log("Cinema signLevel: :",lv)}if(lv<1){lv=1;console.log("Cinema signLevel: :",lv)}this.m_icon.Level=lv},enumerable:true,configurable:true});return CinemaItem_llittle}(Street.CinemaItem_llittleStruct));Street.CinemaItem_llittle=CinemaItem_llittle})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaSelectItemStruct=(function(_super){__extends(CinemaSelectItemStruct,_super);function CinemaSelectItemStruct(){return _super.call(this)||this}CinemaSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","CinemaSelectItem"))};CinemaSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_txtCinemaNums=(this.getChild("txtCinemaNums"));this.m_txtLike=(this.getChild("txtLike"));this.m_cinemaIcon=(this.getChild("cinemaIcon"))};CinemaSelectItemStruct.URL="ui://mu4e45moky790";CinemaSelectItemStruct.DependPackages=["Street","Common"];return CinemaSelectItemStruct}(fairygui.GButton));Street.CinemaSelectItemStruct=CinemaSelectItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CinemaSelectItem=(function(_super){__extends(CinemaSelectItem,_super);function CinemaSelectItem(){return _super!==null&&_super.apply(this,arguments)||this}CinemaSelectItem.prototype.Render=function(cinemaId){this.cinemaId=cinemaId;var cfg=Game.config.cinema.getConfig(cinemaId);if(cfg){this.m_cinemaIcon.icon=cfg.iconUrl;this.m_cinemaIcon.Level=cfg.sign_level;this.m_txtCinemaNums.text=cfg.num.toString();this.m_txtLike.text=cfg.favoriteActor}};return CinemaSelectItem}(Street.CinemaSelectItemStruct));Street.CinemaSelectItem=CinemaSelectItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CircleIconStruct=(function(_super){__extends(CircleIconStruct,_super);function CircleIconStruct(){return _super.call(this)||this}CircleIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","circleIcon"))};CircleIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};CircleIconStruct.URL="ui://mu4e45modo332d";CircleIconStruct.DependPackages=["Street"];return CircleIconStruct}(fairygui.GComponent));Street.CircleIconStruct=CircleIconStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var CircleIcon=(function(_super){__extends(CircleIcon,_super);function CircleIcon(){return _super!==null&&_super.apply(this,arguments)||this}return CircleIcon}(Street.CircleIconStruct));Street.CircleIcon=CircleIcon})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var MenuIconStruct=(function(_super){__extends(MenuIconStruct,_super);function MenuIconStruct(){return _super.call(this)||this}MenuIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","MenuIcon"))};MenuIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};MenuIconStruct.URL="ui://mu4e45moh9ou14";MenuIconStruct.DependPackages=["Street","Common"];return MenuIconStruct}(fairygui.GButton));Street.MenuIconStruct=MenuIconStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var MenuIcon=(function(_super){__extends(MenuIcon,_super);function MenuIcon(){return _super!==null&&_super.apply(this,arguments)||this}return MenuIcon}(Street.MenuIconStruct));Street.MenuIcon=MenuIcon})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var PactIconStruct=(function(_super){__extends(PactIconStruct,_super);function PactIconStruct(){return _super.call(this)||this}PactIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","PactIcon"))};PactIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};PactIconStruct.URL="ui://mu4e45moh9ou11";PactIconStruct.DependPackages=["Street","WarMovie","Common"];return PactIconStruct}(fairygui.GButton));Street.PactIconStruct=PactIconStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var PactIcon=(function(_super){__extends(PactIcon,_super);function PactIcon(){return _super!==null&&_super.apply(this,arguments)||this}return PactIcon}(Street.PactIconStruct));Street.PactIcon=PactIcon})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var PactIcon_80Struct=(function(_super){__extends(PactIcon_80Struct,_super);function PactIcon_80Struct(){return _super.call(this)||this}PactIcon_80Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","PactIcon_80"))};PactIcon_80Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};PactIcon_80Struct.URL="ui://mu4e45moh67b28";PactIcon_80Struct.DependPackages=["Street","WarMovie","Common"];return PactIcon_80Struct}(fairygui.GButton));Street.PactIcon_80Struct=PactIcon_80Struct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var PactIcon_80=(function(_super){__extends(PactIcon_80,_super);function PactIcon_80(){return _super!==null&&_super.apply(this,arguments)||this}return PactIcon_80}(Street.PactIcon_80Struct));Street.PactIcon_80=PactIcon_80})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var RankGroupItemStruct=(function(_super){__extends(RankGroupItemStruct,_super);function RankGroupItemStruct(){return _super.call(this)||this}RankGroupItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","RankGroupItem"))};RankGroupItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_hasReward=this.getController("hasReward");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtName=(this.getChild("txtName"));this.m_icon=(this.getChild("icon"));this.m_labReward=(this.getChild("labReward"));this.m_btnPlayer=(this.getChild("btnPlayer"));this.m_btnCongratulate=(this.getChild("btnCongratulate"));this.m_aniBling=this.getTransition("aniBling")};RankGroupItemStruct.URL="ui://mu4e45moh9ou1i";RankGroupItemStruct.DependPackages=["Street","Common","Cooperation"];return RankGroupItemStruct}(fairygui.GLabel));Street.RankGroupItemStruct=RankGroupItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var RankGroupItem=(function(_super){__extends(RankGroupItem,_super);function RankGroupItem(){return _super!==null&&_super.apply(this,arguments)||this}RankGroupItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnCongratulate.onClick(this,this.OnBtnCongratulateClick);this.m_btnPlayer.onClick(this,this.OnBtnPlayerClick);this.tick=Game.tick.AddTick(1,-1,new Handler(this,this.OnTick),new Handler(this,this.OnTickFinish))};RankGroupItem.prototype.Render=function(rankData){this.rankData=rankData;if(this.rankData){this.rank=this.rankData.rank;this.icon=this.rankData.playerIconUrl;this.m_txtName.text=this.rankData.desc.name;this.m_txtMovie.text=this.rankData.desc.totalBoxOffice>0?formatNumberUnit(this.rankData.desc.totalBoxOffice):"";var userRank=Game.moduleModel.rank.SelfGroupRankData;if(User.account.userId==this.rankData.desc.userId){this.icon=User.headIconUrl;this.m_txtName.text=User.info.name;this.m_BG.setSelectedIndex(1);this.m_isMine.setSelectedIndex(1)}else{this.m_BG.setSelectedIndex(0);this.m_isMine.setSelectedIndex(0)}this.m_hasReward.setSelectedIndex(this.rankData.hasReward?1:0);if(this.rankData.canCongratulate){this.m_btnCongratulate.visible=true;var cd=Game.moduleModel.street.gronpRankCongratulateCD;if(cd>0){this.m_btnCongratulate.enabled=false;this.tick.SetTargetTimes(cd);this.tick.Restart()}else{this.m_btnCongratulate.enabled=true;this.tick.Stop()}}else{this.m_btnCongratulate.visible=false;this.tick.Stop()}}};RankGroupItem.prototype.OnBtnPlayerClick=function(){if(this.rankData.desc.userId){var playerData=Game.moduleModel.rank.GetPlayerShortData(this.rankData.desc.userId);if(playerData){Game.system.playerInfo(playerData)}else{Game.system.playerInfo(this.rankData.desc.userId)}}};RankGroupItem.prototype.OnBtnCongratulateClick=function(){var cd=Game.moduleModel.street.gronpRankCongratulateCD;if(cd<=0){if(this.rankData.desc.userId==User.account.userId){Game.system.toastText(Games.TEXT.StreetCongratulateSelf);return}Game.protosender.rank.GetStreetReward(1000+this.rankData.rank)}};Object.defineProperty(RankGroupItem.prototype,"rank",{set:function(num){if(num<=3&&num>0){this.m_Rank.setSelectedIndex(num)}else{this.m_Rank.setSelectedIndex(0);this.m_txtRank.text=num.toString()}},enumerable:true,configurable:true});RankGroupItem.prototype.OnTick=function(residue_times){if(this.m_btnCongratulate.m_time.visible){this.m_btnCongratulate.m_time.text=TimeHelper.TimeFormat(residue_times);return}this.tick.Stop()};RankGroupItem.prototype.OnTickFinish=function(){this.tick.Stop()};return RankGroupItem}(Street.RankGroupItemStruct));Street.RankGroupItem=RankGroupItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var RankGroupMovieItemStruct=(function(_super){__extends(RankGroupMovieItemStruct,_super);function RankGroupMovieItemStruct(){return _super.call(this)||this}RankGroupMovieItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","RankGroupMovieItem"))};RankGroupMovieItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_BG=this.getController("BG");this.m_Rank=this.getController("Rank");this.m_isMine=this.getController("isMine");this.m_txtRank=(this.getChild("txtRank"));this.m_txtMovieName=(this.getChild("txtMovieName"));this.m_txtName=(this.getChild("txtName"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_btnMovie=(this.getChild("btnMovie"));this.m_btnCongratulate=(this.getChild("btnCongratulate"));this.m_aniBling=this.getTransition("aniBling")};RankGroupMovieItemStruct.URL="ui://mu4e45moh9ou1q";RankGroupMovieItemStruct.DependPackages=["Street","Common"];return RankGroupMovieItemStruct}(fairygui.GLabel));Street.RankGroupMovieItemStruct=RankGroupMovieItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var RankGroupMovieItem=(function(_super){__extends(RankGroupMovieItem,_super);function RankGroupMovieItem(){return _super!==null&&_super.apply(this,arguments)||this}RankGroupMovieItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnCongratulate.onClick(this,this.OnBtnCongratulateClick);this.m_btnMovie.onClick(this,this.OnBtnMovieClick);this.tick=Game.tick.AddTick(1,-1,new Handler(this,this.OnTick),new Handler(this,this.OnTickFinish))};RankGroupMovieItem.prototype.Render=function(rankData){this.rankData=rankData;if(this.rankData){this.rank=this.rankData.rank;this.m_txtName.text=this.rankData.desc.name;this.m_txtMovie.text=this.rankData.desc.totalBoxOffice>0?formatNumberUnit(this.rankData.desc.totalBoxOffice):"";this.m_btnMovie.icon=Game.config.story.GetPoster(this.rankData.desc.movieId);this.m_btnMovie.visible=this.rankData.desc.movieId!=0;this.m_txtMovieName.text=this.rankData.desc.movieName;if(User.account.userId==this.rankData.desc.userId){this.m_txtName.text=User.info.name;this.m_BG.setSelectedIndex(1);this.m_isMine.setSelectedIndex(1)}else{this.m_BG.setSelectedIndex(0);this.m_isMine.setSelectedIndex(0)}if(this.rankData.canCongratulate){this.m_btnCongratulate.visible=true;var cd=Game.moduleModel.street.groupMovieRankCongratulateCD;if(cd>0){this.m_btnCongratulate.enabled=false;this.tick.SetTargetTimes(cd);this.tick.Restart()}else{this.m_btnCongratulate.enabled=true;this.tick.Stop()}}else{this.m_btnCongratulate.visible=false;this.tick.Stop()}}};Object.defineProperty(RankGroupMovieItem.prototype,"rank",{set:function(num){if(num<=3&&num>0){this.m_Rank.setSelectedIndex(num)}else{this.m_Rank.setSelectedIndex(0);this.m_txtRank.text=num.toString()}},enumerable:true,configurable:true});RankGroupMovieItem.prototype.OnBtnMovieClick=function(){if(this.rankData.desc.movieUuid){var movieData=Game.moduleModel.rank.GetMovieShort(this.rankData.desc.movieUuid);if(movieData){Game.system.movieInfo(movieData)}else{Game.system.movieInfo(this.rankData.desc.movieUuid)}}};RankGroupMovieItem.prototype.OnBtnCongratulateClick=function(){var cd=Game.moduleModel.street.groupMovieRankCongratulateCD;if(cd<=0){if(this.rankData.desc.userId==User.account.userId){Game.system.toastText(Games.TEXT.StreetCongratulateSelf);return}Game.protosender.rank.GetStreetReward(2000+this.rankData.rank)}};RankGroupMovieItem.prototype.OnTick=function(residue_times){if(this.m_btnCongratulate.m_time.visible){this.m_btnCongratulate.m_time.text=TimeHelper.TimeFormat(residue_times);return}this.tick.Stop()};RankGroupMovieItem.prototype.OnTickFinish=function(){this.tick.Stop()};return RankGroupMovieItem}(Street.RankGroupMovieItemStruct));Street.RankGroupMovieItem=RankGroupMovieItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetCinemaSelectedPanelStruct=(function(_super){__extends(StreetCinemaSelectedPanelStruct,_super);function StreetCinemaSelectedPanelStruct(){return _super.call(this)||this}StreetCinemaSelectedPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetCinemaSelectedPanel"))};StreetCinemaSelectedPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_cinemaIcon=(this.getChild("cinemaIcon"));this.m_btnClose=(this.getChild("btnClose"))};StreetCinemaSelectedPanelStruct.URL="ui://mu4e45moky795";StreetCinemaSelectedPanelStruct.DependPackages=["Street","Common","WarMovie"];return StreetCinemaSelectedPanelStruct}(fairygui.GComponent));Street.StreetCinemaSelectedPanelStruct=StreetCinemaSelectedPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetCinemaSelectedPanel=(function(_super){__extends(StreetCinemaSelectedPanel,_super);function StreetCinemaSelectedPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetCinemaSelectedPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnBtnCloseClick)};StreetCinemaSelectedPanel.prototype.onWindowOpen=function(arg){this.moduleMain=this.moduleWindow.mainWindow;this.cinemaId=arg;this.UpdateView()};StreetCinemaSelectedPanel.prototype.onWindowShow=function(){};StreetCinemaSelectedPanel.prototype.onWindowHide=function(){};StreetCinemaSelectedPanel.prototype.UpdateView=function(){if(this.cinemaId){var cfg=Game.config.cinema.getConfig(this.cinemaId);this.m_txtTip1.text=cfg.proportionString;this.m_txtTip2.text=Game.config.msg.getTxtFormat(MsgKey.cinema_sign,cfg.name,numberToLetter(6-cfg.level),cfg.num);this.m_cinemaIcon.icon=cfg.iconUrl;this.m_cinemaIcon.Level=cfg.sign_level}};StreetCinemaSelectedPanel.prototype.OnBtnCloseClick=function(){this.moduleWindow.closeSelf()};return StreetCinemaSelectedPanel}(Street.StreetCinemaSelectedPanelStruct));Street.StreetCinemaSelectedPanel=StreetCinemaSelectedPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetCinemaViewStruct=(function(_super){__extends(StreetCinemaViewStruct,_super);function StreetCinemaViewStruct(){return _super.call(this)||this}StreetCinemaViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetCinemaView"))};StreetCinemaViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_name=(this.getChild("name"));this.m_num=(this.getChild("num"));this.m_listCinema=(this.getChild("listCinema"));this.m_btnSign=(this.getChild("btnSign"));this.m_cinemaItem=(this.getChild("cinemaItem"))};StreetCinemaViewStruct.URL="ui://mu4e45moky79w";StreetCinemaViewStruct.DependPackages=["Street","Common"];return StreetCinemaViewStruct}(fairygui.GComponent));Street.StreetCinemaViewStruct=StreetCinemaViewStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetCinemaView=(function(_super){__extends(StreetCinemaView,_super);function StreetCinemaView(){return _super!==null&&_super.apply(this,arguments)||this}StreetCinemaView.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listCinema.itemRenderer=new Handler(this,this.RenderCinemaItem,null,false);this.m_btnSign.onClick(this,this.OnBtnSignClick)};StreetCinemaView.prototype.Render=function(data,moduleWindow){this.streetData=data;this.moduleWindow=moduleWindow;if(this.streetData.canSign){this.m_num.text=this.streetData.cinemaStaticNum.toString();this.m_state.setSelectedIndex(2)}else{if(this.streetData.hasCinema){this.m_num.text=this.streetData.cinemaNum.toString();this.m_state.setSelectedIndex(3)}else{var cinemaList=this.streetData.Cfg.cinema;if(cinemaList.length==1){this.m_state.setSelectedIndex(0);var data_1=this.streetData.Cfg.cinema[0];var cfg=Game.config.cinema.getConfig(data_1);this.m_cinemaItem.icon=cfg.iconUrl;this.m_cinemaItem.m_num.text=cfg.num.toString();this.m_cinemaItem.Level=cfg.sign_level}else{this.m_state.setSelectedIndex(1);this.m_listCinema.numItems=cinemaList.length}}}};StreetCinemaView.prototype.OnBtnSignClick=function(){this.moduleWindow.OnSignClick(this)};StreetCinemaView.prototype.RenderCinemaItem=function(index,obj){var data=this.streetData.Cfg.cinema[index];var cfg=Game.config.cinema.getConfig(data);obj.icon=cfg.iconUrl;obj.m_num.text=cfg.num.toString();obj.Level=cfg.sign_level};return StreetCinemaView}(Street.StreetCinemaViewStruct));Street.StreetCinemaView=StreetCinemaView})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetIconStruct=(function(_super){__extends(StreetIconStruct,_super);function StreetIconStruct(){return _super.call(this)||this}StreetIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetIcon"))};StreetIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isRed=this.getController("isRed");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};StreetIconStruct.URL="ui://mu4e45moky79c";StreetIconStruct.DependPackages=["Street","Common"];return StreetIconStruct}(fairygui.GButton));Street.StreetIconStruct=StreetIconStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetIcon=(function(_super){__extends(StreetIcon,_super);function StreetIcon(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(StreetIcon.prototype,"isRed",{set:function(value){this.m_isRed.setSelectedIndex(value?1:0)},enumerable:true,configurable:true});return StreetIcon}(Street.StreetIconStruct));Street.StreetIcon=StreetIcon})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetInfoPanelStruct=(function(_super){__extends(StreetInfoPanelStruct,_super);function StreetInfoPanelStruct(){return _super.call(this)||this}StreetInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetInfoPanel"))};StreetInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isCurrent=this.getController("isCurrent");this.m_canReward=this.getController("canReward");this.m_listReward=(this.getChild("listReward"));this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_txtTip3=(this.getChild("txtTip3"));this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"));this.m_btnReward=(this.getChild("btnReward"));this.m_btnConfirm=(this.getChild("btnConfirm"));this.m_btnClose=(this.getChild("btnClose"));this.m_txtStreetInfo=(this.getChild("txtStreetInfo"));this.m_txtRewardInfo=(this.getChild("txtRewardInfo"))};StreetInfoPanelStruct.URL="ui://mu4e45moky796";StreetInfoPanelStruct.DependPackages=["Street","Common","PfSkin"];return StreetInfoPanelStruct}(fairygui.GComponent));Street.StreetInfoPanelStruct=StreetInfoPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetInfoPanel=(function(_super){__extends(StreetInfoPanel,_super);function StreetInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetInfoPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnCloseClick);this.m_btnConfirm.onClick(this,this.OnBtnConfirmClick);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false);this.m_listReward.itemProvider=new Handler(this,this.GetRewardItemResource,null,false);this.m_btnReward.onClick(this,this.OnGetReward)};StreetInfoPanel.prototype.onWindowOpen=function(arg){this.streetData=arg;this.UpdateView()};StreetInfoPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.rank_GetStreetReward,this.OnGetStreetRewardResponse,this)};StreetInfoPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.rank_GetStreetReward,this.OnGetStreetRewardResponse,this)};StreetInfoPanel.prototype.UpdateView=function(){this.m_title.text=this.streetData.Name;this.m_txtTip2.text=Game.config.msg.getTxtFormat(MsgKey.trophy_tips);this.m_txtTip3.text=Game.config.msg.getTxt(MsgKey.trophy_tips2);this.m_txtRewardInfo.text=this.streetData.Cfg.nextMsg;var rewardList=this.streetData.Cfg.upgrade_reward;this.m_listReward.numItems=rewardList.length;if(this.streetData.isCurrent){this.m_isCurrent.setSelectedIndex(1);var nextCfg=Game.config.blockLevel.GetNextSteetCfg(this.streetData.id);this.m_txtTip1.text=nextCfg?Game.config.msg.getTxtFormat(MsgKey.block_upgrade_requirement,nextCfg.name):"";this.m_txtStreetInfo.text=this.streetData.Cfg.currentMsg;this.m_progress.value=Game.moduleModel.street.cupNum;this.m_progress.max=Game.moduleModel.street.GetMaxCup(this.streetData.id);this.m_progress.m_title.text=this.m_progress.value+"/"+this.m_progress.max}else{this.m_txtTip1.text=Game.config.msg.getTxt(MsgKey.finished_block);this.m_isCurrent.setSelectedIndex(0);this.m_progress.m_title.text="MAX"}this.m_canReward.setSelectedIndex(this.streetData.isCurrent&&Game.moduleModel.street.canReward?1:0)};StreetInfoPanel.prototype.RenderRewardItem=function(index,obj){var data=this.streetData.Cfg.upgrade_reward[index];var itemData=Games.ItemData.Create(data.itemId,data.itemNum);if(itemData.itemType==7){var pact=obj;pact.Render(itemData)}else{var item=obj;item.icon=itemData.itemIconUrl;item.m_title.text=formatNumberUnit(itemData.itemNum);item.m_star.starNum=itemData.itemStar;item.PopupInfo=data.itemId}};StreetInfoPanel.prototype.GetRewardItemResource=function(index){var data=this.streetData.Cfg.upgrade_reward[index];var item=Games.ItemData.Create(data.itemId,data.itemNum);if(item.itemType==7){return fgui.Common.PactIcon_80.URL}else{return fgui.Common.CommonItem_70.URL}};StreetInfoPanel.prototype.OnCloseClick=function(){this.moduleWindow.closeSelf()};StreetInfoPanel.prototype.OnBtnConfirmClick=function(){this.moduleWindow.closeSelf()};StreetInfoPanel.prototype.OnGetReward=function(){Game.protosender.rank.GetStreetReward(0)};StreetInfoPanel.prototype.OnGetStreetRewardResponse=function(){this.UpdateView()};return StreetInfoPanel}(Street.StreetInfoPanelStruct));Street.StreetInfoPanel=StreetInfoPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetItemStruct=(function(_super){__extends(StreetItemStruct,_super);function StreetItemStruct(){return _super.call(this)||this}StreetItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetItem"))};StreetItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_isCurrent=this.getController("isCurrent");this.m_btnSelect=(this.getChild("btnSelect"));this.m_streetIcon=(this.getChild("streetIcon"));this.m_playerIcon=(this.getChild("playerIcon"));this.m_rewardView=(this.getChild("rewardView"));this.m_cinemaView=(this.getChild("cinemaView"));this.m_progress=(this.getChild("progress"));this.m_t0=this.getTransition("t0")};StreetItemStruct.URL="ui://mu4e45moky79b";StreetItemStruct.DependPackages=["Street","Common"];return StreetItemStruct}(fairygui.GLabel));Street.StreetItemStruct=StreetItemStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetItem=(function(_super){__extends(StreetItem,_super);function StreetItem(){return _super!==null&&_super.apply(this,arguments)||this}StreetItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_btnSelect.onClick(this,this.OnSelect)};StreetItem.prototype.Render=function(data,moduleWindow){this.streetData=data;this.moduleWindow=moduleWindow;this.m_streetIcon.icon=this.streetData.iconUrl;this.m_streetIcon.title=this.streetData.Cfg.name;this.m_streetIcon.grayed=this.streetData.isLock;this.m_streetIcon.isRed=this.streetData.isCurrent&&Game.moduleModel.street.canReward;this.m_playerIcon.m_icon.m_icon.url=User.headIconUrl;this.m_progress.value=Game.moduleModel.street.cupNum;this.m_progress.max=Game.moduleModel.street.GetMaxCup(this.streetData.id);this.m_isCurrent.setSelectedIndex(this.streetData.isCurrent?1:0);this.height=this.streetData.isCurrent?288:222;this.m_cinemaView.Render(this.streetData,this.moduleWindow);this.m_rewardView.Render(this.streetData)};StreetItem.prototype.OnSelect=function(){this.moduleWindow.OnItemClick(this)};return StreetItem}(Street.StreetItemStruct));Street.StreetItem=StreetItem})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetListPanelStruct=(function(_super){__extends(StreetListPanelStruct,_super);function StreetListPanelStruct(){return _super.call(this)||this}StreetListPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetListPanel"))};StreetListPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"));this.m_btnClose=(this.getChild("btnClose"));this.m_btnRank=(this.getChild("btnRank"))};StreetListPanelStruct.URL="ui://mu4e45moky79g";StreetListPanelStruct.DependPackages=["Street","Common"];return StreetListPanelStruct}(fairygui.GComponent));Street.StreetListPanelStruct=StreetListPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetListPanel=(function(_super){__extends(StreetListPanel,_super);function StreetListPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetListPanel.prototype.onInit=function(moduleWindow){this.moduleWindow=moduleWindow;this.m_btnClose.onClick(this,this.OnCloseClick);this.m_btnRank.onClick(this,this.OnBtnRankClick);this.m_list.itemRenderer=new Handler(this,this.RenderListItem,null,false);this.m_list.setVirtual()};StreetListPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.UpdateView()};StreetListPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.GameInfo,this.UpdateView,this)};StreetListPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.GameInfo,this.UpdateView,this)};StreetListPanel.prototype.UpdateView=function(){this.streetList=Game.moduleModel.street.StreetList;this.m_list.numItems=this.streetList.length;this.m_list.refreshVirtualList();this.m_list.scrollToView(Game.moduleModel.street.NextStreetNum)};StreetListPanel.prototype.RenderListItem=function(index,obj){var data=this.streetList[index];obj.Render(data,this)};StreetListPanel.prototype.OnItemClick=function(obj){var item=obj;if(item.streetData.isLock){this.moduleWindow.openSubwindowByIndex(Games.StreetWindowSubEnum.StreetLvUpInfoPanel,true,item.streetData)}else{this.moduleWindow.openSubwindowByIndex(Games.StreetWindowSubEnum.StreetInfoPanel,true,item.streetData)}};StreetListPanel.prototype.OnSignClick=function(obj){var item=obj;this.moduleWindow.openSubwindowByIndex(Games.StreetWindowSubEnum.StreetSelectCinemaPanel,true,item.streetData)};StreetListPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};StreetListPanel.prototype.OnBtnRankClick=function(){this.moduleWindow.conent.OpenStreetRankPanel()};StreetListPanel.prototype.ShowSelectCinemaPanel=function(){this.moduleWindow.openSubwindowByIndex(Games.StreetWindowSubEnum.StreetSelectCinemaPanel)};return StreetListPanel}(Street.StreetListPanelStruct));Street.StreetListPanel=StreetListPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetLvUpInfoPanelStruct=(function(_super){__extends(StreetLvUpInfoPanelStruct,_super);function StreetLvUpInfoPanelStruct(){return _super.call(this)||this}StreetLvUpInfoPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetLvUpInfoPanel"))};StreetLvUpInfoPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_txtTip1=(this.getChild("txtTip1"));this.m_txtTip2=(this.getChild("txtTip2"));this.m_txtTip3=(this.getChild("txtTip3"));this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"));this.m_btnConfirm=(this.getChild("btnConfirm"));this.m_btnClose=(this.getChild("btnClose"))};StreetLvUpInfoPanelStruct.URL="ui://mu4e45moky79i";StreetLvUpInfoPanelStruct.DependPackages=["Street","Common"];return StreetLvUpInfoPanelStruct}(fairygui.GComponent));Street.StreetLvUpInfoPanelStruct=StreetLvUpInfoPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetLvUpInfoPanel=(function(_super){__extends(StreetLvUpInfoPanel,_super);function StreetLvUpInfoPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetLvUpInfoPanel.prototype.onWindowInited=function(){this.m_btnClose.onClick(this,this.OnCloseClick);this.m_btnConfirm.onClick(this,this.OnBtnConfirmClick)};StreetLvUpInfoPanel.prototype.onWindowOpen=function(arg){this.streetData=arg;this.UpdateView()};StreetLvUpInfoPanel.prototype.onWindowShow=function(){};StreetLvUpInfoPanel.prototype.onWindowHide=function(){};StreetLvUpInfoPanel.prototype.UpdateView=function(){this.m_txtTip1.text=Game.config.msg.getTxtFormat(MsgKey.block_upgrade_requirement,this.streetData.Cfg.name);this.m_txtTip2.text=Game.config.msg.getTxt(MsgKey.trophy_tips);this.m_txtTip3.text=Game.config.msg.getTxt(MsgKey.trophy_tips2);this.m_progress.value=Game.moduleModel.street.cupNum;this.m_progress.max=Game.moduleModel.street.GetMaxCup(this.streetData.id);this.m_title.text=this.streetData.Name};StreetLvUpInfoPanel.prototype.OnCloseClick=function(){this.moduleWindow.closeSelf()};StreetLvUpInfoPanel.prototype.OnBtnConfirmClick=function(){this.moduleWindow.closeSelf()};return StreetLvUpInfoPanel}(Street.StreetLvUpInfoPanelStruct));Street.StreetLvUpInfoPanel=StreetLvUpInfoPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetMainPanelStruct=(function(_super){__extends(StreetMainPanelStruct,_super);function StreetMainPanelStruct(){return _super.call(this)||this}StreetMainPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetMainPanel"))};StreetMainPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showTab=this.getController("showTab");this.m_rankPanel=(this.getChild("rankPanel"));this.m_streetPanel=(this.getChild("streetPanel"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};StreetMainPanelStruct.URL="ui://mu4e45moky79j";StreetMainPanelStruct.DependPackages=["Street","Common"];return StreetMainPanelStruct}(fairygui.GComponent));Street.StreetMainPanelStruct=StreetMainPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetMainPanel=(function(_super){__extends(StreetMainPanel,_super);function StreetMainPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetMainPanel.prototype.onWindowInited=function(){this.m_rankPanel.onInit(this.moduleWindow);this.m_streetPanel.onInit(this.moduleWindow)};StreetMainPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}this.OpenStreetRankPanel()};StreetMainPanel.prototype.onWindowShow=function(){this.m_rankPanel.onWindowShow();this.m_streetPanel.onWindowShow()};StreetMainPanel.prototype.onWindowHide=function(){this.m_rankPanel.onWindowHide();this.m_streetPanel.onWindowHide()};StreetMainPanel.prototype.UpdateView=function(){switch(this.m_showTab.selectedIndex){case 0:this.m_rankPanel.UpdateView();break;case 1:this.m_streetPanel.UpdateView();break;default:break}};StreetMainPanel.prototype.OpenStreetRankPanel=function(){this.m_showTab.setSelectedIndex(0);this.m_rankPanel.onWindowOpen()};StreetMainPanel.prototype.OpenStreetListPanel=function(){this.m_showTab.setSelectedIndex(1);this.m_streetPanel.onWindowOpen()};return StreetMainPanel}(Street.StreetMainPanelStruct));Street.StreetMainPanel=StreetMainPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetProgressBarStruct=(function(_super){__extends(StreetProgressBarStruct,_super);function StreetProgressBarStruct(){return _super.call(this)||this}StreetProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetProgressBar"))};StreetProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};StreetProgressBarStruct.URL="ui://mu4e45moky79s";StreetProgressBarStruct.DependPackages=["Street"];return StreetProgressBarStruct}(fairygui.GProgressBar));Street.StreetProgressBarStruct=StreetProgressBarStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetProgressBar=(function(_super){__extends(StreetProgressBar,_super);function StreetProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return StreetProgressBar}(Street.StreetProgressBarStruct));Street.StreetProgressBar=StreetProgressBar})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetProgressBar2Struct=(function(_super){__extends(StreetProgressBar2Struct,_super);function StreetProgressBar2Struct(){return _super.call(this)||this}StreetProgressBar2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetProgressBar2"))};StreetProgressBar2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};StreetProgressBar2Struct.URL="ui://mu4e45moky79t";StreetProgressBar2Struct.DependPackages=["Street"];return StreetProgressBar2Struct}(fairygui.GProgressBar));Street.StreetProgressBar2Struct=StreetProgressBar2Struct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetProgressBar2=(function(_super){__extends(StreetProgressBar2,_super);function StreetProgressBar2(){return _super!==null&&_super.apply(this,arguments)||this}return StreetProgressBar2}(Street.StreetProgressBar2Struct));Street.StreetProgressBar2=StreetProgressBar2})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetRankPanelStruct=(function(_super){__extends(StreetRankPanelStruct,_super);function StreetRankPanelStruct(){return _super.call(this)||this}StreetRankPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetRankPanel"))};StreetRankPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rankType=this.getController("rankType");this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"));this.m_listTab=(this.getChild("listTab"));this.m_txtGroupMovieRank=(this.getChild("txtGroupMovieRank"));this.m_txtGroupMovie=(this.getChild("txtGroupMovie"));this.m_txtMovieTime=(this.getChild("txtMovieTime"));this.m_tip=(this.getChild("tip"));this.m_txtMovie=(this.getChild("txtMovie"));this.m_txtMovieRank=(this.getChild("txtMovieRank"));this.m_txtMovieName=(this.getChild("txtMovieName"));this.m_btnClose=(this.getChild("btnClose"));this.m_marquee=(this.getChild("marquee"));this.m_streetIcon=(this.getChild("streetIcon"))};StreetRankPanelStruct.URL="ui://mu4e45moky79k";StreetRankPanelStruct.DependPackages=["Street","Common","PfSkin"];return StreetRankPanelStruct}(fairygui.GComponent));Street.StreetRankPanelStruct=StreetRankPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetRankPanel=(function(_super){__extends(StreetRankPanel,_super);function StreetRankPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.selectIndex=-1;return _this}StreetRankPanel.prototype.onInit=function(moduleWindow){this.moduleWindow=moduleWindow;this.m_btnClose.onClick(this,this.OnCloseClick);this.m_listTab.onClick(this,this.OnTabClick);this.m_streetIcon.onClick(this,this.OnStreetIconClick);this.m_list.itemRenderer=new Handler(this,this.RenderListItem,null,false);this.m_list.itemProvider=new Handler(this,this.ProviderItem,null,false);this.m_list.setVirtual();this.tick=Game.tick.AddTick(1,0,new Handler(this,this.OnTick),new Handler(this,this.OnTickFinish))};StreetRankPanel.prototype.RenderListItem=function(index,obj){if(this.m_rankType.selectedIndex==0){var item=obj;var data=this.rankGroupList[index];item.Render(data)}else{var item=obj;var data=this.rankGroupMovieList[index];item.Render(data)}};StreetRankPanel.prototype.ProviderItem=function(index){if(this.m_rankType.selectedIndex==0){return fgui.Street.RankGroupItem.URL}else{return fgui.Street.RankGroupMovieItem.URL}};StreetRankPanel.prototype.OnTick=function(residue_times){this.m_txtMovieTime.text=TimeHelper.TimeFormat(Game.moduleModel.street.groupRankCD)};StreetRankPanel.prototype.OnTickFinish=function(){this.tick.Stop()};StreetRankPanel.prototype.UpdateView=function(){var selfStreetData=Game.moduleModel.street.selfStreetData;this.m_title.text=Games.TEXT.StreetTitle.format(Game.moduleModel.rank.rankInfo.serverId,TimeHelper.DateTimeFormat3(Game.time.serverSeconds));this.m_streetIcon.icon=selfStreetData.iconUrl;this.m_streetIcon.title=selfStreetData.Cfg.name;this.m_streetIcon.isRed=selfStreetData.isCurrent&&Game.moduleModel.street.canReward;var msgList=[Game.config.msg.getTxt(MsgKey.ranking_list_tips1),Game.config.msg.getTxt(MsgKey.ranking_list_tips2)];this.m_marquee.UpdateView(msgList);switch(this.m_rankType.selectedIndex){case 0:this.UpdateGroupView();break;case 1:this.UpdateMovieView();this.tick.Stop();break;default:break}};StreetRankPanel.prototype.UpdateGroupView=function(){this.tick.SetTargetTimes(Game.moduleModel.street.groupRankCD);this.tick.Restart();this.rankGroupList=Game.moduleModel.rank.GroupRankList||[];this.m_list.numItems=this.rankGroupList.length;var userData=Game.moduleModel.rank.SelfGroupRankData;if(userData){this.m_txtGroupMovieRank.text=Games.TEXT.RankText.format(Game.moduleModel.rank.SelfGroupRank);this.m_txtGroupMovie.text=formatNumberUnit(userData.desc.totalBoxOffice||0,userData.desc.totalBoxOffice>=1000?1:0)}this.m_tip.text=Game.config.msg.getTxt(MsgKey.ranking_list_reset)};StreetRankPanel.prototype.UpdateMovieView=function(){this.rankGroupMovieList=Game.moduleModel.rank.GroupMovieRankList||[];this.m_list.numItems=this.rankGroupMovieList.length;var userData=Game.moduleModel.rank.SelfGroupMovieRankData;if(userData&&userData.desc.movieName!=""){this.m_txtMovieName.text=userData.desc.movieName;this.m_txtMovieRank.text=userData.rank.toString();this.m_txtMovie.text=formatNumberUnit(userData.desc.totalBoxOffice||0,userData.desc.totalBoxOffice>=1000?1:0)}else{this.m_txtMovieName.text="";this.m_txtMovieRank.text="";this.m_txtMovie.text=""}};StreetRankPanel.prototype.OnStreetIconClick=function(){this.moduleWindow.conent.OpenStreetListPanel()};StreetRankPanel.prototype.OnTabClick=function(index){if(this.selectIndex==this.m_rankType.selectedIndex){return}this.selectIndex=this.m_rankType.selectedIndex;switch(this.m_rankType.selectedIndex){case 0:this.UpdateGroupView();break;case 1:this.UpdateMovieView();break;default:break}};StreetRankPanel.prototype.onWindowOpen=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}Game.protosender.rank.GetGroupRankList();Game.protosender.rank.GetGroupMovieRankList();this.selectIndex=-1;this.m_rankType.setSelectedIndex(0);this.OnTabClick(0)};StreetRankPanel.prototype.onWindowShow=function(){this.m_marquee.Show();Game.protoOkEvent.add(ProtoEventKey.rank_GetGroupMovieRankList,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetGroupRankList,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.rank_GetStreetReward,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.GameData_RenameGameData,this.UpdateView,this);Game.protoOkEvent.add(ProtoEventKey.GameData_RePortraitGameData,this.UpdateView,this)};StreetRankPanel.prototype.onWindowHide=function(){this.tick.Stop();this.m_marquee.Hide();Game.protoOkEvent.remove(ProtoEventKey.rank_GetGroupMovieRankList,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.rank_GetGroupRankList,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.rank_GetStreetReward,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.GameData_RenameGameData,this.UpdateView,this);Game.protoOkEvent.remove(ProtoEventKey.GameData_RePortraitGameData,this.UpdateView,this)};StreetRankPanel.prototype.OnCloseClick=function(){this.moduleWindow.menuClose()};return StreetRankPanel}(Street.StreetRankPanelStruct));Street.StreetRankPanel=StreetRankPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetRewardViewStruct=(function(_super){__extends(StreetRewardViewStruct,_super);function StreetRewardViewStruct(){return _super.call(this)||this}StreetRewardViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetRewardView"))};StreetRewardViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=this.getController("state");this.m_txtTip=(this.getChild("txtTip"));this.m_listReward=(this.getChild("listReward"))};StreetRewardViewStruct.URL="ui://mu4e45moky79v";StreetRewardViewStruct.DependPackages=["Street","Common"];return StreetRewardViewStruct}(fairygui.GButton));Street.StreetRewardViewStruct=StreetRewardViewStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetRewardView=(function(_super){__extends(StreetRewardView,_super);function StreetRewardView(){return _super!==null&&_super.apply(this,arguments)||this}StreetRewardView.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_listReward.itemRenderer=new Handler(this,this.RenderRewardItem,null,false);this.m_listReward.itemProvider=new Handler(this,this.GetRewardItemResource,null,false)};StreetRewardView.prototype.Render=function(data){this.streetData=data;var menuList=this.streetData.Cfg.UpgradeMenu;if(menuList&&menuList.length>0){this.m_state.setSelectedIndex(1);this.m_listReward.numItems=menuList.length}else{this.m_state.setSelectedIndex(0);var rewardList=this.streetData.Cfg.upgrade_reward;this.m_listReward.numItems=rewardList.length>2?2:rewardList.length}};StreetRewardView.prototype.RenderRewardItem=function(index,obj){if(this.m_state.selectedIndex==0){var data=this.streetData.Cfg.upgrade_reward[index];if(data==null){return}var itemData=Games.ItemData.Create(data.itemId,data.itemNum);if(itemData.itemType==7){var pact=obj;pact.Render(itemData)}else{var item=obj;item.icon=itemData.itemIconUrl;item.title=itemData.itemNumTxt;item.m_star.starNum=itemData.itemStar;item.PopupInfo=itemData.itemId}}else{var data=this.streetData.Cfg.UpgradeMenu[index];if(data==null){return}var menuItem=obj;var cfg=Game.config.menu.getConfig(data);if(cfg){menuItem.icon=cfg.iconUrl;menuItem.title=cfg.name}else{menuItem.icon="";menuItem.title=""}}};StreetRewardView.prototype.GetRewardItemResource=function(index){if(this.m_state.selectedIndex==0){var data=this.streetData.Cfg.upgrade_reward[index];if(data==null){return fgui.Common.CommonAssetItem_little.URL}var item=Games.ItemData.Create(data.itemId,data.itemNum);if(item.itemType==7){return fgui.Common.PactIcon_44.URL}else{return fgui.Common.CommonAssetItem_little.URL}}else{return fgui.Street.MenuIcon.URL}};return StreetRewardView}(Street.StreetRewardViewStruct));Street.StreetRewardView=StreetRewardView})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetSelectCinemaPanelStruct=(function(_super){__extends(StreetSelectCinemaPanelStruct,_super);function StreetSelectCinemaPanelStruct(){return _super.call(this)||this}StreetSelectCinemaPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","StreetSelectCinemaPanel"))};StreetSelectCinemaPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_list=(this.getChild("list"));this.m_title=(this.getChild("title"));this.m_btnConfirm=(this.getChild("btnConfirm"));this.m_btnClose=(this.getChild("btnClose"))};StreetSelectCinemaPanelStruct.URL="ui://mu4e45moky79p";StreetSelectCinemaPanelStruct.DependPackages=["Street","Common"];return StreetSelectCinemaPanelStruct}(fairygui.GComponent));Street.StreetSelectCinemaPanelStruct=StreetSelectCinemaPanelStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var StreetSelectCinemaPanel=(function(_super){__extends(StreetSelectCinemaPanel,_super);function StreetSelectCinemaPanel(){return _super!==null&&_super.apply(this,arguments)||this}StreetSelectCinemaPanel.prototype.onWindowInited=function(){this.m_list.itemRenderer=new Handler(this,this.RenderListItem,null,false);this.m_btnConfirm.onClick(this,this.OnBtnConfirmClick);this.m_btnClose.onClick(this,this.OnBtnCloseClick)};StreetSelectCinemaPanel.prototype.onWindowOpen=function(arg){this.moduleMain=this.moduleWindow.mainWindow;this.streetData=arg;this.m_list.selectedIndex=-1;this.UpdateView()};StreetSelectCinemaPanel.prototype.onWindowShow=function(){Game.protoOkEvent.add(ProtoEventKey.rank_ChoseTheater,this.OnSelectCinemaHandler,this)};StreetSelectCinemaPanel.prototype.onWindowHide=function(){Game.protoOkEvent.remove(ProtoEventKey.rank_ChoseTheater,this.OnSelectCinemaHandler,this)};StreetSelectCinemaPanel.prototype.UpdateView=function(){if(this.streetData){var cinemaList=this.streetData.Cfg.cinema;this.m_list.numItems=cinemaList.length;if(cinemaList.length==1){this.m_list.selectedIndex=0}}};StreetSelectCinemaPanel.prototype.RenderListItem=function(index,obj){var cinemaList=this.streetData.Cfg.cinema;var cinemaId=cinemaList[index];obj.Render(cinemaId)};StreetSelectCinemaPanel.prototype.OnBtnCloseClick=function(){this.moduleWindow.closeSelf()};StreetSelectCinemaPanel.prototype.OnBtnConfirmClick=function(){if(this.m_list.selectedIndex>=0){var cinemaList=this.streetData.Cfg.cinema;var cinema=cinemaList[this.m_list.selectedIndex];if(cinema){Game.protosender.rank.ChoseTheater(cinema)}}else{Game.system.toastMsg(MsgKey.choose_cinema)}};StreetSelectCinemaPanel.prototype.OnSelectCinemaHandler=function(){this.moduleWindow.closeSelf();var cinemaList=this.streetData.Cfg.cinema;var cinemaId=cinemaList[this.m_list.selectedIndex];this.moduleMain.openSubwindowByIndex(Games.StreetWindowSubEnum.StreetCinemaSelectedPanel,true,cinemaId)};return StreetSelectCinemaPanel}(Street.StreetSelectCinemaPanelStruct));Street.StreetSelectCinemaPanel=StreetSelectCinemaPanel})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var TabStreetStruct=(function(_super){__extends(TabStreetStruct,_super);function TabStreetStruct(){return _super.call(this)||this}TabStreetStruct.createInstance=function(){return(fairygui.UIPackage.createObject("Street","TabStreet"))};TabStreetStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_grayed=this.getController("grayed");this.m_title=(this.getChild("title"))};TabStreetStruct.URL="ui://mu4e45moiiww2a";TabStreetStruct.DependPackages=["Street","PfSkin"];return TabStreetStruct}(fairygui.GButton));Street.TabStreetStruct=TabStreetStruct})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var Street;(function(Street){var TabStreet=(function(_super){__extends(TabStreet,_super);function TabStreet(){return _super!==null&&_super.apply(this,arguments)||this}return TabStreet}(Street.TabStreetStruct));Street.TabStreet=TabStreet})(Street=fgui.Street||(fgui.Street={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var ButtonItemStruct=(function(_super){__extends(ButtonItemStruct,_super);function ButtonItemStruct(){return _super.call(this)||this}ButtonItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","ButtonItem"))};ButtonItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};ButtonItemStruct.URL="ui://6ecreso0kl6dx54";ButtonItemStruct.DependPackages=["SystemSettings"];return ButtonItemStruct}(fairygui.GButton));SystemSettings.ButtonItemStruct=ButtonItemStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var ButtonItem=(function(_super){__extends(ButtonItem,_super);function ButtonItem(){return _super!==null&&_super.apply(this,arguments)||this}return ButtonItem}(SystemSettings.ButtonItemStruct));SystemSettings.ButtonItem=ButtonItem})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var GiftPackageExchangeStruct=(function(_super){__extends(GiftPackageExchangeStruct,_super);function GiftPackageExchangeStruct(){return _super.call(this)||this}GiftPackageExchangeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","GiftPackageExchange"))};GiftPackageExchangeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_bg3=(this.getChild("bg3"));this.m_title=(this.getChild("title"));this.m_inputText=(this.getChild("inputText"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};GiftPackageExchangeStruct.URL="ui://6ecreso0izhnx41";GiftPackageExchangeStruct.DependPackages=["SystemSettings","Common","PfSkin"];return GiftPackageExchangeStruct}(fairygui.GComponent));SystemSettings.GiftPackageExchangeStruct=GiftPackageExchangeStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var GiftPackageExchange=(function(_super){__extends(GiftPackageExchange,_super);function GiftPackageExchange(){return _super!==null&&_super.apply(this,arguments)||this}GiftPackageExchange.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=Game.config.msg.getConfig(MsgKey.exchange_title).notice;this.m_okBtn.m_title.text=Game.config.msg.getConfig(MsgKey.exhange_button).notice;this.m_inputText.promptText=Game.config.msg.getConfig(MsgKey.exchange_input).notice;this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_bg.onClick(this,this.onClickCloseBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};GiftPackageExchange.prototype.onClickOkBtn=function(){Game.moduleModel.setting.exchange(this.m_inputText.text)};GiftPackageExchange.prototype.onClickCloseBtn=function(){this.visible=false;Game.moduleModel.setting.sCallGiftGetOk.remove(this.giftGetOk,this)};GiftPackageExchange.prototype.onShow=function(){this.visible=true;this.m_inputText.text="";Game.moduleModel.setting.sCallGiftGetOk.add(this.giftGetOk,this)};GiftPackageExchange.prototype.giftGetOk=function(){Game.system.toastText(Game.config.msg.getConfig(MsgKey.gift_success).notice)};return GiftPackageExchange}(SystemSettings.GiftPackageExchangeStruct));SystemSettings.GiftPackageExchange=GiftPackageExchange})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var LanguageItemStruct=(function(_super){__extends(LanguageItemStruct,_super);function LanguageItemStruct(){return _super.call(this)||this}LanguageItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","LanguageItem"))};LanguageItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_title=(this.getChild("title"))};LanguageItemStruct.URL="ui://6ecreso0izhnx43";LanguageItemStruct.DependPackages=["SystemSettings"];return LanguageItemStruct}(fairygui.GButton));SystemSettings.LanguageItemStruct=LanguageItemStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var LanguageItem=(function(_super){__extends(LanguageItem,_super);function LanguageItem(){return _super!==null&&_super.apply(this,arguments)||this}LanguageItem.prototype.setData=function(data){this.m_title.text=data.type};return LanguageItem}(SystemSettings.LanguageItemStruct));SystemSettings.LanguageItem=LanguageItem})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var NoneCStruct=(function(_super){__extends(NoneCStruct,_super);function NoneCStruct(){return _super.call(this)||this}NoneCStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","NoneC"))};NoneCStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=(this.getChild("state"))};NoneCStruct.URL="ui://6ecreso0kl6dx53";NoneCStruct.DependPackages=["SystemSettings"];return NoneCStruct}(fairygui.GComponent));SystemSettings.NoneCStruct=NoneCStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var NoneC=(function(_super){__extends(NoneC,_super);function NoneC(){return _super!==null&&_super.apply(this,arguments)||this}return NoneC}(SystemSettings.NoneCStruct));SystemSettings.NoneC=NoneC})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var OffCStruct=(function(_super){__extends(OffCStruct,_super);function OffCStruct(){return _super.call(this)||this}OffCStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","offC"))};OffCStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=(this.getChild("state"))};OffCStruct.URL="ui://6ecreso0kl6dx52";OffCStruct.DependPackages=["SystemSettings"];return OffCStruct}(fairygui.GComponent));SystemSettings.OffCStruct=OffCStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var OffC=(function(_super){__extends(OffC,_super);function OffC(){return _super!==null&&_super.apply(this,arguments)||this}return OffC}(SystemSettings.OffCStruct));SystemSettings.OffC=OffC})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var OnCStruct=(function(_super){__extends(OnCStruct,_super);function OnCStruct(){return _super.call(this)||this}OnCStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","onC"))};OnCStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_state=(this.getChild("state"))};OnCStruct.URL="ui://6ecreso0kl6dx51";OnCStruct.DependPackages=["SystemSettings"];return OnCStruct}(fairygui.GComponent));SystemSettings.OnCStruct=OnCStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var OnC=(function(_super){__extends(OnC,_super);function OnC(){return _super!==null&&_super.apply(this,arguments)||this}return OnC}(SystemSettings.OnCStruct));SystemSettings.OnC=OnC})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SelectLanguageStruct=(function(_super){__extends(SelectLanguageStruct,_super);function SelectLanguageStruct(){return _super.call(this)||this}SelectLanguageStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","SelectLanguage"))};SelectLanguageStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_title=(this.getChild("title"));this.m_languageList=(this.getChild("languageList"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};SelectLanguageStruct.URL="ui://6ecreso0izhnx42";SelectLanguageStruct.DependPackages=["SystemSettings","Common","PfSkin"];return SelectLanguageStruct}(fairygui.GComponent));SystemSettings.SelectLanguageStruct=SelectLanguageStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SelectLanguage=(function(_super){__extends(SelectLanguage,_super);function SelectLanguage(){return _super!==null&&_super.apply(this,arguments)||this}SelectLanguage.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_languageList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_languageList.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_bg.onClick(this,this.onClickCloseBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};SelectLanguage.prototype.onClickCloseBtn=function(){this.visible=false;Game.moduleModel.setting.sCallLanguagePanel.remove(null,this)};SelectLanguage.prototype.onClickOkBtn=function(){var _this=this;if(this.selectItem&&this.selectItem!==null){Game.system.confirmText(TEXT.LangSelectMsg,Games.TEXT.SwitchLanguage,this,function(){Game.moduleModel.setting.settingLanguageId=_this.selectItem.id;window.location.reload()})}this.onClickCloseBtn()};SelectLanguage.prototype.setData=function(){this.languageConfig=Game.config.languageType.getConfigList();this.m_languageList.numItems=this.languageConfig.length;if(Game.moduleModel.setting.settingLanguageId===0){Game.moduleModel.setting.settingLanguageId=Game.config.global.getConfig(GlobalKey.default_language).value}for(var i=0;i<this.languageConfig.length;i++){if(this.languageConfig[i].id===Game.moduleModel.setting.settingLanguageId){this.m_languageList.addSelection(i);break}}this.visible=true};SelectLanguage.prototype.initItem=function(index,obj){var item=obj;item.setData(this.languageConfig[index])};SelectLanguage.prototype.onClickItem=function(obj){var index=this.m_languageList.getChildIndex(obj);this.selectItem=this.languageConfig[index]};return SelectLanguage}(SystemSettings.SelectLanguageStruct));SystemSettings.SelectLanguage=SelectLanguage})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SettingsItemStruct=(function(_super){__extends(SettingsItemStruct,_super);function SettingsItemStruct(){return _super.call(this)||this}SettingsItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","SettingsItem"))};SettingsItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_onTip1=(this.getChild("onTip1"));this.m_offTip1=(this.getChild("offTip1"));this.m_noneTip=(this.getChild("noneTip"));this.m_onTip=(this.getChild("onTip"));this.m_offTip=(this.getChild("offTip"))};SettingsItemStruct.URL="ui://6ecreso0izhnx40";SettingsItemStruct.DependPackages=["SystemSettings"];return SettingsItemStruct}(fairygui.GButton));SystemSettings.SettingsItemStruct=SettingsItemStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SettingsItem=(function(_super){__extends(SettingsItem,_super);function SettingsItem(){return _super!==null&&_super.apply(this,arguments)||this}SettingsItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickBtn)};Object.defineProperty(SettingsItem.prototype,"OnOff",{get:function(){return this.m_onTip.visible},set:function(value){this.m_offTip.visible=!value;this.m_onTip.visible=value},enumerable:true,configurable:true});SettingsItem.prototype.setData=function(data,isInit){if(isInit===void 0){isInit=false}this.curData=data;this.m_title.text=this.curData.name+"";this.m_icon.icon=Games.WarLoadPic.getAvatarIcon(this.curData.icon);if(this.curData._default===2){this.m_offTip.visible=false;this.m_onTip.visible=false}else{this.OnOff=Game.moduleModel.setting.getBoolean(this.curData.key)}};SettingsItem.prototype.onClickBtn=function(){if(!this.curData._switch){Game.system.toastText(TEXT.FunNoOpen)}else{if(this.curData._default===2){if(this.curData.popup==="language_setting"){Game.moduleModel.setting.sCallLanguagePanel.dispatch()}else{if(this.curData.popup==="advice_feedback"){Game.system.toastText(Game.config.msg.getConfig(MsgKey.feedback_words).notice+"")}else{if(this.curData.popup==="gift_exchange"){Game.moduleModel.setting.sCallGiftPanel.dispatch()}}}}else{var onOff=Game.moduleModel.setting.getBoolean(this.curData.key);onOff=!onOff;Game.moduleModel.setting.setBoolean(this.curData.key,onOff);this.OnOff=onOff}}};return SettingsItem}(SystemSettings.SettingsItemStruct));SystemSettings.SettingsItem=SettingsItem})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SettingsPanelStruct=(function(_super){__extends(SettingsPanelStruct,_super);function SettingsPanelStruct(){return _super.call(this)||this}SettingsPanelStruct.createInstance=function(){return(fairygui.UIPackage.createObject("SystemSettings","SettingsPanel"))};SettingsPanelStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_idTip=(this.getChild("idTip"));this.m_version=(this.getChild("version"));this.m_tip=(this.getChild("tip"));this.m_setList=(this.getChild("setList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_SwitchAccountBtn=(this.getChild("SwitchAccountBtn"));this.m_FeedBackBtn=(this.getChild("FeedBackBtn"))};SettingsPanelStruct.URL="ui://6ecreso0izhnx3y";SettingsPanelStruct.DependPackages=["SystemSettings","Common"];return SettingsPanelStruct}(fairygui.GComponent));SystemSettings.SettingsPanelStruct=SettingsPanelStruct})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var SystemSettings;(function(SystemSettings){var SettingsPanel=(function(_super){__extends(SettingsPanel,_super);function SettingsPanel(){return _super!==null&&_super.apply(this,arguments)||this}SettingsPanel.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.isInit=true;this.m_setList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_SwitchAccountBtn.title=Games.TEXT.SwitchAccount;this.m_FeedBackBtn.title=Games.TEXT.FeedBackSettings;this.m_SwitchAccountBtn.onClick(this,this.SwitchAccount);this.m_FeedBackBtn.onClick(this,this.OpenFeedBackUI)};SettingsPanel.prototype.onClickCloseBtn=function(){this.moduleWindow.menuClose()};SettingsPanel.prototype.SwitchAccount=function(){Game.system.confirmText(TEXT.SureaSwitchAccount,null,this,function(){window.location.reload()})};SettingsPanel.prototype.OpenFeedBackUI=function(){Game.system.toastText(Game.config.msg.getConfig(MsgKey.feedback_words).notice+"")};SettingsPanel.prototype.onWindowShow=function(){Game.moduleModel.setting.sCallLanguagePanel.add(this.onShowLanguagePanel,this);Game.moduleModel.setting.sCallGiftPanel.add(this.onShowGifPanel,this);this.onRefrush()};SettingsPanel.prototype.onWindowHide=function(){Game.moduleModel.setting.sCallLanguagePanel.remove(this.onShowLanguagePanel,this);Game.moduleModel.setting.sCallGiftPanel.remove(this.onShowGifPanel,this)};SettingsPanel.prototype.onRefrush=function(){this.setConfList=Game.config.settingDefault.getConfigInList();this.m_setList.numItems=this.setConfList.length;this.m_title.text=Game.config.msg.getConfig(MsgKey.setting_title).notice+"";this.m_idTip.text=format(Game.config.msg.getConfig(MsgKey.player_id).notice,User.info.entityId);this.m_version.text=format(Game.config.msg.getConfig(MsgKey.version_num).notice,"1.0.18");this.m_tip.text=format(Game.config.msg.getConfig(MsgKey.setting_notice).notice,10);if(this.isInit){this.isInit=false}};SettingsPanel.prototype.initItem=function(index,obj){var item=obj;item.setData(this.setConfList[index],this.isInit)};SettingsPanel.prototype.onShowLanguagePanel=function(){if(!this.languagePanel||this.languagePanel===null){this.languagePanel=fgui.SystemSettings.SelectLanguage.createInstance();this.addChild(this.languagePanel);setScreenSize(this.languagePanel)}this.languagePanel.setData()};SettingsPanel.prototype.onShowGifPanel=function(){if(!this.giftPanel||this.giftPanel===null){this.giftPanel=fgui.SystemSettings.GiftPackageExchange.createInstance();this.addChild(this.giftPanel);setScreenSize(this.giftPanel)}this.giftPanel.onShow()};SettingsPanel.prototype.onshowSwitchPanel=function(){this.switchPanel=fgui.System.SystemConfirmMessage.createInstance();this.addChild(this.switchPanel);setScreenSize(this.switchPanel)};return SettingsPanel}(SystemSettings.SettingsPanelStruct));SystemSettings.SettingsPanel=SettingsPanel})(SystemSettings=fgui.SystemSettings||(fgui.SystemSettings={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var AveragePressStruct=(function(_super){__extends(AveragePressStruct,_super);function AveragePressStruct(){return _super.call(this)||this}AveragePressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","AveragePress"))};AveragePressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_tip=(this.getChild("tip"))};AveragePressStruct.URL="ui://y6ozucp1qbxl6q";AveragePressStruct.DependPackages=["WarMovie"];return AveragePressStruct}(fairygui.GProgressBar));WarMovie.AveragePressStruct=AveragePressStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var AveragePress=(function(_super){__extends(AveragePress,_super);function AveragePress(){return _super!==null&&_super.apply(this,arguments)||this}return AveragePress}(WarMovie.AveragePressStruct));WarMovie.AveragePress=AveragePress})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var BGStruct=(function(_super){__extends(BGStruct,_super);function BGStruct(){return _super.call(this)||this}BGStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","BG"))};BGStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BGStruct.URL="ui://y6ozucp1g50xad";BGStruct.DependPackages=["WarMovie","Common"];return BGStruct}(fairygui.GComponent));WarMovie.BGStruct=BGStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var BG=(function(_super){__extends(BG,_super);function BG(){return _super!==null&&_super.apply(this,arguments)||this}return BG}(WarMovie.BGStruct));WarMovie.BG=BG})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var BG2Struct=(function(_super){__extends(BG2Struct,_super);function BG2Struct(){return _super.call(this)||this}BG2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","BG2"))};BG2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};BG2Struct.URL="ui://y6ozucp1g50xae";BG2Struct.DependPackages=["WarMovie","Common"];return BG2Struct}(fairygui.GComponent));WarMovie.BG2Struct=BG2Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var BG2=(function(_super){__extends(BG2,_super);function BG2(){return _super!==null&&_super.apply(this,arguments)||this}return BG2}(WarMovie.BG2Struct));WarMovie.BG2=BG2})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var CloseBtnStruct=(function(_super){__extends(CloseBtnStruct,_super);function CloseBtnStruct(){return _super.call(this)||this}CloseBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","CloseBtn"))};CloseBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};CloseBtnStruct.URL="ui://y6ozucp1r0zd31";CloseBtnStruct.DependPackages=["WarMovie","Common"];return CloseBtnStruct}(fairygui.GButton));WarMovie.CloseBtnStruct=CloseBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var CloseBtn=(function(_super){__extends(CloseBtn,_super);function CloseBtn(){return _super!==null&&_super.apply(this,arguments)||this}return CloseBtn}(WarMovie.CloseBtnStruct));WarMovie.CloseBtn=CloseBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var CompletedConditionsStruct=(function(_super){__extends(CompletedConditionsStruct,_super);function CompletedConditionsStruct(){return _super.call(this)||this}CompletedConditionsStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","CompletedConditions"))};CompletedConditionsStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_colorControl=this.getController("colorControl");this.m_tip=(this.getChild("tip"))};CompletedConditionsStruct.URL="ui://y6ozucp1r0zd5a";CompletedConditionsStruct.DependPackages=["WarMovie"];return CompletedConditionsStruct}(fairygui.GComponent));WarMovie.CompletedConditionsStruct=CompletedConditionsStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var CompletedConditions=(function(_super){__extends(CompletedConditions,_super);function CompletedConditions(){return _super!==null&&_super.apply(this,arguments)||this}return CompletedConditions}(WarMovie.CompletedConditionsStruct));WarMovie.CompletedConditions=CompletedConditions})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmBtnStruct=(function(_super){__extends(ConfirmBtnStruct,_super);function ConfirmBtnStruct(){return _super.call(this)||this}ConfirmBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ConfirmBtn"))};ConfirmBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ConfirmBtnStruct.URL="ui://y6ozucp1r0zd3i";ConfirmBtnStruct.DependPackages=["WarMovie","Common"];return ConfirmBtnStruct}(fairygui.GButton));WarMovie.ConfirmBtnStruct=ConfirmBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmBtn=(function(_super){__extends(ConfirmBtn,_super);function ConfirmBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ConfirmBtn}(WarMovie.ConfirmBtnStruct));WarMovie.ConfirmBtn=ConfirmBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmBtn2Struct=(function(_super){__extends(ConfirmBtn2Struct,_super);function ConfirmBtn2Struct(){return _super.call(this)||this}ConfirmBtn2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ConfirmBtn2"))};ConfirmBtn2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};ConfirmBtn2Struct.URL="ui://y6ozucp1qbxl8e";ConfirmBtn2Struct.DependPackages=["WarMovie","Common"];return ConfirmBtn2Struct}(fairygui.GButton));WarMovie.ConfirmBtn2Struct=ConfirmBtn2Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmBtn2=(function(_super){__extends(ConfirmBtn2,_super);function ConfirmBtn2(){return _super!==null&&_super.apply(this,arguments)||this}return ConfirmBtn2}(WarMovie.ConfirmBtn2Struct));WarMovie.ConfirmBtn2=ConfirmBtn2})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmCostBtnStruct=(function(_super){__extends(ConfirmCostBtnStruct,_super);function ConfirmCostBtnStruct(){return _super.call(this)||this}ConfirmCostBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ConfirmCostBtn"))};ConfirmCostBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_colorCtrol=this.getController("colorCtrol");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_cost=(this.getChild("cost"));this.m_item=(this.getChild("item"))};ConfirmCostBtnStruct.URL="ui://y6ozucp1snhga0";ConfirmCostBtnStruct.DependPackages=["WarMovie","Common"];return ConfirmCostBtnStruct}(fairygui.GButton));WarMovie.ConfirmCostBtnStruct=ConfirmCostBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ConfirmCostBtn=(function(_super){__extends(ConfirmCostBtn,_super);function ConfirmCostBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ConfirmCostBtn}(WarMovie.ConfirmCostBtnStruct));WarMovie.ConfirmCostBtn=ConfirmCostBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmIconStruct=(function(_super){__extends(FilmIconStruct,_super);function FilmIconStruct(){return _super.call(this)||this}FilmIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmIcon"))};FilmIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_filmStar=(this.getChild("filmStar"))};FilmIconStruct.URL="ui://y6ozucp1r0zd53";FilmIconStruct.DependPackages=["WarMovie","Common"];return FilmIconStruct}(fairygui.GButton));WarMovie.FilmIconStruct=FilmIconStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmIcon=(function(_super){__extends(FilmIcon,_super);function FilmIcon(){return _super!==null&&_super.apply(this,arguments)||this}FilmIcon.prototype.setData=function(data,randomIcon){if(randomIcon===void 0){randomIcon=false}this.m_icon.icon=Game.config.avatar.getConfig(data.poster_name).iconUrl;if(randomIcon){this.m_icon.setRandomIcon()}this.m_filmStar.m_starList.numItems=data.starNumber};return FilmIcon}(WarMovie.FilmIconStruct));WarMovie.FilmIcon=FilmIcon})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmInfBtnStruct=(function(_super){__extends(FilmInfBtnStruct,_super);function FilmInfBtnStruct(){return _super.call(this)||this}FilmInfBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","filmInfBtn"))};FilmInfBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};FilmInfBtnStruct.URL="ui://y6ozucp1yytj5n";FilmInfBtnStruct.DependPackages=["WarMovie","Common"];return FilmInfBtnStruct}(fairygui.GButton));WarMovie.FilmInfBtnStruct=FilmInfBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmInfBtn=(function(_super){__extends(FilmInfBtn,_super);function FilmInfBtn(){return _super!==null&&_super.apply(this,arguments)||this}return FilmInfBtn}(WarMovie.FilmInfBtnStruct));WarMovie.FilmInfBtn=FilmInfBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmingTipStruct=(function(_super){__extends(FilmingTipStruct,_super);function FilmingTipStruct(){return _super.call(this)||this}FilmingTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmingTip"))};FilmingTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};FilmingTipStruct.URL="ui://y6ozucp1r0zd4s";FilmingTipStruct.DependPackages=["WarMovie"];return FilmingTipStruct}(fairygui.GComponent));WarMovie.FilmingTipStruct=FilmingTipStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmingTip=(function(_super){__extends(FilmingTip,_super);function FilmingTip(){return _super!==null&&_super.apply(this,arguments)||this}return FilmingTip}(WarMovie.FilmingTipStruct));WarMovie.FilmingTip=FilmingTip})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgressStruct=(function(_super){__extends(FilmProgressStruct,_super);function FilmProgressStruct(){return _super.call(this)||this}FilmProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmProgress"))};FilmProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_top1=(this.getChild("top1"))};FilmProgressStruct.URL="ui://y6ozucp1r0zd4l";FilmProgressStruct.DependPackages=["WarMovie","System","Common"];return FilmProgressStruct}(fairygui.GProgressBar));WarMovie.FilmProgressStruct=FilmProgressStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgress=(function(_super){__extends(FilmProgress,_super);function FilmProgress(){return _super!==null&&_super.apply(this,arguments)||this}return FilmProgress}(WarMovie.FilmProgressStruct));WarMovie.FilmProgress=FilmProgress})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgressBlueStruct=(function(_super){__extends(FilmProgressBlueStruct,_super);function FilmProgressBlueStruct(){return _super.call(this)||this}FilmProgressBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmProgressBlue"))};FilmProgressBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"));this.m_top1=(this.getChild("top1"))};FilmProgressBlueStruct.URL="ui://y6ozucp1qbxl6h";FilmProgressBlueStruct.DependPackages=["WarMovie","System","Common"];return FilmProgressBlueStruct}(fairygui.GProgressBar));WarMovie.FilmProgressBlueStruct=FilmProgressBlueStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgressBlue=(function(_super){__extends(FilmProgressBlue,_super);function FilmProgressBlue(){return _super!==null&&_super.apply(this,arguments)||this}return FilmProgressBlue}(WarMovie.FilmProgressBlueStruct));WarMovie.FilmProgressBlue=FilmProgressBlue})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgressBlue2Struct=(function(_super){__extends(FilmProgressBlue2Struct,_super);function FilmProgressBlue2Struct(){return _super.call(this)||this}FilmProgressBlue2Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmProgressBlue2"))};FilmProgressBlue2Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_showNum=this.getController("showNum");this.m_bar=(this.getChild("bar"));this.m_title=(this.getChild("title"))};FilmProgressBlue2Struct.URL="ui://y6ozucp1qbxl6p";FilmProgressBlue2Struct.DependPackages=["WarMovie","System","Common"];return FilmProgressBlue2Struct}(fairygui.GProgressBar));WarMovie.FilmProgressBlue2Struct=FilmProgressBlue2Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmProgressBlue2=(function(_super){__extends(FilmProgressBlue2,_super);function FilmProgressBlue2(){return _super!==null&&_super.apply(this,arguments)||this}return FilmProgressBlue2}(WarMovie.FilmProgressBlue2Struct));WarMovie.FilmProgressBlue2=FilmProgressBlue2})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmSelectItemStruct=(function(_super){__extends(FilmSelectItemStruct,_super);function FilmSelectItemStruct(){return _super.call(this)||this}FilmSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","FilmSelectItem"))};FilmSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_filmName=(this.getChild("filmName"));this.m_filmTypeList=(this.getChild("filmTypeList"));this.m_filmInf=(this.getChild("filmInf"));this.m_filmDes=(this.getChild("filmDes"));this.m_men=(this.getChild("men"));this.m_women=(this.getChild("women"));this.m_child=(this.getChild("child"));this.m_selectBtn=(this.getChild("selectBtn"))};FilmSelectItemStruct.URL="ui://y6ozucp1r0zd55";FilmSelectItemStruct.DependPackages=["WarMovie","Common"];return FilmSelectItemStruct}(fairygui.GComponent));WarMovie.FilmSelectItemStruct=FilmSelectItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var FilmSelectItem=(function(_super){__extends(FilmSelectItem,_super);function FilmSelectItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._canShowInf=false;return _this}FilmSelectItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_selectBtn.onClick(this,this.onClickSelectBtn);this.m_selectBtn.m_title.text=TEXT.ButtonSelect;this.m_filmInf.onClick(this,this.onClickInf);this.m_filmInf.m_c1.setSelectedIndex(1);this.m_filmTypeList.itemRenderer=Laya.Handler.create(this,this.initTagsItem,null,false)};Object.defineProperty(FilmSelectItem.prototype,"canShowInf",{get:function(){return this._canShowInf},set:function(value){this._canShowInf=value},enumerable:true,configurable:true});FilmSelectItem.prototype.onClickInf=function(){if(this.canShowInf){Game.moduleModel.warData.filmInfoConfig=this.currData;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.FilmInfo,true)}};FilmSelectItem.prototype.onClickSelectBtn=function(){var _this=this;var myHaveDollar=Game.moduleModel.item.getItemNum(EItemId.dollar);if(myHaveDollar>=this.cost){Game.moduleModel.warData.filmIndexOf=this.indexOf;Game.system.openRename(TEXT.ChangeStoryName,null,function(arg){Game.moduleModel.warData.SendReName(arg,function(){Game.moduleModel.warData.filmInfoConfig=_this.currData;_this.moduleWindow.warFilmSelectingSubwindow.closeSelf();_this.moduleWindow.conent.subWindowToMain()})},null,TEXT.ButtonOk,this.currData.filmName,format(TEXT.StoryNameLimit,20),20,"",[3,parseInt(this.cost.toFixed(0))],true,this.getRandomList())}else{var isplay=Game.guide.checkPlayStorySelectStoryOrActor();if(isplay==false){Game.system.openItemWay(EItemId.dollar,this.cost)}}};FilmSelectItem.prototype.getRandomList=function(){return Game.config.gameRandomName.getConfig(this.currData.random_name).names};FilmSelectItem.prototype.setData=function(data,index,isHaveGuanzhong){this.currData=data;this.indexOf=index;this.cost=Game.moduleModel.warData.moveData.movieCost[this.indexOf];this.m_filmName.text=this.currData.filmName;this.m_filmInf.setData(this.currData,true);this.m_filmTypeList.numItems=this.currData.filmTags.length+1;if(this.currData.filmTags.length>2){this.m_c1.setSelectedIndex(0)}else{this.m_c1.setSelectedIndex(1)}this.m_filmDes.setData(this.currData.filmDes);this.m_selectBtn.m_cost.text=formatNumberUnit(this.cost,1);if(isHaveGuanzhong){if(this.currData.getMale>0){this.m_men.text=this.currData.getMale+"%";this.m_men.visible=true}else{this.m_men.visible=false}if(this.currData.getFemale>0){this.m_women.text=this.currData.getFemale+"%";this.m_women.visible=true}else{this.m_women.visible=false}if(this.currData.getChild>0){this.m_child.text=this.currData.getChild+"%";this.m_child.visible=true}else{this.m_child.visible=false}}else{this.m_men.visible=false;this.m_women.visible=false;this.m_child.visible=false}};FilmSelectItem.prototype.initTagsItem=function(index,obj){var item=obj;if(index===0){item.m_title.text=this.currData.filmType;item.m_typeLabel.setSelectedIndex(1)}else{item.m_title.text=this.currData.filmTags[index-1];item.m_typeLabel.setSelectedIndex(0)}};return FilmSelectItem}(WarMovie.FilmSelectItemStruct));WarMovie.FilmSelectItem=FilmSelectItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var GoodsItemStruct=(function(_super){__extends(GoodsItemStruct,_super);function GoodsItemStruct(){return _super.call(this)||this}GoodsItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","GoodsItem"))};GoodsItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_ItemIcon=(this.getChild("ItemIcon"))};GoodsItemStruct.URL="ui://y6ozucp1qbxl85";GoodsItemStruct.DependPackages=["WarMovie","Common"];return GoodsItemStruct}(fairygui.GLabel));WarMovie.GoodsItemStruct=GoodsItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var GoodsItem=(function(_super){__extends(GoodsItem,_super);function GoodsItem(){return _super!==null&&_super.apply(this,arguments)||this}GoodsItem.prototype.setData=function(goodsId,vals){var conf2=Game.config.item.getConfig(goodsId).icon;this.m_ItemIcon.icon=Game.config.avatar.getConfig(conf2).iconUrl;this.text=vals};return GoodsItem}(WarMovie.GoodsItemStruct));WarMovie.GoodsItem=GoodsItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var MinDialogStruct=(function(_super){__extends(MinDialogStruct,_super);function MinDialogStruct(){return _super.call(this)||this}MinDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","MinDialog"))};MinDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};MinDialogStruct.URL="ui://y6ozucp1ty0bdq";MinDialogStruct.DependPackages=["WarMovie","Common"];return MinDialogStruct}(fairygui.GLabel));WarMovie.MinDialogStruct=MinDialogStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var MinDialog=(function(_super){__extends(MinDialog,_super);function MinDialog(){return _super!==null&&_super.apply(this,arguments)||this}return MinDialog}(WarMovie.MinDialogStruct));WarMovie.MinDialog=MinDialog})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var NoticeIconStruct=(function(_super){__extends(NoticeIconStruct,_super);function NoticeIconStruct(){return _super.call(this)||this}NoticeIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","NoticeIcon"))};NoticeIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_noticeIcon=(this.getChild("noticeIcon"))};NoticeIconStruct.URL="ui://y6ozucp1mp3ldc";NoticeIconStruct.DependPackages=["WarMovie"];return NoticeIconStruct}(fairygui.GComponent));WarMovie.NoticeIconStruct=NoticeIconStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var NoticeIcon=(function(_super){__extends(NoticeIcon,_super);function NoticeIcon(){return _super!==null&&_super.apply(this,arguments)||this}return NoticeIcon}(WarMovie.NoticeIconStruct));WarMovie.NoticeIcon=NoticeIcon})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ProgressBlueStruct=(function(_super){__extends(ProgressBlueStruct,_super);function ProgressBlueStruct(){return _super.call(this)||this}ProgressBlueStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ProgressBlue"))};ProgressBlueStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};ProgressBlueStruct.URL="ui://y6ozucp1qbxl7s";ProgressBlueStruct.DependPackages=["WarMovie","Common"];return ProgressBlueStruct}(fairygui.GProgressBar));WarMovie.ProgressBlueStruct=ProgressBlueStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ProgressBlue=(function(_super){__extends(ProgressBlue,_super);function ProgressBlue(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressBlue}(WarMovie.ProgressBlueStruct));WarMovie.ProgressBlue=ProgressBlue})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ProgressYellowStruct=(function(_super){__extends(ProgressYellowStruct,_super);function ProgressYellowStruct(){return _super.call(this)||this}ProgressYellowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ProgressYellow"))};ProgressYellowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};ProgressYellowStruct.URL="ui://y6ozucp1qbxl7r";ProgressYellowStruct.DependPackages=["WarMovie","Common"];return ProgressYellowStruct}(fairygui.GProgressBar));WarMovie.ProgressYellowStruct=ProgressYellowStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ProgressYellow=(function(_super){__extends(ProgressYellow,_super);function ProgressYellow(){return _super!==null&&_super.apply(this,arguments)||this}return ProgressYellow}(WarMovie.ProgressYellowStruct));WarMovie.ProgressYellow=ProgressYellow})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ShareBtnStruct=(function(_super){__extends(ShareBtnStruct,_super);function ShareBtnStruct(){return _super.call(this)||this}ShareBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ShareBtn"))};ShareBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ShareBtnStruct.URL="ui://y6ozucp1qbxl7z";ShareBtnStruct.DependPackages=["WarMovie","Common"];return ShareBtnStruct}(fairygui.GButton));WarMovie.ShareBtnStruct=ShareBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ShareBtn=(function(_super){__extends(ShareBtn,_super);function ShareBtn(){return _super!==null&&_super.apply(this,arguments)||this}return ShareBtn}(WarMovie.ShareBtnStruct));WarMovie.ShareBtn=ShareBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ShwoMinDialogStruct=(function(_super){__extends(ShwoMinDialogStruct,_super);function ShwoMinDialogStruct(){return _super.call(this)||this}ShwoMinDialogStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ShwoMinDialog"))};ShwoMinDialogStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_dialog=(this.getChild("dialog"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};ShwoMinDialogStruct.URL="ui://y6ozucp1ty0bdr";ShwoMinDialogStruct.DependPackages=["WarMovie"];return ShwoMinDialogStruct}(fairygui.GComponent));WarMovie.ShwoMinDialogStruct=ShwoMinDialogStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ShwoMinDialog=(function(_super){__extends(ShwoMinDialog,_super);function ShwoMinDialog(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.setTimeountNum=-1;return _this}ShwoMinDialog.prototype.clickCloseBtn=function(){this.m_t1.play(Handler.create(this,this.close),1)};ShwoMinDialog.prototype.close=function(){this.visible=false;if(this.setTimeountNum>=0){clearTimeout(this.setTimeountNum)}this.setTimeountNum=-1};ShwoMinDialog.prototype.setData=function(content){var _this=this;this.m_dialog.m_title.text=content;this.m_dialog.x=-450;this.visible=true;this.m_t0.play(Handler.create(this,function(){_this.setTimeountNum=setTimeout(function(){_this.clickCloseBtn()},3000)}),1)};return ShwoMinDialog}(WarMovie.ShwoMinDialogStruct));WarMovie.ShwoMinDialog=ShwoMinDialog})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var StarStruct=(function(_super){__extends(StarStruct,_super);function StarStruct(){return _super.call(this)||this}StarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","Star"))};StarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};StarStruct.URL="ui://y6ozucp1r0zd35";StarStruct.DependPackages=["WarMovie","Common"];return StarStruct}(fairygui.GComponent));WarMovie.StarStruct=StarStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Star=(function(_super){__extends(Star,_super);function Star(){return _super!==null&&_super.apply(this,arguments)||this}return Star}(WarMovie.StarStruct));WarMovie.Star=Star})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var StarProgressStruct=(function(_super){__extends(StarProgressStruct,_super);function StarProgressStruct(){return _super.call(this)||this}StarProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","StarProgress"))};StarProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};StarProgressStruct.URL="ui://y6ozucp1qbxl6v";StarProgressStruct.DependPackages=["WarMovie"];return StarProgressStruct}(fairygui.GProgressBar));WarMovie.StarProgressStruct=StarProgressStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var StarProgress=(function(_super){__extends(StarProgress,_super);function StarProgress(){return _super!==null&&_super.apply(this,arguments)||this}return StarProgress}(WarMovie.StarProgressStruct));WarMovie.StarProgress=StarProgress})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var StarProgressSmallStruct=(function(_super){__extends(StarProgressSmallStruct,_super);function StarProgressSmallStruct(){return _super.call(this)||this}StarProgressSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","StarProgressSmall"))};StarProgressSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};StarProgressSmallStruct.URL="ui://y6ozucp1qbxl71";StarProgressSmallStruct.DependPackages=["WarMovie"];return StarProgressSmallStruct}(fairygui.GProgressBar));WarMovie.StarProgressSmallStruct=StarProgressSmallStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var StarProgressSmall=(function(_super){__extends(StarProgressSmall,_super);function StarProgressSmall(){return _super!==null&&_super.apply(this,arguments)||this}return StarProgressSmall}(WarMovie.StarProgressSmallStruct));WarMovie.StarProgressSmall=StarProgressSmall})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang120Struct=(function(_super){__extends(Touxiang120Struct,_super);function Touxiang120Struct(){return _super.call(this)||this}Touxiang120Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","touxiang120"))};Touxiang120Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang120Struct.URL="ui://y6ozucp1cvs8d0";Touxiang120Struct.DependPackages=["WarMovie","Common"];return Touxiang120Struct}(fairygui.GLabel));WarMovie.Touxiang120Struct=Touxiang120Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang120=(function(_super){__extends(Touxiang120,_super);function Touxiang120(){return _super!==null&&_super.apply(this,arguments)||this}return Touxiang120}(WarMovie.Touxiang120Struct));WarMovie.Touxiang120=Touxiang120})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang160Struct=(function(_super){__extends(Touxiang160Struct,_super);function Touxiang160Struct(){return _super.call(this)||this}Touxiang160Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","touxiang160"))};Touxiang160Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang160Struct.URL="ui://y6ozucp1xfnlci";Touxiang160Struct.DependPackages=["WarMovie","Common"];return Touxiang160Struct}(fairygui.GLabel));WarMovie.Touxiang160Struct=Touxiang160Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang160=(function(_super){__extends(Touxiang160,_super);function Touxiang160(){return _super!==null&&_super.apply(this,arguments)||this}return Touxiang160}(WarMovie.Touxiang160Struct));WarMovie.Touxiang160=Touxiang160})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang44Struct=(function(_super){__extends(Touxiang44Struct,_super);function Touxiang44Struct(){return _super.call(this)||this}Touxiang44Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","touxiang44"))};Touxiang44Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang44Struct.URL="ui://y6ozucp1xfnlan";Touxiang44Struct.DependPackages=["WarMovie","Common"];return Touxiang44Struct}(fairygui.GLabel));WarMovie.Touxiang44Struct=Touxiang44Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang44=(function(_super){__extends(Touxiang44,_super);function Touxiang44(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(Touxiang44.prototype,"AvatarId",{set:function(id){var cfg=Game.config.avatar.getConfig(id);if(cfg){this.Icon=cfg.bodyIconUrl;this.Vector=cfg.co_vector}},enumerable:true,configurable:true});Object.defineProperty(Touxiang44.prototype,"Icon",{set:function(url){this.m_icon.url=url},enumerable:true,configurable:true});Object.defineProperty(Touxiang44.prototype,"Vector",{set:function(pos){this.m_icon.x=isNaN(pos.x)?-34:0-pos.x;this.m_icon.y=isNaN(pos.y)?-3:0-pos.y},enumerable:true,configurable:true});return Touxiang44}(WarMovie.Touxiang44Struct));WarMovie.Touxiang44=Touxiang44})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang80Struct=(function(_super){__extends(Touxiang80Struct,_super);function Touxiang80Struct(){return _super.call(this)||this}Touxiang80Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","touxiang80"))};Touxiang80Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang80Struct.URL="ui://y6ozucp1xfnlch";Touxiang80Struct.DependPackages=["WarMovie","Common"];return Touxiang80Struct}(fairygui.GLabel));WarMovie.Touxiang80Struct=Touxiang80Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang80=(function(_super){__extends(Touxiang80,_super);function Touxiang80(){return _super!==null&&_super.apply(this,arguments)||this}return Touxiang80}(WarMovie.Touxiang80Struct));WarMovie.Touxiang80=Touxiang80})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang80noMaskStruct=(function(_super){__extends(Touxiang80noMaskStruct,_super);function Touxiang80noMaskStruct(){return _super.call(this)||this}Touxiang80noMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","touxiang80noMask"))};Touxiang80noMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};Touxiang80noMaskStruct.URL="ui://y6ozucp1xfnlcp";Touxiang80noMaskStruct.DependPackages=["WarMovie","Common"];return Touxiang80noMaskStruct}(fairygui.GComponent));WarMovie.Touxiang80noMaskStruct=Touxiang80noMaskStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Touxiang80noMask=(function(_super){__extends(Touxiang80noMask,_super);function Touxiang80noMask(){return _super!==null&&_super.apply(this,arguments)||this}return Touxiang80noMask}(WarMovie.Touxiang80noMaskStruct));WarMovie.Touxiang80noMask=Touxiang80noMask})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor120Struct=(function(_super){__extends(WarActor120Struct,_super);function WarActor120Struct(){return _super.call(this)||this}WarActor120Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActor120"))};WarActor120Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarActor120Struct.URL="ui://y6ozucp1cvs8cz";WarActor120Struct.DependPackages=["WarMovie","Common"];return WarActor120Struct}(fairygui.GComponent));WarMovie.WarActor120Struct=WarActor120Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor120=(function(_super){__extends(WarActor120,_super);function WarActor120(){return _super!==null&&_super.apply(this,arguments)||this}WarActor120.prototype.setIcon=function(iconPath){this.m_icon.m_icon.icon=iconPath};return WarActor120}(WarMovie.WarActor120Struct));WarMovie.WarActor120=WarActor120})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor160Struct=(function(_super){__extends(WarActor160Struct,_super);function WarActor160Struct(){return _super.call(this)||this}WarActor160Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActor160"))};WarActor160Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarActor160Struct.URL="ui://y6ozucp1qbxl6n";WarActor160Struct.DependPackages=["WarMovie","Common"];return WarActor160Struct}(fairygui.GComponent));WarMovie.WarActor160Struct=WarActor160Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor160=(function(_super){__extends(WarActor160,_super);function WarActor160(){return _super!==null&&_super.apply(this,arguments)||this}WarActor160.prototype.setIcon=function(iconPath){this.m_icon.m_icon.icon=iconPath};return WarActor160}(WarMovie.WarActor160Struct));WarMovie.WarActor160=WarActor160})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor44Struct=(function(_super){__extends(WarActor44Struct,_super);function WarActor44Struct(){return _super.call(this)||this}WarActor44Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActor44"))};WarActor44Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarActor44Struct.URL="ui://y6ozucp1xfnlck";WarActor44Struct.DependPackages=["WarMovie","Common"];return WarActor44Struct}(fairygui.GComponent));WarMovie.WarActor44Struct=WarActor44Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor44=(function(_super){__extends(WarActor44,_super);function WarActor44(){return _super!==null&&_super.apply(this,arguments)||this}WarActor44.prototype.setIcon=function(iconPath){this.m_icon.m_icon.icon=iconPath};WarActor44.prototype.Render=function(actor){this.m_icon.AvatarId=actor.config.avatar};Object.defineProperty(WarActor44.prototype,"ActorId",{set:function(id){var cfg=Game.config.actor.getConfig(id);this.m_icon.AvatarId=cfg.avatar},enumerable:true,configurable:true});return WarActor44}(WarMovie.WarActor44Struct));WarMovie.WarActor44=WarActor44})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor80Struct=(function(_super){__extends(WarActor80Struct,_super);function WarActor80Struct(){return _super.call(this)||this}WarActor80Struct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActor80"))};WarActor80Struct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarActor80Struct.URL="ui://y6ozucp1xfnlcj";WarActor80Struct.DependPackages=["WarMovie","Common"];return WarActor80Struct}(fairygui.GLabel));WarMovie.WarActor80Struct=WarActor80Struct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor80=(function(_super){__extends(WarActor80,_super);function WarActor80(){return _super!==null&&_super.apply(this,arguments)||this}WarActor80.prototype.setIcon=function(iconPath){this.m_icon.m_icon.icon=iconPath};return WarActor80}(WarMovie.WarActor80Struct));WarMovie.WarActor80=WarActor80})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor80noMaskStruct=(function(_super){__extends(WarActor80noMaskStruct,_super);function WarActor80noMaskStruct(){return _super.call(this)||this}WarActor80noMaskStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActor80noMask"))};WarActor80noMaskStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarActor80noMaskStruct.URL="ui://y6ozucp1xfnlcq";WarActor80noMaskStruct.DependPackages=["WarMovie","Common"];return WarActor80noMaskStruct}(fairygui.GComponent));WarMovie.WarActor80noMaskStruct=WarActor80noMaskStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActor80noMask=(function(_super){__extends(WarActor80noMask,_super);function WarActor80noMask(){return _super!==null&&_super.apply(this,arguments)||this}WarActor80noMask.prototype.setIcon=function(iconPath){this.m_icon.m_icon.icon=iconPath};return WarActor80noMask}(WarMovie.WarActor80noMaskStruct));WarMovie.WarActor80noMask=WarActor80noMask})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorItemStruct=(function(_super){__extends(WarActorItemStruct,_super);function WarActorItemStruct(){return _super.call(this)||this}WarActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorItem"))};WarActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_YRHave=this.getController("YRHave");this.m_isUse=this.getController("isUse");this.m_Icon=(this.getChild("Icon"));this.m_yrName=(this.getChild("yrName"));this.m_attribute1=(this.getChild("attribute1"));this.m_attribute2=(this.getChild("attribute2"));this.m_attribute1Val=(this.getChild("attribute1Val"));this.m_attribute2Val=(this.getChild("attribute2Val"));this.m_temName=(this.getChild("temName"));this.m_costIcon=(this.getChild("costIcon"));this.m_costVal=(this.getChild("costVal"));this.m_freeCost=(this.getChild("freeCost"));this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_filmStar=(this.getChild("filmStar"));this.m_okBtn=(this.getChild("okBtn"));this.m_infBtn=(this.getChild("infBtn"))};WarActorItemStruct.URL="ui://y6ozucp1qbxl62";WarActorItemStruct.DependPackages=["WarMovie","Common"];return WarActorItemStruct}(fairygui.GButton));WarMovie.WarActorItemStruct=WarActorItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorItem=(function(_super){__extends(WarActorItem,_super);function WarActorItem(){return _super!==null&&_super.apply(this,arguments)||this}WarActorItem.prototype.setDataEmpty=function(){var temActor=Game.moduleModel.warData.temActor;this.m_YRHave.setSelectedIndex(1);this.m_isUse.setSelectedIndex(0);this.m_Icon.icon=Game.config.avatar.getConfig(temActor.config.avatar).bodyIconUrl;this.m_yrName.text=temActor.name;this.m_temName.text=TEXT.NoAttAdd;this.m_freeCost.text=TEXT.CostFree;this.m_okBtn.text=TEXT.SYNTH};WarActorItem.prototype.setData=function(data,charcterData){this.m_okBtn.text=TEXT.SYNTH;this.m_YRHave.setSelectedIndex(0);this.m_yrName.text=format(TEXT.NameLV,data.name,data.level);this.m_filmStar.m_starList.numItems=data.config.starNum;this.m_Icon.icon=Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl;var effect=charcterData.geteffectVal;this.m_attribute1Val.text=this.getEffectValue(effect[0],data).toString();this.m_attribute2Val.text=this.getEffectValue(effect[1],data).toString();Games.WarLoadPic.setIcon(this.m_attribute1,effect[0]);Games.WarLoadPic.setIcon(this.m_attribute2,effect[1]);this.m_costVal.text=formatNumberUnit(data.PayForFilming(charcterData.type),1)};WarActorItem.prototype.getEffectValue=function(effect,data){var result=0;switch(effect){case 1601:result=data.spectacle;break;case 1602:result=data.perform;break;case 1603:result=data.plot;break;case 1604:result=data.art;break;case 1605:result=data.entertainment;break}return result};return WarActorItem}(WarMovie.WarActorItemStruct));WarMovie.WarActorItem=WarActorItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorItemShowStruct=(function(_super){__extends(WarActorItemShowStruct,_super);function WarActorItemShowStruct(){return _super.call(this)||this}WarActorItemShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorItemShow"))};WarActorItemShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_name=(this.getChild("name"));this.m_type=(this.getChild("type"));this.m_reqTip=(this.getChild("reqTip"));this.m_sexIcon=(this.getChild("sexIcon"));this.m_sexReq=(this.getChild("sexReq"));this.m_countryIcon=(this.getChild("countryIcon"));this.m_countryReq=(this.getChild("countryReq"));this.m_showIcon=(this.getChild("showIcon"));this.m_showReq=(this.getChild("showReq"));this.m_ageIcon=(this.getChild("ageIcon"));this.m_ageReq=(this.getChild("ageReq"));this.m_reqTip2=(this.getChild("reqTip2"));this.m_property1=(this.getChild("property1"));this.m_propertyup1=(this.getChild("propertyup1"));this.m_property1Req=(this.getChild("property1Req"));this.m_property2=(this.getChild("property2"));this.m_propertyup2=(this.getChild("propertyup2"));this.m_property2Req=(this.getChild("property2Req"));this.m_des=(this.getChild("des"))};WarActorItemShowStruct.URL="ui://y6ozucp1qbxl9c";WarActorItemShowStruct.DependPackages=["WarMovie","Common"];return WarActorItemShowStruct}(fairygui.GComponent));WarMovie.WarActorItemShowStruct=WarActorItemShowStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorItemShow=(function(_super){__extends(WarActorItemShow,_super);function WarActorItemShow(){return _super!==null&&_super.apply(this,arguments)||this}WarActorItemShow.prototype.setData=function(data){this.m_type.text=data.getType;this.m_name.text=data.getName;this.m_des.setData(data.getDes);if(data.sex>0){this.m_sexReq.visible=true;Games.WarLoadPic.setIcon(this.m_sexIcon,data.sex)}else{this.m_sexReq.visible=false}if(data.country>0){this.m_countryReq.visible=true;Games.WarLoadPic.setIcon(this.m_countryIcon,data.country)}else{this.m_countryReq.visible=false}if(data.show_type>0){this.m_showReq.visible=true;Games.WarLoadPic.setIcon(this.m_showIcon,data.show_type)}else{this.m_showReq.visible=false}if(data.getReqageType>0){this.m_ageReq.visible=true;Games.WarLoadPic.setIcon(this.m_ageIcon,data.getReqageType)}else{this.m_ageReq.visible=false}var conf2=Game.config.property.getConfig(data.effect[0]).icon;this.m_property1.icon=Game.config.avatar.getConfig(conf2).iconUrl;var conf3=Game.config.property.getConfig(data.effect[1]).icon;this.m_property2.icon=Game.config.avatar.getConfig(conf3).iconUrl};return WarActorItemShow}(WarMovie.WarActorItemShowStruct));WarMovie.WarActorItemShow=WarActorItemShow})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorProficiencyItemStruct=(function(_super){__extends(WarActorProficiencyItemStruct,_super);function WarActorProficiencyItemStruct(){return _super.call(this)||this}WarActorProficiencyItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorProficiencyItem"))};WarActorProficiencyItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_tip=(this.getChild("tip"));this.m_lv=(this.getChild("lv"));this.m_icon=(this.getChild("icon"));this.m_progress=(this.getChild("progress"))};WarActorProficiencyItemStruct.URL="ui://y6ozucp1qbxl6l";WarActorProficiencyItemStruct.DependPackages=["WarMovie","System","Common"];return WarActorProficiencyItemStruct}(fairygui.GComponent));WarMovie.WarActorProficiencyItemStruct=WarActorProficiencyItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorProficiencyItem=(function(_super){__extends(WarActorProficiencyItem,_super);function WarActorProficiencyItem(){return _super!==null&&_super.apply(this,arguments)||this}WarActorProficiencyItem.prototype.setData=function(data,index){this.m_name.text=data.name;this.m_icon.setIcon(Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl);this.m_lv.text=format(TEXT.Lv,data.level);this.prop=data.getShootType(Game.moduleModel.warData.moveData.type+400);this.config=Game.config.actorProficiency.getConfig(Game.moduleModel.warData.moveData.type*100+this.prop.proficiencyLevel);this.add=Game.moduleModel.warData.moveData.actorShootType[Game.moduleModel.warData.proficiencyForActor.getValue(index+1)];this.checkProgress(data,index)};WarActorProficiencyItem.prototype.checkProgress=function(data,index){var showLv=this.prop.proficiencyLevel;var curExp=this.prop.proficiencyExp;if(curExp-this.add>=0){this.m_progress.max=this.config.exp;this.m_progress.value=curExp-this.add;laya.utils.Tween.to(this.m_progress,{value:curExp},1000,Laya.Ease.linearIn,Laya.Handler.create(this,this.compleOver));this.m_tip.text=format(TEXT.FilmProficiency,showLv,this.add)}else{showLv--;var preConfig=Game.config.actorProficiency.getConfig(Game.moduleModel.warData.moveData.type*100+showLv);this.m_progress.max=preConfig.exp;this.m_progress.value=curExp+preConfig.exp-this.add;laya.utils.Tween.to(this.m_progress,{value:preConfig.exp},1000,Laya.Ease.linearIn,Laya.Handler.create(this,this.compleProgress));this.m_tip.text=format(TEXT.FilmProficiency,showLv,this.add)}};WarActorProficiencyItem.prototype.compleProgress=function(){this.m_progress.max=this.config.exp;this.m_progress.value=0;laya.utils.Tween.to(this.m_progress,{value:this.prop.proficiencyExp},1000,Laya.Ease.linearIn,Laya.Handler.create(this,this.compleOver));this.m_tip.text=format(TEXT.FilmProficiency,this.prop.proficiencyLevel,this.add)};WarActorProficiencyItem.prototype.compleOver=function(){Game.moduleModel.warData.sProficiencyUpdate.dispatch()};return WarActorProficiencyItem}(WarMovie.WarActorProficiencyItemStruct));WarMovie.WarActorProficiencyItem=WarActorProficiencyItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorPropertyStruct=(function(_super){__extends(WarActorPropertyStruct,_super);function WarActorPropertyStruct(){return _super.call(this)||this}WarActorPropertyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorProperty"))};WarActorPropertyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarActorPropertyStruct.URL="ui://y6ozucp1yytj5p";WarActorPropertyStruct.DependPackages=["WarMovie"];return WarActorPropertyStruct}(fairygui.GComponent));WarMovie.WarActorPropertyStruct=WarActorPropertyStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorProperty=(function(_super){__extends(WarActorProperty,_super);function WarActorProperty(){return _super!==null&&_super.apply(this,arguments)||this}return WarActorProperty}(WarMovie.WarActorPropertyStruct));WarMovie.WarActorProperty=WarActorProperty})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorSelectTipStruct=(function(_super){__extends(WarActorSelectTipStruct,_super);function WarActorSelectTipStruct(){return _super.call(this)||this}WarActorSelectTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorSelectTip"))};WarActorSelectTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarActorSelectTipStruct.URL="ui://y6ozucp1yytj5q";WarActorSelectTipStruct.DependPackages=["WarMovie"];return WarActorSelectTipStruct}(fairygui.GLabel));WarMovie.WarActorSelectTipStruct=WarActorSelectTipStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorSelectTip=(function(_super){__extends(WarActorSelectTip,_super);function WarActorSelectTip(){return _super!==null&&_super.apply(this,arguments)||this}return WarActorSelectTip}(WarMovie.WarActorSelectTipStruct));WarMovie.WarActorSelectTip=WarActorSelectTip})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorShowItemStruct=(function(_super){__extends(WarActorShowItemStruct,_super);function WarActorShowItemStruct(){return _super.call(this)||this}WarActorShowItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarActorShowItem"))};WarActorShowItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bg=(this.getChild("bg"));this.m_icon=(this.getChild("icon"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_5=(this.getChild("5"));this.m_left=(this.getChild("left"));this.m_right=(this.getChild("right"));this.m_mask=(this.getChild("mask"));this.m_t0=this.getTransition("t0")};WarActorShowItemStruct.URL="ui://y6ozucp1kh7oa5";WarActorShowItemStruct.DependPackages=["WarMovie"];return WarActorShowItemStruct}(fairygui.GComponent));WarMovie.WarActorShowItemStruct=WarActorShowItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarActorShowItem=(function(_super){__extends(WarActorShowItem,_super);function WarActorShowItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarActorShowItem}(WarMovie.WarActorShowItemStruct));WarMovie.WarActorShowItem=WarActorShowItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAttributeUpTipStruct=(function(_super){__extends(WarAttributeUpTipStruct,_super);function WarAttributeUpTipStruct(){return _super.call(this)||this}WarAttributeUpTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarAttributeUpTip"))};WarAttributeUpTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"))};WarAttributeUpTipStruct.URL="ui://y6ozucp1moqedl";WarAttributeUpTipStruct.DependPackages=["WarMovie","Common"];return WarAttributeUpTipStruct}(fairygui.GComponent));WarMovie.WarAttributeUpTipStruct=WarAttributeUpTipStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAttributeUpTip=(function(_super){__extends(WarAttributeUpTip,_super);function WarAttributeUpTip(){return _super!==null&&_super.apply(this,arguments)||this}WarAttributeUpTip.prototype.setData=function(data){Games.WarLoadPic.setIcon(this.m_icon,data.icon);this.m_title.text=data.str};return WarAttributeUpTip}(WarMovie.WarAttributeUpTipStruct));WarMovie.WarAttributeUpTip=WarAttributeUpTip})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAudienceItemStruct=(function(_super){__extends(WarAudienceItemStruct,_super);function WarAudienceItemStruct(){return _super.call(this)||this}WarAudienceItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarAudienceItem"))};WarAudienceItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_name=(this.getChild("name"));this.m_score=(this.getChild("score"));this.m_des=(this.getChild("des"));this.m_actor=(this.getChild("actor"));this.m_t0=this.getTransition("t0")};WarAudienceItemStruct.URL="ui://y6ozucp1qbxl74";WarAudienceItemStruct.DependPackages=["WarMovie","Common"];return WarAudienceItemStruct}(fairygui.GComponent));WarMovie.WarAudienceItemStruct=WarAudienceItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAudienceItem=(function(_super){__extends(WarAudienceItem,_super);function WarAudienceItem(){return _super!==null&&_super.apply(this,arguments)||this}WarAudienceItem.prototype.setData=function(val,index){var conf=Game.config.movieAudienceEvaluation.getMovieAudience(val);this.m_name.text=conf.name;this.m_des.text=conf.content;this.m_score.text=val.toFixed(0);if(index<4){this.m_t0.play(laya.utils.Handler.create(this,function(){Game.moduleModel.warData.sAudienceUpdate.dispatch()}),1)}else{this.m_t0.stop();Game.moduleModel.warData.sAudienceUpdate.dispatch()}this.m_actor.setIcon(Games.WarLoadPic.getAvatarIcon(conf.pic))};return WarAudienceItem}(WarMovie.WarAudienceItemStruct));WarMovie.WarAudienceItem=WarAudienceItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAudienceReputationStruct=(function(_super){__extends(WarAudienceReputationStruct,_super);function WarAudienceReputationStruct(){return _super.call(this)||this}WarAudienceReputationStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarAudienceReputation"))};WarAudienceReputationStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_scorTip=(this.getChild("scorTip"));this.m_score=(this.getChild("score"));this.m_typeList=(this.getChild("typeList"));this.m_audTip1=(this.getChild("audTip1"));this.m_audTip2=(this.getChild("audTip2"));this.m_audTip3=(this.getChild("audTip3"));this.m_audTip4=(this.getChild("audTip4"));this.m_audTip5=(this.getChild("audTip5"));this.m_filmInf=(this.getChild("filmInf"));this.m_filmDes=(this.getChild("filmDes"));this.m_audienceProgress=(this.getChild("audienceProgress"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_t0=this.getTransition("t0")};WarAudienceReputationStruct.URL="ui://y6ozucp1qbxl73";WarAudienceReputationStruct.DependPackages=["WarMovie","System","Common"];return WarAudienceReputationStruct}(fairygui.GComponent));WarMovie.WarAudienceReputationStruct=WarAudienceReputationStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarAudienceReputation=(function(_super){__extends(WarAudienceReputation,_super);function WarAudienceReputation(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.curIndexOf=0;return _this}WarAudienceReputation.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.AudienceReputationTitle;this.m_closeBtn.visible=false;this.m_typeList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn)};WarAudienceReputation.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarAudienceReputation.prototype.onWindowShow=function(){var _this=this;Game.moduleModel.warData.sAudienceUpdate.add(this.updateList,this);this.clearData();this.setDataBefor();this.m_t0.play(laya.utils.Handler.create(this,function(){_this.setData()}),1)};WarAudienceReputation.prototype.clearData=function(){this.m_okBtn.visible=false;this.m_audienceProgress.value=0;this.m_score.text="";this.m_filmName.text="";this.m_typeList.numItems=0};WarAudienceReputation.prototype.onWindowHide=function(){Game.moduleModel.warData.sAudienceUpdate.remove(this.updateList,this)};WarAudienceReputation.prototype.setDataBefor=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_audienceProgress.value=0;this.m_filmName.text=Game.moduleModel.warData.moveData.name;this.m_filmInf.setData(Game.moduleModel.warData.moveStory);this.m_filmDes.setData(Game.moduleModel.warData.moveStory.filmDes);this.m_score.text=Game.moduleModel.warData.moveData.publicPraise.toFixed(0);this.curIndexOf=0};WarAudienceReputation.prototype.setData=function(){laya.utils.Tween.to(this.m_audienceProgress,{value:Game.moduleModel.warData.moveData.publicPraise},1000,Laya.Ease.linearIn,null);this.updateList()};WarAudienceReputation.prototype.updateList=function(){if(this.curIndexOf<10){this.curIndexOf++;this.m_typeList.numItems=this.curIndexOf}else{this.m_okBtn.visible=true;this.curIndexOf=11}};WarAudienceReputation.prototype.initItem=function(index,obj){if(index===this.curIndexOf-1){var item=obj;var min=Game.moduleModel.warData.moveData.publicPraise-20;var max=Game.moduleModel.warData.moveData.publicPraise+20;if(min<1){min=1}if(max>100){max=100}item.setData(Random.rangeBoth(min,max),index)}};return WarAudienceReputation}(WarMovie.WarAudienceReputationStruct));WarMovie.WarAudienceReputation=WarAudienceReputation})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarBgCloseBtnStruct=(function(_super){__extends(WarBgCloseBtnStruct,_super);function WarBgCloseBtnStruct(){return _super.call(this)||this}WarBgCloseBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarBgCloseBtn"))};WarBgCloseBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn=(this.getChild("closeBtn"))};WarBgCloseBtnStruct.URL="ui://y6ozucp1icyf9y";WarBgCloseBtnStruct.DependPackages=["WarMovie","Common"];return WarBgCloseBtnStruct}(fairygui.GButton));WarMovie.WarBgCloseBtnStruct=WarBgCloseBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarBgCloseBtn=(function(_super){__extends(WarBgCloseBtn,_super);function WarBgCloseBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarBgCloseBtn}(WarMovie.WarBgCloseBtnStruct));WarMovie.WarBgCloseBtn=WarBgCloseBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarBtnStruct=(function(_super){__extends(WarBtnStruct,_super);function WarBtnStruct(){return _super.call(this)||this}WarBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarBtn"))};WarBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarBtnStruct.URL="ui://y6ozucp1qbxl92";WarBtnStruct.DependPackages=["WarMovie"];return WarBtnStruct}(fairygui.GButton));WarMovie.WarBtnStruct=WarBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarBtn=(function(_super){__extends(WarBtn,_super);function WarBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarBtn}(WarMovie.WarBtnStruct));WarMovie.WarBtn=WarBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarbubbleStruct=(function(_super){__extends(WarbubbleStruct,_super);function WarbubbleStruct(){return _super.call(this)||this}WarbubbleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","Warbubble"))};WarbubbleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_lv=this.getController("lv");this.m_icon0=(this.getChild("icon0"));this.m_icon1=(this.getChild("icon1"));this.m_icon3=(this.getChild("icon3"));this.m_icon4=(this.getChild("icon4"));this.m_title=(this.getChild("title"));this.m_t0=this.getTransition("t0")};WarbubbleStruct.URL="ui://y6ozucp1r0zd3t";WarbubbleStruct.DependPackages=["WarMovie"];return WarbubbleStruct}(fairygui.GLabel));WarMovie.WarbubbleStruct=WarbubbleStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Warbubble=(function(_super){__extends(Warbubble,_super);function Warbubble(){return _super!==null&&_super.apply(this,arguments)||this}Warbubble.prototype.setData=function(data){this.m_title.text=data.strTip;var lv=data.lv;if(lv<1){lv=1}if(lv>4){lv=4}this.m_lv.setSelectedIndex(lv-1)};return Warbubble}(WarMovie.WarbubbleStruct));WarMovie.Warbubble=Warbubble})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCinemaItemStruct=(function(_super){__extends(WarCinemaItemStruct,_super);function WarCinemaItemStruct(){return _super.call(this)||this}WarCinemaItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarCinemaItem"))};WarCinemaItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_okBtn=(this.getChild("okBtn"))};WarCinemaItemStruct.URL="ui://y6ozucp1qbxl6t";WarCinemaItemStruct.DependPackages=["WarMovie","Common"];return WarCinemaItemStruct}(fairygui.GLabel));WarMovie.WarCinemaItemStruct=WarCinemaItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCinemaItem=(function(_super){__extends(WarCinemaItem,_super);function WarCinemaItem(){return _super!==null&&_super.apply(this,arguments)||this}WarCinemaItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickSelectBtn)};WarCinemaItem.prototype.setData=function(data,index,moduleModels){this.dataid=data.id;this.moduleModels=moduleModels;if(this.dataid===Game.moduleModel.warData.emptyCinemalist[0]||this.dataid===Game.moduleModel.warData.emptyCinemalist[1]){this.m_c1.setSelectedIndex(0);var blockLevel=Game.config.blockLevel.getConfig(data.unlock);this.m_title.text=format(Game.config.msg.getConfig(MsgKey.movie_unlock_cinema_tips).notice,blockLevel.name)}else{this.m_c1.setSelectedIndex(1);this.m_title.text=format(Game.config.msg.getConfig(MsgKey.movie_cinema_tips).notice,data.sign_level,data.num)}this.m_icon.icon=Game.config.avatar.getConfig(data.pic).iconUrl};WarCinemaItem.prototype.onClickSelectBtn=function(){var _this=this;this.moduleMain=this.moduleModels.mainWindow;this.moduleModels.closeSelf();Game.moduleModel.warData.setPublishMovie(this.dataid,function(){_this.moduleMain.conent.subWindowToMain()})};return WarCinemaItem}(WarMovie.WarCinemaItemStruct));WarMovie.WarCinemaItem=WarCinemaItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCinemaSelectionStruct=(function(_super){__extends(WarCinemaSelectionStruct,_super);function WarCinemaSelectionStruct(){return _super.call(this)||this}WarCinemaSelectionStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarCinemaSelection"))};WarCinemaSelectionStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_allTip=(this.getChild("allTip"));this.m_title=(this.getChild("title"));this.m_yxList=(this.getChild("yxList"));this.m_closeBtn=(this.getChild("closeBtn"))};WarCinemaSelectionStruct.URL="ui://y6ozucp1qbxl6s";WarCinemaSelectionStruct.DependPackages=["WarMovie","Common"];return WarCinemaSelectionStruct}(fairygui.GComponent));WarMovie.WarCinemaSelectionStruct=WarCinemaSelectionStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCinemaSelection=(function(_super){__extends(WarCinemaSelection,_super);function WarCinemaSelection(){return _super!==null&&_super.apply(this,arguments)||this}WarCinemaSelection.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.CinemaSelectionTitle;this.m_yxList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_closeBtn.onClick(this,this.onClickClose)};WarCinemaSelection.prototype.onClickClose=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarCinemaSelection.prototype.onWindowShow=function(){this.setData()};WarCinemaSelection.prototype.onWindowHide=function(){};WarCinemaSelection.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.cinList=Game.moduleModel.warData.cinemaList();this.m_yxList.numItems=this.cinList.length};WarCinemaSelection.prototype.initItem=function(index,obj){var item=obj;item.setData(this.cinList[index],index,this.moduleWindow)};return WarCinemaSelection}(WarMovie.WarCinemaSelectionStruct));WarMovie.WarCinemaSelection=WarCinemaSelection})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCityItemStruct=(function(_super){__extends(WarCityItemStruct,_super);function WarCityItemStruct(){return _super.call(this)||this}WarCityItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarCityItem"))};WarCityItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_gray=this.getController("gray");this.m_icon=(this.getChild("icon"));this.m_iconGray=(this.getChild("iconGray"));this.m_title=(this.getChild("title"))};WarCityItemStruct.URL="ui://y6ozucp1qbxl8b";WarCityItemStruct.DependPackages=["WarMovie"];return WarCityItemStruct}(fairygui.GButton));WarMovie.WarCityItemStruct=WarCityItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCityItem=(function(_super){__extends(WarCityItem,_super);function WarCityItem(){return _super!==null&&_super.apply(this,arguments)||this}WarCityItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickBtn)};WarCityItem.prototype.onClickBtn=function(){if(!this.selectedThis){this.selectedCallBack(this.curData)}};WarCityItem.prototype.setData=function(cityData,curCity,selectedCallBack){this.curData=cityData;this.curCity=curCity;this.selectedCallBack=selectedCallBack;if(this.curCity!==null&&this.curCity.id===cityData.id){this.selectedThis=true}else{this.selectedThis=false}this.selected=this.selectedThis;this.m_title.text=cityData.num.toFixed(0)+"."+cityData.name;if(cityData.state===Games.CityStateEnum.hasOccupy){this.m_gray.setSelectedIndex(0)}else{this.m_gray.setSelectedIndex(1)}};return WarCityItem}(WarMovie.WarCityItemStruct));WarMovie.WarCityItem=WarCityItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarContinueRewardItemStruct=(function(_super){__extends(WarContinueRewardItemStruct,_super);function WarContinueRewardItemStruct(){return _super.call(this)||this}WarContinueRewardItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarContinueRewardItem"))};WarContinueRewardItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"))};WarContinueRewardItemStruct.URL="ui://y6ozucp1qbxl87";WarContinueRewardItemStruct.DependPackages=["WarMovie","Common"];return WarContinueRewardItemStruct}(fairygui.GButton));WarMovie.WarContinueRewardItemStruct=WarContinueRewardItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarContinueRewardItem=(function(_super){__extends(WarContinueRewardItem,_super);function WarContinueRewardItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.openLv=0;_this.itemId=0;return _this}WarContinueRewardItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickOkBtn)};WarContinueRewardItem.prototype.onClickOkBtn=function(){if(this.m_c1.selectedIndex===1){Game.system.showItemInfo(this,this.itemId)}else{Game.system.toastText(format(TEXT.guanzhuduOpenTip,this.openLv))}};WarContinueRewardItem.prototype.setData=function(index,cityPopConfig,curGZLv,noLock){if(noLock===void 0){noLock=false}this.m_c1.setSelectedIndex(0);var conLv=0;var confId=0;this.itemId=0;switch(index){case 0:confId=Game.config.item.getConfig(cityPopConfig.level_out_3).icon;this.itemId=cityPopConfig.level_out_3;if(curGZLv>=3){conLv=1}else{conLv=0;this.openLv=3}break;case 1:confId=Game.config.item.getConfig(cityPopConfig.level_out_7).icon;this.itemId=cityPopConfig.level_out_7;if(curGZLv>=7){conLv=1}else{conLv=0;this.openLv=7}break;case 2:confId=Game.config.item.getConfig(cityPopConfig.level_out_10).icon;this.itemId=cityPopConfig.level_out_10;if(curGZLv>=10){conLv=1}else{conLv=0;this.openLv=10}break;case 3:confId=Game.config.item.getConfig(cityPopConfig.level_out_15).icon;this.itemId=cityPopConfig.level_out_15;if(curGZLv>=15){conLv=1}else{conLv=0;this.openLv=15}break;case 4:confId=Game.config.item.getConfig(cityPopConfig.level_out_20).icon;this.itemId=cityPopConfig.level_out_20;if(curGZLv>=20){conLv=1}else{conLv=0;this.openLv=20}break}this.icon=Game.config.avatar.getConfig(confId).iconUrl;if(noLock){conLv=1}this.m_c1.setSelectedIndex(conLv)};return WarContinueRewardItem}(WarMovie.WarContinueRewardItemStruct));WarMovie.WarContinueRewardItem=WarContinueRewardItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarContinuousIncomeStruct=(function(_super){__extends(WarContinuousIncomeStruct,_super);function WarContinuousIncomeStruct(){return _super.call(this)||this}WarContinuousIncomeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarContinuousIncome"))};WarContinuousIncomeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_ChangeCity=this.getController("ChangeCity");this.m_showCostRed=this.getController("showCostRed");this.m_filmName=(this.getChild("filmName"));this.m_incomeTime=(this.getChild("incomeTime"));this.m_guanzhuduValue=(this.getChild("guanzhuduValue"));this.m_expandIcon=(this.getChild("expandIcon"));this.m_expandCost=(this.getChild("expandCost"));this.m_rewardValue1=(this.getChild("rewardValue1"));this.m_rewardIcon1=(this.getChild("rewardIcon1"));this.m_tip1=(this.getChild("tip1"));this.m_rewardList=(this.getChild("rewardList"));this.m_cityList=(this.getChild("cityList"));this.m_lockTip=(this.getChild("lockTip"));this.m_lock=(this.getChild("lock"));this.m_title=(this.getChild("title"));this.m_pingjia=(this.getChild("pingjia"));this.m_overTip1=(this.getChild("overTip1"));this.m_overTip=(this.getChild("overTip"));this.m_icon2=(this.getChild("icon2"));this.m_cityName=(this.getChild("cityName"));this.m_rewardList2=(this.getChild("rewardList2"));this.m_cantTip=(this.getChild("cantTip"));this.m_tip2=(this.getChild("tip2"));this.m_okBtn=(this.getChild("okBtn"));this.m_guanzhuduProgress=(this.getChild("guanzhuduProgress"));this.m_promotionBtn=(this.getChild("promotionBtn"));this.m_Income=(this.getChild("Income"));this.m_xuanchuance=(this.getChild("xuanchuance"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_Income2=(this.getChild("Income2"));this.m_okBtn2=(this.getChild("okBtn2"));this.m_nameBtn=(this.getChild("nameBtn"));this.m_closeBtn2=(this.getChild("closeBtn2"));this.m_fxEffectMovieEarnings=(this.getChild("fxEffectMovieEarnings"))};WarContinuousIncomeStruct.URL="ui://y6ozucp1qbxl84";WarContinuousIncomeStruct.DependPackages=["WarMovie","System","Common","Fx"];return WarContinuousIncomeStruct}(fairygui.GComponent));WarMovie.WarContinuousIncomeStruct=WarContinuousIncomeStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarContinuousIncome=(function(_super){__extends(WarContinuousIncome,_super);function WarContinuousIncome(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isOverIncome=false;_this.attentionval=-1;_this.preAttentionVal=-1;_this.tipGetCostItemId=0;_this.tipGetCostNum=0;return _this}WarContinuousIncome.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_rewardList.itemRenderer=Laya.Handler.create(this,this.initRewardItem,null,false);this.m_rewardList2.itemRenderer=Laya.Handler.create(this,this.initRewardItem2,null,false);this.m_cityList.itemRenderer=Laya.Handler.create(this,this.initCityItem,null,false);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.m_closeBtn2.onClick(this,this.onClickCloseBtn2);this.m_okBtn2.onClick(this,this.onClickOkBtn2);this.m_promotionBtn.onClick(this,this.onClickUpAttentionBtn);this.m_promotionBtn.text=TEXT.promotionBtn;this.m_okBtn.onClick(this,this.onGetRewardBtn);this.m_nameBtn.onClick(this,this.showFilmInf)};WarContinuousIncome.prototype.showFilmInf=function(){Game.system.movieInfo(Game.moduleModel.warData.movieDataToShotData(Game.moduleModel.warData.movieDataList[this.indexOf]))};WarContinuousIncome.prototype.onClickCloseBtn=function(){this.visible=false};WarContinuousIncome.prototype.setData=function(indexOf,subTime){this.m_ChangeCity.setSelectedIndex(0);this.indexOf=indexOf;this.curCity=null;var curData=Game.moduleModel.warData.movieDataList[indexOf];this.m_filmName.text=curData.name;var sellIcon=Game.config.movieDrop.getSellIcon(curData.boxOfficeEvaluation);this.m_pingjia.icon=Game.config.avatar.getConfig(sellIcon).iconUrl;this.updateAttentionValue();this.onRefrushCity();if(subTime<=0){this.isOverIncome=true}else{this.isOverIncome=false}this.updateContinueLastToNow();Laya.timer.loop(60000,this,this.updateContinueLastToNow,null,true,true);this.m_rewardIcon1.icon=Games.WarLoadPic.getItemIcon(3)};WarContinuousIncome.prototype.updateContinueLastToNow=function(msg){if(Game.moduleModel.warData.movieDataList.length>this.indexOf){var delFilm=true;if(msg&&msg!==null){for(var i=0;i<Game.moduleModel.warData.movieDataList.length;i++){if(Game.moduleModel.warData.movieDataList[i].uuid===msg.uuid){delFilm=false;break}}if(msg.dropout&&msg.dropout!==null&&msg.dropout.length>0){}}else{delFilm=false}if(delFilm){this.visible=false;Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmContinue()}else{var curData=Game.moduleModel.warData.movieDataList[this.indexOf];var lastVal=0;if(!this.isOverIncome){if(this.preAttentionVal!==curData.attentionValue){this.preAttentionVal=curData.attentionValue;this.attentionval=curData.totalBoxOffice/30*(curData.attentionValue*0.1+1)}var lastToNow=Math.floor(Game.time.getSubSecondsPre(curData.lastTime)/60);lastVal=this.attentionval*lastToNow+curData.contineTransceiver}else{var lastToNow=Math.floor(Game.time.getSubSecondsPre(curData.lastTime)/60);var startToNow=Math.floor(Game.time.getSubSecondsPre(curData.startTime)/60);var last2=120-(startToNow-lastToNow);this.attentionval=curData.totalBoxOffice/30*(curData.attentionValue*0.1+1);lastVal=this.attentionval*last2+curData.contineTransceiver}if(lastVal<0){lastVal=0}lastVal=toInt(lastVal.toString());this.m_rewardValue1.text=formatNumberUnit(lastVal,1)}}else{if(msg&&msg!==null){if(msg.dropout&&msg.dropout!==null&&msg.dropout.length>0){}}this.visible=false;Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmContinue()}};WarContinuousIncome.prototype.onGetRewardBtn=function(){var _this=this;Game.moduleModel.warData.reqGetRewardMovie(Game.moduleModel.warData.movieDataList[this.indexOf].uuid,function(msg){_this.updateContinueLastToNow(msg)})};WarContinuousIncome.prototype.updateAttentionValue=function(){var curData=Game.moduleModel.warData.movieDataList[this.indexOf];var roomInf=Game.moduleModel.building.getRoomLevel(4);this.m_lock.visible=!(roomInf&&roomInf>1);this.m_lockTip.text=Game.config.msg.getConfig(MsgKey.movie_city_unlock_tips).notice;this.curGZLv=parseInt(curData.attentionValue.toFixed(0));this.m_guanzhuduValue.text=format(TEXT.guanzhuduValue,this.curGZLv.toString());this.m_guanzhuduProgress.value=curData.attentionProgress;var moviePropularizeData=Game.config.moviePopularize.getConfig(this.curGZLv);this.m_expandCost.text=formatNumberUnit(moviePropularizeData.cost_num);this.tipGetCostItemId=Game.config.moviePopularize.getConfig(1).cost_id;this.tipGetCostNum=moviePropularizeData.cost_num;if(moviePropularizeData.cost_num>Game.moduleModel.item.getItemNum(this.tipGetCostItemId)){if(this.m_showCostRed.selectedIndex!==1){this.m_showCostRed.setSelectedIndex(1)}}else{if(this.m_showCostRed.selectedIndex!==0){this.m_showCostRed.setSelectedIndex(0)}this.tipGetCostItemId=0}this.m_expandIcon.icon=Games.WarLoadPic.getItemIcon(moviePropularizeData.cost_id)};WarContinuousIncome.prototype.onClickUpAttentionBtn=function(){var _this=this;if(this.curGZLv>=20){Game.system.toastText(TEXT.GZMax)}else{if(this.tipGetCostItemId>0){Game.system.openItemWay(this.tipGetCostItemId,this.tipGetCostNum)}else{Game.moduleModel.warData.reqSpreadMovie(Game.moduleModel.warData.movieDataList[this.indexOf].uuid,function(){_this.updateAttentionValue();_this.onRefrushCity()})}}};WarContinuousIncome.prototype.onUpdateTime=function(val){this.m_incomeTime.text=format(Game.config.msg.getConfig(MsgKey.movie_off_line_remaining_time).notice,Games.TimeHelper.TimeFormat3(val))};WarContinuousIncome.prototype.onIncomeOver=function(){this.isOverIncome=true;this.m_overTip1.text=TEXT.filmOverTip;this.m_overTip.text=Game.config.msg.getConfig(MsgKey.earnings_over).notice;this.m_ChangeCity.setSelectedIndex(2)};WarContinuousIncome.prototype.initRewardItem=function(index,obj){var item=obj;item.setData(index,this.cityPopConfig,this.curGZLv)};WarContinuousIncome.prototype.initRewardItem2=function(index,obj){var item=obj;item.setData(index,this.cityPopConfig,this.curGZLv,true)};WarContinuousIncome.prototype.onRefrushCity=function(){var curData=Game.moduleModel.warData.movieDataList[this.indexOf];this.cityList=Game.moduleModel.market.GetMovieCity();this.curCity=null;var indexOf=0;if(curData.extendCity>0){for(var i=0;i<this.cityList.length;i++){if(this.cityList[i].id===curData.extendCity){this.curCity=this.cityList[i];indexOf=i;break}}}this.m_cityList.numItems=this.cityList.length;this.m_cityList.scrollToView(indexOf,true);if(this.curCity!==null){var popularize_id=this.curCity.cfg.popularize_id;this.cityPopConfig=Game.config.cityPopularize.getConfig(popularize_id);this.m_rewardList.numItems=5}else{this.m_rewardList.numItems=0}var val=curData.totalBoxOffice/30*(curData.attentionValue*0.1+1);var str=format(Game.config.msg.getConfig(MsgKey.movie_off_line_gain_tips).notice,formatNumberUnit(val));this.m_Income.setData(EItemId.dollar,str);this.m_tip1.text=TEXT.continueTip;var cosId=Game.config.moviePopularize.getConfig(1).cost_id;this.m_xuanchuance.setData(cosId,formatNumberUnit(Game.moduleModel.item.getItemNum(cosId)).toString())};WarContinuousIncome.prototype.initCityItem=function(index,obj){var _this=this;var item=obj;item.setData(this.cityList[index],this.curCity,function(arg){_this.selectCallBack(arg)})};WarContinuousIncome.prototype.selectCallBack=function(data){this.curClickShowCityData=data;this.m_cityName.text=data.name;var val=Game.moduleModel.warData.movieDataList[this.indexOf].totalBoxOffice/30*(Game.moduleModel.warData.movieDataList[this.indexOf].attentionValue*0.1+1);var str=format(Game.config.msg.getConfig(MsgKey.movie_off_line_gain_tips).notice,formatNumberUnit(val));this.m_Income2.setData(EItemId.dollar,str);this.m_tip2.text=TEXT.continueTip;var popularize_id=data.cfg.popularize_id;this.cityPopConfig=Game.config.cityPopularize.getConfig(popularize_id);this.m_rewardList2.numItems=5;if(data.state===Games.CityStateEnum.hasOccupy){this.m_cantTip.visible=false;this.m_okBtn2.visible=true}else{this.m_cantTip.visible=true;this.m_okBtn2.visible=false}this.m_ChangeCity.setSelectedIndex(1)};WarContinuousIncome.prototype.onClickCloseBtn2=function(){this.m_ChangeCity.setSelectedIndex(0);this.curClickShowCityData=null;this.onRefrushCity()};WarContinuousIncome.prototype.onClickOkBtn2=function(){var _this=this;Game.moduleModel.warData.reqSwitchCity(Game.moduleModel.warData.movieDataList[this.indexOf].uuid,this.curClickShowCityData.id,function(){_this.onClickCloseBtn2()})};return WarContinuousIncome}(WarMovie.WarContinuousIncomeStruct));WarMovie.WarContinuousIncome=WarContinuousIncome})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCostViewStruct=(function(_super){__extends(WarCostViewStruct,_super);function WarCostViewStruct(){return _super.call(this)||this}WarCostViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarCostView"))};WarCostViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_nameTip=(this.getChild("nameTip"));this.m_yrList=(this.getChild("yrList"));this.m_allTip=(this.getChild("allTip"));this.m_costText=(this.getChild("costText"));this.m_costIcon=(this.getChild("costIcon"));this.m_title=(this.getChild("title"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarCostViewStruct.URL="ui://y6ozucp1r0zd2y";WarCostViewStruct.DependPackages=["WarMovie","Common"];return WarCostViewStruct}(fairygui.GComponent));WarMovie.WarCostViewStruct=WarCostViewStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCostView=(function(_super){__extends(WarCostView,_super);function WarCostView(){return _super!==null&&_super.apply(this,arguments)||this}WarCostView.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmCostViewTitle;this.m_yrList.itemRenderer=Laya.Handler.create(this,this.yrCostItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_closeBtn.onClick(this,this.onClickClose)};WarCostView.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarCostView.prototype.onClickClose=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarCostView.prototype.onWindowShow=function(){this.setData()};WarCostView.prototype.onWindowHide=function(){};WarCostView.prototype.yrCostItem=function(index,obj){var item=obj;item.setData(this.costlist.getValue(index),this.charact.getValue(index))};WarCostView.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;var list=Game.moduleModel.warData.curYRList;this.costlist=new Dictionary();this.charact=new Dictionary();this.m_nameTip.text=format(Game.config.msg.getConfig(MsgKey.movie_actor_pay).notice,Game.moduleModel.warData.moveStory.filmName);var cost=0;var counts=0;if(list.count>0){var keyList=list.getKeys();for(var i=0;i<keyList.length;i++){var val=list.getValue(keyList[i]);if(val.id!==9999){var charactItem=Game.moduleModel.warData.moveStory.characterProperty[i];cost+=val.PayForFilming(charactItem.type);this.charact.add(counts,charactItem);this.costlist.add(counts,val);counts++}}}this.m_costText.text=formatNumberUnit(cost,1);this.m_yrList.numItems=counts};return WarCostView}(WarMovie.WarCostViewStruct));WarMovie.WarCostView=WarCostView})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCurrentMarketInfoStruct=(function(_super){__extends(WarCurrentMarketInfoStruct,_super);function WarCurrentMarketInfoStruct(){return _super.call(this)||this}WarCurrentMarketInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarCurrentMarketInfo"))};WarCurrentMarketInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_des=(this.getChild("des"));this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_clickTip=(this.getChild("clickTip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_men=(this.getChild("men"));this.m_women=(this.getChild("women"));this.m_child=(this.getChild("child"))};WarCurrentMarketInfoStruct.URL="ui://y6ozucp1qbxl8h";WarCurrentMarketInfoStruct.DependPackages=["WarMovie","Common"];return WarCurrentMarketInfoStruct}(fairygui.GComponent));WarMovie.WarCurrentMarketInfoStruct=WarCurrentMarketInfoStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarCurrentMarketInfo=(function(_super){__extends(WarCurrentMarketInfo,_super);function WarCurrentMarketInfo(){return _super!==null&&_super.apply(this,arguments)||this}WarCurrentMarketInfo.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickClose)};WarCurrentMarketInfo.prototype.onClickClose=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarCurrentMarketInfo.prototype.onWindowShow=function(){this.setData()};WarCurrentMarketInfo.prototype.onWindowHide=function(){};WarCurrentMarketInfo.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;var data=Game.moduleModel.warData.moveStory;var man=Game.moduleModel.warData.moveData.expected[0];var woman=Game.moduleModel.warData.moveData.expected[1];var child=Game.moduleModel.warData.moveData.expected[2];var ok1=this.m_men.setData(data.getMale,man,0);var ok2=this.m_women.setData(data.getFemale,woman,1);var ok3=this.m_child.setData(data.getChild,child,2);var strTip="";if(ok1&&ok2&&ok3){if(Random.rangeBoth(0,1)===0){strTip=Game.config.msg.getConfig(MsgKey.movie_market_good1).notice}else{strTip=Game.config.msg.getConfig(MsgKey.movie_market_good2).notice}}else{if(Random.rangeBoth(0,1)===0){strTip=Game.config.msg.getConfig(MsgKey.movie_market_bad1).notice}else{strTip=Game.config.msg.getConfig(MsgKey.movie_market_bad2).notice}}this.m_des.text=format(strTip,Game.moduleModel.warData.moveData.name)};return WarCurrentMarketInfo}(WarMovie.WarCurrentMarketInfoStruct));WarMovie.WarCurrentMarketInfo=WarCurrentMarketInfo})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarEndIncomeItemStruct=(function(_super){__extends(WarEndIncomeItemStruct,_super);function WarEndIncomeItemStruct(){return _super.call(this)||this}WarEndIncomeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarEndIncomeItem"))};WarEndIncomeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_filmName=(this.getChild("filmName"));this.m_shouyipingjia=(this.getChild("shouyipingjia"));this.m_timeLeftTip=(this.getChild("timeLeftTip"));this.m_timeLeft=(this.getChild("timeLeft"));this.m_endBtn=(this.getChild("endBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarEndIncomeItemStruct.URL="ui://y6ozucp1qbxl8f";WarEndIncomeItemStruct.DependPackages=["WarMovie","Common"];return WarEndIncomeItemStruct}(fairygui.GComponent));WarMovie.WarEndIncomeItemStruct=WarEndIncomeItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarEndIncomeItem=(function(_super){__extends(WarEndIncomeItem,_super);function WarEndIncomeItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.curShowBtnIndexOf=0;return _this}WarEndIncomeItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.mainModels=Game.menu.getMenuCtl(MenuId.Home).moduleWindow;this.m_timeLeftTip.text=TEXT.TimeLeftTip;this.m_okBtn.onClick(this,this.onClickClose);this.m_endBtn.onClick(this,this.onClickClose)};WarEndIncomeItem.prototype.onClickClose=function(){var _this=this;if(this.curShowBtnIndexOf===1){Game.moduleModel.warData.reqDeleteMovie(this.curData.uuid,function(arg){Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmContinue();_this.callBackToDel()})}else{Game.system.confirmMsg(MsgKey.movie_stop_tips,[Game.config.global.getConfig(GlobalKey.Movie_Stop_Tips).value],"",this,function(){Game.moduleModel.warData.reqDeleteMovie(_this.curData.uuid,function(arg){Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmContinue();_this.callBackToDel()})},function(){},TEXT.ButtonOk,TEXT.ButtonCannel,false)}};WarEndIncomeItem.prototype.setData=function(data,index,callBackToDel){var _this=this;this.curShowBtnIndexOf=0;this.callBackToDel=callBackToDel;this.curData=data;this.m_filmName.text=data.name;var moveStory=Game.config.story.getConfig(data.movieId);this.m_icon.icon=Game.config.avatar.getConfig(moveStory.poster_name).iconUrl;this.timeTip=data.totalBoxOffice/30*(data.attentionValue*0.1+1);this.m_shouyipingjia.text=format(Game.config.msg.getConfig(MsgKey.movie_off_line_gain_evaluation).notice,this.timeTip.toFixed(0));this.mainModels.conent.filmContinueBtnList[index].onGetCallBack(function(arg){_this.updateTime(arg)})};WarEndIncomeItem.prototype.updateTime=function(val){this.m_timeLeft.text=Games.TimeHelper.TimeFormat3(val);if(val>0){if(this.curShowBtnIndexOf===1){this.curShowBtnIndexOf=0;this.m_c1.setSelectedIndex(this.curShowBtnIndexOf);this.m_shouyipingjia.text=format(TEXT.gainEvaluation,this.timeTip.toFixed(0))}}else{if(this.curShowBtnIndexOf===0){this.curShowBtnIndexOf=1;this.m_c1.setSelectedIndex(this.curShowBtnIndexOf);var lastVal=0;var lastToNow=Math.floor(Game.time.getSubSecondsPre(this.curData.lastTime)/60);var startToNow=Math.floor(Game.time.getSubSecondsPre(this.curData.startTime)/60);var last2=120-(startToNow-lastToNow);var attentionval=this.curData.totalBoxOffice/30*(this.curData.attentionValue*0.1+1);lastVal=attentionval*last2+this.curData.contineTransceiver;if(lastVal<0){lastVal=0}lastVal=toInt(lastVal.toString());this.m_shouyipingjia.text=format(TEXT.gainEvaluationOver,formatNumberUnit(lastVal,1))}}};return WarEndIncomeItem}(WarMovie.WarEndIncomeItemStruct));WarMovie.WarEndIncomeItem=WarEndIncomeItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarEndingIncomeStruct=(function(_super){__extends(WarEndingIncomeStruct,_super);function WarEndingIncomeStruct(){return _super.call(this)||this}WarEndingIncomeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarEndingIncome"))};WarEndingIncomeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_nameTip=(this.getChild("nameTip"));this.m_title=(this.getChild("title"));this.m_filmList=(this.getChild("filmList"));this.m_okBtn=(this.getChild("okBtn"))};WarEndingIncomeStruct.URL="ui://y6ozucp1qbxl8c";WarEndingIncomeStruct.DependPackages=["WarMovie","Common"];return WarEndingIncomeStruct}(fairygui.GComponent));WarMovie.WarEndingIncomeStruct=WarEndingIncomeStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarEndingIncome=(function(_super){__extends(WarEndingIncome,_super);function WarEndingIncome(){return _super!==null&&_super.apply(this,arguments)||this}WarEndingIncome.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_okBtn.onClick(this,this.onClickClose)};WarEndingIncome.prototype.onClickClose=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarEndingIncome.prototype.onWindowShow=function(){this.setData()};WarEndingIncome.prototype.onWindowHide=function(){};WarEndingIncome.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_title.text=TEXT.EndingTitle;this.m_nameTip.text=TEXT.EndingTip;this.m_filmList.numItems=Game.moduleModel.warData.movieDataList.length};WarEndingIncome.prototype.initItem=function(index,obj){var _this=this;var item=obj;item.setData(Game.moduleModel.warData.movieDataList[index],index,function(){_this.setData()})};return WarEndingIncome}(WarMovie.WarEndingIncomeStruct));WarMovie.WarEndingIncome=WarEndingIncome})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFeedBackStruct=(function(_super){__extends(WarFeedBackStruct,_super);function WarFeedBackStruct(){return _super.call(this)||this}WarFeedBackStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFeedBack"))};WarFeedBackStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_zongfen=(this.getChild("zongfen"));this.m_feedList=(this.getChild("feedList"));this.m_feedTip1=(this.getChild("feedTip1"));this.m_feedTip2=(this.getChild("feedTip2"));this.m_feedTip3=(this.getChild("feedTip3"));this.m_feedTip4=(this.getChild("feedTip4"));this.m_receive=(this.getChild("receive"));this.m_okIcon=(this.getChild("okIcon"));this.m_dianzanValue=(this.getChild("dianzanValue"));this.m_dianzhanCom=(this.getChild("dianzhanCom"));this.m_filmInf=(this.getChild("filmInf"));this.m_starProgress=(this.getChild("starProgress"));this.m_filmDes=(this.getChild("filmDes"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1");this.m_dianzhanAni=this.getTransition("dianzhanAni")};WarFeedBackStruct.URL="ui://y6ozucp1qbxl6u";WarFeedBackStruct.DependPackages=["WarMovie","Common"];return WarFeedBackStruct}(fairygui.GComponent));WarMovie.WarFeedBackStruct=WarFeedBackStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFeedBack=(function(_super){__extends(WarFeedBack,_super);function WarFeedBack(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.curIndexOf=0;_this.dianVal=0;return _this}WarFeedBack.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FeedBackTitle;this.m_feedList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};WarFeedBack.prototype.onClickCloseBtn=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarFeedBack.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarFeedBack.prototype.onWindowShow=function(){var _this=this;Game.moduleModel.warData.sFeedBackUpdate.add(this.updateList,this);this.clearData();this.setDataBefor();this.m_t1.play(laya.utils.Handler.create(this,function(){_this.setData()}),1)};WarFeedBack.prototype.onWindowHide=function(){if(this.mindDialog&&this.mindDialog!==null){this.mindDialog.close()}Laya.timer.clear(this,this.showNum);Game.moduleModel.warData.sFeedBackUpdate.remove(this.updateList,this)};WarFeedBack.prototype.clearData=function(){this.m_dianzhanCom.visible=false;this.m_okBtn.visible=false;this.m_starProgress.value=0;this.m_zongfen.visible=false;this.m_dianzanValue.text="";this.m_filmName.text="";this.m_feedList.numItems=0;this.dianVal=0;this.curIndexOf=0};WarFeedBack.prototype.setDataBefor=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_starProgress.value=Game.moduleModel.warData.moveData.mediaCommend*0.1;this.m_zongfen.text=(Game.moduleModel.warData.moveData.mediaCommend*0.1).toFixed(1);this.m_zongfen.visible=false;this.scoreList=new Array();var total=Game.moduleModel.warData.moveData.mediaCommend*3;for(var i=0;i<2;i++){var val=Math.floor(Game.moduleModel.warData.moveData.mediaCommendArr[i]/total*Game.moduleModel.warData.moveData.praise);this.scoreList.push(val)}var val2=Math.floor(Game.moduleModel.warData.moveData.praise)-this.scoreList[0]-this.scoreList[1];this.scoreList.push(val2);this.m_filmName.text=Game.moduleModel.warData.moveData.name;this.m_filmInf.setData(Game.moduleModel.warData.moveStory);this.m_filmDes.setData(Game.moduleModel.warData.moveStory.filmDes)};WarFeedBack.prototype.setData=function(){this.updateList()};WarFeedBack.prototype.updateList=function(){if(this.curIndexOf<3){this.curIndexOf++;this.m_feedList.numItems=this.curIndexOf}else{this.m_zongfen.visible=true;this.m_t0.play();this.m_dianzhanCom.visible=true;this.m_dianzhanAni.play(null,1);Laya.timer.loop(10,this,this.showNum)}};WarFeedBack.prototype.showNum=function(){if(this.dianVal<Game.moduleModel.warData.moveData.praise){this.dianVal+=Game.moduleModel.warData.moveData.praise/100;if(this.dianVal>=Game.moduleModel.warData.moveData.praise){this.dianVal=Game.moduleModel.warData.moveData.praise;this.m_okBtn.visible=true;var val=Game.moduleModel.warData.moveData.mediaCommend*0.1;if(!this.mindDialog||this.mindDialog===null){this.mindDialog=fgui.WarMovie.ShwoMinDialog.createInstance();this.addChild(this.mindDialog);this.mindDialog.setXY(0,0)}this.mindDialog.setData(format(Game.config.movieMidiaEvaluationMsg.getMsgFoNotice(val).msg,val.toFixed(1)))}this.m_dianzanValue.text=this.dianVal.toFixed(0)}};WarFeedBack.prototype.initItem=function(index,obj){if(index===this.curIndexOf-1){var item=obj;item.setData(Game.moduleModel.warData.moveData.mediaCommendArr[index],this.scoreList[index],index)}};return WarFeedBack}(WarMovie.WarFeedBackStruct));WarMovie.WarFeedBack=WarFeedBack})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmInfoStruct=(function(_super){__extends(WarFilmInfoStruct,_super);function WarFilmInfoStruct(){return _super.call(this)||this}WarFilmInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmInfo"))};WarFilmInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_filmTypeList=(this.getChild("filmTypeList"));this.m_completeList=(this.getChild("completeList"));this.m_reqTip=(this.getChild("reqTip"));this.m_rewardTip=(this.getChild("rewardTip"));this.m_rewardIcon=(this.getChild("rewardIcon"));this.m_rewardVal=(this.getChild("rewardVal"));this.m_rewardCom=(this.getChild("rewardCom"));this.m_filmActorList=(this.getChild("filmActorList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmDes=(this.getChild("filmDes"));this.m_men=(this.getChild("men"));this.m_women=(this.getChild("women"));this.m_child=(this.getChild("child"))};WarFilmInfoStruct.URL="ui://y6ozucp1r0zd59";WarFilmInfoStruct.DependPackages=["WarMovie","Common"];return WarFilmInfoStruct}(fairygui.GComponent));WarMovie.WarFilmInfoStruct=WarFilmInfoStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmInfo=(function(_super){__extends(WarFilmInfo,_super);function WarFilmInfo(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.closeMenui=false;return _this}WarFilmInfo.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmTypeList.itemRenderer=Laya.Handler.create(this,this.initTagsItem,null,false);this.m_filmActorList.itemRenderer=Laya.Handler.create(this,this.yirenItem,null,false);this.m_filmActorList.on(fairygui.Events.CLICK_ITEM,this,this.clickItem);this.m_completeList.itemRenderer=Laya.Handler.create(this,this.completeItem,null,false);this.m_closeBtn.onClick(this,this.onClicClose)};WarFilmInfo.prototype.onClicClose=function(){this.moduleWindow.closeSelf();if(this.closeMenui){this.moduleWindow.menuClose()}};WarFilmInfo.prototype.onWindowShow=function(){this.setData()};WarFilmInfo.prototype.onWindowHide=function(){this.m_filmActorList.clearSelection()};WarFilmInfo.prototype.setData=function(){if(this.moduleWindow.menuParameter.args.length>0){this.closeMenui=true;if(this.moduleWindow.menuParameter.args[0].movieId>0){this.curData=Game.config.story.getConfig(this.moduleWindow.menuParameter.args[0].movieId);this.curData.filmName=this.moduleWindow.menuParameter.args[0].name}else{Game.system.toastText("error!!!");this.moduleWindow.closeSelf();return}}else{this.closeMenui=false;if(Game.moduleModel.warData.filmInfoConfig&&Game.moduleModel.warData.filmInfoConfig!==null){this.curData=Game.moduleModel.warData.filmInfoConfig}else{this.curData=Game.moduleModel.warData.moveStory}}this.m_filmName.text=this.curData.filmName;this.m_filmTypeList.numItems=this.curData.filmTags.length+1;this.m_filmDes.setData(this.curData.filmDes);this.m_filmIcon.setData(this.curData);this.clickYRItem=0;this.m_filmActorList.numItems=this.curData.characterProperty.length;if(this.curData.characterProperty.length===5){this.m_filmActorList.scrollPane.setPosX(150)}else{if(this.curData.characterProperty.length===4){this.m_filmActorList.scrollPane.setPosX(70)}}this.onClick(this,this.closeyirenItemPos);if(Game.moduleModel.building.getRoomLevel(Games.RoomType.Market)>0){if(this.curData.getMale>0){this.m_men.visible=true;this.m_men.text=this.curData.getMale+"%"}else{this.m_men.visible=false}if(this.curData.getFemale>0){this.m_women.visible=true;this.m_women.text=this.curData.getFemale+"%"}else{this.m_women.visible=false}if(this.curData.getChild>0){this.m_child.visible=true;this.m_child.text=this.curData.getChild+"%"}else{this.m_child.visible=false}this.m_rewardCom.visible=true}else{this.m_rewardCom.visible=false}this.m_completeList.numItems=1;Games.WarLoadPic.setIcon(this.m_rewardIcon,this.curData.getReward[0].storyeffect);this.m_rewardVal.text=format("+{0}%",this.curData.getReward[0].rate)};WarFilmInfo.prototype.getRewardTip=function(){var str="";if(this.curData.target_mark){str=Game.config.msg.getConfig(MsgKey.story_target_tips).notice}else{str=Game.config.msg.getConfig(MsgKey.story_non_target_tips).notice}return str};WarFilmInfo.prototype.completeItem=function(index,obj){if(index===0){var item=obj;item.m_tip.text=this.getRewardTip();if(this.curData.target_mark){item.m_colorControl.setSelectedIndex(0)}else{item.m_colorControl.setSelectedIndex(1)}}};WarFilmInfo.prototype.initTagsItem=function(index,obj){var item=obj;if(index===0){item.m_title.text=this.curData.filmType;item.m_typeLabel.setSelectedIndex(1)}else{item.m_title.text=this.curData.filmTags[index-1];item.m_typeLabel.setSelectedIndex(0)}};WarFilmInfo.prototype.yirenItem=function(index,obj){var item=obj;item.setData(this.curData.characterProperty[index])};WarFilmInfo.prototype.closeyirenItemPos=function(vet){if(this.clickYRItem==0){this.m_filmActorList.clearSelection()}else{this.clickYRItem=0}};WarFilmInfo.prototype.clickItem=function(obj){this.clickYRItem=1;this.m_filmActorList.childrenRenderOrder=fairygui.ChildrenRenderOrder.Arch;this.m_filmActorList.apexIndex=this.m_filmActorList.getChildIndex(obj)};return WarFilmInfo}(WarMovie.WarFilmInfoStruct));WarMovie.WarFilmInfo=WarFilmInfo})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmingStruct=(function(_super){__extends(WarFilmingStruct,_super);function WarFilmingStruct(){return _super.call(this)||this}WarFilmingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilming"))};WarFilmingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_gold=this.getController("gold");this.m_expectingIcon=(this.getChild("expectingIcon"));this.m_expectingTips=(this.getChild("expectingTips"));this.m_expectingVal=(this.getChild("expectingVal"));this.m_goal=(this.getChild("goal"));this.m_psAim=(this.getChild("psAim"));this.m_attIcon1=(this.getChild("attIcon1"));this.m_attIcon2=(this.getChild("attIcon2"));this.m_attIcon3=(this.getChild("attIcon3"));this.m_attIcon4=(this.getChild("attIcon4"));this.m_attIcon5=(this.getChild("attIcon5"));this.m_att1=(this.getChild("att1"));this.m_att2=(this.getChild("att2"));this.m_att3=(this.getChild("att3"));this.m_att4=(this.getChild("att4"));this.m_att5=(this.getChild("att5"));this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_filmTypeList=(this.getChild("filmTypeList"));this.m_yrList=(this.getChild("yrList"));this.m_xuanzeList=(this.getChild("xuanzeList"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_filmProgress=(this.getChild("filmProgress"));this.m_caozuo=(this.getChild("caozuo"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_filmDes=(this.getChild("filmDes"));this.m_notice=(this.getChild("notice"));this.m_sliver=(this.getChild("sliver"));this.m_xukezheng=(this.getChild("xukezheng"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_goldProgress=(this.getChild("goldProgress"));this.m_t0=this.getTransition("t0")};WarFilmingStruct.URL="ui://y6ozucp1r0zd3w";WarFilmingStruct.DependPackages=["WarMovie","Common","System","Fx"];return WarFilmingStruct}(fairygui.GComponent));WarMovie.WarFilmingStruct=WarFilmingStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ShootingStage;(function(ShootingStage){ShootingStage[ShootingStage.Start=1]="Start";ShootingStage[ShootingStage.SelectType=2]="SelectType";ShootingStage[ShootingStage.SelectNotice=3]="SelectNotice";ShootingStage[ShootingStage.Fixing=4]="Fixing"})(ShootingStage=WarMovie.ShootingStage||(WarMovie.ShootingStage={}));var WarFilming=(function(_super){__extends(WarFilming,_super);function WarFilming(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.flyToScallBig=500;_this.flyToScallSmall=300;_this.flyToScallSmallDelay=200;_this.flyToHead=500;_this.flyHeadDelay=600;_this.flyToEndFromHead=800;_this.flyBigScall=1.2;_this.buildIndex=-1;_this.onFilming=false;_this.noticeTipNum=-1;_this.noticeShowTipNum=-1;_this.goldCurIndex=0;_this.oldExpected=0;_this.property1=0;_this.property2=0;_this.rewardTipOk=false;_this.curNoticeIndex=0;_this.noticeDelayTime=1000;return _this}WarFilming.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.State=ShootingStage.Start;var globalconfig=Game.config.global.getConfig(GlobalKey.Movie_Shoot_Time);this.selectType=40;this.selectNotice=70;this.m_filmProgress.value=0;this.m_goldProgress.max=100;this.m_expectingIcon.icon=Games.WarLoadPic.getItemIcon(EItemId.expect);this.m_filmTypeList.itemRenderer=Laya.Handler.create(this,this.initTagsItem,null,false);this.m_yrList.itemRenderer=Laya.Handler.create(this,this.initYRListItem,null,false);this.m_xuanzeList.itemRenderer=Laya.Handler.create(this,this.initXZListItem,null,false);this.m_closeBtn.onClick(this,this.onClickClose)};WarFilming.prototype.showBuildRoom=function(){if(!this.buildRoom){this.buildRoom=Games.AvatarManager.context.getRoomByType(Games.RoomType.Shoot)}if(this.buildRoom!=null){this.buildRoom.onRoomInScreen();this.buildRoom.setRoomFrameVisible(false);this.buildRoom.setXY(-20,-15);this.buildRoom.setScale(1.05,1.05);this.buildIndex=Games.AvatarManager.context.getRoomIndexByType(Games.RoomType.Shoot);this.m_roomContainer.addChild(this.buildRoom)}};WarFilming.prototype.hideBuildRoom=function(){if(this.buildRoom){this.buildRoom.setXY(0,0);this.buildRoom.setScale(1,1);this.buildRoom.setRoomFrameVisible(true);Games.AvatarManager.context.addRoomAt(this.buildRoom,this.buildIndex)}};WarFilming.prototype.onClickClose=function(){Game.moduleModel.warData.filmGoldPauseResume(true);Laya.timer.clearAll(this);Game.moduleModel.warData.startFilming(this.m_filmProgress.value,100);laya.utils.Tween.clearAll(this.m_filmProgress);this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarFilming.prototype.onWindowShow=function(){if(Game.moduleModel.warData.moveData.battleDataEx.length>0){Game.moduleModel.warData.startCheckGoldPress();Game.moduleModel.warData.filmGoldPauseResume(false);Laya.timer.loop(10,this,this.updateTime)}else{this.m_gold.setSelectedIndex(0)}this.showBuildRoom();if(!this.onFilming){Game.event.dispatch(GameEventKey.GameEventKey_ShootStart,this.onFilming);this.onFilming=true}else{Game.event.dispatch(GameEventKey.GameEventKey_ShootStart,this.onFilming)}Game.event.dispatch(GameEventKey.GameEventKey_ScrollMainRoom,Games.RoomType.Shoot);if(this.State!==ShootingStage.Start){this.subCallBack()}else{this.m_goldProgress.value=0;this.setData()}};WarFilming.prototype.updateTime=function(){if(Game.moduleModel.warData.filmGoldProgress){var val=Game.moduleModel.warData.filmGoldProgress.value;Game.moduleModel.warData.filmGoldCurPress=this.parseIntComple(Game.moduleModel.warData.filmGoldProgress.value);if(this.goldCurIndex!==Game.moduleModel.warData.filmGoldCurPress){this.goldCurIndex=Game.moduleModel.warData.filmGoldCurPress;if(this.goldCurIndex>0&&this.goldCurIndex-1<Game.moduleModel.warData.moveData.battleDataEx.length){for(var i=0;i<5;i++){if(Game.moduleModel.warData.moveData.battleDataEx[this.goldCurIndex-1].propertyId===this.attList[i]){this.flyAttribute(i,Game.moduleModel.warData.moveData.battleDataEx[this.goldCurIndex-1],true)}}}}if(val>=300){val=100}else{if(val>=200){val-=200}else{if(val>=100){val-=100}}}this.m_gold.setSelectedIndex(1);this.m_goldProgress.value=val}};WarFilming.prototype.parseIntComple=function(innt){if(innt>299){return 3}else{if(innt>199){return 2}else{if(innt>99){return 1}}}return 0};WarFilming.prototype.onWindowHide=function(){if(this.mindDialog&&this.mindDialog!==null){this.mindDialog.close()}this.hideBuildRoom();if(this.noticeTipNum>-1){clearTimeout(this.noticeTipNum);this.noticeTipNum=-1}if(this.noticeShowTipNum>-1){clearTimeout(this.noticeShowTipNum);this.noticeShowTipNum=-1}Laya.timer.clearAll(this)};WarFilming.prototype.setData=function(){var _this=this;var data=Game.moduleModel.warData.moveData;this.confData=Game.moduleModel.warData.moveStory;this.moduleMain=this.moduleWindow.mainWindow;this.updateIndex=0;this.UpdateAttributeList=data.battleData;this.starUpdate=false;this.oldExpected=User.info.expected;this.m_expectingVal.text=formatNumberUnit(User.info.expected);this.m_psAim.visible=this.confData.target_mark;this.m_goldProgress.value=0;this.sortAttribute();this.InitAttNum();this.attText=[this.m_att1,this.m_att2,this.m_att3,this.m_att4,this.m_att5];for(var i=0;i<5;i++){if(i===0&&this.property1>0){this.attText[i].text=this.attNum[i]+"/"+this.property1}else{if(i===1&&this.property2>0){this.attText[i].text=this.attNum[i]+"/"+this.property2}else{this.attText[i].text=this.attNum[i].toString()}}}Games.WarLoadPic.setIcon(this.m_attIcon1,this.attList[0]);Games.WarLoadPic.setIcon(this.m_attIcon2,this.attList[1]);Games.WarLoadPic.setIcon(this.m_attIcon3,this.attList[2]);Games.WarLoadPic.setIcon(this.m_attIcon4,this.attList[3]);Games.WarLoadPic.setIcon(this.m_attIcon5,this.attList[4]);this.m_xuanzeList.numItems=0;this.m_filmName.text=data.name;this.m_filmTime.text=format(TEXT.FilmLongTime,this.confData.length);this.m_filmDes.setData(this.confData.filmDes);this.m_filmTypeList.numItems=this.confData.filmTags.length+1;this.m_filmIcon.setData(this.confData);this.m_sliver.setData(EItemId.dollar,formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.dollar)));this.m_xukezheng.setData(EItemId.licence,Game.moduleModel.warData.licenceNumInFilming.toString());switch(Game.moduleModel.warData.getRealYRList.count){case 1:this.m_yrList.columnGap=0;break;case 2:this.m_yrList.columnGap=100;break;case 3:this.m_yrList.columnGap=50;break;case 4:this.m_yrList.columnGap=8;break;case 5:this.m_yrList.columnGap=-26;break}this.m_yrList.numItems=Game.moduleModel.warData.getRealYRList.count;this.haveFailShow=false;this.haveWinShow=false;if(Game.moduleModel.warData.moveData.type>0){this.m_filmProgress.value=this.selectType;if(Game.moduleModel.warData.moveData.mediaVisit.length>0){this.State=ShootingStage.SelectNotice;this.m_filmProgress.value=this.selectNotice;this.moduleWindow.closeSelf();if(Game.moduleModel.warData.moveData.state==EMovieState.propaganda){this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.SelectNotice,true)}else{Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})}}else{this.goToSQ()}}else{var subTimePre=Game.time.getSubSecondsPre(Game.moduleModel.warData.moveData.startTime);if(subTimePre<0){subTimePre=0}var lastTime=this.selectType-subTimePre;if(lastTime<=0){this.m_filmProgress.value=this.selectType}else{this.m_filmProgress.value=subTimePre}this.State=ShootingStage.SelectType;this.currentCaozuoTip(this.selectType,Game.config.msg.getConfig(MsgKey.movie_state_tips1).notice)}this.rewardTipOk=false;Laya.timer.clear(this,this.updateAttribute);var delayTime=this.selectType*Game.moduleModel.warData.filmingSpeed/this.UpdateAttributeList.length*0.9;Laya.timer.loop(delayTime,this,this.updateAttribute)};WarFilming.prototype.initTagsItem=function(index,obj){var item=obj;if(index===0){item.m_title.text=this.confData.filmType;item.m_typeLabel.setSelectedIndex(1)}else{item.m_title.text=this.confData.filmTags[index-1];item.m_typeLabel.setSelectedIndex(0)}};WarFilming.prototype.currentCaozuoTip=function(pross,str){if(Game.moduleModel.warData.filmingProgress.value>0){this.m_filmProgress.value=Game.moduleModel.warData.filmingProgress.value}if(pross<this.m_filmProgress.value){this.m_filmProgress.value=pross}this.curDuration=(pross-this.m_filmProgress.value)*Game.moduleModel.warData.filmingSpeed;this.m_caozuo.x=-130+(646*pross*0.01);this.m_caozuo.m_title.text=str;this.showProgress(pross)};WarFilming.prototype.showProgress=function(val){this.starUpdate=true;laya.utils.Tween.to(this.m_filmProgress,{value:val},this.curDuration,Laya.Ease.linearIn,Laya.Handler.create(this,this.compleProgress))};WarFilming.prototype.compleProgress=function(){var _this=this;this.starUpdate=false;switch(this.State){case ShootingStage.SelectType:laya.utils.Tween.clearAll(this.m_filmProgress);this.moduleWindow.closeSelf();Game.moduleModel.warData.filmGoldPauseResume(true);Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()});break;case ShootingStage.SelectNotice:laya.utils.Tween.clearAll(this.m_filmProgress);this.moduleWindow.closeSelf();Game.moduleModel.warData.filmGoldPauseResume(true);if(Game.moduleModel.warData.moveData.state==EMovieState.propaganda){this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.SelectNotice,true)}else{Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})}break;case ShootingStage.Fixing:laya.utils.Tween.clearAll(this.m_filmProgress);this.showTargetFail();break}};WarFilming.prototype.sortAttribute=function(){var propertyConfig=Game.config.property.getPropertyList();this.attList=propertyConfig;this.property1=0;this.property2=0;if(this.confData.target_mark){var storyGoal=Game.config.storyGoals.getGoalTarget(this.confData.id,User.info.stall);this.property1=storyGoal.value1;this.property2=storyGoal.value2;this.propertyReward=storyGoal.reward;for(var i=0;i<propertyConfig.length;i++){if(i!==0&&propertyConfig[i]===storyGoal.property1){var tem=propertyConfig[0];this.attList[0]=propertyConfig[i];this.attList[i]=tem}else{if(i!==1&&propertyConfig[i]===storyGoal.property2){var tem=propertyConfig[1];this.attList[1]=propertyConfig[i];this.attList[i]=tem}}}}};WarFilming.prototype.InitAttNum=function(){this.attNum=[0,0,0,0,0];this.goldCurIndex=0;for(var j=0;j<5;j++){this.attNum[j]=Game.moduleModel.warData.moveData.attribute[this.attList[j]-1601]}for(var i=0;i<this.UpdateAttributeList.length;i++){var item=this.UpdateAttributeList[i];for(var j=0;j<5;j++){if(item.propertyId===this.attList[j]){this.attNum[j]-=item.value;break}}}};WarFilming.prototype.updateAttribute=function(){if(this.starUpdate){if(this.UpdateAttributeList&&this.UpdateAttributeList.length>this.updateIndex){var curAtt=this.UpdateAttributeList[this.updateIndex];for(var i=0;i<5;i++){if(curAtt.propertyId===this.attList[i]){this.flyAttribute(i,curAtt);this.updateIndex++;break}}}}};WarFilming.prototype.flyAttribute=function(i,curAtt,showText){var _this=this;if(showText===void 0){showText=false}var iconConfig=Game.config.property.getConfig(curAtt.propertyId);var url=Game.config.avatar.getConfig(iconConfig.icon).iconUrl;var attIcon=fgui.PfSkin.AttrUpView.createInstance();this.addChild(attIcon);attIcon.icon=url;var pos=this.attText[i].y;var posx=this.attText[i].x;attIcon.text=format("+{0}",curAtt.value);attIcon.m_titleColor.setSelectedIndex(1);var indexOf=this.m_yrList.itemIndexToChildIndex(this.getYRIndexOf(curAtt.actorId));var gObj=this.m_yrList.getChildAt(indexOf);attIcon.setXY(gObj.localToGlobal().x+20,gObj.localToGlobal().y-50);Game.sound.playSound(SoundKey.MM20_ArtistData);var yrObj=gObj;if(!yrObj.m_t0.playing){yrObj.m_t0.play(null,1)}if(showText){yrObj.m_t1.play(null,1);yrObj.m_tip.text=TEXT.GoldFilmActorTalk[Random.rangeBoth(0,2)]}var pos0=attIcon.y-70;var posx0=attIcon.x+Random.range(-10,10);laya.utils.Tween.to(attIcon,{scaleX:this.flyBigScall,scaleY:this.flyBigScall},this.flyToScallBig);laya.utils.Tween.to(attIcon,{scaleX:1,scaleY:1},this.flyToScallSmall,Laya.Ease.quadInOut,null,this.flyToScallSmallDelay);laya.utils.Tween.to(attIcon,{y:pos0,x:posx0},this.flyToHead,Laya.Ease.quadInOut,Handler.create(this,function(){laya.utils.Tween.to(attIcon,{y:pos,x:posx},_this.flyToEndFromHead,Laya.Ease.quadInOut,Handler.create(_this,function(){_this.attNum[i]+=curAtt.value;if(i===0&&_this.property1>0){_this.attText[i].text=_this.attNum[i].toFixed(0)+"/"+_this.property1}else{if(i===1&&_this.property2>0){_this.attText[i].text=_this.attNum[i].toFixed(0)+"/"+_this.property2}else{_this.attText[i].text=_this.attNum[i].toFixed(0)}}if(_this.property1>0&&_this.property2>0&&!_this.rewardTipOk&&_this.property1<=_this.attNum[0]&&_this.property2<=_this.attNum[1]){_this.rewardTipOk=true;if(!Game.moduleModel.warData.moveData.isGetStoryGoals){Game.moduleModel.warData.reqGetStoryGoals(function(){_this.showStoryGoalsTip()})}}attIcon.visible=false}),_this.flyHeadDelay)}))};WarFilming.prototype.showStoryGoalsTip=function(calFun){var _this=this;if(calFun===void 0){calFun=null}if(!this.haveFailShow&&!this.haveWinShow&&this.propertyReward&&this.propertyReward!==null){Game.sound.playSound(SoundKey.MM03_ReachGoal);if(!this.rewardTip||this.rewardTip===null){this.rewardTip=fgui.WarMovie.WarTargetSucces.createInstance();this.addChild(this.rewardTip);this.rewardTip.setXY(0,0)}this.starUpdate=false;this.rewardTip.setData(this.propertyReward,function(){if(calFun!==null){calFun()}else{_this.starUpdate=true}});this.haveWinShow=true}};WarFilming.prototype.targetResult=function(){var result=[0,0,0];if(this.confData.target_mark){var serverAttribute=Game.moduleModel.warData.moveData.attribute;var storyGoal=Game.config.storyGoals.getGoalTarget(this.confData.id,User.info.stall);this.propertyReward=storyGoal.reward;for(var i=0;i<serverAttribute.length;i++){if(i+1601===storyGoal.property1){result[0]=serverAttribute[i];if(serverAttribute[i]===storyGoal.value1){result[2]++}}else{if(i+1601===storyGoal.property2){result[1]=serverAttribute[i];if(serverAttribute[i]===storyGoal.value2){result[2]++}}}}}return result};WarFilming.prototype.showTargetFail=function(){var _this=this;this.starUpdate=false;this.m_filmProgress.value=100;if(this.confData.target_mark){var tarRes=this.targetResult();if(tarRes[2]===2){if(!Game.moduleModel.warData.moveData.isGetStoryGoals){Game.moduleModel.warData.reqGetStoryGoals(function(){_this.showStoryGoalsTip(function(){_this.goToSQ()})})}else{this.goToSQ()}}else{if(!this.haveFailShow&&!this.haveWinShow){Game.sound.playSound(SoundKey.MM04_Lose);if(!this.targetFailTip||this.targetFailTip===null){this.targetFailTip=fgui.WarMovie.WarTargetFailed.createInstance();this.addChild(this.targetFailTip);this.targetFailTip.setXY(0,0)}this.targetFailTip.setData(this.attList,tarRes,[this.property1,this.property2],function(){_this.goToSQ()});this.haveFailShow=true}else{this.goToSQ()}}}else{this.goToSQ()}};WarFilming.prototype.goToSQ=function(){this.goldCurIndex=0;this.State=ShootingStage.Start;this.moduleWindow.closeSelf();this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.FilmSQ,true)};WarFilming.prototype.getYRIndexOf=function(yrId){var result=0;var keys=Game.moduleModel.warData.getRealYRList.getKeys();for(var i=0;i<keys.length;i++){if(Game.moduleModel.warData.getRealYRList.getValue(keys[i]).id==yrId){result=i;break}}return result};WarFilming.prototype.typeContinueGoNext=function(){var _this=this;this.m_filmProgress.value=this.selectType;this.xuanzeList();this.UpdateAttributeList=Game.moduleModel.warData.moveData.battleData;this.updateIndex=0;if(Game.moduleModel.warData.moveData.mediaVisit.length>0){this.State=ShootingStage.SelectNotice;this.currentCaozuoTip(this.selectNotice,Game.config.msg.getConfig(MsgKey.movie_state_tips2).notice)}else{if(this.noticeTipNum===-1){this.noticeTipNum=setTimeout(function(){_this.noticeCantTip()},3000)}this.State=ShootingStage.Fixing;this.currentCaozuoTip(100,Game.config.msg.getConfig(MsgKey.movie_state_tips3).notice)}Laya.timer.clear(this,this.updateAttribute);var delayTime=(100-this.selectType)*Game.moduleModel.warData.filmingSpeed/this.UpdateAttributeList.length;Laya.timer.loop(delayTime,this,this.updateAttribute)};WarFilming.prototype.subCallBack=function(){var _this=this;switch(this.State){case ShootingStage.SelectType:if(Game.moduleModel.warData.moveData.type>0){if(!this.warTip||this.warTip===null){this.warTip=fgui.WarMovie.WarTip.createInstance();this.addChild(this.warTip);this.warTip.setXY(0,0)}var tipstr_1=Game.config.movieAdaptationMsg.getStoryShootTypeTip(Game.moduleModel.warData.storyShootType);if(Game.moduleModel.warData.moveData.isTired){this.warTip.setData(Game.config.msg.getConfig(MsgKey.movie_too_much).notice,function(){_this.warTip.setData(tipstr_1,function(){_this.typeContinueGoNext()})})}else{this.warTip.setData(tipstr_1,function(){_this.typeContinueGoNext()})}}else{if(Game.moduleModel.warData.moveData.state==EMovieState.chooseType){this.moduleWindow.closeSelf();Game.moduleModel.warData.filmGoldPauseResume(true);this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.SelectFilmType,true)}else{var subTimePre=Game.time.getSubSecondsPre(Game.moduleModel.warData.moveData.startTime);if(subTimePre<0){subTimePre=0}var lastTime=this.selectType-subTimePre;if(lastTime<=0){this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})}else{this.m_filmProgress.value=lastTime;this.State=ShootingStage.SelectType;this.currentCaozuoTip(this.selectType,Game.config.msg.getConfig(MsgKey.movie_state_tips1).notice)}}}break;case ShootingStage.SelectNotice:if(Game.moduleModel.warData.moveData.state==EMovieState.propaganda){this.moduleWindow.closeSelf();Game.moduleModel.warData.filmGoldPauseResume(true);this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.SelectNotice,true)}else{this.m_filmProgress.value=this.selectNotice;this.xuanzeList();this.State=ShootingStage.Fixing;this.currentCaozuoTip(100,Game.config.msg.getConfig(MsgKey.movie_state_tips3).notice);if(this.mediaList&&this.mediaList.length>0){this.noticeDelayTime=(100-this.selectNotice)*Game.moduleModel.warData.filmingSpeed/this.mediaList.length*0.7;this.curNoticeIndex=0;this.showNotice()}var curLength=this.UpdateAttributeList.length-this.updateIndex;if(curLength>0){Laya.timer.clear(this,this.updateAttribute);var delayTime=(100-this.selectNotice)*Game.moduleModel.warData.filmingSpeed/curLength;Laya.timer.loop(delayTime,this,this.updateAttribute)}}break;case ShootingStage.Fixing:this.State=ShootingStage.Fixing;this.currentCaozuoTip(100,Game.config.msg.getConfig(MsgKey.movie_state_tips3).notice);break;default:this.setData();break}};WarFilming.prototype.showNotice=function(){var _this=this;if(this.noticeShowTipNum>-1){clearTimeout(this.noticeShowTipNum);this.noticeShowTipNum=-1}if(this.curNoticeIndex>0&&this.curNoticeIndex<=this.mediaList.length){var attIcon_1=fgui.PfSkin.AttrUpView.createInstance();this.addChild(attIcon_1);attIcon_1.icon=Games.WarLoadPic.getItemIcon(EItemId.expect);var addVal_1=Game.moduleModel.warData.filmExpectations.getValue(this.mediaList[this.curNoticeIndex-1]);attIcon_1.text=format("+{0}",addVal_1);attIcon_1.setXY(this.m_notice.x,this.m_notice.y);laya.utils.Tween.to(attIcon_1,{y:this.m_expectingVal.y,x:this.m_expectingVal.x},1000,Laya.Ease.quadInOut,Handler.create(this,function(){_this.oldExpected+=addVal_1;_this.m_expectingVal.text=formatNumberUnit(_this.oldExpected);attIcon_1.visible=false}))}if(this.curNoticeIndex<this.mediaList.length){var medaConfig=Game.config.movieMediaVisit.getConfig(this.mediaList[this.curNoticeIndex]);this.m_notice.setScale(0,0);this.m_notice.m_noticeIcon.icon=Games.WarLoadPic.getAvatarIcon(medaConfig.pic);this.m_t0.play(laya.utils.Handler.create(this,function(){_this.noticeShowTipNum=setTimeout(function(){_this.showNotice()},_this.noticeDelayTime)}),1);this.curNoticeIndex++}else{this.m_notice.setScale(0,0)}};WarFilming.prototype.noticeCantTip=function(){if(!this.mindDialog||this.mindDialog===null){this.mindDialog=fgui.WarMovie.ShwoMinDialog.createInstance();this.addChild(this.mindDialog);this.mindDialog.setXY(0,0)}this.mindDialog.setData(Game.config.msg.getConfig(MsgKey.non_midia_visit).notice)};WarFilming.prototype.initYRListItem=function(index,obj){var item=obj;item.setData(Game.moduleModel.warData.getRealYRList.getValue(index),index)};WarFilming.prototype.xuanzeList=function(){if(this.State==ShootingStage.SelectNotice&&Game.moduleModel.warData.filmExpectations.count==0){return}switch(this.State){case ShootingStage.SelectType:this.m_xuanzeList.numItems=1;break;case ShootingStage.SelectNotice:this.Mediatips=Game.config.msg.getConfig(MsgKey.movie_mediavisit_tips).notice;this.mediaList=Game.moduleModel.warData.filmExpectations.getKeys();this.m_xuanzeList.numItems=Game.moduleModel.warData.filmExpectations.count+1;break}};WarFilming.prototype.initXZListItem=function(index,obj){var item=obj;if(index===0){var types=Game.config.movieShootType.getConfigList();var tips=Game.config.msg.getConfig(MsgKey.movie_type_tips).notice;for(var i=0;i<types.length;i++){if(types[i].id==Game.moduleModel.warData.moveData.type){item.m_title.text=format(tips,types[i].getName);break}}}else{var mediaConfig=Game.config.movieMediaVisit.getConfig(this.mediaList[index-1]);var actorList=Game.moduleModel.warData.filmExpecteActor.getValue(this.mediaList[index-1]);var tipActor="";for(var ll=0;ll<actorList.length;ll++){tipActor+=" ";tipActor+=actorList[ll].name}item.m_title.text=format(this.Mediatips,tipActor,mediaConfig.name,Game.moduleModel.warData.filmExpectations.getValue(this.mediaList[index-1]))}};return WarFilming}(WarMovie.WarFilmingStruct));WarMovie.WarFilming=WarFilming})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmingSelectTipItemStruct=(function(_super){__extends(WarFilmingSelectTipItemStruct,_super);function WarFilmingSelectTipItemStruct(){return _super.call(this)||this}WarFilmingSelectTipItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmingSelectTipItem"))};WarFilmingSelectTipItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarFilmingSelectTipItemStruct.URL="ui://y6ozucp1r0zd58";WarFilmingSelectTipItemStruct.DependPackages=["WarMovie"];return WarFilmingSelectTipItemStruct}(fairygui.GLabel));WarMovie.WarFilmingSelectTipItemStruct=WarFilmingSelectTipItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmingSelectTipItem=(function(_super){__extends(WarFilmingSelectTipItem,_super);function WarFilmingSelectTipItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmingSelectTipItem}(WarMovie.WarFilmingSelectTipItemStruct));WarMovie.WarFilmingSelectTipItem=WarFilmingSelectTipItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmingYRItemStruct=(function(_super){__extends(WarFilmingYRItemStruct,_super);function WarFilmingYRItemStruct(){return _super.call(this)||this}WarFilmingYRItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmingYRItem"))};WarFilmingYRItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_mingzi=(this.getChild("mingzi"));this.m_tip=(this.getChild("tip"));this.m_t0=this.getTransition("t0");this.m_t1=this.getTransition("t1")};WarFilmingYRItemStruct.URL="ui://y6ozucp1r0zd57";WarFilmingYRItemStruct.DependPackages=["WarMovie","Common"];return WarFilmingYRItemStruct}(fairygui.GButton));WarMovie.WarFilmingYRItemStruct=WarFilmingYRItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmingYRItem=(function(_super){__extends(WarFilmingYRItem,_super);function WarFilmingYRItem(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmingYRItem.prototype.setData=function(dat,index){this.m_mingzi.text=dat.name;this.m_icon.icon=Games.WarLoadPic.getActorIcon(dat.config.avatar)};return WarFilmingYRItem}(WarMovie.WarFilmingYRItemStruct));WarMovie.WarFilmingYRItem=WarFilmingYRItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmJiesuanStruct=(function(_super){__extends(WarFilmJiesuanStruct,_super);function WarFilmJiesuanStruct(){return _super.call(this)||this}WarFilmJiesuanStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmJiesuan"))};WarFilmJiesuanStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_colorCon=this.getController("colorCon");this.m_filmName=(this.getChild("filmName"));this.m_filmType=(this.getChild("filmType"));this.m_filmTime=(this.getChild("filmTime"));this.m_zhuyanList=(this.getChild("zhuyanList"));this.m_koubei=(this.getChild("koubei"));this.m_tip=(this.getChild("tip"));this.m_tip1=(this.getChild("tip1"));this.m_auther=(this.getChild("auther"));this.m_tip2=(this.getChild("tip2"));this.m_totalList=(this.getChild("totalList"));this.m_tip3=(this.getChild("tip3"));this.m_tip4=(this.getChild("tip4"));this.m_rewardValue=(this.getChild("rewardValue"));this.m_tip5=(this.getChild("tip5"));this.m_filmTip=(this.getChild("filmTip"));this.m_rewardList=(this.getChild("rewardList"));this.m_icon=(this.getChild("icon"));this.m_clickTip=(this.getChild("clickTip"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_starProgress=(this.getChild("starProgress"));this.m_costProgress=(this.getChild("costProgress"));this.m_totalProgress=(this.getChild("totalProgress"));this.m_fx=(this.getChild("fx"));this.m_t0=this.getTransition("t0")};WarFilmJiesuanStruct.URL="ui://y6ozucp1qbxl7b";WarFilmJiesuanStruct.DependPackages=["WarMovie","Fx","Common"];return WarFilmJiesuanStruct}(fairygui.GComponent));WarMovie.WarFilmJiesuanStruct=WarFilmJiesuanStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmJiesuan=(function(_super){__extends(WarFilmJiesuan,_super);function WarFilmJiesuan(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.canClose=false;_this.totalNum=9932;_this.curTotalNum=0;return _this}WarFilmJiesuan.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_zhuyanList.itemRenderer=Laya.Handler.create(this,this.initYRListItem,null,false);this.m_rewardList.itemRenderer=Laya.Handler.create(this,this.initRewardListItem,null,false);this.m_totalList.itemRenderer=Laya.Handler.create(this,this.initTotalListItem,null,false);this.onClick(this,this.onClickOkBtn)};WarFilmJiesuan.prototype.onClickOkBtn=function(){if(this.canClose){this.moduleWindow.closeSelf();this.moduleMain.conent.filmOverTip(EMovieState.rewardTip)}};WarFilmJiesuan.prototype.onWindowShow=function(){this.setData()};WarFilmJiesuan.prototype.onWindowHide=function(){this.m_fx.m_t0.stop();this.m_fx.visible=false};WarFilmJiesuan.prototype.setData=function(){this.curVal="0";this.m_totalList.numItems=this.curVal.length;this.canClose=false;this.moduleMain=this.moduleWindow.mainWindow;this.isPutPanel=true;var data=Game.moduleModel.warData.moveJieSuanData;if(!data){data=Game.moduleModel.warData.moveData}this.curData=data;var confData=Game.moduleModel.warData.moveStory;this.m_totalProgress.value=0;this.m_costProgress.value=0;this.m_icon.alpha=0;this.m_filmIcon.setData(confData);if(data.boxOfficeEvaluation>0){var sellIcon=Game.config.movieDrop.getSellIcon(data.boxOfficeEvaluation);this.m_icon.icon=Game.config.avatar.getConfig(sellIcon).iconUrl;this.m_tip5.text=format(Game.config.msg.getConfig(MsgKey.movie_drop_tips).notice,Game.config.movieDrop.getSellTip(sellIcon).gain_name)}this.m_filmName.text=data.name;var types=Game.config.movieShootType.getConfigList();for(var i=0;i<types.length;i++){if(types[i].id==data.type){this.m_filmType.text=Game.moduleModel.warData.moveStory.filmType+"/"+types[i].getName;break}}this.m_rewardValue.text="";this.m_filmTime.text=format(TEXT.FilmLongTime,confData.length);this.m_koubei.text=format(TEXT.FilmKouBei,data.publicPraise.toFixed(0));this.m_starProgress.value=data.mediaCommend*0.1;this.m_auther.text=User.info.name;this.m_filmTip.text="";this.m_tip5.text="";this.m_rewardList.numItems=0;this.m_zhuyanList.numItems=Game.moduleModel.warData.getRealYRList.count;this.curTotalNum=0;this.totalNum=data.totalBoxOffice;Laya.timer.loop(10,this,this.showTotalNum);switch(this.curData.boxOfficeEvaluation){case Proto.SE.EBoxOfficeEvaluation.normal:Game.sound.playSound(SoundKey.MM27_TicketsOrdinary);break;case Proto.SE.EBoxOfficeEvaluation.good:Game.sound.playSound(SoundKey.MM28_TicketsGood);break;case Proto.SE.EBoxOfficeEvaluation.big_sell:case Proto.SE.EBoxOfficeEvaluation.great_sell:case Proto.SE.EBoxOfficeEvaluation.myth_sell:case Proto.SE.EBoxOfficeEvaluation.marvel_sell:Game.sound.playSound(SoundKey.MM29_TicketsGreat);break}};WarFilmJiesuan.prototype.initYRListItem=function(index,obj){var item=obj;item.setIcon(Game.config.avatar.getConfig(Game.moduleModel.warData.getRealYRList.getValue(index).config.avatar).bodyIconUrl)};WarFilmJiesuan.prototype.initRewardListItem=function(index,obj){var item=obj;item.setData(index)};WarFilmJiesuan.prototype.showTotalNum=function(){if(this.curTotalNum<this.totalNum){this.curTotalNum+=this.totalNum/50;if(this.curTotalNum>=this.totalNum){this.curTotalNum=this.totalNum;var costVal=0;var totVal=0;if(this.curData.totalMovieCost<this.curData.totalBoxOffice){if(this.curData.totalBoxOffice===0){costVal=this.curData.totalMovieCost/100*100}else{costVal=this.curData.totalMovieCost/this.curData.totalBoxOffice*100}totVal=100}else{costVal=100;if(this.curData.totalMovieCost===0){totVal=this.curData.totalBoxOffice/100*100}else{totVal=this.curData.totalBoxOffice/this.curData.totalMovieCost*100}}this.m_totalProgress.value=0;laya.utils.Tween.to(this.m_totalProgress,{value:totVal},1000,Laya.Ease.linearIn,null);this.m_costProgress.value=0;laya.utils.Tween.to(this.m_costProgress,{value:costVal},1000,Laya.Ease.linearIn,Handler.create(this,this.porgressOver))}this.curVal=formatNumberUnit(this.curTotalNum,1).toString();this.m_totalList.numItems=this.curVal.length}};WarFilmJiesuan.prototype.porgressOver=function(){var _this=this;this.m_t0.play(laya.utils.Handler.create(this,function(){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask&&mainTask.isFinished){Game.guide.checkPlayStoryByType(Games.StoryTriggerType.FristMovieUp,mainTask.id)}_this.m_fx.m_t0.play(null,1);_this.canClose=true}),1);if(this.curData.totalBoxOffice>this.curData.totalMovieCost){var result=(this.curData.totalBoxOffice/this.curData.totalMovieCost)*100;this.m_rewardValue.text=format(TEXT.filmJiesuanWin,result.toFixed(1));this.m_colorCon.setSelectedIndex(0)}else{var result=(this.curData.totalMovieCost/this.curData.totalBoxOffice)*100;this.m_rewardValue.text=format(TEXT.filmJiesuanFail,result.toFixed(1));this.m_colorCon.setSelectedIndex(1)}var dropCount=Game.moduleModel.warData.dropList.length;this.m_rewardList.numItems=dropCount;if(dropCount>0){this.m_tip5.text=TEXT.filmJiesuanRewardTip}else{this.m_tip5.text=""}};WarFilmJiesuan.prototype.initTotalListItem=function(index,obj){var item=obj;item.setData(this.curVal[index])};return WarFilmJiesuan}(WarMovie.WarFilmJiesuanStruct));WarMovie.WarFilmJiesuan=WarFilmJiesuan})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmLiuxingStruct=(function(_super){__extends(WarFilmLiuxingStruct,_super);function WarFilmLiuxingStruct(){return _super.call(this)||this}WarFilmLiuxingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmLiuxing"))};WarFilmLiuxingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_title2=(this.getChild("title2"));this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"))};WarFilmLiuxingStruct.URL="ui://y6ozucp1qbxl9v";WarFilmLiuxingStruct.DependPackages=["WarMovie","Fx"];return WarFilmLiuxingStruct}(fairygui.GComponent));WarMovie.WarFilmLiuxingStruct=WarFilmLiuxingStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmLiuxing=(function(_super){__extends(WarFilmLiuxing,_super);function WarFilmLiuxing(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmLiuxing}(WarMovie.WarFilmLiuxingStruct));WarMovie.WarFilmLiuxing=WarFilmLiuxing})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmMoveShowStruct=(function(_super){__extends(WarFilmMoveShowStruct,_super);function WarFilmMoveShowStruct(){return _super.call(this)||this}WarFilmMoveShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmMoveShow"))};WarFilmMoveShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_1=(this.getChild("1"));this.m_2=(this.getChild("2"));this.m_3=(this.getChild("3"));this.m_4=(this.getChild("4"));this.m_5=(this.getChild("5"));this.m_mask=(this.getChild("mask"));this.m_moveShow=this.getTransition("moveShow")};WarFilmMoveShowStruct.URL="ui://y6ozucp1qbxl9b";WarFilmMoveShowStruct.DependPackages=["WarMovie","Common"];return WarFilmMoveShowStruct}(fairygui.GButton));WarMovie.WarFilmMoveShowStruct=WarFilmMoveShowStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmMoveShow=(function(_super){__extends(WarFilmMoveShow,_super);function WarFilmMoveShow(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmMoveShow.prototype.setRandomIcon=function(){var list=Game.config.story.getConfigList();this.m_1.icon=Game.config.avatar.getConfig(list[Random.range(1,list.length)].poster_name).iconUrl;this.m_2.icon=Game.config.avatar.getConfig(list[Random.range(1,list.length)].poster_name).iconUrl;this.m_3.icon=Game.config.avatar.getConfig(list[Random.range(1,list.length)].poster_name).iconUrl;this.m_4.icon=Game.config.avatar.getConfig(list[Random.range(1,list.length)].poster_name).iconUrl;this.m_5.icon=Game.config.avatar.getConfig(list[Random.range(1,list.length)].poster_name).iconUrl};return WarFilmMoveShow}(WarMovie.WarFilmMoveShowStruct));WarMovie.WarFilmMoveShow=WarFilmMoveShow})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmOverMarketInfoStruct=(function(_super){__extends(WarFilmOverMarketInfoStruct,_super);function WarFilmOverMarketInfoStruct(){return _super.call(this)||this}WarFilmOverMarketInfoStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmOverMarketInfo"))};WarFilmOverMarketInfoStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarFilmOverMarketInfoStruct.URL="ui://y6ozucp1qbxl79";WarFilmOverMarketInfoStruct.DependPackages=["WarMovie","Common"];return WarFilmOverMarketInfoStruct}(fairygui.GComponent));WarMovie.WarFilmOverMarketInfoStruct=WarFilmOverMarketInfoStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmOverMarketInfo=(function(_super){__extends(WarFilmOverMarketInfo,_super);function WarFilmOverMarketInfo(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmOverMarketInfo.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickOkBtn)};WarFilmOverMarketInfo.prototype.onClickOkBtn=function(){this.moduleWindow.closeSelf();this.moduleMain.conent.filmOverTip(EMovieState.Jiesuan)};WarFilmOverMarketInfo.prototype.onWindowShow=function(){this.setData()};WarFilmOverMarketInfo.prototype.onWindowHide=function(){};WarFilmOverMarketInfo.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_tip.text=format(TEXT.filmOverMarketTip1,Random.range(50,500),Game.moduleModel.warData.refrushGuanzhongInf[0]);if(Game.moduleModel.warData.refrushGuanzhongInf[1]>0){var types=Game.config.movieShootType.getConfigList();var tips=Game.config.msg.getConfig(MsgKey.movie_type_tips).notice;for(var i=0;i<types.length;i++){if(types[i].id==Game.moduleModel.warData.moveJieSuanData.type){this.m_tip.text+=format(TEXT.filmOverMarketTip2,Game.moduleModel.warData.refrushGuanzhongInf[1],types[i].getName);break}}}};return WarFilmOverMarketInfo}(WarMovie.WarFilmOverMarketInfoStruct));WarMovie.WarFilmOverMarketInfo=WarFilmOverMarketInfo})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSelectingStruct=(function(_super){__extends(WarFilmSelectingStruct,_super);function WarFilmSelectingStruct(){return _super.call(this)||this}WarFilmSelectingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmSelecting"))};WarFilmSelectingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmItemList=(this.getChild("filmItemList"));this.m_marketTip1=(this.getChild("marketTip1"));this.m_marketTip2=(this.getChild("marketTip2"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_sliver=(this.getChild("sliver"));this.m_licence=(this.getChild("licence"));this.m_men=(this.getChild("men"));this.m_women=(this.getChild("women"));this.m_child=(this.getChild("child"))};WarFilmSelectingStruct.URL="ui://y6ozucp1r0zd50";WarFilmSelectingStruct.DependPackages=["WarMovie","Common"];return WarFilmSelectingStruct}(fairygui.GComponent));WarMovie.WarFilmSelectingStruct=WarFilmSelectingStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSelecting=(function(_super){__extends(WarFilmSelecting,_super);function WarFilmSelecting(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isShowSelectBtn=false;return _this}WarFilmSelecting.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_men.m_sex.text=TEXT.sexMan;this.m_women.m_sex.text=TEXT.sexWomen;this.m_child.m_sex.text=TEXT.sexChild;this.m_licence.visible=false;this.m_filmItemList.itemRenderer=Laya.Handler.create(this,this.roomItem,null,false);this.m_closeBtn.onClick(this,this.onClickClose)};WarFilmSelecting.prototype.onClickClose=function(){this.moduleWindow.menuBack()};WarFilmSelecting.prototype.onWindowShow=function(){this.setData()};WarFilmSelecting.prototype.onWindowHide=function(){};WarFilmSelecting.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.storyList=Game.moduleModel.warData.getStoryList;if(this.storyList.length==0){Game.system.toastText(TEXT.NoStoryList);this.onClickClose();return}this.m_sliver.setData(EItemId.dollar,formatNumberUnit(Game.moduleModel.item.getItemNum(EItemId.dollar)));var man=Game.moduleModel.warData.moveData.expected[0];var woman=Game.moduleModel.warData.moveData.expected[1];var child=Game.moduleModel.warData.moveData.expected[2];if(Game.moduleModel.building.getRoomLevel(Games.RoomType.Market)>0){this.isHaveGuanzhong=true;this.m_marketTip1.visible=true;this.m_marketTip2.visible=true;if(man>0){this.m_men.visible=true;this.m_men.m_title.text=man+"%"}else{this.m_men.visible=false}if(woman>0){this.m_women.visible=true;this.m_women.m_title.text=woman+"%"}else{this.m_women.visible=false}if(child>0){this.m_child.visible=true;this.m_child.m_title.text=child+"%"}else{this.m_child.visible=false}}else{this.isHaveGuanzhong=false;this.m_marketTip1.visible=false;this.m_marketTip2.visible=false;this.m_men.visible=false;this.m_women.visible=false;this.m_child.visible=false}this.roomCurCount=1;this.roomMaxCount=this.storyList.length;this.isShowSelectBtn=false;Game.moduleModel.warData.filmInfoConfig=null;this.refrushStoryList()};WarFilmSelecting.prototype.refrushStoryList=function(){if(this.roomCurCount<=this.roomMaxCount){this.isShowSelectBtn=false;this.m_filmItemList.numItems=this.roomCurCount;this.roomCurCount++}else{this.isShowSelectBtn=true;this.m_filmItemList.numItems=this.roomCurCount-1}};WarFilmSelecting.prototype.roomItem=function(index,obj){var item=obj;if(this.isShowSelectBtn){item.m_selectBtn.visible=true;item.canShowInf=true}else{if(this.roomCurCount<index+2){item.m_selectBtn.visible=false;item.canShowInf=false;item.moduleWindow=this.moduleMain;item.setData(this.storyList[index],index,this.isHaveGuanzhong);Game.sound.playSound(SoundKey.MM16_ScriptRolling);item.m_filmInf.m_icon.m_moveShow.play(laya.utils.Handler.create(this,this.moveOverCall),1)}else{item.m_filmInf.m_icon.m_moveShow.stop()}}};WarFilmSelecting.prototype.moveOverCall=function(){this.refrushStoryList()};return WarFilmSelecting}(WarMovie.WarFilmSelectingStruct));WarMovie.WarFilmSelecting=WarFilmSelecting})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmShangYingStruct=(function(_super){__extends(WarFilmShangYingStruct,_super);function WarFilmShangYingStruct(){return _super.call(this)||this}WarFilmShangYingStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmShangYing"))};WarFilmShangYingStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_filmTotal=(this.getChild("filmTotal"));this.m_filmcurrent=(this.getChild("filmcurrent"));this.m_progressList=(this.getChild("progressList"));this.m_guanzhongList=(this.getChild("guanzhongList"));this.m_roomContainer=(this.getChild("roomContainer"));this.m_closeBtn=(this.getChild("closeBtn"))};WarFilmShangYingStruct.URL="ui://y6ozucp1qbxl75";WarFilmShangYingStruct.DependPackages=["WarMovie","PfSkin","Common"];return WarFilmShangYingStruct}(fairygui.GComponent));WarMovie.WarFilmShangYingStruct=WarFilmShangYingStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmShangYing=(function(_super){__extends(WarFilmShangYing,_super);function WarFilmShangYing(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.buildIndex=-1;_this.light1TimeId=0;_this.light2TimeId=0;_this.haveGuanzhong=false;_this.liuxingTimeoutNum=-1;return _this}WarFilmShangYing.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_progressList.itemRenderer=Laya.Handler.create(this,this.initProgressItem,null,false);this.m_guanzhongList.itemRenderer=Laya.Handler.create(this,this.initGuanzhongItem,null,false);this.m_closeBtn.onClick(this,this.onClickCloseBtn);this.clearData()};WarFilmShangYing.prototype.onClickCloseBtn=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose();Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmSmall()};WarFilmShangYing.prototype.onWindowShow=function(){this.setData();this.showBuildRoom();if(this.isFilmStart){this.showFilmStartAnim()}this.onShowProgress();Game.event.add(GameEventKey.GameEventKey_UpdateFilmingStatus,this.onShowProgress,this)};WarFilmShangYing.prototype.onWindowHide=function(){clearTimeout(this.liuxingTimeoutNum);this.liuxingTimeoutNum=-1;if(this.mindDialog&&this.mindDialog!==null){this.mindDialog.close()}Game.event.remove(GameEventKey.GameEventKey_UpdateFilmingStatus,this.onShowProgress,this);if(this.curTween&&this.curTween!==null){this.curTween.complete()}this.hideBuildRoom();if(this.isFilmStart){this.hideFilmStartAnim()}};WarFilmShangYing.prototype.showBuildRoom=function(){this.buildRoom=Games.AvatarManager.context.getRoomByType(Games.RoomType.Cinema);if(this.buildRoom!=null){this.buildRoom.onRoomInScreen();this.buildRoom.setRoomFrameVisible(false);this.buildIndex=Games.AvatarManager.context.getRoomIndexByType(Games.RoomType.Cinema);this.buildRoom.setXY(-20,-4);this.buildRoom.setScale(1.1,1.1);this.m_roomContainer.addChild(this.buildRoom)}};WarFilmShangYing.prototype.hideBuildRoom=function(){if(this.buildRoom){this.buildRoom.setXY(0,0);this.buildRoom.setScale(1,1);this.buildRoom.setRoomFrameVisible(true);Games.AvatarManager.context.addRoomAt(this.buildRoom,this.buildIndex)}};WarFilmShangYing.prototype.showFilmStartAnim=function(){if(this.buildRoom){this.buildRoom.visible=false}if(!this.filmEnterScene){this.filmEnterScene=fgui.Building.BuildSceneFilmEnter.createInstance()}var stroyId=Game.moduleModel.warData.moveData.movieId;var stroyCfg=Game.config.story.getConfig(stroyId);if(stroyCfg){var avatarCfg=Game.config.avatar.getConfig(stroyCfg.poster_name);this.filmEnterScene.m_stoyIcon.url=avatarCfg.iconUrl}this.filmEnterScene.m_title.text=Game.moduleModel.warData.moveData.name;this.m_roomContainer.addChild(this.filmEnterScene);this.loadFilmAnim()};WarFilmShangYing.prototype.hideFilmStartAnim=function(){if(this.buildRoom){this.buildRoom.visible=true}if(this.filmAcotrs){this.filmAcotrs.animator.sPlayEnd.add(this.onAnimPlayEnd,this);this.filmAcotrs.dispose();this.filmAcotrs=null}if(this.filmDoor){this.filmDoor.dispose();this.filmDoor=null}if(this.filmEnterScene){this.filmEnterScene.removeFromParent();this.filmEnterScene.dispose();this.filmEnterScene=null}if(this.light1TimeId>0){clearTimeout(this.light1TimeId);this.light1TimeId=0}if(this.light2TimeId>0){clearTimeout(this.light2TimeId);this.light2TimeId=0}};WarFilmShangYing.prototype.loadFilmAnim=function(){var _this=this;var aInfo=new Games.AvatarInfo();aInfo.type=Games.AvatarType.Npc;aInfo.texturePath=Res.cinemaHallActorSkin;aInfo.skeletonPath=Res.cinemaHallActorSK;this.filmAcotrs=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=_this.filmAcotrs.getBounds();_this.filmAcotrs.pos(0,50);_this.filmEnterScene.m_canvasContainer.displayObject.addChild(_this.filmAcotrs);_this.loadFilmDoorAnim()},this.filmEnterScene.width,this.filmEnterScene.height,1)};WarFilmShangYing.prototype.loadFilmDoorAnim=function(){var _this=this;var aInfo=new Games.AvatarInfo();aInfo.type=Games.AvatarType.Npc;aInfo.texturePath=Res.cinemaHallDoorSkin;aInfo.skeletonPath=Res.cinemaHallDoorSK;this.filmDoor=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=_this.filmDoor.getBounds();_this.filmDoor.pos(0,50);_this.filmEnterScene.m_doorContainer.displayObject.addChild(_this.filmDoor);_this.playFilmEnterAnim()},this.filmEnterScene.width,this.filmEnterScene.height,1)};WarFilmShangYing.prototype.playFilmEnterAnim=function(){var _this=this;if(this.filmAcotrs){this.filmAcotrs.animator.sPlayEnd.add(this.onAnimPlayEnd,this);this.filmAcotrs.play("animation",false)}if(this.filmDoor){this.filmDoor.play("animation",false)}this.filmEnterScene.m_screenlight.visible=false;this.filmEnterScene.m_filmlight.visible=false;this.light1TimeId=setTimeout(function(){if(_this.filmEnterScene){_this.filmEnterScene.m_screenlight.visible=true}},1500);this.light2TimeId=setTimeout(function(){if(_this.filmEnterScene){_this.filmEnterScene.m_filmlight.visible=true}},2500)};WarFilmShangYing.prototype.onAnimPlayEnd=function(){this.filmAcotrs.animator.sPlayEnd.remove(this.onAnimPlayEnd,this);this.hideFilmStartAnim()};Object.defineProperty(WarFilmShangYing.prototype,"isFilmStart",{get:function(){return Game.moduleModel.warData.filmingCurDay<=3},enumerable:true,configurable:true});WarFilmShangYing.prototype.setData=function(){var _this=this;Game.sound.playSound(SoundKey.MM27_TicketStatistics);this.dayLeftTip=Game.config.msg.getConfig(MsgKey.movie_remaining_days).notice;this.dayCurTip=Game.config.msg.getConfig(MsgKey.movie_day).notice;this.moduleMain=this.moduleWindow.mainWindow;if(Game.moduleModel.warData.filmingCurDay<=3){this.clearData();Game.event.dispatch(GameEventKey.GameEventKey_FilmStart,Game.moduleModel.warData.moveData.mExpected);Game.moduleModel.warData.guanzhongList=new Array();this.haveGuanzhong=false}else{Game.event.dispatch(GameEventKey.GameEventKey_FilmOn,Game.moduleModel.warData.moveData.mExpected)}this.m_filmName.text=Game.moduleModel.warData.moveData.name;if(!this.haveGuanzhong){this.haveGuanzhong=true;this.curGZindex=0;this.setGuanzhong();if(this.guanzhongList.length>0){this.onShowGuanzhongList()}clearTimeout(this.liuxingTimeoutNum);this.liuxingTimeoutNum=setTimeout(function(){_this.showLiuxing()},2000)}};WarFilmShangYing.prototype.clearData=function(){this.m_progressList.numItems=0;this.m_filmTime.text="";this.m_filmTotal.text="";this.m_filmcurrent.text="";this.m_guanzhongList.numItems=0};WarFilmShangYing.prototype.onShowProgress=function(){var _this=this;if(Game.moduleModel.warData.moveData.evaluationCon>0&&Math.floor(Game.moduleModel.warData.filmingMaxDay/4)===Game.moduleModel.warData.filmingCurDay){if(!this.mindDialog||this.mindDialog===null){this.mindDialog=fgui.WarMovie.ShwoMinDialog.createInstance();this.addChild(this.mindDialog);this.mindDialog.setXY(0,0)}this.mindDialog.setData(Game.config.msg.getConfig(Game.moduleModel.warData.moveData.evaluationCon).notice)}this.curTween=null;if(Game.moduleModel.warData.filmingCurDay>0&&Game.moduleModel.warData.filmingCurDay<=Game.moduleModel.warData.filmingMaxDay){this.m_filmcurrent.text=format(this.dayCurTip,Game.moduleModel.warData.filmingCurDay,formatNumberUnit(Game.moduleModel.warData.moveData.runDays[Game.moduleModel.warData.filmingCurDay-1]));var lastDay=Game.moduleModel.warData.filmingMaxDay-Game.moduleModel.warData.filmingCurDay;this.m_filmTime.text=format(this.dayLeftTip,lastDay);this.m_filmTotal.text=format(TEXT.TotalFilm,formatNumberUnit(Game.moduleModel.warData.filmingTotal));this.m_progressList.numItems=Game.moduleModel.warData.filmingCurDay;this.m_progressList.scrollToView(Game.moduleModel.warData.filmingCurDay-1)}else{if(Game.moduleModel.warData.filmingCurDay===Game.moduleModel.warData.filmingMaxDay+1){this.moduleWindow.closeSelf();Game.moduleModel.warData.setBattleOver(function(){_this.moduleMain.conent.checkStatus()})}}};WarFilmShangYing.prototype.initProgressItem=function(index,obj){var item=obj;item.max=Game.moduleModel.warData.filmingMaxCur;if(index+1===Game.moduleModel.warData.filmingCurDay){item.value=0;if(this.curTween&&this.curTween!==null){this.curTween.complete()}this.curTween=laya.utils.Tween.to(item,{value:Game.moduleModel.warData.moveData.runDays[index]},Game.moduleModel.warData.movieHistogramTime)}else{item.value=Game.moduleModel.warData.moveData.runDays[index]}};WarFilmShangYing.prototype.setGuanzhong=function(){this.guanzhongList=new Array();var expected=new Array();var isNullExpected=true;for(var i=0;i<3;i++){if(Game.moduleModel.warData.moveData.expected[i]>0){isNullExpected=false}}var haveGetExpect=0;for(var i=0;i<3;i++){if(isNullExpected){if(i<2){haveGetExpect=Random.rangeBoth(haveGetExpect,10)}else{haveGetExpect=10-haveGetExpect}}else{haveGetExpect=Game.moduleModel.warData.moveData.expected[i]}expected.push(haveGetExpect)}for(var i=0;i<10;i++){if(expected[0]>0){this.guanzhongList.push(0);expected[0]-=10}else{if(expected[1]>0){this.guanzhongList.push(1);expected[1]-=10}else{if(expected[2]>0){this.guanzhongList.push(2)}}}}if(this.guanzhongList.length>0){Game.moduleModel.warData.guanzhongMax=[0,0,0];for(var i=0;i<this.guanzhongList.length;i++){if(this.guanzhongList[i]===0){Game.moduleModel.warData.guanzhongMax[0]++}else{if(this.guanzhongList[i]===0){Game.moduleModel.warData.guanzhongMax[1]++}else{Game.moduleModel.warData.guanzhongMax[2]++}}}this.guanzhongList=this.sortRandomArr(this.guanzhongList)}};WarFilmShangYing.prototype.sortRandomArr=function(arr){var i=arr.length;while(i){var j=Math.floor(Math.random()*i--);_a=[arr[i],arr[j]],arr[j]=_a[0],arr[i]=_a[1]}return arr;var _a};WarFilmShangYing.prototype.showLiuxing=function(){var _this=this;var configs=Game.config.movieExpect.getConfigWithExpect(Game.moduleModel.warData.moveData.mExpected);var indexOf=configs.pic;if(indexOf>=0){switch(indexOf){case 0:Game.sound.playSound(SoundKey.MM24_NiceScore1);break;case 1:Game.sound.playSound(SoundKey.MM25_NiceScore2);break;case 2:Game.sound.playSound(SoundKey.MM26_NiceScore3);break;case 3:Game.sound.playSound(SoundKey.MM33_NiceScore4);break;default:Game.sound.playSound(SoundKey.MM33_NiceScore4);break}if(!this.liuxing||this.liuxing===null){this.liuxing=fgui.WarMovie.WarFilmLiuxing.createInstance();this.liuxing.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height);fairygui.GRoot.inst.addChild(this.liuxing)}this.liuxing.m_tip.text=format(configs.pic_word,Game.moduleModel.warData.moveData.name);this.liuxing.m_title.text=format(configs.pic_word,Game.moduleModel.warData.moveData.name);this.liuxing.m_title2.text=format(configs.pic_word,Game.moduleModel.warData.moveData.name);this.liuxing.m_icon.icon=Game.config.avatar.getConfig(Game.moduleModel.warData.moveStory.poster_name).iconUrl;this.liuxing.m_c1.setSelectedIndex(indexOf);this.liuxingTimeOutNum=setTimeout(function(){_this.liuxing.visible=false},3000);this.liuxing.onClick(this,function(){_this.liuxing.visible=false;clearTimeout(_this.liuxingTimeOutNum)})}else{if(!this.mindDialog||this.mindDialog===null){this.mindDialog=fgui.WarMovie.ShwoMinDialog.createInstance();this.addChild(this.mindDialog);this.mindDialog.setXY(0,0)}this.mindDialog.setData(format(configs.pic_word,Game.moduleModel.warData.moveData.name))}};WarFilmShangYing.prototype.onShowGuanzhongList=function(){this.curGZindex++;if(this.curGZindex<11){this.m_guanzhongList.numItems=this.curGZindex}};WarFilmShangYing.prototype.initGuanzhongItem=function(index,obj){if(index+1===this.curGZindex){var item=obj;item.m_face0.alpha=0;item.m_face1.alpha=0;item.m_face2.alpha=0;item.m_face3.alpha=0;item.m_face4.alpha=0;var conf=Game.config.dialogue.getConfig(Random.rangeBoth(1,25));item.m_sex.setSelectedIndex(this.guanzhongList[index]);item.m_phiz.setSelectedIndex(conf.face-1);item.m_tip.text=conf.content;item.m_tip2.text=conf.content;if(index<5){item.m_c1.setSelectedIndex(0)}else{item.m_c1.setSelectedIndex(1)}item.m_t0.play(laya.utils.Handler.create(this,this.onShowGuanzhongList),1);Game.moduleModel.warData.guanzhongList.push(conf.face)}};return WarFilmShangYing}(WarMovie.WarFilmShangYingStruct));WarMovie.WarFilmShangYing=WarFilmShangYing})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSQStruct=(function(_super){__extends(WarFilmSQStruct,_super);function WarFilmSQStruct(){return _super.call(this)||this}WarFilmSQStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmSQ"))};WarFilmSQStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_t0=this.getTransition("t0")};WarFilmSQStruct.URL="ui://y6ozucp1qbxl9r";WarFilmSQStruct.DependPackages=["WarMovie","Common"];return WarFilmSQStruct}(fairygui.GComponent));WarMovie.WarFilmSQStruct=WarFilmSQStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSQ=(function(_super){__extends(WarFilmSQ,_super);function WarFilmSQ(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmSQ.prototype.onWindowShow=function(){var _this=this;Game.sound.playSound(SoundKey.MM22_ScreenOver);this.m_t0.play(null,1);setTimeout(function(){_this.delayRun()},1000)};WarFilmSQ.prototype.onWindowHide=function(){};WarFilmSQ.prototype.delayRun=function(){var _this=this;this.moduleMain=this.moduleWindow.mainWindow;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){Game.event.dispatch(GameEventKey.GameEventKey_ShootEnd);_this.moduleMain.conent.subWindowToMain()})};return WarFilmSQ}(WarMovie.WarFilmSQStruct));WarMovie.WarFilmSQ=WarFilmSQ})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSQViewStruct=(function(_super){__extends(WarFilmSQViewStruct,_super);function WarFilmSQViewStruct(){return _super.call(this)||this}WarFilmSQViewStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmSQView"))};WarFilmSQViewStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_filmName=(this.getChild("filmName"));this.m_filmTime=(this.getChild("filmTime"));this.m_type=(this.getChild("type"));this.m_zhuyanList=(this.getChild("zhuyanList"));this.m_filmAttributeList=(this.getChild("filmAttributeList"));this.m_filmIcon=(this.getChild("filmIcon"));this.m_okBtn=(this.getChild("okBtn"))};WarFilmSQViewStruct.URL="ui://y6ozucp1qbxl6m";WarFilmSQViewStruct.DependPackages=["WarMovie","Common"];return WarFilmSQViewStruct}(fairygui.GComponent));WarMovie.WarFilmSQViewStruct=WarFilmSQViewStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSQView=(function(_super){__extends(WarFilmSQView,_super);function WarFilmSQView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.maxVal=0;return _this}WarFilmSQView.prototype.constructFromXML=function(xml){var _this=this;_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmSQViewTitle;this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_filmAttributeList.itemRenderer=Laya.Handler.create(this,this.initAttItem,null,false);this.m_zhuyanList.itemRenderer=Laya.Handler.create(this,this.initYRItem,null,false);this.m_filmIcon.onClick(this,function(){_this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.FilmInfo,true)})};WarFilmSQView.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarFilmSQView.prototype.onWindowShow=function(){var _this=this;this.m_filmAttributeList.numItems=0;setTimeout(function(){_this.setData()},100)};WarFilmSQView.prototype.onWindowHide=function(){};WarFilmSQView.prototype.setData=function(){var _this=this;this.m_okBtn.visible=false;this.maxVal=0;this.m_filmAttributeList.numItems=0;this.m_zhuyanList.numItems=0;this.moduleMain=this.moduleWindow.mainWindow;this.m_filmName.text=Game.moduleModel.warData.moveStory.filmName;this.m_filmIcon.setData(Game.moduleModel.warData.moveStory);var types=Game.config.movieShootType.getConfigList();var tips=Game.config.msg.getConfig(MsgKey.movie_type_tips).notice;for(var i=0;i<types.length;i++){if(types[i].id==Game.moduleModel.warData.moveData.type){this.m_type.text=Game.moduleModel.warData.moveStory.filmType+"/"+types[i].getName;break}}this.m_filmTime.text=format(TEXT.FilmLongTime,Game.moduleModel.warData.moveStory.length);for(var i=0;i<5;i++){if(this.maxVal<Game.moduleModel.warData.moveData.avrAttribute[i]){this.maxVal=Game.moduleModel.warData.moveData.avrAttribute[i]}}this.maxVal*=Random.range(200,220)*0.01;this.m_filmAttributeList.numItems=5;this.m_zhuyanList.numItems=Game.moduleModel.warData.getRealYRList.count;setTimeout(function(){_this.m_okBtn.visible=true},2000)};WarFilmSQView.prototype.initAttItem=function(index,obj){var item=obj;item.setData(index,this.maxVal)};WarFilmSQView.prototype.initYRItem=function(index,obj){var item=obj;var data=Game.moduleModel.warData.getRealYRList.getValue(index);item.setIcon(Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl)};return WarFilmSQView}(WarMovie.WarFilmSQViewStruct));WarMovie.WarFilmSQView=WarFilmSQView})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmStarStruct=(function(_super){__extends(WarFilmStarStruct,_super);function WarFilmStarStruct(){return _super.call(this)||this}WarFilmStarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmStar"))};WarFilmStarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_starList=(this.getChild("starList"))};WarFilmStarStruct.URL="ui://y6ozucp1r0zd34";WarFilmStarStruct.DependPackages=["WarMovie"];return WarFilmStarStruct}(fairygui.GComponent));WarMovie.WarFilmStarStruct=WarFilmStarStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmStar=(function(_super){__extends(WarFilmStar,_super);function WarFilmStar(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmStar}(WarMovie.WarFilmStarStruct));WarMovie.WarFilmStar=WarFilmStar})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSYPFStruct=(function(_super){__extends(WarFilmSYPFStruct,_super);function WarFilmSYPFStruct(){return _super.call(this)||this}WarFilmSYPFStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmSYPF"))};WarFilmSYPFStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip1=(this.getChild("tip1"));this.m_tip2=(this.getChild("tip2"));this.m_total=(this.getChild("total"));this.m_add=(this.getChild("add"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_t1=this.getTransition("t1")};WarFilmSYPFStruct.URL="ui://y6ozucp1qbxl9x";WarFilmSYPFStruct.DependPackages=["WarMovie","Common"];return WarFilmSYPFStruct}(fairygui.GComponent));WarMovie.WarFilmSYPFStruct=WarFilmSYPFStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmSYPF=(function(_super){__extends(WarFilmSYPF,_super);function WarFilmSYPF(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmSYPF.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickOkBtn)};WarFilmSYPF.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarFilmSYPF.prototype.onWindowShow=function(){this.setData()};WarFilmSYPF.prototype.onWindowHide=function(){};WarFilmSYPF.prototype.setData=function(){Game.sound.playSound(SoundKey.MM23_Premiere);var list=Game.moduleModel.warData.getRealYRList.getValues();for(var i=0;i<list.length;i++){Game.system.playSkillEffect(list[i].id,Games.SkillTriggerType.box_office_earnings)}this.moduleMain=this.moduleWindow.mainWindow;this.m_total.text=formatNumberUnit(Game.moduleModel.warData.moveData.premiereBoxOffice);if(Game.moduleModel.warData.moveData.extBoxOffice>0){this.m_add.text=formatNumberUnit(Game.moduleModel.warData.moveData.extBoxOffice);this.m_t1.play(laya.utils.Handler.create(this,this.moveOverCall),1)}else{this.m_t1.stop()}};WarFilmSYPF.prototype.moveOverCall=function(){this.m_total.text=formatNumberUnit(Game.moduleModel.warData.moveData.premiereBoxOffice+Game.moduleModel.warData.moveData.extBoxOffice)};return WarFilmSYPF}(WarMovie.WarFilmSYPFStruct));WarMovie.WarFilmSYPF=WarFilmSYPF})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmTypeItemStruct=(function(_super){__extends(WarFilmTypeItemStruct,_super);function WarFilmTypeItemStruct(){return _super.call(this)||this}WarFilmTypeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmTypeItem"))};WarFilmTypeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_typeLabel=this.getController("typeLabel");this.m_title=(this.getChild("title"))};WarFilmTypeItemStruct.URL="ui://y6ozucp1r0zd4z";WarFilmTypeItemStruct.DependPackages=["WarMovie"];return WarFilmTypeItemStruct}(fairygui.GLabel));WarMovie.WarFilmTypeItemStruct=WarFilmTypeItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmTypeItem=(function(_super){__extends(WarFilmTypeItem,_super);function WarFilmTypeItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmTypeItem}(WarMovie.WarFilmTypeItemStruct));WarMovie.WarFilmTypeItem=WarFilmTypeItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmTypeSelectItemStruct=(function(_super){__extends(WarFilmTypeSelectItemStruct,_super);function WarFilmTypeSelectItemStruct(){return _super.call(this)||this}WarFilmTypeSelectItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmTypeSelectItem"))};WarFilmTypeSelectItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_icon=(this.getChild("icon"));this.m_filmType=(this.getChild("filmType"));this.m_lovePeople=(this.getChild("lovePeople"));this.m_proficiency=(this.getChild("proficiency"));this.m_rewardIcon=(this.getChild("rewardIcon"));this.m_rewardTip=(this.getChild("rewardTip"));this.m_totalTip=(this.getChild("totalTip"));this.m_tip=(this.getChild("tip"));this.m_actorVal1=(this.getChild("actorVal1"));this.m_actorVal2=(this.getChild("actorVal2"));this.m_actorVal3=(this.getChild("actorVal3"));this.m_actorVal4=(this.getChild("actorVal4"));this.m_actorVal5=(this.getChild("actorVal5"));this.m_actor1=(this.getChild("actor1"));this.m_actor2=(this.getChild("actor2"));this.m_actor3=(this.getChild("actor3"));this.m_actor4=(this.getChild("actor4"));this.m_actor5=(this.getChild("actor5"))};WarFilmTypeSelectItemStruct.URL="ui://y6ozucp1qbxl6a";WarFilmTypeSelectItemStruct.DependPackages=["WarMovie","Common"];return WarFilmTypeSelectItemStruct}(fairygui.GButton));WarMovie.WarFilmTypeSelectItemStruct=WarFilmTypeSelectItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmTypeSelectItem=(function(_super){__extends(WarFilmTypeSelectItem,_super);function WarFilmTypeSelectItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.actorList=new Array();_this.actorValList=new Array();return _this}WarFilmTypeSelectItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.actorList=[this.m_actor1,this.m_actor2,this.m_actor3,this.m_actor4,this.m_actor5];this.actorValList=[this.m_actorVal1,this.m_actorVal2,this.m_actorVal3,this.m_actorVal4,this.m_actorVal5]};WarFilmTypeSelectItem.prototype.setData=function(data,index){this.m_filmType.text=data.getName;this.m_lovePeople.text=data.getLove;this.m_icon.icon=Game.config.avatar.getConfig(data.pic).iconUrl;this.m_rewardIcon.icon=Games.WarLoadPic.getItemIcon(data.item_id);var allsType=0;for(var i=0;i<5;i++){if(i<Game.moduleModel.warData.getRealYRList.count){this.actorList[i].visible=true;this.actorValList[i].visible=true;var actor=Game.moduleModel.warData.getRealYRList.getValue(i);var config=Game.config.actor.getConfig(actor.id);this.actorList[i].setIcon(Game.config.avatar.getConfig(config.avatar).bodyIconUrl);var stype=actor.getShootType(data.id+400);if(stype!==null){allsType+=stype.proficiencyLevel;this.actorValList[i].text=stype.proficiencyLevel.toString()}else{this.actorValList[i].text="0"}}else{this.actorList[i].visible=false;this.actorValList[i].visible=false}}this.m_proficiency.text=allsType.toString()};return WarFilmTypeSelectItem}(WarMovie.WarFilmTypeSelectItemStruct));WarMovie.WarFilmTypeSelectItem=WarFilmTypeSelectItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYirenItemStruct=(function(_super){__extends(WarFilmYirenItemStruct,_super);function WarFilmYirenItemStruct(){return _super.call(this)||this}WarFilmYirenItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmYirenItem"))};WarFilmYirenItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_sex=this.getController("sex");this.m_mingzi=(this.getChild("mingzi"));this.m_inf=(this.getChild("inf"));this.m_t0=this.getTransition("t0")};WarFilmYirenItemStruct.URL="ui://y6ozucp1r0zd5l";WarFilmYirenItemStruct.DependPackages=["WarMovie"];return WarFilmYirenItemStruct}(fairygui.GButton));WarMovie.WarFilmYirenItemStruct=WarFilmYirenItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYirenItem=(function(_super){__extends(WarFilmYirenItem,_super);function WarFilmYirenItem(){return _super!==null&&_super.apply(this,arguments)||this}WarFilmYirenItem.prototype.setData=function(data){this.m_mingzi.text=data.getName;var sex=data.getSex-1;if(sex<0){sex=1}this.m_sex.setSelectedIndex(sex);this.m_inf.setData(data)};return WarFilmYirenItem}(WarMovie.WarFilmYirenItemStruct));WarMovie.WarFilmYirenItem=WarFilmYirenItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYirenReqStruct=(function(_super){__extends(WarFilmYirenReqStruct,_super);function WarFilmYirenReqStruct(){return _super.call(this)||this}WarFilmYirenReqStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmYirenReq"))};WarFilmYirenReqStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};WarFilmYirenReqStruct.URL="ui://y6ozucp1r0zd5k";WarFilmYirenReqStruct.DependPackages=["WarMovie"];return WarFilmYirenReqStruct}(fairygui.GLabel));WarMovie.WarFilmYirenReqStruct=WarFilmYirenReqStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYirenReq=(function(_super){__extends(WarFilmYirenReq,_super);function WarFilmYirenReq(){return _super!==null&&_super.apply(this,arguments)||this}return WarFilmYirenReq}(WarMovie.WarFilmYirenReqStruct));WarMovie.WarFilmYirenReq=WarFilmYirenReq})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYRShowStruct=(function(_super){__extends(WarFilmYRShowStruct,_super);function WarFilmYRShowStruct(){return _super.call(this)||this}WarFilmYRShowStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFilmYRShow"))};WarFilmYRShowStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_actor1=(this.getChild("actor1"));this.m_actor2=(this.getChild("actor2"));this.m_actor3=(this.getChild("actor3"));this.m_actor4=(this.getChild("actor4"));this.m_actor5=(this.getChild("actor5"))};WarFilmYRShowStruct.URL="ui://y6ozucp1qbxl8g";WarFilmYRShowStruct.DependPackages=["WarMovie","Fx"];return WarFilmYRShowStruct}(fairygui.GComponent));WarMovie.WarFilmYRShowStruct=WarFilmYRShowStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFilmYRShow=(function(_super){__extends(WarFilmYRShow,_super);function WarFilmYRShow(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.haveClick=false;return _this}WarFilmYRShow.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_actor1.visible=false;this.m_actor2.visible=false;this.m_actor3.visible=false;this.m_actor4.visible=false;this.m_actor5.visible=false;this.yrList=[this.m_actor1,this.m_actor2,this.m_actor3,this.m_actor4,this.m_actor5];this.onClick(this,this.onClickClose)};WarFilmYRShow.prototype.onClickClose=function(){var _this=this;if(!this.haveClick){this.haveClick=true;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})}};WarFilmYRShow.prototype.onWindowShow=function(){this.haveClick=false;this.setData()};WarFilmYRShow.prototype.onWindowHide=function(){};WarFilmYRShow.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.curFilmYRItemNumber=0;for(var i=0;i<this.yrList.length;i++){this.yrList[i].visible=false}var count=Game.moduleModel.warData.getRealYRList.count;var _xx=720/count;for(var i=0;i<count;i++){this.yrList[i].m_mask.width=_xx;this.yrList[i].m_bg.width=_xx;var maskX=this.yrList[i].m_mask.x;this.yrList[i].x=i*_xx-maskX;this.yrList[i].m_left.x=maskX-2;this.yrList[i].m_right.x=144-maskX-2}Game.sound.playSound(SoundKey.MM18_Screen);this.filmYRShowItem(count)};WarFilmYRShow.prototype.filmYRShowItem=function(max){var _this=this;this.curFilmYRItemNumber++;if(this.curFilmYRItemNumber<=max){var actor=Game.moduleModel.warData.getRealYRList.getValue(this.curFilmYRItemNumber-1);this.yrList[this.curFilmYRItemNumber-1].visible=true;var config=Game.config.actor.getConfig(actor.id);this.yrList[this.curFilmYRItemNumber-1].m_icon.icon=Game.config.avatar.getConfig(config.avatar).bodyIconUrl;this.yrList[this.curFilmYRItemNumber-1].m_t0.play(laya.utils.Handler.create(this,this.filmYRShowAniOver,[max]),1);this.yrList[this.curFilmYRItemNumber-1].m_t0.setHook("over",laya.utils.Handler.create(this,this.filmYRShowAni,[max]))}else{setTimeout(function(){_this.onClickClose()},3000)}};WarFilmYRShow.prototype.filmYRShowAni=function(max){if(this.curFilmYRItemNumber<max){this.filmYRShowItem(max)}};WarFilmYRShow.prototype.filmYRShowAniOver=function(max){if(this.curFilmYRItemNumber==max){this.filmYRShowItem(max)}};return WarFilmYRShow}(WarMovie.WarFilmYRShowStruct));WarMovie.WarFilmYRShow=WarFilmYRShow})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFrreBackItemStruct=(function(_super){__extends(WarFrreBackItemStruct,_super);function WarFrreBackItemStruct(){return _super.call(this)||this}WarFrreBackItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarFrreBackItem"))};WarFrreBackItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_noticeName=(this.getChild("noticeName"));this.m_fen=(this.getChild("fen"));this.m_noticeIcon=(this.getChild("noticeIcon"));this.m_useNo=(this.getChild("useNo"));this.m_dianzanValue=(this.getChild("dianzanValue"));this.m_starProgress=(this.getChild("starProgress"));this.m_des=(this.getChild("des"));this.m_t0=this.getTransition("t0")};WarFrreBackItemStruct.URL="ui://y6ozucp1qbxl72";WarFrreBackItemStruct.DependPackages=["WarMovie","Common"];return WarFrreBackItemStruct}(fairygui.GComponent));WarMovie.WarFrreBackItemStruct=WarFrreBackItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarFrreBackItem=(function(_super){__extends(WarFrreBackItem,_super);function WarFrreBackItem(){return _super!==null&&_super.apply(this,arguments)||this}WarFrreBackItem.prototype.setData=function(val,dianzhan,index){var values=val*0.1;this.m_fen.text=values.toFixed(1);this.m_starProgress.value=val;this.m_dianzanValue.text=dianzhan.toFixed(0);var config=Game.config.movieMidiaEvaluation.getMovieMidiaEva(values,index+1);if(config.pic&&config.pic>0){this.m_noticeIcon.icon=Game.config.avatar.getConfig(config.pic).iconUrl}this.m_noticeName.text=config.name;this.m_des.setData(config.content);this.m_t0.play(laya.utils.Handler.create(this,function(){Game.moduleModel.warData.sFeedBackUpdate.dispatch()}),1)};return WarFrreBackItem}(WarMovie.WarFrreBackItemStruct));WarMovie.WarFrreBackItem=WarFrreBackItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarGoldProgressBarStruct=(function(_super){__extends(WarGoldProgressBarStruct,_super);function WarGoldProgressBarStruct(){return _super.call(this)||this}WarGoldProgressBarStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarGoldProgressBar"))};WarGoldProgressBarStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar=(this.getChild("bar"))};WarGoldProgressBarStruct.URL="ui://y6ozucp1qnq0dv";WarGoldProgressBarStruct.DependPackages=["WarMovie"];return WarGoldProgressBarStruct}(fairygui.GProgressBar));WarMovie.WarGoldProgressBarStruct=WarGoldProgressBarStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarGoldProgressBar=(function(_super){__extends(WarGoldProgressBar,_super);function WarGoldProgressBar(){return _super!==null&&_super.apply(this,arguments)||this}return WarGoldProgressBar}(WarMovie.WarGoldProgressBarStruct));WarMovie.WarGoldProgressBar=WarGoldProgressBar})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarGoodsItemStruct=(function(_super){__extends(WarGoodsItemStruct,_super);function WarGoodsItemStruct(){return _super.call(this)||this}WarGoodsItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarGoodsItem"))};WarGoodsItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_colorCon=this.getController("colorCon");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarGoodsItemStruct.URL="ui://y6ozucp1qbxl7u";WarGoodsItemStruct.DependPackages=["WarMovie","Common"];return WarGoodsItemStruct}(fairygui.GButton));WarMovie.WarGoodsItemStruct=WarGoodsItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarGoodsItem=(function(_super){__extends(WarGoodsItem,_super);function WarGoodsItem(){return _super!==null&&_super.apply(this,arguments)||this}WarGoodsItem.prototype.setData=function(index){var itemDesc=Game.moduleModel.warData.dropList[index];this.m_title.text=formatNumberUnit(itemDesc.amount);var config=Game.config.item.getConfig(itemDesc.itemId);this.m_icon.icon=Game.config.avatar.getConfig(config.icon).iconUrl;this.m_colorCon.setSelectedIndex(0)};return WarGoodsItem}(WarMovie.WarGoodsItemStruct));WarMovie.WarGoodsItem=WarGoodsItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarInfBtnStruct=(function(_super){__extends(WarInfBtnStruct,_super);function WarInfBtnStruct(){return _super.call(this)||this}WarInfBtnStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarInfBtn"))};WarInfBtnStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};WarInfBtnStruct.URL="ui://y6ozucp1kh7oa2";WarInfBtnStruct.DependPackages=["WarMovie","Common"];return WarInfBtnStruct}(fairygui.GButton));WarMovie.WarInfBtnStruct=WarInfBtnStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarInfBtn=(function(_super){__extends(WarInfBtn,_super);function WarInfBtn(){return _super!==null&&_super.apply(this,arguments)||this}return WarInfBtn}(WarMovie.WarInfBtnStruct));WarMovie.WarInfBtn=WarInfBtn})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarjiaojuanStruct=(function(_super){__extends(WarjiaojuanStruct,_super);function WarjiaojuanStruct(){return _super.call(this)||this}WarjiaojuanStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","Warjiaojuan"))};WarjiaojuanStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t0=this.getTransition("t0")};WarjiaojuanStruct.URL="ui://y6ozucp1qbxl9d";WarjiaojuanStruct.DependPackages=["WarMovie"];return WarjiaojuanStruct}(fairygui.GComponent));WarMovie.WarjiaojuanStruct=WarjiaojuanStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Warjiaojuan=(function(_super){__extends(Warjiaojuan,_super);function Warjiaojuan(){return _super!==null&&_super.apply(this,arguments)||this}return Warjiaojuan}(WarMovie.WarjiaojuanStruct));WarMovie.Warjiaojuan=Warjiaojuan})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarjiaojuanPinPuStruct=(function(_super){__extends(WarjiaojuanPinPuStruct,_super);function WarjiaojuanPinPuStruct(){return _super.call(this)||this}WarjiaojuanPinPuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarjiaojuanPinPu"))};WarjiaojuanPinPuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};WarjiaojuanPinPuStruct.URL="ui://y6ozucp1hz8fd4";WarjiaojuanPinPuStruct.DependPackages=["WarMovie"];return WarjiaojuanPinPuStruct}(fairygui.GComponent));WarMovie.WarjiaojuanPinPuStruct=WarjiaojuanPinPuStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarjiaojuanPinPu=(function(_super){__extends(WarjiaojuanPinPu,_super);function WarjiaojuanPinPu(){return _super!==null&&_super.apply(this,arguments)||this}return WarjiaojuanPinPu}(WarMovie.WarjiaojuanPinPuStruct));WarMovie.WarjiaojuanPinPu=WarjiaojuanPinPu})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarJiesuanNumStruct=(function(_super){__extends(WarJiesuanNumStruct,_super);function WarJiesuanNumStruct(){return _super.call(this)||this}WarJiesuanNumStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarJiesuanNum"))};WarJiesuanNumStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_num=this.getController("num")};WarJiesuanNumStruct.URL="ui://y6ozucp1j0tea8";WarJiesuanNumStruct.DependPackages=["WarMovie"];return WarJiesuanNumStruct}(fairygui.GComponent));WarMovie.WarJiesuanNumStruct=WarJiesuanNumStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarJiesuanNum=(function(_super){__extends(WarJiesuanNum,_super);function WarJiesuanNum(){return _super!==null&&_super.apply(this,arguments)||this}WarJiesuanNum.prototype.setData=function(num){var curNum=0;if(num==="."){curNum=10}else{if(num==="K"){curNum=11}else{if(num==="M"){curNum=12}else{if(num==="B"){curNum=13}else{if(num===","){curNum=14}else{curNum=toInt(num)}}}}}this.m_num.setSelectedIndex(curNum)};return WarJiesuanNum}(WarMovie.WarJiesuanNumStruct));WarMovie.WarJiesuanNum=WarJiesuanNum})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMainStruct=(function(_super){__extends(WarMainStruct,_super);function WarMainStruct(){return _super.call(this)||this}WarMainStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarMain"))};WarMainStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml)};WarMainStruct.URL="ui://y6ozucp1qbxl99";WarMainStruct.DependPackages=["WarMovie"];return WarMainStruct}(fairygui.GComponent));WarMovie.WarMainStruct=WarMainStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMain=(function(_super){__extends(WarMain,_super);function WarMain(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.filmingRun=false;return _this}WarMain.prototype.onWindowShow=function(){if(User.isNineToFiftyFive&&!User.isTenTime){Game.system.toastText(TEXT.NineToFiftyFiveTip);this.moduleWindow.menuBack()}else{this.checkStatus();Game.protoFailEvent.add(ProtoEventKey.movie_MakeFilm,this.onProtoFail,this);Game.event.add(GameEventKey.GameEventKey_TimeLimitRemind,this.GameEventKey_TimeLimitRemind,this);Game.event.dispatch(GameEventKey.PopupPanel)}};WarMain.prototype.onWindowHide=function(){Game.protoFailEvent.remove(ProtoEventKey.movie_MakeFilm,this.onProtoFail,this);Game.event.remove(GameEventKey.GameEventKey_TimeLimitRemind,this.GameEventKey_TimeLimitRemind,this)};WarMain.prototype.onProtoFail=function(protoKey){this.moduleWindow.menuBack()};WarMain.prototype.GameEventKey_TimeLimitRemind=function(timeLimit){switch(timeLimit){case Games.TimeLimitType.NineToFiftyFive:if(User.isNineToFiftyFive){Game.system.toastText(TEXT.NineToFiftyFiveTip);this.moduleWindow.menuBack()}break}};WarMain.prototype.checkStatus=function(){if(Game.moduleModel.warData.moveJieSuanData&&Game.moduleModel.warData.moveJieSuanData!==null){Game.menu.getMenuCtl(MenuId.Home).moduleWindow.conent.onCreateFilmContinue();this.filmOverTip(EMovieState.overMarket)}else{if(Game.moduleModel.warData.moveData&&Game.moduleModel.warData.moveData!==null){this.subWindowToMain()}else{if(Game.moduleModel.warData.movieDataList.length>=5){this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.EndIncome,true)}else{this.shootingConfirmation()}}}};WarMain.prototype.shootingConfirmation=function(){if(!Game.moduleModel.street.canSign){if(Game.moduleModel.warData.realLicenceNum>0){this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.ShootingConfirmation,true)}else{if(Game.moduleModel.warData.licenceData.dailyCount>=Game.config.global.getConfig(GlobalKey.Licence_Restore_Max).value){this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.XukeOver,true)}else{this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.XukeHuifu,true)}}}else{Game.system.toastText(TEXT.CinemaSignTip);this.moduleWindow.menuBack()}};WarMain.prototype.filmOverTip=function(status){var _this=this;switch(status){case EMovieState.overMarket:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.overMarket,true);break;case EMovieState.Jiesuan:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Jiesuan,true);break;case EMovieState.rewardTip:Game.sound.playSound(SoundKey.MM30_Settlements);var dropList=Game.moduleModel.warData.dropList;var dtList=new Array();var fansVal_1=0;for(var ll=0;ll<dropList.length;ll++){var dtItem=new DTItemNum();dtItem.itemId=dropList[ll].itemId;dtItem.itemNum=dropList[ll].amount;if(dropList[ll].itemId===EItemId.fans){fansVal_1+=dropList[ll].amount}dtList.push(dtItem)}this.jiesuanFilmName=Game.moduleModel.warData.moveJieSuanData.name;Game.system.getItemText(dtList,function(){if(fansVal_1>0){Game.system.addFansText(fansVal_1,Handler.create(_this,_this.showTextFullTip))}else{_this.showTextFullTip()}},false);Game.moduleModel.warData.moveJieSuanData=null;this.moduleWindow.menuClose();break}};WarMain.prototype.showTextFullTip=function(){Game.system.alrtTextFull(format(Game.config.msg.getConfig(MsgKey.movie_off_line_tips).notice,Game.config.global.getConfig(GlobalKey.Popularize_Duration).value),this.jiesuanFilmName)};WarMain.prototype.subWindowToMain=function(){switch(Game.moduleModel.warData.moveData.state){case EMovieState.chooseScript:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.FilmSelect,true);break;case EMovieState.renameFilm:break;case EMovieState.currentMarketInf:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.CurrentMarketInf,true);break;case EMovieState.chooseActor:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.SelectYiren,true);break;case EMovieState.costView:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.CostView,true);break;case EMovieState.yRShowView:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.YRShowView,true);break;case EMovieState.compatibility:Game.moduleModel.warData.filmingProgress.value=0;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Compatibility,true);break;case EMovieState.filming:if(!this.filmingRun){Game.moduleModel.warData.filmingProgress.value=0;this.filmingRun=true;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Filming,true)}else{this.moduleWindow.warFilmingSubwindow.windowShow()}break;case EMovieState.chooseType:if(!this.filmingRun){Game.moduleModel.warData.filmingProgress.value=0;this.filmingRun=true;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Filming,true)}else{this.moduleWindow.warFilmingSubwindow.windowShow()}break;case EMovieState.chooseTip:console.error("----不会进入这里---");break;case EMovieState.propaganda:if(!this.filmingRun){Game.moduleModel.warData.filmingProgress.value=0;this.filmingRun=true;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Filming,true)}else{this.moduleWindow.warFilmingSubwindow.windowShow()}break;case EMovieState.complete:if(!this.filmingRun){Game.moduleModel.warData.filmingProgress.value=0;this.filmingRun=true;this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Filming,true)}else{this.moduleWindow.warFilmingSubwindow.windowShow()}break;case EMovieState.actorUpdate:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.proficiency,true);break;case EMovieState.proficiency:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.FilmSQView,true);break;case EMovieState.chooseTheater:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.CinemaSelection,true);break;case EMovieState.noticeFeedBack:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.NoticeFeedBack,true);break;case EMovieState.SYPF:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.SYPF,true);break;case EMovieState.audienceReputation:this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.AudienceReputation,true);break;case EMovieState.result:Game.moduleModel.warData.refrushFilmingStatus();this.moduleWindow.openSubwindowByIndex(Games.WarSubwindowType.Shangying,true);break}};return WarMain}(WarMovie.WarMainStruct));WarMovie.WarMain=WarMain})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMarketPeopleStruct=(function(_super){__extends(WarMarketPeopleStruct,_super);function WarMarketPeopleStruct(){return _super.call(this)||this}WarMarketPeopleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarMarketPeople"))};WarMarketPeopleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_colorControl=this.getController("colorControl");this.m_sex=this.getController("sex");this.m_curMarket=(this.getChild("curMarket"));this.m_req=(this.getChild("req"));this.m_req2=(this.getChild("req2"))};WarMarketPeopleStruct.URL="ui://y6ozucp1qbxl8j";WarMarketPeopleStruct.DependPackages=["WarMovie","Common"];return WarMarketPeopleStruct}(fairygui.GComponent));WarMovie.WarMarketPeopleStruct=WarMarketPeopleStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMarketPeople=(function(_super){__extends(WarMarketPeople,_super);function WarMarketPeople(){return _super!==null&&_super.apply(this,arguments)||this}WarMarketPeople.prototype.setData=function(req,cur,sex){var isOk=true;this.m_curMarket.text=cur+"%";this.m_req.text=req+"%";this.m_req2.text=req+"%";if(req<=cur){this.m_colorControl.setSelectedIndex(0)}else{this.m_colorControl.setSelectedIndex(1);isOk=false}this.m_sex.setSelectedIndex(sex);return isOk};return WarMarketPeople}(WarMovie.WarMarketPeopleStruct));WarMovie.WarMarketPeople=WarMarketPeople})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMoveTextUDStruct=(function(_super){__extends(WarMoveTextUDStruct,_super);function WarMoveTextUDStruct(){return _super.call(this)||this}WarMoveTextUDStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarMoveTextUD"))};WarMoveTextUDStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarMoveTextUDStruct.URL="ui://y6ozucp1r0zd4w";WarMoveTextUDStruct.DependPackages=["WarMovie"];return WarMoveTextUDStruct}(fairygui.GLabel));WarMovie.WarMoveTextUDStruct=WarMoveTextUDStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarMoveTextUD=(function(_super){__extends(WarMoveTextUD,_super);function WarMoveTextUD(){return _super!==null&&_super.apply(this,arguments)||this}WarMoveTextUD.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.y=2};WarMoveTextUD.prototype.setData=function(str){this.m_title.text=str;this.scrollPane.posY=-5};return WarMoveTextUD}(WarMovie.WarMoveTextUDStruct));WarMovie.WarMoveTextUD=WarMoveTextUD})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarNoticeStruct=(function(_super){__extends(WarNoticeStruct,_super);function WarNoticeStruct(){return _super.call(this)||this}WarNoticeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarNotice"))};WarNoticeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_nameTip=(this.getChild("nameTip"));this.m_title=(this.getChild("title"));this.m_noticeList=(this.getChild("noticeList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarNoticeStruct.URL="ui://y6ozucp1qbxl6c";WarNoticeStruct.DependPackages=["WarMovie","Common"];return WarNoticeStruct}(fairygui.GComponent));WarMovie.WarNoticeStruct=WarNoticeStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarNotice=(function(_super){__extends(WarNotice,_super);function WarNotice(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mediaId=0;_this.actorData=new Array();return _this}WarNotice.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmNoticeTitle;this.m_nameTip.text=TEXT.FilmNoticeTitle;this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_noticeList.itemRenderer=Laya.Handler.create(this,this.initNoticeItem,null,false);this.m_closeBtn.onClick(this,this.onClickClose)};WarNotice.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarNotice.prototype.onClickClose=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarNotice.prototype.onWindowShow=function(){this.setData()};WarNotice.prototype.onWindowHide=function(){};WarNotice.prototype.setData=function(){this.m_noticeList.numItems=0;this.moduleMain=this.moduleWindow.mainWindow;this.getRandomActor();this.m_noticeList.numItems=Game.moduleModel.warData.moveData.mediaVisit.length};WarNotice.prototype.getRandomActor=function(){this.actorList=new Dictionary();var actors=Game.moduleModel.warData.getRealYRList;var actorLength=actors.count;for(var i=0;i<Game.moduleModel.warData.moveData.mediaVisit.length;i++){var randomActorList=new Array();var randomCount=Random.rangeBoth(1,2);var arrActor=new Array();if(actorLength<=randomCount||actorLength<=2){var lengths=randomCount<actorLength?randomCount:actorLength;for(var j=0;j<lengths;j++){arrActor.push(actors.getValue(j))}}else{var random1=Random.range(0,actorLength);arrActor.push(actors.getValue(random1));if(randomCount>1){var halfLeght=actorLength/2;var random2=void 0;if(random1<halfLeght){random2=Random.range(halfLeght+1,actorLength)}else{random2=Random.range(0,halfLeght)}random2=Math.floor(random2);if(random2<0||random2>=actorLength||random2==random1){}else{arrActor.push(actors.getValue(random2))}}}this.actorList.add(i,arrActor)}};WarNotice.prototype.initNoticeItem=function(index,obj){var _this=this;var item=obj;item.setData(index,this.actorList.getValue(index),function(arg,actorData){_this.selectItemGetValue(arg,actorData)})};WarNotice.prototype.selectItemGetValue=function(index,actorData){var _this=this;this.mediaId=index;this.actorData=actorData;Game.moduleModel.warData.AcceptMediaVisit(index,function(arg){_this.onAcceptBack(arg)})};WarNotice.prototype.onAcceptBack=function(arg){Game.moduleModel.warData.filmExpectations.add(this.mediaId,arg);Game.moduleModel.warData.filmExpecteActor.add(this.mediaId,this.actorData);this.m_noticeList.numItems=0;this.m_noticeList.numItems=Game.moduleModel.warData.moveData.mediaVisit.length};return WarNotice}(WarMovie.WarNoticeStruct));WarMovie.WarNotice=WarNotice})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPaishequerenStruct=(function(_super){__extends(WarPaishequerenStruct,_super);function WarPaishequerenStruct(){return _super.call(this)||this}WarPaishequerenStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarPaishequeren"))};WarPaishequerenStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_icon=(this.getChild("icon"));this.m_cost=(this.getChild("cost"));this.m_closeTip=(this.getChild("closeTip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarPaishequerenStruct.URL="ui://y6ozucp1r0zd2v";WarPaishequerenStruct.DependPackages=["WarMovie","Common"];return WarPaishequerenStruct}(fairygui.GComponent));WarMovie.WarPaishequerenStruct=WarPaishequerenStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPaishequeren=(function(_super){__extends(WarPaishequeren,_super);function WarPaishequeren(){return _super!==null&&_super.apply(this,arguments)||this}WarPaishequeren.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.onClickClose);this.m_okBtn.onClick(this,this.onClickOkBtn)};WarPaishequeren.prototype.onClickClose=function(){this.moduleWindow.menuBack()};WarPaishequeren.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.MakeFilm(function(){_this.moduleMain.conent.subWindowToMain()})};WarPaishequeren.prototype.onWindowShow=function(){this.setData()};WarPaishequeren.prototype.onWindowHide=function(){};WarPaishequeren.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_tip.text=Game.config.msg.getConfig(MsgKey.movie_confirm).notice;this.m_icon.icon=Games.WarLoadPic.getItemIcon(EItemId.licence)};return WarPaishequeren}(WarMovie.WarPaishequerenStruct));WarMovie.WarPaishequeren=WarPaishequeren})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeopleStruct=(function(_super){__extends(WarPeopleStruct,_super);function WarPeopleStruct(){return _super.call(this)||this}WarPeopleStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarPeople"))};WarPeopleStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_sex=(this.getChild("sex"))};WarPeopleStruct.URL="ui://y6ozucp1r0zd52";WarPeopleStruct.DependPackages=["WarMovie"];return WarPeopleStruct}(fairygui.GLabel));WarMovie.WarPeopleStruct=WarPeopleStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeople=(function(_super){__extends(WarPeople,_super);function WarPeople(){return _super!==null&&_super.apply(this,arguments)||this}return WarPeople}(WarMovie.WarPeopleStruct));WarMovie.WarPeople=WarPeople})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeopleFaceItemStruct=(function(_super){__extends(WarPeopleFaceItemStruct,_super);function WarPeopleFaceItemStruct(){return _super.call(this)||this}WarPeopleFaceItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarPeopleFaceItem"))};WarPeopleFaceItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_phiz=this.getController("phiz");this.m_sex=this.getController("sex");this.m_c1=this.getController("c1");this.m_peopleMan=(this.getChild("peopleMan"));this.m_peopleWomen=(this.getChild("peopleWomen"));this.m_peopleChild=(this.getChild("peopleChild"));this.m_face0=(this.getChild("face0"));this.m_face1=(this.getChild("face1"));this.m_face2=(this.getChild("face2"));this.m_face3=(this.getChild("face3"));this.m_face4=(this.getChild("face4"));this.m_tip=(this.getChild("tip"));this.m_tip2=(this.getChild("tip2"));this.m_t0=this.getTransition("t0")};WarPeopleFaceItemStruct.URL="ui://y6ozucp1qbxl80";WarPeopleFaceItemStruct.DependPackages=["WarMovie","Common"];return WarPeopleFaceItemStruct}(fairygui.GComponent));WarMovie.WarPeopleFaceItemStruct=WarPeopleFaceItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeopleFaceItem=(function(_super){__extends(WarPeopleFaceItem,_super);function WarPeopleFaceItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarPeopleFaceItem}(WarMovie.WarPeopleFaceItemStruct));WarMovie.WarPeopleFaceItem=WarPeopleFaceItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeopleSmallStruct=(function(_super){__extends(WarPeopleSmallStruct,_super);function WarPeopleSmallStruct(){return _super.call(this)||this}WarPeopleSmallStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarPeopleSmall"))};WarPeopleSmallStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarPeopleSmallStruct.URL="ui://y6ozucp1r0zd54";WarPeopleSmallStruct.DependPackages=["WarMovie","Common"];return WarPeopleSmallStruct}(fairygui.GLabel));WarMovie.WarPeopleSmallStruct=WarPeopleSmallStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarPeopleSmall=(function(_super){__extends(WarPeopleSmall,_super);function WarPeopleSmall(){return _super!==null&&_super.apply(this,arguments)||this}return WarPeopleSmall}(WarMovie.WarPeopleSmallStruct));WarMovie.WarPeopleSmall=WarPeopleSmall})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectActorStruct=(function(_super){__extends(WarSelectActorStruct,_super);function WarSelectActorStruct(){return _super.call(this)||this}WarSelectActorStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarSelectActor"))};WarSelectActorStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_select=this.getController("select");this.m_okBtnContorl=this.getController("okBtnContorl");this.m_reqList=(this.getChild("reqList"));this.m_yrList=(this.getChild("yrList"));this.m_title=(this.getChild("title"));this.m_emtpyTip=(this.getChild("emtpyTip"));this.m_emtpyTip2=(this.getChild("emtpyTip2"));this.m_searchTip=(this.getChild("searchTip"));this.m_selectTip=(this.getChild("selectTip"));this.m_zhongTip=(this.getChild("zhongTip"));this.m_backBtn=(this.getChild("backBtn"));this.m_filmInfBtn=(this.getChild("filmInfBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};WarSelectActorStruct.URL="ui://y6ozucp1yytj5m";WarSelectActorStruct.DependPackages=["WarMovie","Common"];return WarSelectActorStruct}(fairygui.GComponent));WarMovie.WarSelectActorStruct=WarSelectActorStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectActor=(function(_super){__extends(WarSelectActor,_super);function WarSelectActor(){return _super!==null&&_super.apply(this,arguments)||this}WarSelectActor.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmSelectActorTitle;this.m_selectTip.text=TEXT.PleaseSelectActor;this.m_reqList.itemRenderer=Laya.Handler.create(this,this.YRReqItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_closeBtn.onClick(this,this.onCloseUI)};WarSelectActor.prototype.onCloseUI=function(){this.onBackSelect(-1);this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarSelectActor.prototype.onClickOkBtn=function(){var _this=this;var myHaveDollar=Game.moduleModel.item.getItemNum(EItemId.dollar);var list=Game.moduleModel.warData.getRealYRList;var cost=0;if(list.count>0){var keyList=list.getKeys();for(var i=0;i<keyList.length;i++){var val=list.getValue(keyList[i]);if(val.id!==9999){cost+=val.PayForFilming(Game.moduleModel.warData.moveStory.characterProperty[i].type)}}}if(cost<=0){Game.system.toastText(TEXT.AllTempTip)}else{if(cost<=myHaveDollar){this.moduleWindow.closeSelf();Game.moduleModel.warData.ConfirmSetActor(function(){_this.moduleMain.conent.subWindowToMain()})}else{var isplay=Game.guide.checkPlayStorySelectStoryOrActor();if(isplay==false){Game.system.openItemWay(EItemId.dollar,cost)}}}};WarSelectActor.prototype.onWindowShow=function(){this.setData()};WarSelectActor.prototype.onWindowHide=function(){};WarSelectActor.prototype.setData=function(){var _this=this;this.moduleMain=this.moduleWindow.mainWindow;this.temActor=Game.moduleModel.warData.temActor;this.curData=Game.moduleModel.warData.moveStory;this.m_filmInfBtn.onClick(this,function(){_this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.FilmInfo,true)});this.m_okBtnContorl.setSelectedIndex(0);this.m_reqList.numItems=this.curData.characterProperty.length;this.setSelectTip();this.m_reqList.on(fairygui.Events.CLICK_ITEM,this,this.reqClickItem);this.m_backBtn.onClick(this,this.onBackSelect,[-1])};WarSelectActor.prototype.setSelectTip=function(){var pos=-1;for(var i=0;i<this.curData.characterProperty.length;i++){if(Game.moduleModel.warData.curYRList.hasKey(i)){if(pos===-1){pos=this.curData.characterProperty.length}}else{pos=i;break}}if(pos===this.curData.characterProperty.length){if(this.m_selectTip.visible){this.m_selectTip.visible=false}}else{if(!this.m_selectTip.visible){this.m_selectTip.visible=true}this.m_selectTip.x=pos*140+(5-this.curData.characterProperty.length)*70}};WarSelectActor.prototype.YRReqItem=function(index,obj){var item=obj;var actor;if(Game.moduleModel.warData.curYRList.hasKey(index)){actor=Game.moduleModel.warData.curYRList.getValue(index)}else{actor=null}item.setData(this.curData.characterProperty[index],actor);if(Game.moduleModel.warData.curYRList.count===this.curData.characterProperty.length){this.m_okBtnContorl.setSelectedIndex(1);if(this.m_select.selectedIndex===1){this.m_select.setSelectedIndex(0)}this.m_searchTip.visible=false}else{this.m_okBtnContorl.setSelectedIndex(0)}};WarSelectActor.prototype.reqClickItem=function(obj){Game.sound.playSound(SoundKey.MM19_ArtistShow);this.m_select.setSelectedIndex(1);this.onShowYRList(this.m_reqList.getChildIndex(obj))};WarSelectActor.prototype.onBackSelect=function(index,reqIndex){var _this=this;this.m_reqList.clearSelection();this.m_searchTip.visible=false;this.m_select.setSelectedIndex(0);this.m_zhongTip.text="";if(index>=0){var actor=this.temActor;if(this.actorData.length>index){actor=this.actorData[index]}Game.moduleModel.warData.sendSetActor(reqIndex,actor.id,function(){_this.m_reqList.numItems=_this.curData.characterProperty.length;_this.setSelectTip()})}else{if(Game.moduleModel.warData.curYRList.count===this.curData.characterProperty.length){this.m_okBtnContorl.setSelectedIndex(1);if(this.m_select.selectedIndex===1){this.m_select.setSelectedIndex(0)}this.m_searchTip.visible=false}else{this.m_okBtnContorl.setSelectedIndex(0)}}this.setSelectTip()};WarSelectActor.prototype.onShowYRList=function(index){this.m_okBtnContorl.setSelectedIndex(0);var characterConfig=this.curData.characterProperty[index];this.actorData=Game.moduleModel.warData.getListForFilmYR(characterConfig);var count=this.actorData.length;this.m_zhongTip.setData(characterConfig.getDes);this.m_yrList.numItems=0;this.m_yrList.itemRenderer=Laya.Handler.create(this,this.YRListItem,[index,characterConfig],false);if(count==0){count=1;this.m_emtpyTip2.text=Game.config.msg.getConfig(MsgKey.movie_actor_recruit).notice;this.m_emtpyTip.text=Game.config.msg.getConfig(MsgKey.movie_non_suitable_actor).notice;this.m_searchTip.visible=true}else{this.m_searchTip.visible=false;if(this.isUseTemActor(index)){this.m_emtpyTip2.text=Game.config.msg.getConfig(MsgKey.movie_actor_recruit).notice;this.m_emtpyTip.text=Game.config.msg.getConfig(MsgKey.movie_non_enough_actor).notice;this.m_searchTip.visible=true;count++}}this.m_yrList.numItems=count};WarSelectActor.prototype.isUseTemActor=function(index){var result=false;if(Game.moduleModel.warData.getRealYRList.count>0){var keyList=Game.moduleModel.warData.getRealYRList.getKeys();var haveInde=0;for(var i=0;i<keyList.length;i++){for(var index_1=0;index_1<this.actorData.length;index_1++){if(Game.moduleModel.warData.getRealYRList.getValue(keyList[i]).id==this.actorData[index_1].id){haveInde++}}}if(haveInde==this.actorData.length){result=true;var cur=Game.moduleModel.warData.curYRList.getValue(index);if(cur&&cur.id>0&&cur.id!==9999){for(var index_2=0;index_2<this.actorData.length;index_2++){if(cur.id==this.actorData[index_2].id){result=false}}}}}return result};WarSelectActor.prototype.YRListItem=function(reqIndex,characterConfig,index,obj){var item=obj;item.m_infBtn.offClick(this,this.onClickInfoBtn);if(this.actorData.length>0){if(index===this.actorData.length){item.setDataEmpty()}else{item.setData(this.actorData[index],characterConfig);item.m_isUse.setSelectedIndex(0);if(Game.moduleModel.warData.curYRList.count>0){var keyList=Game.moduleModel.warData.curYRList.getKeys();for(var i=0;i<keyList.length;i++){if(Game.moduleModel.warData.curYRList.getValue(keyList[i]).id==this.actorData[index].id){item.m_isUse.setSelectedIndex(1);item.m_tip1.text=TEXT.Play;item.m_tip2.text=this.curData.characterProperty[keyList[i]].getType}}}item.m_infBtn.onClick(this,this.onClickInfoBtn,[this.actorData[index]])}}else{item.setDataEmpty()}item.m_okBtn.onClick(this,this.onBackSelect,[index,reqIndex])};WarSelectActor.prototype.onClickInfoBtn=function(data){Game.menu.open(MenuId.ArtistDetail,data.id,Games.ArtistDetailTabType.Expert)};return WarSelectActor}(WarMovie.WarSelectActorStruct));WarMovie.WarSelectActor=WarSelectActor})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectActorItemStruct=(function(_super){__extends(WarSelectActorItemStruct,_super);function WarSelectActorItemStruct(){return _super.call(this)||this}WarSelectActorItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarSelectActorItem"))};WarSelectActorItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_button=this.getController("button");this.m_actorOk=this.getController("actorOk");this.m_chName=(this.getChild("chName"));this.m_chReq1=(this.getChild("chReq1"));this.m_chReq2=(this.getChild("chReq2"));this.m_sex=(this.getChild("sex"));this.m_nation=(this.getChild("nation"));this.m_actorName=(this.getChild("actorName"));this.m_icon=(this.getChild("icon"));this.m_property=(this.getChild("property"))};WarSelectActorItemStruct.URL="ui://y6ozucp1yytj5o";WarSelectActorItemStruct.DependPackages=["WarMovie","Common"];return WarSelectActorItemStruct}(fairygui.GButton));WarMovie.WarSelectActorItemStruct=WarSelectActorItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectActorItem=(function(_super){__extends(WarSelectActorItem,_super);function WarSelectActorItem(){return _super!==null&&_super.apply(this,arguments)||this}WarSelectActorItem.prototype.setData=function(data,actor){this.m_property.m_title.text=data.getType;this.m_property.m_icon.icon=Games.WarLoadPic.getActorTypeIcon(data.type);Games.WarLoadPic.setIcon(this.m_sex,data.sex);Games.WarLoadPic.setIcon(this.m_nation,data.country);if(actor!==null){this.m_actorOk.setSelectedIndex(1);this.m_actorName.text=actor.name;this.m_icon.icon=Game.config.avatar.getConfig(actor.config.avatar).bodyIconUrl}else{this.m_actorOk.setSelectedIndex(0);this.m_chName.text=data.getName;if(data.show_type>0){this.m_chReq1.visible=true;Games.WarLoadPic.setIcon(this.m_chReq1,data.show_type)}else{this.m_chReq1.visible=false}if(data.getReqageType>0){this.m_chReq2.visible=true;Games.WarLoadPic.setIcon(this.m_chReq2,data.getReqageType)}else{this.m_chReq2.visible=false}}};return WarSelectActorItem}(WarMovie.WarSelectActorItemStruct));WarMovie.WarSelectActorItem=WarSelectActorItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectFilmTypeStruct=(function(_super){__extends(WarSelectFilmTypeStruct,_super);function WarSelectFilmTypeStruct(){return _super.call(this)||this}WarSelectFilmTypeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarSelectFilmType"))};WarSelectFilmTypeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_nameTip=(this.getChild("nameTip"));this.m_title=(this.getChild("title"));this.m_typeList=(this.getChild("typeList"));this.m_curMarket=(this.getChild("curMarket"));this.m_filminfBtn=(this.getChild("filminfBtn"));this.m_men=(this.getChild("men"));this.m_women=(this.getChild("women"));this.m_child=(this.getChild("child"));this.m_okBtn=(this.getChild("okBtn"));this.m_closeBtn=(this.getChild("closeBtn"))};WarSelectFilmTypeStruct.URL="ui://y6ozucp1qbxl67";WarSelectFilmTypeStruct.DependPackages=["WarMovie","Common"];return WarSelectFilmTypeStruct}(fairygui.GComponent));WarMovie.WarSelectFilmTypeStruct=WarSelectFilmTypeStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSelectFilmType=(function(_super){__extends(WarSelectFilmType,_super);function WarSelectFilmType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.selectType=-1;return _this}WarSelectFilmType.prototype.constructFromXML=function(xml){var _this=this;_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmTypeSelectTitle;this.m_nameTip.text=TEXT.FilmTypeSelectTitle;this.m_curMarket.text=TEXT.CurMarketTip;this.m_men.m_sex.text=TEXT.sexMan;this.m_women.m_sex.text=TEXT.sexWomen;this.m_child.m_sex.text=TEXT.sexChild;this.allType=Game.config.movieShootType.getConfigList();this.m_typeList.itemRenderer=Laya.Handler.create(this,this.initTypeListItem,null,false);this.m_typeList.on(fairygui.Events.CLICK_ITEM,this,this.onClickItem);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_closeBtn.onClick(this,this.onClickClose);this.m_filminfBtn.onClick(this,function(){_this.moduleMain.openSubwindowByIndex(Games.WarSubwindowType.FilmInfo,true)})};WarSelectFilmType.prototype.onClickOkBtn=function(){var _this=this;if(this.selectType>-1){Game.moduleModel.warData.setSelectType(this.selectType,function(){_this.moduleMain.conent.subWindowToMain()});this.moduleWindow.closeSelf()}else{Game.system.toastText(TEXT.SelectTypeNone)}};WarSelectFilmType.prototype.onClickClose=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarSelectFilmType.prototype.onWindowShow=function(){this.setData()};WarSelectFilmType.prototype.onWindowHide=function(){};WarSelectFilmType.prototype.setData=function(){if(Game.moduleModel.building.getRoomLevel(Games.RoomType.Market)>0){var man=Game.moduleModel.warData.moveData.expected[0];var woman=Game.moduleModel.warData.moveData.expected[1];var child=Game.moduleModel.warData.moveData.expected[2];this.m_curMarket.visible=true;this.m_men.m_title.text=man+"%";this.m_women.m_title.text=woman+"%";this.m_child.m_title.text=child+"%"}else{this.m_curMarket.visible=false;this.m_men.visible=false;this.m_women.visible=false;this.m_child.visible=false}this.moduleMain=this.moduleWindow.mainWindow;this.selectType=-1;this.allType=Game.config.movieShootType.getConfigList();this.m_typeList.clearSelection();this.m_typeList.numItems=this.allType.length;this.m_typeList.scrollToView(0)};WarSelectFilmType.prototype.initTypeListItem=function(index,obj){var item=obj;item.setData(this.allType[index],index)};WarSelectFilmType.prototype.onClickItem=function(obj){var index=this.m_typeList.getChildIndex(obj);this.selectType=this.allType[index].id};return WarSelectFilmType}(WarMovie.WarSelectFilmTypeStruct));WarMovie.WarSelectFilmType=WarSelectFilmType})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarShangYingProgressStruct=(function(_super){__extends(WarShangYingProgressStruct,_super);function WarShangYingProgressStruct(){return _super.call(this)||this}WarShangYingProgressStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarShangYingProgress"))};WarShangYingProgressStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_bar_v=(this.getChild("bar_v"))};WarShangYingProgressStruct.URL="ui://y6ozucp1qbxl78";WarShangYingProgressStruct.DependPackages=["WarMovie"];return WarShangYingProgressStruct}(fairygui.GProgressBar));WarMovie.WarShangYingProgressStruct=WarShangYingProgressStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarShangYingProgress=(function(_super){__extends(WarShangYingProgress,_super);function WarShangYingProgress(){return _super!==null&&_super.apply(this,arguments)||this}return WarShangYingProgress}(WarMovie.WarShangYingProgressStruct));WarMovie.WarShangYingProgress=WarShangYingProgress})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSQViewItemStruct=(function(_super){__extends(WarSQViewItemStruct,_super);function WarSQViewItemStruct(){return _super.call(this)||this}WarSQViewItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarSQViewItem"))};WarSQViewItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"));this.m_progress=(this.getChild("progress"));this.m_average=(this.getChild("average"))};WarSQViewItemStruct.URL="ui://y6ozucp1qbxl6r";WarSQViewItemStruct.DependPackages=["WarMovie","System","Common"];return WarSQViewItemStruct}(fairygui.GLabel));WarMovie.WarSQViewItemStruct=WarSQViewItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarSQViewItem=(function(_super){__extends(WarSQViewItem,_super);function WarSQViewItem(){return _super!==null&&_super.apply(this,arguments)||this}WarSQViewItem.prototype.setData=function(index,maxVal){var getPropertyList=Game.config.property.getPropertyList();var moveData=Game.moduleModel.warData.moveData;this.m_progress.max=maxVal;this.m_progress.value=0;var curVal=moveData.attribute[index];if(curVal>maxVal){this.m_progress.max=curVal}laya.utils.Tween.to(this.m_progress,{value:curVal},2000,Laya.Ease.linearIn,null);this.m_average.max=maxVal;this.m_average.value=moveData.avrAttribute[index];this.m_average.m_tip.text=format(TEXT.FilmAverage,moveData.avrAttribute[index])};return WarSQViewItem}(WarMovie.WarSQViewItemStruct));WarMovie.WarSQViewItem=WarSQViewItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTapeStruct=(function(_super){__extends(WarTapeStruct,_super);function WarTapeStruct(){return _super.call(this)||this}WarTapeStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTape"))};WarTapeStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_t1=this.getTransition("t1")};WarTapeStruct.URL="ui://y6ozucp1qbxl77";WarTapeStruct.DependPackages=["WarMovie","Common"];return WarTapeStruct}(fairygui.GComponent));WarMovie.WarTapeStruct=WarTapeStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTape=(function(_super){__extends(WarTape,_super);function WarTape(){return _super!==null&&_super.apply(this,arguments)||this}return WarTape}(WarMovie.WarTapeStruct));WarMovie.WarTape=WarTape})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetFailedStruct=(function(_super){__extends(WarTargetFailedStruct,_super);function WarTargetFailedStruct(){return _super.call(this)||this}WarTargetFailedStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTargetFailed"))};WarTargetFailedStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_target1=(this.getChild("target1"));this.m_target2=(this.getChild("target2"));this.m_okBtn=(this.getChild("okBtn"))};WarTargetFailedStruct.URL="ui://y6ozucp1qbxl9t";WarTargetFailedStruct.DependPackages=["WarMovie","Fx"];return WarTargetFailedStruct}(fairygui.GComponent));WarMovie.WarTargetFailedStruct=WarTargetFailedStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetFailed=(function(_super){__extends(WarTargetFailed,_super);function WarTargetFailed(){return _super!==null&&_super.apply(this,arguments)||this}WarTargetFailed.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.onClick(this,this.onClickClose)};WarTargetFailed.prototype.onClickClose=function(){if(this.callBack!==null){this.callBack()}this.visible=false};WarTargetFailed.prototype.setData=function(propertyReward,haveNum,okList,callBack){Games.WarLoadPic.setIcon(this.m_target1.m_icon,propertyReward[0]);this.m_target1.m_title.text=haveNum[0]+"/"+okList[0];if(haveNum[0]>=okList[0]){this.m_target1.m_c1.setSelectedIndex(0)}else{this.m_target1.m_c1.setSelectedIndex(1)}Games.WarLoadPic.setIcon(this.m_target2.m_icon,propertyReward[1]);this.m_target2.m_title.text=haveNum[1]+"/"+okList[1];if(haveNum[1]>=okList[1]){this.m_target2.m_c1.setSelectedIndex(0)}else{this.m_target2.m_c1.setSelectedIndex(1)}this.callBack=callBack;this.m_tip.text=Game.config.msg.getConfig(MsgKey.movie_target_fail).notice;this.visible=true};return WarTargetFailed}(WarMovie.WarTargetFailedStruct));WarMovie.WarTargetFailed=WarTargetFailed})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetFailItemStruct=(function(_super){__extends(WarTargetFailItemStruct,_super);function WarTargetFailItemStruct(){return _super.call(this)||this}WarTargetFailItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTargetFailItem"))};WarTargetFailItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_c1=this.getController("c1");this.m_icon=(this.getChild("icon"));this.m_title=(this.getChild("title"))};WarTargetFailItemStruct.URL="ui://y6ozucp1qbxl9u";WarTargetFailItemStruct.DependPackages=["WarMovie","Common"];return WarTargetFailItemStruct}(fairygui.GLabel));WarMovie.WarTargetFailItemStruct=WarTargetFailItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetFailItem=(function(_super){__extends(WarTargetFailItem,_super);function WarTargetFailItem(){return _super!==null&&_super.apply(this,arguments)||this}return WarTargetFailItem}(WarMovie.WarTargetFailItemStruct));WarMovie.WarTargetFailItem=WarTargetFailItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetSuccesStruct=(function(_super){__extends(WarTargetSuccesStruct,_super);function WarTargetSuccesStruct(){return _super.call(this)||this}WarTargetSuccesStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTargetSucces"))};WarTargetSuccesStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon1=(this.getChild("icon1"));this.m_icon2=(this.getChild("icon2"));this.m_val1=(this.getChild("val1"));this.m_val2=(this.getChild("val2"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_okBtn=(this.getChild("okBtn"))};WarTargetSuccesStruct.URL="ui://y6ozucp1qbxl9s";WarTargetSuccesStruct.DependPackages=["WarMovie","Fx","Common"];return WarTargetSuccesStruct}(fairygui.GComponent));WarMovie.WarTargetSuccesStruct=WarTargetSuccesStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTargetSucces=(function(_super){__extends(WarTargetSucces,_super);function WarTargetSucces(){return _super!==null&&_super.apply(this,arguments)||this}WarTargetSucces.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.onClick(this,this.onClickClose)};WarTargetSucces.prototype.onClickClose=function(){if(this.starUpdate&&this.starUpdate!==null){this.starUpdate()}this.visible=false};WarTargetSucces.prototype.setData=function(data,starUpdate,title){if(title===void 0){title=null}this.m_icon1.icon=Games.WarLoadPic.getItemIcon(data[0].itemId);this.m_val1.text=data[0].itemNum.toFixed(0);if(data.length>1){this.m_icon2.icon=Games.WarLoadPic.getItemIcon(data[1].itemId);this.m_val2.text=data[1].itemNum.toFixed(0);this.m_icon2.visible=true;this.m_val2.visible=true}else{this.m_icon2.visible=false;this.m_val2.visible=false}this.starUpdate=starUpdate;this.visible=true};return WarTargetSucces}(WarMovie.WarTargetSuccesStruct));WarMovie.WarTargetSucces=WarTargetSucces})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTipStruct=(function(_super){__extends(WarTipStruct,_super);function WarTipStruct(){return _super.call(this)||this}WarTipStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTip"))};WarTipStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tip=(this.getChild("tip"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_des=(this.getChild("des"));this.m_t0=this.getTransition("t0")};WarTipStruct.URL="ui://y6ozucp1qbxl9e";WarTipStruct.DependPackages=["WarMovie"];return WarTipStruct}(fairygui.GComponent));WarMovie.WarTipStruct=WarTipStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTip=(function(_super){__extends(WarTip,_super);function WarTip(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.haveClose=false;return _this}WarTip.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.clickCloseBtn)};WarTip.prototype.clickCloseBtn=function(){if(!this.haveClose){this.haveClose=true;this.m_t0.playReverse(Handler.create(this,this.close))}};WarTip.prototype.close=function(){if(this.okFunc&&this.okFunc!==null){this.okFunc()}this.visible=false};WarTip.prototype.setData=function(content,okFunc){this.haveClose=false;this.okFunc=okFunc;this.m_des.text=content;this.visible=true;this.m_t0.play(null,1)};return WarTip}(WarMovie.WarTipStruct));WarMovie.WarTip=WarTip})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTipKuangStruct=(function(_super){__extends(WarTipKuangStruct,_super);function WarTipKuangStruct(){return _super.call(this)||this}WarTipKuangStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarTipKuang"))};WarTipKuangStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"))};WarTipKuangStruct.URL="ui://y6ozucp1qbxl9f";WarTipKuangStruct.DependPackages=["WarMovie","Common"];return WarTipKuangStruct}(fairygui.GLabel));WarMovie.WarTipKuangStruct=WarTipKuangStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarTipKuang=(function(_super){__extends(WarTipKuang,_super);function WarTipKuang(){return _super!==null&&_super.apply(this,arguments)||this}return WarTipKuang}(WarMovie.WarTipKuangStruct));WarMovie.WarTipKuang=WarTipKuang})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarXKHuifuStruct=(function(_super){__extends(WarXKHuifuStruct,_super);function WarXKHuifuStruct(){return _super.call(this)||this}WarXKHuifuStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarXKHuifu"))};WarXKHuifuStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_need=(this.getChild("need"));this.m_icon=(this.getChild("icon"));this.m_num=(this.getChild("num"));this.m_topTIp=(this.getChild("topTIp"));this.m_icon2=(this.getChild("icon2"));this.m_time=(this.getChild("time"));this.m_bottomTip=(this.getChild("bottomTip"));this.m_closeBtn=(this.getChild("closeBtn"))};WarXKHuifuStruct.URL="ui://y6ozucp1qbxl8k";WarXKHuifuStruct.DependPackages=["WarMovie","Common","PlayerInfo","MainUI"];return WarXKHuifuStruct}(fairygui.GComponent));WarMovie.WarXKHuifuStruct=WarXKHuifuStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarXKHuifu=(function(_super){__extends(WarXKHuifu,_super);function WarXKHuifu(){return _super!==null&&_super.apply(this,arguments)||this}WarXKHuifu.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_closeBtn.onClick(this,this.onClickOkBtn)};WarXKHuifu.prototype.onClickOkBtn=function(){this.moduleWindow.closeSelf();this.moduleMain.menuClose()};WarXKHuifu.prototype.onWindowShow=function(){this.setData();Game.moduleModel.warData.sUpdateLicenceForTime.add(this.onUpdateTime,this)};WarXKHuifu.prototype.onWindowHide=function(){Game.moduleModel.warData.sUpdateLicenceForTime.remove(this.onUpdateTime,this)};WarXKHuifu.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;var itemId=Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value;this.m_icon.icon=Games.WarLoadPic.getItemIcon(itemId);var itemConf=Game.config.item.getConfig(itemId);this.m_bottomTip.text=format(Game.config.msg.getConfig(MsgKey.movie_licence_get_tips).notice,Game.config.global.getConfig(GlobalKey.Licence_Restore_Max).value,Game.moduleModel.warData.licenceData.dailyCount);this.m_title.text=format(Game.config.msg.getConfig(MsgKey.build_non_material).notice,itemConf.name);this.onUpdateTime()};WarXKHuifu.prototype.onUpdateTime=function(){if(Game.moduleModel.warData.preLicenceAddWithCD<1){if(Game.moduleModel.warData.licenceSubTime>0){this.m_time.text=TimeHelper.TimeFormat3(Game.moduleModel.warData.licenceSubTime)}else{this.m_time.text="0"}}else{this.onClickOkBtn()}};return WarXKHuifu}(WarMovie.WarXKHuifuStruct));WarMovie.WarXKHuifu=WarXKHuifu})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarXukezhengOverStruct=(function(_super){__extends(WarXukezhengOverStruct,_super);function WarXukezhengOverStruct(){return _super.call(this)||this}WarXukezhengOverStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarXukezhengOver"))};WarXukezhengOverStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"));this.m_getTip=(this.getChild("getTip"));this.m_title=(this.getChild("title"));this.m_okBtn=(this.getChild("okBtn"))};WarXukezhengOverStruct.URL="ui://y6ozucp1qbxl97";WarXukezhengOverStruct.DependPackages=["WarMovie","Common"];return WarXukezhengOverStruct}(fairygui.GComponent));WarMovie.WarXukezhengOverStruct=WarXukezhengOverStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarXukezhengOver=(function(_super){__extends(WarXukezhengOver,_super);function WarXukezhengOver(){return _super!==null&&_super.apply(this,arguments)||this}WarXukezhengOver.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.SysTipTitle;this.m_okBtn.onClick(this,this.onClickOkBtn)};WarXukezhengOver.prototype.onClickOkBtn=function(){this.moduleWindow.menuBack()};WarXukezhengOver.prototype.onWindowShow=function(){this.setData()};WarXukezhengOver.prototype.onWindowHide=function(){};WarXukezhengOver.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_icon.icon=Games.WarLoadPic.getItemIcon(4);this.m_getTip.text=format(Game.config.msg.getConfig(MsgKey.movie_licence_finish_tips).notice,Game.config.global.getConfig(GlobalKey.Licence_Restore_Time).value)};return WarXukezhengOver}(WarMovie.WarXukezhengOverStruct));WarMovie.WarXukezhengOver=WarXukezhengOver})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRCostItemStruct=(function(_super){__extends(WarYRCostItemStruct,_super);function WarYRCostItemStruct(){return _super.call(this)||this}WarYRCostItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarYRCostItem"))};WarYRCostItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_juese=(this.getChild("juese"));this.m_name=(this.getChild("name"));this.m_costText=(this.getChild("costText"));this.m_costIcon=(this.getChild("costIcon"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};WarYRCostItemStruct.URL="ui://y6ozucp1r0zd3g";WarYRCostItemStruct.DependPackages=["WarMovie","Common"];return WarYRCostItemStruct}(fairygui.GComponent));WarMovie.WarYRCostItemStruct=WarYRCostItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRCostItem=(function(_super){__extends(WarYRCostItem,_super);function WarYRCostItem(){return _super!==null&&_super.apply(this,arguments)||this}WarYRCostItem.prototype.setData=function(data,conf){this.m_costText.text=formatNumberUnit(data.PayForFilming(conf.type),1);this.m_juese.text=conf.getType;this.m_star.m_starList.numItems=data.star;this.m_icon.setIcon(Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl);this.m_name.text=data.name;Game.system.playSkillEffect(data.id,Games.SkillTriggerType.actor_paycheck)};return WarYRCostItem}(WarMovie.WarYRCostItemStruct));WarMovie.WarYRCostItem=WarYRCostItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRFilmItemStruct=(function(_super){__extends(WarYRFilmItemStruct,_super);function WarYRFilmItemStruct(){return _super.call(this)||this}WarYRFilmItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarYRFilmItem"))};WarYRFilmItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_tipBg=(this.getChild("tipBg"));this.m_tip=(this.getChild("tip"));this.m_attList=(this.getChild("attList"));this.m_icon=(this.getChild("icon"));this.m_star=(this.getChild("star"))};WarYRFilmItemStruct.URL="ui://y6ozucp1r0zd3u";WarYRFilmItemStruct.DependPackages=["WarMovie"];return WarYRFilmItemStruct}(fairygui.GButton));WarMovie.WarYRFilmItemStruct=WarYRFilmItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRFilmItem=(function(_super){__extends(WarYRFilmItem,_super);function WarYRFilmItem(){return _super!==null&&_super.apply(this,arguments)||this}WarYRFilmItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_attList.itemRenderer=Laya.Handler.create(this,this.initItem,null,false)};WarYRFilmItem.prototype.setData=function(data,index,aggreementList,over){this.attributeUpTip=new Array();this.m_tip.text="";this.m_tipBg.visible=false;this.m_attList.numItems=0;this.m_icon.setIcon(Game.config.avatar.getConfig(data.config.avatar).bodyIconUrl);this.m_star.m_starList.numItems=data.star;var str=Game.config.msg.getConfig(MsgKey.movie_none_coordination).notice;if(aggreementList){if(aggreementList.length>0){var haveStory=false;var haveCharter=false;for(var i=0;i<aggreementList.length;i++){var canAdd=true;for(var k=0;k<this.attributeUpTip.length;k++){if(this.attributeUpTip[k].icon===aggreementList[i].attribute){canAdd=false}}if(canAdd){if(aggreementList[i].type===1||aggreementList[i].type===2){haveStory=true;var aut=new AttributeUpTip();aut.icon=aggreementList[i].attribute;aut.str=Game.config.msg.getConfig(MsgKey.movie_story_coordination_tips).notice;this.attributeUpTip.push(aut)}if(aggreementList[i].type===3){haveCharter=true;var aut=new AttributeUpTip();aut.icon=aggreementList[i].attribute;aut.str=Game.config.msg.getConfig(MsgKey.movie_character_coordination_tips).notice;this.attributeUpTip.push(aut)}}}if(haveStory&&haveCharter){str=Game.config.msg.getConfig(MsgKey.movie_story_character_coordination).notice}else{if(haveStory){str=Game.config.msg.getConfig(MsgKey.movie_story_coordination).notice}else{str=Game.config.msg.getConfig(MsgKey.movie_character_coordination).notice}}this.m_attList.numItems=this.attributeUpTip.length}if(over){this.m_tip.text=str;if(str.length>1){this.m_tipBg.visible=true}}}else{if(over){this.m_tip.text=str;if(str.length>1){this.m_tipBg.visible=true}}}};WarYRFilmItem.prototype.initItem=function(index,obj){var item=obj;if(this.attributeUpTip&&this.attributeUpTip.length>index){item.setData(this.attributeUpTip[index])}};return WarYRFilmItem}(WarMovie.WarYRFilmItemStruct));WarMovie.WarYRFilmItem=WarYRFilmItem;var AttributeUpTip=(function(){function AttributeUpTip(){}return AttributeUpTip}());WarMovie.AttributeUpTip=AttributeUpTip})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRForFilmStruct=(function(_super){__extends(WarYRForFilmStruct,_super);function WarYRForFilmStruct(){return _super.call(this)||this}WarYRForFilmStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarYRForFilm"))};WarYRForFilmStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_type=(this.getChild("type"));this.m_resultList=(this.getChild("resultList"));this.m_closeBtn=(this.getChild("closeBtn"));this.m_bubble4=(this.getChild("bubble4"));this.m_bubble6=(this.getChild("bubble6"));this.m_bubble0=(this.getChild("bubble0"));this.m_bubble1=(this.getChild("bubble1"));this.m_bubble3=(this.getChild("bubble3"));this.m_bubble2=(this.getChild("bubble2"));this.m_bubble7=(this.getChild("bubble7"));this.m_bubble5=(this.getChild("bubble5"));this.m_icon=(this.getChild("icon"));this.m_skipBtn=(this.getChild("skipBtn"));this.m_okBtn=(this.getChild("okBtn"));this.m_t0=this.getTransition("t0")};WarYRForFilmStruct.URL="ui://y6ozucp1r0zd3s";WarYRForFilmStruct.DependPackages=["WarMovie","Common"];return WarYRForFilmStruct}(fairygui.GComponent));WarMovie.WarYRForFilmStruct=WarYRForFilmStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var Agreement=(function(){function Agreement(){}return Agreement}());WarMovie.Agreement=Agreement;var WarYRForFilm=(function(_super){__extends(WarYRForFilm,_super);function WarYRForFilm(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.currIndexOf=0;_this.agreDic=new Dictionary();_this.curBulleIndexOf=0;_this.agreementList=new Array();_this.bubbleList=new Array();_this.bubbleX=new Array();_this.bubbleY=new Array();_this.speed=700;_this.isSkipAni=false;_this.flyIndexOf=0;_this.overDic=new Dictionary();return _this}WarYRForFilm.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.ActorForFilmTitle;this.bubbleList=[this.m_bubble0,this.m_bubble1,this.m_bubble2,this.m_bubble3,this.m_bubble4,this.m_bubble5,this.m_bubble6,this.m_bubble7];this.bubbleX=[this.m_bubble0.x,this.m_bubble1.x,this.m_bubble2.x,this.m_bubble3.x,this.m_bubble4.x,this.m_bubble5.x,this.m_bubble6.x,this.m_bubble7.x];this.bubbleY=[this.m_bubble0.y,this.m_bubble1.y,this.m_bubble2.y,this.m_bubble3.y,this.m_bubble4.y,this.m_bubble5.y,this.m_bubble6.y,this.m_bubble7.y];this.m_resultList.itemRenderer=Laya.Handler.create(this,this.yrForFilmItem,null,false);this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_skipBtn.onClick(this,this.onskipAniShowResult);this.m_closeBtn.onClick(this,this.onClickCloseBtn)};WarYRForFilm.prototype.onClickCloseBtn=function(){this.moduleWindow.menuBack()};WarYRForFilm.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarYRForFilm.prototype.onClickClose=function(){this.moduleWindow.closeSelf()};WarYRForFilm.prototype.onWindowShow=function(){this.setData()};WarYRForFilm.prototype.onWindowHide=function(){this.hideBubble()};WarYRForFilm.prototype.setData=function(){this.isSkipAni=false;this.overDic.clear();this.m_okBtn.visible=false;this.moduleMain=this.moduleWindow.mainWindow;this.currIndexOf=0;this.m_resultList.numItems=0;this.agreDic.clear();var list=Game.moduleModel.warData.curYRList;var keyList=list.getKeys();var counts=0;this.charact=new Dictionary();this.actorList=new Dictionary();for(var i=0;i<keyList.length;i++){var val=list.getValue(keyList[i]);if(val.id!==9999){var charactItem=Game.moduleModel.warData.moveStory.characterProperty[i];this.charact.add(counts,charactItem);this.actorList.add(counts,val);counts++}}this.showYRNext()};WarYRForFilm.prototype.showYRNext=function(){if(this.currIndexOf<=this.actorList.count){if(this.currIndexOf<this.actorList.count){this.hideBubble();Game.sound.playSound(SoundKey.MM21_ArtistAccord);this.m_resultList.numItems=this.currIndexOf;this.m_type.text=this.charact.getValue(this.currIndexOf).getType;this.m_icon.setIcon(Games.WarLoadPic.getActorIcon(this.actorList.getValue(this.currIndexOf).config.avatar));this.curBulleIndexOf=0;if(this.isSkipAni){this.m_t0.stop();this.showBubbleList()}else{this.m_t0.play(laya.utils.Handler.create(this,this.showBubbleList),1)}}else{this.m_resultList.numItems=this.currIndexOf;this.m_okBtn.visible=true}}};WarYRForFilm.prototype.hideBubble=function(){for(var i=0;i<this.bubbleList.length;i++){this.bubbleList[i].visible=false}if(this.tweenTarget&&this.tweenTarget!=null){laya.utils.Tween.clearAll(this.tweenTarget);this.tweenTarget=null}};WarYRForFilm.prototype.onskipAniShowResult=function(){if(!this.isSkipAni){this.isSkipAni=true}};WarYRForFilm.prototype.showBubbleList=function(){var _this=this;if(this.curBulleIndexOf===0){this.agreementList=this.checkBubble()}if(this.curBulleIndexOf<this.agreementList.length){var cur=this.bubbleList[this.curBulleIndexOf];cur.setXY(160,250);cur.setData(this.agreementList[this.curBulleIndexOf]);cur.visible=true;if(this.isSkipAni){this.tweenTarget=null;cur.setXY(this.bubbleX[this.curBulleIndexOf],this.bubbleY[this.curBulleIndexOf]);this.curBulleIndexOf++;this.showBubbleList()}else{this.tweenTarget=cur;laya.utils.Tween.to(cur,{x:this.bubbleX[this.curBulleIndexOf],y:this.bubbleY[this.curBulleIndexOf]},(this.bubbleX[this.curBulleIndexOf]-160)/this.speed*1000,Laya.Ease.linearIn,Handler.create(this,function(){_this.tweenTarget=null;_this.showBubbleList()}));this.curBulleIndexOf++}}else{this.currIndexOf++;this.overDic.add(this.currIndexOf-1,false);this.m_resultList.numItems=this.currIndexOf;this.flyIndexOf=0;if(this.isSkipAni){this.flyActorList()}else{setTimeout(function(){_this.flyActorList()},700)}}};WarYRForFilm.prototype.flyActorList=function(){var _this=this;if(this.flyIndexOf<this.agreementList.length){var cur_1=this.bubbleList[this.flyIndexOf];var target=this.m_resultList.getChildAt(this.currIndexOf-1);if(this.isSkipAni){this.tweenTarget=null;var aggList=this.agreDic.getValue(this.currIndexOf-1);if(!aggList||aggList===null){aggList=new Array()}aggList.push(this.agreementList[this.flyIndexOf]);this.agreDic.add(this.currIndexOf-1,aggList);this.flyIndexOf++;this.m_resultList.numItems=this.currIndexOf;cur_1.visible=false;this.flyActorList()}else{var dur=(target.localToGlobal().y-cur_1.y)/(this.speed*1.3)*1000;this.tweenTarget=cur_1;laya.utils.Tween.to(cur_1,{y:target.localToGlobal().y},dur,Laya.Ease.linearIn,Handler.create(this,function(){_this.tweenTarget=null;var aggList=_this.agreDic.getValue(_this.currIndexOf-1);if(!aggList||aggList===null){aggList=new Array()}aggList.push(_this.agreementList[_this.flyIndexOf]);_this.agreDic.add(_this.currIndexOf-1,aggList);_this.flyIndexOf++;_this.m_resultList.numItems=_this.currIndexOf;cur_1.visible=false;_this.flyActorList()}))}}else{this.overDic.add(this.currIndexOf-1,true);this.showYRNext()}};WarYRForFilm.prototype.yrForFilmItem=function(index,obj){if(index===this.currIndexOf-1){var item=obj;item.setData(this.actorList.getValue(index),index,this.agreDic.getValue(index),this.overDic.getValue(index))}};WarYRForFilm.prototype.checkBubble=function(){var agreementList=new Array();var actor=this.actorList.getValue(this.currIndexOf);var actorType=actor.config.story_type;var actorFeature=actor.config.story_feature;var actorCharacter=actor.config.character;var story=Game.moduleModel.warData.moveStory;var reqCaracters=this.charact.getValue(this.currIndexOf);var cTags=reqCaracters.tags;for(var i=0;i<actorType.length;i++){if(actorType[i].story===story.type){var canAdd=true;for(var k=0;k<agreementList.length;k++){if(agreementList[k].id===actorType[i].story){canAdd=false}}if(canAdd){var aggree=new Agreement();aggree.type=1;aggree.id=actorType[i].story;aggree.lv=actorType[i].lv;aggree.strTip=Game.config.property.getConfig(actorType[i].story).name;aggree.attribute=actorType[i].property;agreementList.push(aggree)}}}for(var i=0;i<actorFeature.length;i++){for(var j=0;j<story.tags.length;j++){if(story.tags[j]===actorFeature[i].feature){var canAdd=true;for(var k=0;k<agreementList.length;k++){if(agreementList[k].id===actorFeature[i].feature){canAdd=false}}if(canAdd){var aggree=new Agreement();aggree.type=2;aggree.id=actorFeature[i].feature;aggree.lv=actorFeature[i].lv;aggree.strTip=Game.config.property.getConfig(actorFeature[i].feature).name;aggree.attribute=actorFeature[i].property;agreementList.push(aggree)}}}}for(var i=0;i<actorCharacter.length;i++){for(var j=0;j<cTags.length;j++){if(cTags[j]===actorCharacter[i].character){var canAdd=true;for(var k=0;k<agreementList.length;k++){if(agreementList[k].id===actorCharacter[i].character){canAdd=false}}if(canAdd){var aggree=new Agreement();aggree.type=3;aggree.id=actorCharacter[i].character;aggree.lv=actorCharacter[i].lv;aggree.strTip=Game.config.property.getConfig(actorCharacter[i].character).name;aggree.attribute=actorCharacter[i].property;agreementList.push(aggree)}}}}return agreementList};return WarYRForFilm}(WarMovie.WarYRForFilmStruct));WarMovie.WarYRForFilm=WarYRForFilm})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRNoticeItemStruct=(function(_super){__extends(WarYRNoticeItemStruct,_super);function WarYRNoticeItemStruct(){return _super.call(this)||this}WarYRNoticeItemStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarYRNoticeItem"))};WarYRNoticeItemStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_selected=this.getController("selected");this.m_icon=(this.getChild("icon"));this.m_lv=(this.getChild("lv"));this.m_title=(this.getChild("title"));this.m_yr1=(this.getChild("yr1"));this.m_yr2=(this.getChild("yr2"));this.m_okBtn=(this.getChild("okBtn"))};WarYRNoticeItemStruct.URL="ui://y6ozucp1moqedn";WarYRNoticeItemStruct.DependPackages=["WarMovie","Common"];return WarYRNoticeItemStruct}(fairygui.GComponent));WarMovie.WarYRNoticeItemStruct=WarYRNoticeItemStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRNoticeItem=(function(_super){__extends(WarYRNoticeItem,_super);function WarYRNoticeItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mediaId=0;_this.actorData=new Array();return _this}WarYRNoticeItem.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_okBtn.m_title.text=TEXT.ButtonSelect};WarYRNoticeItem.prototype.setData=function(index,actor,selectNotice){this.actorData=actor;var media=Game.moduleModel.warData.moveData.mediaVisit[index];this.mediaId=media.mediaId;this.mediaConfig=Game.config.movieMediaVisit.getConfig(this.mediaId);this.m_icon.icon=Games.WarLoadPic.getAvatarIcon(this.mediaConfig.pic);this.m_lv.text=format(TEXT.Lv,media.level);this.m_title.text=this.mediaConfig.name;this.m_yr1.setIcon(Games.WarLoadPic.getActorIcon(actor[0].config.avatar));if(actor.length==2){this.m_yr2.setIcon(Games.WarLoadPic.getActorIcon(actor[1].config.avatar));this.m_yr2.visible=true}else{this.m_yr2.visible=false}var curNum=Game.moduleModel.item.getItemNum(this.mediaConfig.cost_id);if(curNum>=this.mediaConfig.cost_num){this.canClick=true;this.m_okBtn.m_colorCtrol.setSelectedIndex(0)}else{this.m_okBtn.m_colorCtrol.setSelectedIndex(1);this.canClick=false}if(media.bAccept){this.m_selected.setSelectedIndex(1)}else{this.m_selected.setSelectedIndex(0)}this.m_okBtn.m_cost.text=formatNumberUnit(this.mediaConfig.cost_num);this.m_okBtn.m_item.icon=Games.WarLoadPic.getItemIcon(this.mediaConfig.cost_id);this.m_okBtn.onClick(this,this.onClickSelectNotice,[selectNotice])};WarYRNoticeItem.prototype.onClickSelectNotice=function(selectNotice){if(this.canClick){selectNotice(this.mediaId,this.actorData)}else{Game.system.openItemWay(this.mediaConfig.cost_id,this.mediaConfig.cost_num)}};return WarYRNoticeItem}(WarMovie.WarYRNoticeItemStruct));WarMovie.WarYRNoticeItem=WarYRNoticeItem})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRProficiencyStruct=(function(_super){__extends(WarYRProficiencyStruct,_super);function WarYRProficiencyStruct(){return _super.call(this)||this}WarYRProficiencyStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","WarYRProficiency"))};WarYRProficiencyStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title=(this.getChild("title"));this.m_icon=(this.getChild("icon"));this.m_filmName=(this.getChild("filmName"));this.m_actorList=(this.getChild("actorList"));this.m_filmDes=(this.getChild("filmDes"));this.m_okBtn=(this.getChild("okBtn"))};WarYRProficiencyStruct.URL="ui://y6ozucp1qbxl6f";WarYRProficiencyStruct.DependPackages=["WarMovie","Common"];return WarYRProficiencyStruct}(fairygui.GComponent));WarMovie.WarYRProficiencyStruct=WarYRProficiencyStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var WarYRProficiency=(function(_super){__extends(WarYRProficiency,_super);function WarYRProficiency(){return _super!==null&&_super.apply(this,arguments)||this}WarYRProficiency.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_title.text=TEXT.FilmProficiencyTitle;this.m_okBtn.onClick(this,this.onClickOkBtn);this.m_actorList.itemRenderer=Laya.Handler.create(this,this.initYRItem,null,false)};WarYRProficiency.prototype.onClickOkBtn=function(){var _this=this;this.moduleWindow.closeSelf();Game.moduleModel.warData.sendUpdateMovieState(function(){_this.moduleMain.conent.subWindowToMain()})};WarYRProficiency.prototype.onClickClose=function(){this.moduleWindow.closeSelf()};WarYRProficiency.prototype.onWindowShow=function(){Game.moduleModel.warData.sProficiencyUpdate.add(this.updateList,this);this.setData()};WarYRProficiency.prototype.onWindowHide=function(){Game.moduleModel.warData.sProficiencyUpdate.add(this.updateList,this)};WarYRProficiency.prototype.updateList=function(){this.m_okBtn.visible=true};WarYRProficiency.prototype.setData=function(){this.moduleMain=this.moduleWindow.mainWindow;this.m_okBtn.visible=false;var typetip="";var types=Game.config.movieShootType.getConfigList();var tips=Game.config.msg.getConfig(MsgKey.movie_type_tips).notice;var curType;for(var i=0;i<types.length;i++){if(types[i].id==Game.moduleModel.warData.moveData.type){curType=types[i];break}}this.m_filmName.text=format(Game.config.msg.getConfig(MsgKey.movie_type_addition).notice,curType.getName);this.m_filmDes.setData(curType.getLove);this.m_icon.icon=Game.config.avatar.getConfig(curType.pic).iconUrl;this.m_actorList.numItems=Game.moduleModel.warData.getRealYRList.count};WarYRProficiency.prototype.initYRItem=function(index,obj){var item=obj;item.setData(Game.moduleModel.warData.getRealYRList.getValue(index),index)};return WarYRProficiency}(WarMovie.WarYRProficiencyStruct));WarMovie.WarYRProficiency=WarYRProficiency})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ZhuIconStruct=(function(_super){__extends(ZhuIconStruct,_super);function ZhuIconStruct(){return _super.call(this)||this}ZhuIconStruct.createInstance=function(){return(fairygui.UIPackage.createObject("WarMovie","ZhuIcon"))};ZhuIconStruct.prototype.constructFromXML=function(xml){_super.prototype.constructFromXML.call(this,xml);this.m_icon=(this.getChild("icon"))};ZhuIconStruct.URL="ui://y6ozucp1jkgadz";ZhuIconStruct.DependPackages=["WarMovie","Common"];return ZhuIconStruct}(fairygui.GLabel));WarMovie.ZhuIconStruct=ZhuIconStruct})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var WarMovie;(function(WarMovie){var ZhuIcon=(function(_super){__extends(ZhuIcon,_super);function ZhuIcon(){return _super!==null&&_super.apply(this,arguments)||this}return ZhuIcon}(WarMovie.ZhuIconStruct));WarMovie.ZhuIcon=ZhuIcon})(WarMovie=fgui.WarMovie||(fgui.WarMovie={}))})(fgui||(fgui={}));var fgui;(function(fgui){var FguiComponentTemplete=(function(_super){__extends(FguiComponentTemplete,_super);function FguiComponentTemplete(){return _super!==null&&_super.apply(this,arguments)||this}FguiComponentTemplete.prototype.onWindowInited=function(){};FguiComponentTemplete.prototype.onWindowDestory=function(){};FguiComponentTemplete.prototype.onWindowShow=function(){};FguiComponentTemplete.prototype.onWindowHide=function(){};FguiComponentTemplete.prototype.onTabShow=function(){};FguiComponentTemplete.prototype.onTabHide=function(){};return FguiComponentTemplete}(fairygui.GComponent));fgui.FguiComponentTemplete=FguiComponentTemplete})(fgui||(fgui={}));var Games;(function(Games){var AssetManager=(function(){function AssetManager(){this.loadedAssets=new Dictionary()}AssetManager.prototype.loadConfig=function(path,callback){if(callback){var obj={onLoaded:function(){var txt=Laya.loader.getRes(path);callback(txt,path)}};Laya.loader.load(path,Handler.create(obj,obj.onLoaded),null,Loader.TEXT)}};AssetManager.prototype.unloadConfig=function(path){Laya.loader.clearRes(path,true)};AssetManager.prototype.loadList=function(list,onObj,onCompleteFun,onProgress){var count=list.length;var index=0;var callback={onComplete:function(isSuccess){var item=list[index];index++;if(onProgress){var rate=count>0?index/count:1;onProgress(rate,index,count,item)}if(index>=count){if(onCompleteFun){if(onObj){onCompleteFun.apply(onObj)}else{onCompleteFun()}}}},onProgress:function(val){}};if(list&&list.length>0){var assets=[];var item=void 0;for(var i=0;i<list.length;i++){item=list[i];if(!item){callback.onComplete(item)}switch(item.type){case Games.AssetItemType.FguiPackage:this.loadFguiByPackagename(item.url,callback,callback.onComplete);break;case Games.AssetItemType.FspritePackage:this.loadFSpriteByPackagename(item.url,callback,callback.onComplete);break;case Games.AssetItemType.Image:assets.push({url:item.url,type:Loader.IMAGE});break;case Games.AssetItemType.Buffer:assets.push({url:item.url,type:Loader.BUFFER});break;case Games.AssetItemType.Sound:assets.push({url:item.url,type:Loader.SOUND});break;case Games.AssetItemType.Text:assets.push({url:item.url,type:Loader.TEXT});break;case Games.AssetItemType.Json:assets.push({url:item.url,type:Loader.JSON});break;case Games.AssetItemType.Xml:assets.push({url:item.url,type:Loader.XML});break;case Games.AssetItemType.Font:assets.push({url:item.url,type:Loader.FONT});break;case Games.AssetItemType.TTF:assets.push({url:item.url,type:Loader.TTF});break;case Games.AssetItemType.PKM:assets.push({url:item.url,type:Loader.PKM});break}}if(assets.length>0){for(var j=0;j<assets.length;j++){if(this.loadedAssets.hasKey(assets[j].url)){callback.onComplete(true)}else{Laya.loader.load([assets[j]],Handler.create(callback,callback.onComplete),Handler.create(callback,callback.onProgress))}this.loadedAssets.add(assets[j].url,Game.time.localTime)}}}else{callback.onComplete(null)}};AssetManager.prototype.loadFguiByPackagename=function(packageName,caller,method){var packageConfig=Game.guiRes.getconfig(packageName);this.loadFgui(packageConfig,caller,method)};AssetManager.prototype.loadFSpriteByPackagename=function(packageName,caller,method){var packageConfig=Game.spriteRes.getconfig(packageName);this.loadFgui(packageConfig,caller,method)};AssetManager.prototype.loadFgui=function(packageConfig,caller,method){var callback={apply:function(){Games.GuiSetting.addPackage(packageConfig.packagePath,packageConfig);if(method){if(caller){return method.apply(caller,[packageConfig])}else{method(packageConfig)}}}};Games.GuiSetting.addPackageReferenceNum(packageConfig.packagePath);if(Games.GuiSetting.hasLoadPackage(packageConfig.packagePath)){callback.apply();return}Laya.loader.load(packageConfig.loadList,Handler.create(callback,callback.apply))};AssetManager.prototype.unloadFgui=function(packageName,forceDispose){if(forceDispose===undefined){forceDispose=false}var packageConfig=Game.guiRes.getconfig(packageName);if(!packageConfig){packageConfig=Game.spriteRes.getconfig(packageName)}if(packageConfig){var referenceNum=Games.GuiSetting.removePackageReferenceNum(packageConfig.packagePath);if(!forceDispose){if(referenceNum>0){return}}Games.GuiSetting.removePackage(packageConfig.packagePath,packageConfig);var list=packageConfig.loadList;for(var i=0;i<list.length;i++){console.log("==clearRes:"+list[i].url);Laya.loader.clearRes(list[i].url,forceDispose)}}};AssetManager.prototype.loadFx=function(path,caller,complete){Laya.loader.load(path,Handler.create(null,function(setting){if(complete){if(caller){complete.apply(caller,setting)}else{complete(setting)}}}),null,Loader.JSON)};return AssetManager}());Games.AssetManager=AssetManager})(Games||(Games={}));var Games;(function(Games){var ServerStateType;(function(ServerStateType){ServerStateType[ServerStateType.Close=0]="Close";ServerStateType[ServerStateType.Noraml=1]="Noraml"})(ServerStateType=Games.ServerStateType||(Games.ServerStateType={}));var ServerNoticType;(function(ServerNoticType){ServerNoticType[ServerNoticType.Normal=1]="Normal";ServerNoticType[ServerNoticType.StopServer=2]="StopServer"})(ServerNoticType||(ServerNoticType={}));var ChannelManager=(function(_super){__extends(ChannelManager,_super);function ChannelManager(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.serverListUrl="http://mbqb.ihaiu.com/GamePF/ServerList.json";_this.defaultServerItem={name:"QA",ip:"172.81.240.224",port:80,state:ServerStateType.Noraml,https:false,test:true};return _this}Object.defineProperty(ChannelManager.prototype,"noticUrl",{get:function(){if(this.serverItem){if(this.serverItem.https){return"https://"+this.serverItem.ip+"/notice.html"}else{return"http://"+this.serverItem.ip+"/notice.html"}}return"http://172.16.0.93/notice.html"},enumerable:true,configurable:true});ChannelManager.prototype.getServerItem=function(serverName){if(!serverName){return null}if(this.serverList){for(var i=0;i<this.serverList.list.length;i++){if(this.serverList.list[i].name==serverName){return this.serverList.list[i]}}}return null};Object.defineProperty(ChannelManager.prototype,"serverName",{get:function(){if(!this._serverName){if(Game.localStorage.serverName){var item=this.getServerItem(Game.localStorage.serverName);if(item){this._serverName=Game.localStorage.serverName}}else{if(this.serverList){var item=this.getServerItem(this.serverList.defaultServer);if(item){this._serverName=this.serverList.defaultServer}else{if(this.serverList.list.length>0){this._serverName=this.serverList.list[0].name}}}}}return this._serverName},set:function(name){this._serverName=name;Game.localStorage.serverName=name},enumerable:true,configurable:true});Object.defineProperty(ChannelManager.prototype,"serverIndex",{get:function(){if(this.serverList){for(var i=0;i<this.serverList.list.length;i++){if(this.serverList.list[i].name==this.serverName){return i}}}return -1},enumerable:true,configurable:true});Object.defineProperty(ChannelManager.prototype,"serverItem",{get:function(){var item=this.getServerItem(this.serverName);if(item){return item}return this.defaultServerItem},enumerable:true,configurable:true});ChannelManager.prototype.requestServerList=function(url,caller,onSucess,onFail){function callSuccess(){if(onSucess){if(caller){onSucess.apply(caller)}else{onSucess()}}}function callFail(){if(onFail){if(caller){onFail.apply(caller)}else{onFail()}}}if(this.serverList){callSuccess();return}if(!url){url=BrowserDetect.urlServerList}this.serverListUrl=url;Laya.loader.load(url,Handler.create(this,function(){var resust=Laya.loader.getRes(url);if(resust){this.serverList=isString(resust)?JSON.parse(resust):resust;console.log("获取服务器列表：");console.log(resust);console.log(JSON.stringify(this.serverList));callSuccess()}else{callFail()}}))};Object.defineProperty(ChannelManager.prototype,"isTodayOpenedNotice",{get:function(){if(Game.localStorage.isNoticTodayNoOpen){if(Game.localStorage.hasItem("lastOpenNoticeTime",true)){var lastOpenTime=Game.localStorage.getInt("lastOpenNoticeTime",true);var isToday=Game.time.isLocalToday(lastOpenTime);return !isToday}}return true},enumerable:true,configurable:true});ChannelManager.prototype.requestNotice=function(){console.log(this.noticUrl);Laya.loader.load(this.noticUrl,Handler.create(this,this.onResopneNotic))};ChannelManager.prototype.onResopneNotic=function(){var resust=Laya.loader.getRes(this.noticUrl);console.log(resust);if(resust){this.serverNoticData=isString(resust)?JSON.parse(resust):resust;if(this.serverNoticData.type==ServerNoticType.Normal){if(this.isTodayOpenedNotice){Game.menu.open(Games.MenuId.Notice);Game.localStorage.setInt("lastOpenNoticeTime",Game.time.localTime,true)}}else{Game.system.alrtTextFull(this.serverNoticData.content,this.serverNoticData.title,null,function(){})}}};return ChannelManager}(frame.base.BaseSingleton));Games.ChannelManager=ChannelManager})(Games||(Games={}));var Games;(function(Games){var MWindow=(function(_super){__extends(MWindow,_super);function MWindow(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sShowComplete=new Signal();_this.sHideComplete=new Signal();_this.menuIsCreated=false;_this.enableShowAnimation=true;_this.enableShowSignal=true;_this.enableHideSignal=true;_this._loadAssets=[];_this._dynamicAssetsList=[];_this.sShowSubwindowComplete=new Signal();_this.sHideSubwindowComplete=new Signal();_this.subwindowDict=new Dictionary();_this.subwindowStack=[];_this.tabDict=new Dictionary();_this.tabHistorys=[];return _this}MWindow.prototype.isOpenSubOrTab=function(index){return this.menuParameter.openIndex==index};MWindow.prototype.addAssetForFguiPackagename=function(packagename){this._loadAssets.push({url:packagename,type:Games.AssetItemType.FguiPackage})};MWindow.prototype.addAssetForFguiComponent=function(fguiCom){var names=fguiCom.DependPackages;for(var i=0;i<names.length;i++){this.addAssetForFguiPackagename(names[i])}};MWindow.prototype.getLoadAssets=function(list,dict){var assets=this._loadAssets;for(var i=0;i<assets.length;i++){var key=getAssetItemKey(assets[i]);if(!dict.hasKey(key)){list.push(assets[i]);dict.add(key,assets[i])}}return list};MWindow.prototype.unloadAssetForFguiPackagename=function(packagename){switch(packagename){case Games.GuiPackageNames.Common:case Games.GuiPackageNames.Fx:case Games.GuiPackageNames.LangEn:case Games.GuiPackageNames.LangZhCn:case Games.GuiPackageNames.Sound:case Games.GuiPackageNames.System:case Games.GuiPackageNames.PfSkin:case Games.GuiPackageNames.PlayerInfo:case Games.GuiPackageNames.Guide:case Games.GuiPackageNames.MainUI:case Games.GuiPackageNames.WarMovie:return}Game.asset.unloadFgui(packagename)};MWindow.prototype.unloadAssetForFguiComponent=function(fguiCom){var names=fguiCom.DependPackages;for(var i=0;i<names.length;i++){this.unloadAssetForFguiPackagename(names[i])}};MWindow.prototype.unloadAssetFroAssetList=function(){for(var i=0;i<this._loadAssets.length;i++){this.unloadAssetForFguiPackagename(this._loadAssets[i].url)}};MWindow.prototype.addDynamicAsset=function(assetItem){if(assetItem){this._dynamicAssetsList.push(assetItem)}};MWindow.prototype.addDynmicAssetForAvatarAll=function(avatarConfig){avatarConfig.getAllAssset(this._dynamicAssetsList)};MWindow.prototype.generateAssetsForDynmic=function(){this._dynamicAssetsList=[]};MWindow.prototype.getLoadAssetsForDynamic=function(list,dict){var assets=this._dynamicAssetsList;for(var i=0;i<assets.length;i++){var key=getAssetItemKey(assets[i]);if(!dict.hasKey(key)){list.push(assets[i]);dict.add(key,assets[i])}}var subwindows=this.subwindowDict.getValues();for(var i=0;i<subwindows.length;i++){subwindows[i].getLoadAssetsForDynamic(list,dict)}return list};MWindow.prototype.onInit=function(){this.onMenuCreate();_super.prototype.onInit.call(this)};MWindow.prototype.onMenuCreate=function(){this.setChildWindow(this.contentPane);this.callChildOnWindowInited(this.contentPane);this.menuIsCreated=true;this.onMenuOpen(this.menuParameter)};MWindow.prototype.onMenuOpen=function(parameter){this.enableShowSignal=true;this.enableShowAnimation=true;this.menuParameter=parameter;switch(parameter.openType){case Games.MenuOpenType.Subwindow:this.enableShowSignal=false;this.enableShowAnimation=false;this.openSubwindowByIndex.apply(this,[parameter.openIndex,false].concat(parameter.args));break;case Games.MenuOpenType.Tab:this.openTab(parameter.openIndex);break;default:Game.event.dispatch(GameEventKey.GameFrame_OpenMenu,this.menuId,parameter.openType);break}};MWindow.prototype.windowShow=function(){if(this.windowContainer){this.showOn(this.windowContainer)}else{this.show()}};MWindow.prototype.menuShow=function(root){switch(this.menuParameter.openType){case Games.MenuOpenType.Subwindow:if(!this.contentPane){this.onInit()}break;default:this.showOn(root);break}};MWindow.prototype.menuClose=function(){Game.menu.close(this.menuId)};MWindow.prototype.menuBack=function(){Game.menu.back(this.menuId)};MWindow.prototype.destory=function(){this.callChildOnWindowDestory(this.contentPane);this.onMenuDestory();this.sShowComplete.removeAll();this.sHideComplete.removeAll();this.sShowSubwindowComplete.removeAll();this.sHideSubwindowComplete.removeAll();this.tabDict.clear();var list=this.subwindowDict.getValues();for(var i=0;i<list.length;i++){var item=list[i];item.destory()}this.subwindowDict.clear();if(this.contentPane){this.contentPane.dispose();this.contentPane=null}this.unloadAssetFroAssetList();_super.prototype.dispose.call(this)};MWindow.prototype.onMenuDestory=function(){};MWindow.prototype.doShowAnimation=function(){this.onWindowWillShow();_super.prototype.doShowAnimation.call(this)};MWindow.prototype.doHideAnimation=function(){this.onWindowWillHide();_super.prototype.doHideAnimation.call(this)};MWindow.prototype.onShown=function(){this.enableHideSignal=true;this.onShowComplete();if(this.contentPane){this.callChildOnWindowShow(this.contentPane)}};MWindow.prototype.onMenuClose=function(){this.hide();var list=this.subwindowDict.getValues();for(var i=0;i<list.length;i++){var item=list[i];item.hide()}};MWindow.prototype.onHide=function(){this.enableShowSignal=true;this.onHideComplete();this.clearTabHistorys();if(this.contentPane){this.callChildOnWindowHide(this.contentPane)}};MWindow.prototype.onShowComplete=function(){if(this.enableShowSignal){this.sShowComplete.dispatch()}};MWindow.prototype.onHideComplete=function(){if(this.enableHideSignal){this.sHideComplete.dispatch()}};MWindow.prototype.getSubwindow=function(subwindowIndex){return this.subwindowDict.getValue(subwindowIndex)};MWindow.prototype.registerSubwindow=function(subwindow){this.subwindowDict.add(subwindow.subwindowIndex,subwindow)};MWindow.prototype.__onSubWindowClose=function(subwindow){for(var i=this.subwindowStack.length-1;i>=0;i--){if(this.subwindowStack[i]==subwindow){this.subwindowStack.splice(i,1)}}};MWindow.prototype.__getLastOpenSubWindow=function(excludeSubwindow){for(var i=this.subwindowStack.length-1;i>=0;i--){var ctl=this.subwindowStack[i];if(excludeSubwindow&&excludeSubwindow.indexOf(ctl)!=-1){continue}return ctl}return null};MWindow.prototype.getLastMenuParameter=function(){var subWindow=this.__getLastOpenSubWindow();if(subWindow){return subWindow.menuParameter}else{return this.menuParameter}};MWindow.prototype.openSubwindow=function(subwindow,dontCloseOther){var _this=this;if(dontCloseOther===void 0){dontCloseOther=false}var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}subwindow.__backSubWindow=this.__getLastOpenSubWindow([subwindow]);this.menuParameter.openType=Games.MenuOpenType.Subwindow;this.menuParameter.openIndex=subwindow.subwindowIndex;this.menuParameter.args=args;var menuParmeter={openType:this.menuParameter.openType,openIndex:this.menuParameter.openIndex,args:args,dontCloseOther:dontCloseOther};if(!dontCloseOther){var caller={on:function(){if(subwindow.whenOpenCloseMainwindow){_this.enableHideSignal=false;_this.hideImmediately()}if(subwindow.whenOpenCloseOthersubwindow){var list=_this.subwindowDict.getValues;for(var i=0;i<list.length;i++){var item=list[i];if(item!=subwindow){item.hideImmediately();_this.__onSubWindowClose(item)}}}_this.sShowSubwindowComplete.dispatch()}};subwindow.sShowComplete.addOnce(caller.on,caller)}var index=this.subwindowStack.indexOf(subwindow);if(index!=-1){this.subwindowStack.splice(index,1)}this.subwindowStack.push(subwindow);if(subwindow.menuIsCreated){subwindow.onMenuOpen(menuParmeter)}else{subwindow.menuParameter=menuParmeter}subwindow.showOn(this.windowContainer);Game.event.dispatch(GameEventKey.GameFrame_OpenMenu,this.menuId,menuParmeter.openType,menuParmeter.openIndex)};MWindow.prototype.openSubwindowByIndex=function(subwindowIndex,dontCloseOther){if(dontCloseOther===void 0){dontCloseOther=false}var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var subwindow=this.getSubwindow(subwindowIndex);this.openSubwindow.apply(this,[subwindow,dontCloseOther].concat(args))};MWindow.prototype.onSubwindowBack=function(subwindow){this.menuParameter.openType=Games.MenuOpenType.None;this.menuParameter.openIndex=0;this.sShowComplete.addOnce(function(){subwindow.hide()},subwindow);if(this.windowContainer.parent){subwindow.hide()}this.showOn(this.windowContainer);this.subwindowStack=[]};MWindow.prototype.getTabDispyaObjects=function(tabIndex){if(this.tabDict.hasKey(tabIndex)){return this.tabDict.getValue(tabIndex)}var list=[];this.tabDict.add(tabIndex,list);return list};MWindow.prototype.registerTab=function(tabIndex,displayObject){var list=this.getTabDispyaObjects(tabIndex);list.push(displayObject)};MWindow.prototype.setTabVisiable=function(tabIndex,visiable){var list=this.getTabDispyaObjects(tabIndex);for(var i=0;i<list.length;i++){if(visiable){this.callChildOnTabShow(list[i]);var fun=list[i]["onTabShow"];if(fun){fun.apply(list[i])}}else{if(list[i].visible){this.callChildOnTabHide(list[i])}}list[i].visible=visiable}};MWindow.prototype.setOpenTab=function(tabIndex){this.menuParameter.openIndex=tabIndex;var keys=this.tabDict.getKeys();for(var i=0;i<keys.length;i++){if(keys[i]!=tabIndex){this.setTabVisiable(keys[i],false)}}this.setTabVisiable(tabIndex,true);this.onOpenTab(tabIndex)};MWindow.prototype.openTab=function(tabIndex){this.tabHistorys.push(tabIndex);this.setOpenTab(tabIndex);Game.event.dispatch(GameEventKey.GameFrame_OpenMenu,this.menuId,Games.MenuOpenType.Tab,tabIndex)};MWindow.prototype.onOpenTab=function(tabIndex){};MWindow.prototype.backTab=function(){if(this.tabHistorys.length>0){var lastIndex=void 0;for(var i=this.tabHistorys.length-1;i>=0;i--){if(this.tabHistorys[i]==this.menuParameter.openIndex){if(i>0){if(this.tabHistorys[i-1]!=this.menuParameter.openIndex){lastIndex=this.tabHistorys[i-1]}}}}if(lastIndex===undefined){this.menuBack()}else{this.openTab(lastIndex)}}};MWindow.prototype.clearTabHistorys=function(){this.tabHistorys=[]};MWindow.prototype.setChildWindow=function(com){if(com){com.moduleWindow=this;if(com._children){for(var i=0;i<com._children.length;i++){this.setChildWindow(com._children[i])}}}};MWindow.prototype.callChildOnWindowInited=function(com){if(com){var fun=com.onWindowInited;if(fun){fun.apply(com)}if(com._children){for(var i=0;i<com._children.length;i++){this.callChildOnWindowInited(com._children[i])}}}};MWindow.prototype.callChildOnWindowDestory=function(com){var container;if(com instanceof fairygui.GObject){container=com.displayObject}if(com){var fun=com.onWindowDestory;if(fun){if(fun.apply(com)){return}}for(var i=container.numChildren-1;i>=0;i--){var display=container.getChildAt(i);if(display["$owner"]){this.callChildOnWindowDestory(display["$owner"])}}}};MWindow.prototype.callChildOnWindowShow=function(com){if(com){var enbaleCall=true;var fun=com.onWindowShow;if(fun){if(com.whenSelfVisiableCallWindowShowAndHide!==undefined){var whenSelfVisiableCallWindowShowAndHide=com.whenSelfVisiableCallWindowShowAndHide;if(whenSelfVisiableCallWindowShowAndHide){if(com.visible==false){enbaleCall=false}}}if(enbaleCall){fun.apply(com)}}if(enbaleCall&&com._children){for(var i=0;i<com._children.length;i++){this.callChildOnWindowShow(com._children[i])}}}};MWindow.prototype.callChildOnWindowHide=function(com){if(com){var enbaleCall=true;var fun=com.onWindowHide;if(fun){if(com.whenSelfVisiableCallWindowShowAndHide!==undefined){var whenSelfVisiableCallWindowShowAndHide=com.whenSelfVisiableCallWindowShowAndHide;if(whenSelfVisiableCallWindowShowAndHide){if(com.visible==false){enbaleCall=false}}}if(enbaleCall){fun.apply(com)}}if(enbaleCall&&com._children){for(var i=0;i<com._children.length;i++){this.callChildOnWindowHide(com._children[i])}}}};MWindow.prototype.callChildOnTabShow=function(com){if(com){var fun=com.onTabShow;if(fun){fun.apply(com)}if(com._children){for(var i=0;i<com._children["length"];i++){this.callChildOnTabShow(com._children[i])}}}};MWindow.prototype.callChildOnTabHide=function(com){if(com){var fun=com.onTabHide;if(fun){fun.apply(com)}if(com._children){for(var i=0;i<com._children["length"];i++){this.callChildOnTabHide(com._children[i])}}}};return MWindow}(Games.FWindow));Games.MWindow=MWindow})(Games||(Games={}));var Games;(function(Games){var MSubwindow=(function(_super){__extends(MSubwindow,_super);function MSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this)||this;_this.whenOpenCloseOthersubwindow=true;_this.whenOpenCloseMainwindow=true;_this.subwindowIndex=subwindowIndex;_this.mainWindow=mainWindow;return _this}MSubwindow.prototype.addAssetForFguiPackagename=function(packagename){var item={url:packagename,type:Games.AssetItemType.FguiPackage};this._loadAssets.push(item);this.mainWindow.addAssetForFguiPackagename(packagename)};MSubwindow.prototype.windowShow=function(){if(this.mainWindow.windowContainer){this.showOn(this.mainWindow.windowContainer)}else{this.show()}};MSubwindow.prototype.menuShow=function(root){this.showOn(root)};MSubwindow.prototype.menuClose=function(){this.mainWindow.menuClose()};MSubwindow.prototype.menuBack=function(){this.mainWindow.menuBack()};MSubwindow.prototype.backToMainWindow=function(){this.mainWindow.onSubwindowBack(this)};MSubwindow.prototype.backPreWindow=function(){this.closeSelf();if(this.__backSubWindow){if(this.__backSubWindow.menuParameter.dontCloseOther){this.backToMainWindow()}(_a=this.mainWindow).openSubwindow.apply(_a,[this.__backSubWindow,this.__backSubWindow.menuParameter.dontCloseOther].concat(this.__backSubWindow.menuParameter.args))}else{this.backToMainWindow()}var _a};MSubwindow.prototype.closeSelf=function(){this.hide();this.mainWindow.__onSubWindowClose(this)};MSubwindow.prototype.onMenuOpen=function(parameter){this.menuParameter=parameter};return MSubwindow}(Games.MWindow));Games.MSubwindow=MSubwindow})(Games||(Games={}));var Games;(function(Games){var Age=(function(_super){__extends(Age,_super);function Age(){return _super.call(this)||this}Age.prototype.update=function(emitter,particle,time){particle.age+=time;if(particle.age>=particle.lifetime){particle.energy=0;particle.isDead=true}else{particle.energy=1-particle.age/particle.lifetime}};return Age}(Games.Actioner));Games.Age=Age})(Games||(Games={}));var Games;(function(Games){var Fade=(function(_super){__extends(Fade,_super);function Fade(startAlpha,endAlpha){if(startAlpha===void 0){startAlpha=1}if(endAlpha===void 0){endAlpha=0}var _this=_super.call(this)||this;_this.startAlpha=0;_this.endAlpha=0;_this.diffAlpha=0;_this.startAlpha=startAlpha;_this.endAlpha=endAlpha;_this.diffAlpha=startAlpha-endAlpha;return _this}Fade.prototype.update=function(emitter,particle,time){particle.alpha=this.endAlpha+this.diffAlpha*particle.energy};return Fade}(Games.Actioner));Games.Fade=Fade})(Games||(Games={}));var Games;(function(Games){var Move=(function(_super){__extends(Move,_super);function Move(velX,velY){if(velX===void 0){velX=1}if(velY===void 0){velY=1}var _this=_super.call(this)||this;_this.velX=0;_this.velY=0;_this.velX=velX;_this.velY=velY;return _this}Move.prototype.update=function(emitter,particle,time){particle.velX=this.velX;particle.velY=this.velY;particle.previousX=Math.sin(particle.rotation)*particle.velX*time*particle.energy;particle.previousY=Math.cos(particle.rotation)*particle.velY*time*particle.energy;particle.x+=particle.previousX;particle.y+=particle.previousY};return Move}(Games.Actioner));Games.Move=Move})(Games||(Games={}));var Games;(function(Games){var Initializer=(function(){function Initializer(){}Initializer.prototype.addedToEmitter=function(emitter){};Initializer.prototype.removedFromEmitter=function(emitter){};Initializer.prototype.initialize=function(emitter,particle){};return Initializer}());Games.Initializer=Initializer})(Games||(Games={}));var Games;(function(Games){var AlphaInit=(function(_super){__extends(AlphaInit,_super);function AlphaInit(minAlpha,maxAlpha){if(minAlpha===void 0){minAlpha=0.1}if(maxAlpha===void 0){maxAlpha=1}var _this=_super.call(this)||this;_this.minAlpha=0;_this.maxAlpha=0;_this.minAlpha=minAlpha;_this.maxAlpha=maxAlpha;return _this}AlphaInit.prototype.initialize=function(emitter,particle){var range=this.maxAlpha-this.minAlpha;var rand=Math.random();particle.alpha=this.minAlpha+range*rand};return AlphaInit}(Games.Initializer));Games.AlphaInit=AlphaInit})(Games||(Games={}));var Games;(function(Games){var LiftTimeInit=(function(_super){__extends(LiftTimeInit,_super);function LiftTimeInit(min,max){if(min===void 0){min=0.1}if(max===void 0){max=1}var _this=_super.call(this)||this;_this.min=0;_this.max=0;_this.min=min;_this.max=max;return _this}LiftTimeInit.prototype.initialize=function(emitter,particle){var range=this.max-this.min;var rand=Math.random();particle.lifetime=this.min+range*rand};return LiftTimeInit}(Games.Initializer));Games.LiftTimeInit=LiftTimeInit})(Games||(Games={}));var Games;(function(Games){var RotationInit=(function(_super){__extends(RotationInit,_super);function RotationInit(min,max){if(min===void 0){min=0}var _this=_super.call(this)||this;_this.min=0;_this.max=0;_this.min=min;_this.max=max;return _this}RotationInit.prototype.initialize=function(emitter,particle){var range=this.max-this.min;var rand=Math.random();particle.rotation=this.min+Math.round(range*rand)};return RotationInit}(Games.Initializer));Games.RotationInit=RotationInit})(Games||(Games={}));var Games;(function(Games){var ScaleInit=(function(_super){__extends(ScaleInit,_super);function ScaleInit(min,max){if(min===void 0){min=0}var _this=_super.call(this)||this;_this.min=0;_this.max=0;_this.min=min;_this.max=max;return _this}ScaleInit.prototype.initialize=function(emitter,particle){var range=this.max-this.min;var rand=Math.random();var scale=this.min+range*rand;particle.scale(scale,scale)};return ScaleInit}(Games.Initializer));Games.ScaleInit=ScaleInit})(Games||(Games={}));var Games;(function(Games){var TextureInit=(function(_super){__extends(TextureInit,_super);function TextureInit(){var _this=_super.call(this)||this;_this.rendererClassList=[];return _this}TextureInit.prototype.setRenderList=function(rendererClasses){this.rendererClassList=rendererClasses};Object.defineProperty(TextureInit.prototype,"rendererClass",{get:function(){var rd=Random.range(0,this.rendererClassList.length);return this.rendererClassList[rd]},enumerable:true,configurable:true});TextureInit.prototype.initialize=function(emitter,particle){if(particle.renderer==null){particle.renderer=this.rendererClass.createInstance()}else{particle.renderer=particle.renderer}if(emitter.parent){emitter.parent.addChild(particle);particle.x=emitter.x;particle.y=emitter.y}};return TextureInit}(Games.Initializer));Games.TextureInit=TextureInit})(Games||(Games={}));var Games;(function(Games){var ParticleFactoryStats=(function(){function ParticleFactoryStats(){}ParticleFactoryStats.numParticles=0;return ParticleFactoryStats}());Games.ParticleFactoryStats=ParticleFactoryStats;var ParticleFactory=(function(){function ParticleFactory(){this.particlePool=[]}ParticleFactory.prototype.creatParticle=function(){ParticleFactoryStats.numParticles++;if(this.particlePool.length>0){return this.particlePool.pop()}else{return new Particle2D()}};ParticleFactory.prototype.disposeParticle=function(particle){ParticleFactoryStats.numParticles--;particle.init();this.particlePool.push(particle)};ParticleFactory.prototype.clearPool=function(){for(var _i=0,_a=this.particlePool;_i<_a.length;_i++){var particle=_a[_i];particle.destroy()}this.particlePool.length=0};return ParticleFactory}());Games.ParticleFactory=ParticleFactory;var Particle=(function(_super){__extends(Particle,_super);function Particle(){var _this=_super.call(this)||this;_this.color="#FFFFFF";_this.mass=1;_this.energy=1;_this.age=0;_this.lifetime=0;_this.isDead=false;return _this}Particle.prototype.init=function(){this.color="#FFFFFF";this.alpha=1;this.scale(1,1,true);this.mass=1;this.energy=1;this.age=0;this.lifetime=0;this.isDead=false};return Particle}(laya.display.Sprite));Games.Particle=Particle;var Particle2D=(function(_super){__extends(Particle2D,_super);function Particle2D(){var _this=_super.call(this)||this;_this.x=0;_this.y=0;_this.previousX=0;_this.previousY=0;_this.velX=0;_this.velY=0;_this.rotation=0;_this.angVelocity=0;_this.init();return _this}Particle2D.prototype.init=function(){_super.prototype.init.call(this);this.x=0;this.y=0;this.previousX=0;this.previousY=0;this.velX=0;this.velY=0;this.rotation=0;this.angVelocity=0;if(this._renderer){this._renderer.visible=false}};Object.defineProperty(Particle2D.prototype,"renderer",{get:function(){return this._renderer},set:function(val){if(this._renderer){if(this._renderer!==val){this._renderer.removeFromParent();this._renderer=null}else{this._renderer.visible=true}}this._renderer=val;val.x=0;val.y=0;this.addChild(val.displayObject)},enumerable:true,configurable:true});Particle2D.prototype.remove=function(){this.removeSelf()};return Particle2D}(Particle));Games.Particle2D=Particle2D})(Games||(Games={}));var Games;(function(Games){var Sprite=laya.display.Sprite;var ParticleEmitter2D=(function(_super){__extends(ParticleEmitter2D,_super);function ParticleEmitter2D(){var _this=_super.call(this)||this;_this.DELTA_TIME=0.02;_this.isStart=false;_this.isRunning=false;_this._emitNum=3;_this.frameId=0;_this.isStart=false;_this.particles=[];_this.initializers=[];_this.actioners=[];_this.creater=new Games.ParticleFactory();Laya.timer.loop(_this.DELTA_TIME*1000,_this,_this.update,null,true,true);return _this}ParticleEmitter2D.prototype.addInitializer=function(initializer){initializer.addedToEmitter(this);this.initializers.push(initializer)};ParticleEmitter2D.prototype.addActoiner=function(action){action.addedToEmitter(this);this.actioners.push(action)};ParticleEmitter2D.prototype.creatParticle=function(){var particle=this.creater.creatParticle();for(var _i=0,_a=this.initializers;_i<_a.length;_i++){var initializer=_a[_i];initializer.initialize(this,particle)}this.particles.push(particle);return particle};Object.defineProperty(ParticleEmitter2D.prototype,"emitNum",{get:function(){return this._emitNum},set:function(value){this._emitNum=value},enumerable:true,configurable:true});ParticleEmitter2D.prototype.start=function(){this.isStart=true;this.isRunning=true;for(var i=0;i<this.emitNum;i++){this.creatParticle()}};ParticleEmitter2D.prototype.pause=function(){this.isRunning=false};ParticleEmitter2D.prototype.resume=function(){this.isRunning=true};ParticleEmitter2D.prototype.stop=function(){this.isStart=false;this.isRunning=false;this.killAllParticles();this.creater.clearPool();Laya.timer.clear(this,this.update)};ParticleEmitter2D.prototype.update=function(){if(!this.isRunning){return}this.frameId++;if(this.frameId%2==0){this.frameId=0;for(var i=0;i<this.emitNum;i++){this.creatParticle()}}var len=this.actioners.length;var len2=this.particles.length;var action;var particle2D;for(var i=0;i<len;i++){action=this.actioners[i];for(var j=len2-1;j>=0;j--){particle2D=this.particles[j];action.update(this,particle2D,this.DELTA_TIME)}}for(var i=len2-1;i>=0;i--){particle2D=this.particles[i];if(particle2D.isDead){this.particles.splice(i,1);if(particle2D.isDead){this.creater.disposeParticle(particle2D)}}}};ParticleEmitter2D.prototype.killAllParticles=function(){for(var i=this.particles.length-1;i>=0;i--){var particle2D=this.particles[i];this.creater.disposeParticle(particle2D)}this.particles.length=0};return ParticleEmitter2D}(Sprite));Games.ParticleEmitter2D=ParticleEmitter2D})(Games||(Games={}));var Games;(function(Games){var TrailEmitter=(function(_super){__extends(TrailEmitter,_super);function TrailEmitter(){var _this=_super.call(this)||this;_this.renderClassList=[];_this.displayIndex=-1;return _this}TrailEmitter.prototype.setRenderList=function(rendererClasses){this.renderClassList=rendererClasses;this.setup()};TrailEmitter.prototype.setRenderer=function(rendererClass){this.renderClassList.push(rendererClass);this.setup()};TrailEmitter.prototype.setup=function(){this.emitNum=2;var textureInit=new Games.TextureInit();textureInit.setRenderList(this.renderClassList);this.addInitializer(textureInit);this.addInitializer(new Games.LiftTimeInit(0.6,1.2));this.addInitializer(new Games.RotationInit(0,360));this.addInitializer(new Games.ScaleInit(0.6,0.8));this.addActoiner(new Games.Age());this.addActoiner(new Games.Fade(1,0));this.addActoiner(new Games.Move(30,30))};TrailEmitter.prototype.showOn=function(root,displayIndex){if(displayIndex===void 0){displayIndex=-1}if(root instanceof laya.display.Sprite){this.root=root}else{this.root=root.displayObject}this.displayIndex=displayIndex;this.checkShow()};TrailEmitter.prototype.checkShow=function(){if(this.root){if(this.displayIndex>=0){this.root.addChildAt(this,this.displayIndex)}else{this.root.addChild(this)}}};return TrailEmitter}(Games.ParticleEmitter2D));Games.TrailEmitter=TrailEmitter})(Games||(Games={}));var Games;(function(Games){var Circle=(function(_super){__extends(Circle,_super);function Circle(){return _super.call(this)||this}Circle.prototype.onInit=function(){this.loaderCircle=fgui.System.GlobalModalWaiting.createInstance();this.contentPane=this.loaderCircle;this.center();this.setPivot(0.5,0.5)};Circle.prototype.show=function(){_super.prototype.showOn.call(this,Games.MenuLayer.loader)};return Circle}(fairygui.Window));Games.Circle=Circle})(Games||(Games={}));var Games;(function(Games){var Sprite=laya.display.Sprite;var Rectangle=laya.maths.Rectangle;var Event=laya.events.Event;var AvatarType;(function(AvatarType){AvatarType[AvatarType.Assistant=0]="Assistant";AvatarType[AvatarType.Npc=1]="Npc";AvatarType[AvatarType.Actor=2]="Actor";AvatarType[AvatarType.Performer=3]="Performer"})(AvatarType=Games.AvatarType||(Games.AvatarType={}));var AvatarInfo=(function(){function AvatarInfo(){this.uid=0;this.id=0;this.name="";this.idleName="zhanli1";this.direction=Games.DirtionType.Right}Object.defineProperty(AvatarInfo.prototype,"config",{get:function(){if(this._config==null){this._config=Game.config.actor.getConfig(this.id)}return this._config},enumerable:true,configurable:true});Object.defineProperty(AvatarInfo.prototype,"npcConfig",{get:function(){if(this._npcConfig==null){this._npcConfig=Game.config.npc.getConfig(this.id)}return this._npcConfig},enumerable:true,configurable:true});AvatarInfo.creatByActor=function(actor){var aInfo=new AvatarInfo();aInfo.id=actor.id;aInfo.name=actor.name;aInfo.type=AvatarType.Actor;var avatarCfg=Game.config.avatar.getConfig(actor.config.avatar);aInfo.texturePath=avatarCfg.modelSkinUrl;aInfo.skeletonPath=avatarCfg.modelBoneUrl;return aInfo};AvatarInfo.creatByAvatarId=function(actorId){var aInfo=new Games.AvatarInfo();aInfo.id=actorId;if(aInfo.config==null){return null}aInfo.name=aInfo.config.name;aInfo.type=AvatarType.Actor;var avatarCfg=Game.config.avatar.getConfig(aInfo.config.avatar);aInfo.texturePath=avatarCfg.modelSkinUrl;aInfo.skeletonPath=avatarCfg.modelBoneUrl;return aInfo};AvatarInfo.creatAssistantById=function(actorId){if(actorId===void 0){actorId=9998}var aInfo=new Games.AvatarInfo();aInfo.id=actorId;if(aInfo.config==null){return null}aInfo.name=aInfo.config.name;aInfo.type=AvatarType.Assistant;var avatarCfg=Game.config.avatar.getConfig(aInfo.config.avatar);aInfo.texturePath=avatarCfg.modelSkinUrl;aInfo.skeletonPath=avatarCfg.modelBoneUrl;return aInfo};AvatarInfo.creatByNpcId=function(npcId){var aInfo=new AvatarInfo();aInfo.id=npcId;aInfo.name=aInfo.npcConfig.name;aInfo.type=AvatarType.Npc;var avatarCfg=Game.config.avatar.getConfig(aInfo.npcConfig.avatar);aInfo.texturePath=avatarCfg.modelSkinUrl;aInfo.skeletonPath=avatarCfg.modelBoneUrl;return aInfo};return AvatarInfo}());Games.AvatarInfo=AvatarInfo;var Avatar=(function(_super){__extends(Avatar,_super);function Avatar(){var _this=_super.call(this)||this;_this.scaleFactor=1;_this.DEFAULT_TALK_TIME=5;_this.currentAnimName="";_this.DELTA_TIME=0.02;_this.animSequence=[];_this.eventList=[];_this.performType=Games.PerformType.FreeWalk;_this.currEventId=0;_this.speed=100;_this.speed2=0.1;_this.elapseTime=0;_this.elapseTalkTime=0;_this.isAllwaysTalkShow=false;_this.slotName="";_this.isOnPointEvent=false;_this.isInScreen=true;_this.isDestoryed=false;_this._isPause=false;_this._isBehaviorFinish=true;_this.hasTalk=true;_this._direction=Games.DirtionType.Right;_this.animator=new Games.CAnimation();_this.talkBoxSprite=new Sprite();_this.addChild(_this.talkBoxSprite);_this.talkBox=fgui.Common.TalkBox.createInstance();_this.talkBoxSprite.addChild(_this.talkBox.displayObject);return _this}Avatar.prototype.inScreen=function(){if(!this.isInScreen){this.isInScreen=true;this.onInScreen()}};Avatar.prototype.outScreen=function(){if(this.isInScreen){this.isInScreen=false;this.onOutScreen()}};Avatar.prototype.onInScreen=function(){console.log("onInScreen:"+this.animator.texturePath);this.startAnimator()};Avatar.prototype.onOutScreen=function(){console.log("onOutScreen:"+this.animator.texturePath);this.pauseAnimator()};Object.defineProperty(Avatar.prototype,"isPause",{get:function(){return this._isPause},set:function(val){this._isPause=val},enumerable:true,configurable:true});Avatar.prototype.dispose=function(){if(!this.isDestoryed){this.animator.dispose();this.off(Event.CLICK,this,this.onAvatarClick);this.animator.sPlayEnd.remove(this.onAnimPlayEnd,this);Laya.timer.clear(this,this.onTimeLoop);if(this.tween!=null){Laya.Tween.clear(this.tween);this.tween=null}if(this.headIcon){this.headIcon.removeFromParent();this.headIcon=null}this.destroy();this.isDestoryed=true}};Avatar.prototype.creatGraph=function(x,y,w,h){var sp=new Sprite();sp.graphics.drawRect(x,y,w,h,"#ff9900");sp.mouseEnabled=false;sp.size(w,h);sp.on(Event.CLICK,this,this.onAvatarClick);this.addChild(sp)};Avatar.prototype.init=function(info,creatComplete,isInScreen){if(isInScreen===void 0){isInScreen=true}if(info.config){console.log("@@@@@@@@@@@@@@@@@@ Avatar init \u827A\u4EBA: "+Avatar.__index+++"    "+info.config.id+"   "+info.config.cn_name+"   "+info.texturePath)}else{if(info.npcConfig){console.log("@@@@@@@@@@@@@@@@@@ Avatar init NPC: "+Avatar.__index+++"    "+info.npcConfig.id+"   "+info.npcConfig.cn_name+"   "+info.texturePath)}else{console.log("@@@@@@@@@@@@@@@@@@ Avatar init Other: "+Avatar.__index+++"    "+info.texturePath)}}this.info=info;this.uid=++Avatar.incrementId;this.info.uid=this.uid;this.direction=info.direction;this.setBounds(new Rectangle(-this.width/2,-this.height,this.width,this.height));this.hitArea=new Rectangle(-this.width/2,-this.height-this.talkBox.height,this.width,this.height);this.initTalkBox();this.hideTalk();Laya.timer.loop(this.DELTA_TIME*1000,this,this.onTimeLoop,null,true,true);this.on(Event.CLICK,this,this.onAvatarClick);this.animator.sPlayEnd.add(this.onAnimPlayEnd,this);this.animator.crossFade(info.idleName,true);if(creatComplete){setTimeout(function(){creatComplete(info)},100)}this.animator.loadAnim(info.texturePath,info.skeletonPath,this,false);this.isInScreen=isInScreen;if(isInScreen){this.startAnimator()}};Avatar.prototype.pauseAnimator=function(){this.animator.recoverSkeleton()};Avatar.prototype.startAnimator=function(){this.animator.getSkeleton()};Avatar.prototype.createShadow=function(){this.shadow=fgui.Common.AvatarShadow.createInstance();var shadowScale=1/this.scaleFactor;this.shadow.setScale(shadowScale,shadowScale);this.shadow.setXY(-this.shadow.sourceWidth*shadowScale/2,-this.shadow.sourceHeight*shadowScale/3);this.addChildAt(this.shadow.displayObject,0)};Avatar.prototype.setHitArea=function(width,height){var _x=-width/2;var _y=-height-this.talkBox.height;this.hitArea=new Rectangle(_x,_y,width,height)};Avatar.prototype.setRoomInfo=function(roomInfo){this.roomInfo=roomInfo;this.info.roomInfo=roomInfo};Avatar.prototype.openShadow=function(){if(this.shadow){this.shadow.visible=true}else{this.createShadow()}};Avatar.prototype.closeShadow=function(){if(this.shadow){this.shadow.visible=false}};Avatar.prototype.executeActionEvents=function(events,performType){this.eventList=events;if(performType){this.performType=performType}this.behaviorFinish=false};Avatar.prototype.onAnimPlayEnd=function(){this.playNextAnim()};Avatar.prototype.onAvatarClick=function(){Games.AvatarManager.sAvatarClick.dispatch(this.getDispatchInfo())};Object.defineProperty(Avatar.prototype,"behaviorFinish",{get:function(){return this._isBehaviorFinish},set:function(value){this._isBehaviorFinish=value},enumerable:true,configurable:true});Avatar.prototype.onTimeLoop=function(){var _this=this;if(this.isPause){return}if(!this.isAllwaysTalkShow){this.elapseTalkTime+=this.DELTA_TIME*1000;if(this.elapseTalkTime>this.DEFAULT_TALK_TIME*1000){this.hideTalk()}}if(!this.behaviorFinish){if(this.currAction!=null){if(this.elapseTalkTime>=this.currAction.talkActionTime){this.hideTalk();this.elapseTalkTime=0}if(this.currAction.actionType==Games.ActionType.Time){this.elapseTime+=this.DELTA_TIME*1000;this.frameAction();if(this.elapseTime>=this.currAction.actionTime){this.nextEvent()}}else{if(this.currAction.actionType==Games.ActionType.Point){if(!this.isOnPointEvent){this.isOnPointEvent=true;this.moveTo(this.currAction.actionPointX,false,Handler.create(this,function(){_this.nextEvent()},null,true))}}}}else{this.nextEvent()}}};Avatar.prototype.nextEvent=function(){if(this.eventList.length==0){this.endEvent(true);return}if(this.currAction!=null){Games.AvatarManager.sEventFinish.dispatch(this.getDispatchInfo())}this.elapseTime=0;this.elapseTalkTime=0;this.isOnPointEvent=false;var event=this.eventList.splice(0,1)[0];this.currEventId=event.evtId;this.currAction=event.actionInfo;if(this.currAction.actionId>0){var actionCfg=Game.config.action.getConfig(this.currAction.actionId);var actionName=actionCfg.action;this.playAction(this.currAction.actionId)}if(this.currAction.talkActionId!=0){var speakCfg=Game.config.speak.getConfig(this.currAction.talkActionId);if(speakCfg){this.setTalk(format(speakCfg.speak,this.currAction.talkParams))}}};Avatar.prototype.endEvent=function(onEvent){this.stand();this.hideTalk();if(this.currEventId!=0){Games.AvatarManager.sEventFinish.dispatch(this.getDispatchInfo())}this.resetSlotSkin(this.slotName);this.currEventId=0;this.currAction=null;this.behaviorFinish=true;this.isOnPointEvent=false;if(onEvent){Games.AvatarManager.sBehaviorFinish.dispatch(this.getDispatchInfo())}};Avatar.prototype.frameAction=function(){this.parseAction()};Avatar.prototype.parseAction=function(){switch(this.currAction.actionId){case 1002:case 1003:case 1024:break;case 1004:this.frameWalk();break;case 1005:this.frameRun();break}};Avatar.prototype.frameWalk=function(){if(this.x>=Laya.stage.width-Avatar.STAGE_OFFSET_ENTER){this.direction=Games.DirtionType.Left}if(this.x<=Avatar.STAGE_OFFSET_ENTER){this.direction=Games.DirtionType.Right}var dir=(this.direction==Games.DirtionType.Right)?1:-1;this.x+=this.speed*this.DELTA_TIME*dir};Avatar.prototype.frameRun=function(){if(this.x>=Laya.stage.width-Avatar.STAGE_OFFSET_ENTER){this.direction=Games.DirtionType.Left}if(this.x<=Avatar.STAGE_OFFSET_ENTER){this.direction=Games.DirtionType.Right}var dir=(this.direction==Games.DirtionType.Right)?1:-1;this.x+=this.speed*2*this.DELTA_TIME*dir};Avatar.prototype.getDispatchInfo=function(){var dispatchInfo=new Games.RoomAvatarData();dispatchInfo.onEvent=true;dispatchInfo.performType=this.performType;dispatchInfo.avatarUid=this.info.uid;dispatchInfo.avatarId=this.info.id;if(this.roomInfo){dispatchInfo.roomId=this.roomInfo.id;dispatchInfo.roomType=this.roomInfo.type}if(this.currAction!=null){dispatchInfo.eventId=this.currEventId}return dispatchInfo};Avatar.prototype.setTopHeadIcon=function(headIcon){if(this.headIcon){this.headIcon.removeFromParent();this.headIcon=null}if(headIcon){this.headIcon=headIcon;var bound=this.getBounds();this.headIcon.x=-(bound.width/4+headIcon.width/2);this.headIcon.y=-bound.height-headIcon.height;this.talkBoxSprite.addChild(headIcon.displayObject)}};Avatar.prototype.initTalkBox=function(){this.talkBoxSprite.scale(1/Games.CAnimation.SCALE_DEFAULT,1/Games.CAnimation.SCALE_DEFAULT);var x=-this.talkBox.width/2;var y=-this.getBounds().height-this.talkBox.height;this.talkBox.setXY(x,y)};Avatar.prototype.scaleTalkBox=function(scale){var sourceScale=this.talkBoxSprite.scaleX;var newScale=sourceScale*scale;this.talkBoxSprite.scale(newScale,newScale)};Avatar.prototype.setTalk=function(text,allwaysShow){if(!this.isInScreen){return}if(this.isDestoryed){console.log("Avatar.setTalk: "+text);return}if(this.headIcon){this.headIcon.removeFromParent();this.headIcon=null}this.isAllwaysTalkShow=allwaysShow;this.elapseTalkTime=0;this.hasTalk=true;this.talkBox.setText(text);var x=-this.talkBox.width/2;var y=-this.getBounds().height-this.talkBox.height;this.talkBox.setXY(x,y);this.talkBox.visible=true};Avatar.prototype.hideTalk=function(){if(this.hasTalk){this.hasTalk=false;this.talkBox.visible=false}};Avatar.prototype.hideTalkDirectly=function(){this.talkBox.visible=false};Avatar.prototype.enterTo=function(x,y,direction,handler){this.x=x;if(y){this.y=y}if(direction){this.direction=direction}if(handler){handler.run()}};Avatar.prototype.enter=function(onEvent,isBornFixedPos){var _this=this;var dx=0;if(isBornFixedPos){dx=Avatar.STAGE_OFFSET_ENTER;if(this.x>0){dx=Laya.stage.width-Avatar.STAGE_OFFSET_ENTER}}else{dx=Random.rangeBoth(Avatar.STAGE_OFFSET_ENTER,Laya.stage.width/2);if(this.x>0){dx=Random.rangeBoth(Laya.stage.width/2,Laya.stage.width-Avatar.STAGE_OFFSET_ENTER)}}this.moveTo(dx,false,Handler.create(this,function(){var dispathData=_this.getDispatchInfo();dispathData.onEvent=onEvent;Games.AvatarManager.sAvatarEnter.dispatch(dispathData)},null,true))};Avatar.prototype.leave=function(onEvent,isRun){var _this=this;var dx=Laya.stage.width+Avatar.STAGE_OFFSET_LEAVE;if(this.x<Laya.stage.width/2){dx=-Avatar.STAGE_OFFSET_LEAVE}this.moveTo(dx,isRun,Handler.create(this,function(){var dispathData=_this.getDispatchInfo();dispathData.onEvent=onEvent;Games.AvatarManager.sAvatarLeave.dispatch(dispathData)},null,true))};Avatar.prototype.moveTo=function(xValue,isRun,complete,endAnim,loop){var _this=this;var animName=isRun?"paodong1":"zoulu1";this.animator.play(animName,true);var distance=Math.abs(this.x-xValue);var speedRate=isRun?1.5:1;var duration=distance/(this.speed2*speedRate);this.direction=this.x>xValue?Games.DirtionType.Left:Games.DirtionType.Right;if(!endAnim){endAnim=this.info.idleName;loop=true}this.tween=Laya.Tween.to(this,{x:xValue},duration,Laya.Ease.linearIn,Handler.create(null,function(){_this.animator.play(endAnim,loop);if(complete){complete.run()}}),0,true,true);return this.tween};Avatar.prototype.clearTween=function(){if(this.tween!=null){Laya.Tween.clear(this.tween);this.tween=null}};Avatar.prototype.teleport=function(x,y,direction,anim,loop){this.x=x;this.x=y;if(direction){this.direction=direction}if(anim){this.play(anim,loop)}};Avatar.prototype.sitDown=function(x,y,anim){this.x=x;this.y=y;if(anim){this.play(anim,true)}else{this.play("zuoxia1",true)}};Avatar.prototype.sitChairDown=function(x,y,anim){this.x=x;this.y=y;if(anim){this.play(anim,false)}else{this.play("zuoshangyizi1",false)}};Avatar.prototype.sitChairUp=function(anim){if(anim){this.play(anim,false)}else{this.play("tiaoxiayizi1",false)}};Avatar.prototype.stand=function(name,x,y){if(x){this.x=x}if(y){this.y=y}if(name){if(isNumber(name)){this.playAction(name)}else{this.play(name,true)}return}this.play(this.info.idleName,true)};Object.defineProperty(Avatar.prototype,"direction",{get:function(){return this._direction},set:function(value){if(value==Games.DirtionType.Right){this.skewY=0;this.talkBoxSprite.skewY=0}if(value==Games.DirtionType.Left){this.skewY=180;this.talkBoxSprite.skewY=180}this._direction=value},enumerable:true,configurable:true});Avatar.prototype.resetSlotSkin=function(slotName){if(this.slotName!=""){this.animator.resetSlotSkin(this.slotName);this.slotName=""}};Avatar.prototype.setScale=function(scaleFactor,speedMode){this.scaleFactor=scaleFactor;this.scale(scaleFactor,scaleFactor,speedMode)};Avatar.prototype.resetScale=function(scaleFactor,speedMode){if(scaleFactor===void 0){scaleFactor=0.26}this.scaleFactor=scaleFactor;this.scale(this.scaleFactor,this.scaleFactor,speedMode)};Avatar.prototype.playAction=function(actionId){var actionCfg=Game.config.action.getConfig(actionId);if(actionCfg){if(actionCfg.loop==1){this.animSequence.length=0;this.play(actionCfg.action,true)}else{this.playList(actionCfg.actionSequence)}}else{console.error("error: playAction -> "+actionId)}};Avatar.prototype.play=function(anim,loop){if(this.isDestoryed){console.log("Avatar.play: "+anim);return}if(anim!=""&&this.currentAnimName!=anim){this.currentAnimName=anim;this.animator.play(anim,loop)}};Avatar.prototype.playList=function(animSequence){this.animSequence=animSequence;this.playNextAnim()};Avatar.prototype.playNextAnim=function(){if(this.animSequence.length>0){var animId=this.animSequence.splice(0,1)[0];var anim=this.getAnimConfgName(animId);var isEndAnim=(this.animSequence.length==0);this.play(anim,isEndAnim)}};Avatar.prototype.getAnimConfgName=function(animId){var cfg=Game.config.action.getConfig(animId);return cfg.action||""};Avatar.Creat=function(info,creatComplete,boundWidth,boundHeight,scaleFactor){if(boundWidth===void 0){boundWidth=190}if(boundHeight===void 0){boundHeight=620}if(scaleFactor===void 0){scaleFactor=0.26}var avatar=new Avatar();avatar.id=info.id;avatar.setScale(scaleFactor,true);avatar.size(boundWidth,boundHeight);avatar.init(info,creatComplete,true);return avatar};Avatar.RoomCreate=function(info,creatComplete){var boundWidth=190;var boundHeight=620;var scaleFactor=0.26;var avatar=new Avatar();avatar.id=info.id;avatar.setScale(scaleFactor,true);avatar.size(boundWidth,boundHeight);avatar.init(info,creatComplete,false);return avatar};Avatar.incrementId=10000;Avatar.STAGE_OFFSET_ENTER=180;Avatar.STAGE_OFFSET_LEAVE=50;Avatar.__index=0;return Avatar}(Sprite));Games.Avatar=Avatar})(Games||(Games={}));var Games;(function(Games){var MenuValidate=(function(){function MenuValidate(){this.dict=new Dictionary()}MenuValidate.getInstance=function(){var Class=this;if(Class.__instance==null){Class.__instance=new Class();Class.__instance.install()}return Class.__instance};MenuValidate.prototype.validate=function(menuId){if(this.dict.hasKey(menuId)){return this.dict.getValue(menuId).apply(this)}return true};MenuValidate.prototype.add=function(menuId,fun){this.dict.add(menuId,fun)};MenuValidate.prototype.install=function(){};return MenuValidate}());Games.MenuValidate=MenuValidate;var MenuValidateOpening=(function(_super){__extends(MenuValidateOpening,_super);function MenuValidateOpening(){return _super!==null&&_super.apply(this,arguments)||this}MenuValidateOpening.prototype.install=function(){};MenuValidateOpening.prototype.validate=function(menuId){if(this.dict.hasKey(menuId)){return this.dict.getValue(menuId).apply(this)}var unlockConfig=Game.config.unlock.getConfig(menuId);if(unlockConfig){switch(unlockConfig.open_type){case Games.UnlockType.None:return true;case Games.UnlockType.Level:return User.info.level>=unlockConfig.open_data;case Games.UnlockType.BuildingLevel:return Game.moduleModel.building.validataBuildLevel(unlockConfig.open_data);case Games.UnlockType.BlockLevel:return Game.moduleModel.street.validataBlockLevelId(unlockConfig.open_data)}}return _super.prototype.validate.call(this,menuId)};return MenuValidateOpening}(MenuValidate));Games.MenuValidateOpening=MenuValidateOpening;var MenuValidateUnlock=(function(_super){__extends(MenuValidateUnlock,_super);function MenuValidateUnlock(){return _super!==null&&_super.apply(this,arguments)||this}MenuValidateUnlock.prototype.install=function(){};MenuValidateUnlock.prototype.validate=function(menuId){return MenuValidateOpening.getInstance().validate(menuId)};return MenuValidateUnlock}(MenuValidate));Games.MenuValidateUnlock=MenuValidateUnlock;var MenuValidateEnableOpen=(function(_super){__extends(MenuValidateEnableOpen,_super);function MenuValidateEnableOpen(){return _super!==null&&_super.apply(this,arguments)||this}MenuValidateEnableOpen.prototype.install=function(){this.dict.add(Games.MenuId.Fans,this.fansEnableOpen);this.dict.add(Games.MenuId.Official,this.officialEnableOpen);this.dict.add(Games.MenuId.Meeting,this.meetingEnableOpen);this.dict.add(Games.MenuId.Order,this.orderEnableOpen)};MenuValidateEnableOpen.prototype.validate=function(menuId){switch(menuId){case Games.MenuId.War:if(Game.moduleModel.street.canSign){Game.system.toastText(Games.TEXT.CinemaSignTip)}return !Game.moduleModel.street.canSign}return _super.prototype.validate.call(this,menuId)};MenuValidateEnableOpen.prototype.meetingEnableOpen=function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Meeting);if(isBuild){var meetingData=Game.moduleModel.meeting.getMeetingData();if(meetingData){var nextNum=meetingData.nextMeetingNum;if(nextNum<=0){Game.system.toastMsg(MsgKey.meeting_time,Games.TimeHelper.TimeFormat4(meetingData.nextMeetingComeTime))}else{b=true}}}else{Game.system.toastText(Games.TEXT.Lock)}return b};MenuValidateEnableOpen.prototype.officialEnableOpen=function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Office);if(isBuild){var businessData=Game.moduleModel.business.getBusinessData();if(businessData){if(businessData.isMaxDaily){Game.system.toastMsg(MsgKey.business_down)}else{var nextBusinessNum=businessData.nextBusinessNum;if(nextBusinessNum<=0){Game.system.toastMsg(MsgKey.business_countdown,Games.TimeHelper.TimeFormat4(businessData.nextBusinessComeTime))}else{b=true}}}}else{Game.system.toastText(Games.TEXT.Lock)}return b};MenuValidateEnableOpen.prototype.fansEnableOpen=function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Reception);if(isBuild){var visitData=Game.moduleModel.visit.getVisitData();if(visitData){var nextFans=visitData.nextFansNum;if(nextFans<=0){Game.system.toastMsg(MsgKey.visit_countdown,Games.TimeHelper.TimeFormat4(visitData.nextFansComeTime))}else{if(visitData.isWaiting){Game.system.toastText(Games.TEXT.VisitHaveOtherFansWaiting)}else{if(Game.moduleModel.actor.hasCanVisitActor){if(Game.moduleModel.secretary.isAutoVisit==false){b=true}else{Game.system.toastText(Games.TEXT.ActorAutoVisit)}Game.protosender.manageVisit.StartVisit()}else{Game.system.toastMsg(MsgKey.visit_noone)}}}}}else{Game.system.toastText(Games.TEXT.Lock)}return b};MenuValidateEnableOpen.prototype.orderEnableOpen=function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Spread);if(isBuild){b=true}else{Game.system.toastText(Games.TEXT.Lock)}return b};return MenuValidateEnableOpen}(MenuValidate));Games.MenuValidateEnableOpen=MenuValidateEnableOpen;var MenuValidateRed=(function(_super){__extends(MenuValidateRed,_super);function MenuValidateRed(){return _super!==null&&_super.apply(this,arguments)||this}MenuValidateRed.prototype.install=function(){this.add(Games.MenuId.Manage,this.getManageRed);this.add(Games.MenuId.Run,this.getRunRed)};MenuValidateRed.prototype.getManageRed=function(){return Game.moduleModel.story.isRed};MenuValidateRed.prototype.getRunRed=function(){return Game.moduleModel.order.redNum>0||Game.moduleModel.visit.isRed||Game.moduleModel.meeting.isRed||Game.moduleModel.business.isRed||Game.moduleModel.business.isRed};MenuValidateRed.prototype.validate=function(menuId){switch(menuId){case Games.MenuId.ArtistList:return Game.moduleModel.actor.isCanNoseActor;case Games.MenuId.War:return Game.moduleModel.warData.realLicenceNum;case Games.MenuId.Produce:return Game.moduleModel.produce.hasLineOutputFull;case Games.MenuId.StoryLibrary:return Game.moduleModel.story.isRed;case Games.MenuId.Order:return Game.moduleModel.order.redNum;case Games.MenuId.Fans:return Game.moduleModel.visit.isRed;case Games.MenuId.Meeting:return Game.moduleModel.meeting.isRed;case Games.MenuId.Official:return Game.moduleModel.business.isRed;case Games.MenuId.Mission:return Game.moduleModel.mission.getRead();case Games.MenuId.Bag:return Game.moduleModel.bag.RedNum;case Games.MenuId.Event:return Game.moduleModel.activity.waitForGetNum>0;case Games.MenuId.Weal:return !Game.moduleModel.activity.curIsSign||Game.moduleModel.secretary.isCanGetWelf;case Games.MenuId.Cooperation:return Game.moduleModel.cooperation.isHaveRedTip||Game.moduleModel.cooperation.isRewardBoxRedTip||Game.moduleModel.cooperation.isRewardTaskRedTip;case Games.MenuId.Mail:return Game.moduleModel.mail.RedNum;case Games.MenuId.Shop:return Game.moduleModel.shop.RedNum;case Games.MenuId.Rank:return Game.moduleModel.rank.RedNum;case Games.MenuId.Street:return Game.moduleModel.street.RedNum;case Games.MenuId.Market:return Game.moduleModel.market.RedNum}if(this.dict.hasKey(menuId)){return this.dict.getValue(menuId).apply(this)}return false};return MenuValidateRed}(MenuValidate));Games.MenuValidateRed=MenuValidateRed})(Games||(Games={}));var Games;(function(Games){var ModelManagerList=(function(){function ModelManagerList(){this.list=[];this.item=new Games.ItemModel();this.story=new Games.StoryModel();this.building=new Games.BuildingModel();this.playerInfo=new Games.PlayerInfoModel();this.actor=new Games.ActorModel();this.warData=new Games.WarModel();this.market=new Games.MarketModel();this.bag=new Games.BagModel();this.produce=new Games.ProduceModel();this.mail=new Games.MailModel();this.shop=new Games.ShopModel();this.recharge=new Games.RechargeModel();this.task=new Games.TaskModel();this.order=new Games.OrderModel();this.progressBox=new Games.ProgressBoxModel();this.setting=new Games.SystemSettingModel();this.visit=new Games.VisitModel();this.business=new Games.BusinessModel();this.meeting=new Games.MeetingModel();this.activity=new Games.ActivityModel();this.rank=new Games.RankModel();this.mission=new Games.MissionModel();this.street=new Games.StreetModel();this.oscar=new Games.OscarModel();this.notice=new Games.NoticeModel();this.secretary=new Games.SecretaryModel();this.cooperation=new Games.CooperationModel();this.guide=new Games.GuideModel()}ModelManagerList.prototype.initList=function(){this.list.push(this.item);this.list.push(this.story);this.list.push(this.building);this.list.push(this.actor);this.list.push(this.warData);this.list.push(this.market);this.list.push(this.bag);this.list.push(this.playerInfo);this.list.push(this.produce);this.list.push(this.mail);this.list.push(this.mission);this.list.push(this.shop);this.list.push(this.recharge);this.list.push(this.task);this.list.push(this.order);this.list.push(this.progressBox);this.list.push(this.setting);this.list.push(this.rank);this.list.push(this.visit);this.list.push(this.business);this.list.push(this.meeting);this.list.push(this.activity);this.list.push(this.street);this.list.push(this.oscar);this.list.push(this.notice);this.list.push(this.secretary);this.list.push(this.cooperation);this.list.push(this.guide)};return ModelManagerList}());Games.ModelManagerList=ModelManagerList})(Games||(Games={}));var Games;(function(Games){var ModelManager=(function(_super){__extends(ModelManager,_super);function ModelManager(){return _super!==null&&_super.apply(this,arguments)||this}ModelManager.prototype.install=function(){this.initList();for(var i=0;i<this.list.length;i++){this.list[i].install()}};return ModelManager}(Games.ModelManagerList));Games.ModelManager=ModelManager})(Games||(Games={}));var Games;(function(Games){var ActivityModel=(function(_super){__extends(ActivityModel,_super);function ActivityModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.preSingMsg=null;_this.curCycle=1;_this.haveSignList=new Array();_this.curSignDay=0;_this.curIsSign=false;_this.signDic=new Dictionary();_this.signDrop=null;_this.sUpdateSign=new Signal();_this.preSevenMsg=null;_this.isSetIntervalStart=false;_this.waitForGetNum=0;_this.sevenDic=new Dictionary();_this.sUpdateSeven=new Signal();return _this}ActivityModel.prototype.signInit=function(msg){if(msg!==null){this.preSingMsg=msg}if(this.preSingMsg===null){return}this.curSignDay=this.preSingMsg.count;this.curCycle=1;while(this.curSignDay>30){this.curSignDay-=30;this.curCycle++}var sevTime=Game.time.timestampToTime(this.preSingMsg.updateTime);var locTime=Game.time.localTimestamToTime();this.curIsSign=true;for(var i=0;i<3;i++){if(sevTime[i]<locTime[i]){this.curIsSign=false;break}}if(!this.curIsSign){this.curSignDay++}for(var i=1;i<31;i++){var state=0;if(i===this.curSignDay){if(this.curIsSign){state=2}else{state=1}}else{if(i<this.curSignDay){state=2}}this.signDic.add(i,state)}};ActivityModel.prototype.curSignStatus=function(index){if(this.signDic.hasKey(index)){return this.signDic.getValue(index)}return 0};ActivityModel.prototype.sendSign=function(){Game.protosender.dailySign.sign()};ActivityModel.prototype.handlerSign=function(msg){this.signDrop=msg.dropout;this.sUpdateSign.dispatch()};Object.defineProperty(ActivityModel.prototype,"sevenConfig",{get:function(){if(!this._sevenConfig||this._sevenConfig===null){this._sevenConfig=Game.config.countActivities.sevenConfigList()}return this._sevenConfig},enumerable:true,configurable:true});ActivityModel.prototype.sevenInit=function(msg,uuid){var _this=this;if(uuid===void 0){uuid=null}if(!this.isSetIntervalStart){this.isSetIntervalStart=true;setInterval(function(){_this.secondUpdateActivity()},1000)}this.waitForGetNum=0;if(msg!==null){this.uuid=uuid;this.preSevenMsg=msg}if(this.preSevenMsg===null||this.sevenIsOver){this.preSevenMsg=null;return false}for(var i=1;i<this.sevenConfig.length+1;i++){if(this.preSevenMsg.progress>=i){var staus=(this.preSevenMsg.staus>>(i-1))&1;this.sevenDic.add(i,staus+1);if(staus===0){this.waitForGetNum++}}else{this.sevenDic.add(i,0)}}return true};ActivityModel.prototype.curSevenStatus=function(index){if(this.sevenDic.hasKey(index)){return this.sevenDic.getValue(index)}return 0};Object.defineProperty(ActivityModel.prototype,"sevenIsOver",{get:function(){var regTime=Game.time.timestampToTime(Game.time.registerSeconds);var regt=Date.UTC(regTime[0],regTime[1],regTime[2]);var locTime=Game.time.localTimestamToTime();var loct=Date.UTC(locTime[0],locTime[1],locTime[2]);var activityConfig=Game.config.activities.getConfig(1);return activityConfig.duration*24*3600<(loct-regt)*0.001},enumerable:true,configurable:true});ActivityModel.prototype.sendSevenGet=function(gear){Game.protosender.sevenAddUp.GetReward(this.uuid,gear+1)};ActivityModel.prototype.handlerSevenGet=function(msg){this.curGear=msg.gear-1;this.sUpdateSeven.dispatch()};ActivityModel.prototype.secondUpdateActivity=function(){if(Game.time.checkNewDayToRefrush(Game.time.serverSeconds,0)){Game.protosender.sevenAddUp.Touch()}};return ActivityModel}(Games.MModel));Games.ActivityModel=ActivityModel})(Games||(Games={}));var Games;(function(Games){var ActorModel=(function(_super){__extends(ActorModel,_super);function ActorModel(){var _this=_super.call(this)||this;_this.sUpdateActorInfo=new TypedSignal();_this.sAddActorList=new TypedSignal();_this.giveAssetType=0;_this.giveAssetUUid="";_this.giveAssetNum=0;_this.actorExerciseMap=new Dictionary();_this.artistList=new Array();_this.frozenList=new Array();_this.actorMap=new Dictionary();_this.actorUUidMap=new Dictionary();return _this}ActorModel.prototype.setup=function(){var _this=this;clearTimeout(this.resetTimeOut);clearTimeout(this.leaveTimeOut);clearTimeout(this.clearTimeOut);clearTimeout(this.resetDayCultivateTimeOut);var currSecond=Game.time.serverSeconds;var nextSecond=User.info.resetNoseIntoTime;if(currSecond<nextSecond){this.clearTimes=nextSecond-currSecond;this.clearTimeOut=setTimeout(function(){User.info.noseIntoNum=0;User.info.noseIntoTime=0;User.sGameInfoUpdate.dispatch();_this.setup()},this.clearTimes*1000)}else{User.info.noseIntoNum=0;User.info.noseIntoTime=0}var otherTime=GlobalConfig.getValue(GlobalKey.KEY_1002_XingTanQiaoMu__ChaCDFen)+GlobalConfig.getValue(GlobalKey.KEY_1003_MeiCiTanCha__JiaShiJianFen)*(User.info.noseIntoNum-1);var resetTimes=User.info.noseIntoTime+otherTime*60;this.resetTimes=0;if(resetTimes>currSecond){this.resetTimes=resetTimes-currSecond;this.resetTimeOut=setTimeout(function(){User.sGameInfoUpdate.dispatch()},this.resetTimes*1000)}var leaveTimes=User.info.noseIntoActorEffectTime;if(leaveTimes>currSecond){this.leaveTimes=leaveTimes-currSecond;this.leaveTimeOut=setTimeout(function(){User.info.noseIntoActorList.splice(0,User.info.noseIntoActorList.length);User.sGameInfoUpdate.dispatch()},this.leaveTimes*1000)}var resetDayTime=User.info.resetDaysCultivateCountTime;if(Game.time.checkNewDayToRefrush(resetDayTime,0)){User.info.daysCultivateCount=0}else{var time=resetDayTime-currSecond;this.resetDayCultivateTimeOut=setTimeout(function(){User.info.daysCultivateCount=0;User.sGameInfoUpdate.dispatch()},time*1000)}};ActorModel.prototype.sortArtist=function(list){list.sort(this.descActor)};ActorModel.prototype.descActor=function(b,a){var result=a.star-b.star;if(result==0){result=a.level-b.level;if(result==0){result=a.id-b.id}}return result};ActorModel.prototype.hasActor=function(id){var b=this.actorMap.hasKey(id);return b};ActorModel.prototype.hasActorByUUid=function(uuid){var b=this.actorUUidMap.hasKey(uuid);return b};ActorModel.prototype.getActor=function(id){return this.actorMap.getValue(id)};ActorModel.prototype.getActorByUUid=function(uuid){return this.actorUUidMap.getValue(uuid)};ActorModel.prototype.getActors=function(){if(this.isSortArtist==false){this.isSortArtist=true;this.sortArtist(this.artistList)}return this.artistList};ActorModel.prototype.getHideActors=function(){if(this.isSortFrozen==false){this.isSortFrozen=true;this.sortArtist(this.frozenList)}return this.frozenList};ActorModel.prototype.getHideActorLen=function(){return this.frozenList.length};ActorModel.prototype.getActorLen=function(){return this.artistList.length};ActorModel.prototype.getAllActorLen=function(){return this.getActorLen()+this.getHideActorLen()};Object.defineProperty(ActorModel.prototype,"actorIsMax",{get:function(){return User.info.maxActor<=this.artistList.length},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"actorHideIsMax",{get:function(){return User.info.maxHideActor<=this.frozenList.length},enumerable:true,configurable:true});ActorModel.prototype.isHide=function(id){var data=this.getActor(id);var b=false;if(data){b=data.hide}return b};ActorModel.prototype.addToFrozen=function(id){var data=this.actorMap.getValue(id);this.isSortFrozen=false;if(this.frozenList.indexOf(data)<0){this.frozenList.push(data)}this.removeFromArtistList(id)};ActorModel.prototype.removeFromArtistList=function(id){var data=this.actorMap.getValue(id);var index=this.artistList.indexOf(data);if(index>=0){this.artistList.splice(index,1)}};ActorModel.prototype.removeFromFrozenList=function(id){var data=this.actorMap.getValue(id);var index=this.frozenList.indexOf(data);if(index>=0){this.frozenList.splice(index,1)}};ActorModel.prototype.addActorData=function(msg){var data=this.getActor(msg.actorId);if(data==null){data=new Games.ActorData()}data.uuid=msg.uuid;data.art=msg.art;data.hide=msg.hide;data.payCheck=msg.payCheck;data.stamina=msg.stamina;data.staminaLimit=msg.staminaLimit;data.loyaltyExp=msg.LoyaltyExp;data.loyaltyLevel=msg.LoyaltyLevel;data.cultivateCountLimit=msg.cultivateCountLimit;data.giveAssetsCount=msg.giveAssetsCount;data.giveAssetsCountLimit=msg.giveAssetsCountLimit;data.giveAssetsList=msg.giveAssetsList;data.skillExp=msg.skillExp;data.skillList=msg.skillList;data.shootTypeList=msg.shootTypeList;data.spectacle=msg.spectacle;data.perform=msg.perform;data.plot=msg.plot;data.art=msg.art;data.entertainment=msg.entertainment;data.levelExp=msg.levelExp;data.boxOfficeCount=msg.boxOfficeCount;data.cupCount=msg.cupCount;data.movieCount=msg.movieCount;data.setId(msg.actorId);data.setLevel(msg.level);data.setTrainCount(msg.cultivateCount);data.setSkills();data.setAssets();this.addActor(msg.actorId,data);if(isNullOrEmpty(msg.name)){data.name=data.config.name}else{data.name=msg.name}Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_3_UpgradeActor);return data};ActorModel.prototype.addActor=function(id,data){this.actorMap.add(id,data);this.actorUUidMap.add(data.uuid,data);if(data.hide){this.addToFrozen(id)}else{this.addToArist(id)}};ActorModel.prototype.addToArist=function(id){var data=this.actorMap.getValue(id);this.isSortArtist=false;if(this.artistList.indexOf(data)<0){this.artistList.push(data)}this.removeFromFrozenList(id)};ActorModel.prototype.removeActor=function(id){var actor=this.getActor(id);if(actor){this.actorMap.remove(id)}this.removeFromArtistList(id);this.removeFromFrozenList(id)};Object.defineProperty(ActorModel.prototype,"isCanNoseActor",{get:function(){var isRed=false;var isUnlock=Game.config.menu.getConfig(Games.MenuId.ArtistList).isUnlock;if(isUnlock){if(User.info.noseIntoTime>0){var resetTimes=User.info.noseIntoTime+this.noseCdReset;var nowTimes=getTimeStamp();if(resetTimes<=nowTimes&&this.actorIsMax==false&&this.isMaxNose==false){isRed=true}}else{if(this.isMaxNose==false&&this.actorIsMax==false){isRed=true}}}return isRed},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isMaxNose",{get:function(){var max=GlobalConfig.getValue(GlobalKey.KEY_1004_TanChaCiShuShangXian);if(Game.moduleModel.secretary.isForever){max+=Game.moduleModel.secretary.noseIntoNum}return User.info.noseIntoNum>=max},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"noseCdReset",{get:function(){var otherTime=GlobalConfig.getValue(GlobalKey.KEY_1002_XingTanQiaoMu__ChaCDFen)+GlobalConfig.getValue(GlobalKey.KEY_1003_MeiCiTanCha__JiaShiJianFen)*(User.info.noseIntoNum-1);var resetTime=otherTime*60;if(Game.moduleModel.secretary.isForever){resetTime=resetTime*((100-Game.moduleModel.secretary.resetCdRate)/100)}return Math.ceil(resetTime)},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isUnlockActorSkill",{get:function(){var isUnlock=false;isUnlock=User.info.level>=GlobalConfig.getValue(GlobalKey.KEY_1033_YiRenJiNeng__GongSiDengJi);return isUnlock},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isUnlockActorTrain",{get:function(){var isUnlock=false;return false},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isUnlockActorAsset",{get:function(){var isUnlock=false;isUnlock=User.info.level>=GlobalConfig.getValue(GlobalKey.KEY_1034_YiRenZiChan__GongSiDengJi);return false},enumerable:true,configurable:true});ActorModel.prototype.addActorExerciseData=function(msg,uuid){var actorExpercise=this.actorExerciseMap.getValue(uuid);if(!actorExpercise){actorExpercise=new Games.ActorExerciseData(msg)}actorExpercise.seatUuid=uuid;actorExpercise.uuid=msg.actorUuid;actorExpercise.seatIndex=msg.index;actorExpercise.startTime=msg.startTime;this.actorExerciseMap.add(uuid,actorExpercise)};ActorModel.prototype.getActorExerciseDataByActorUuid=function(uuid){var actorExperciseMapValues=this.actorExerciseMap.getValues();return actorExperciseMapValues.findOne(function(value){return value.uuid==uuid})};ActorModel.prototype.getActorExerciseDataByUuid=function(lineUuid){return this.actorExerciseMap.getValue(lineUuid)};ActorModel.prototype.isActorOnExercise=function(actorId){var actorData=this.getActor(actorId);var actorExerciseData=null;if(actorData){actorExerciseData=this.getActorExerciseDataByActorUuid(actorData.uuid)}return actorExerciseData!=null};ActorModel.prototype.getActorExerciseDataKeys=function(){return this.actorExerciseMap.getKeys()};ActorModel.prototype.getExperciseDataList=function(){return this.actorExerciseMap.getValues()};Object.defineProperty(ActorModel.prototype,"onExperciseCount",{get:function(){var actorExperciseMapValues=this.actorExerciseMap.getValues();return actorExperciseMapValues.filter(function(value){return value.uuid!=""}).length},enumerable:true,configurable:true});ActorModel.prototype.isUseInMovie=function(id){var b=false;if(Game.moduleModel.warData.moveData!=null){var list=Game.moduleModel.warData.getRealYRList.getValues();for(var index=0;index<list.length;index++){var element=list[index];if(element.id==id){b=true;break}}}return b};Object.defineProperty(ActorModel.prototype,"hasCanVisitActor",{get:function(){var b=false;for(var index=0;index<this.artistList.length;index++){var element=this.artistList[index];if(Games.AvatarManager.isActorReceptionOnLimit(element.id)==false){b=true}}return b},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isOpenTrain",{get:function(){var id=GlobalConfig.getValue(GlobalKey.KEY_1032_YiRenPeiYang__ChengShiID);return Game.moduleModel.market.GetCityState(id)==Games.CityStateEnum.hasOccupy},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isOpenSkill",{get:function(){var lv=GlobalConfig.getValue(GlobalKey.KEY_1033_YiRenJiNeng__GongSiDengJi);return User.info.level>=lv},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"isOpenAsset",{get:function(){var lv=GlobalConfig.getValue(GlobalKey.KEY_1034_YiRenZiChan__GongSiDengJi);return User.info.level>=lv},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"openTrainTip",{get:function(){var id=GlobalConfig.getValue(GlobalKey.KEY_1032_YiRenPeiYang__ChengShiID);var city=Game.config.city.getConfig(id);var tip;if(city){tip=format(Games.TEXT.TrainOpen,city.name)}return tip},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"openSkillTip",{get:function(){var lv=GlobalConfig.getValue(GlobalKey.KEY_1033_YiRenJiNeng__GongSiDengJi);var tip;tip=format(Games.TEXT.SkillOpen,lv);return tip},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"openAssetTip",{get:function(){var lv=GlobalConfig.getValue(GlobalKey.KEY_1034_YiRenZiChan__GongSiDengJi);var tip;tip=format(Games.TEXT.AssetOpen,lv);return tip},enumerable:true,configurable:true});ActorModel.prototype.getAllActors=function(){var result=[];var actors=this.getActors();var hideActors=this.getHideActors();for(var _i=0,actors_1=actors;_i<actors_1.length;_i++){var actor=actors_1[_i];result.push(actor)}for(var _a=0,hideActors_1=hideActors;_a<hideActors_1.length;_a++){var actorHide=hideActors_1[_a];result.push(actorHide)}return result};ActorModel.prototype.compareField=function(fieldName){var filterItem;var compareVal=0;var actors=this.getAllActors();for(var _i=0,actors_2=actors;_i<actors_2.length;_i++){var actor=actors_2[_i];if(actor[fieldName]>=compareVal){compareVal=actor.boxOfficeCount;filterItem=actor}}return filterItem};Object.defineProperty(ActorModel.prototype,"getTopBoxOfficeCount",{get:function(){return this.compareField("boxOfficeCount")},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"getTopCupCount",{get:function(){return this.compareField("cupCount")},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"getTopMovieCount",{get:function(){return this.compareField("movieCount")},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"getTopGiveAssetListCount",{get:function(){return this.compareField("giveAssetsCount")},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"getTopCultivateCount",{get:function(){return this.compareField("cultivateCount")},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"getTopSkillLevel",{get:function(){var filterItem;var compareVal=0;var actors=this.getAllActors();for(var _i=0,actors_3=actors;_i<actors_3.length;_i++){var actor=actors_3[_i];var totalSkillLevel=0;for(var _a=0,_b=actor.skillList;_a<_b.length;_a++){var skillInfo=_b[_a];var skillCfg=Game.config.skill.getConfig(skillInfo.skillId);totalSkillLevel+=skillCfg.lv}if(totalSkillLevel>=compareVal){compareVal=totalSkillLevel;filterItem=actor}}return filterItem},enumerable:true,configurable:true});Object.defineProperty(ActorModel.prototype,"bestActorCupCount",{get:function(){var actors=this.getAllActors();var totalCount=0;for(var _i=0,actors_4=actors;_i<actors_4.length;_i++){var actor=actors_4[_i];totalCount+=actor.cupCount}return totalCount},enumerable:true,configurable:true});ActorModel.assetLenth=4;return ActorModel}(Games.MModel));Games.ActorModel=ActorModel})(Games||(Games={}));var Games;(function(Games){var BagModel=(function(_super){__extends(BagModel,_super);function BagModel(){return _super!==null&&_super.apply(this,arguments)||this}BagModel.prototype.GetBagVolume=function(){var va;if(Game.config.global.getConfig(35)){va=Game.config.global.getConfig(35).value}else{va=0}var roomInfo=Game.moduleModel.building.getRoomByType(6);if(roomInfo==null){return va}var effectId=roomInfo.id*100+1;var effect=Game.config.buildingEffect.getConfig(effectId);if(effect){return va+effect.par1}return va};BagModel.prototype.GetItemNumByType=function(type){var num=0;var itemList=Game.moduleModel.item.itemList;for(var _i=0,itemList_1=itemList;_i<itemList_1.length;_i++){var item=itemList_1[_i];if(item.itemType==type){num+=item.itemNum}}return num};BagModel.prototype.GetItemType=function(itemId){return Game.config.item.getType(itemId)};BagModel.prototype.IsItemFull=function(itemId,itemNum){if(itemNum===void 0){itemNum=1}var type=this.GetItemType(itemId);if(type==4){return this.IsBagFull(itemNum)}if(itemId==Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value){var propNum=Game.moduleModel.item.getItemNum(itemId);return propNum+itemNum>Game.config.global.getConfig(GlobalKey.Licence_Store_Max).value}return false};BagModel.prototype.IsLicenceFull=function(itemId,itemNum){if(itemId==Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value){var propNum=Game.moduleModel.item.getItemNum(itemId);return propNum+itemNum>Game.config.global.getConfig(GlobalKey.Licence_Store_Max).value}return false};BagModel.prototype.IsBagFull=function(addNum){if(addNum===void 0){addNum=1}var volume=this.GetBagVolume();var propNum=this.GetItemNumByType(4);return propNum+addNum>volume};Object.defineProperty(BagModel.prototype,"RedNum",{get:function(){return this.RedGift+this.RedPact},enumerable:true,configurable:true});Object.defineProperty(BagModel.prototype,"RedGift",{get:function(){var list=Game.moduleModel.item.GetItemListByType([8]);return list.length},enumerable:true,configurable:true});Object.defineProperty(BagModel.prototype,"RedPact",{get:function(){var list=Game.moduleModel.item.GetItemListByType([7]);var num=0;for(var index=0;index<list.length;index++){var data=list[index];var actorId=data.itemConfig.actor_id;var actor=Game.moduleModel.actor.getActor(actorId);if(actor){continue}if(data.itemConfig.actor_num<=data.itemNum){num++}}return num},enumerable:true,configurable:true});return BagModel}(Games.MModel));Games.BagModel=BagModel})(Games||(Games={}));var Games;(function(Games){var FloorInfo=(function(){function FloorInfo(){this.index=0}return FloorInfo}());Games.FloorInfo=FloorInfo;var RoomInfo=(function(){function RoomInfo(){this.id=0;this.floor=0;this.name="room";this.type=0;this.isBuilded=false}Object.defineProperty(RoomInfo.prototype,"buildLevelConfig",{get:function(){return Game.config.buildingLevel.getConfig(this.id)},enumerable:true,configurable:true});Object.defineProperty(RoomInfo.prototype,"level",{get:function(){return this.buildLevelConfig.level},enumerable:true,configurable:true});RoomInfo.prototype.updateServer=function(info){this.id=info.roomId;this.floor=info.floor;var config=Game.config.buildingLevel.getConfig(info.roomId);this.name=config.name;this.type=config.type;this.isBuilded=true};RoomInfo.creatInfo=function(sinfo){var info=new RoomInfo();info.updateServer(sinfo);return info};return RoomInfo}());Games.RoomInfo=RoomInfo;var RoomAvatarData=(function(){function RoomAvatarData(){this.performType=Games.PerformType.FreeWalk;this.onEvent=true;this.eventId=0;this.roomId=0;this.roomType=0;this.avatarId=0;this.avatarUid=0}return RoomAvatarData}());Games.RoomAvatarData=RoomAvatarData;var BuildingModel=(function(_super){__extends(BuildingModel,_super);function BuildingModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.roomInfoList=[];_this.avatarLimitRoomType=[Games.RoomType.Cinema,Games.RoomType.Training];_this._isOnMeeting=false;return _this}BuildingModel.prototype.install=function(){this.avatarDict=new Dictionary()};BuildingModel.prototype.addAvatar=function(roomType,info){var avatarList=this.getRoomAvatarList(roomType);if(!this.hasAvatar(roomType,info.uid)){avatarList.push(info)}};BuildingModel.prototype.removeAvatar=function(roomType,avatarUid){var avatarList=this.getRoomAvatarList(roomType);for(var i=0;i<avatarList.length;i++){if(avatarList[i].uid==avatarUid){avatarList.splice(i,1);break}}};BuildingModel.prototype.getRoomAvatarList=function(roomType){return this.avatarDict.getValue(roomType)||[]};BuildingModel.prototype.getAvatar=function(roomType,avatarUid){var avatarList=this.getRoomAvatarList(roomType);return avatarList.findOne(function(value){return value.uid==avatarUid})};BuildingModel.prototype.findActorById=function(actorId){var roomAvatar;var allAvatarList=this.avatarDict.getValues();for(var _i=0,allAvatarList_1=allAvatarList;_i<allAvatarList_1.length;_i++){var avatarList=allAvatarList_1[_i];for(var _a=0,avatarList_1=avatarList;_a<avatarList_1.length;_a++){var avatarInfo=avatarList_1[_a];if(avatarInfo.id==actorId){roomAvatar=new RoomAvatarData();roomAvatar.avatarId=actorId;roomAvatar.avatarUid=avatarInfo.uid;if(avatarInfo.roomInfo){roomAvatar.roomType=avatarInfo.roomInfo.type}return roomAvatar}}}return roomAvatar};BuildingModel.prototype.hasAvatar=function(roomType,avatarUid){return this.getAvatar(roomType,avatarUid)!=null};BuildingModel.prototype.getAvatarEnterRoomType=function(actor){var result=[];var roomTypes=this.avatarDict.getKeys();var maxActorCount=GlobalConfig.getValue(GlobalKey.KEY_1015_YiRenZaiLou__ShuLiangShangXian);for(var _i=0,roomTypes_1=roomTypes;_i<roomTypes_1.length;_i++){var roomType=roomTypes_1[_i];roomType=Number(roomType);if(this.isAvatarLimitRoom(roomType)){continue}if(roomType==Games.RoomType.Meeting&&this.isOnMeeting){continue}if(roomType==Games.RoomType.Reception&&Games.AvatarManager.hasActorVisit){continue}if(this.avatarDict.getValue(roomType).length<maxActorCount){result.push(roomType)}}if(result.length>0){var rdIndex=Random.range(0,result.length);return result[rdIndex]}return -1};BuildingModel.prototype.isAvatarLimitRoom=function(roomType){return this.avatarLimitRoomType.indexOf(roomType)!=-1};Object.defineProperty(BuildingModel.prototype,"isOnMeeting",{get:function(){return this._isOnMeeting},set:function(value){this._isOnMeeting=value},enumerable:true,configurable:true});BuildingModel.prototype.getRoomInfo=function(id){return this.roomInfoList.findOne(function(value){return value.id==id})};BuildingModel.prototype.getRoomByType=function(roomType){return this.roomInfoList.findOne(function(value){return value.type==roomType})};BuildingModel.prototype.getRoomLevel=function(roomType){var roomInfo=this.getRoomByType(roomType);if(roomInfo){return Game.config.buildingLevel.getConfig(roomInfo.id).level}return 0};BuildingModel.prototype.addRoomInfo=function(info){this.roomInfoList.push(info);this.avatarDict.add(info.type,[])};BuildingModel.prototype.upgradeRoom=function(preRoomId,roomId){var preRoomInfo=this.getRoomInfo(preRoomId);var cfg=Game.config.buildingLevel.getConfig(roomId);preRoomInfo.id=roomId;preRoomInfo.name=cfg.name};BuildingModel.prototype.getInfoList=function(){return this.roomInfoList};BuildingModel.prototype.validataBuildLevel=function(buildLevelId){var buildType=this.buildLevelId2BuildId(buildLevelId);var roomInfo=this.getRoomByType(buildType);if(roomInfo){var buildLevelCfg=Game.config.buildingLevel.getConfig(buildLevelId);if(buildLevelCfg){return buildLevelCfg.level<=roomInfo.level}}return false};BuildingModel.prototype.hasBuildById=function(buildId){return this.getRoomInfo(buildId)!=null};BuildingModel.prototype.hasBuildByType=function(buildType){return this.getRoomByType(buildType)!=null};BuildingModel.prototype.hasBuildFloorWithoutRoom=function(floorIndex){if(floorIndex===void 0){floorIndex=1}return User.info.extendFloor==floorIndex&&User.info.buildRoomInfo.length<floorIndex};BuildingModel.prototype.buildLevelId2BuildId=function(buildLevelId){return Math.floor(buildLevelId/1000)};BuildingModel.prototype.getBuildEffectPar=function(buildType,effectType){var buildInfo=this.getRoomByType(buildType);var par=0;if(buildInfo){var buildLvConfig=Game.config.buildingLevel.getConfig(buildInfo.id);if(buildLvConfig){var effects=buildLvConfig.effect_id;for(var index=0;index<effects.length;index++){var element=effects[index];var buildEffectCfg=Game.config.buildingEffect.getConfig(element);if(buildEffectCfg.effect==effectType){par=buildEffectCfg.par1}}}}return par};BuildingModel.prototype.getBuildEffectNum=function(buildType,itemId,itemNum){var buildInfo=this.getRoomByType(buildType);var num=itemNum;if(buildInfo){var buildLvConfig=Game.config.buildingLevel.getConfig(buildInfo.id);if(buildLvConfig){var effects=buildLvConfig.effect_id;for(var index=0;index<effects.length;index++){var element=effects[index];var buildEffectCfg=Game.config.buildingEffect.getConfig(element);switch(buildEffectCfg.effect){case Games.BuildingEffectType.effect_add_order_zan:if(itemId==buildEffectCfg.par1){num=Math.floor(itemNum*(buildEffectCfg.par2/100+1))}break;case Games.BuildingEffectType.effect_add_order_xuanchuan:if(itemId==buildEffectCfg.par1){num=itemNum+buildEffectCfg.par2}break;case Games.BuildingEffectType.effect_add_business_reward:num=Math.floor(itemNum*(buildEffectCfg.par1/100+1));break;case Games.BuildingEffectType.effect_add_fans_visit_reward:num=Math.floor(itemNum*(buildEffectCfg.par1/100+1));break;case Games.BuildingEffectType.effect_add_meeting_reward:num=Math.floor(itemNum*(buildEffectCfg.par1/100+1));break;default:break}}}}return num};return BuildingModel}(Games.MModel));Games.BuildingModel=BuildingModel})(Games||(Games={}));var Games;(function(Games){var BusinessModel=(function(_super){__extends(BusinessModel,_super);function BusinessModel(){return _super.call(this)||this}BusinessModel.prototype.getBusinessData=function(){return this.businessData};BusinessModel.prototype.addBusinessData=function(msg){if(this.businessData==null){this.businessData=new Games.BusinessData()}this.businessData.uuid=msg.uuid;this.businessData.id=msg.businessId;this.businessData.dailyCount=msg.dailyCount;this.businessData.lineLimit=msg.lineLimit;this.businessData.lastResetTime=msg.lastResetTime;this.businessData.lastUpdateTime=msg.lastUpdateTime;this.businessData.startToMaxTime();this.businessData.startResetDailyCountTime();return this.businessData};Object.defineProperty(BusinessModel.prototype,"isRed",{get:function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Office);if(isBuild){if(this.businessData){b=this.businessData.isMax}}return b},enumerable:true,configurable:true});return BusinessModel}(Games.MModel));Games.BusinessModel=BusinessModel})(Games||(Games={}));var Games;(function(Games){var CooperationModel=(function(_super){__extends(CooperationModel,_super);function CooperationModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.cooperTaskData=null;_this.cooperateData=null;_this.sAccountCooperateDataUpdate=new Signal();_this.sCooperateTaskDataUpdate=new Signal();_this.taskIsHaveGetOne=false;_this.isHaveRedTip=false;_this.isRewardBoxRedTip=false;_this.isRewardTaskRedTip=false;_this.sReqTimeUpdate=new Signal();_this.lastReqTimeNum=0;_this._inviteCD=0;_this.btnDelayTime=0;_this.sReqTimeAutoUpdate=new Signal();_this.lastReqTimeAutoNum=0;_this._inviteCDAuto=0;_this.firstGetPartner=0;_this.partnerInfData=null;_this.sReqOtherInf=new TypedSignal();_this.searId=0;_this.sCallHavePartner=new Signal();_this.sRewardGetCall=new TypedSignal();_this.sRewardHideCall=new Signal();return _this}CooperationModel.prototype.updateAccountCooperateData=function(msg,ops,uuid){if(ops===EGameDataOps.remove){console.error("================================删除");this.isHaveRedTip=false}else{this.cooperData=msg;if(this.havePartner){if(this.partnerInfData&&this.partnerInfData!==null&&this.partnerInfData.userId===parseInt(this.cooperData.friendEntityId)){}else{this.partnerInfData=null;this.sendGetOtherInf(parseInt(this.cooperData.friendEntityId))}if(this.cooperData.isRead){this.isHaveRedTip=true}else{this.isHaveRedTip=false}}else{this.isHaveRedTip=false;if(this.cooperData.appList&&this.cooperData.appList!==null&&this.cooperData.appList.length>0){if(this.partnerInfData&&this.partnerInfData!==null&&this.partnerInfData.userId===parseInt(this.cooperData.appList[0].entityId)){this.isHaveRedTip=true}else{this.sendGetOtherInf(parseInt(this.cooperData.appList[0].entityId))}}}this.sCallHavePartner.dispatch()}this.sAccountCooperateDataUpdate.dispatch()};CooperationModel.prototype.updateAutoCooperateData=function(msg,ops,uuid){if(ops===EGameDataOps.remove){this.cooperateData=null}else{this.cooperateData=msg}this.lastReqAutoTime()};CooperationModel.prototype.updatePlayerCooperateData=function(msg,ops,uuid){this.cooperPlayerData=msg;this.lastReqTime();this.lastReqAutoTime()};CooperationModel.prototype.updateCooperateTaskData=function(msg,ops,uuid){this.cooperTaskData=msg;if(ops===EGameDataOps.remove){this.isRewardBoxRedTip=false}else{this.sCooperateTaskDataUpdate.dispatch();this.isRewardBoxRedTip=false;for(var i=1;i<7;i++){var status_1=0;if(this.cooperData.isCaptain){status_1=(this.cooperTaskData.captainRewardStatus>>i)&1}else{status_1=(this.cooperTaskData.rewardStatus>>i)&1}var canGetReward=Game.moduleModel.cooperation.cooperTaskData.progree>i;if(status_1!==1){if(canGetReward){this.isRewardBoxRedTip=true}}}this.isRewardTaskRedTip=false;for(var i=0;i<this.cooperTaskData.tasks.length;i++){var task=this.cooperTaskData.tasks[i].starTasks;for(var j=0;j<task.length;j++){if(task[j].status===1){if(parseInt(task[j].receiveUuid)===User.info.entityId){this.isRewardTaskRedTip=true}}}}}};CooperationModel.prototype.lastReqTime=function(){if(this.cooperPlayerData&&this.cooperPlayerData!==null){if(!this.lastReqTimeTick||this.lastReqTimeTick===null){this.lastReqTimeTick=Game.tick.AddTick(1,-1,Handler.create(this,this.UpdatelastReqTime,null,false),null)}this.lastReqTimeTick.Restart()}};Object.defineProperty(CooperationModel.prototype,"inviteCD",{get:function(){if(this._inviteCD===0){this._inviteCD=Game.config.global.getConfig(GlobalKey.Cooperate_Invited_CD).value}return this._inviteCD},enumerable:true,configurable:true});CooperationModel.prototype.UpdatelastReqTime=function(){this.lastReqTimeNum=this.inviteCD-Game.time.getSubSecondsPre(this.cooperPlayerData.lastReqTime);if(this.lastReqTimeNum<=0){this.lastReqTimeNum=0;this.lastReqTimeTick.Stop()}this.sReqTimeUpdate.dispatch()};CooperationModel.prototype.setDealyCanUse=function(callFun){var _this=this;if(this.btnDelayTime<=0){this.btnDelayTime=this.inviteCD*1000;setTimeout(function(){_this.btnDelayTime=0;if(callFun&&callFun!==null){callFun()}},this.inviteCD*1000)}};CooperationModel.prototype.lastReqAutoTime=function(){if(this.cooperPlayerData&&this.cooperPlayerData!==null){if(!this.lastReqTimeAutoTick||this.lastReqTimeAutoTick===null){this.lastReqTimeAutoTick=Game.tick.AddTick(1,-1,Handler.create(this,this.UpdatelastReqAutoTime,null,false),null)}this.lastReqTimeAutoTick.Restart()}};Object.defineProperty(CooperationModel.prototype,"inviteCDAuto",{get:function(){if(this._inviteCDAuto===0){this._inviteCDAuto=Game.config.global.getConfig(GlobalKey.Cooperate_Public_Invited_Time).value}return this._inviteCDAuto},enumerable:true,configurable:true});CooperationModel.prototype.UpdatelastReqAutoTime=function(){if(this.cooperateData&&this.cooperateData!==null){this.lastReqTimeAutoNum=this.inviteCDAuto-Game.time.getSubSecondsPre(this.cooperPlayerData.lastAutoReqTime);if(this.lastReqTimeAutoNum<=0){this.lastReqTimeAutoNum=0;this.lastReqTimeAutoTick.Stop()}if(this.havePartner){this.cooperateData=null}}else{this.lastReqTimeAutoNum=0;if(this.lastReqTimeAutoTick&&this.lastReqTimeAutoTick!==null){this.lastReqTimeAutoTick.Stop()}}this.sReqTimeAutoUpdate.dispatch()};Object.defineProperty(CooperationModel.prototype,"havePartner",{get:function(){if(this.cooperData&&this.cooperData.friendEntityId&&this.cooperData.friendEntityId.length>0){return true}return false},enumerable:true,configurable:true});CooperationModel.prototype.sendGetOtherInf=function(entityId){this.searId=entityId;this.sReqOtherInf.add(this.handleGetOtherInf,this);Game.protosender.rank.GetPlayerShortData(entityId)};CooperationModel.prototype.handleGetOtherInf=function(msg){if(this.searId===msg.data.userId){this.partnerInfData=msg.data;this.sReqOtherInf.remove(this.handleGetOtherInf,this)}};CooperationModel.prototype.sendApply=function(entityId){Game.protosender.cooperate.Apply(entityId)};CooperationModel.prototype.sendRelieve=function(){Game.protosender.cooperate.Relieve()};CooperationModel.prototype.sendApprove=function(type,entityId){Game.protosender.cooperate.Approve(type,entityId)};CooperationModel.prototype.sendGetInfo=function(){Game.protosender.cooperate.GetInfo()};CooperationModel.prototype.sendTaskOperate=function(type,taskId,star){Game.protosender.cooperate.TaskOperate(type,taskId,star)};CooperationModel.prototype.sendGetTaskReward=function(taskId,star){Game.protosender.cooperate.GetTaskReward(taskId,star)};CooperationModel.prototype.sendGiveReward=function(itemId){Game.protosender.cooperate.GiveReward(itemId)};CooperationModel.prototype.sendGetProgressTask=function(index){Game.protosender.cooperate.GetProgressTask(index)};CooperationModel.prototype.sendCancelCooperate=function(){Game.protosender.cooperate.CancelCooperate()};CooperationModel.prototype.sendReadCooperate=function(){Game.protosender.cooperate.ReadCooperate()};CooperationModel.prototype.Apply=function(msg){};CooperationModel.prototype.Relieve=function(msg){};CooperationModel.prototype.Approve=function(msg){if(msg.type===1){this.partnerInfData=null}};CooperationModel.prototype.GetInfo=function(msg){};CooperationModel.prototype.TaskOperate=function(msg){};CooperationModel.prototype.GetTaskReward=function(msg){this.sRewardGetCall.dispatch(msg)};CooperationModel.prototype.GiveReward=function(msg){};CooperationModel.prototype.GetProgressTask=function(msg){this.sRewardGetCall.dispatch(msg)};CooperationModel.prototype.CancelCooperate=function(msg){};return CooperationModel}(Games.MModel));Games.CooperationModel=CooperationModel})(Games||(Games={}));var Games;(function(Games){var GuideModel=(function(_super){__extends(GuideModel,_super);function GuideModel(){var _this=_super.call(this)||this;_this.finishGuides=new Dictionary();_this.finishStorys=new Dictionary();_this.finishStoryList=new Array();_this.finishGuideList=new Array();_this.guideOffset=1000;return _this}GuideModel.prototype.addFinishGuideId=function(id){if(id>0){if(this.isGuideFinished(id)!=true){this.finishGuides.add(id,true);this.addGuideFinishId(id);Game.protosender.BeginnerGuide.CompleteGuide(id,Proto.SE.EGuideType.guide)}}};GuideModel.prototype.addFinishStoryId=function(id){if(id>0){if(this.isStoryFinished(id)!=true){this.finishStorys.add(id,true);this.addStoryFinishId(id);Game.protosender.BeginnerGuide.CompleteGuide(id,Proto.SE.EGuideType.story)}}};GuideModel.prototype.initFinishId=function(guideIds,storyIds){this.clearFinishIds();if(storyIds){for(var index=0;index<storyIds.length;index++){var id=storyIds[index];this.finishStorys.add(id,true);this.addStoryFinishId(id)}}if(guideIds){for(var index=0;index<guideIds.length;index++){var id=guideIds[index];this.finishGuides.add(id,true);this.addFinishGuideId(id);var systemConfig=Game.config.guidesystem.getConfig(id);if(systemConfig.storyline_id>0&&this.finishStorys.hasKey(systemConfig.storyline_id)==false){this.realdyStoryId=systemConfig.storyline_id;break}}}};GuideModel.prototype.addStoryFinishId=function(id){if(this.finishStoryList.indexOf(id)==-1){this.finishStoryList.push(id)}};GuideModel.prototype.addGuideFinishId=function(id){if(this.finishGuideList.indexOf(id)==-1){this.finishGuideList.push(id)}};GuideModel.prototype.isStoryFinished=function(id){var finish=this.finishStorys.hasKey(id);return finish};GuideModel.prototype.isFinishStoryGroup=function(id){var configs=Game.config.storyline.getConfigListByGroup(id);var isFinished=true;for(var index=0;index<configs.length;index++){var element=configs[index];if(this.isStoryFinished(element.id)==false){isFinished=false}}return isFinished};GuideModel.prototype.isFinishMovieUp=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask&&mainTask.id==id){return mainTask.isFinished}return false};GuideModel.prototype.isGuideFinished=function(id){var finish=this.finishGuides.hasKey(id);return finish};GuideModel.prototype.isGuideOrStoryFinished=function(id,type){var finish=false;switch(type){case Proto.SE.EGuideType.story:if(this.finishStorys.hasKey(id)){finish=this.finishStorys.getValue(id)}break;case Proto.SE.EGuideType.guide:if(this.finishGuides.hasKey(id)){finish=this.finishGuides.getValue(id)}break;default:break}return finish};GuideModel.prototype.clearFinishIds=function(){this.finishGuides.clear();this.finishStorys.clear();this.finishStoryList.splice(0,this.finishStoryList.length)};Object.defineProperty(GuideModel.prototype,"finishGuideNums",{get:function(){return this.finishGuides.count},enumerable:true,configurable:true});Object.defineProperty(GuideModel.prototype,"storyLists",{get:function(){var list=[];for(var index=0;index<this.finishStoryList.length;index++){var element=this.finishStoryList[index];var config=Game.config.storyline.getConfig(element);if(config){if(isNaN(config.ui_type)||config.ui_type<=0){list.push(config)}}}list.sort(function(a,b){return a.id-b.id});return list},enumerable:true,configurable:true});GuideModel.prototype.getGuideIsMakeBuild=function(id){var hasBuild=Game.moduleModel.building.hasBuildById(id);return hasBuild};GuideModel.prototype.getGuideIsUpgradeBuild=function(id,lv){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsUpgradeActor=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsNoseActor=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsStreetPublicize=function(id){return Game.moduleModel.market.IsTaskCityPointFinish(id)};GuideModel.prototype.getGuideIsRoadShow=function(id){return Game.moduleModel.market.IsTaskRoadShowFinish(id)};GuideModel.prototype.getGuideIsCityFinish=function(id){return Game.moduleModel.market.IsTaskCityFinish(id)};GuideModel.prototype.getGuideIsTakeMovie=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsSeeMovieReward=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsGetMovieReward=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsUpgradeAttention=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsAppointActor=function(id,count){return Game.moduleModel.market.IsTaskAppointActor(id,count)};GuideModel.prototype.getGuideIsChooseFocusPointCity=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsGetCityReward=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsDoPuduct=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsCompleteOrder=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsDoBusiness=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsFansVisit=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsGetTotalRewardMovie=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsClickTarget=function(id){var mainTask=Game.moduleModel.task.getCurrentMainTask();if(mainTask){return mainTask.isFinished}return false};GuideModel.prototype.getGuideIsExpendFloor=function(id){var expendFloor=Game.moduleModel.building.hasBuildFloorWithoutRoom(User.info.extendFloor);return expendFloor};GuideModel.prototype.getGuideIsSelectContory=function(id){var menuCtl=Game.menu.getMenuCtl(Games.MenuId.Market);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;return content.guideCurrentCountry==id}return false};GuideModel.prototype.getGuideIsSelectCity=function(id){var menuCtl=Game.menu.getMenuCtl(Games.MenuId.Market);if(menuCtl&&menuCtl.moduleWindow&&menuCtl.moduleWindow){var content=menuCtl.moduleWindow;return content.guideCurrentCity==id}return false};GuideModel.prototype.getGuideIsOrderIntoBox=function(num){return Game.moduleModel.order.getIsFinishedPutNum()>=num};return GuideModel}(Games.MModel));Games.GuideModel=GuideModel})(Games||(Games={}));var Games;(function(Games){var ItemModel=(function(_super){__extends(ItemModel,_super);function ItemModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dict=new Dictionary();_this.dictByUuid=new Dictionary();return _this}ItemModel.prototype.CreateItem=function(id,num){var item=new Games.ItemData();item.itemId=id;item.itemNum=num;return item};Object.defineProperty(ItemModel.prototype,"itemList",{get:function(){var list=[];var items=this.dict.getValues();for(var i=0;i<items.length;i++){if(items[i].itemNum>0&&items[i].itemConfig){list.push(items[i])}}return list},enumerable:true,configurable:true});ItemModel.prototype.GetItemListByType=function(types){var list=[];var items=this.dict.getValues();for(var i=0;i<items.length;i++){for(var j=0;j<types.length;j++){var type=types[j];if(items[i].itemType==type&&items[i].itemNum>0&&items[i].itemConfig){list.push(items[i]);break}}}return list};ItemModel.prototype.getItemByUuid=function(uuid){if(this.dictByUuid.hasKey(uuid)){return this.dictByUuid.getValue(uuid)}else{return null}};ItemModel.prototype.getItemNumByUuid=function(uuid){var item=this.getItemByUuid(uuid);if(item){return item.itemNum}return 0};ItemModel.prototype.getItem=function(itemId){if(this.dict.hasKey(itemId)){return this.dict.getValue(itemId)}else{var item=Games.ItemData.Create(itemId,0);this.dict.add(itemId,item);return item}};ItemModel.prototype.getItemNumTxt=function(itemId){return formatNumberUnit(this.getItemNum(itemId))};ItemModel.prototype.getItemNum=function(itemId){var item=this.getItem(itemId);if(item){return item.itemNum}return 0};ItemModel.prototype.setItemNum=function(itemId,itemNum,uuid,createTime){var item;if(uuid){item=this.getItemByUuid(uuid);if(!item&&itemId>0){item=this.getItem(itemId);item.uuid=uuid;this.dictByUuid.add(uuid,item)}}if(!item){item=this.getItem(itemId)}item.itemNum=itemNum;if(createTime!==undefined){item.createTime=createTime}};ItemModel.prototype.hasItemNum=function(itemId,needNum){return this.getItemNum(itemId)>=needNum};return ItemModel}(Games.MModel));Games.ItemModel=ItemModel})(Games||(Games={}));var Games;(function(Games){var MailModel=(function(_super){__extends(MailModel,_super);function MailModel(){var _this=_super.call(this)||this;_this.dict=new Dictionary();return _this}Object.defineProperty(MailModel.prototype,"mailList",{get:function(){var list=[];var items=this.dict.getValues();for(var i=0;i<items.length;i++){if(items[i]){list.push(items[i])}}return list},enumerable:true,configurable:true});MailModel.prototype.UpdateServeMailData=function(mail){var data=Games.MailData.Create(mail);this.dict.add(mail.uuid,data)};MailModel.prototype.RemoveMailData=function(uuid){this.dict.remove(uuid)};MailModel.prototype.GetMailList=function(){return this.mailList};MailModel.prototype.GetMail=function(uuid){return this.dict.getValue(uuid)};MailModel.prototype.DeleteMail=function(uuid){var mail=this.GetMail(uuid);if(mail&&(mail.itemList.length==0||mail.IsRewardGot)){Game.protosender.Mail.MailDelete(uuid)}};MailModel.prototype.RewardMail=function(uuid,showError){if(showError==null){showError=true}var mail=this.GetMail(uuid);var rewardList=[];if(mail&&!mail.IsRewardGot&&mail.itemList.length>0){var itemNums=0;for(var _i=0,_a=mail.itemList;_i<_a.length;_i++){var item=_a[_i];var cfg=Game.config.item.getConfig(item.itemId);if(cfg&&cfg.type==4){itemNums+=item.amount}if(Game.moduleModel.bag.IsLicenceFull(item.itemId,item.amount)){if(showError){Game.system.toastText(Games.TEXT.LincenceMax)}return false}}if(Game.moduleModel.bag.IsBagFull(itemNums)){if(showError){Game.system.toastMsg(MsgKey.produce_warehouse_max)}return false}Game.protosender.Mail.MailGetReward(uuid);for(var _b=0,_c=mail.itemList;_b<_c.length;_b++){var item=_c[_b];var reward=new DTItemNum();reward.itemId=item.itemId;reward.itemNum=item.amount;rewardList.push(reward)}return rewardList}return false};MailModel.prototype.ReadMail=function(uuid){var mail=this.GetMail(uuid);if(mail&&mail.isNew){Game.protosender.Mail.MailRead(uuid)}};MailModel.prototype.DeleteAll=function(){var mailList=this.GetMailList();var deleteList=[];for(var _i=0,mailList_1=mailList;_i<mailList_1.length;_i++){var mail=mailList_1[_i];if(mail.IsNew){continue}if(mail.itemList.length>0&&!mail.IsRewardGot){continue}deleteList.push(mail.uuid)}if(deleteList.length==0){Game.system.toastMsg(MsgKey.non_deletable_mail)}else{Game.protosender.Mail.MailDeleteMany(deleteList)}};MailModel.prototype.RewardAll=function(){var mailList=this.GetMailList();var rewardMailList=[];var itemNums=0;var isFull=false;var isLicenceLimit=false;var licenceAddNum=0;var Movie_Licence_ID=Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value;for(var _i=0,mailList_2=mailList;_i<mailList_2.length;_i++){var mail=mailList_2[_i];if(mail.itemList.length==0||mail.IsRewardGot){continue}var thItems=0;var thLicenceNum=0;for(var _a=0,_b=mail.itemList;_a<_b.length;_a++){var item=_b[_a];var cfg=Game.config.item.getConfig(item.itemId);if(cfg&&cfg.type==4){thItems+=item.amount}if(item.itemId==Movie_Licence_ID){thLicenceNum+=item.amount}}if(item.itemId==Movie_Licence_ID){if(Game.moduleModel.bag.IsLicenceFull(item.itemId,item.amount+licenceAddNum)){isLicenceLimit=true;continue}else{licenceAddNum++}}if(Game.moduleModel.bag.IsBagFull(itemNums+thItems)){isFull=true;continue}itemNums+=thItems;rewardMailList.push(mail.uuid)}if(rewardMailList.length>0){Game.protosender.Mail.MailGetRewardMany(rewardMailList)}if(isFull){Game.system.toastMsg(MsgKey.produce_warehouse_max)}if(isLicenceLimit){Game.system.toastText(Games.TEXT.LincenceMax)}if((!isLicenceLimit&&!isFull)&&rewardMailList.length==0){Game.system.toastMsg(MsgKey.non_can_receive_mail)}};Object.defineProperty(MailModel.prototype,"RedNum",{get:function(){var mailList=this.GetMailList();var num=0;for(var index=0;index<mailList.length;index++){var mail=mailList[index];if(mail.IsNew){num++}}return Math.min(num,999)},enumerable:true,configurable:true});return MailModel}(Games.MModel));Games.MailModel=MailModel})(Games||(Games={}));var Games;(function(Games){var MarketModel=(function(_super){__extends(MarketModel,_super);function MarketModel(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MarketModel.prototype,"IsGetCityReward",{get:function(){return this.isGetCityReward},set:function(value){this.isGetCityReward=value},enumerable:true,configurable:true});Object.defineProperty(MarketModel.prototype,"Info",{get:function(){if(this.info==null){console.log("Proto CityData is NULL!");return new Proto.SS.CityData()}return this.info},enumerable:true,configurable:true});MarketModel.prototype.GetMaxCity=function(){var lastCity=this.GetLastCity();if(lastCity==null){return null}var maxCityId=lastCity.cfg.pre_id;if(maxCityId==0){return null}return this.GetCity(maxCityId)};MarketModel.prototype.UpdateCityData=function(msg){this.info=msg};MarketModel.prototype.GetCityCfg=function(id){return Game.config.city.getConfig(id)};MarketModel.prototype.GetStreetState=function(id){var streetCfg=Game.config.street.getConfig(id);var cityId=streetCfg.city;var cityState=this.GetCityState(cityId);if(cityState==Games.CityStateEnum.hasOccupy||cityState==Games.CityStateEnum.FinishPublicity||cityState==Games.CityStateEnum.FinishRoadShow){return Games.StreetStateEnum.HasOccupy}if(cityState==Games.CityStateEnum.Lock){return Games.StreetStateEnum.NotOccupy}if(cityState==Games.CityStateEnum.InOccupy){if(id==this.Info.lastArea){if(this.Info.lastAreaProgress==100){return Games.StreetStateEnum.HasOccupy}return Games.StreetStateEnum.InOccupy}if(id<this.Info.lastArea){return Games.StreetStateEnum.HasOccupy}return Games.StreetStateEnum.NotOccupy}};MarketModel.prototype.GetCityState=function(id){var cityCfg=Game.config.city.getConfig(id);if(cityCfg==null){return Games.CityStateEnum.Lock}var countryId=cityCfg.country;var countryState=this.GetCountryState(countryId);if(countryState==Games.CountryStateEnum.HasOccupy){return Games.CityStateEnum.hasOccupy}if(countryState==Games.CountryStateEnum.NotOccupy){return Games.CityStateEnum.Lock}var sortValue=Game.config.city.sort(id,this.Info.lastCity);if(sortValue>0){return Games.CityStateEnum.Lock}if(sortValue<0){return Games.CityStateEnum.hasOccupy}if(this.Info.roadShowFlag){return Games.CityStateEnum.FinishRoadShow}var progress=this.GetCityProgress();if(progress==100){return Games.CityStateEnum.FinishPublicity}return Games.CityStateEnum.InOccupy};MarketModel.prototype.GetCountryState=function(id){var lastCountry=this.GetLastCountryId();var sortValue=Game.config.country.sort(id,lastCountry);if(sortValue==0){return Games.CountryStateEnum.InOccupy}if(sortValue>0){return Games.CountryStateEnum.NotOccupy}if(sortValue<0){return Games.CountryStateEnum.HasOccupy}};MarketModel.prototype.GetCity=function(id){if(id==null||id==0){return null}return new Games.CityData(id,this.GetCityState(id),id==this.Info.headquarters)};MarketModel.prototype.GetHomeCity=function(){if(this.Info.headquarters==0){return null}return this.GetCity(this.Info.headquarters)};MarketModel.prototype.GetLastCity=function(){if(this.Info.lastCity==0){return null}return this.GetCity(this.Info.lastCity)};MarketModel.prototype.GetLastStreet=function(){var state=Games.StreetStateEnum.InOccupy;if(this.Info.lastAreaProgress==100){state=Games.StreetStateEnum.HasOccupy}return new Games.CityStreetData(this.Info.lastArea,state,this.Info.lastAreaProgress)};MarketModel.prototype.GetPublicRewards=function(street){var list=[];var item=new DTItemNum();item.itemId=2;item.itemNum=street.cfg.once_reward;list.push(item);return list};MarketModel.prototype.GetCityGoldSpeed=function(){return this.Info.speedGold/100};MarketModel.prototype.GetCityFansSpeed=function(){return this.Info.speedFans};MarketModel.prototype.GetCurGold=function(){var time=Game.time.getSubSecondsPre(this.Info.lastDropTimestamp);var speed=this.GetCityGoldSpeed();return Math.ceil(this.Info.lastGold+time*speed)};MarketModel.prototype.GetCurFans=function(){var time=Game.time.getSubSecondsPre(this.Info.lastDropTimestamp);var speed=this.GetCityFansSpeed();return Math.ceil(this.Info.lastFans+time*speed)};Object.defineProperty(MarketModel.prototype,"GoldLimit",{get:function(){return this.Info.maxGold},enumerable:true,configurable:true});Object.defineProperty(MarketModel.prototype,"FansLimit",{get:function(){return this.Info.maxFans},enumerable:true,configurable:true});Object.defineProperty(MarketModel.prototype,"FansLimitTime",{get:function(){return this.FansLimit/this.GetCityFansSpeed()/3600},enumerable:true,configurable:true});Object.defineProperty(MarketModel.prototype,"GoldLimitTime",{get:function(){return this.GoldLimit/this.GetCityGoldSpeed()/3600},enumerable:true,configurable:true});MarketModel.prototype.GetCityReward=function(cityId){var random_out=Game.config.city.getConfig(cityId).random_out;return random_out};MarketModel.prototype.GetCityRewardNum=function(itemId){for(var index=0;index<this.Info.dropList.length;index++){var item=this.Info.dropList[index];return item.amount}return 0};MarketModel.prototype.IsCityRewardUnlock=function(id){return true};MarketModel.prototype.GetAmbassadorNum=function(){var num=0;for(var index=0;index<this.Info.ambassador.length;index++){var element=this.Info.ambassador[index];if(element!=0){num++}}return num};MarketModel.prototype.GetAmbassador=function(){return this.Info.ambassador};Object.defineProperty(MarketModel.prototype,"IsUnlockFiveActor",{get:function(){var cfg=Game.config.global.getConfig(2069);if(cfg){var value=cfg.value;var stall=User.info.stall;return stall>value}return true},enumerable:true,configurable:true});MarketModel.prototype.GetRoadShowCost=function(){return this.GetCityCfg(this.Info.lastCity).show_cost};MarketModel.prototype.GetCityProgress=function(){if(this.Info.lastArea==0){return 0}var occupyNum=0;var cfg=Game.config.street.getConfig(this.Info.lastArea);if(this.Info.lastAreaProgress==100){occupyNum=1}var id=cfg.pre_id;while(id!=0){cfg=Game.config.street.getConfig(id);if(cfg.city!=this.Info.lastCity){break}occupyNum++;id=cfg.pre_id}var streetNum=this.GetCityCfg(this.Info.lastCity).street_num;return occupyNum/streetNum*100};MarketModel.prototype.GetCountry=function(id){return new Games.CountryData(id)};MarketModel.prototype.GetCountryProgress=function(countryId){var lastCountry=this.GetLastCountryId();if(countryId!=lastCountry){return Game.config.country.getConfig(countryId).city_num}if(this.Info.lastCity==0){return 0}var cfg=Game.config.city.getConfig(this.Info.lastCity);var id=cfg.pre_id;var occupyNum=0;while(id!=0){cfg=Game.config.city.getConfig(id);if(cfg.country!=lastCountry){break}occupyNum++;id=cfg.pre_id}return occupyNum};MarketModel.prototype.GetPublicityCost=function(){return Game.config.street.getConfig(this.Info.lastArea).publicize_cost};MarketModel.prototype.GetStreetDemand=function(){return Game.config.street.GetRequire(this.Info.lastArea)};MarketModel.prototype.GetCityDemand=function(cityId,index){var list=Game.config.city.GetCityRequire(cityId);return list[index]};MarketModel.prototype.GetPublicityDemandText=function(){var demandList=this.GetStreetDemand();if(demandList.length==0){return""}var demand=this.GetDemandExplain(demandList[demandList.length-1]);return Games.TEXT.MarketPublicityInfo.format(demand)};MarketModel.prototype.GetStreetDemandText=function(){return this.GetDemandListText(this.GetStreetDemand())};MarketModel.prototype.GetDemandListText=function(list){var str="";for(var index=0;index<list.length;index++){var data=list[index];var demand=data;var value=data.value;str+=this.GetActorDemandText(demand,demand.value);if(index<list.length-1){str+="\n"}}return str};MarketModel.prototype.GetPropertyName=function(id){var cfg=Game.config.property.getConfig(id);if(cfg==null){return"error"}return cfg.name};MarketModel.prototype.GetPropertyIcon=function(id){var cfg=Game.config.property.getConfig(id);if(cfg==null){return"error"}return cfg.iconUrl};MarketModel.prototype.GetDemandExplain=function(demand){var name="";switch(demand.type){case Games.ActorRequireEnum.age:case Games.ActorRequireEnum.sex:case Games.ActorRequireEnum.type:case Games.ActorRequireEnum.Continents:name=this.GetPropertyName(demand.value);break;case Games.ActorRequireEnum.art:case Games.ActorRequireEnum.entertainment:case Games.ActorRequireEnum.performance:case Games.ActorRequireEnum.plot:case Games.ActorRequireEnum.scene:name=this.GetDemandTypeName(demand.type);break;default:break}return name};MarketModel.prototype.GetDemandTypeName=function(type){var name="";switch(type){case Games.ActorRequireEnum.age:name=Games.TEXT.age;break;case Games.ActorRequireEnum.sex:name=Games.TEXT.sex;break;case Games.ActorRequireEnum.type:name=Games.TEXT.type;break;case Games.ActorRequireEnum.Continents:name=Games.TEXT.country;break;case Games.ActorRequireEnum.art:name=this.GetPropertyName(1604);break;case Games.ActorRequireEnum.entertainment:name=this.GetPropertyName(1605);break;case Games.ActorRequireEnum.performance:name=this.GetPropertyName(1602);break;case Games.ActorRequireEnum.plot:name=this.GetPropertyName(1603);break;case Games.ActorRequireEnum.scene:name=this.GetPropertyName(1601);break;default:break}return name};MarketModel.prototype.GetDemandTypeIcon=function(type){var name="";switch(type){case Games.ActorRequireEnum.art:name=this.GetPropertyIcon(1604);break;case Games.ActorRequireEnum.entertainment:name=this.GetPropertyIcon(1605);break;case Games.ActorRequireEnum.performance:name=this.GetPropertyIcon(1602);break;case Games.ActorRequireEnum.plot:name=this.GetPropertyIcon(1603);break;case Games.ActorRequireEnum.scene:name=this.GetPropertyIcon(1601);break;default:break}return name};MarketModel.prototype.GetActorDemandText=function(demand,value){var type=demand.type;var name;var strValue;name=this.GetDemandTypeName(demand.type)+":";switch(type){case Games.ActorRequireEnum.age:case Games.ActorRequireEnum.Continents:case Games.ActorRequireEnum.sex:case Games.ActorRequireEnum.type:strValue=this.GetPropertyName(value);break;case Games.ActorRequireEnum.art:case Games.ActorRequireEnum.entertainment:case Games.ActorRequireEnum.performance:case Games.ActorRequireEnum.plot:case Games.ActorRequireEnum.scene:strValue=value.toString();break;default:break}return name+strValue};MarketModel.prototype.GetActorDemandValueText=function(demand,value){var type=demand.type;var strValue;switch(type){case Games.ActorRequireEnum.age:case Games.ActorRequireEnum.Continents:case Games.ActorRequireEnum.sex:case Games.ActorRequireEnum.type:strValue=this.GetPropertyName(value);break;case Games.ActorRequireEnum.art:case Games.ActorRequireEnum.entertainment:case Games.ActorRequireEnum.performance:case Games.ActorRequireEnum.plot:case Games.ActorRequireEnum.scene:strValue=value.toString();break;default:break}return strValue};MarketModel.prototype.GetLastCountryId=function(){var cfg=this.GetCityCfg(this.Info.lastCity);if(cfg==null){return 0}return cfg.country};MarketModel.prototype.GetHomeCountryId=function(){if(this.Info.headquarters==0){return 0}return this.GetCityCfg(this.Info.headquarters).country};MarketModel.prototype.IsHomeCountry=function(countryId){return this.GetHomeCountryId()==countryId};MarketModel.prototype.IsLastCountry=function(countryId){return this.GetLastCountryId()==countryId};MarketModel.prototype.IsHomeCity=function(cityId){return this.Info.headquarters==cityId};MarketModel.prototype.IsLastCity=function(cityId){return this.Info.lastCity==cityId};MarketModel.prototype.GetPropagandaActor=function(){return this.Info.propagandaActor};MarketModel.prototype.GetCityList=function(countryId){var lastCountry=this.GetLastCountryId();if(countryId==null||lastCountry==countryId){return this.GetLastCityList()}var cityList=[];var cfgList=Game.config.city.getCitysByCountry(countryId);for(var index=0;index<cfgList.length;index++){var cfg=cfgList[index];cityList.push(new Games.CityData(cfg.id,Games.CityStateEnum.hasOccupy,cfg.id==this.Info.headquarters))}cityList=cityList.sort(function(a,b){return b.num-a.num});return cityList};MarketModel.prototype.GetLastCityList=function(){var cityList=[];if(this.Info.lastCity==0){return cityList}var city=this.GetLastCity();var lastCountry=city.country;cityList.push(city);if(city.cfg.next_city!=0){var nextCity=new Games.CityData(city.cfg.next_city,Games.CityStateEnum.Lock,false);if(nextCity.country==lastCountry){cityList.push(nextCity)}}var id=city.cfg.pre_id;while(id!=0){city=new Games.CityData(id,Games.CityStateEnum.hasOccupy,id==this.Info.headquarters);if(city.country!=lastCountry){break}cityList.push(city);id=city.cfg.pre_id}cityList=cityList.sort(function(a,b){return a.num-b.num});return cityList};MarketModel.prototype.GetCountryList=function(){var CountryList=[];var id=this.GetLastCountryId();var country=new Games.CountryData(id);var homeId=this.GetHomeCountryId();country.isHome=id==homeId;CountryList.push(country);id=country.preCountry;while(id!=0){country=new Games.CountryData(id);country.isHome=id==this.info.headquarters;CountryList.push(country);id=country.preCountry}CountryList=CountryList.sort(function(a,b){return b.num-a.num});return CountryList};MarketModel.prototype.GetStreetList=function(){var cityId=this.Info.lastCity;var streetList=[];var id=this.Info.lastArea;var street=this.GetLastStreet();streetList.push(street);if(street.next!=0){var nextStreet=new Games.CityStreetData(street.next,Games.StreetStateEnum.NotOccupy,0);if(nextStreet.city==cityId){streetList.push(nextStreet)}}id=street.pre;while(id!=0){street=new Games.CityStreetData(id,Games.StreetStateEnum.HasOccupy,100);if(street.city!=cityId){break}streetList.push(street);id=street.pre}return streetList};MarketModel.prototype.GetActorList=function(){return Game.moduleModel.actor.getActors()};MarketModel.prototype.SendSetAmbassador=function(uuid,cityId,index,actId){var actuuid=Game.moduleModel.market.GetActor(actId).uuid;Game.protosender.city.SetAmbassador(uuid,cityId,index,actuuid)};MarketModel.prototype.GetActor=function(id){return Game.moduleModel.actor.getActor(id)};MarketModel.prototype.GetActorRequire=function(id){var actor=Game.moduleModel.actor.getActor(id);if(actor==null){return[]}var map=Game.config.actor.GetRequire(id);map[Games.ActorRequireEnum.scene.toString()]=actor.spectacle;map[Games.ActorRequireEnum.performance.toString()]=actor.perform;map[Games.ActorRequireEnum.plot.toString()]=actor.plot;map[Games.ActorRequireEnum.art.toString()]=actor.art;map[Games.ActorRequireEnum.entertainment.toString()]=actor.entertainment;return map};MarketModel.prototype.IsDemandConform=function(demand,value){switch(demand.type){case Games.ActorRequireEnum.age:case Games.ActorRequireEnum.Continents:case Games.ActorRequireEnum.sex:case Games.ActorRequireEnum.type:return demand.value==value;case Games.ActorRequireEnum.art:case Games.ActorRequireEnum.entertainment:case Games.ActorRequireEnum.performance:case Games.ActorRequireEnum.plot:case Games.ActorRequireEnum.scene:return demand.value<=value;default:break}return false};MarketModel.prototype.GetActorIcon=function(id){if(id==null){return""}var actor=Game.moduleModel.actor.getActor(id);if(actor==null){return""}var cfg=actor.config;var avatarCfg=Game.config.avatar.getConfig(cfg.avatar);var iconUrl=avatarCfg.bodyIconUrl;return iconUrl};MarketModel.prototype.GetMovieCity=function(){var lastCity=this.GetLastCity();var preCitys=this.GetPreCityList(lastCity,5);var nextCitys=this.GetNextCityList(lastCity,4);var list=preCitys.concat([lastCity],nextCitys);return list};MarketModel.prototype.GetPreCityList=function(cityData,num){var list=[];var cityId=cityData.cfg.pre_id;for(var i=0;i<num;i++){var city=this.GetCity(cityId);if(city){list.push(city);cityId=city.cfg.pre_id}else{break}}list=list.sort(function(a,b){return a.num-b.num});return list};MarketModel.prototype.GetNextCityList=function(cityData,num){var list=[];var cityId=cityData.cfg.next_city;for(var i=0;i<num;i++){var city=this.GetCity(cityId);if(city){list.push(city);cityId=city.cfg.next_city}else{break}}list=list.sort(function(a,b){return a.num-b.num});return list};MarketModel.prototype.IsTaskCityPointFinish=function(id){var state=this.GetStreetState(id);if(state==Games.StreetStateEnum.HasOccupy){return true}return false};MarketModel.prototype.IsTaskCityFinish=function(id){var state=this.GetCityState(id);if(state==Games.CityStateEnum.hasOccupy){return true}return false};MarketModel.prototype.IsTaskRoadShowNum=function(num){var cfg=Game.config.city.GetCityByNum(num);if(cfg){var state=this.GetCityState(cfg.id);if(state==Games.CityStateEnum.hasOccupy){return true}}return false};MarketModel.prototype.IsTaskAppointActor=function(id,num){if(id!=this.Info.headquarters){return false}if(this.GetAmbassadorNum()==num){return true}return false};Object.defineProperty(MarketModel.prototype,"RedNum",{get:function(){return 0},enumerable:true,configurable:true});MarketModel.prototype.IsTaskRoadShowFinish=function(id){var state=this.GetCityState(id);if(state==Games.CityStateEnum.FinishRoadShow){return true}return false};MarketModel.prototype.roadShowNum=function(){var city=this.GetLastCity();if(city){if(city.state==Games.CityStateEnum.FinishRoadShow){return city.num}else{return city.num-1}}return 0};MarketModel.prototype.appointActorNum=function(id,num){if(id!=this.Info.headquarters){return 0}return num<=this.GetAmbassadorNum()};MarketModel.prototype.TaskGetAmbassadorNum=function(id){if(id!=this.Info.headquarters){return 0}return this.GetAmbassadorNum()};return MarketModel}(Games.MModel));Games.MarketModel=MarketModel})(Games||(Games={}));var Games;(function(Games){var MeetingModel=(function(_super){__extends(MeetingModel,_super);function MeetingModel(){var _this=_super.call(this)||this;_this.isAutoVisit=false;_this._companyAvatarId=0;return _this}MeetingModel.prototype.getMeetingData=function(){return this.meetingData};MeetingModel.prototype.addMeetingData=function(msg){if(this.meetingData==null){this.meetingData=new Games.MeetingData()}this.meetingData.uuid=msg.uuid;this.meetingData.id=msg.meetID;this.meetingData.randResult=msg.randResult;this.meetingData.lastTime=msg.lastTime;this.meetingData.lineLimit=msg.lineLimit;this.meetingData.intervalTime=msg.intervalTime;this.meetingData.startToMaxTime();return this.meetingData};Object.defineProperty(MeetingModel.prototype,"meetingCompanyName",{get:function(){if(isNullOrEmpty(this._meetingCompanyName)){this._meetingCompanyName=getRandomRoleName()}return this._meetingCompanyName},set:function(value){this._meetingCompanyName=value},enumerable:true,configurable:true});Object.defineProperty(MeetingModel.prototype,"companyGoal",{get:function(){if(this._companyGoals==null){this._companyGoals=[Game.config.msg.getTxt(MsgKey.meeting_goal1),Game.config.msg.getTxt(MsgKey.meeting_goal2),Game.config.msg.getTxt(MsgKey.meeting_goal3),Game.config.msg.getTxt(MsgKey.meeting_goal4)]}var s=this._companyGoals[Math.floor(Math.random()*this._companyGoals.length)];return s},enumerable:true,configurable:true});Object.defineProperty(MeetingModel.prototype,"companyDelegateAvatarId",{get:function(){if(this._companyAvatarId<=0){this._companyAvatarId=7300+Math.max(1,Math.ceil(14*Math.random()))}return this._companyAvatarId},set:function(value){this._companyAvatarId=value},enumerable:true,configurable:true});Object.defineProperty(MeetingModel.prototype,"isRed",{get:function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Meeting);if(isBuild){if(this.meetingData){b=this.meetingData.isMax}}return b},enumerable:true,configurable:true});return MeetingModel}(Games.MModel));Games.MeetingModel=MeetingModel})(Games||(Games={}));var Games;(function(Games){var MissionModel=(function(_super){__extends(MissionModel,_super);function MissionModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dict=new Dictionary();_this.list=[];return _this}MissionModel.prototype.getMissionData=function(id){return this.dict.getValue(id)};MissionModel.prototype.install=function(){var list=Game.config.task.getConfigList();for(var i=0;i<list.length;i++){var config=list[i];if(config.type==EAchievementType.daily){var item=new Games.MissionData();item.id=config.id;item.config=config;this.dict.add(item.id,item);this.list.push(item)}}};MissionModel.prototype.setData=function(msg){var data=this.getMissionData(msg.cid);if(data){data.protoData=msg}};MissionModel.prototype.getUnlockList=function(){var list=[];for(var i=0;i<this.list.length;i++){var data=this.list[i];list.push(data)}list.sort(function(a,b){var stateA=a.protoData.state;var stateB=b.protoData.state;switch(stateA){case EAchievementState.rewarded:stateA=-1;break}switch(stateB){case EAchievementState.rewarded:stateB=-1;break}if(stateB==stateA){if(a.config.goal>0&&b.config.goal>0){return a.protoData.progress/a.config.goal-b.protoData.progress/b.config.goal}}return stateB-stateA});return list};MissionModel.prototype.getRead=function(){var num=0;var list=this.getUnlockList();for(var _i=0,list_1=list;_i<list_1.length;_i++){var data=list_1[_i];if(data.protoData.state==EAchievementState.finished){num++}}var progressData=Game.moduleModel.progressBox.getProgressBoxData(EProgressBoxId.dailyTask);if(progressData){num+=progressData.getReadNum()}return num};return MissionModel}(Games.MModel));Games.MissionModel=MissionModel})(Games||(Games={}));var Games;(function(Games){var OrderModel=(function(_super){__extends(OrderModel,_super);function OrderModel(){var _this=_super.call(this)||this;_this.maxOrderMaking=9;_this.progressBox=[5,10,20,35,50];_this.isOrder=false;_this.orderDict=new Dictionary();_this.orderUUidDict=new Dictionary();_this.cooperateOrderList=new Array();_this.cooperateOrderPosDict=new Dictionary();_this.orderList=new Array();_this.currentOrderList=new Array();_this.deleteOrderUUidList=new Dictionary();return _this}OrderModel.prototype.getOrderData=function(id){return this.orderDict.getValue(id)};OrderModel.prototype.getOrderDataByUUid=function(uuid){return this.orderUUidDict.getValue(uuid)};OrderModel.prototype.getCurrrentOrderList=function(){var list=[];if(this.isOrder==false){this.isOrder=true;this.orderList.sort(this.sortOrderFunc)}for(var index=0;index<Math.min(this.maxOrderMaking,this.orderList.length);index++){var element=this.orderList[index];list.push(element)}this.sortOrderMaking=Math.max(0,this.orderList.length-list.length);for(var index=0;index<list.length;index++){var e=list[index]}return list};OrderModel.prototype.getCooperationOrderList=function(){for(var index=0;index<this.cooperateOrderList.length;index++){var element=this.cooperateOrderList[index]}return this.cooperateOrderList};OrderModel.prototype.sortOrderFunc=function(a,b){if(a.position!==b.position){return b.position-a.position}else{return a.lastTime-b.lastTime}};OrderModel.prototype.removeOrderData=function(uuid){var data=this.orderUUidDict.getValue(uuid);if(data){this.orderDict.remove(data.id);this.orderUUidDict.remove(uuid);this.deleteOrderUUidList.add(data.uuid,data)}var index=this.orderList.indexOf(data);if(index>=0){this.orderList.splice(index,1)}index=this.cooperateOrderList.indexOf(data);if(index>=0){this.cooperateOrderList.splice(index,1)}return data};OrderModel.prototype.addOrderData=function(msg){var _this=this;var data=this.getDeleteDataByUUid(msg.uuid);var otherInto=false;if(data==null){data=new Games.OrderData()}else{if(data.isCooperationOrder==false&&msg.entityId==User.info.entityId){data.items=msg.items;if(data.isCooperationOrder){var item=Game.config.item.getConfig(data.cooperationOrderItem.itemId);Game.system.toastMsg(MsgKey.cooperative_order_notice,Game.moduleModel.cooperation.partnerInfData.name,data.cooperationOrderItem.amount,item.name)}}}data.uuid=msg.uuid;data.id=msg.orderId;data.items=msg.items;data.lastTime=msg.lastTime;data.deleteFlag=msg.delFlag;data.position=msg.position;data.entityId=msg.entityId;this.orderDict.add(data.id,data);this.orderUUidDict.add(data.uuid,data);setTimeout(function(){data.isCooperation=msg.entityId!=User.info.entityId;if(data.isCooperation){if(_this.cooperateOrderList.indexOf(data)==-1){_this.cooperateOrderList.push(data)}}else{if(_this.orderList.indexOf(data)==-1){_this.orderList.push(data)}}_this.isOrder=false;data.clearTime();if(data.position!=-1){if(data.deleteFlag==true){data.startDelTime(function(uuid){_this.endTimeOrder(uuid)})}else{data.startExpiredTime(function(uuid){_this.endTimeOrder(uuid)})}}},200);return data};OrderModel.prototype.endTimeOrder=function(uuid){clearTimeout(this.timeOutDealHandler);this.timeOutDealHandler=setTimeout(function(){Game.protosender.manageOrder.DealOrder()},2000);this.removeOrderData(uuid)};OrderModel.prototype.getDeleteDataByUUid=function(uuid){var data=this.deleteOrderUUidList.getValue(uuid);if(data==null){data=this.getOrderDataByUUid(uuid)}return data};Object.defineProperty(OrderModel.prototype,"cooperateRedNum",{get:function(){var num=0;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Spread);if(isBuild){var list=this.getCooperationOrderList();num=list.length}return num},enumerable:true,configurable:true});Object.defineProperty(OrderModel.prototype,"oldOrderUUids",{get:function(){var list=[];for(var index=0;index<this.cooperateOrderList.length;index++){var element=this.cooperateOrderList[index];list.push(element.uuid)}return list},enumerable:true,configurable:true});Object.defineProperty(OrderModel.prototype,"redNum",{get:function(){var num=0;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Sale);if(isBuild){var list=this.getCurrrentOrderList();for(var index=0;index<list.length;index++){var element=list[index];if(element.isRemoved()==false){if(element.isAllComplete){num++}else{if(element.isCanPut){num++}}}}var status_1=0;var progress=0;var data=Game.moduleModel.progressBox.getProgressBoxData(EProgressBoxId.manageOrder);if(data){status_1=data.staus;progress=data.progress}for(var index=0;index<this.progressBox.length;index++){var needOrderNum=this.progressBox[index];if(progress>=needOrderNum){var result=(status_1>>index)&1;if(result){}else{num++}}else{}}}return num},enumerable:true,configurable:true});OrderModel.prototype.getIsFinishedPutNum=function(){var orderDataList=this.getCurrrentOrderList();for(var index=0;index<orderDataList.length;index++){var element=orderDataList[index];if(element.isAllComplete){return element.items.length}}for(var index=0;index<orderDataList.length;index++){var element=orderDataList[index];if(element.isCanPut){return element.items.length}}return 0};return OrderModel}(Games.MModel));Games.OrderModel=OrderModel})(Games||(Games={}));var Games;(function(Games){var OscarModel=(function(_super){__extends(OscarModel,_super);function OscarModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listOscarAwards=[];_this.listGameRewardInfo=[];_this.listDailyEvent=[];_this.listYesterdatEvent=[];_this.listDanmu=[];_this.rewardFlags=[];return _this}OscarModel.prototype.install=function(){this.InitData()};OscarModel.prototype.UpdateOscarData=function(msg){this.oscarStreetId=msg.blockLevel;this.listOscarAwards=[];this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Man,msg.man,msg.bestMan));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Woman,msg.woman,msg.bestWoman));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Perform,msg.perform,msg.bestPerform));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Art,msg.art,msg.bestArt));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.PublicPraise,msg.publicPraise,msg.bestPublicPraise))};OscarModel.prototype.UpdateRewardData=function(msg){this.timePropagandaDepartment=msg.propaganda_department;this.listGameRewardInfo=[];this.listGameRewardInfo.push(Games.OscarRewardData.Create(Proto.SE.EOscarType.bestBoxOffice,msg.bestBoxOffice,msg.bestBoxOfficeName,msg.bestBoxOfficeRank+1));this.listGameRewardInfo.push(Games.OscarRewardData.Create(Proto.SE.EOscarType.totalBoxOffice,msg.totalBoxOffice,msg.totalBoxOfficeRank+1,msg.historyBestTotalBexOfficeTotal,msg.historyBestTotalBoxOfficeRank,msg.historyIsNew));this.listGameRewardInfo.push(Games.OscarRewardData.Create(Proto.SE.EOscarType.movies,msg.movies));this.listGameRewardInfo.push(Games.OscarRewardData.Create(Proto.SE.EOscarType.bigSell,msg.big_sell));this.rewardFlags=msg.rewardFlags};OscarModel.prototype.UpdateDailyEventData=function(msg){this.listDailyEvent=[];this.listYesterdatEvent=[];for(var index=0;index<msg.data.length;index++){var data=msg.data[index];var event=Games.DailyEventData.CreateByProto(data);if(event.isToday){this.listDailyEvent.push(event)}else{if(event.hasData){this.listYesterdatEvent.push(event)}}}this.listDailyEvent.sort(Games.DailyEventData.sort);this.listYesterdatEvent.sort(Games.DailyEventData.sort)};OscarModel.prototype.UpdateDanmu=function(msg){this.listDanmu=[];for(var index=0;index<msg.data.length;index++){var item=msg.data[index];this.listDanmu.push(Games.DanmuData.CreateByProto(item))}};OscarModel.prototype.AddOscarEvent=function(_list,isToday){var list=_list.slice(0);var hour=Game.config.global.getConfig(25).value;var date=new Date(Game.time.serverMilliseconds);var nowH=date.getHours();date.setHours(hour);date.setMinutes(0);date.setSeconds(0);if(isToday){var time=date.valueOf()/1000;list.push(Games.DailyEventData.Create(Games.DailyEventType.Awards,time,Games.TEXT.OscarName))}else{var time=date.valueOf()/1000-24*60*60;var event_1=Games.DailyEventData.Create(Games.DailyEventType.Awards,time,Games.TEXT.OscarName);if(event_1.hasData){list.push(event_1)}}return list};Object.defineProperty(OscarModel.prototype,"OscarAwardsList",{get:function(){var list=this.listOscarAwards.slice(0);return this.listOscarAwards},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"OscarRewardList",{get:function(){return this.listGameRewardInfo},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"OscarDailyEventList",{get:function(){if(Game.moduleModel.oscar.isUnLockNextOscar){return this.AddOscarEvent(this.listDailyEvent,true)}return this.listDailyEvent.sort(function(a,b){return b.TimeNum-a.TimeNum})},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"OscarYesterdayEventList",{get:function(){if(Game.moduleModel.oscar.isUnLockOscar){return this.AddOscarEvent(this.listYesterdatEvent,false)}return this.listYesterdatEvent.sort(function(a,b){return b.TimeNum-a.TimeNum})},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"DanmuList",{get:function(){return this.listDanmu},enumerable:true,configurable:true});OscarModel.prototype.GetDanmu=function(flag){var list=[];for(var index=0;index<this.listDanmu.length;index++){var danmu=this.listDanmu[index];if(danmu.flag==flag){list.push(danmu)}}return list};OscarModel.prototype.GetOscarAwards=function(type){return this.listOscarAwards[type]};Object.defineProperty(OscarModel.prototype,"lastMovieReward",{get:function(){var cfg=Game.config.blockLevel.getConfig(this.oscarStreetId);if(cfg){return cfg.movie_daily_reward}return[]},enumerable:true,configurable:true});OscarModel.prototype.InitData=function(){};OscarModel.prototype.LocalData=function(){var oscarDesc=new Proto.SS.OscarDesc();oscarDesc.name="Name";oscarDesc.playerName="PlayerName";oscarDesc.userId=0;oscarDesc.id=1001;var listCandidate=[];listCandidate.push(oscarDesc);listCandidate.push(oscarDesc);listCandidate.push(oscarDesc);this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Man,[],1));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Woman,listCandidate,1));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Perform,listCandidate,1));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.Art,[],1));this.listOscarAwards.push(Games.AwardsData.Create(Games.OscarAwardsType.PublicPraise,listCandidate,1));var time=Game.time.serverMilliseconds;this.listDailyEvent.push(Games.DailyEventData.Create(Games.DailyEventType.Movie,time+1000*60,"Movie"));this.listDailyEvent.push(Games.DailyEventData.Create(Games.DailyEventType.Movie,time+2000*60,"Movie"));this.listDailyEvent.push(Games.DailyEventData.Create(Games.DailyEventType.Movie,time+3000*60,"Movie"));this.listYesterdatEvent.push(Games.DailyEventData.Create(Games.DailyEventType.Movie,time-24*60*60*1000+4000*60,"Movie"));this.listYesterdatEvent.push(Games.DailyEventData.Create(Games.DailyEventType.Movie,time-24*60*60*1000+5000*60,"Movie"));this.listDailyEvent.sort(Games.DailyEventData.sort);this.listYesterdatEvent.sort(Games.DailyEventData.sort)};OscarModel.prototype.HasGetReward=function(type){if(this.rewardFlags[type-1]==1){return true}return false};Object.defineProperty(OscarModel.prototype,"IsFinishReward",{get:function(){for(var index=0;index<this.listGameRewardInfo.length;index++){var data=this.listGameRewardInfo[index];if(data.canReward&&!this.HasGetReward(data.type)){return false}}return true},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"IsFinishOscar",{get:function(){if(Game.moduleModel.rank.rankInfo){if(Game.moduleModel.rank.rankInfo.lastGroupId==0){return true}if(Game.moduleModel.rank.rankInfo.isNew){return false}else{return this.IsFinishReward}}return true},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"isUnLockOscar",{get:function(){var hasOscarData=true;if(Game.moduleModel.rank.rankInfo&&Game.moduleModel.rank.rankInfo.lastGroupId==0){hasOscarData=false}if(this.timePropagandaDepartment){var oscarTime=this.OscarCD;if(oscarTime-this.timePropagandaDepartment<=60*60*24){hasOscarData=false}}var isRoomBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Spread);return hasOscarData&&isRoomBuild},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"isUnLockNextOscar",{get:function(){var isRoomBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Spread);return isRoomBuild},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"OscarCD",{get:function(){return this.OscarTime-Game.time.serverSeconds},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"OscarTime",{get:function(){var hour=Game.config.global.getConfig(25).value;var date=new Date(Game.time.serverMilliseconds);var nowH=date.getHours();date.setHours(hour);date.setMinutes(0);date.setSeconds(0);return hour>=nowH?date.valueOf()/1000:date.valueOf()/1000+24*60*60},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"LastOscarTime",{get:function(){var hour=Game.config.global.getConfig(25).value;var date=new Date(Game.time.serverMilliseconds);var nowH=date.getHours();date.setHours(hour);date.setMinutes(0);date.setSeconds(0);return hour>=nowH?date.valueOf()/1000-24*60*60:date.valueOf()/1000},enumerable:true,configurable:true});Object.defineProperty(OscarModel.prototype,"LastOscarDay",{get:function(){var lastTime=Game.moduleModel.oscar.LastOscarTime;return Games.TimeHelper.DateTimeFormat3(lastTime)},enumerable:true,configurable:true});return OscarModel}(Games.MModel));Games.OscarModel=OscarModel})(Games||(Games={}));var Games;(function(Games){var PortraitType;(function(PortraitType){PortraitType[PortraitType.Dress=0]="Dress";PortraitType[PortraitType.Buy=1]="Buy"})(PortraitType=Games.PortraitType||(Games.PortraitType={}));var PlayerInfoModel=(function(_super){__extends(PlayerInfoModel,_super);function PlayerInfoModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.lastTimeRenameSignature=0;_this.playerLevelUpMsg=[];return _this}PlayerInfoModel.prototype.checkRenameSignatureTime=function(){return Game.time.serverSeconds-this.lastTimeRenameSignature>60};PlayerInfoModel.prototype.enqueuePlayerLevelUpMsg=function(msg){this.playerLevelUpMsg.push(msg)};PlayerInfoModel.prototype.dequeuePlayerLevelUpMsg=function(){if(this.hasPlayerLevelUpMsg){var msg=this.playerLevelUpMsg.splice(this.playerLevelUpMsg.length-1,1)[0];this.playerLevelUpMsg.length=0;return msg}return null};Object.defineProperty(PlayerInfoModel.prototype,"hasPlayerLevelUpMsg",{get:function(){return this.playerLevelUpMsg.length>0},enumerable:true,configurable:true});return PlayerInfoModel}(Games.MModel));Games.PlayerInfoModel=PlayerInfoModel})(Games||(Games={}));var Games;(function(Games){var ProduceModel=(function(_super){__extends(ProduceModel,_super);function ProduceModel(){var _this=_super.call(this)||this;_this.PAPER_ID=7;_this.FIRST_LINE=100;_this.PRODUCE_SKILL_GROUP=1002;_this.produceMap=new Dictionary();return _this}ProduceModel.prototype.addProduceData=function(msg,uuid){console.log("addProduceData= "+msg.produceId);var data=this.getProduce(msg.produceId);if(data==null){data=new Games.ProduceData()}data.produceId=msg.produceId;data.itemNum=msg.hadNum;data.actorId=msg.actId;data.level=msg.level;data.produceSkillList.length=0;for(var _i=0,_a=msg.skills;_i<_a.length;_i++){var i=_a[_i];var pskill=new Games.ProduceSkill();pskill.id=i.skillId;pskill.level=i.level;data.produceSkillList.push(pskill)}data.outFactorList.length=0;for(var _b=0,_c=msg.randomNums;_b<_c.length;_b++){var m=_c[_b];data.outFactorList.push(m)}data.processNum=msg.produceNum;data.startTime=msg.lastTime;data.uuid=uuid;this.produceMap.add(data.produceId,data)};ProduceModel.prototype.getProduce=function(produceId){return this.produceMap.getValue(produceId)};ProduceModel.prototype.getProduceByUuid=function(uuid){var enumerator=this.produceMap.getValues();return enumerator.findOne(function(value){return value.uuid==uuid})};ProduceModel.prototype.getProduceSkill=function(produceId,skillType){var produce=this.getProduce(produceId);if(produce){return produce.produceSkillList.findOne(function(value){return value.id==skillType})}return null};ProduceModel.prototype.getProduceUuid=function(produceId){var data=this.getProduce(produceId);if(data){return data.uuid}return""};ProduceModel.prototype.hasProduce=function(produceId){return this.getProduce(produceId)!=null};ProduceModel.prototype.getProduceDataList=function(){return this.produceMap.getValues()};ProduceModel.prototype.getActorList=function(){var result=[];var list=this.getProduceDataList();list.forEach(function(value,index,array){if(value.actorId>0){result.push(value.actorId)}});return result};Object.defineProperty(ProduceModel.prototype,"hasLineOutputFull",{get:function(){var produceLines=this.getProduceDataList();for(var _i=0,produceLines_1=produceLines;_i<produceLines_1.length;_i++){var produceLine=produceLines_1[_i];if(this.checkOutPutFull(produceLine.produceId)){return true}}return false},enumerable:true,configurable:true});ProduceModel.prototype.checkOutPutFull=function(produceId){var output=0;var data=this.getProduce(produceId);var totalTime=this.getProcessTotalTime(produceId);var timeProcessedlineNum=Math.floor(Game.time.getSubSecondsPre(data.startTime)/totalTime);var processedlineNum=(data.processNum>timeProcessedlineNum?timeProcessedlineNum:data.processNum);if(timeProcessedlineNum>data.processNum){output=data.itemNum+processedlineNum*this.perOutputNum(produceId)}if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return output>=cfg.max}return output>=this.getMaxStorage(produceId)};ProduceModel.prototype.getProcessTotalTime=function(produceId){var data=this.getProduce(produceId);var cd=Game.config.produce.getConfig(data.produceId).cd;var skillOutputLevel=data.produceSkillList[Games.ProduceSkillType.Output].level;var extTime=Game.config.produceLevel.getConfig(skillOutputLevel).time_add;var skillTimeLevel=data.produceSkillList[Games.ProduceSkillType.Time].level;var reduceTime=Game.config.produceLevel.getConfig(skillTimeLevel).time;var calcTime=cd+extTime-reduceTime;if(calcTime<=0){calcTime=1}return calcTime};ProduceModel.prototype.perOutputNum=function(produceId){var data=this.getProduce(produceId);if(this.isFirstLine(produceId)){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return cfg.once}var outputSkill=Game.moduleModel.produce.getProduceSkill(produceId,Games.ProduceSkillType.Output);var baseOutput=Game.config.produceLevel.getConfig(outputSkill.level).output_initial;var baseOutputFactor=100;if(data.outFactorList.length>0){baseOutputFactor=data.outFactorList[0]}var produceSkillFactor=1;if(data.actorId>0){var actorData=Game.moduleModel.actor.getActor(data.actorId);if(actorData){var effectSkills=actorData.getEffectSkills();for(var _i=0,effectSkills_1=effectSkills;_i<effectSkills_1.length;_i++){var effectSkill=effectSkills_1[_i];if(effectSkill.config.group_id==this.PRODUCE_SKILL_GROUP){produceSkillFactor=effectSkill.config.value}}}}return baseOutput*(baseOutputFactor/100)*produceSkillFactor};ProduceModel.prototype.getMaxStorage=function(produceId){if(this.isFirstLine){var cfg=Game.config.produceSouvenir.getConfig(User.info.level);return cfg.max}var pSkillStorage=Game.moduleModel.produce.getProduceSkill(produceId,Games.ProduceSkillType.Storage);if(pSkillStorage){var produceLevelCfg=Game.config.produceLevel.getConfig(pSkillStorage.level);return produceLevelCfg.save}return 0};ProduceModel.prototype.isFirstLine=function(produceId){return produceId==this.FIRST_LINE};return ProduceModel}(Games.MModel));Games.ProduceModel=ProduceModel})(Games||(Games={}));var Games;(function(Games){var ProgressBoxModel=(function(_super){__extends(ProgressBoxModel,_super);function ProgressBoxModel(){var _this=_super.call(this)||this;_this.progressBoxDict=new Dictionary();_this.progressBoxUUidDict=new Dictionary();return _this}ProgressBoxModel.prototype.getProgressBoxData=function(id){if(!this.progressBoxDict.hasKey(id)){var data=new Games.ProgressBoxData();data.id=id;this.progressBoxDict.add(id,data)}return this.progressBoxDict.getValue(id)};ProgressBoxModel.prototype.getProgressBoxDataByUUid=function(uuid){return this.progressBoxUUidDict.getValue(uuid)};ProgressBoxModel.prototype.addProgressBoxData=function(msg){var data=this.getProgressBoxData(msg.moduleId);if(data==null){data=new Games.ProgressBoxData()}data.uuid=msg.uuid;data.id=msg.moduleId;data.lastTime=msg.lastTime;data.progress=msg.progress;data.staus=msg.staus;data.startResetTime();this.progressBoxDict.add(data.id,data);this.progressBoxUUidDict.add(data.uuid,data)};return ProgressBoxModel}(Games.MModel));Games.ProgressBoxModel=ProgressBoxModel})(Games||(Games={}));var Games;(function(Games){var RankServerData=Games.RankServerData;var RankGroupData=Games.RankGroupData;var RankGroupMovieData=Games.RankGroupMovieData;var RankModel=(function(_super){__extends(RankModel,_super);function RankModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.listServer=[];_this.listGroup=[];_this.listGroupMovie=[];_this.dicPlayer=new Dictionary();_this.dicMovie=new Dictionary();_this.listBoxOfficeIcon=[6023,6024,6025,6026,6027,6028];return _this}RankModel.prototype.install=function(){_super.prototype.install.call(this)};RankModel.prototype.UpdateRankListData=function(msg){this.rankInfo=msg;this.rankInfo.lastRank=this.rankInfo.lastRank+1;this.rankInfo.lastWeakRank=this.rankInfo.lastWeakRank+1};RankModel.prototype.UpdateSelfList=function(msg){this.selfInfo=msg;this.selfInfo.MainRank=this.selfInfo.MainRank+1;this.selfInfo.groupList=this.selfInfo.groupList+1};RankModel.prototype.UpdateServerRankList=function(msg){this.listServer=[];for(var index=0;index<msg.data.length;index++){var desc=msg.data[index];if(desc.movieId!=0){var rankdata=new RankServerData(index+1,desc);this.listServer.push(rankdata);this.RemovePlayerShortData(rankdata.desc.userId);this.RemoveMovieShortData(rankdata.desc.movieUuid)}}this.SetSelfServerRank(msg.selfData,msg.selfRank+1)};RankModel.prototype.SetSelfServerRank=function(data,rank){this.selfServerData=new Games.RankServerData(rank,data);if(this.selfServerData.desc.movieId!=0&&this.listServer.length<this.selfServerData.rank){this.listServer.push(this.selfServerData)}};RankModel.prototype.UpdateGroupRankList=function(msg){this.listGroup=[];for(var index=0;index<msg.data.length;index++){var desc=msg.data[index];var rankdata=new RankGroupData(index+1,desc);this.listGroup.push(rankdata);this.RemovePlayerShortData(rankdata.desc.userId)}this.SetSelfGroupRank(msg.selfData,msg.selfRank+1)};RankModel.prototype.SetSelfGroupRank=function(data,rank){this.selfGroupData=new Games.RankGroupData(rank,data);if(this.listGroup.length<this.selfGroupData.rank){this.listGroup.push(this.selfGroupData)}};RankModel.prototype.UpdateGroupMovieRankList=function(msg){this.listGroupMovie=[];for(var index=0;index<msg.data.length;index++){var desc=msg.data[index];var rankdata=new RankGroupMovieData(index+1,desc);if(rankdata.desc.totalBoxOffice>0){this.listGroupMovie.push(rankdata)}this.RemovePlayerShortData(rankdata.desc.userId)}this.SetSelfGroupMovieRank(msg.selfData,msg.selfRank+1)};RankModel.prototype.SetSelfGroupMovieRank=function(data,rank){this.selfGroupMovieData=new Games.RankGroupMovieData(rank,data);if(this.selfGroupMovieData.desc.totalBoxOffice>0&&this.listGroupMovie.length<this.selfGroupMovieData.rank){this.listGroupMovie.push(this.selfGroupMovieData)}};RankModel.prototype.UpdatePlayerShortData=function(msg){this.dicPlayer.add(msg.userId,msg)};RankModel.prototype.RemovePlayerShortData=function(userId){if(this.dicPlayer.hasKey(userId)){this.dicPlayer.remove(userId)}};RankModel.prototype.UpdateMovieShortData=function(msg){msg.mediaCommend=msg.mediaCommend/10;this.dicMovie.add(msg.uuid,msg);Game.system.movieInfo(msg)};RankModel.prototype.RemoveMovieShortData=function(uuid){if(this.dicMovie.hasKey(uuid)){this.dicMovie.remove(uuid)}};Object.defineProperty(RankModel.prototype,"SelfServerRankData",{get:function(){return this.selfServerData},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"LastWeakServerRank",{get:function(){return this.rankInfo.lastWeakRank},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"SelfServerRank",{get:function(){if(this.selfInfo==null){return 0}return this.selfInfo.MainRank},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"SelfGroupRankData",{get:function(){return this.selfGroupData},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"SelfGroupRank",{get:function(){if(this.selfInfo==null){return 0}return this.selfInfo.groupList},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"SelfGroupMovieRankData",{get:function(){return this.selfGroupMovieData},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"ServerRankList",{get:function(){return this.listServer.slice(0)},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"GroupRankList",{get:function(){return this.listGroup.slice(0)},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"GroupMovieRankList",{get:function(){return this.listGroupMovie.slice(0)},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"ServerName",{get:function(){if(this.selfInfo==null){return""}return this.selfInfo.serverName},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"ServerUuid",{get:function(){if(this.rankInfo==null){return null}return this.rankInfo.serverUuid},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"LastStreetId",{get:function(){if(this.rankInfo==null){return null}return this.rankInfo.lastGroupId},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"hasGetLastReward",{get:function(){return this.rankInfo.isGetLastReward},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"CanGetReward",{get:function(){if(this.rankInfo==null){return false}var list=this.LastRewardList;return list.length>0&&!this.rankInfo.isGetLastReward},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"cupNum",{get:function(){return User.info.cup},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"CanChangeName",{get:function(){if(this.rankInfo==null){return false}return this.rankInfo.lastWeakRank==1&&!this.rankInfo.isChangeServerName},enumerable:true,configurable:true});RankModel.prototype.GetMovieShort=function(uuid){if(this.dicMovie.hasKey(uuid)){return this.dicMovie.getValue(uuid)}return null};RankModel.prototype.GetPlayerShortData=function(userId){if(this.dicPlayer.hasKey(userId)){return this.dicPlayer.getValue(userId)}return null};RankModel.prototype.GetBoxOfficEvaluationIconUrl=function(index){var avatarIcon=this.listBoxOfficeIcon[index];if(avatarIcon){return Game.config.avatar.GetIconUrl(this.listBoxOfficeIcon[index])}console.log("票房等级"+index+"没有数据");return""};Object.defineProperty(RankModel.prototype,"RankRewardList",{get:function(){var date=new Date(Game.time.serverMilliseconds);var week=date.getDay();return week==7?Game.config.serverRankingList.weekRewardList:Game.config.serverRankingList.dailyRewardList},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"LastRewardList",{get:function(){if(this.rankInfo==null){return[]}var date=new Date(Game.time.serverMilliseconds);var week=date.getDay();return Game.config.serverRankingList.GetRewards(this.rankInfo.lastRank,week==7)},enumerable:true,configurable:true});Object.defineProperty(RankModel.prototype,"RedNum",{get:function(){return 0},enumerable:true,configurable:true});return RankModel}(Games.MModel));Games.RankModel=RankModel})(Games||(Games={}));var Games;(function(Games){var RechargeModel=(function(_super){__extends(RechargeModel,_super);function RechargeModel(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(RechargeModel.prototype,"rechargeList",{get:function(){return Game.config.recharge.getConfigList()},enumerable:true,configurable:true});return RechargeModel}(Games.MModel));Games.RechargeModel=RechargeModel})(Games||(Games={}));var Games;(function(Games){var SecretaryModel=(function(_super){__extends(SecretaryModel,_super);function SecretaryModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.secretaryKeyValueDict=new Dictionary();_this._isAutoRead=false;_this._isAutoVisit=false;_this._isAutoPublicize=false;_this._isAutoActorTrain=false;_this.moneyRewardGot=false;_this._resetTimeHandler=0;_this.isSetIntervalStart=false;_this.isNewDayForLicense=false;return _this}SecretaryModel.prototype.install=function(){};SecretaryModel.prototype.addSecretaryByProto=function(msg){var _this=this;this._secretaryData=msg;if(!this.isSetIntervalStart){this.isSetIntervalStart=true;setInterval(function(){_this.secondUpdateActivity()},1000)}this.secretaryKeyValueDict.clear();for(var index=0;index<this._secretaryData.timeList.length;index++){var element=this._secretaryData.timeList[index];this.secretaryKeyValueDict.add(element.key,element);switch(element.key){case ESecretary.cityTimes:this._isAutoPublicize=element.isOpen;break;case ESecretary.visitTimes:this._isAutoVisit=element.isOpen;break;case ESecretary.workTimes:this._isAutoRead=element.isOpen;break;case ESecretary.trainTime:this._isAutoActorTrain=element.isOpen;break;default:break}}if(this.preMoneyReward&&this.isMoneyGetReward&&this.moneyRewardGot==false){this.moneyRewardGot=true;var giftConfig=Game.config.secretaryGift.getConfig(2001);Game.system.getItemText(giftConfig.items)}this.startResetTime()};SecretaryModel.prototype.secondUpdateActivity=function(){if(Game.time.checkNewDayToRefrush(this._secretaryData.applyLastTime,0)){this.isNewDayForLicense=true}};SecretaryModel.prototype.startResetTime=function(){var _this=this;if(this._resetTimeHandler>0){clearTimeout(this._resetTimeHandler);this._resetTimeHandler=0}if(this._secretaryData.secretaryType==ESecretaryType.temporaryHad){var nowTime=Game.time.serverSeconds;var endTime=Game.config.secretary.getConfig(10).par;if(endTime>nowTime){var duration=endTime-nowTime;this._resetTimeHandler=setTimeout(function(){_this._secretaryData.secretaryType=ESecretaryType.noHave},duration*1000)}}};Object.defineProperty(SecretaryModel.prototype,"secretaryData",{get:function(){return this._secretaryData},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isInActivityTime",{get:function(){var startTime=Game.config.secretary.getConfig(9).par;var endTime=Game.config.secretary.getConfig(10).par;var nowTime=Game.time.serverSeconds;var isIn=false;if(nowTime>=startTime&&nowTime<endTime){isIn=true}return true},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isForever",{get:function(){return this.secretaryData.secretaryType==ESecretaryType.had},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"noseIntoNum",{get:function(){var config=Game.config.secretary.getConfig(5);var num=0;if(config){num=config.par}return num},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"resetCdRate",{get:function(){var config=Game.config.secretary.getConfig(4);var num=0;if(config){num=config.par}return num},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isTempSecretary",{get:function(){if(this.isForever==false){return this.secretaryData.secretaryType==ESecretaryType.temporaryHad}return false},enumerable:true,configurable:true});SecretaryModel.prototype.getValueByKey=function(key){if(this.secretaryKeyValueDict.hasKey(key)){return this.secretaryKeyValueDict.getValue(key).value}return 0};Object.defineProperty(SecretaryModel.prototype,"autoBusinessReadNum",{get:function(){var num=0;if(this.isForever){num=999}else{if(this.isTempSecretary){num=Game.config.secretary.getConfig(7).par-this.getValueByKey(ESecretary.workTimes)}}num=Math.max(0,num);return num},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"autoVisitNum",{get:function(){var num=0;if(this.isForever){num=999}else{if(this.isTempSecretary){num=Game.config.secretary.getConfig(8).par-this.getValueByKey(ESecretary.visitTimes)}}num=Math.max(0,num);return num},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"autoPublicizeNum",{get:function(){var num=0;if(this.isForever){num=999}else{if(this.isTempSecretary){num=Game.config.secretary.getConfig(6).par-this.getValueByKey(ESecretary.cityTimes)}}num=Math.max(0,num);return num},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isMoneyGetReward",{get:function(){if(Game.time.checkNewDayToRefrush(this.secretaryData.lastTime,0)){return false}else{return this.getValueByKey(ESecretary.moneyGiftId)>0}},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isFreeGetReward",{get:function(){if(Game.time.checkNewDayToRefrush(this.secretaryData.lastTime,0)){return false}else{return this.getValueByKey(ESecretary.freeGiftId)>0}},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"hasSetAuto",{get:function(){var has=false;if(this.isForever){has=true}else{if(this.isTempSecretary){has=true}}return has},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isAutoRead",{get:function(){if(this.isForever==false&&this.autoBusinessReadNum<=0){this.isAutoRead=false}return this._isAutoRead},set:function(value){if(this._isAutoRead!=value&&this.hasSetAuto){Game.protosender.secretary.OpenSecretary(ESecretary.workTimes,value?1:0)}this._isAutoRead=value},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isAutoActorTrain",{get:function(){return this._isAutoActorTrain},set:function(value){if(this._isAutoActorTrain!=value&&this.isForever){Game.protosender.secretary.OpenSecretary(ESecretary.trainTime,value?1:0)}this._isAutoActorTrain=value},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isAutoVisit",{get:function(){if(this.isForever==false&&this.autoVisitNum<=0){return false}return this._isAutoVisit},set:function(value){if(this._isAutoVisit!=value&&this.hasSetAuto){Game.protosender.secretary.OpenSecretary(ESecretary.visitTimes,value?1:0)}this._isAutoVisit=value},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isAutoPublicize",{get:function(){if(this.isForever==false&&this.autoPublicizeNum<=0){return false}return this._isAutoPublicize},set:function(value){if(this._isAutoPublicize!=value&&this.hasSetAuto){Game.protosender.secretary.OpenSecretary(ESecretary.cityTimes,value?1:0)}this._isAutoPublicize=value},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"realAutoRead",{get:function(){return this._isAutoRead},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"realAutoPublicize",{get:function(){return this._isAutoPublicize},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"realAutoVisit",{get:function(){return this._isAutoVisit},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"isCanGetWelf",{get:function(){var can=false;if(this.isForever&&this.isFreeGetReward==false){can=true}return can},enumerable:true,configurable:true});Object.defineProperty(SecretaryModel.prototype,"skillExpRate",{get:function(){var num=0;if(this.isForever){var config=Game.config.secretary.getConfig(2);if(config){num=config.par}}return num},enumerable:true,configurable:true});return SecretaryModel}(Games.MModel));Games.SecretaryModel=SecretaryModel})(Games||(Games={}));var Games;(function(Games){var ShopModel=(function(_super){__extends(ShopModel,_super);function ShopModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dict=new Dictionary();_this.lastDailyUpdateTime=0;_this.lastWeekUpdateTime=0;return _this}ShopModel.prototype.install=function(){this.InitLocalData()};ShopModel.prototype.ClearGoodsLimit=function(){var keys=this.dict.getKeys();var values=this.dict.getValues();for(var index=0;index<values.length;index++){var value=values[index];if(value!=null){if(value.LimitType==1){value.HasBuy=0}else{if(value.LimitType==2){var date=new Date(Game.time.serverMilliseconds);if(date.getDay()==1){value.HasBuy=0}}}}}};ShopModel.prototype.UpdateGoodsLimit=function(msg,uuid){this.lastDailyUpdateTime=Game.time.serverMilliseconds;this.lastWeekUpdateTime=Game.time.serverMilliseconds;if(this.dict.hasKey(msg.id)){this.dict.getValue(msg.id).HasBuy=msg.amount}else{var goods=Games.GoodsData.Create(msg.id,msg.amount);this.dict.add(msg.id,goods)}};Object.defineProperty(ShopModel.prototype,"goodsList",{get:function(){this.TryUpdate();var list=[];var goodsList=this.dict.getValues();for(var key in goodsList){if(goodsList.hasOwnProperty(key)){var goods=goodsList[key];list.push(goods)}}return list},enumerable:true,configurable:true});ShopModel.prototype.TryUpdate=function(){var serverTime=Game.time.serverMilliseconds;var updateDailyTime=User.info.mallLimitDailyUpdateTime;var updateWeekTime=User.info.mallLimitWeeklyUpdateTime;if(serverTime>updateDailyTime&&this.lastDailyUpdateTime-updateDailyTime<24*60*60*1000){this.lastDailyUpdateTime=serverTime;this.InitDailyData()}if(serverTime>updateWeekTime&&this.lastWeekUpdateTime-updateWeekTime<7*24*60*60*1000){this.lastWeekUpdateTime=serverTime;this.InitWeekData()}};ShopModel.prototype.GetGoodsByShopType=function(shoptype){var list=[];var goodsList=this.goodsList;for(var key in goodsList){if(goodsList.hasOwnProperty(key)){var goods=goodsList[key];if(goods.ShopType==shoptype){list.push(goods)}}}return list};ShopModel.prototype.InitLocalData=function(){this.dict.clear();var cfglist=Game.config.shop.getConfigList();for(var index=0;index<cfglist.length;index++){var cfg=cfglist[index];this.dict.add(cfg.id,Games.GoodsData.Create(cfg.id))}};ShopModel.prototype.InitDailyData=function(){var dailyType=1;var goodsList=this.dict.getValues();for(var key in goodsList){if(goodsList.hasOwnProperty(key)){var goods=goodsList[key];if(goods.ShopType==dailyType){goods.HasBuy=0;this.dict.add(goods.id,goods)}}}};ShopModel.prototype.InitWeekData=function(){var weekType=2;var goodsList=this.dict.getValues();for(var key in goodsList){if(goodsList.hasOwnProperty(key)){var goods=goodsList[key];if(goods.ShopType==weekType){goods.HasBuy=0;this.dict.add(goods.id,goods)}}}};ShopModel.prototype.SetDataToZero=function(){this.dict.clear();var cfglist=Game.config.shop.getConfigList();for(var index=0;index<cfglist.length;index++){var cfg=cfglist[index];this.dict.add(cfg.id,Games.GoodsData.Create(cfg.id,100))}};Object.defineProperty(ShopModel.prototype,"RedNum",{get:function(){var goodsList=this.goodsList;var num=0;for(var index=0;index<goodsList.length;index++){var goods=goodsList[index];if(goods.Config.hasPeriodTime&&goods.isPeriodTime){num++}}return num},enumerable:true,configurable:true});ShopModel.prototype.GetRedNumByType=function(type){var goodsList=this.GetGoodsByShopType(type);var num=0;for(var index=0;index<goodsList.length;index++){var goods=goodsList[index];if(goods.Config.hasPeriodTime&&goods.isPeriodTime){num++}}return num};return ShopModel}(Games.MModel));Games.ShopModel=ShopModel})(Games||(Games={}));var Games;(function(Games){var StoryModel=(function(_super){__extends(StoryModel,_super);function StoryModel(){var _this=_super.call(this)||this;_this.totalStarNum=0;_this.totalCompleteStoryNum=0;_this.timeDurationOut=0;_this.resetFindTimeOut=0;_this.storylist=new Array();_this.storyDict=new Dictionary();_this.storyUUidDict=new Dictionary();_this.storySuitlist=new Array();_this.storySuitDict=new Dictionary();_this.storySuitUUidDict=new Dictionary();_this.finishDict=new Dictionary();_this.totalStarNum=0;return _this}StoryModel.prototype.setup=function(){clearTimeout(this.timeDurationOut);clearTimeout(this.resetFindTimeOut);this.resetSou();this.resetFindTime()};StoryModel.prototype.resetFindTime=function(){var preTime=User.info.lastTimeFindStory;var nowTime=Game.time.serverSeconds;var nextTime=preTime+GlobalConfig.getValue(GlobalKey.story_stack_cd);if(nowTime<nextTime){var timeDuration=nextTime-nowTime+2;this.resetFindTimeOut=setTimeout(function(){Game.event.dispatch(GameEventKey.GameEventKey_ResetFindStoryTime)},timeDuration*1000)}};StoryModel.prototype.resetSou=function(){if(Game.time.checkNewDayToRefrush(User.info.lastResetTime,0)){User.info.findStoryTime=0}else{var resetHour=0;var curr=Game.time.serverMilliseconds;var d=new Date();d.setTime(curr);d.setMinutes(0);d.setSeconds(0);var hour=d.getHours();d.setHours(resetHour);if(hour>=resetHour){d.setTime(d.getTime()+24*60*60*1000)}var currSecond=Game.time.serverSeconds;var nextSecond=Math.floor(d.getTime()/1000);var timeDuration=nextSecond-currSecond;this.timeDurationOut=setTimeout(function(){User.info.findStoryTime=0;Game.event.dispatch(GameEventKey.GameEventKey_ResetFindStoryTime)},timeDuration*1000)}};StoryModel.prototype.addStoryByProto=function(msg){var data=this.getStoryDataByUUid(msg.uuid);var has=true;if(data==null){data=new Games.StoryData();has=false}data.id=msg.storyId;data.uuid=msg.uuid;data.status=msg.status;data.maxScore=msg.maxScore;data.progress=msg.progress;data.shootLastTime=msg.shootLastTime;data.storyProgressInfo=msg.storyProgressInfo;if(data.config==null){console.error("没有剧本配置 "+data.id);return}if(has==false){this.totalStarNum+=data.config.starNumber}var alreadyFinish=this.finishDict.hasKey(data.id);if(data.isFinish&&alreadyFinish==false){this.totalCompleteStoryNum++}this.addStoryData(data)};StoryModel.prototype.addStorySuitByProto=function(msg){var data=this.getStorySuitData(msg.storySuitId);if(data==null){data=new Games.StorySuitData()}data.progress=msg.progress;data.progress2=msg.progress2;data.status=msg.status;data.id=msg.storySuitId;if(this.storySuitDict.hasKey(msg.storySuitId)==false){this.storySuitlist.push(data)}this.storySuitDict.add(msg.storySuitId,data);this.storySuitUUidDict.add(msg.uuid,data)};StoryModel.prototype.getStorySuitData=function(id){return this.storySuitDict.getValue(id)};StoryModel.prototype.getStorySuitDataByUUid=function(uuid){return this.storySuitUUidDict.getValue(uuid)};StoryModel.prototype.removeStorySuitData=function(uuid){var data=this.getStorySuitDataByUUid(uuid);if(data){this.storySuitDict.remove(data.id);this.storySuitUUidDict.remove(uuid)}};StoryModel.prototype.removeStoryByUUid=function(uuid){var story=this.getStoryDataByUUid(uuid);if(story){this.removeStory(story)}};StoryModel.prototype.removeStoryByid=function(id){var story=this.getStoryData(id);if(story){this.removeStory(story)}};StoryModel.prototype.removeStory=function(story){this.storyDict.remove(story.id);this.storyUUidDict.remove(story.uuid);var index=this.storylist.indexOf(story);if(index>=0){this.storylist.splice(index,1)}};StoryModel.prototype.addStoryData=function(data){var has=this.hasStoryData(data.id);if(has==false){this.storylist.push(data);this.storyUUidDict.add(data.uuid,data);this.storyDict.add(data.id,data)}};StoryModel.prototype.hasStoryData=function(id){return this.storyDict.hasKey(id)};StoryModel.prototype.hasStoryDataByUUid=function(uuid){return this.storyUUidDict.hasKey(uuid)};StoryModel.prototype.getStoryDataByUUid=function(uuid){return this.storyUUidDict.getValue(uuid)};StoryModel.prototype.getStoryData=function(id){return this.storyDict.getValue(id)};StoryModel.prototype.getStoryList=function(){return this.storylist};StoryModel.prototype.getTotalStoryNum=function(){return this.storylist.length};StoryModel.prototype.getStoryAchieveList=function(){var configs=[];for(var index=1;index<4;index++){}return configs};Object.defineProperty(StoryModel.prototype,"isFindMax",{get:function(){var b=User.info.findStoryTime>=GlobalConfig.getValue(GlobalKey.story_stack_daily_times);return b},enumerable:true,configurable:true});Object.defineProperty(StoryModel.prototype,"isClearCdUnlock",{get:function(){var blockStreetLevel=Game.config.global.getConfig(GlobalKey.story_stack_cd_block_level).value;var b=User.info.stall>=blockStreetLevel;return b},enumerable:true,configurable:true});Object.defineProperty(StoryModel.prototype,"isRed",{get:function(){var isUnlock=Game.config.menu.getConfig(Games.MenuId.StoryLibrary).isUnlock;var b=false;if(isUnlock){if((this.isFindMax==false&&this.remainTimers<=0)||Game.moduleModel.task.isRedStoryAchievement){b=true}}return b},enumerable:true,configurable:true});Object.defineProperty(StoryModel.prototype,"remainTimers",{get:function(){var resetTime=0;var preTime=User.info.lastTimeFindStory;var nowTime=Game.time.serverSeconds;var nextTime=preTime+GlobalConfig.getValue(GlobalKey.story_stack_cd);if(nowTime<nextTime){resetTime=nextTime-nowTime}return resetTime},enumerable:true,configurable:true});StoryModel.prototype.getStorySuitList=function(){this.storySuitlist.sort(function(a,b){return a.id-b.id});return this.storySuitlist};return StoryModel}(Games.MModel));Games.StoryModel=StoryModel})(Games||(Games={}));var Games;(function(Games){var StreetModel=(function(_super){__extends(StreetModel,_super);function StreetModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.NextStreetNum=5;return _this}StreetModel.prototype.UpdateStreetCup=function(addNum){var cupNum=this.cupNum;var lastCupLimit=this.LastStreetCupLimit;if(cupNum-addNum<lastCupLimit){Game.system.streetLevelUp()}};Object.defineProperty(StreetModel.prototype,"LastStreetCupLimit",{get:function(){var lastCfg=Game.config.blockLevel.GetLastStreetCfg(this.streetCurrentId);if(lastCfg){return lastCfg.upgrade_req}return 0},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"unlockStreetList",{get:function(){var streetId=this.streetCurrentId;var cfgList=Game.config.blockLevel.getConfigList();var retList=[];var index=0;for(;index<cfgList.length;index++){var cfg=cfgList[index];retList.push(Games.StreetData.CreateStreet(cfg.id));if(cfg.id==streetId){return retList}}return retList},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"StreetList",{get:function(){var streetId=this.streetCurrentId;var cfgList=Game.config.blockLevel.getConfigList();var retList=[];var index=0;for(;index<cfgList.length;index++){var cfg=cfgList[index];retList.push(Games.StreetData.CreateStreet(cfg.id));if(cfg.id==streetId){break}}var lockIndex=++index+this.NextStreetNum;for(index;index<lockIndex;index++){var cfg=cfgList[index];if(cfg){retList.push(Games.StreetData.CreateStreet(cfg.id))}else{break}}retList=retList.sort(function(a,b){return b.id-a.id});return retList},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"cupNum",{get:function(){return Game.moduleModel.rank.cupNum},enumerable:true,configurable:true});StreetModel.prototype.GetMaxCup=function(id){var cfg=Game.config.blockLevel.getConfig(id);return cfg.upgrade_req};StreetModel.prototype.GetStreetName=function(id){var cfg=Game.config.blockLevel.getConfig(id);if(cfg){return cfg.name}return""};Object.defineProperty(StreetModel.prototype,"streetCurrentId",{get:function(){return User.info.stall},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"currentStreetData",{get:function(){return Games.StreetData.CreateStreet(this.streetCurrentId)},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"selfStreetData",{get:function(){return Games.StreetData.CreateStreet(this.streetCurrentId)},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"cinemaNumber",{get:function(){var nums=0;for(var index=0;index<User.info.theaterIds.length;index++){var treaterId=User.info.theaterIds[index];var cfg=Game.config.cinema.getConfig(treaterId);if(cfg){nums+=cfg.num}}return nums},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"canReward",{get:function(){var nowDate=new Date(Game.time.serverMilliseconds);var nH=nowDate.getHours();var limitH=Game.config.global.getConfig(15).value;if(nH>=limitH){nowDate.setHours(limitH);return nowDate.valueOf()>User.info.lastGetStreetRewardTimt*1000}else{nowDate.setHours(limitH);return nowDate.valueOf()-23*60*60*1000>User.info.lastGetStreetRewardTimt*1000}},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"canSign",{get:function(){var cfg=Game.config.blockLevel.getConfig(User.info.stall);if(cfg==null){return true}if(cfg.cinema.length==0){return false}var cinemaList=cfg.cinema;for(var i=0;i<User.info.theaterIds.length;i++){var theaterId=User.info.theaterIds[i];for(var j=0;j<cinemaList.length;j++){var cinemaId=cinemaList[j];if(cinemaId==theaterId){return false}}}return true},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"hasCongratulateNums",{get:function(){var total=Game.config.global.getConfig(18).value;var times=User.info.sendGroupRankListTimes||0;var resetH=Game.config.global.getConfig(GlobalKey.Block_Ranking_List_Reset).value;var nowTime=Game.time.serverSeconds;var lastTime=User.info.lastSendGroupRankListTime;if(this.IsNeedReset(lastTime,resetH)){return true}return total>times},enumerable:true,configurable:true});StreetModel.prototype.IsNeedReset=function(lastResetTime,resetH,resetM,resetS){if(resetH===void 0){resetH=0}if(resetM===void 0){resetM=0}if(resetS===void 0){resetS=0}var nowDate=new Date(Game.time.serverMilliseconds);var resetDate=new Date(Game.time.serverMilliseconds);var lastDate=new Date(lastResetTime);resetDate.setHours(resetH);resetDate.setMinutes(resetM);resetDate.setSeconds(resetS);if(nowDate.valueOf()<resetDate.valueOf()){resetDate=new Date(resetDate.valueOf()-24*60*60*1000)}return lastDate.valueOf()<resetDate.valueOf()};Object.defineProperty(StreetModel.prototype,"gronpRankCongratulateCD",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=User.info.lastSendGroupRankListTime;var cd=Game.config.global.getConfig(GlobalKey.Block_Ranking_List_Congratulate_Cd).value;return lastTime+cd-nowTime},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"groupMovieRankCongratulateCD",{get:function(){var nowTime=Game.time.serverSeconds;var lastTime=User.info.lastSendGroupMovieRankListTime;var cd=Game.config.global.getConfig(19).value;return lastTime+cd-nowTime},enumerable:true,configurable:true});Object.defineProperty(StreetModel.prototype,"groupRankCD",{get:function(){var nowTime=Game.time.serverSeconds;var limitHour=Game.config.global.getConfig(15).value;var limitDate=new Date(Game.time.serverMilliseconds);var nowHour=limitDate.getHours();limitDate.setHours(limitHour);limitDate.setMinutes(0);limitDate.setSeconds(0);if(nowHour>=limitHour){return limitDate.valueOf()/1000+24*60*60-nowTime}else{return limitDate.valueOf()/1000-nowTime}},enumerable:true,configurable:true});StreetModel.prototype.validataBlockLevelId=function(blockLevelId){return blockLevelId<=this.streetCurrentId};Object.defineProperty(StreetModel.prototype,"RedNum",{get:function(){return 0},enumerable:true,configurable:true});return StreetModel}(Games.MModel));Games.StreetModel=StreetModel})(Games||(Games={}));var Games;(function(Games){var SystemSettingModel=(function(_super){__extends(SystemSettingModel,_super);function SystemSettingModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sCallLanguagePanel=new Signal();_this.sCallGiftPanel=new Signal();_this.sCallGiftGetOk=new Signal();_this.settingData=new Dictionary();return _this}Object.defineProperty(SystemSettingModel.prototype,"settingLanguageId",{get:function(){return Game.config.languageType.getConfigByValue(LangManager.Instance.lang).id},set:function(id){var lan=Game.config.languageType.getConfig(id).value;if(lan!=LangManager.Instance.lang){LangManager.Instance.lang=lan}},enumerable:true,configurable:true});SystemSettingModel.prototype.onClickResetYesButton=function(){window.location.reload()};SystemSettingModel.prototype.exchange=function(id){Game.protosender.Gift.Exchange(id)};SystemSettingModel.prototype.handlerExchange=function(msg){this.sCallGiftGetOk.dispatch()};SystemSettingModel.prototype.getBoolean=function(key){switch(key){case"music_switch":return !Game.sound.musicMuted;case"soundeffect_switch":return !Game.sound.soundMuted}if(!this.settingData.hasKey(key)){if(Game.localStorage.hasItem(key)){var value=Game.localStorage.getBoolean(key);this.setBoolean(key,value)}else{var value=Game.config.settingDefault.getConfig(key).OnOff;this.setBoolean(key,value)}}return this.settingData.getValue(key)};SystemSettingModel.prototype.setBoolean=function(key,value){this.settingData.add(key,value);Game.localStorage.setBoolean(key,value);switch(key){case"music_switch":Game.sound.musicMuted=!value;break;case"soundeffect_switch":Game.sound.soundMuted=!value;break}};return SystemSettingModel}(Games.MModel));Games.SystemSettingModel=SystemSettingModel})(Games||(Games={}));var Games;(function(Games){var TaskModel=(function(_super){__extends(TaskModel,_super);function TaskModel(){var _this=_super.call(this)||this;_this._seeMovieRewardNum=0;_this._openRankNum=0;_this.taskTypeDict=new Dictionary();_this.taskTypeSortDict=new Dictionary();_this.tasklist=new Array();_this.taskDict=new Dictionary();_this.taskUUidDict=new Dictionary();_this.deleteTaskDict=new Dictionary();_this.mainTaskDict=new Dictionary();return _this}Object.defineProperty(TaskModel.prototype,"seeMovieRewardNum",{get:function(){return this._seeMovieRewardNum},set:function(value){this._seeMovieRewardNum=value;this.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_9_SeeMovieReward)},enumerable:true,configurable:true});Object.defineProperty(TaskModel.prototype,"openRankNum",{get:function(){return this._openRankNum},set:function(value){this._openRankNum=value;this.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_20_OpenRank)},enumerable:true,configurable:true});TaskModel.prototype.getTaskDataByUUid=function(uuid){return this.taskUUidDict.getValue(uuid)};TaskModel.prototype.getDelTaskDataByUUid=function(uuid){return this.deleteTaskDict.getValue(uuid)};TaskModel.prototype.getTaskDataById=function(id){return this.taskDict.getValue(id)};TaskModel.prototype.getTaskListByType=function(type,sort){if(sort===void 0){sort=true}var list=this.taskTypeDict.getValue(type);var isSort=this.getisSortByType(type);if(isSort==false&&sort&&list){this.taskTypeSortDict.add(type,true);if(type==EAchievementType.mainTask){list.sort(this.sortMainTaskData)}else{list.sort(this.sortTaskData)}}return list};TaskModel.prototype.getMainTaskListByType=function(type){var list=this.mainTaskDict.getValue(type);return list};TaskModel.prototype.removeTaskDataByUUid=function(uuid){var data=this.taskUUidDict.getValue(uuid);if(data){this.taskDict.remove(data.id);this.taskUUidDict.remove(uuid);var list=this.taskTypeDict.getValue(data.type);var index=void 0;if(list){index=list.indexOf(data);if(index>=0){list.splice(index,1)}}if(data.isMainTask&&data.mainConfig){list=this.mainTaskDict.getValue(data.mainConfig.require);if(list){index=list.indexOf(data);if(index>=0){list.splice(index,1)}}}this.deleteTaskDict.add(data.uuid,data)}};TaskModel.prototype.addTaskDataByProto=function(msg){var data=this.getTaskDataByUUid(msg.uuid);if(data==null){data=new Games.TaskData()}data.id=msg.cid;data.uuid=msg.uuid;data.state=msg.state;data.progress=msg.progress;data.type=msg.type;if(this.taskDict.hasKey(data.id)==false){this.tasklist.push(data)}this.taskDict.add(data.id,data);this.taskUUidDict.add(data.uuid,data);var list=this.getTaskListByType(data.type,false);if(list==null){list=new Array();this.taskTypeDict.add(data.type,list)}if(data.isMainTask&&data.mainConfig){var mainTaskList=this.getMainTaskListByType(data.mainConfig.require);if(mainTaskList==null){mainTaskList=new Array();this.mainTaskDict.add(data.mainConfig.require,mainTaskList)}data.calClientProgress();if(mainTaskList.indexOf(data)==-1){mainTaskList.push(data)}if(data.isFinished){Game.guide.clearGuide();Game.guide.endGuide()}}if(list.indexOf(data)==-1){list.push(data)}this.taskTypeSortDict.add(data.type,false)};TaskModel.prototype.getisSortByType=function(type){var b=false;if(this.taskTypeSortDict.hasKey(type)){b=this.taskTypeSortDict.getValue(type)}return b};TaskModel.prototype.getCurrentStoryTask=function(){var list=this.getTaskListByType(EAchievementType.story);return list};TaskModel.prototype.getCurrentMainTask=function(){var list=this.getTaskListByType(EAchievementType.mainTask);if(list&&list.length>0){return list[0]}return null};Object.defineProperty(TaskModel.prototype,"mainTaskId",{get:function(){var mainTask=this.getCurrentMainTask();var id=0;if(mainTask){id=mainTask.id}return id},enumerable:true,configurable:true});TaskModel.prototype.clientUpdateMainTaskProgress=function(type){var list=this.getMainTaskListByType(type);if(list){var mainId=this.mainTaskId;for(var index=0;index<list.length;index++){var element=list[index];element.calClientProgress();if(element.id==mainId){Game.event.dispatch(GameEventKey.GameEventKey_ClientUpdateMainTask)}}}};TaskModel.prototype.sortTaskData=function(a,b){return a.id-b.id};TaskModel.prototype.sortMainTaskData=function(a,b){if(a.mainConfig&&b.mainConfig){return a.mainConfig.pre_quest-b.mainConfig.pre_quest}return 0};Object.defineProperty(TaskModel.prototype,"isRedStoryAchievement",{get:function(){var b=false;var list=this.getTaskListByType(EAchievementType.story,false);for(var index=0;index<list.length;index++){var element=list[index];b=element.isFinished;if(b){break}}return b},enumerable:true,configurable:true});TaskModel.prototype.clientGetBuildRoomProgress=function(roomType){var progress=Game.moduleModel.building.hasBuildByType(roomType)?1:0;return progress};TaskModel.prototype.clientGetBuildUpgradeProgress=function(roomType){var progress=0;if(Game.moduleModel.building.hasBuildByType(roomType)){progress=Game.moduleModel.building.getRoomLevel(roomType)}return progress};TaskModel.prototype.clientGetUpgradeActorTimesProgress=function(lv){var progress=0;var actors=Game.moduleModel.actor.getActors();actors.forEach(function(element){if(element.level>=lv){progress++}});var hideAcotrs=Game.moduleModel.actor.getHideActors();hideAcotrs.forEach(function(element){if(element.level>=lv){progress++}});return progress};TaskModel.prototype.clientGetNoseActorProgress=function(){var progress=Game.moduleModel.actor.getAllActorLen();return progress};TaskModel.prototype.clientGetStreetPublicizeProgress=function(id){var progress=0;if(id>0){progress=Game.moduleModel.market.IsTaskCityPointFinish(id)?1:0}return progress};TaskModel.prototype.clientGetRoadShowProgress=function(){var progress=Game.moduleModel.market.roadShowNum();return progress};TaskModel.prototype.clientGetCityFinishProgress=function(id){var progress=0;if(id>0){progress=Game.moduleModel.market.IsTaskCityFinish(id)?1:0}return progress};TaskModel.prototype.clientGetAmbassadorNumProgress=function(id){var progress=0;if(id>0){progress=Game.moduleModel.market.TaskGetAmbassadorNum(id)}return progress};TaskModel.prototype.clientGetSeeMovieReward=function(){return this.seeMovieRewardNum};TaskModel.prototype.clientGetOpenRankWindow=function(){return this._openRankNum};TaskModel.prototype.isShowTaskPanel=function(){return Game.moduleModel.guide.isGuideFinished(100101)};return TaskModel}(Games.MModel));Games.TaskModel=TaskModel})(Games||(Games={}));var Games;(function(Games){var VisitModel=(function(_super){__extends(VisitModel,_super);function VisitModel(){var _this=_super.call(this)||this;_this.isAutoVisit=false;_this.visitTalkGroupId=1;return _this}VisitModel.prototype.getVisitData=function(){return this.visitData};VisitModel.prototype.getVisitName=function(){if(this.visitData.actorId>0){return this.visitData.actorData.name}return""};VisitModel.prototype.addVisitData=function(msg){if(this.visitData==null){this.visitData=new Games.VisitData()}this.visitData.uuid=msg.uuid;this.visitData.startTime=msg.startTime;this.visitData.lastTime=msg.lastTime;this.visitData.lineLimit=msg.lineLimit;this.visitData.intervalTime=msg.intervalTime;this.visitData.id=msg.visitId;this.visitData.actorId=msg.actId;this.visitData.starTimeToVisit();this.visitData.startToMaxTime();return this.visitData};VisitModel.prototype.saveVisitId=function(){this.rewardVisitId=this.visitData.id};VisitModel.prototype.setRDTalkGroupId=function(){this.playActVisitList=Game.config.playAct.getConfigList();this.playActVisitList=this.playActVisitList.filter(function(value,index,array){return value.type==Games.PerformType.ReceptionFansTalk});this.visitTalkGroupId=Random.range(0,this.playActVisitList.length);return this.visitTalkGroupId};VisitModel.prototype.getFansStartTalk=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.ReceptionFansTalk});return playActList[this.visitTalkGroupId].eventList};VisitModel.prototype.getActorStartTalk=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.ReceptionActorTalk});return playActList[this.visitTalkGroupId].eventList};VisitModel.prototype.getReceptionDialog=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.Reception});return playActList[this.visitTalkGroupId].eventList};VisitModel.prototype.getWrongActorClickDialog=function(){var speeks=[];speeks.push(Game.config.msg.getTxt(MsgKey.visit_wrong1));speeks.push(Game.config.msg.getTxt(MsgKey.visit_wrong2));speeks.push(Game.config.msg.getTxt(MsgKey.visit_wrong3));return speeks[Random.range(0,speeks.length)]};Object.defineProperty(VisitModel.prototype,"isRed",{get:function(){var b=false;var isBuild=Game.moduleModel.building.hasBuildByType(Games.RoomType.Reception);if(isBuild){if(this.visitData&&Game.moduleModel.actor.hasCanVisitActor){b=this.visitData.isMax}}return b},enumerable:true,configurable:true});return VisitModel}(Games.MModel));Games.VisitModel=VisitModel})(Games||(Games={}));var Games;(function(Games){var WarModel=(function(_super){__extends(WarModel,_super);function WarModel(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.filmExpectations=new Dictionary();_this.filmExpecteActor=new Dictionary();_this.curFilmType=-1;_this.storyShootType=-1;_this.theaterId=-1;_this.overBattle=0;_this.dropList=new Array();_this.sUpdateContinue=new Signal();_this._curYRList=new Dictionary();_this.filmDataInit=false;_this.clientHideFilmOverResult=false;_this.filmStatusTick=null;_this.isFilmingShangying=false;_this.movieDataList=new Array();_this._movieFilming=false;_this.filmInfoConfig=null;_this.emptyCinemalist=[0,0];_this.curStoryList=new Array();_this._movieHistogramTime=null;_this.filmingProgress=new numVal();_this.isFilming=false;_this.filmingSpeed=250;_this.filmGoldCurPress=0;_this.filmGoldProgress=new numVal();_this.goldProgressIsStart=false;_this.licenceAddWithCd=0;_this.preLicenceAddWithCD=0;_this.licenceSubTime=0;_this.sUpdateLicence=new Signal();_this.sUpdateLicenceForTime=new Signal();_this.isTick=false;_this.guanzhongList=new Array();_this.guanzhongMax=[0,0,0];_this.sFeedBackUpdate=new Signal();_this.sAudienceUpdate=new Signal();_this.sProficiencyUpdate=new Signal();return _this}WarModel.prototype.MakeFilm=function(windowCallBack){this.overBattle=0;this.windowCallBack=windowCallBack;Game.protosender.movie.MakeFilm()};WarModel.prototype.handlerMakeFilm=function(){this.initFilmInf();this.windowCallBack()};WarModel.prototype.SendReName=function(newName,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.SetMovieName(newName)};WarModel.prototype.handleReName=function(){this.windowCallBack()};WarModel.prototype.sendSetActor=function(index,actorId,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.SetActor(index,actorId)};WarModel.prototype.HandleSetActor=function(msg){this.windowCallBack()};WarModel.prototype.ConfirmSetActor=function(windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.ConfirmSetActor()};WarModel.prototype.HandleConfirmSetActor=function(msg){this.windowCallBack()};WarModel.prototype.AcceptMediaVisit=function(mediaId,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.AcceptMediaVisit(mediaId)};WarModel.prototype.handleAcceptMediaVisit=function(msg){this.windowCallBack(msg.addExpection)};WarModel.prototype.setSelectType=function(value,windowCallBack){this.windowCallBack=windowCallBack;this.curFilmType=value;Game.protosender.movie.ChoseType(value)};WarModel.prototype.HandleSetSelectType=function(msg){this.storyShootType=msg.storyShootType;this.windowCallBack()};WarModel.prototype.setPublishMovie=function(index,windowCallBack){this.windowCallBack=windowCallBack;this.theaterId=index;Game.protosender.movie.PublishMovie(index)};WarModel.prototype.PublishMovie=function(msg){this.windowCallBack()};WarModel.prototype.setBattleOver=function(windowCallBack){if(this.overBattle===0){this.overBattle=1;this.windowCallBack=windowCallBack;Game.protosender.movie.BattleOver()}};WarModel.prototype.HandlersetBattleOver=function(msg){this.moveData=null;if(this.clientHideFilmOverResult){this.moveJieSuanData=null;this.sUpdateContinue.dispatch()}else{this.dropList=msg.dropout.sort(function(a,b){return a.itemId-b.itemId});if(this.windowCallBack!==null){this.windowCallBack()}}};WarModel.prototype.sendUpdateMovieState=function(windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.UpdateMovieState(Game.moduleModel.warData.moveData.state)};WarModel.prototype.handleUpdateMovieState=function(){this.windowCallBack()};WarModel.prototype.reqGetStoryGoals=function(windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.GetStoryGoals()};WarModel.prototype.handlerGetStoryGoals=function(){this.windowCallBack()};WarModel.prototype.reqSwitchCity=function(uuid,cityId,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.SwitchCity(uuid,cityId)};WarModel.prototype.handlerSwitchCity=function(){this.windowCallBack()};WarModel.prototype.reqSpreadMovie=function(uuid,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.SpreadMovie(uuid)};WarModel.prototype.handlerSpreadMovie=function(){this.windowCallBack()};WarModel.prototype.reqGetRewardMovie=function(uuid,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.GetRewardMovie(uuid)};WarModel.prototype.handlerGetRewardMovie=function(msg){this.windowCallBack(msg)};WarModel.prototype.reqDeleteMovie=function(uuid,windowCallBack){this.windowCallBack=windowCallBack;Game.protosender.movie.DeleteMovie(uuid)};WarModel.prototype.handlerDeleteMovie=function(msg){this.windowCallBack(msg.uuid)};Object.defineProperty(WarModel.prototype,"temActor",{get:function(){if(!this._temActor||this._temActor===null){this._temActor=new Games.ActorData();this._temActor.setId(9999);this._temActor.name=this._temActor.config.name}return this._temActor},enumerable:true,configurable:true});Object.defineProperty(WarModel.prototype,"curYRList",{get:function(){var curData=this.moveData;if(curData===null){curData=this.moveJieSuanData}var actorList=Game.moduleModel.actor.getActors();this._curYRList=new Dictionary();for(var i=0;i<curData.data.length;i++){if(curData.data[i]>0){if(curData.data[i]===9999){this._curYRList.add(i,this.temActor)}else{for(var j=0;j<actorList.length;j++){if(actorList[j].id==curData.data[i]){this._curYRList.add(i,actorList[j])}}}}}return this._curYRList},enumerable:true,configurable:true});Object.defineProperty(WarModel.prototype,"getRealYRList",{get:function(){this.proficiencyForActor=new Dictionary();var ryList=new Dictionary();var allList=this.curYRList;var keys=allList.getKeys();for(var i=0;i<keys.length;i++){var val=allList.getValue(keys[i]);if(val.id!=9999){ryList.add(ryList.count,val);this.proficiencyForActor.add(ryList.count,i)}}return ryList},enumerable:true,configurable:true});WarModel.prototype.initFilmInf=function(){this.filmDataInit=true;this.filmingMaxCur=0;this.filmingCurDay=0;this.filmingTotal=0;this.filmingMaxDay=0;this.refrushDataStart=false};WarModel.prototype.refrushFilmingStatus=function(){if(!this.filmStatusTick||this.filmStatusTick===null){this.filmStatusTick=Game.tick.AddTick(this.movieHistogramTime/1000,-1,Handler.create(this,this.onRefrushFilmingStatus,null,false),null)}if(!this.isFilmingShangying){this.clientHideFilmOverResult=false;var lastTime=Game.time.getSubSecondsAfter(this.moveData.startTime);var haveDurDay=0;if(lastTime<0){lastTime*=-1;haveDurDay=Math.floor(lastTime/(this.movieHistogramTime/1000))}this.filmingMaxCur=0;this.filmingCurDay=0;this.filmingTotal=this.moveData.premiereBoxOffice+this.moveData.extBoxOffice;this.filmingMaxDay=this.moveData.runDays.length;if(haveDurDay<this.filmingMaxDay){if(haveDurDay>2){this.filmingCurDay=haveDurDay;for(var i=0;i<this.filmingCurDay;i++){this.filmingTotal+=this.moveData.runDays[i]}}this.filmStatusTick.Restart()}else{this.clientHideFilmOverResult=true;this.isFilmingShangying=false;this.filmingCurDay=this.filmingMaxDay+1;this.windowCallBack=null;Game.event.dispatch(GameEventKey.GameEventKey_FilmEnd,Game.moduleModel.warData.moveData.mExpected);Game.event.dispatch(GameEventKey.GameEventKey_UpdateFilmingStatus);Game.protosender.movie.BattleOver()}}};Object.defineProperty(WarModel.prototype,"onCheckHaveDurDay",{get:function(){if(this.moveData){var lastTime=Game.time.getSubSecondsAfter(this.moveData.startTime);var haveDurDay=0;if(lastTime<0){lastTime*=-1;haveDurDay=Math.floor(lastTime/(this.movieHistogramTime/1000))}return haveDurDay<this.filmingMaxDay}return false},enumerable:true,configurable:true});WarModel.prototype.onRefrushFilmingStatus=function(){if(this.filmingCurDay<this.filmingMaxDay){this.isFilmingShangying=true;if(this.filmingMaxCur<this.moveData.runDays[this.filmingCurDay]){this.filmingMaxCur=this.moveData.runDays[this.filmingCurDay]}if(this.filmingCurDay>0){this.filmingTotal+=this.moveData.runDays[this.filmingCurDay-1]}this.filmingCurDay++;Game.event.dispatch(GameEventKey.GameEventKey_UpdateFilmingStatus)}else{this.isFilmingShangying=false;this.filmingCurDay=this.filmingMaxDay+1;this.filmStatusTick.Stop();Game.event.dispatch(GameEventKey.GameEventKey_FilmEnd,Game.moduleModel.warData.moveData.mExpected);Game.event.dispatch(GameEventKey.GameEventKey_UpdateFilmingStatus)}};Object.defineProperty(WarModel.prototype,"moveData",{get:function(){return this._movieData},set:function(val){this._movieData=val;this._movieFilming=val!==null;if(val!==null&&this._movieData.movieId>0){this._moveStory=Game.config.story.getConfig(this._movieData.movieId);this._moveStory.filmName=this._movieData.name}},enumerable:true,configurable:true});Object.defineProperty(WarModel.prototype,"moveStory",{get:function(){if(this.moveData===null){if(this.moveJieSuanData&&this.moveJieSuanData!==null&&this.moveJieSuanData.movieId>0){this._moveStory=Game.config.story.getConfig(this.moveJieSuanData.movieId);this._moveStory.filmName=this.moveJieSuanData.name}}return this._moveStory},enumerable:true,configurable:true});WarModel.prototype.getListForFilmYR=function(data){var actorList=Game.moduleModel.actor.getActors();var resList=new Array();for(var i=0;i<actorList.length;i++){if(data.sex===0||data.sex===actorList[i].config.sex){if(data.country===0||data.country===actorList[i].config.country){if(data.show_type===0||data.show_type===actorList[i].config.show_type){if(data.age_type===0||data.age_type===actorList[i].config.age_type){resList.push(actorList[i])}}}}}return resList};WarModel.prototype.cinemaList=function(){var result=new Array();var allList=Game.config.cinema.getConfigList();var serverList=User.info.theaterIds;var next1=0;var next2=0;for(var i=0;i<serverList.length;i++){var item=Game.config.cinema.getConfig(serverList[i]);if(item&&item!==null){result.push(item);var tem=parseInt((item.id/1000).toFixed(0))*1000;if(next1<tem){next1=tem;next2=tem+2000}}}var result2=new Array();for(var i=0;i<result.length;i++){var add2=true;for(var j=0;j<result2.length;j++){if(result2[j].level===result[i].level){if(result2[j].id<result[i].id){result2[j]=result[i]}add2=false}}if(add2){result2.push(result[i])}}var next1Conf=Game.config.cinema.getConfig(next1+1001);var next1Conf2=Game.config.cinema.getConfig(next2+1);if(next1Conf&&next1Conf!==null){this.emptyCinemalist[0]=next1Conf.id;result2.push(next1Conf)}if(next1Conf2&&next1Conf2!==null){this.emptyCinemalist[1]=next1Conf2.id;result2.push(next1Conf2)}result2=result2.sort(function(a,b){return a.id-b.id});return result2};Object.defineProperty(WarModel.prototype,"getStoryList",{get:function(){this.setStoryList();return this.curStoryList},enumerable:true,configurable:true});WarModel.prototype.setStoryList=function(){var curData=this.moveData;if(curData===null){curData=this.moveJieSuanData}if(curData.state==EMovieState.chooseScript&&curData.data.length>0){this.curStoryList=new Array();for(var i=0;i<curData.data.length;i++){var item=Game.config.story.getConfig(curData.data[i]);this.curStoryList.push(item)}}};Object.defineProperty(WarModel.prototype,"movieHistogramTime",{get:function(){if(this._movieHistogramTime||this._movieHistogramTime==null){this._movieHistogramTime=GlobalConfig.getValue(GlobalKey.Movie_Histogram_Time)}return this._movieHistogramTime},enumerable:true,configurable:true});WarModel.prototype.startFilming=function(startVal,endVal){if(this.filmingTween&&this.filmingTween!==null){this.filmingTween.clear()}this.filmingProgress.value=startVal;var curDuration=(endVal-startVal)*this.filmingSpeed;this.filmingTween=laya.utils.Tween.to(this.filmingProgress,{value:endVal},curDuration,Laya.Ease.linearIn,Laya.Handler.create(this,this.filmingToNextStatus))};WarModel.prototype.filmingToNextStatus=function(){if(this.filmingTween&&this.filmingTween!==null){this.filmingTween.clear()}};WarModel.prototype.initGoldData=function(){if(this.filmingGoldProgressTween&&this.filmingGoldProgressTween!==null){this.filmingGoldProgressTween.clear()}this.filmGoldProgress.value=0;this.goldProgressIsStart=false;this.filmGoldCurPress=0};WarModel.prototype.startCheckGoldPress=function(){if(!this.goldProgressIsStart){this.goldProgressIsStart=true;this.initGoldData();var curDuration=300*this.filmingSpeed*0.3*0.8;this.filmingGoldProgressTween=laya.utils.Tween.to(this.filmGoldProgress,{value:300},curDuration,Laya.Ease.linearIn,Laya.Handler.create(this,this.filmGoldEnd))}};WarModel.prototype.filmGoldEnd=function(){if(this.filmingGoldProgressTween&&this.filmingGoldProgressTween!==null){this.filmingGoldProgressTween.clear()}};WarModel.prototype.filmGoldPauseResume=function(pause){if(pause){if(this.filmingGoldProgressTween&&this.filmingGoldProgressTween!==null){this.filmingGoldProgressTween.pause()}}else{if(this.filmingGoldProgressTween&&this.filmingGoldProgressTween!==null){this.filmingGoldProgressTween.resume()}}};Object.defineProperty(WarModel.prototype,"realLicenceNum",{get:function(){if(!this._movieFilming){var maxXKZ=Game.config.global.getConfig(GlobalKey.Licence_Store_Max).value;var itemCount=Game.moduleModel.item.getItemNum(Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value);var licenceCount=itemCount+this.preLicenceAddWithCD;if(licenceCount>maxXKZ){licenceCount=maxXKZ}return licenceCount}return 0},enumerable:true,configurable:true});Object.defineProperty(WarModel.prototype,"licenceNumInFilming",{get:function(){var maxXKZ=Game.config.global.getConfig(GlobalKey.Licence_Store_Max).value;var itemCount=Game.moduleModel.item.getItemNum(Game.config.global.getConfig(GlobalKey.Movie_Licence_ID).value);var licenceCount=itemCount+this.preLicenceAddWithCD;if(licenceCount>maxXKZ){licenceCount=maxXKZ}return licenceCount},enumerable:true,configurable:true});WarModel.prototype.licenceTimeLeft=function(){if(!this.isTick){this.isTick=true;Game.tick.AddTick(1,-1,Handler.create(this,this.licenceTick,null,false),null).Start()}};WarModel.prototype.licenceTick=function(){var newDay=false;if(this.licenceData.dailyCount>=Game.config.global.getConfig(GlobalKey.Licence_Restore_Max).value){newDay=Game.time.checkNewDayToRefrush(this.licenceData.lastResetTime,22)}this.licenceAddWithCd=0;var subTime=Game.time.getSubSecondsPre(this.licenceData.lastUpdateTime);this.licenceSubTime=this.licenceData.cd-subTime;if(this.licenceData.cd<=subTime){if(newDay||this.licenceData.dailyCount<Game.config.global.getConfig(GlobalKey.Licence_Restore_Max).value){this.licenceAddWithCd=1}var movieLicenceConfig=Game.config.movieLicence.getConfig(this.licenceData.dailyCount+2);if(movieLicenceConfig&&subTime-this.licenceData.cd>movieLicenceConfig.cool_down){if(newDay||this.licenceData.dailyCount+1<Game.config.global.getConfig(GlobalKey.Licence_Restore_Max).value){this.licenceAddWithCd=2}}}else{this.licenceAddWithCd=0}if(this.preLicenceAddWithCD!==this.licenceAddWithCd){this.preLicenceAddWithCD=this.licenceAddWithCd;this.sUpdateLicence.dispatch()}if(this.preLicenceAddWithCD<2){this.sUpdateLicenceForTime.dispatch()}};Object.defineProperty(WarModel.prototype,"refrushGuanzhongInf",{get:function(){if(this.guanzhongList.length<10){this.guanzhongList=new Array();for(var i=0;i<10;i++){this.guanzhongList.push(Random.range(1,6))}}var aa=0;var bb=0;for(var i=0;i<10;i++){if(this.guanzhongList[i]>=3){aa++}if(this.guanzhongList[i]===5){bb++}}return[aa*10,bb*10]},enumerable:true,configurable:true});Object.defineProperty(WarModel.prototype,"isLicenceMax",{get:function(){return this.realLicenceNum>=GlobalConfig.getValue(GlobalKey.Licence_Store_Max)},enumerable:true,configurable:true});WarModel.prototype.isHasContinueMovie=function(){var datas=Game.moduleModel.warData.movieDataList;for(var index=0;index<datas.length;index++){var curData=datas[index];var remainTime=7200-Game.time.getSubSecondsPre(curData.startTime);if(remainTime>0){return true}}return false};WarModel.prototype.movieDataToShotData=function(data){var movieData=new Proto.SS.MovieShortData();movieData.userId=User.info.entityId;movieData.uuid=data.uuid;movieData.movieId=data.movieId;movieData.name=data.name;movieData.type=data.type;movieData.totalBoxOffice=data.totalBoxOffice;movieData.boxOfficeEvaluation=data.boxOfficeEvaluation;movieData.mediaCommend=data.mediaCommend*0.1;movieData.publicPraise=data.publicPraise;movieData.data=new Array();var actorList=Game.moduleModel.actor.getActors();for(var i=0;i<data.data.length;i++){if(data.data[i]>0&&data.data[i]!==9999){for(var j=0;j<actorList.length;j++){if(actorList[j].id==data.data[i]){var item=new Proto.SS.ActorShortDesc();item.actorId=actorList[j].id;item.name=actorList[j].name;movieData.data.push(item)}}}}return movieData};return WarModel}(Games.MModel));Games.WarModel=WarModel;var numVal=(function(){function numVal(){}return numVal}());Games.numVal=numVal})(Games||(Games={}));var Games;(function(Games){var Ticks;(function(Ticks){var ClearSkeletonTickHandler=(function(_super){__extends(ClearSkeletonTickHandler,_super);function ClearSkeletonTickHandler(){return _super!==null&&_super.apply(this,arguments)||this}ClearSkeletonTickHandler.prototype.beginInit=function(){this.heartbeat=1000;this.endInit()};ClearSkeletonTickHandler.prototype.update=function(){};return ClearSkeletonTickHandler}(Games.TickHandler));Ticks.ClearSkeletonTickHandler=ClearSkeletonTickHandler})(Ticks=Games.Ticks||(Games.Ticks={}))})(Games||(Games={}));var Games;(function(Games){var Ticks;(function(Ticks){var ClearSpriteTickHandler=(function(_super){__extends(ClearSpriteTickHandler,_super);function ClearSpriteTickHandler(){return _super!==null&&_super.apply(this,arguments)||this}ClearSpriteTickHandler.prototype.beginInit=function(){this.heartbeat=1000;this.endInit()};ClearSpriteTickHandler.prototype.update=function(){var list=FGLoader.freeList;while(list.length>0){var url=list.pop();console.log("--ClearRes:"+url);FGLoader.removeFree(url);Laya.loader.clearRes(url)}};return ClearSpriteTickHandler}(Games.TickHandler));Ticks.ClearSpriteTickHandler=ClearSpriteTickHandler})(Ticks=Games.Ticks||(Games.Ticks={}))})(Games||(Games={}));var Games;(function(Games){var Ticks;(function(Ticks){var MenuTickHandler=(function(_super){__extends(MenuTickHandler,_super);function MenuTickHandler(){return _super!==null&&_super.apply(this,arguments)||this}MenuTickHandler.prototype.beginInit=function(){this.heartbeat=1000;this.endInit()};MenuTickHandler.prototype.update=function(){Game.menu.onTick()};return MenuTickHandler}(Games.TickHandler));Ticks.MenuTickHandler=MenuTickHandler})(Ticks=Games.Ticks||(Games.Ticks={}))})(Games||(Games={}));var Games;(function(Games){var ActorDetailWindow=(function(_super){__extends(ActorDetailWindow,_super);function ActorDetailWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ActorDetailUI);return _this}ActorDetailWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ActorDetailUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ActorDetailWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ActorDetailWindow.prototype.openUpdateView=function(){var args=this.menuParameter.args;if(args.length>0){this.conent.updateView(args[0])}};ActorDetailWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_closeBtn.onClick(this,this.onClickCloseBtn)};ActorDetailWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.m_closeBtn.offClick(this,this.onClickCloseBtn)};ActorDetailWindow.prototype.onClickCloseBtn=function(){this.menuClose()};return ActorDetailWindow}(Games.MWindow));Games.ActorDetailWindow=ActorDetailWindow})(Games||(Games={}));var Games;(function(Games){var ArtistDetailTabType;(function(ArtistDetailTabType){ArtistDetailTabType[ArtistDetailTabType.Base=0]="Base";ArtistDetailTabType[ArtistDetailTabType.Skill=1]="Skill";ArtistDetailTabType[ArtistDetailTabType.Asset=2]="Asset";ArtistDetailTabType[ArtistDetailTabType.Expert=3]="Expert";ArtistDetailTabType[ArtistDetailTabType.Agent=4]="Agent"})(ArtistDetailTabType=Games.ArtistDetailTabType||(Games.ArtistDetailTabType={}));var ArtistDetailWindow=(function(_super){__extends(ArtistDetailWindow,_super);function ArtistDetailWindow(){var _this=_super.call(this)||this;_this.tabstrs=[Games.TEXT.ActorTabBase,Games.TEXT.ActorTabSkill,Games.TEXT.ActorTabAsset,Games.TEXT.ActorTabExport];_this.addAssetForFguiComponent(fgui.PfSkin.ArtistDetailUI);return _this}ArtistDetailWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistDetailUI.createInstance();this.contentPane=this.conent;this.createTabPanel();this.conent.m_tablist.itemRenderer=Handler.create(this,this.onUpdateTabItem,null,false);_super.prototype.onMenuCreate.call(this)};ArtistDetailWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};ArtistDetailWindow.prototype.createTabPanel=function(){this.basePanel=fgui.PfSkin.ArtistBasePanel.createInstance();this.skillPanel=fgui.PfSkin.ArtistSkillPanel.createInstance();this.assetPanel=fgui.PfSkin.ArtistAssetPanel.createInstance();this.expertPanel=fgui.PfSkin.ArtistExpertPanel.createInstance();this.agentPanel=fgui.PfSkin.ArtistAgentPanel.createInstance();this.conent.m_content.addChild(this.basePanel);this.conent.m_content.addChild(this.skillPanel);this.conent.m_content.addChild(this.assetPanel);this.conent.m_content.addChild(this.expertPanel);this.conent.m_content.addChild(this.expertPanel);this.basePanel.setXY(17,15);this.skillPanel.setXY(17,15);this.assetPanel.setXY(17,15);this.expertPanel.setXY(17,15);this.registerTab(ArtistDetailTabType.Base,this.basePanel);this.registerTab(ArtistDetailTabType.Skill,this.skillPanel);this.registerTab(ArtistDetailTabType.Asset,this.assetPanel);this.registerTab(ArtistDetailTabType.Expert,this.expertPanel);this.registerTab(ArtistDetailTabType.Expert,this.expertPanel);this.openTab(ArtistDetailTabType.Base)};ArtistDetailWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView();var args=parameter.args;var tabIndex=0;if(args.length>1){tabIndex=args[1]}this.currentIndex=tabIndex;this.actors=Game.moduleModel.actor.getActors();this.currentActorIndex=0;this.conent.m_frozenBtn.visible=true;if(args.length>0){var actorId=args[0];var isHide=Game.moduleModel.actor.isHide(actorId);var actorData=Game.moduleModel.actor.getActor(actorId);if(isHide){this.actors=[actorData];this.conent.m_frozenBtn.visible=false}else{this.currentActorIndex=this.actors.indexOf(actorData)}}this.conent.m_tablist.selectedIndex=this.currentIndex;this.updateActor()};ArtistDetailWindow.prototype.openUpdateView=function(){this.conent.m_tablist.on(fairygui.Events.CLICK_ITEM,this,this.clickTabItem);this.conent.m_tablist.numItems=this.tabstrs.length;this.conent.m_sendFloorBtn.visible=false;laya.events.MouseManager.multiTouchEnabled=false;this.startTouchPos=new laya.maths.Point()};ArtistDetailWindow.prototype.onUpdateTabItem=function(index,itemObject){var tItem=itemObject;itemObject.text=this.tabstrs[index];tItem.m_red.visible=false};ArtistDetailWindow.prototype.clickTabItem=function(itemObject){var index=this.conent.m_tablist.getChildIndex(itemObject);if(index==ArtistDetailTabType.Agent){this.conent.m_tablist.selectedIndex=this.currentIndex;Game.system.toastText(Games.TEXT.Lock)}else{var isOpen=true;var tip="";if(index==ArtistDetailTabType.Asset){isOpen=Game.moduleModel.actor.isOpenAsset;tip=Game.moduleModel.actor.openAssetTip}else{if(index==ArtistDetailTabType.Skill){isOpen=Game.moduleModel.actor.isOpenSkill;tip=Game.moduleModel.actor.openSkillTip}}if(isOpen){if(this.currentIndex!=index){this.currentIndex=index;this.openTab(index)}}else{Game.system.toastText(tip)}}};ArtistDetailWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_closeBtn.onClick(this,this.onClickCloseBtn);this.conent.m_frozenBtn.onClick(this,this.onClickFrozenBtn);this.conent.m_renameBtn.onClick(this,this.onClickRenameBtn);Game.moduleModel.actor.sUpdateActorInfo.add(this.onUpdateActorInfo,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.updateView,this);this.conent.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDown);this.conent.on(laya.events.Event.MOUSE_MOVE,this,this.onMouseMove);this.conent.on(laya.events.Event.MOUSE_UP,this,this.onMouseUp);Game.protoOkEvent.add(ProtoEventKey.Actor_HideActor,this.onHideActor,this)};ArtistDetailWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.clearProps();this.conent.m_closeBtn.offClick(this,this.onClickCloseBtn);this.conent.m_frozenBtn.offClick(this,this.onClickFrozenBtn);this.conent.m_renameBtn.offClick(this,this.onClickRenameBtn);Game.moduleModel.actor.sUpdateActorInfo.remove(this.onUpdateActorInfo,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.updateView,this);Game.protoOkEvent.remove(ProtoEventKey.Actor_HideActor,this.onHideActor,this);this.conent.off(laya.events.Event.MOUSE_DOWN,this,this.onMouseDown);this.conent.off(laya.events.Event.MOUSE_MOVE,this,this.onMouseMove);this.conent.off(laya.events.Event.MOUSE_UP,this,this.onMouseUp)};ArtistDetailWindow.prototype.updateView=function(){this.conent.updateView(this.currentActor);this.updateTabView(this.currentIndex)};ArtistDetailWindow.prototype.onHideActor=function(msg){this.onClickCloseBtn()};ArtistDetailWindow.prototype.onUpdateActorInfo=function(data){if(this.currentActor.id==data.id){this.conent.updateView(data);this.currentActor=data}this.updateTabView(this.currentIndex)};ArtistDetailWindow.prototype.onClickRenameBtn=function(){var _this=this;var url=Game.config.avatar.getConfig(this.currentActor.config.avatar).bodyIconUrl;Game.system.openRename(Games.TEXT.RenameTip,null,function(txt){Game.protosender.Actor.actorChangeName(_this.currentActor.uuid,txt);Game.system.hideRename()},null,Games.TEXT.Rename,"",Games.TEXT.Input4toNumChar,18,url,GlobalConfig.getValue1(GlobalKey.KEY_1010_ZiDingYiYi__MingChenXiaoHao),false,Game.config.gameRandomName.getConfig(this.currentActor.config.random_name).names)};ArtistDetailWindow.prototype.onClickCloseBtn=function(){this.menuBack()};ArtistDetailWindow.prototype.onClickFrozenBtn=function(){if(Game.moduleModel.actor.getActorLen()==1){Game.system.toastText(Games.TEXT.DisHideAllActor)}else{if(Game.moduleModel.actor.isUseInMovie(this.currentActor.id)){Game.system.toastText(Games.TEXT.DisHideActorInUse)}else{if(Game.moduleModel.actor.actorHideIsMax){Game.system.toastText(Games.TEXT.HideActorMax)}else{Game.system.confirmText(format(Games.TEXT.SureHideActor,this.currentActor.name),"",this,this.onClickComfirm)}}}};ArtistDetailWindow.prototype.onClickComfirm=function(){Game.protosender.Actor.hideActor(this.currentActor.uuid,true)};ArtistDetailWindow.prototype.onOpenTab=function(tabIndex){_super.prototype.onOpenTab.call(this,tabIndex);this.updateTabView(tabIndex)};ArtistDetailWindow.prototype.updateTabView=function(tabIndex){if(this.currentActor==null){return}switch(tabIndex){case ArtistDetailTabType.Base:this.basePanel.updateView(this.currentActor);break;case ArtistDetailTabType.Skill:this.skillPanel.updateView(this.currentActor);break;case ArtistDetailTabType.Asset:this.assetPanel.updateView(this.currentActor);break;case ArtistDetailTabType.Expert:this.expertPanel.updateView(this.currentActor);break;default:break}};ArtistDetailWindow.prototype.onMouseDown=function(event){var touches=event.touches;if(touches==null){this.isMouseDown=true;this.startTouchPos.x=event.stageX;this.startTouchPos.y=event.stageY;this.snapDir=Games.DirtionType.None}else{if(touches.length==1){this.isMouseDown=true;this.startTouchPos.x=event.stageX;this.startTouchPos.y=event.stageY;this.snapDir=Games.DirtionType.None}else{this.isMouseDown=false;this.snapDir=Games.DirtionType.None}}};ArtistDetailWindow.prototype.onMouseMove=function(event){if(this.isMouseDown==true){var stageX=event.stageX;var stageY=event.stageY;var distanceY=Math.abs(this.startTouchPos.y-stageY);var distanceX=Math.abs(this.startTouchPos.x-stageX);if(distanceX>fairygui.GRoot.inst.width*0.3&&distanceY<fairygui.GRoot.inst.height*0.1){var dir;if(stageX>this.startTouchPos.x){dir=Games.DirtionType.Right}else{dir=Games.DirtionType.Left}if(this.snapDir!=dir){this.startTouchPos.x=stageX;this.startTouchPos.y=stageY}this.snapDir=dir}}};ArtistDetailWindow.prototype.onMouseUp=function(event){if(this.isMouseDown){this.isMouseDown=false;if(this.snapDir==Games.DirtionType.Left){this.changeLastActor()}else{if(this.snapDir==Games.DirtionType.Right){this.changePreActor()}}this.snapDir=Games.DirtionType.None}};ArtistDetailWindow.prototype.updateActor=function(){this.currentActor=this.actors[this.currentActorIndex];if(this.currentActor){this.conent.updateView(this.currentActor)}this.openTab(this.currentIndex)};ArtistDetailWindow.prototype.changePreActor=function(){this.currentActorIndex--;if(this.currentActorIndex<0){this.currentActorIndex=this.actors.length-1}this.updateActor()};ArtistDetailWindow.prototype.changeLastActor=function(){this.currentActorIndex++;if(this.currentActorIndex>=this.actors.length){this.currentActorIndex=0}this.updateActor()};ArtistDetailWindow.prototype.effectAsset=function(){this.conent.m_tablist.selectedIndex=ArtistDetailTabType.Asset;this.currentIndex=ArtistDetailTabType.Asset;this.openTab(ArtistDetailTabType.Asset);this.assetPanel.playeffect()};ArtistDetailWindow.prototype.selectTab=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return this.conent.getSelectTab(args[0])};ArtistDetailWindow.prototype.trainBtn=function(){return this.basePanel.m_upgradeBtn};return ArtistDetailWindow}(Games.MWindow));Games.ArtistDetailWindow=ArtistDetailWindow})(Games||(Games={}));var Games;(function(Games){var ArtistFrozenWindow=(function(_super){__extends(ArtistFrozenWindow,_super);function ArtistFrozenWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistForzenUI);return _this}ArtistFrozenWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistForzenUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistFrozenWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ArtistFrozenWindow.prototype.openUpdateView=function(){this.conent.updateView()};ArtistFrozenWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_closeBtn.onClick(this,this.onClickCloseBtn);Game.moduleModel.actor.sUpdateActorInfo.add(this.onUpdateActor,this)};ArtistFrozenWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.m_closeBtn.offClick(this,this.onClickCloseBtn);Game.moduleModel.actor.sUpdateActorInfo.remove(this.onUpdateActor,this)};ArtistFrozenWindow.prototype.onClickCloseBtn=function(){this.menuClose()};ArtistFrozenWindow.prototype.onUpdateActor=function(data){this.openUpdateView()};return ArtistFrozenWindow}(Games.MWindow));Games.ArtistFrozenWindow=ArtistFrozenWindow})(Games||(Games={}));var Games;(function(Games){var ArtistGetWindow=(function(_super){__extends(ArtistGetWindow,_super);function ArtistGetWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistGetUI);return _this}ArtistGetWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};ArtistGetWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistGetUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistGetWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openView()};ArtistGetWindow.prototype.openView=function(){this.conent.updateView(this.menuParameter.args[0])};ArtistGetWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtistGetWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ArtistGetWindow}(Games.MWindow));Games.ArtistGetWindow=ArtistGetWindow})(Games||(Games={}));var Games;(function(Games){var ArtistScoutResultWindow=(function(_super){__extends(ArtistScoutResultWindow,_super);function ArtistScoutResultWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistScoutResultUI);return _this}ArtistScoutResultWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistScoutResultUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistScoutResultWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ArtistScoutResultWindow.prototype.openUpdateView=function(){this.conent.updateView()};ArtistScoutResultWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_closeBtn.onClick(this,this.onClickCloseBtn);User.sGameInfoUpdate.add(this.onUpdateDataHandler,this)};ArtistScoutResultWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.m_closeBtn.offClick(this,this.onClickCloseBtn);User.sGameInfoUpdate.remove(this.onUpdateDataHandler,this)};ArtistScoutResultWindow.prototype.onUpdateDataHandler=function(){if(User.info.noseIntoActorList.length>0){this.openUpdateView()}else{this.onClickCloseBtn()}};ArtistScoutResultWindow.prototype.onClickCloseBtn=function(){this.menuBack()};return ArtistScoutResultWindow}(Games.MWindow));Games.ArtistScoutResultWindow=ArtistScoutResultWindow})(Games||(Games={}));var Games;(function(Games){var ArtistScoutSuccessWindow=(function(_super){__extends(ArtistScoutSuccessWindow,_super);function ArtistScoutSuccessWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistScoutSuccessUI);return _this}ArtistScoutSuccessWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistScoutSuccessUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistScoutSuccessWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ArtistScoutSuccessWindow.prototype.openUpdateView=function(){if(this.menuParameter.args.length>1){this.conent.updateView(this.menuParameter.args[0],this.menuParameter.args[1])}else{this.conent.updateView(this.menuParameter.args[0])}};ArtistScoutSuccessWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_closeBtn.onClick(this,this.onClickCloseBtn)};ArtistScoutSuccessWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.m_closeBtn.offClick(this,this.onClickCloseBtn)};ArtistScoutSuccessWindow.prototype.onClickCloseBtn=function(){this.menuClose()};return ArtistScoutSuccessWindow}(Games.MWindow));Games.ArtistScoutSuccessWindow=ArtistScoutSuccessWindow})(Games||(Games={}));var Games;(function(Games){var ArtistShareWindow=(function(_super){__extends(ArtistShareWindow,_super);function ArtistShareWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistShareUI);return _this}ArtistShareWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};ArtistShareWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistShareUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistShareWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openView()};ArtistShareWindow.prototype.openView=function(){this.conent.updateView(this.menuParameter.args[0])};ArtistShareWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtistShareWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ArtistShareWindow}(Games.MWindow));Games.ArtistShareWindow=ArtistShareWindow})(Games||(Games={}));var Games;(function(Games){var ArtistTrainResultWindow=(function(_super){__extends(ArtistTrainResultWindow,_super);function ArtistTrainResultWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistTrainResultUI);return _this}ArtistTrainResultWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistTrainResultUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistTrainResultWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ArtistTrainResultWindow.prototype.openUpdateView=function(){this.conent.updateView(this.menuParameter.args)};ArtistTrainResultWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtistTrainResultWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ArtistTrainResultWindow}(Games.MWindow));Games.ArtistTrainResultWindow=ArtistTrainResultWindow})(Games||(Games={}));var Games;(function(Games){var ArtistTrainSubType;(function(ArtistTrainSubType){ArtistTrainSubType[ArtistTrainSubType.Success=1]="Success"})(ArtistTrainSubType=Games.ArtistTrainSubType||(Games.ArtistTrainSubType={}));var ArtistTrainWindow=(function(_super){__extends(ArtistTrainWindow,_super);function ArtistTrainWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistTrainUI);return _this}ArtistTrainWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistTrainUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistTrainWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.openUpdateView()};ArtistTrainWindow.prototype.openUpdateView=function(){this.conent.updateView(this.menuParameter.args[0])};ArtistTrainWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);this.conent.m_bgCom.m_closeBtn.onClick(this,this.onClickCloseBtn)};ArtistTrainWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);this.conent.m_bgCom.m_closeBtn.offClick(this,this.onClickCloseBtn)};ArtistTrainWindow.prototype.onClickCloseBtn=function(){this.menuClose()};return ArtistTrainWindow}(Games.MWindow));Games.ArtistTrainWindow=ArtistTrainWindow})(Games||(Games={}));var Games;(function(Games){var OscarRewardSubWindow=(function(_super){__extends(OscarRewardSubWindow,_super);function OscarRewardSubWindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Oscar.OscarRewardPanel);return _this}OscarRewardSubWindow.prototype.onMenuCreate=function(){this.conent=fgui.Oscar.OscarRewardPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};OscarRewardSubWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};OscarRewardSubWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};OscarRewardSubWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return OscarRewardSubWindow}(Games.MSubwindow));Games.OscarRewardSubWindow=OscarRewardSubWindow})(Games||(Games={}));var Games;(function(Games){var OscarShowSubWindow=(function(_super){__extends(OscarShowSubWindow,_super);function OscarShowSubWindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Oscar.OscarShowPanel);return _this}OscarShowSubWindow.prototype.onMenuCreate=function(){this.conent=fgui.Oscar.OscarShowPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};OscarShowSubWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};OscarShowSubWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};OscarShowSubWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return OscarShowSubWindow}(Games.MSubwindow));Games.OscarShowSubWindow=OscarShowSubWindow})(Games||(Games={}));var Games;(function(Games){var BuildingProcess1=(function(_super){__extends(BuildingProcess1,_super);function BuildingProcess1(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.SEAT_COUNT=6;_this.npcList=[101,102];_this.avatarposList=[];_this.sitOffsetX=30;_this.sitOffsetY=30;_this.sitIndex=0;_this.isInitOnFilm=false;return _this}BuildingProcess1.prototype.onInit=function(){this.roomPart=fgui.Building.BuildScene1.createInstance();this.refRoom.m_buildScene.m_scenePart.addChild(this.roomPart);this.roomPart.setXY(19,150);this.initConfigSitPosList();this.sitIndex=this.SEAT_COUNT};BuildingProcess1.prototype.onProcess=function(){console.log("RoomProcesser -> "+getClassName(this));Game.event.add(GameEventKey.GameEventKey_FilmStart,this.onFilmStart,this);Game.event.add(GameEventKey.GameEventKey_FilmEnd,this.onFilmEnd,this);if(this.isOnFilming){this.startFilm()}};BuildingProcess1.prototype.start=function(){};BuildingProcess1.prototype.onFilmStart=function(value){this.startFilm()};BuildingProcess1.prototype.onFilmEnd=function(){this.endFilm()};BuildingProcess1.prototype.startFilm=function(){if(!this.isInitOnFilm){this.isInitOnFilm=true;this.sitIndex=this.SEAT_COUNT;Games.AvatarManager.sBehaviorFinish.add(this.onAvatarBehaviorFinish,this);this.cinemaPerformList=this.getPerformList();for(var i=0;i<this.SEAT_COUNT;i++){this.creatNpc()}}};BuildingProcess1.prototype.endFilm=function(){this.isInitOnFilm=false;Games.AvatarManager.sBehaviorFinish.remove(this.onAvatarBehaviorFinish,this);this.refRoom.clearAllAvatar()};Object.defineProperty(BuildingProcess1.prototype,"isOnFilming",{get:function(){return Game.moduleModel.warData.onCheckHaveDurDay},enumerable:true,configurable:true});BuildingProcess1.prototype.onAvatarBehaviorFinish=function(data){if(data.performType==Games.PerformType.Cinema){var avatar=this.refRoom.getAvatar(data.avatarUid);avatar.executeActionEvents(this.getCinemaEventByStar(),Games.PerformType.Cinema)}};BuildingProcess1.prototype.initConfigSitPosList=function(){this.avatarposList.length=0;for(var i=0;i<this.SEAT_COUNT;i++){var posObject=this.roomPart.getChild("sit"+(i)).asCom;posObject.getChild("sample").visible=false;this.avatarposList.push(posObject)}};BuildingProcess1.prototype.creatNpc=function(npcId){var _this=this;if(npcId===void 0){npcId=101}var rd=Random.range(0,this.npcList.length);npcId=this.npcList[rd];var aInfo=Games.AvatarInfo.creatByNpcId(npcId);aInfo.idleName="zuoxia1";var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=avatar.getBounds();avatar.pos(bounds.width,bounds.height);var posCom=_this.getPosCom();avatar.scaleTalkBox(1/posCom.scaleX);_this.refRoom.addAvatar(avatar,posCom);avatar.sitDown(avatar.x+_this.sitOffsetX,avatar.y-_this.sitOffsetY);avatar.executeActionEvents(_this.getCinemaEventByStar(),Games.PerformType.Cinema)})};BuildingProcess1.prototype.getPosCom=function(){this.sitIndex--;var posCom=this.avatarposList[this.sitIndex];return posCom};BuildingProcess1.prototype.getPerformList=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.Cinema});return playActList};BuildingProcess1.prototype.getCinemaEventByStar=function(){var filmEval=Game.moduleModel.warData.moveData.boxOfficeEvaluation;var index=Math.min(filmEval-1,this.cinemaPerformList.length-1);return this.cinemaPerformList[index].eventList};return BuildingProcess1}(Games.BaseBuildingProcess));Games.BuildingProcess1=BuildingProcess1})(Games||(Games={}));var Games;(function(Games){var PerformType=Games.PerformType;var Event=laya.events.Event;var BuildingProcess10=(function(_super){__extends(BuildingProcess10,_super);function BuildingProcess10(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.npcList=[101,102];_this.receptionActorId=0;_this.isOnReception=false;_this.isFansReadyDialog=false;_this.isActorReadyDialog=false;_this.isStartDialog=false;return _this}BuildingProcess10.prototype.onInit=function(){console.log("RoomProcesser -> "+getClassName(this))};BuildingProcess10.prototype.addEventListener=function(){Games.AvatarManager.sAvatarEnter.add(this.onAvatarEnterRoom,this);Games.AvatarManager.sAvatarLeave.add(this.onAvatarLeaveRoom,this);Games.DialogManager.sDialogFinish.add(this.onDialogFinish,this);Game.event.add(GameEventKey.GameEventKey_UpdateVisitActor,this.onVisitActorUpdate,this);Game.event.add(GameEventKey.GameEventKey_UpdateActorHideInfo,this.onActorHideInfoUpdate,this);Game.event.add(GameEventKey.GameEventKey_ShootStartAddActor,this.onShootAddActorToRoom,this)};BuildingProcess10.prototype.removeEventListener=function(){Games.AvatarManager.sAvatarEnter.remove(this.onAvatarEnterRoom,this);Games.AvatarManager.sAvatarLeave.remove(this.onAvatarLeaveRoom,this);Games.DialogManager.sDialogFinish.remove(this.onDialogFinish,this);Game.event.remove(GameEventKey.GameEventKey_UpdateVisitActor,this.onVisitActorUpdate,this);Game.event.remove(GameEventKey.GameEventKey_UpdateActorHideInfo,this.onActorHideInfoUpdate,this);Game.event.remove(GameEventKey.GameEventKey_ShootStartAddActor,this.onShootAddActorToRoom,this)};BuildingProcess10.prototype.startReception=function(){if(!this.isOnReception){Game.moduleModel.visit.setRDTalkGroupId();this.addEventListener();this.creatReceptionNpc();this.isOnReception=true;this.receptionActorId=Game.moduleModel.visit.getVisitData().actorId;this.receptionActor=this.refRoom.getAvatarById(this.receptionActorId);this.refRoom.executeLeaveRoomForEach(true,this.receptionActorId)}};BuildingProcess10.prototype.endReception=function(){this.onVisitTimeEnd(true);Game.moduleModel.visit.saveVisitId();Game.protosender.manageVisit.GetReward()};BuildingProcess10.prototype.onVisitTimeEnd=function(isFansLeave){if(isFansLeave){this.removeEventListener();this.isOnReception=false;this.isFansReadyDialog=false;this.isActorReadyDialog=false;this.isStartDialog=false;this.receptionActorId=0;if(this.currentDialog){this.currentDialog.dispose();this.currentDialog=null}if(this.receptionFans){this.receptionFans.endEvent(false);this.receptionFans.leave(false);this.receptionFans.off(Event.CLICK,this,this.onFansClick)}}if(this.receptionActor){this.receptionActor.endEvent(false);this.receptionActor.leave(true);this.receptionActor.off(Event.CLICK,this,this.onActorClick)}};BuildingProcess10.prototype.onVisitActorUpdate=function(){if(Game.moduleModel.visit.getVisitData().id==0){if(this.isStartDialog){this.endReception()}else{this.onVisitTimeEnd(true)}}};BuildingProcess10.prototype.onActorHideInfoUpdate=function(actor){if(actor.hide){if(Games.AvatarManager.isActorOnVisit(actor.id)){if(this.isStartDialog){this.endReception()}else{this.onVisitTimeEnd(false);Games.AvatarManager.removeRoomActor(actor.id)}}}};BuildingProcess10.prototype.onShootAddActorToRoom=function(actors){console.log("onShootAddActorToRoom()");for(var _i=0,actors_1=actors;_i<actors_1.length;_i++){var actor=actors_1[_i];if(Games.AvatarManager.isActorOnVisit(actor.id)){if(this.isStartDialog){this.endReception()}else{this.onVisitTimeEnd(false)}}}};BuildingProcess10.prototype.actorMoveRoute=function(){var _this=this;if(this.receptionActor){this.receptionActor.endEvent(false);this.receptionActor.moveTo(Laya.stage.width/2-50,false,Handler.create(this,function(){_this.receptionActor.direction=Games.DirtionType.Right;_this.receptionFans.endEvent(false);_this.isActorReadyDialog=true;if(_this.isFansReadyDialog){if(!_this.isStartDialog){_this.isStartDialog=true;_this.currentDialog=Games.DialogManager.startDialog(_this.receptionFans,_this.receptionActor,_this.receptionDialog,PerformType.Reception)}}}))}};BuildingProcess10.prototype.onAvatarEnterRoom=function(data){var _this=this;if(this.isSelfRoom(data.roomType)){if(this.isNpc(data.avatarUid)){this.receptionFans=this.refRoom.getAvatar(data.avatarUid);this.receptionFans.on(Event.CLICK,this,this.onFansClick);this.receptionFans.moveTo(Laya.stage.width/2+50,false,Handler.create(this,function(){var events=Game.moduleModel.visit.getFansStartTalk();_this.receptionFans.executeActionEvents(events,PerformType.ReceptionFansTalk);_this.isFansReadyDialog=true;if(_this.isActorReadyDialog){if(!_this.isStartDialog){_this.isStartDialog=true;_this.currentDialog=Games.DialogManager.startDialog(_this.receptionFans,_this.receptionActor,_this.receptionDialog,PerformType.Reception)}}}))}else{if(Games.AvatarManager.isActorOnVisit(data.avatarId)){Game.event.dispatch(GameEventKey.GameEventKey_ScrollMainRoom,Games.RoomType.Reception,true);this.receptionActor=this.refRoom.getAvatar(data.avatarUid);if(this.receptionActor){this.receptionActor.endEvent(false);this.receptionActor.on(Event.CLICK,this,this.onActorClick);this.receptionActor.moveTo(Laya.stage.width/2-50,true,Handler.create(this,function(){_this.receptionFans.endEvent(false);_this.receptionActor.direction=Games.DirtionType.Right;_this.isActorReadyDialog=true;if(_this.isFansReadyDialog){if(!_this.isStartDialog){_this.isStartDialog=true;_this.currentDialog=Games.DialogManager.startDialog(_this.receptionFans,_this.receptionActor,_this.receptionDialog,PerformType.Reception)}}}))}}}}};BuildingProcess10.prototype.onAvatarLeaveRoom=function(data){if(!this.isSelfRoom(data.roomType)){if(!data.onEvent){if(Games.AvatarManager.isActorOnVisit(data.avatarId)){var actor=Game.moduleModel.actor.getActor(data.avatarId);var avatarInfo=Games.AvatarInfo.creatByActor(actor);this.refRoom.avatarEnter(avatarInfo,Games.DirtionType.Right,false,Games.DirtionType.Up,true)}}}};BuildingProcess10.prototype.onDialogFinish=function(performType){if(performType==PerformType.Reception){this.endReception()}};BuildingProcess10.prototype.onFansClick=function(){if(!this.isStartDialog){var events=Game.moduleModel.visit.getFansStartTalk();this.receptionFans.executeActionEvents(events,PerformType.ReceptionFansTalk)}};BuildingProcess10.prototype.onActorClick=function(){if(!this.isStartDialog){var events=Game.moduleModel.visit.getActorStartTalk();this.receptionActor.executeActionEvents(events,PerformType.ReceptionFansTalk)}};BuildingProcess10.prototype.creatReceptionNpc=function(npcId,direction){if(npcId===void 0){npcId=101}if(direction===void 0){direction=Games.DirtionType.Left}var rd=Random.range(0,this.npcList.length);npcId=this.npcList[rd];var aInfo=new Games.AvatarInfo();var npcCfg=Game.config.npc.getConfig(npcId);var actionName=Game.config.action.getConfig(1013).action;aInfo.idleName=actionName;aInfo.id=npcCfg.id;aInfo.name=npcCfg.name;aInfo.type=Games.AvatarType.Npc;aInfo.texturePath=npcCfg.modelSkinUrl;aInfo.skeletonPath=npcCfg.modelBoneUrl;this.refRoom.avatarEnter(aInfo,Games.DirtionType.Left,false,Games.DirtionType.Up,true)};Object.defineProperty(BuildingProcess10.prototype,"receptionDialog",{get:function(){return Game.moduleModel.visit.getReceptionDialog()},enumerable:true,configurable:true});BuildingProcess10.prototype.isNpc=function(avatarUid){var avatar=this.refRoom.getAvatar(avatarUid);if(avatar){return avatar.info.type==Games.AvatarType.Npc}return false};return BuildingProcess10}(Games.BaseBuildingProcess));Games.BuildingProcess10=BuildingProcess10})(Games||(Games={}));var Games;(function(Games){var PerformType=Games.PerformType;var BuildingProcess11=(function(_super){__extends(BuildingProcess11,_super);function BuildingProcess11(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.npcMoveX=490;_this.assistantMoveX=213;_this.npcChairY=55;_this.assitantChairY=55;_this.scaleChair=0.9;_this.isNpcSitdown=false;_this.isAssistantSitdown=false;_this.dialogIndex=0;return _this}BuildingProcess11.prototype.onInit=function(){console.log("RoomProcesser -> "+getClassName(this));this.dialogList=this.meetingDialog;Game.event.add(GameEventKey.GameEventKey_MeetingStep,this.onMeetingStep,this);Game.event.add(GameEventKey.GameEventKey_EnabledScrollMain,this.onEnabledScrollMain,this)};BuildingProcess11.prototype.start=function(){var _this=this;setTimeout(function(){_this.startMeeting()},1000)};BuildingProcess11.prototype.end=function(){var _this=this;setTimeout(function(){_this.endMeeting()},10000)};BuildingProcess11.prototype.addEventListener=function(){Games.DialogManager.sDialogFinish.add(this.onDialogFinish,this)};BuildingProcess11.prototype.removeEventListener=function(){Games.DialogManager.sDialogFinish.remove(this.onDialogFinish,this)};BuildingProcess11.prototype.startMeeting=function(){if(!Game.moduleModel.building.isOnMeeting){console.log("startMeeting");this.addEventListener();Game.moduleModel.building.isOnMeeting=true;this.refRoom.executeLeaveRoomForEach(true);this.creatNpc();this.creatAssistant()}};BuildingProcess11.prototype.endMeeting=function(){if(this.npc){this.isNpcSitdown=false;this.npc.stand(null,this.npc.x,this.npc.y+this.npcChairY);this.npc.resetScale();this.npc.leave(false);this.npc=null}if(this.assistant){this.isAssistantSitdown=false;this.assistant.stand(null,this.assistant.x,this.assistant.y+this.assitantChairY);this.assistant.resetScale();this.assistant.leave(false);this.assistant=null}if(this.curDialog){this.curDialog.endEvent();this.curDialog=null}Game.moduleModel.building.isOnMeeting=false;this.removeEventListener()};BuildingProcess11.prototype.onMeetingStep=function(step){console.log("onMeetingStep= "+step);this.dialogIndex=step;this.startMeeting();if(this.isNpcSitdown&&this.isAssistantSitdown){this.curDialog=Games.DialogManager.startDialog(this.npc,this.assistant,this.nextMeetingDialog(),PerformType.Meeting)}};BuildingProcess11.prototype.onEnabledScrollMain=function(enable,roomType){if(roomType==Games.RoomType.Meeting){if(enable){this.endMeeting();console.log("endMeeting")}}};BuildingProcess11.prototype.onDialogFinish=function(performType){if(performType==PerformType.Meeting){}};BuildingProcess11.prototype.creatNpc=function(npcId,direction){var _this=this;if(npcId===void 0){npcId=101}if(direction===void 0){direction=Games.DirtionType.Left}var aInfo=Games.AvatarInfo.creatByNpcId(npcId);aInfo.idleName="zuoxia1";var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){_this.npc=avatar;_this.refRoom.addAvatar(avatar,_this.refRoom.m_buildScene.m_avatarContainer0);_this.npc.enterTo(Laya.stage.width+150,_this.refRoom.roomHeight-40,Games.DirtionType.Left);_this.npcTween=_this.npc.moveTo(_this.npcMoveX,false,Handler.create(_this,function(){var scale=_this.npc.scaleFactor;_this.npc.scale(scale*_this.scaleChair,scale*_this.scaleChair);_this.npc.sitDown(_this.npc.x,_this.npc.y-_this.npcChairY);_this.isNpcSitdown=true;if(_this.isAssistantSitdown){_this.curDialog=Games.DialogManager.startDialog(_this.npc,_this.assistant,_this.nextMeetingDialog(),PerformType.Meeting)}}))})};BuildingProcess11.prototype.creatAssistant=function(npcId,direction){var _this=this;if(npcId===void 0){npcId=9998}if(direction===void 0){direction=Games.DirtionType.Left}var aInfo=Games.AvatarInfo.creatAssistantById(npcId);aInfo.idleName="zuoxia1";var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){_this.assistant=avatar;_this.refRoom.addAvatar(avatar,_this.refRoom.m_buildScene.m_avatarContainer0);_this.assistant.enterTo(-150,_this.refRoom.roomHeight-40,Games.DirtionType.Right);_this.assistantTween=_this.assistant.moveTo(_this.assistantMoveX,false,Handler.create(_this,function(){var scale=_this.assistant.scaleFactor;_this.assistant.scale(scale*_this.scaleChair,scale*_this.scaleChair);_this.assistant.sitDown(_this.assistant.x,_this.assistant.y-_this.assitantChairY);_this.isAssistantSitdown=true;if(_this.isNpcSitdown){_this.curDialog=Games.DialogManager.startDialog(_this.npc,_this.assistant,_this.nextMeetingDialog(),PerformType.Meeting)}}))})};Object.defineProperty(BuildingProcess11.prototype,"meetingDialog",{get:function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==PerformType.Meeting});return playActList},enumerable:true,configurable:true});BuildingProcess11.prototype.nextMeetingDialog=function(){if(this.dialogIndex>this.dialogList.length-1){this.dialogIndex=0}return this.dialogList[this.dialogIndex].eventList};BuildingProcess11.prototype.isNpc=function(avatarUid){var avatar=this.refRoom.getAvatar(avatarUid);if(avatar){return avatar.info.type==Games.AvatarType.Npc}return false};BuildingProcess11.prototype.isAssistant=function(avatarUid){var avatar=this.refRoom.getAvatar(avatarUid);if(avatar){return avatar.info.type==Games.AvatarType.Assistant}return false};return BuildingProcess11}(Games.BaseBuildingProcess));Games.BuildingProcess11=BuildingProcess11})(Games||(Games={}));var Games;(function(Games){var Event=laya.events.Event;var BuildingProcess13=(function(_super){__extends(BuildingProcess13,_super);function BuildingProcess13(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.SeatCount=5;_this.tranSitList=[];return _this}BuildingProcess13.prototype.onInit=function(){this.roomPart=fgui.Building.BuildScene13.createInstance();this.refRoom.m_buildScene.m_scenePart.addChild(this.roomPart);this.roomPart.setXY(170,162);for(var i=0;i<this.SeatCount;i++){this.tranSitList[i]=this.roomPart.getChild("trainSit"+(i+1)).asCom;this.tranSitList[i].getChild("sample").asCom.visible=false}};BuildingProcess13.prototype.onProcess=function(){console.log("RoomProcesser -> "+getClassName(this));this.creatNpc();this.initActorToTrainingRoom();Game.event.add(GameEventKey.GameEventKey_ActorExperciseStart,this.onActorExperciseStart,this);Game.event.add(GameEventKey.GameEventKey_ActorExperciseEnd,this.onActorExperciseEnd,this);Game.event.add(GameEventKey.GameEventKey_ActorBackToExperciseRoom,this.onActorBackToExperciseRoom,this);Games.AvatarManager.sBehaviorFinish.add(this.onAvatarBehaviorFinish,this)};BuildingProcess13.prototype.onActorExperciseStart=function(actorUuid){var _this=this;var actorData=Game.moduleModel.actor.getActorByUUid(actorUuid);var actorExperciseData=Game.moduleModel.actor.getActorExerciseDataByActorUuid(actorUuid);var seatIndex=-1;if(actorExperciseData){seatIndex=actorExperciseData.seatIndex}if(actorData){var experciseAvatarId=Games.AvatarManager.removeRoomActorList([actorData.id])[0];var aInfo=Games.AvatarInfo.creatByAvatarId(experciseAvatarId);var avatar_1=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=avatar_1.getBounds();avatar_1.pos(bounds.width,bounds.height);avatar_1.openShadow();avatar_1.y=_this.refRoom.roomHeight-_this.refRoom.routeYList[0];_this.refRoom.addAvatar(avatar_1,_this.refRoom.m_buildScene.m_avatarContainer0);if(seatIndex!=-1){var seatCom_1=_this.tranSitList[seatIndex];avatar_1.moveTo(seatCom_1.x+_this.roomPart.x,false,Handler.create(_this,function(){seatCom_1.displayObject.addChild(avatar_1);avatar_1.pos(0,bounds.height-_this.refRoom.routeYList[0]);avatar_1.executeActionEvents(_this.getRDEvent(),Games.PerformType.Training)}))}})}};BuildingProcess13.prototype.onActorExperciseEnd=function(actorUuid,lineUuid){var actorData=Game.moduleModel.actor.getActorByUUid(actorUuid);if(actorData){var actorExperciseData=Game.moduleModel.actor.getActorExerciseDataByUuid(lineUuid);var seatIndex=actorExperciseData.seatIndex;var avatar=this.refRoom.getAvatarById(actorData.id);if(avatar){var seatCom=this.tranSitList[seatIndex];this.refRoom.m_buildScene.m_avatarContainer0.displayObject.addChild(avatar);avatar.pos(seatCom.x+this.roomPart.x,this.refRoom.roomHeight-this.refRoom.routeYList[0]);var expVal=Game.config.global.getConfig(GlobalKey.Actor_Train_Exp).value;var totalExpVal=MathDesign.calcActorExperciseExp();avatar.endEvent(false);avatar.setTalk(Game.config.msg.getTxtFormat(MsgKey.train_actor_tips,totalExpVal));Game.system.toastText(Game.config.msg.getTxtFormat(MsgKey.train_exp,totalExpVal));avatar.leave(true)}}};BuildingProcess13.prototype.onActorBackToExperciseRoom=function(actorId){var _this=this;var actorData=Game.moduleModel.actor.getActor(actorId);var actorExperciseData=Game.moduleModel.actor.getActorExerciseDataByActorUuid(actorData.uuid);var seatIndex=-1;if(actorExperciseData){seatIndex=actorExperciseData.seatIndex}if(actorData){var aInfo=Games.AvatarInfo.creatByAvatarId(actorId);var avatar_2=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=avatar_2.getBounds();avatar_2.pos(bounds.width,bounds.height);avatar_2.openShadow();avatar_2.y=_this.refRoom.roomHeight-_this.refRoom.routeYList[0];_this.refRoom.addAvatar(avatar_2,_this.refRoom.m_buildScene.m_avatarContainer0);if(seatIndex!=-1){var seatCom_2=_this.tranSitList[seatIndex];avatar_2.moveTo(seatCom_2.x+_this.roomPart.x,false,Handler.create(_this,function(){seatCom_2.displayObject.addChild(avatar_2);avatar_2.pos(0,bounds.height-_this.refRoom.routeYList[0]);avatar_2.executeActionEvents(_this.getRDEvent(),Games.PerformType.Training)}))}})}};BuildingProcess13.prototype.initActorToTrainingRoom=function(){var _this=this;var experciseActors=Game.moduleModel.actor.getExperciseDataList();var actorids=[];for(var _i=0,experciseActors_1=experciseActors;_i<experciseActors_1.length;_i++){var experciseActor=experciseActors_1[_i];var actorData=Game.moduleModel.actor.getActorByUUid(experciseActor.uuid);if(actorData){actorids.push(actorData.id)}}var _loop_1=function(avatarId){var info=Games.AvatarInfo.creatByAvatarId(avatarId);var avatar=Games.Avatar.Creat(info,function(AvatarInfo){var bounds=avatar.getBounds();avatar.openShadow();avatar.pos(bounds.width,bounds.height);avatar.y=_this.refRoom.roomHeight-_this.refRoom.routeYList[0];_this.refRoom.addAvatar(avatar,_this.refRoom.m_buildScene.m_avatarContainer0);var actorData=Game.moduleModel.actor.getActor(avatarId);var actorExperciseData=Game.moduleModel.actor.getActorExerciseDataByActorUuid(actorData.uuid);var seatIndex=actorExperciseData.seatIndex;var seatCom=_this.tranSitList[seatIndex];avatar.moveTo(seatCom.x+_this.roomPart.x,false,Handler.create(_this,function(){seatCom.displayObject.addChild(avatar);avatar.pos(0,bounds.height-_this.refRoom.routeYList[0]);avatar.executeActionEvents(_this.getRDEvent(),Games.PerformType.Training)}))})};for(var _a=0,actorids_1=actorids;_a<actorids_1.length;_a++){var avatarId=actorids_1[_a];_loop_1(avatarId)}};BuildingProcess13.prototype.onAvatarBehaviorFinish=function(data){if(data.performType==Games.PerformType.Training){var avatar=this.refRoom.getAvatar(data.avatarUid);avatar.executeActionEvents(this.getRDEvent(),Games.PerformType.Training)}};BuildingProcess13.prototype.getRDEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.Training&&(value.data%(value.type*10))==1});if(playActList.length>0){return playActList[0].eventList}return[]};BuildingProcess13.prototype.creatNpc=function(npcId){var _this=this;if(npcId===void 0){npcId=101}var aInfo=Games.AvatarInfo.creatByNpcId(npcId);var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=avatar.getBounds();avatar.pos(bounds.width,_this.refRoom.roomHeight-_this.refRoom.routeYList[1]);_this.refRoom.addAvatar(avatar,_this.refRoom.m_buildScene.m_avatarContainer1);avatar.enterTo(Laya.stage.width-150,avatar.y+15,Games.DirtionType.Left);avatar.on(Event.CLICK,_this,_this.onNpcClick);var headIcon=fgui.Building.BtnNpcTips.createInstance();headIcon.setInfo(5042,Games.TEXT.ActorExperciser);avatar.setTopHeadIcon(headIcon);avatar.openShadow();avatar.setHitArea(avatar.width*2,avatar.height*1.2);setTimeout(function(){avatar.playAction(1026)},3000)})};BuildingProcess13.prototype.onNpcClick=function(){Game.menu.open(Games.MenuId.ArtListExercise)};return BuildingProcess13}(Games.BaseBuildingProcess));Games.BuildingProcess13=BuildingProcess13})(Games||(Games={}));var Games;(function(Games){var BuildingProcess2=(function(_super){__extends(BuildingProcess2,_super);function BuildingProcess2(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.isShooting=false;return _this}BuildingProcess2.prototype.onProcess=function(){console.log("RoomProcesser -> "+getClassName(this));Game.event.add(GameEventKey.GameEventKey_ShootStart,this.onShootStart,this);Game.event.add(GameEventKey.GameEventKey_ShootEnd,this.onShootEnd,this);this.initShootCanvas();this.refRoom.executeLeaveRoomForEach(true)};Object.defineProperty(BuildingProcess2.prototype,"isOnShoot",{get:function(){var moveData=Game.moduleModel.warData.moveData;if(moveData){if(moveData.state>=Proto.SE.EMovieState.filming&&moveData.state<Proto.SE.EMovieState.complete){return true}}return false},enumerable:true,configurable:true});BuildingProcess2.prototype.initShootCanvas=function(){var _this=this;var aInfo=new Games.AvatarInfo();aInfo.type=Games.AvatarType.Npc;aInfo.texturePath=Res.getCinemaCanvasSkin();aInfo.skeletonPath=Res.getCinemaCanvasSK();this.shootCanvas=Games.Avatar.Creat(aInfo,function(AvatarInfo){_this.onShootEnd();if(_this.isOnShoot){_this.onShootStart(false)}var bounds=_this.shootCanvas.getBounds();_this.shootCanvas.pos(0,50);_this.shootCanvas.setRoomInfo(_this.refRoom.roomInfo);_this.refRoom.m_buildScene.m_canvasContainer.displayObject.addChild(_this.shootCanvas)},this.refRoom.roomWidth,this.refRoom.roomHeight,1)};BuildingProcess2.prototype.onShootStart=function(onShooting){if(!this.isShooting){this.isShooting=true;this.shootCanvas.playAction(2002);Games.AvatarManager.sBehaviorFinish.add(this.onAvatarBehaviorFinish,this);var actorDataList=Game.moduleModel.warData.getRealYRList.getValues();Game.event.dispatch(GameEventKey.GameEventKey_ShootStartAddActor,actorDataList);console.log("start add ActorToShootRoom....");this.addActorToShootRoom(actorDataList)}};BuildingProcess2.prototype.onShootEnd=function(){var _this=this;this.isShooting=false;this.shootCanvas.animator.play("dakai",false);Games.AvatarManager.sBehaviorFinish.remove(this.onAvatarBehaviorFinish,this);this.refRoom.forEachAvatar(function(avatar){avatar.executeActionEvents(_this.getEndEvent(),Games.PerformType.Shoot)});setTimeout(function(){_this.refRoom.executeLeaveRoomForEach(true)},2000)};BuildingProcess2.prototype.addActorToShootRoom=function(actors){var _this=this;var actorids=[];for(var _i=0,actors_1=actors;_i<actors_1.length;_i++){var actor=actors_1[_i];actorids.push(actor.id)}var avatarIdList=Games.AvatarManager.removeRoomActorList(actorids);var _loop_1=function(avatarId){var info=Games.AvatarInfo.creatByAvatarId(avatarId);var avatar=Games.Avatar.Creat(info,function(AvatarInfo){var bounds=avatar.getBounds();avatar.pos(bounds.width,bounds.height);avatar.y=_this.refRoom.roomHeight-_this.refRoom.routeYList[0];_this.refRoom.addAvatar(avatar,_this.refRoom.m_buildScene.m_avatarContainer0);var randomX=Random.rangeBetween(Games.Avatar.STAGE_OFFSET_ENTER,Laya.stage.width-Games.Avatar.STAGE_OFFSET_ENTER);avatar.moveTo(randomX,false,Handler.create(_this,function(){avatar.executeActionEvents(_this.getRDEvent(),Games.PerformType.Shoot)},null,true))})};for(var _a=0,avatarIdList_1=avatarIdList;_a<avatarIdList_1.length;_a++){var avatarId=avatarIdList_1[_a];_loop_1(avatarId)}};BuildingProcess2.prototype.onAvatarBehaviorFinish=function(data){if(data.performType==Games.PerformType.Shoot){var avatar=this.refRoom.getAvatar(data.avatarUid);avatar.executeActionEvents(this.getRDEvent(),Games.PerformType.Shoot)}};BuildingProcess2.prototype.getRDEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.Shoot&&(value.data%(value.type*10))==1});if(playActList.length>0){return playActList[0].eventList}return[]};BuildingProcess2.prototype.getEndEvent=function(){var playActList=Game.config.playAct.getConfigList();playActList=playActList.filter(function(value,index,array){return value.type==Games.PerformType.Shoot&&(value.data%(value.type*10))==2});if(playActList.length>0){return playActList[0].eventList}return[]};return BuildingProcess2}(Games.BaseBuildingProcess));Games.BuildingProcess2=BuildingProcess2})(Games||(Games={}));var Games;(function(Games){var Event=laya.events.Event;var BuildingProcess3=(function(_super){__extends(BuildingProcess3,_super);function BuildingProcess3(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sitOffsetX=30;_this.sitOffsetY=30;_this.avatarposList=[];return _this}BuildingProcess3.prototype.onInit=function(){this.roomPart=fgui.Building.BuildScene3.createInstance();this.refRoom.m_buildScene.m_scenePart.addChild(this.roomPart);this.roomPart.setXY(225,130);this.initConfigSitPosList();Game.protoOkEvent.add(ProtoEventKey.city_HoldCity,this.showTrainer,this)};BuildingProcess3.prototype.onProcess=function(){console.log("RoomProcesser -> "+getClassName(this));this.starNpcId=Game.config.global.getConfig(GlobalKey.KEY_1046).value;this.trainerNpcId=Game.config.global.getConfig(GlobalKey.KEY_1047).value;this.starNpc=this.creatNpc(this.starNpcId,this.starCom);this.trainerNpc=this.creatNpc(this.trainerNpcId,this.trainerCom);var trainerNpcTip=this.roomPart.m_btnNpcTip1;var starNpcTip=this.roomPart.m_btnNpcTip2;starNpcTip.m_title.text=Games.TEXT.BuildActorRoomTalentNpc;starNpcTip.onClick(this,this.onNpcClick,[this.starNpcId]);trainerNpcTip.m_title.text=Games.TEXT.BuildActorRoomTrainerNpc;trainerNpcTip.onClick(this,this.onNpcClick,[this.trainerNpcId]);this.showTrainer()};BuildingProcess3.prototype.showTrainer=function(){var checkShowTrainer=Game.moduleModel.actor.isOpenTrain;if(!checkShowTrainer){this.trainerNpc.visible=false;this.roomPart.m_btnNpcTip1.visible=false}else{this.trainerNpc.visible=true;this.roomPart.m_btnNpcTip1.visible=true}};BuildingProcess3.prototype.creatNpc=function(npcId,posCom){var _this=this;var aInfo=Games.AvatarInfo.creatByNpcId(npcId);aInfo.idleName="zuoxia1";var avatar=Games.Avatar.Creat(aInfo,function(AvatarInfo){var bounds=avatar.getBounds();avatar.pos(bounds.width,bounds.height);avatar.scaleTalkBox(1/posCom.scaleX);_this.refRoom.addAvatar(avatar,posCom);avatar.sitDown(avatar.x+_this.sitOffsetX,avatar.y-_this.sitOffsetY);avatar.on(Event.CLICK,_this,_this.onNpcClick,[aInfo.id])});return avatar};BuildingProcess3.prototype.initConfigSitPosList=function(){this.trainerCom=this.roomPart.getChild("pos1").asCom;this.trainerCom.getChild("sample").visible=false;this.starCom=this.roomPart.getChild("pos2").asCom;this.starCom.getChild("sample").visible=false};BuildingProcess3.prototype.onNpcClick=function(npcId){if(npcId==this.starNpcId){var nowTimes=getTimeStamp();var leaveTimes=User.info.noseIntoActorEffectTime;var actorLeaveTime=0;if(leaveTimes>nowTimes){actorLeaveTime=leaveTimes-nowTimes}if(actorLeaveTime>0&&User.info.noseIntoActorList.length>0){Game.menu.open(Games.MenuId.ArtistScoutResult)}else{Game.menu.open(Games.MenuId.ArtistList,2)}}else{if(npcId==this.trainerNpcId){Game.menu.open(Games.MenuId.ArtistTrain)}}};return BuildingProcess3}(Games.BaseBuildingProcess));Games.BuildingProcess3=BuildingProcess3})(Games||(Games={}));var Games;(function(Games){var CooperationAchievedSubwindow=(function(_super){__extends(CooperationAchievedSubwindow,_super);function CooperationAchievedSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Cooperation.CooperationAchieved);return _this}CooperationAchievedSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationAchieved.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CooperationAchievedSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationAchievedSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationAchievedSubwindow}(Games.MSubwindow));Games.CooperationAchievedSubwindow=CooperationAchievedSubwindow})(Games||(Games={}));var Games;(function(Games){var CooperationApplySubwindow=(function(_super){__extends(CooperationApplySubwindow,_super);function CooperationApplySubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Cooperation.CooperationApply);return _this}CooperationApplySubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationApply.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CooperationApplySubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationApplySubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationApplySubwindow}(Games.MSubwindow));Games.CooperationApplySubwindow=CooperationApplySubwindow})(Games||(Games={}));var Games;(function(Games){var CooperationEndSubwindow=(function(_super){__extends(CooperationEndSubwindow,_super);function CooperationEndSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Cooperation.CooperationEnd);return _this}CooperationEndSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationEnd.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CooperationEndSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationEndSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationEndSubwindow}(Games.MSubwindow));Games.CooperationEndSubwindow=CooperationEndSubwindow})(Games||(Games={}));var Games;(function(Games){var CooperationMainPanelSubwindow=(function(_super){__extends(CooperationMainPanelSubwindow,_super);function CooperationMainPanelSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Cooperation.CooperationMainPanel);return _this}CooperationMainPanelSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationMainPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CooperationMainPanelSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationMainPanelSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationMainPanelSubwindow}(Games.MSubwindow));Games.CooperationMainPanelSubwindow=CooperationMainPanelSubwindow})(Games||(Games={}));var Games;(function(Games){var CooperationRealtionshipSubwindow=(function(_super){__extends(CooperationRealtionshipSubwindow,_super);function CooperationRealtionshipSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Cooperation.CooperationRealtionship);return _this}CooperationRealtionshipSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationRealtionship.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CooperationRealtionshipSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationRealtionshipSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationRealtionshipSubwindow}(Games.MSubwindow));Games.CooperationRealtionshipSubwindow=CooperationRealtionshipSubwindow})(Games||(Games={}));var Games;(function(Games){var MailContentSubwindow=(function(_super){__extends(MailContentSubwindow,_super);function MailContentSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.PfSkin.MailContentPanel);return _this}MailContentSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.MailContentPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MailContentSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.OnWindowOpen(parameter.args[0])};MailContentSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MailContentSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MailContentSubwindow}(Games.MSubwindow));Games.MailContentSubwindow=MailContentSubwindow})(Games||(Games={}));var Games;(function(Games){var MarketCountryListSubwindow=(function(_super){__extends(MarketCountryListSubwindow,_super);function MarketCountryListSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Market.MarketCountryListPanel);return _this}MarketCountryListSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Market.MarketCountryListPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MarketCountryListSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};MarketCountryListSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MarketCountryListSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MarketCountryListSubwindow}(Games.MSubwindow));Games.MarketCountryListSubwindow=MarketCountryListSubwindow})(Games||(Games={}));var Games;(function(Games){var MarketPublicitySubwindow=(function(_super){__extends(MarketPublicitySubwindow,_super);function MarketPublicitySubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Market.MarketPublicityPanel);return _this}MarketPublicitySubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Market.MarketPublicityPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MarketPublicitySubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};MarketPublicitySubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MarketPublicitySubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MarketPublicitySubwindow}(Games.MSubwindow));Games.MarketPublicitySubwindow=MarketPublicitySubwindow})(Games||(Games={}));var Games;(function(Games){var MarketRoadShowSubwindow=(function(_super){__extends(MarketRoadShowSubwindow,_super);function MarketRoadShowSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Market.MarketRoadShowPanel);return _this}MarketRoadShowSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Market.MarketRoadShowPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MarketRoadShowSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};MarketRoadShowSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MarketRoadShowSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MarketRoadShowSubwindow}(Games.MSubwindow));Games.MarketRoadShowSubwindow=MarketRoadShowSubwindow})(Games||(Games={}));var Games;(function(Games){var MarketSelectActorSubwindow=(function(_super){__extends(MarketSelectActorSubwindow,_super);function MarketSelectActorSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Market.MarketSelectActorPanel);return _this}MarketSelectActorSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Market.MarketSelectActorPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MarketSelectActorSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};MarketSelectActorSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MarketSelectActorSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MarketSelectActorSubwindow}(Games.MSubwindow));Games.MarketSelectActorSubwindow=MarketSelectActorSubwindow})(Games||(Games={}));var Games;(function(Games){var RankRewardSubwindow=(function(_super){__extends(RankRewardSubwindow,_super);function RankRewardSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Rank.RankRewardPanel);return _this}RankRewardSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Rank.RankRewardPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};RankRewardSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.OnWindowOpen()};RankRewardSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};RankRewardSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return RankRewardSubwindow}(Games.MSubwindow));Games.RankRewardSubwindow=RankRewardSubwindow})(Games||(Games={}));var Games;(function(Games){var StreetCinemaSelectedSubwindow=(function(_super){__extends(StreetCinemaSelectedSubwindow,_super);function StreetCinemaSelectedSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Street.StreetCinemaSelectedPanel);return _this}StreetCinemaSelectedSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Street.StreetCinemaSelectedPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};StreetCinemaSelectedSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};StreetCinemaSelectedSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StreetCinemaSelectedSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StreetCinemaSelectedSubwindow}(Games.MSubwindow));Games.StreetCinemaSelectedSubwindow=StreetCinemaSelectedSubwindow})(Games||(Games={}));var Games;(function(Games){var StreetInfoSubwindow=(function(_super){__extends(StreetInfoSubwindow,_super);function StreetInfoSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Street.StreetInfoPanel);return _this}StreetInfoSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Street.StreetInfoPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};StreetInfoSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};StreetInfoSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StreetInfoSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StreetInfoSubwindow}(Games.MSubwindow));Games.StreetInfoSubwindow=StreetInfoSubwindow})(Games||(Games={}));var Games;(function(Games){var StreetLvUpInfoSubwindow=(function(_super){__extends(StreetLvUpInfoSubwindow,_super);function StreetLvUpInfoSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Street.StreetLvUpInfoPanel);return _this}StreetLvUpInfoSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Street.StreetLvUpInfoPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};StreetLvUpInfoSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};StreetLvUpInfoSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StreetLvUpInfoSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StreetLvUpInfoSubwindow}(Games.MSubwindow));Games.StreetLvUpInfoSubwindow=StreetLvUpInfoSubwindow})(Games||(Games={}));var Games;(function(Games){var StreetSelectCinemaSubwindow=(function(_super){__extends(StreetSelectCinemaSubwindow,_super);function StreetSelectCinemaSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.Street.StreetSelectCinemaPanel);return _this}StreetSelectCinemaSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.Street.StreetSelectCinemaPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};StreetSelectCinemaSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};StreetSelectCinemaSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StreetSelectCinemaSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StreetSelectCinemaSubwindow}(Games.MSubwindow));Games.StreetSelectCinemaSubwindow=StreetSelectCinemaSubwindow})(Games||(Games={}));var Games;(function(Games){var CurrentMarketInfoSubwindow=(function(_super){__extends(CurrentMarketInfoSubwindow,_super);function CurrentMarketInfoSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarCurrentMarketInfo);return _this}CurrentMarketInfoSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarCurrentMarketInfo.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};CurrentMarketInfoSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CurrentMarketInfoSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CurrentMarketInfoSubwindow}(Games.MSubwindow));Games.CurrentMarketInfoSubwindow=CurrentMarketInfoSubwindow})(Games||(Games={}));var Games;(function(Games){var FilmInfoSubwindow=(function(_super){__extends(FilmInfoSubwindow,_super);function FilmInfoSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmInfo);return _this}FilmInfoSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmInfo.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};FilmInfoSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};FilmInfoSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return FilmInfoSubwindow}(Games.MSubwindow));Games.FilmInfoSubwindow=FilmInfoSubwindow})(Games||(Games={}));var Games;(function(Games){var SelectyirenSubwindow=(function(_super){__extends(SelectyirenSubwindow,_super);function SelectyirenSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarSelectActor);return _this}SelectyirenSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarSelectActor.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};SelectyirenSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};SelectyirenSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return SelectyirenSubwindow}(Games.MSubwindow));Games.SelectyirenSubwindow=SelectyirenSubwindow})(Games||(Games={}));var Games;(function(Games){var WarAudienceReputationSubwindow=(function(_super){__extends(WarAudienceReputationSubwindow,_super);function WarAudienceReputationSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarAudienceReputation);return _this}WarAudienceReputationSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarAudienceReputation.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarAudienceReputationSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarAudienceReputationSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarAudienceReputationSubwindow}(Games.MSubwindow));Games.WarAudienceReputationSubwindow=WarAudienceReputationSubwindow})(Games||(Games={}));var Games;(function(Games){var WarCinemaSelectionSubwindow=(function(_super){__extends(WarCinemaSelectionSubwindow,_super);function WarCinemaSelectionSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarCinemaSelection);return _this}WarCinemaSelectionSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarCinemaSelection.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarCinemaSelectionSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarCinemaSelectionSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarCinemaSelectionSubwindow}(Games.MSubwindow));Games.WarCinemaSelectionSubwindow=WarCinemaSelectionSubwindow})(Games||(Games={}));var Games;(function(Games){var WarCostViewSubwindow=(function(_super){__extends(WarCostViewSubwindow,_super);function WarCostViewSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarCostView);return _this}WarCostViewSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarCostView.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarCostViewSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarCostViewSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarCostViewSubwindow}(Games.MSubwindow));Games.WarCostViewSubwindow=WarCostViewSubwindow})(Games||(Games={}));var Games;(function(Games){var WarEndingIncomeSubwindow=(function(_super){__extends(WarEndingIncomeSubwindow,_super);function WarEndingIncomeSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarEndingIncome);return _this}WarEndingIncomeSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarEndingIncome.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarEndingIncomeSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarEndingIncomeSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarEndingIncomeSubwindow}(Games.MSubwindow));Games.WarEndingIncomeSubwindow=WarEndingIncomeSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmingSubwindow=(function(_super){__extends(WarFilmingSubwindow,_super);function WarFilmingSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilming);return _this}WarFilmingSubwindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};WarFilmingSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilming.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmingSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmingSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmingSubwindow}(Games.MSubwindow));Games.WarFilmingSubwindow=WarFilmingSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmJiesuanSubwindow=(function(_super){__extends(WarFilmJiesuanSubwindow,_super);function WarFilmJiesuanSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmJiesuan);return _this}WarFilmJiesuanSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmJiesuan.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmJiesuanSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmJiesuanSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmJiesuanSubwindow}(Games.MSubwindow));Games.WarFilmJiesuanSubwindow=WarFilmJiesuanSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmOverMarketInfoSubwindow=(function(_super){__extends(WarFilmOverMarketInfoSubwindow,_super);function WarFilmOverMarketInfoSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmOverMarketInfo);return _this}WarFilmOverMarketInfoSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmOverMarketInfo.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmOverMarketInfoSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmOverMarketInfoSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmOverMarketInfoSubwindow}(Games.MSubwindow));Games.WarFilmOverMarketInfoSubwindow=WarFilmOverMarketInfoSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmSelectingSubwindow=(function(_super){__extends(WarFilmSelectingSubwindow,_super);function WarFilmSelectingSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmSelecting);return _this}WarFilmSelectingSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmSelecting.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmSelectingSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmSelectingSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmSelectingSubwindow}(Games.MSubwindow));Games.WarFilmSelectingSubwindow=WarFilmSelectingSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmShangYingSubwindow=(function(_super){__extends(WarFilmShangYingSubwindow,_super);function WarFilmShangYingSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmShangYing);return _this}WarFilmShangYingSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmShangYing.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmShangYingSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmShangYingSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmShangYingSubwindow}(Games.MSubwindow));Games.WarFilmShangYingSubwindow=WarFilmShangYingSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmSQSubwindow=(function(_super){__extends(WarFilmSQSubwindow,_super);function WarFilmSQSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmSQ);return _this}WarFilmSQSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmSQ.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmSQSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmSQSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmSQSubwindow}(Games.MSubwindow));Games.WarFilmSQSubwindow=WarFilmSQSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmSQViewSubwindow=(function(_super){__extends(WarFilmSQViewSubwindow,_super);function WarFilmSQViewSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmSQView);return _this}WarFilmSQViewSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmSQView.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmSQViewSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmSQViewSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmSQViewSubwindow}(Games.MSubwindow));Games.WarFilmSQViewSubwindow=WarFilmSQViewSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmSYPFSubwindow=(function(_super){__extends(WarFilmSYPFSubwindow,_super);function WarFilmSYPFSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmSYPF);return _this}WarFilmSYPFSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmSYPF.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmSYPFSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmSYPFSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmSYPFSubwindow}(Games.MSubwindow));Games.WarFilmSYPFSubwindow=WarFilmSYPFSubwindow})(Games||(Games={}));var Games;(function(Games){var WarFilmYRShowSubwindow=(function(_super){__extends(WarFilmYRShowSubwindow,_super);function WarFilmYRShowSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFilmYRShow);return _this}WarFilmYRShowSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFilmYRShow.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarFilmYRShowSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarFilmYRShowSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarFilmYRShowSubwindow}(Games.MSubwindow));Games.WarFilmYRShowSubwindow=WarFilmYRShowSubwindow})(Games||(Games={}));var Games;(function(Games){var WarNoticeFeedBackSubwindow=(function(_super){__extends(WarNoticeFeedBackSubwindow,_super);function WarNoticeFeedBackSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarFeedBack);return _this}WarNoticeFeedBackSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarFeedBack.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarNoticeFeedBackSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarNoticeFeedBackSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarNoticeFeedBackSubwindow}(Games.MSubwindow));Games.WarNoticeFeedBackSubwindow=WarNoticeFeedBackSubwindow})(Games||(Games={}));var Games;(function(Games){var WarPaishequerenSubwindow=(function(_super){__extends(WarPaishequerenSubwindow,_super);function WarPaishequerenSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarPaishequeren);return _this}WarPaishequerenSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarPaishequeren.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarPaishequerenSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarPaishequerenSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarPaishequerenSubwindow}(Games.MSubwindow));Games.WarPaishequerenSubwindow=WarPaishequerenSubwindow})(Games||(Games={}));var Games;(function(Games){var WarSelectFilmTypeSubwindow=(function(_super){__extends(WarSelectFilmTypeSubwindow,_super);function WarSelectFilmTypeSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarSelectFilmType);return _this}WarSelectFilmTypeSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarSelectFilmType.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarSelectFilmTypeSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarSelectFilmTypeSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarSelectFilmTypeSubwindow}(Games.MSubwindow));Games.WarSelectFilmTypeSubwindow=WarSelectFilmTypeSubwindow})(Games||(Games={}));var Games;(function(Games){var WarSelectNoticeSubwindow=(function(_super){__extends(WarSelectNoticeSubwindow,_super);function WarSelectNoticeSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarNotice);return _this}WarSelectNoticeSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarNotice.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarSelectNoticeSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarSelectNoticeSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarSelectNoticeSubwindow}(Games.MSubwindow));Games.WarSelectNoticeSubwindow=WarSelectNoticeSubwindow})(Games||(Games={}));var Games;(function(Games){var WarXKHuifuSubwindow=(function(_super){__extends(WarXKHuifuSubwindow,_super);function WarXKHuifuSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarXKHuifu);return _this}WarXKHuifuSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarXKHuifu.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarXKHuifuSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarXKHuifuSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarXKHuifuSubwindow}(Games.MSubwindow));Games.WarXKHuifuSubwindow=WarXKHuifuSubwindow})(Games||(Games={}));var Games;(function(Games){var WarXukezhengOverSubwindow=(function(_super){__extends(WarXukezhengOverSubwindow,_super);function WarXukezhengOverSubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarXukezhengOver);return _this}WarXukezhengOverSubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarXukezhengOver.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarXukezhengOverSubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarXukezhengOverSubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarXukezhengOverSubwindow}(Games.MSubwindow));Games.WarXukezhengOverSubwindow=WarXukezhengOverSubwindow})(Games||(Games={}));var Games;(function(Games){var WarYRCompatibilitySubwindow=(function(_super){__extends(WarYRCompatibilitySubwindow,_super);function WarYRCompatibilitySubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarYRForFilm);return _this}WarYRCompatibilitySubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarYRForFilm.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarYRCompatibilitySubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarYRCompatibilitySubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarYRCompatibilitySubwindow}(Games.MSubwindow));Games.WarYRCompatibilitySubwindow=WarYRCompatibilitySubwindow})(Games||(Games={}));var Games;(function(Games){var WarYRProficiencySubwindow=(function(_super){__extends(WarYRProficiencySubwindow,_super);function WarYRProficiencySubwindow(subwindowIndex,mainWindow){var _this=_super.call(this,subwindowIndex,mainWindow)||this;_this.addAssetForFguiComponent(fgui.WarMovie.WarYRProficiency);return _this}WarYRProficiencySubwindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarYRProficiency.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarYRProficiencySubwindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarYRProficiencySubwindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return WarYRProficiencySubwindow}(Games.MSubwindow));Games.WarYRProficiencySubwindow=WarYRProficiencySubwindow})(Games||(Games={}));var Games;(function(Games){var ActivityWindow=(function(_super){__extends(ActivityWindow,_super);function ActivityWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Activity.ActivityMain);_this.addAssetForFguiComponent(fgui.Fx.Effect_num1);return _this}ActivityWindow.prototype.onMenuCreate=function(){this.conent=fgui.Activity.ActivityMain.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ActivityWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};ActivityWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ActivityWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ActivityWindow}(Games.MWindow));Games.ActivityWindow=ActivityWindow})(Games||(Games={}));var Games;(function(Games){var ArtistDirectoryWindow=(function(_super){__extends(ArtistDirectoryWindow,_super);function ArtistDirectoryWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.ArtistDic.ArtistDicUI);return _this}ArtistDirectoryWindow.prototype.onMenuCreate=function(){this.conent=fgui.ArtistDic.ArtistDicUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtistDirectoryWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};ArtistDirectoryWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtistDirectoryWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ArtistDirectoryWindow}(Games.MWindow));Games.ArtistDirectoryWindow=ArtistDirectoryWindow})(Games||(Games={}));var Games;(function(Games){var ArtistListSubType;(function(ArtistListSubType){ArtistListSubType[ArtistListSubType.ListPanel=0]="ListPanel";ArtistListSubType[ArtistListSubType.FindPanel=1]="FindPanel"})(ArtistListSubType=Games.ArtistListSubType||(Games.ArtistListSubType={}));var ArtistListWindow=(function(_super){__extends(ArtistListWindow,_super);function ArtistListWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtistUI);return _this}ArtistListWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this);this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(1001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(6001))};ArtistListWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtistUI.createInstance();this.contentPane=this.conent;this.registerTab(ArtistListSubType.ListPanel,this.conent.m_listPanel);this.registerTab(ArtistListSubType.FindPanel,this.conent.m_findPanel);_super.prototype.onMenuCreate.call(this)};ArtistListWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};ArtistListWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtistListWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};ArtistListWindow.prototype.onOpenTab=function(tabIndex){this.conent.onOpenTab(tabIndex)};ArtistListWindow.prototype.selectActor=function(lv){return this.conent.selectActor(lv)};return ArtistListWindow}(Games.MWindow));Games.ArtistListWindow=ArtistListWindow})(Games||(Games={}));var Games;(function(Games){var ArtListExerciseWindow=(function(_super){__extends(ArtListExerciseWindow,_super);function ArtListExerciseWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ArtListExerciseUI);return _this}ArtListExerciseWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};ArtListExerciseWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ArtListExerciseUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ArtListExerciseWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.onUpdateView()};ArtListExerciseWindow.prototype.onUpdateView=function(){};ArtListExerciseWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ArtListExerciseWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ArtListExerciseWindow}(Games.MWindow));Games.ArtListExerciseWindow=ArtListExerciseWindow})(Games||(Games={}));var Games;(function(Games){var BagWindow=(function(_super){__extends(BagWindow,_super);function BagWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Bag.BagMainPanel);return _this}BagWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this);this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(1001))};BagWindow.prototype.onMenuCreate=function(){this.conent=fgui.Bag.BagMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};BagWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};BagWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return BagWindow}(Games.MWindow));Games.BagWindow=BagWindow})(Games||(Games={}));var Games;(function(Games){var BuildRoomListWindow=(function(_super){__extends(BuildRoomListWindow,_super);function BuildRoomListWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Building.BuildRoomList);return _this}BuildRoomListWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};BuildRoomListWindow.prototype.onMenuCreate=function(){this.conent=fgui.Building.BuildRoomList.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};BuildRoomListWindow.prototype.onShowComplete=function(){var floorIndex=this.menuParameter.args[0];this.conent.init(floorIndex);_super.prototype.onShowComplete.call(this)};BuildRoomListWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};BuildRoomListWindow.prototype.getWaitBuildRoomTouch=function(roomType){var room=this.conent.getRoomAndScrollTop(roomType);if(room){return room.m_touch}return null};return BuildRoomListWindow}(Games.MWindow));Games.BuildRoomListWindow=BuildRoomListWindow})(Games||(Games={}));var Games;(function(Games){var BuildRoomUpgradeWindow=(function(_super){__extends(BuildRoomUpgradeWindow,_super);function BuildRoomUpgradeWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Building.BuildRoomUpgrade);return _this}BuildRoomUpgradeWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};BuildRoomUpgradeWindow.prototype.onMenuCreate=function(){this.conent=fgui.Building.BuildRoomUpgrade.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};BuildRoomUpgradeWindow.prototype.onShowComplete=function(){var roomInfo=this.menuParameter.args[0];this.conent.setInfo(roomInfo);_super.prototype.onShowComplete.call(this)};BuildRoomUpgradeWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};BuildRoomUpgradeWindow.prototype.btnLevelUp=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return this.conent.btnLevelUp(args[0])};return BuildRoomUpgradeWindow}(Games.MWindow));Games.BuildRoomUpgradeWindow=BuildRoomUpgradeWindow})(Games||(Games={}));var Games;(function(Games){var BusinessWindow=(function(_super){__extends(BusinessWindow,_super);function BusinessWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Manage.BusinessUI);return _this}BusinessWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};BusinessWindow.prototype.onMenuCreate=function(){this.conent=fgui.Manage.BusinessUI.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};return BusinessWindow}(Games.MWindow));Games.BusinessWindow=BusinessWindow})(Games||(Games={}));var Games;(function(Games){var CooperationWindow=(function(_super){__extends(CooperationWindow,_super);function CooperationWindow(){var _this=_super.call(this)||this;_this.serachOther=new Games.CooperationMainPanelSubwindow(Games.CooperationSubwindowType.serachOther,_this);_this.cooperationApplySubwindow=new Games.CooperationApplySubwindow(Games.CooperationSubwindowType.cooperationApply,_this);_this.cooperationRealtionshipSubwindow=new Games.CooperationRealtionshipSubwindow(Games.CooperationSubwindowType.cooperationRealtionship,_this);_this.cooperationEndSubwindow=new Games.CooperationEndSubwindow(Games.CooperationSubwindowType.CooperationEnd,_this);_this.cooperationAchievedSubwindow=new Games.CooperationAchievedSubwindow(Games.CooperationSubwindowType.CooperationAchieved,_this);_this.registerSubwindow(_this.serachOther);_this.registerSubwindow(_this.cooperationApplySubwindow);_this.registerSubwindow(_this.cooperationRealtionshipSubwindow);_this.registerSubwindow(_this.cooperationEndSubwindow);_this.registerSubwindow(_this.cooperationAchievedSubwindow);_this.addAssetForFguiComponent(fgui.Cooperation.CooperationMain);return _this}CooperationWindow.prototype.onMenuCreate=function(){this.conent=fgui.Cooperation.CooperationMain.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};CooperationWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};CooperationWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};CooperationWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return CooperationWindow}(Games.MWindow));Games.CooperationWindow=CooperationWindow})(Games||(Games={}));var Games;(function(Games){var CreateRoleTabType;(function(CreateRoleTabType){CreateRoleTabType[CreateRoleTabType.Default=0]="Default";CreateRoleTabType[CreateRoleTabType.InitialActor=1]="InitialActor"})(CreateRoleTabType=Games.CreateRoleTabType||(Games.CreateRoleTabType={}));var CreateRoleWindow=(function(_super){__extends(CreateRoleWindow,_super);function CreateRoleWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Login.CreatRole);return _this}CreateRoleWindow.prototype.onMenuCreate=function(){this.conent=fgui.Login.CreatRole.createInstance();this.contentPane=this.conent;this.registerTab(CreateRoleTabType.InitialActor,this.conent.m_initialActor);_super.prototype.onMenuCreate.call(this)};CreateRoleWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);Game.protoOkEvent.add(ProtoEventKey.GameData_InitGameData,this.onInitGameData,this);Game.moduleModel.actor.sAddActorList.add(this.onAddActorHandler,this);Game.protoOkEvent.add(ProtoEventKey.Actor_ActorChangeName,this.onActorChangeName,this)};CreateRoleWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);Game.protoOkEvent.remove(ProtoEventKey.GameData_InitGameData,this.onInitGameData,this);Game.moduleModel.actor.sAddActorList.remove(this.onAddActorHandler,this)};CreateRoleWindow.prototype.onInitGameData=function(msg,ops,uuid){Game.menu.open(Games.MenuId.Home);Game.menu.close(Games.MenuId.Login);Game.menu.close(Games.MenuId.CreateRole)};CreateRoleWindow.prototype.onAddActorHandler=function(data){Game.menu.open(Games.MenuId.ArtistScoutSuccess,data);Game.menu.close(Games.MenuId.Login);Game.menu.close(Games.MenuId.CreateRole)};CreateRoleWindow.prototype.onActorChangeName=function(msg){Game.protoOkEvent.remove(ProtoEventKey.Actor_ActorChangeName,this.onActorChangeName,this);Game.menu.open(Games.MenuId.Home)};return CreateRoleWindow}(Games.MWindow));Games.CreateRoleWindow=CreateRoleWindow})(Games||(Games={}));var Games;(function(Games){var HomeWindow=(function(_super){__extends(HomeWindow,_super);function HomeWindow(){var _this=_super.call(this)||this;_this.refreshRedTimeOutHandler=0;_this.addAssetForFguiComponent(fgui.MainUI.MainUI);_this.addAssetForFguiComponent(fgui.Building.Main);_this.addAssetForFguiComponent(fgui.WarMovie.WarMain);_this.addAssetForFguiComponent(fgui.PlayerInfo.Main);_this.addAssetForFguiComponent(fgui.Cooperation.CooperationForMainUI);_this.addAssetForFguiComponent(fgui.WarMovie.WarContinuousIncome);return _this}HomeWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this);this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(1501));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(2001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(2201));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(7101));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(7301));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(5001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(6001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(8001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(1001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(3001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(9999))};HomeWindow.prototype.onMenuCreate=function(){this.conent=fgui.MainUI.MainUI.createInstance();this.contentPane=this.conent;this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};HomeWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};HomeWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this);User.sGameInfoUpdate.add(this.onUpdateGameInfo,this);Game.moduleModel.actor.sUpdateActorInfo.add(this.refreshRed,this);Game.moduleModel.actor.sAddActorList.add(this.refreshRed,this);Game.moduleModel.warData.sUpdateLicence.add(this.refreshRed,this);Game.moduleModel.warData.sUpdateContinue.add(this.refreshContinue,this);Game.protoOkEvent.add(ProtoEventKey.TaskData,this.refreshRed,this);Game.event.add(GameEventKey.GameEventKey_ResetFindStoryTime,this.refreshRed,this);Game.event.add(GameEventKey.GameEventKey_UpdateMainUIRed,this.refreshRed,this);Game.event.add(GameEventKey.GameEventKey_UpdateCoopreationOrderView,this.refreshRed,this);Game.event.add(GameEventKey.GameEventKey_UpdateOrderView,this.refreshRed,this);Game.protoOkEvent.add(ProtoEventKey.ItemData,this.refreshRed,this);Game.protoOkEvent.add(ProtoEventKey.AccountCooperateData,this.refreshRed,this);Game.moduleModel.cooperation.sCallHavePartner.add(this.onUpdateGameInfo,this);this.conent.onCreateExpect();this.conent.onCreateCooperation()};HomeWindow.prototype.onHideComplete=function(){Game.moduleModel.actor.sUpdateActorInfo.remove(this.refreshRed,this);Game.moduleModel.actor.sAddActorList.remove(this.refreshRed,this);Game.moduleModel.warData.sUpdateLicence.remove(this.refreshRed,this);Game.moduleModel.warData.sUpdateContinue.remove(this.refreshContinue,this);Game.protoOkEvent.remove(ProtoEventKey.TaskData,this.refreshRed,this);Game.event.remove(GameEventKey.GameEventKey_ResetFindStoryTime,this.refreshRed,this);Game.event.remove(GameEventKey.GameEventKey_UpdateMainUIRed,this.refreshRed,this);Game.event.remove(GameEventKey.GameEventKey_UpdateCoopreationOrderView,this.refreshRed,this);Game.event.remove(GameEventKey.GameEventKey_UpdateOrderView,this.refreshRed,this);Game.protoOkEvent.remove(ProtoEventKey.ItemData,this.refreshRed,this);Game.protoOkEvent.remove(ProtoEventKey.AccountCooperateData,this.refreshRed,this);User.sGameInfoUpdate.remove(this.onUpdateGameInfo,this);Game.moduleModel.cooperation.sCallHavePartner.remove(this.onUpdateGameInfo,this);_super.prototype.onHideComplete.call(this)};HomeWindow.prototype.onUpdateGameInfo=function(){this.refreshRed();this.conent.onCreateExpect();this.conent.onCreateCooperation()};HomeWindow.prototype.refreshRed=function(){var _this=this;if(this.refreshRedTimeOutHandler>0){clearTimeout(this.refreshRedTimeOutHandler);this.refreshRedTimeOutHandler=0}this.refreshRedTimeOutHandler=setTimeout(function(){_this.conent.refreshUnlock();_this.conent.refreshRed()},500)};HomeWindow.prototype.refreshContinue=function(){this.conent.onCreateFilmContinue()};Object.defineProperty(HomeWindow.prototype,"filmContinueFirst",{get:function(){if(this.conent.filmContinueBtnList.length>0){var datas=Game.moduleModel.warData.movieDataList;for(var index=0;index<datas.length;index++){var curData=datas[index];var remainTime=7200-Game.time.getSubSecondsPre(curData.startTime);if(remainTime>0){return this.conent.filmContinueBtnList[index]}}}else{return null}},enumerable:true,configurable:true});Object.defineProperty(HomeWindow.prototype,"filmContinue",{get:function(){if(this.conent.filmContinueBtnList.length>0){var datas=Game.moduleModel.warData.movieDataList;for(var index=0;index<datas.length;index++){var curData=datas[index];var btn=this.conent.filmContinueBtnList[index];if(btn&&btn.visible){return btn}else{return null}}}else{return null}},enumerable:true,configurable:true});Object.defineProperty(HomeWindow.prototype,"filmContinueFirstRewardBtn",{get:function(){if(this.conent.filmContinueBtnList.length>0){var datas=Game.moduleModel.warData.movieDataList;for(var index=0;index<datas.length;index++){var btn=this.conent.filmContinueBtnList[index];if(btn.warContinueUI&&btn.warContinueUI.visible){return btn.warContinueUI.m_okBtn}else{return null}}}else{return null}},enumerable:true,configurable:true});Object.defineProperty(HomeWindow.prototype,"filmContinueFirstpromotionBtn",{get:function(){var btn=this.filmContinueFirst;if(btn&&btn.warContinueUI&&btn.warContinueUI.visible){return btn.warContinueUI.m_promotionBtn}else{return null}},enumerable:true,configurable:true});Object.defineProperty(HomeWindow.prototype,"cityBtn",{get:function(){if(this.conent.filmContinueBtnList.length>0&&this.conent.filmContinueBtnList[0].warContinueUI&&this.conent.filmContinueBtnList[0].warContinueUI.visible){this.conent.filmContinueBtnList[0].warContinueUI.cityList;for(var i=0;i<this.conent.filmContinueBtnList[0].warContinueUI.cityList.length;i++){if(this.conent.filmContinueBtnList[0].warContinueUI.curCity===null||this.conent.filmContinueBtnList[0].warContinueUI.cityList[i].id!==this.conent.filmContinueBtnList[0].warContinueUI.curCity.id){if(this.conent.filmContinueBtnList[0].warContinueUI.cityList[i].state===Games.CityStateEnum.hasOccupy){this.conent.filmContinueBtnList[0].warContinueUI.m_cityList.scrollToView(i);return this.conent.filmContinueBtnList[0].warContinueUI.m_cityList.getChildAt(this.conent.filmContinueBtnList[0].warContinueUI.m_cityList.itemIndexToChildIndex(i))}}}}return null},enumerable:true,configurable:true});Object.defineProperty(HomeWindow.prototype,"citySwitch",{get:function(){if(this.conent.filmContinueBtnList.length>0&&this.conent.filmContinueBtnList[0].warContinueUI&&this.conent.filmContinueBtnList[0].warContinueUI.visible){if(this.conent.filmContinueBtnList[0].warContinueUI.m_ChangeCity.selectedIndex===1){if(this.conent.filmContinueBtnList[0].warContinueUI.m_okBtn2.visible){return this.conent.filmContinueBtnList[0].warContinueUI.m_okBtn2}}}return null},enumerable:true,configurable:true});HomeWindow.prototype.getRoomTitleBtn=function(roomType){var room=this.conent.m_builder.getRoomAndScrollTop(roomType,1);if(room){return room.m_btn_roomName}return null};HomeWindow.prototype.getCooperationBtn=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}return this.conent.cooperationBtn(arg[0])};return HomeWindow}(Games.MWindow));Games.HomeWindow=HomeWindow})(Games||(Games={}));var Games;(function(Games){var LoginTabType;(function(LoginTabType){LoginTabType[LoginTabType.Login=0]="Login";LoginTabType[LoginTabType.Register=1]="Register";LoginTabType[LoginTabType.LoginGuest=2]="LoginGuest";LoginTabType[LoginTabType.Agreement=3]="Agreement"})(LoginTabType=Games.LoginTabType||(Games.LoginTabType={}));var LoginWindow=(function(_super){__extends(LoginWindow,_super);function LoginWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Login.Main);return _this}LoginWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};LoginWindow.prototype.onMenuCreate=function(){var windowUI=fgui.Login.LoginWindowUI.createInstance();this.conent=windowUI.m_conent;this.contentPane=windowUI;this.registerTab(LoginTabType.Login,this.conent.m_login);this.registerTab(LoginTabType.Register,this.conent.m_register);this.registerTab(LoginTabType.LoginGuest,this.conent.m_login_guest);this.registerTab(LoginTabType.Agreement,this.conent.m_agreement);this.openTab(LoginTabType.Login);_super.prototype.onMenuCreate.call(this)};LoginWindow.prototype.onMenuOpen=function(parameter){if(parameter.openType==Games.MenuOpenType.None){if(Game.localStorage.isGuest){parameter.openType=Games.MenuOpenType.Tab;parameter.openIndex=LoginTabType.LoginGuest}}_super.prototype.onMenuOpen.call(this,parameter)};LoginWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};LoginWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return LoginWindow}(Games.MWindow));Games.LoginWindow=LoginWindow})(Games||(Games={}));var Games;(function(Games){var MailWindow=(function(_super){__extends(MailWindow,_super);function MailWindow(){var _this=_super.call(this)||this;_this.mailContentSubwindow=new Games.MailContentSubwindow("mailContent",_this);_this.registerSubwindow(_this.mailContentSubwindow);_this.addAssetForFguiComponent(fgui.PfSkin.MailMainPanel);return _this}MailWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.MailMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};MailWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args)};MailWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MailWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MailWindow}(Games.MWindow));Games.MailWindow=MailWindow})(Games||(Games={}));var Games;(function(Games){var MainTaskWindow=(function(_super){__extends(MainTaskWindow,_super);function MainTaskWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Guide.GuideTaskUI);return _this}MainTaskWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};MainTaskWindow.prototype.onMenuCreate=function(){this.conent=fgui.Guide.GuideTaskUI.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};MainTaskWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MainTaskWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return MainTaskWindow}(Games.MWindow));Games.MainTaskWindow=MainTaskWindow})(Games||(Games={}));var Games;(function(Games){var MarketSubEnum;(function(MarketSubEnum){MarketSubEnum[MarketSubEnum.Main=1]="Main";MarketSubEnum[MarketSubEnum.CountryList=2]="CountryList";MarketSubEnum[MarketSubEnum.Publicity=3]="Publicity";MarketSubEnum[MarketSubEnum.RoadShow=4]="RoadShow";MarketSubEnum[MarketSubEnum.SelectActor=5]="SelectActor"})(MarketSubEnum=Games.MarketSubEnum||(Games.MarketSubEnum={}));var MarketTabEnum;(function(MarketTabEnum){MarketTabEnum[MarketTabEnum.CityInfo=0]="CityInfo";MarketTabEnum[MarketTabEnum.Occupy=1]="Occupy"})(MarketTabEnum=Games.MarketTabEnum||(Games.MarketTabEnum={}));var MarketWindow=(function(_super){__extends(MarketWindow,_super);function MarketWindow(){var _this=_super.call(this)||this;_this.countryListSubwindow=new Games.MarketCountryListSubwindow(MarketSubEnum.CountryList,_this);_this.publicitySubwindow=new Games.MarketPublicitySubwindow(MarketSubEnum.Publicity,_this);_this.roadShowSubwindow=new Games.MarketRoadShowSubwindow(MarketSubEnum.RoadShow,_this);_this.selectActorSubwindow=new Games.MarketSelectActorSubwindow(MarketSubEnum.SelectActor,_this);_this.registerSubwindow(_this.countryListSubwindow);_this.registerSubwindow(_this.publicitySubwindow);_this.registerSubwindow(_this.roadShowSubwindow);_this.registerSubwindow(_this.selectActorSubwindow);_this.addAssetForFguiComponent(fgui.Market.MarketMainPanel);return _this}MarketWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this);this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(1001));this.addDynmicAssetForAvatarAll(Game.config.avatar.getConfig(6101))};MarketWindow.prototype.onMenuCreate=function(){this.conent=fgui.Market.MarketMainPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);this.registerTab(MarketTabEnum.CityInfo,this.conent.m_cityInfoPanel);this.registerTab(MarketTabEnum.Occupy,this.conent.m_occupyPanel);_super.prototype.onMenuCreate.call(this)};MarketWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};MarketWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};MarketWindow.prototype.destory=function(){console.log("destory");this.conent.OnDestory();_super.prototype.destory.call(this)};MarketWindow.prototype.guideStreetBtn=function(){return this.conent.m_occupyPanel.guideGetCityPointBtn()};MarketWindow.prototype.guidFreeActorBtn=function(){var list=this.conent.m_cityInfoPanel.dispatchList;if(list==null){return this.conent.m_cityInfoPanel.m_listActor.getChildAt(0)}for(var index=0;index<list.length;index++){var data=list[index];if(data==0){return this.conent.m_cityInfoPanel.m_listActor.getChildAt(index)}}return this.conent.m_cityInfoPanel.m_listActor.getChildAt(0)};Object.defineProperty(MarketWindow.prototype,"guideCurrentCountry",{get:function(){return this.conent.countryId},enumerable:true,configurable:true});Object.defineProperty(MarketWindow.prototype,"guideCurrentCity",{get:function(){return this.conent.CurrentCity.id},enumerable:true,configurable:true});MarketWindow.prototype.guideSelectCity=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}for(var index=0;index<this.conent.cityDatas.length;index++){var data=this.conent.cityDatas[index];if(data.id==arg[0]){this.conent.m_list.scrollToView(index);return this.conent.m_list.getChildAt(this.conent.m_list.itemIndexToChildIndex(index))}}return null};MarketWindow.prototype.guideHomeCityBtn=function(){return this.guideSelectCity(Game.moduleModel.market.Info.headquarters)};return MarketWindow}(Games.MWindow));Games.MarketWindow=MarketWindow})(Games||(Games={}));var Games;(function(Games){var MeetingWindow=(function(_super){__extends(MeetingWindow,_super);function MeetingWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Manage.MeetingUI);return _this}MeetingWindow.prototype.onMenuCreate=function(){this.conent=fgui.Manage.MeetingUI.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};return MeetingWindow}(Games.MWindow));Games.MeetingWindow=MeetingWindow})(Games||(Games={}));var Games;(function(Games){var MissionWindow=(function(_super){__extends(MissionWindow,_super);function MissionWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Mission.MissionMainPanel);_this.addAssetForFguiComponent(fgui.Common.TipReward);return _this}MissionWindow.prototype.onMenuCreate=function(){this.conent=fgui.Mission.MissionMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};return MissionWindow}(Games.MWindow));Games.MissionWindow=MissionWindow})(Games||(Games={}));var Games;(function(Games){var OrderWindow=(function(_super){__extends(OrderWindow,_super);function OrderWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Manage.ManagerOrderUI);return _this}OrderWindow.prototype.onMenuCreate=function(){this.conent=fgui.Manage.ManagerOrderUI.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};OrderWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};OrderWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};OrderWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};OrderWindow.prototype.guideSelectOrder=function(){return this.conent.guideSelectOrder()};OrderWindow.prototype.guideBoxItem=function(){var arg=[];for(var _i=0;_i<arguments.length;_i++){arg[_i]=arguments[_i]}return this.conent.guideBoxItem(arg[0])};return OrderWindow}(Games.MWindow));Games.OrderWindow=OrderWindow})(Games||(Games={}));var Games;(function(Games){var OscarSubEnum;(function(OscarSubEnum){OscarSubEnum[OscarSubEnum.None=0]="None";OscarSubEnum[OscarSubEnum.OscarShow=1]="OscarShow";OscarSubEnum[OscarSubEnum.OscarReward=2]="OscarReward"})(OscarSubEnum=Games.OscarSubEnum||(Games.OscarSubEnum={}));var OscarWindow=(function(_super){__extends(OscarWindow,_super);function OscarWindow(){var _this=_super.call(this)||this;_this.oscarShowSubWindow=new Games.OscarShowSubWindow(OscarSubEnum.OscarShow,_this);_this.oscarRewardSubWindow=new Games.OscarRewardSubWindow(OscarSubEnum.OscarReward,_this);_this.registerSubwindow(_this.oscarShowSubWindow);_this.registerSubwindow(_this.oscarRewardSubWindow);_this.addAssetForFguiComponent(fgui.Oscar.OscarAwardsListPanel);return _this}OscarWindow.prototype.onMenuCreate=function(){this.conent=fgui.Oscar.OscarAwardsListPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};OscarWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args[0])};OscarWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};OscarWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return OscarWindow}(Games.MWindow));Games.OscarWindow=OscarWindow})(Games||(Games={}));var Games;(function(Games){var PlayerInfoTabType;(function(PlayerInfoTabType){PlayerInfoTabType[PlayerInfoTabType.HOME=1]="HOME";PlayerInfoTabType[PlayerInfoTabType.CAREER=2]="CAREER";PlayerInfoTabType[PlayerInfoTabType.TROPHY=3]="TROPHY";PlayerInfoTabType[PlayerInfoTabType.FILMS=4]="FILMS";PlayerInfoTabType[PlayerInfoTabType.ACTORS=5]="ACTORS"})(PlayerInfoTabType=Games.PlayerInfoTabType||(Games.PlayerInfoTabType={}));var PlayerInfoWindow=(function(_super){__extends(PlayerInfoWindow,_super);function PlayerInfoWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PlayerInfo.Main);return _this}PlayerInfoWindow.prototype.onMenuCreate=function(){this.conent=fgui.PlayerInfo.Main.createInstance();this.contentPane=this.conent;this.conent.visible=false;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};PlayerInfoWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};PlayerInfoWindow.prototype.onShowComplete=function(){Game.protoOkEvent.add(ProtoEventKey.GameInfoExt,this.onGameInfoExt,this);Game.protosender.GameData.GetGameInfoExt();_super.prototype.onShowComplete.call(this)};PlayerInfoWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this);Game.protoOkEvent.remove(ProtoEventKey.GameInfoExt,this.onGameInfoExt,this)};PlayerInfoWindow.prototype.onGameInfoExt=function(proto){Game.protoOkEvent.remove(ProtoEventKey.GameInfoExt,this.onGameInfoExt,this);this.conent.visible=true;this.conent.onWindowShowCall()};return PlayerInfoWindow}(Games.MWindow));Games.PlayerInfoWindow=PlayerInfoWindow})(Games||(Games={}));var Games;(function(Games){var ProduceWindow=(function(_super){__extends(ProduceWindow,_super);function ProduceWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Produce.Main);return _this}ProduceWindow.prototype.onMenuCreate=function(){this.conent=fgui.Produce.Main.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};ProduceWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};ProduceWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ProduceWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ProduceWindow}(Games.MWindow));Games.ProduceWindow=ProduceWindow})(Games||(Games={}));var Games;(function(Games){var PublicNoticeWindow=(function(_super){__extends(PublicNoticeWindow,_super);function PublicNoticeWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Notice.PublicNoticePanel);return _this}PublicNoticeWindow.prototype.onMenuCreate=function(){this.conent=fgui.Notice.PublicNoticePanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};PublicNoticeWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};PublicNoticeWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};PublicNoticeWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return PublicNoticeWindow}(Games.MWindow));Games.PublicNoticeWindow=PublicNoticeWindow})(Games||(Games={}));var Games;(function(Games){var RankWindow=(function(_super){__extends(RankWindow,_super);function RankWindow(){var _this=_super.call(this)||this;_this.rankRewardSubwindow=new Games.RankRewardSubwindow("rankReward",_this);_this.registerSubwindow(_this.rankRewardSubwindow);_this.addAssetForFguiComponent(fgui.Rank.RankMainPanel);return _this}RankWindow.prototype.onMenuCreate=function(){this.conent=fgui.Rank.RankMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};RankWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen()};RankWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};RankWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return RankWindow}(Games.MWindow));Games.RankWindow=RankWindow})(Games||(Games={}));var Games;(function(Games){var RechargeWindow=(function(_super){__extends(RechargeWindow,_super);function RechargeWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.RechargeMainPanel);return _this}RechargeWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.RechargeMainPanel.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};RechargeWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args)};RechargeWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};RechargeWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return RechargeWindow}(Games.MWindow));Games.RechargeWindow=RechargeWindow})(Games||(Games={}));var Games;(function(Games){var ShopWindow=(function(_super){__extends(ShopWindow,_super);function ShopWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.ShopMainPanel);return _this}ShopWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.ShopMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};ShopWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen(parameter.args)};ShopWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};ShopWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return ShopWindow}(Games.MWindow));Games.ShopWindow=ShopWindow})(Games||(Games={}));var Games;(function(Games){var StoryInfoWindow=(function(_super){__extends(StoryInfoWindow,_super);function StoryInfoWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.StoryInfoUI);return _this}StoryInfoWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};StoryInfoWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.StoryInfoUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};StoryInfoWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};StoryInfoWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StoryInfoWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StoryInfoWindow}(Games.MWindow));Games.StoryInfoWindow=StoryInfoWindow})(Games||(Games={}));var Games;(function(Games){var StoryLibraryWindow=(function(_super){__extends(StoryLibraryWindow,_super);function StoryLibraryWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.PfSkin.StoryLibraryUI);return _this}StoryLibraryWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};StoryLibraryWindow.prototype.onMenuCreate=function(){this.conent=fgui.PfSkin.StoryLibraryUI.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};StoryLibraryWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};StoryLibraryWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StoryLibraryWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StoryLibraryWindow}(Games.MWindow));Games.StoryLibraryWindow=StoryLibraryWindow})(Games||(Games={}));var Games;(function(Games){var StreetWindowSubEnum;(function(StreetWindowSubEnum){StreetWindowSubEnum[StreetWindowSubEnum.StreetInfoPanel=0]="StreetInfoPanel";StreetWindowSubEnum[StreetWindowSubEnum.StreetLvUpInfoPanel=1]="StreetLvUpInfoPanel";StreetWindowSubEnum[StreetWindowSubEnum.StreetCinemaSelectedPanel=2]="StreetCinemaSelectedPanel";StreetWindowSubEnum[StreetWindowSubEnum.StreetSelectCinemaPanel=3]="StreetSelectCinemaPanel"})(StreetWindowSubEnum=Games.StreetWindowSubEnum||(Games.StreetWindowSubEnum={}));var StreetWindow=(function(_super){__extends(StreetWindow,_super);function StreetWindow(){var _this=_super.call(this)||this;_this.cinemaSelectedSubwindow=new Games.StreetCinemaSelectedSubwindow(StreetWindowSubEnum.StreetCinemaSelectedPanel,_this);_this.infoSubwindow=new Games.StreetInfoSubwindow(StreetWindowSubEnum.StreetInfoPanel,_this);_this.lvUpInfoSubwindow=new Games.StreetLvUpInfoSubwindow(StreetWindowSubEnum.StreetLvUpInfoPanel,_this);_this.selectCinemaSubwindow=new Games.StreetSelectCinemaSubwindow(StreetWindowSubEnum.StreetSelectCinemaPanel,_this);_this.registerSubwindow(_this.cinemaSelectedSubwindow);_this.registerSubwindow(_this.infoSubwindow);_this.registerSubwindow(_this.lvUpInfoSubwindow);_this.registerSubwindow(_this.selectCinemaSubwindow);_this.addAssetForFguiPackagename(Games.GuiPackageNames.Common);_this.addAssetForFguiComponent(fgui.Street.StreetMainPanel);return _this}StreetWindow.prototype.onMenuCreate=function(){this.conent=fgui.Street.StreetMainPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this);Game.moduleModel.task.openRankNum=1};StreetWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter);this.conent.onWindowOpen()};StreetWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};StreetWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return StreetWindow}(Games.MWindow));Games.StreetWindow=StreetWindow})(Games||(Games={}));var Games;(function(Games){var SysSettingWindow=(function(_super){__extends(SysSettingWindow,_super);function SysSettingWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.SystemSettings.SettingsPanel);return _this}SysSettingWindow.prototype.onMenuCreate=function(){this.conent=fgui.SystemSettings.SettingsPanel.createInstance();this.contentPane=this.conent;_super.prototype.onMenuCreate.call(this)};SysSettingWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};SysSettingWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};SysSettingWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return SysSettingWindow}(Games.MWindow));Games.SysSettingWindow=SysSettingWindow})(Games||(Games={}));var Games;(function(Games){var TempleteWindow=(function(_super){__extends(TempleteWindow,_super);function TempleteWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Login.Main);return _this}TempleteWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};TempleteWindow.prototype.onMenuCreate=function(){this.conent=fgui.Login.Main.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);this.registerTab(Games.LoginTabType.Login,this.conent.m_login);this.registerTab(Games.LoginTabType.Register,this.conent.m_register);this.registerTab(Games.LoginTabType.LoginGuest,this.conent.m_login_guest);this.registerTab(Games.LoginTabType.Agreement,this.conent.m_agreement);_super.prototype.onMenuCreate.call(this);this.openTab(Games.LoginTabType.Login)};TempleteWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};TempleteWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return TempleteWindow}(Games.MWindow));Games.TempleteWindow=TempleteWindow})(Games||(Games={}));var Games;(function(Games){var VisitWindow=(function(_super){__extends(VisitWindow,_super);function VisitWindow(){var _this=_super.call(this)||this;_this.addAssetForFguiComponent(fgui.Manage.VisitUI);return _this}VisitWindow.prototype.generateAssetsForDynmic=function(){_super.prototype.generateAssetsForDynmic.call(this)};VisitWindow.prototype.onMenuCreate=function(){this.conent=fgui.Manage.VisitUI.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};VisitWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};VisitWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return VisitWindow}(Games.MWindow));Games.VisitWindow=VisitWindow})(Games||(Games={}));var Games;(function(Games){var WarWindow=(function(_super){__extends(WarWindow,_super);function WarWindow(){var _this=_super.call(this)||this;_this.warFilmSelectingSubwindow=new Games.WarFilmSelectingSubwindow(Games.WarSubwindowType.FilmSelect,_this);_this.filmInfoSubwindow=new Games.FilmInfoSubwindow(Games.WarSubwindowType.FilmInfo,_this);_this.currentMarketInfoSubwindow=new Games.CurrentMarketInfoSubwindow(Games.WarSubwindowType.CurrentMarketInf,_this);_this.selectyirenSubwindow=new Games.SelectyirenSubwindow(Games.WarSubwindowType.SelectYiren,_this);_this.costViewSubwindow=new Games.WarCostViewSubwindow(Games.WarSubwindowType.CostView,_this);_this.warFilmYRShowSubwindow=new Games.WarFilmYRShowSubwindow(Games.WarSubwindowType.YRShowView,_this);_this.warYRCompatibilitySubwindow=new Games.WarYRCompatibilitySubwindow(Games.WarSubwindowType.Compatibility,_this);_this.warSelectFilmTypeSubwindow=new Games.WarSelectFilmTypeSubwindow(Games.WarSubwindowType.SelectFilmType,_this);_this.warFilmingSubwindow=new Games.WarFilmingSubwindow(Games.WarSubwindowType.Filming,_this);_this.warSelectNoticeSubwindow=new Games.WarSelectNoticeSubwindow(Games.WarSubwindowType.SelectNotice,_this);_this.warFilmSQSubwindow=new Games.WarFilmSQSubwindow(Games.WarSubwindowType.FilmSQ,_this);_this.warYRProficiencySubwindow=new Games.WarYRProficiencySubwindow(Games.WarSubwindowType.proficiency,_this);_this.warFilmSQViewSubwindow=new Games.WarFilmSQViewSubwindow(Games.WarSubwindowType.FilmSQView,_this);_this.warCinemaSelectionSubwindow=new Games.WarCinemaSelectionSubwindow(Games.WarSubwindowType.CinemaSelection,_this);_this.warNoticeFeedBackSubwindow=new Games.WarNoticeFeedBackSubwindow(Games.WarSubwindowType.NoticeFeedBack,_this);_this.warFilmSYPFSubwindow=new Games.WarFilmSYPFSubwindow(Games.WarSubwindowType.SYPF,_this);_this.warAudienceReputationSubwindow=new Games.WarAudienceReputationSubwindow(Games.WarSubwindowType.AudienceReputation,_this);_this.warFilmShangYingSubwindow=new Games.WarFilmShangYingSubwindow(Games.WarSubwindowType.Shangying,_this);_this.warFilmOverMarketInfoSubwindow=new Games.WarFilmOverMarketInfoSubwindow(Games.WarSubwindowType.overMarket,_this);_this.warFilmJiesuanSubwindow=new Games.WarFilmJiesuanSubwindow(Games.WarSubwindowType.Jiesuan,_this);_this.warPaishequerenSubwindow=new Games.WarPaishequerenSubwindow(Games.WarSubwindowType.ShootingConfirmation,_this);_this.warEndingIncomeSubwindow=new Games.WarEndingIncomeSubwindow(Games.WarSubwindowType.EndIncome,_this);_this.warXukezhengOverSubwindow=new Games.WarXukezhengOverSubwindow(Games.WarSubwindowType.XukeOver,_this);_this.warXKHuifuSubwindow=new Games.WarXKHuifuSubwindow(Games.WarSubwindowType.XukeHuifu,_this);_this.registerSubwindow(_this.warFilmSelectingSubwindow);_this.registerSubwindow(_this.filmInfoSubwindow);_this.registerSubwindow(_this.currentMarketInfoSubwindow);_this.registerSubwindow(_this.selectyirenSubwindow);_this.registerSubwindow(_this.costViewSubwindow);_this.registerSubwindow(_this.warFilmYRShowSubwindow);_this.registerSubwindow(_this.warYRCompatibilitySubwindow);_this.registerSubwindow(_this.warSelectFilmTypeSubwindow);_this.registerSubwindow(_this.warFilmingSubwindow);_this.registerSubwindow(_this.warSelectNoticeSubwindow);_this.registerSubwindow(_this.warFilmSQSubwindow);_this.registerSubwindow(_this.warYRProficiencySubwindow);_this.registerSubwindow(_this.warFilmSQViewSubwindow);_this.registerSubwindow(_this.warCinemaSelectionSubwindow);_this.registerSubwindow(_this.warNoticeFeedBackSubwindow);_this.registerSubwindow(_this.warFilmSYPFSubwindow);_this.registerSubwindow(_this.warAudienceReputationSubwindow);_this.registerSubwindow(_this.warFilmShangYingSubwindow);_this.registerSubwindow(_this.warFilmOverMarketInfoSubwindow);_this.registerSubwindow(_this.warFilmJiesuanSubwindow);_this.registerSubwindow(_this.warPaishequerenSubwindow);_this.registerSubwindow(_this.warEndingIncomeSubwindow);_this.registerSubwindow(_this.warXukezhengOverSubwindow);_this.registerSubwindow(_this.warXKHuifuSubwindow);_this.addAssetForFguiComponent(fgui.WarMovie.WarMain);return _this}WarWindow.prototype.onMenuCreate=function(){this.conent=fgui.WarMovie.WarMain.createInstance();this.contentPane=this.conent;this.center();this.setPivot(0.5,0.5);_super.prototype.onMenuCreate.call(this)};WarWindow.prototype.onMenuOpen=function(parameter){_super.prototype.onMenuOpen.call(this,parameter)};WarWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};WarWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};Object.defineProperty(WarWindow.prototype,"selectSecondFilm",{get:function(){var item=this.warFilmSelectingSubwindow.conent.m_filmItemList.getChildAt(1);if(item.m_selectBtn.visible){return item.m_selectBtn}return null},enumerable:true,configurable:true});Object.defineProperty(WarWindow.prototype,"selectThirdFilm",{get:function(){var item=this.warFilmSelectingSubwindow.conent.m_filmItemList.getChildAt(2);if(item.m_selectBtn.visible){return item.m_selectBtn}return null},enumerable:true,configurable:true});Object.defineProperty(WarWindow.prototype,"selectActorOkBtn",{get:function(){if(this.selectyirenSubwindow.conent.m_okBtnContorl.selectedIndex===1){return this.selectyirenSubwindow.conent.m_okBtn}},enumerable:true,configurable:true});return WarWindow}(Games.MWindow));Games.WarWindow=WarWindow})(Games||(Games={}));var Games;(function(Games){var GMWindow=(function(_super){__extends(GMWindow,_super);function GMWindow(){var _this=_super.call(this)||this;_this.isloaded=false;_this.menuParameter={openType:Games.MenuOpenType.Tab,openIndex:0,args:[]};return _this}GMWindow.prototype.load=function(){fgui.GM.GMBinder.bindAll();Laya.loader.load([{url:"res/fgui/GM.bin",type:Laya.Loader.BUFFER}],Laya.Handler.create(this,this.onLoaded))};GMWindow.prototype.onLoaded=function(){Games.GuiSetting.addPackage("res/fgui/GM");this.isloaded=true;this.showOn(Games.MenuLayer.gm)};GMWindow.prototype.show=function(){if(this.isloaded){this.showOn(Games.MenuLayer.gm)}else{this.load()}};GMWindow.prototype.onMenuCreate=function(){this.conent=fgui.GM.GMMain.createInstance();this.contentPane=this.conent;this.registerTab(Games.GMMenuType.ADD,this.conent.m_addPage);this.registerTab(Games.GMMenuType.CMD,this.conent.m_cmdPage);this.registerTab(Games.GMMenuType.SELECTSERVER,this.conent.m_selectServerPage);this.registerTab(Games.GMMenuType.LOG,this.conent.m_debugPage);this.registerTab(Games.GMMenuType.DisplayTree,this.conent.m_displayTreePage);this.openTab(Games.GMMenuType.ADD);_super.prototype.onMenuCreate.call(this)};GMWindow.prototype.menuClose=function(){this.onMenuClose()};GMWindow.prototype.onOpenTab=function(tabIndex){this.conent.m_mainMenu.setSelect(tabIndex)};GMWindow.prototype.onShowComplete=function(){_super.prototype.onShowComplete.call(this)};GMWindow.prototype.onHideComplete=function(){_super.prototype.onHideComplete.call(this)};return GMWindow}(Games.MWindow));Games.GMWindow=GMWindow})(Games||(Games={}));var Games;(function(Games){var ProtoHandler=(function(_super){__extends(ProtoHandler,_super);function ProtoHandler(){return _super!==null&&_super.apply(this,arguments)||this}return ProtoHandler}(Games.ProtoBaseController));Games.ProtoHandler=ProtoHandler})(Games||(Games={}));var Games;(function(Games){var accountHandler=(function(_super){__extends(accountHandler,_super);function accountHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.account;return _this}accountHandler.prototype.auth=function(msg){User.account.account=msg.account;Game.protosender.account.Login(msg.account,msg.token)};accountHandler.prototype.login=function(msg){User.account.userId=msg.userId;Game.proto.httpChannel.userId=msg.userId;Game.proto.httpChannel.jwt=msg.jwt;if(Game.protosender.account.isRister){Game.protosender.GameData.Auth(Game.localStorage.password)}else{Game.protosender.GameData.GetLoginGameData(Game.localStorage.password,"1")}};accountHandler.prototype.refreshToken=function(msg){};return accountHandler}(Games.ProtoHandler));Games.accountHandler=accountHandler})(Games||(Games={}));var Games;(function(Games){var ProtoSender=(function(_super){__extends(ProtoSender,_super);function ProtoSender(){return _super!==null&&_super.apply(this,arguments)||this}return ProtoSender}(Games.ProtoBaseController));Games.ProtoSender=ProtoSender})(Games||(Games={}));var Games;(function(Games){var accountSender=(function(_super){__extends(accountSender,_super);function accountSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.account;_this.isRister=false;return _this}accountSender.prototype.generateGuestAccount=function(){var timestamp=new Date().getTime();var random=Math.random();var guset="#"+timestamp.toString()+"."+random.toString();return guset};accountSender.prototype.getGuestAccount=function(){if(!isNullOrEmpty(Game.localStorage.guestusername)){return Game.localStorage.guestusername}return this.generateGuestAccount()};accountSender.prototype.GuestAuth=function(){var account=this.getGuestAccount();Game.localStorage.guestusername=account;Game.localStorage.isGuest=true;var reqData=new Proto.API.account.authRequest();reqData.account=account;this.sendByCommand(reqData,"account/auth")};accountSender.prototype.Auth=function(account,password,isRister){if(isRister===void 0){isRister=false}this.isRister=isRister;if(isNullOrEmpty(account)||(account.length<6||account.length>12)){Game.system.toastMsg(MsgKey.account_name_long,6,12);return}if(isNullOrEmpty(password)||(password.length<6||password.length>12)){Game.system.toastMsg(MsgKey.account_load_long);return}var patt=/[^a-zA-Z0-9\.@_\u4e00-\u9fa5]/;if(patt.test(account)){Game.system.toastMsg(MsgKey.account_name_blockword);return}Game.localStorage.addUseraccount(Game.localStorage.username,Game.localStorage.password);Game.localStorage.username=account;Game.localStorage.password=password;Game.localStorage.isGuest=false;var reqData=new Proto.API.account.authRequest();reqData.account=account;this.sendByCommand(reqData,"account/auth")};accountSender.prototype.Login=function(account,token){var reqData=new Proto.API.account.loginRequest();reqData.account=account;reqData.token=token;this.sendByCommand(reqData,"account/login")};accountSender.prototype.auth=function(account){var req=new Proto.API.account.authRequest();req.account=account;this.send(req)};accountSender.prototype.refreshToken=function(){var req=new Proto.API.account.refreshTokenRequest();this.send(req)};return accountSender}(Games.ProtoSender));Games.accountSender=accountSender})(Games||(Games={}));var Games;(function(Games){var ActorHandler=(function(_super){__extends(ActorHandler,_super);function ActorHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Actor;return _this}ActorHandler.prototype.noseInfoActor=function(msg){};ActorHandler.prototype.RecruitActor=function(msg){if(msg.result==0){var data=Game.moduleModel.actor.getActor(msg.actorId);if(data){Game.menu.open(Games.MenuId.ArtistScoutSuccess,data,msg.isNewActor==false)}}};ActorHandler.prototype.hideActor=function(msg){};ActorHandler.prototype.AddActorSlot=function(msg){};ActorHandler.prototype.upgradeActor=function(msg){Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_3_UpgradeActor)};ActorHandler.prototype.giveActorAssets=function(msg){};ActorHandler.prototype.upgradeActorSkill=function(msg){};ActorHandler.prototype.ActorTrain=function(msg){console.log("ActorTrain Success");if(msg.result==0){Game.menu.open(Games.MenuId.ArtistTrainResult,msg.uuid,msg.attrChangeList,msg.trainType)}};ActorHandler.prototype.NoseInfoActor=function(msg){};ActorHandler.prototype.HideActor=function(msg){};ActorHandler.prototype.UpgradeActor=function(msg){};ActorHandler.prototype.GiveActorAssets=function(msg){};ActorHandler.prototype.UpgradeActorSkill=function(msg){};ActorHandler.prototype.ActorChangeName=function(msg){};ActorHandler.prototype.ActorExerciseStart=function(msg){};ActorHandler.prototype.ActorExerciseReward=function(msg){};ActorHandler.prototype.ActorExerciseAdd=function(msg){};ActorHandler.prototype.GiveLoyaltyCard=function(msg){};return ActorHandler}(Games.ProtoHandler));Games.ActorHandler=ActorHandler})(Games||(Games={}));var Games;(function(Games){var ActorSender=(function(_super){__extends(ActorSender,_super);function ActorSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Actor;return _this}ActorSender.prototype.noseInfoActor=function(isUseCard){var req=new Proto.API.Actor.NoseInfoActorRequest();req.isUseCard=isUseCard;this.send(req)};ActorSender.prototype.recruitActor=function(actorId){var req=new Proto.API.Actor.RecruitActorRequest();req.actorId=actorId;this.send(req)};ActorSender.prototype.hideActor=function(uuid,isHide){var req=new Proto.API.Actor.HideActorRequest();req.uuid=uuid;req.isHide=isHide;this.send(req)};ActorSender.prototype.addActorSlot=function(){var req=new Proto.API.Actor.AddActorSlotRequest();this.send(req)};ActorSender.prototype.upgradeActor=function(uuid){var req=new Proto.API.Actor.UpgradeActorRequest();req.uuid=uuid;this.send(req)};ActorSender.prototype.giveActorAssets=function(uuid,giveType,giveLevel,giveNum){var req=new Proto.API.Actor.GiveActorAssetsRequest();req.uuid=uuid;req.giveLevel=giveLevel;req.giveNum=giveNum;req.giveType=giveType;this.send(req)};ActorSender.prototype.upgradeActorSkill=function(uuid,skillId){var req=new Proto.API.Actor.UpgradeActorSkillRequest();req.uuid=uuid;req.skillId=skillId;this.send(req)};ActorSender.prototype.actorChangeName=function(uuid,name){var req=new Proto.API.Actor.ActorChangeNameRequest();req.uuid=uuid;req.name=name;this.send(req)};ActorSender.prototype.actorTrain=function(uuid,trainType,useDiamond){var req=new Proto.API.Actor.ActorTrainRequest();req.uuid=uuid;req.trainType=trainType;req.useDiamond=useDiamond;this.send(req)};ActorSender.prototype.NoseInfoActor=function(isUseCard){var req=new Proto.API.Actor.NoseInfoActorRequest();req.isUseCard=isUseCard;this.send(req)};ActorSender.prototype.RecruitActor=function(actorId){var req=new Proto.API.Actor.RecruitActorRequest();req.actorId=actorId;this.send(req)};ActorSender.prototype.HideActor=function(uuid,isHide){var req=new Proto.API.Actor.HideActorRequest();req.uuid=uuid;req.isHide=isHide;this.send(req)};ActorSender.prototype.AddActorSlot=function(){var req=new Proto.API.Actor.AddActorSlotRequest();this.send(req)};ActorSender.prototype.UpgradeActor=function(uuid){var req=new Proto.API.Actor.UpgradeActorRequest();req.uuid=uuid;this.send(req)};ActorSender.prototype.GiveActorAssets=function(uuid,giveType,giveLevel,giveNum){var req=new Proto.API.Actor.GiveActorAssetsRequest();req.uuid=uuid;req.giveType=giveType;req.giveLevel=giveLevel;req.giveNum=giveNum;this.send(req)};ActorSender.prototype.UpgradeActorSkill=function(uuid,skillId){var req=new Proto.API.Actor.UpgradeActorSkillRequest();req.uuid=uuid;req.skillId=skillId;this.send(req)};ActorSender.prototype.ActorTrain=function(uuid,trainType,useDiamond){var req=new Proto.API.Actor.ActorTrainRequest();req.uuid=uuid;req.trainType=trainType;req.useDiamond=useDiamond;this.send(req)};ActorSender.prototype.ActorChangeName=function(uuid,name){var req=new Proto.API.Actor.ActorChangeNameRequest();req.uuid=uuid;req.name=name;this.send(req)};ActorSender.prototype.ActorExerciseStart=function(aId,eId){var req=new Proto.API.Actor.ActorExerciseStartRequest();req.aId=aId;req.eId=eId;this.send(req)};ActorSender.prototype.ActorExerciseReward=function(eId,useMoney){var req=new Proto.API.Actor.ActorExerciseRewardRequest();req.eId=eId;req.useMoney=useMoney;this.send(req)};ActorSender.prototype.ActorExerciseAdd=function(){var req=new Proto.API.Actor.ActorExerciseAddRequest();this.send(req)};ActorSender.prototype.GiveLoyaltyCard=function(uuid,giveType,num){var req=new Proto.API.Actor.GiveLoyaltyCardRequest();req.uuid=uuid;req.giveType=giveType;req.num=num;this.send(req)};return ActorSender}(Games.ProtoSender));Games.ActorSender=ActorSender})(Games||(Games={}));var Games;(function(Games){var BeginnerGuideHandler=(function(_super){__extends(BeginnerGuideHandler,_super);function BeginnerGuideHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.BeginnerGuide;return _this}BeginnerGuideHandler.prototype.CompleteGuide=function(msg){};return BeginnerGuideHandler}(Games.ProtoHandler));Games.BeginnerGuideHandler=BeginnerGuideHandler})(Games||(Games={}));var Games;(function(Games){var BeginnerGuideSender=(function(_super){__extends(BeginnerGuideSender,_super);function BeginnerGuideSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.BeginnerGuide;return _this}BeginnerGuideSender.prototype.CompleteGuide=function(gId,type){var req=new Proto.API.BeginnerGuide.CompleteGuideRequest();req.gId=gId;req.type=type;this.send(req)};return BeginnerGuideSender}(Games.ProtoSender));Games.BeginnerGuideSender=BeginnerGuideSender})(Games||(Games={}));var Games;(function(Games){var CinemaBuildHandler=(function(_super){__extends(CinemaBuildHandler,_super);function CinemaBuildHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.CinemaBuild;return _this}CinemaBuildHandler.prototype.ExtendFloor=function(resData){console.log("["+this.moduleName+"] ExtendFloor Response "+resData+" ");if(resData.result==0){Game.moduleModel.building.floorIndex=resData.floor}};CinemaBuildHandler.prototype.BuildRoom=function(resData){console.log("["+this.moduleName+"] BuildRoom Response "+resData+" ");if(resData.result==0){var proto=new Proto.SS.RoomInfo();proto.floor=resData.floor;proto.roomId=resData.roomId;var roomInfo=Games.RoomInfo.creatInfo(proto);Game.moduleModel.building.addRoomInfo(roomInfo)}};CinemaBuildHandler.prototype.UpgradeRoom=function(resData){console.log("["+this.moduleName+"]  UpgradeRoom Response "+resData+" ");if(resData.result==0){Game.moduleModel.building.upgradeRoom(resData.preRoomId,resData.roomId)}};return CinemaBuildHandler}(Games.ProtoHandler));Games.CinemaBuildHandler=CinemaBuildHandler})(Games||(Games={}));var Games;(function(Games){var CinemaBuildSender=(function(_super){__extends(CinemaBuildSender,_super);function CinemaBuildSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.CinemaBuild;return _this}CinemaBuildSender.prototype.ExtendFloor=function(floor){var reqData=new Proto.API.CinemaBuild.ExtendFloorRequest();reqData.floor=floor;this.send(reqData);console.log("ExtendFloor -> "+floor)};CinemaBuildSender.prototype.BuildRoom=function(floor,roomType){var reqData=new Proto.API.CinemaBuild.BuildRoomRequest();reqData.floor=floor;reqData.roomType=roomType;this.send(reqData)};CinemaBuildSender.prototype.UpgradeRoom=function(roomId){var reqData=new Proto.API.CinemaBuild.UpgradeRoomRequest();reqData.roomId=roomId;this.send(reqData)};return CinemaBuildSender}(Games.ProtoSender));Games.CinemaBuildSender=CinemaBuildSender})(Games||(Games={}));var Games;(function(Games){var cityHandler=(function(_super){__extends(cityHandler,_super);function cityHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.city;_this.sSetAmbassador=new Signal();_this.sHoldCity=new Signal();return _this}cityHandler.prototype.SetPropagandaActor=function(resData){};cityHandler.prototype.Propaganda=function(resData){Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_5_StreetPublicize)};cityHandler.prototype.Roadshow=function(resData){Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_6_RoadShow)};cityHandler.prototype.SetAmbassador=function(resData){this.sSetAmbassador.dispatch();Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_12_AppointActor)};cityHandler.prototype.GetReward=function(resData){Game.moduleModel.market.IsGetCityReward=true};cityHandler.prototype.HoldCity=function(resData){this.sHoldCity.dispatch();Game.moduleModel.task.clientUpdateMainTaskProgress(Games.MainTaskRequireType.RequireType_7_CityFinish)};return cityHandler}(Games.ProtoHandler));Games.cityHandler=cityHandler})(Games||(Games={}));var Games;(function(Games){var citySender=(function(_super){__extends(citySender,_super);function citySender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.city;return _this}citySender.prototype.SetPropagandaActor=function(uuid,cityId,areaId,actorId){uuid="";var reqData=new Proto.API.city.SetPropagandaActorRequest();reqData.uuid=uuid;reqData.cityId=cityId;reqData.areaId=areaId;reqData.actorId=actorId;this.send(reqData)};citySender.prototype.Propaganda=function(uuid,cityId,areaId){uuid="";var reqData=new Proto.API.city.PropagandaRequest();reqData.uuid=uuid;reqData.cityId=cityId;reqData.areaId=areaId;this.send(reqData)};citySender.prototype.Roadshow=function(uuid,cityId,areaId){uuid="";var reqData=new Proto.API.city.RoadshowRequest();reqData.uuid=uuid;reqData.cityId=cityId;reqData.areaId=areaId;this.send(reqData)};citySender.prototype.SetAmbassador=function(uuid,cityId,psition,actuuid){var reqData=new Proto.API.city.SetAmbassadorRequest();reqData.uuid=uuid;reqData.cityId=cityId;reqData.psition=psition;reqData.actuuid=actuuid;this.send(reqData)};citySender.prototype.GetReward=function(uuid,cityId){var reqData=new Proto.API.city.GetRewardRequest();reqData.uuid=uuid;reqData.cityId=cityId;this.send(reqData)};citySender.prototype.HoldCity=function(uuid){if(uuid===void 0){uuid=""}var reqData=new Proto.API.city.HoldCityRequest();reqData.uuid=uuid;this.send(reqData)};return citySender}(Games.ProtoSender));Games.citySender=citySender})(Games||(Games={}));var Games;(function(Games){var ClientGMHandler=(function(_super){__extends(ClientGMHandler,_super);function ClientGMHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.ClientGM;return _this}ClientGMHandler.prototype.gmTest=function(msg){};ClientGMHandler.prototype.gmUpdateOscar=function(msg){};return ClientGMHandler}(Games.ProtoHandler));Games.ClientGMHandler=ClientGMHandler})(Games||(Games={}));var Games;(function(Games){var ClientGMSender=(function(_super){__extends(ClientGMSender,_super);function ClientGMSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.ClientGM;return _this}ClientGMSender.prototype.gmTest=function(){var req=new Proto.API.ClientGM.gmTestRequest();this.send(req)};ClientGMSender.prototype.gmUpdateOscar=function(){Game.protosender.rank.GetOscarData()};return ClientGMSender}(Games.ProtoSender));Games.ClientGMSender=ClientGMSender})(Games||(Games={}));var Games;(function(Games){var cooperateHandler=(function(_super){__extends(cooperateHandler,_super);function cooperateHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.cooperate;return _this}cooperateHandler.prototype.Apply=function(msg){Game.moduleModel.cooperation.Apply(msg)};cooperateHandler.prototype.Relieve=function(msg){Game.moduleModel.cooperation.Relieve(msg)};cooperateHandler.prototype.Approve=function(msg){Game.moduleModel.cooperation.Approve(msg)};cooperateHandler.prototype.GetInfo=function(msg){Game.moduleModel.cooperation.GetInfo(msg)};cooperateHandler.prototype.TaskOperate=function(msg){Game.moduleModel.cooperation.TaskOperate(msg)};cooperateHandler.prototype.GetTaskReward=function(msg){Game.moduleModel.cooperation.GetTaskReward(msg)};cooperateHandler.prototype.GiveReward=function(msg){Game.moduleModel.cooperation.GiveReward(msg)};cooperateHandler.prototype.GetProgressTask=function(msg){Game.moduleModel.cooperation.GetProgressTask(msg)};cooperateHandler.prototype.CancelCooperate=function(msg){Game.moduleModel.cooperation.CancelCooperate(msg)};cooperateHandler.prototype.ReadCooperate=function(msg){};return cooperateHandler}(Games.ProtoHandler));Games.cooperateHandler=cooperateHandler})(Games||(Games={}));var Games;(function(Games){var cooperateSender=(function(_super){__extends(cooperateSender,_super);function cooperateSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.cooperate;return _this}cooperateSender.prototype.Apply=function(entityId){var req=new Proto.API.cooperate.ApplyRequest();req.entityId=entityId;this.send(req)};cooperateSender.prototype.Relieve=function(){var req=new Proto.API.cooperate.RelieveRequest();this.send(req)};cooperateSender.prototype.Approve=function(type,entityId){var req=new Proto.API.cooperate.ApproveRequest();req.type=type;req.entityId=entityId;this.send(req)};cooperateSender.prototype.GetInfo=function(){var req=new Proto.API.cooperate.GetInfoRequest();this.send(req)};cooperateSender.prototype.TaskOperate=function(type,taskId,star){var req=new Proto.API.cooperate.TaskOperateRequest();req.type=type;req.taskId=taskId;req.star=star;this.send(req)};cooperateSender.prototype.GetTaskReward=function(taskId,star){var req=new Proto.API.cooperate.GetTaskRewardRequest();req.taskId=taskId;req.star=star;this.send(req)};cooperateSender.prototype.GiveReward=function(itemId){var req=new Proto.API.cooperate.GiveRewardRequest();req.itemId=itemId;this.send(req)};cooperateSender.prototype.GetProgressTask=function(index){var req=new Proto.API.cooperate.GetProgressTaskRequest();req.index=index;this.send(req)};cooperateSender.prototype.CancelCooperate=function(){var req=new Proto.API.cooperate.CancelCooperateRequest();this.send(req)};cooperateSender.prototype.ReadCooperate=function(){var req=new Proto.API.cooperate.ReadCooperateRequest();this.send(req)};return cooperateSender}(Games.ProtoSender));Games.cooperateSender=cooperateSender})(Games||(Games={}));var Games;(function(Games){var dailySignHandler=(function(_super){__extends(dailySignHandler,_super);function dailySignHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.dailySign;return _this}dailySignHandler.prototype.sign=function(msg){Game.moduleModel.activity.handlerSign(msg)};return dailySignHandler}(Games.ProtoHandler));Games.dailySignHandler=dailySignHandler})(Games||(Games={}));var Games;(function(Games){var dailySignSender=(function(_super){__extends(dailySignSender,_super);function dailySignSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.dailySign;return _this}dailySignSender.prototype.sign=function(){var req=new Proto.API.dailySign.signRequest();this.send(req)};return dailySignSender}(Games.ProtoSender));Games.dailySignSender=dailySignSender})(Games||(Games={}));var Games;(function(Games){var DanmuHandler=(function(_super){__extends(DanmuHandler,_super);function DanmuHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Danmu;return _this}DanmuHandler.prototype.set=function(msg){};DanmuHandler.prototype.get=function(msg){Game.moduleModel.oscar.UpdateDanmu(msg)};return DanmuHandler}(Games.ProtoHandler));Games.DanmuHandler=DanmuHandler})(Games||(Games={}));var Games;(function(Games){var DanmuSender=(function(_super){__extends(DanmuSender,_super);function DanmuSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Danmu;return _this}DanmuSender.prototype.set=function(id,msg){var req=new Proto.API.Danmu.setRequest();req.id=id;req.msg=msg;this.send(req)};DanmuSender.prototype.get=function(id,time){var req=new Proto.API.Danmu.getRequest();req.id=id;req.time=time;this.send(req)};return DanmuSender}(Games.ProtoSender));Games.DanmuSender=DanmuSender})(Games||(Games={}));var Games;(function(Games){var GameDataHandler=(function(_super){__extends(GameDataHandler,_super);function GameDataHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.GameData;return _this}GameDataHandler.prototype.InitGameData=function(resData){};GameDataHandler.prototype.GetInitActor=function(resData){};GameDataHandler.prototype.Auth=function(msg){if(msg.result!=0){Game.system.toastMsg(MsgKey.account_load_again);return}Game.protosender.GameData.GetLoginGameData(Game.localStorage.password,"1")};GameDataHandler.prototype.GetLoginGameData=function(resData){Game.moduleModel.notice.UpdateNoticeMsg(resData.noticeList)};GameDataHandler.prototype.RenameGameData=function(resData){};GameDataHandler.prototype.RePerSignatureGameData=function(resData){};GameDataHandler.prototype.RePortraitGameData=function(resData){};GameDataHandler.prototype.GetInitGameData=function(msg){};GameDataHandler.prototype.GetGameInfoExt=function(msg){};GameDataHandler.prototype.GetNoticeList=function(msg){Game.moduleModel.notice.UpdateNoticeMsg(msg.noticeList)};return GameDataHandler}(Games.ProtoHandler));Games.GameDataHandler=GameDataHandler})(Games||(Games={}));var Games;(function(Games){var GameDataSender=(function(_super){__extends(GameDataSender,_super);function GameDataSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.GameData;return _this}GameDataSender.prototype.InitGameData=function(name,sex){Game.proto.httpChannel.http.isInitGameData=true;var reqData=new Proto.API.GameData.InitGameDataRequest();reqData.name=name;reqData.sex=sex;this.send(reqData)};GameDataSender.prototype.GetInitActor=function(initialActorId){var reqData=new Proto.API.GameData.GetInitActorRequest();reqData.index=initialActorId;this.send(reqData)};GameDataSender.prototype.Auth=function(pass){var req=new Proto.API.GameData.AuthRequest();req.pass=pass;this.send(req)};GameDataSender.prototype.GetLoginGameData=function(pass,channel){if(channel===void 0){channel="1"}var reqData=new Proto.API.GameData.GetLoginGameDataRequest();reqData.channel=channel;reqData.pass=pass;this.send(reqData)};GameDataSender.prototype.GetGameInfoExt=function(){var reqData=new Proto.API.GameData.GetGameInfoExtRequest();this.send(reqData)};GameDataSender.prototype.RenameGameData=function(playerName){var reqData=new Proto.API.GameData.RenameGameDataRequest();reqData.playerName=playerName;this.send(reqData)};GameDataSender.prototype.RePerSignatureGameData=function(perSignature){var reqData=new Proto.API.GameData.RePerSignatureGameDataRequest();reqData.perSignature=perSignature;this.send(reqData)};GameDataSender.prototype.RePortraitGameData=function(type,portraitId){var reqData=new Proto.API.GameData.RePortraitGameDataRequest();reqData.type=type;reqData.portraitId=portraitId;this.send(reqData)};GameDataSender.prototype.GetInitGameData=function(nameList){var req=new Proto.API.GameData.GetInitGameDataRequest();req.nameList=nameList;this.send(req)};GameDataSender.prototype.GetNoticeList=function(){var req=new Proto.API.GameData.GetNoticeListRequest();this.send(req)};return GameDataSender}(Games.ProtoSender));Games.GameDataSender=GameDataSender})(Games||(Games={}));var Games;(function(Games){var GiftHandler=(function(_super){__extends(GiftHandler,_super);function GiftHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Gift;return _this}GiftHandler.prototype.Exchange=function(msg){Game.moduleModel.setting.handlerExchange(msg)};return GiftHandler}(Games.ProtoHandler));Games.GiftHandler=GiftHandler})(Games||(Games={}));var Games;(function(Games){var GiftSender=(function(_super){__extends(GiftSender,_super);function GiftSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Gift;return _this}GiftSender.prototype.Exchange=function(id){var req=new Proto.API.Gift.ExchangeRequest();req.id=id;this.send(req)};return GiftSender}(Games.ProtoSender));Games.GiftSender=GiftSender})(Games||(Games={}));var Games;(function(Games){var itemHandler=(function(_super){__extends(itemHandler,_super);function itemHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.item;return _this}itemHandler.prototype.SellOut=function(resData){};itemHandler.prototype.Compound=function(resData){};itemHandler.prototype.Split=function(resData){};itemHandler.prototype.Use=function(resData){var dropList=resData.dropout;if(dropList&&dropList.length>0){var list=Games.ItemData.BinningItemList(dropList);Game.system.getItemText(list)}};itemHandler.prototype.CompoundActor=function(resData){};itemHandler.prototype.UseActorSkillWater=function(msg){};return itemHandler}(Games.ProtoHandler));Games.itemHandler=itemHandler})(Games||(Games={}));var Games;(function(Games){var itemSender=(function(_super){__extends(itemSender,_super);function itemSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.item;return _this}itemSender.prototype.SellOut=function(uuid,itemId,amount){var reqData=new Proto.API.item.SellOutRequest();reqData.uuid=uuid;reqData.itemId=itemId;reqData.amount=amount;this.send(reqData)};itemSender.prototype.Compound=function(uuid,itemId,amount){var reqData=new Proto.API.item.CompoundRequest();reqData.uuid=uuid;reqData.itemId=itemId;reqData.amount=amount;this.send(reqData)};itemSender.prototype.Split=function(uuid,itemId,amount){var reqData=new Proto.API.item.SplitRequest();reqData.uuid=uuid;reqData.itemId=itemId;reqData.amount=amount;this.send(reqData)};itemSender.prototype.Use=function(uuid,itemId,amount){var reqData=new Proto.API.item.UseRequest();reqData.uuid=uuid;reqData.itemId=itemId;reqData.amount=amount;this.send(reqData)};itemSender.prototype.CompoundActor=function(uuid,itemId){var reqData=new Proto.API.item.CompoundActorRequest();reqData.uuid=uuid;reqData.itemId=itemId;this.send(reqData)};itemSender.prototype.UseActorSkillWater=function(uuid,actorId,amount){var req=new Proto.API.item.UseActorSkillWaterRequest();req.uuid=uuid;req.actorId=actorId;req.amount=amount;this.send(req)};return itemSender}(Games.ProtoSender));Games.itemSender=itemSender})(Games||(Games={}));var Games;(function(Games){var LicenceHandler=(function(_super){__extends(LicenceHandler,_super);function LicenceHandler(){return _super!==null&&_super.apply(this,arguments)||this}return LicenceHandler}(Games.ProtoHandler));Games.LicenceHandler=LicenceHandler})(Games||(Games={}));var Games;(function(Games){var LicenceSender=(function(_super){__extends(LicenceSender,_super);function LicenceSender(){return _super!==null&&_super.apply(this,arguments)||this}return LicenceSender}(Games.ProtoHandler));Games.LicenceSender=LicenceSender})(Games||(Games={}));var Games;(function(Games){var MailHandler=(function(_super){__extends(MailHandler,_super);function MailHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Mail;return _this}MailHandler.prototype.MailGetReward=function(msg){if(msg.dropout&&msg.dropout.length>0){Game.system.getItemText(msg.dropout,null,null)}};MailHandler.prototype.MailDelete=function(msg){};MailHandler.prototype.MailRead=function(msg){};MailHandler.prototype.MailGetRewardMany=function(msg){if(msg.dropout&&msg.dropout.length>0){Game.system.getItemText(msg.dropout,null,null)}};MailHandler.prototype.MailDeleteMany=function(msg){};return MailHandler}(Games.ProtoHandler));Games.MailHandler=MailHandler})(Games||(Games={}));var Games;(function(Games){var MailSender=(function(_super){__extends(MailSender,_super);function MailSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.Mail;return _this}MailSender.prototype.MailGetReward=function(uuid){var reqData=new Proto.API.Mail.MailGetRewardRequest();reqData.uuid=uuid;this.send(reqData)};MailSender.prototype.MailDelete=function(uuid){var reqData=new Proto.API.Mail.MailDeleteRequest();reqData.uuid=uuid;this.send(reqData,false,false)};MailSender.prototype.MailRead=function(uuid){var reqData=new Proto.API.Mail.MailReadRequest();reqData.uuid=uuid;this.send(reqData,false,false)};MailSender.prototype.MailGetRewardMany=function(uuid){var req=new Proto.API.Mail.MailGetRewardManyRequest();req.uuid=uuid;this.send(req)};MailSender.prototype.MailDeleteMany=function(uuid){var req=new Proto.API.Mail.MailDeleteManyRequest();req.uuid=uuid;this.send(req)};return MailSender}(Games.ProtoSender));Games.MailSender=MailSender})(Games||(Games={}));var Games;(function(Games){var mallHandler=(function(_super){__extends(mallHandler,_super);function mallHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.mall;return _this}mallHandler.prototype.buy=function(msg){};return mallHandler}(Games.ProtoHandler));Games.mallHandler=mallHandler})(Games||(Games={}));var Games;(function(Games){var mallSender=(function(_super){__extends(mallSender,_super);function mallSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.mall;return _this}mallSender.prototype.buy=function(goodsId,amount,itemId){var req=new Proto.API.mall.buyRequest();req.goodsId=goodsId;req.amount=amount;this.send(req,true)};return mallSender}(Games.ProtoSender));Games.mallSender=mallSender})(Games||(Games={}));var Games;(function(Games){var manageBusinessHandler=(function(_super){__extends(manageBusinessHandler,_super);function manageBusinessHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageBusiness;return _this}manageBusinessHandler.prototype.GetReward=function(msg){if(Game.moduleModel.business.rewardId>0){var config=Game.config.business.getConfig(Game.moduleModel.business.rewardId);if(config){var otherItem=new DTItemNum();otherItem.itemId=EItemId.expect;otherItem.itemNum=config.expect;var items=config.reward.concat();items.push(otherItem);Game.system.playEffects(items)}}};return manageBusinessHandler}(Games.ProtoHandler));Games.manageBusinessHandler=manageBusinessHandler})(Games||(Games={}));var Games;(function(Games){var manageBusinessSender=(function(_super){__extends(manageBusinessSender,_super);function manageBusinessSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageBusiness;return _this}manageBusinessSender.prototype.GetReward=function(){var req=new Proto.API.manageBusiness.GetRewardRequest();this.send(req)};return manageBusinessSender}(Games.ProtoSender));Games.manageBusinessSender=manageBusinessSender})(Games||(Games={}));var Games;(function(Games){var manageMeetingHandler=(function(_super){__extends(manageMeetingHandler,_super);function manageMeetingHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageMeeting;return _this}manageMeetingHandler.prototype.GetReward=function(msg){Game.moduleModel.meeting.meetingCompanyName="";Game.moduleModel.meeting.companyDelegateAvatarId=0;Game.menu.close(Games.MenuId.Meeting);var rewardItems=Game.moduleModel.meeting.rewardItems;function next(){var data=Game.moduleModel.meeting.getMeetingData();if(data){var num=data.nextMeetingNum;if(num>0){Game.system.confirmText(format(Games.TEXT.MeetingNext,Game.moduleModel.meeting.meetingCompanyName),Games.TEXT.MeetingNextMeet,null,function(){var unlock=Games.MenuValidateUnlock.getInstance().validate(Games.MenuId.Meeting);if(!unlock){Game.system.toastText(Games.TEXT.Lock);return}var enableOpen=Games.MenuValidateEnableOpen.getInstance().validate(Games.MenuId.Meeting);if(enableOpen){Game.menu.open(Games.MenuId.Meeting,Games.MeetingPanelType.AskPirce)}})}}}if(msg.type==0){if(rewardItems){Game.system.alertTextIcon(rewardItems,Games.TEXT.MeetingRewardTitle,function(){next()})}else{next()}}else{next()}};manageMeetingHandler.prototype.Markup=function(msg){};return manageMeetingHandler}(Games.ProtoHandler));Games.manageMeetingHandler=manageMeetingHandler})(Games||(Games={}));var Games;(function(Games){var manageMeetingSender=(function(_super){__extends(manageMeetingSender,_super);function manageMeetingSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageMeeting;return _this}manageMeetingSender.prototype.GetReward=function(type){var req=new Proto.API.manageMeeting.GetRewardRequest();req.type=type;this.send(req)};manageMeetingSender.prototype.Markup=function(type){var req=new Proto.API.manageMeeting.MarkupRequest();req.type=type;this.send(req)};return manageMeetingSender}(Games.ProtoSender));Games.manageMeetingSender=manageMeetingSender})(Games||(Games={}));var Games;(function(Games){var manageOrderHandler=(function(_super){__extends(manageOrderHandler,_super);function manageOrderHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageOrder;return _this}manageOrderHandler.prototype.PutItem=function(msg){if(msg.type==1){Game.system.getItemText([msg.itemInfo])}};manageOrderHandler.prototype.DelOrder=function(msg){};manageOrderHandler.prototype.FinishOrder=function(msg){if(isNullOrEmpty(msg.uuid)==false){var data=Game.moduleModel.order.getDeleteDataByUUid(msg.uuid);if(data){Game.system.playEffects(data.rewardItems);Game.sound.playSound(SoundKey.MM09_GoldReward);Game.system.getItemText(data.rewardItems)}}};manageOrderHandler.prototype.DealOrder=function(msg){};return manageOrderHandler}(Games.ProtoHandler));Games.manageOrderHandler=manageOrderHandler})(Games||(Games={}));var Games;(function(Games){var manageOrderSender=(function(_super){__extends(manageOrderSender,_super);function manageOrderSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageOrder;return _this}manageOrderSender.prototype.PutItem=function(uuid,entityId,itemId,type,responseRequired,limitTime){if(limitTime===void 0){limitTime=true}var req=new Proto.API.manageOrder.PutItemRequest();req.uuid=uuid;req.itemId=itemId;req.type=type;req.entityId=entityId;this.send(req,responseRequired,limitTime)};manageOrderSender.prototype.DelOrder=function(uuid){var req=new Proto.API.manageOrder.DelOrderRequest();req.uuid=uuid;this.send(req)};manageOrderSender.prototype.FinishOrder=function(uuid){var req=new Proto.API.manageOrder.FinishOrderRequest();req.uuid=uuid;this.send(req)};manageOrderSender.prototype.DealOrder=function(){var req=new Proto.API.manageOrder.DealOrderRequest();this.send(req)};return manageOrderSender}(Games.ProtoSender));Games.manageOrderSender=manageOrderSender})(Games||(Games={}));var Games;(function(Games){var manageProduceHandler=(function(_super){__extends(manageProduceHandler,_super);function manageProduceHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageProduce;return _this}manageProduceHandler.prototype.Produce=function(resData){console.log("["+this.moduleName+"] Produce "+resData+" ")};manageProduceHandler.prototype.GetReward=function(resData){console.log("["+this.moduleName+"] GetReward  "+resData+" ")};manageProduceHandler.prototype.Uplevel=function(resData){console.log("["+this.moduleName+"] Uplevel "+resData+" ")};manageProduceHandler.prototype.SendActor=function(resData){console.log("["+this.moduleName+"] SendActor  "+resData+" ")};manageProduceHandler.prototype.Deblocking=function(resData){console.log("["+this.moduleName+"] Deblocking  "+resData+" ")};manageProduceHandler.prototype.QuickGetReward=function(resData){console.log("["+this.moduleName+"] QuickGetReward  "+resData+" ")};manageProduceHandler.prototype.QuickProduce=function(resData){console.log("["+this.moduleName+"] QuickProduce  "+resData+" ")};manageProduceHandler.prototype.cleanTime=function(resData){console.log("["+this.moduleName+"] cleanTime  "+resData+" ")};return manageProduceHandler}(Games.ProtoHandler));Games.manageProduceHandler=manageProduceHandler})(Games||(Games={}));var Games;(function(Games){var manageProduceSender=(function(_super){__extends(manageProduceSender,_super);function manageProduceSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageProduce;return _this}manageProduceSender.prototype.Produce=function(produceId){var reqData=new Proto.API.manageProduce.ProduceRequest();var uuid=Game.moduleModel.produce.getProduceUuid(produceId);reqData.uuid=uuid;this.send(reqData)};manageProduceSender.prototype.GetReward=function(produceId){var reqData=new Proto.API.manageProduce.GetRewardRequest();var uuid=Game.moduleModel.produce.getProduceUuid(produceId);reqData.uuid=uuid;this.send(reqData)};manageProduceSender.prototype.Uplevel=function(produceId,produceSkillId){var reqData=new Proto.API.manageProduce.UplevelRequest();var uuid=Game.moduleModel.produce.getProduceUuid(produceId);reqData.uuid=uuid;reqData.skillId=produceSkillId;this.send(reqData)};manageProduceSender.prototype.SendActor=function(produceId,actorId){var reqData=new Proto.API.manageProduce.SendActorRequest();var uuid=Game.moduleModel.produce.getProduceUuid(produceId);reqData.uuid=uuid;reqData.actBaseId=actorId;this.send(reqData)};manageProduceSender.prototype.Deblocking=function(produceId){var reqData=new Proto.API.manageProduce.DeblockingRequest();reqData.produceId=produceId;this.send(reqData)};manageProduceSender.prototype.QuickGetReward=function(stall){var reqData=new Proto.API.manageProduce.QuickGetRewardRequest();reqData.stall=stall;this.send(reqData)};manageProduceSender.prototype.QuickProduce=function(stall){var reqData=new Proto.API.manageProduce.QuickProduceRequest();reqData.stall=stall;this.send(reqData)};manageProduceSender.prototype.cleanTime=function(produceId){var reqData=new Proto.API.manageProduce.cleanTimeRequest();var uuid=Game.moduleModel.produce.getProduceUuid(produceId);reqData.uuid=uuid;this.send(reqData)};return manageProduceSender}(Games.ProtoSender));Games.manageProduceSender=manageProduceSender})(Games||(Games={}));var Games;(function(Games){var manageVisitHandler=(function(_super){__extends(manageVisitHandler,_super);function manageVisitHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageVisit;return _this}manageVisitHandler.prototype.StartVisit=function(msg){if(Game.moduleModel.secretary.isAutoVisit){Game.menu.close(Games.MenuId.Fans);var data=Game.moduleModel.visit.getVisitData();if(data.actorId>0){Games.AvatarManager.autoActorToReception(data.actorId)}}};manageVisitHandler.prototype.GetReward=function(msg){Game.moduleModel.visit.isReward=true;if(Game.moduleModel.visit.rewardVisitId>0){var config=Game.config.visit.getConfig(Game.moduleModel.visit.rewardVisitId);if(config){var otherItem=new DTItemNum();otherItem.itemId=EItemId.expect;otherItem.itemNum=config.expect;var items_1=config.reward.concat();items_1.push(otherItem);var isAuto_1=Game.moduleModel.secretary.isAutoVisit;Game.system.getItemText(items_1,function(){Game.system.playEffects(items_1);var data=Game.moduleModel.visit.getVisitData();var fansnnum=data.nextFansNum;if(fansnnum>0){if(Game.moduleModel.secretary.isTempSecretary&&Game.moduleModel.secretary.autoVisitNum<=0&&Game.moduleModel.secretary.realAutoVisit){isAuto_1=false;Game.moduleModel.secretary.isAutoVisit=false;Game.system.confirmText(Game.config.msg.getTxtFormat(MsgKey.secretary_experience,Game.config.msg.getTxt(MsgKey.secretary_auto2)),Games.TEXT.SecretaryForeverAgent,null,function(){Game.menu.open(Games.MenuId.Weal,1)},function(){Game.system.confirmText(format(Games.TEXT.VisitNextVisitActor,fansnnum),Games.TEXT.VisitNextFans,null,function(){var enableOpen=Games.MenuValidateEnableOpen.getInstance().validate(Games.MenuId.Fans);if(enableOpen){Game.menu.open(Games.MenuId.Fans)}})},Game.config.msg.getTxt(MsgKey.go_to_hire),Games.TEXT.ButtonCannel,false)}else{if(isAuto_1){Game.system.toastText(Games.TEXT.ActorAutoVisit);if(Game.moduleModel.actor.hasCanVisitActor){Game.protosender.manageVisit.StartVisit()}else{Game.system.toastMsg(MsgKey.visit_noone)}}else{Game.system.confirmText(format(Games.TEXT.VisitNextVisitActor,fansnnum),Games.TEXT.VisitNextFans,null,function(){var enableOpen=Games.MenuValidateEnableOpen.getInstance().validate(Games.MenuId.Fans);if(enableOpen){Game.menu.open(Games.MenuId.Fans)}})}}}},isAuto_1)}}};return manageVisitHandler}(Games.ProtoHandler));Games.manageVisitHandler=manageVisitHandler})(Games||(Games={}));var Games;(function(Games){var manageVisitSender=(function(_super){__extends(manageVisitSender,_super);function manageVisitSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.manageVisit;return _this}manageVisitSender.prototype.StartVisit=function(){var req=new Proto.API.manageVisit.StartVisitRequest();this.send(req)};manageVisitSender.prototype.GetReward=function(){var req=new Proto.API.manageVisit.GetRewardRequest();this.send(req)};return manageVisitSender}(Games.ProtoSender));Games.manageVisitSender=manageVisitSender})(Games||(Games={}));var Games;(function(Games){var movieHandler=(function(_super){__extends(movieHandler,_super);function movieHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.movie;return _this}movieHandler.prototype.MakeFilm=function(msg){Game.moduleModel.warData.handlerMakeFilm()};movieHandler.prototype.SetMovieName=function(msg){Game.moduleModel.warData.handleReName()};movieHandler.prototype.SetActor=function(msg){Game.moduleModel.warData.HandleSetActor(msg)};movieHandler.prototype.ConfirmSetActor=function(msg){Game.moduleModel.warData.HandleConfirmSetActor(msg)};movieHandler.prototype.ChoseType=function(msg){Game.moduleModel.warData.HandleSetSelectType(msg)};movieHandler.prototype.PublishMovie=function(msg){Game.moduleModel.warData.PublishMovie(msg)};movieHandler.prototype.BattleOver=function(msg){Game.moduleModel.warData.HandlersetBattleOver(msg)};movieHandler.prototype.AcceptMediaVisit=function(msg){Game.moduleModel.warData.handleAcceptMediaVisit(msg)};movieHandler.prototype.UpdateMovieState=function(msg){Game.moduleModel.warData.handleUpdateMovieState()};movieHandler.prototype.GetRewardMovie=function(msg){Game.moduleModel.warData.handlerGetRewardMovie(msg)};movieHandler.prototype.DeleteMovie=function(msg){Game.moduleModel.warData.handlerDeleteMovie(msg)};movieHandler.prototype.GetStoryGoals=function(msg){Game.moduleModel.warData.handlerGetStoryGoals()};movieHandler.prototype.SpreadMovie=function(msg){Game.moduleModel.warData.handlerSpreadMovie()};movieHandler.prototype.SwitchCity=function(msg){Game.moduleModel.warData.handlerSwitchCity()};return movieHandler}(Games.ProtoHandler));Games.movieHandler=movieHandler})(Games||(Games={}));var Games;(function(Games){var movie=Proto.API.movie;var movieSender=(function(_super){__extends(movieSender,_super);function movieSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.movie;return _this}movieSender.prototype.MakeFilm=function(){var reqData=new movie.MakeFilmRequest();this.sendByCommand(reqData,"movie/MakeFilm")};movieSender.prototype.SetMovieName=function(newName){var reqData=new movie.SetMovieNameRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.index=Game.moduleModel.warData.filmIndexOf;reqData.name=newName;this.sendByCommand(reqData,"movie/SetMovieName")};movieSender.prototype.SetActor=function(index,actorId){var reqData=new movie.SetActorRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.index=index;reqData.actorId=actorId;this.sendByCommand(reqData,"movie/SetActor")};movieSender.prototype.ConfirmSetActor=function(){var reqData=new movie.ConfirmSetActorRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;this.sendByCommand(reqData,"movie/ConfirmSetActor")};movieSender.prototype.ChoseType=function(type){var reqData=new movie.ChoseTypeRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.type=type;this.sendByCommand(reqData,"movie/ChoseType")};movieSender.prototype.PublishMovie=function(theaterId){var reqData=new movie.PublishMovieRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.theaterId=theaterId;this.sendByCommand(reqData,"movie/PublishMovie")};movieSender.prototype.BattleOver=function(){var reqData=new movie.BattleOverRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;this.sendByCommand(reqData,"movie/BattleOver")};movieSender.prototype.AcceptMediaVisit=function(mediaId){var reqData=new movie.AcceptMediaVisitRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.mediaId=mediaId;this.sendByCommand(reqData,"movie/AcceptMediaVisit")};movieSender.prototype.UpdateMovieState=function(state){var reqData=new movie.UpdateMovieStateRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;reqData.state=state;this.sendByCommand(reqData,"movie/UpdateMovieState")};movieSender.prototype.GetRewardMovie=function(uuid){var reqData=new movie.GetRewardMovieRequest();reqData.uuid=uuid;this.sendByCommand(reqData,"movie/GetRewardMovie")};movieSender.prototype.GetStoryGoals=function(){var reqData=new movie.GetStoryGoalsRequest();reqData.uuid=Game.moduleModel.warData.moveData.uuid;this.sendByCommand(reqData,"movie/GetStoryGoals")};movieSender.prototype.DeleteMovie=function(uuid){var reqData=new movie.DeleteMovieRequest();reqData.uuid=uuid;this.sendByCommand(reqData,"movie/DeleteMovie")};movieSender.prototype.SpreadMovie=function(uuid){var req=new Proto.API.movie.SpreadMovieRequest();req.uuid=uuid;this.send(req)};movieSender.prototype.SwitchCity=function(uuid,cityId){var req=new Proto.API.movie.SwitchCityRequest();req.uuid=uuid;req.cityId=cityId;this.send(req)};return movieSender}(Games.ProtoSender));Games.movieSender=movieSender})(Games||(Games={}));var Games;(function(Games){var progressBoxHandler=(function(_super){__extends(progressBoxHandler,_super);function progressBoxHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.progressBox;return _this}progressBoxHandler.prototype.GetReward=function(msg){if(msg){var data=Game.moduleModel.progressBox.getProgressBoxDataByUUid(msg.uuid);if(data){var config=Game.config.complete.getConfig(data.id*1000+msg.gear);if(config){Game.system.alertTextIcon(config.reward,Games.TEXT.OrderRewardTitle)}}}};return progressBoxHandler}(Games.ProtoHandler));Games.progressBoxHandler=progressBoxHandler})(Games||(Games={}));var Games;(function(Games){var progressBoxSender=(function(_super){__extends(progressBoxSender,_super);function progressBoxSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.progressBox;return _this}progressBoxSender.prototype.GetReward=function(uuid,gear){var req=new Proto.API.progressBox.GetRewardRequest();req.uuid=uuid;req.gear=gear;this.send(req)};return progressBoxSender}(Games.ProtoSender));Games.progressBoxSender=progressBoxSender})(Games||(Games={}));var Games;(function(Games){var rankHandler=(function(_super){__extends(rankHandler,_super);function rankHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.rank;return _this}rankHandler.prototype.GetOscarData=function(msg){};rankHandler.prototype.GetOscarReward=function(msg){var dropList=msg.dropout;if(dropList&&dropList.length>0){Game.system.getItemText(dropList,function(){for(var index=0;index<dropList.length;index++){var item=dropList[index];if(Game.config.item.getType(item.itemId)==14){Game.moduleModel.street.UpdateStreetCup(item.amount)}}})}};rankHandler.prototype.ChoseTheater=function(msg){};rankHandler.prototype.GetStreetReward=function(msg){var dropList=msg.dropout;var list=[];for(var index=0;index<dropList.length;index++){var element=dropList[index];var item=new DTItemNum();item.itemId=element.itemId;item.itemNum=element.amount;list.push(item)}Game.system.getRewardText(list)};rankHandler.prototype.GetSelfList=function(msg){Game.moduleModel.rank.UpdateSelfList(msg.data)};rankHandler.prototype.GetServerRankList=function(msg){Game.moduleModel.rank.UpdateServerRankList(msg)};rankHandler.prototype.GetGroupRankList=function(msg){Game.moduleModel.rank.UpdateGroupRankList(msg)};rankHandler.prototype.GetGroupMovieRankList=function(msg){Game.moduleModel.rank.UpdateGroupMovieRankList(msg)};rankHandler.prototype.GetMovieShortData=function(msg){Game.moduleModel.rank.UpdateMovieShortData(msg.data)};rankHandler.prototype.GetPlayerShortData=function(msg){Game.moduleModel.rank.UpdatePlayerShortData(msg.data);Game.moduleModel.cooperation.sReqOtherInf.dispatch(msg)};rankHandler.prototype.GetServerListReward=function(msg){var dropList=msg.dropout;var list=[];for(var index=0;index<dropList.length;index++){var element=dropList[index];var item=new DTItemNum();item.itemId=element.itemId;item.itemNum=element.amount;list.push(item)}Game.system.getRewardText(list)};rankHandler.prototype.ChangeServerName=function(msg){};return rankHandler}(Games.ProtoHandler));Games.rankHandler=rankHandler})(Games||(Games={}));var Games;(function(Games){var rankSender=(function(_super){__extends(rankSender,_super);function rankSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.rank;return _this}rankSender.prototype.GetSelfList=function(){var req=new Proto.API.rank.GetSelfListRequest();this.send(req)};rankSender.prototype.GetServerRankList=function(){var req=new Proto.API.rank.GetServerRankListRequest();this.send(req)};rankSender.prototype.GetGroupRankList=function(){var req=new Proto.API.rank.GetGroupRankListRequest();this.send(req)};rankSender.prototype.GetGroupMovieRankList=function(){var req=new Proto.API.rank.GetGroupMovieRankListRequest();this.send(req)};rankSender.prototype.GetMovieShortData=function(uuid){var req=new Proto.API.rank.GetMovieShortDataRequest();req.uuid=uuid;this.send(req)};rankSender.prototype.GetPlayerShortData=function(userId){var req=new Proto.API.rank.GetPlayerShortDataRequest();req.userId=userId;this.send(req)};rankSender.prototype.GetServerListReward=function(uuid){var req=new Proto.API.rank.GetServerListRewardRequest();req.uuid=uuid;this.send(req)};rankSender.prototype.ChangeServerName=function(uuid,name){var req=new Proto.API.rank.ChangeServerNameRequest();req.uuid=uuid;req.name=name;this.send(req)};rankSender.prototype.GetOscarData=function(){var req=new Proto.API.rank.GetOscarDataRequest();this.send(req)};rankSender.prototype.GetOscarReward=function(type){var req=new Proto.API.rank.GetOscarRewardRequest();req.type=type;this.send(req)};rankSender.prototype.ChoseTheater=function(theaterId){var req=new Proto.API.rank.ChoseTheaterRequest();req.theaterId=theaterId;this.send(req)};rankSender.prototype.GetStreetReward=function(type){var req=new Proto.API.rank.GetStreetRewardRequest();req.type=type;this.send(req)};return rankSender}(Games.ProtoSender));Games.rankSender=rankSender})(Games||(Games={}));var Games;(function(Games){var secretaryHandler=(function(_super){__extends(secretaryHandler,_super);function secretaryHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.secretary;return _this}secretaryHandler.prototype.GetDailyReward=function(msg){var config=Game.config.secretaryGift.getConfig(1001);if(config){Game.system.getItemText(config.items)}};secretaryHandler.prototype.OpenSecretary=function(msg){};secretaryHandler.prototype.ApplyMovieLicence=function(msg){};secretaryHandler.prototype.RewardMovieLicence=function(msg){};return secretaryHandler}(Games.ProtoHandler));Games.secretaryHandler=secretaryHandler})(Games||(Games={}));var Games;(function(Games){var secretarySender=(function(_super){__extends(secretarySender,_super);function secretarySender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.secretary;return _this}secretarySender.prototype.GetDailyReward=function(){var req=new Proto.API.secretary.GetDailyRewardRequest();this.send(req)};secretarySender.prototype.OpenSecretary=function(key,type){var req=new Proto.API.secretary.OpenSecretaryRequest();req.key=key;req.type=type;this.send(req)};secretarySender.prototype.ApplyMovieLicence=function(){var req=new Proto.API.secretary.ApplyMovieLicenceRequest();this.send(req)};secretarySender.prototype.RewardMovieLicence=function(){var req=new Proto.API.secretary.RewardMovieLicenceRequest();this.send(req)};return secretarySender}(Games.ProtoSender));Games.secretarySender=secretarySender})(Games||(Games={}));var Games;(function(Games){var sevenAddUpHandler=(function(_super){__extends(sevenAddUpHandler,_super);function sevenAddUpHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.sevenAddUp;return _this}sevenAddUpHandler.prototype.GetReward=function(msg){Game.moduleModel.activity.handlerSevenGet(msg)};sevenAddUpHandler.prototype.Touch=function(msg){};return sevenAddUpHandler}(Games.ProtoHandler));Games.sevenAddUpHandler=sevenAddUpHandler})(Games||(Games={}));var Games;(function(Games){var sevenAddUpSender=(function(_super){__extends(sevenAddUpSender,_super);function sevenAddUpSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.sevenAddUp;return _this}sevenAddUpSender.prototype.GetReward=function(uuid,gear){var req=new Proto.API.sevenAddUp.GetRewardRequest();req.uuid=uuid;req.gear=gear;this.send(req)};sevenAddUpSender.prototype.Touch=function(){var req=new Proto.API.sevenAddUp.TouchRequest();this.send(req)};return sevenAddUpSender}(Games.ProtoSender));Games.sevenAddUpSender=sevenAddUpSender})(Games||(Games={}));var Games;(function(Games){var storyHandler=(function(_super){__extends(storyHandler,_super);function storyHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.story;return _this}storyHandler.prototype.findStory=function(msg){};storyHandler.prototype.cleanFindStory=function(msg){if(msg.result==0){Game.system.toastMsg(MsgKey.story_cd_success)}};storyHandler.prototype.getReward=function(msg){if(msg.result==0){var config=Game.config.storyStackSort.getConfig(msg.storySuitId);if(config){var items=config.rewards;Game.system.alertTextIcon(items,Games.TEXT.StoryRewardTitle)}}};storyHandler.prototype.GetMessage=function(msg){};storyHandler.prototype.SetMessage=function(msg){};return storyHandler}(Games.ProtoHandler));Games.storyHandler=storyHandler})(Games||(Games={}));var Games;(function(Games){var storySender=(function(_super){__extends(storySender,_super);function storySender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.story;return _this}storySender.prototype.findStory=function(){var req=new Proto.API.story.findStoryRequest();this.send(req)};storySender.prototype.cleanFindStory=function(){var req=new Proto.API.story.cleanFindStoryRequest();this.send(req)};storySender.prototype.getReward=function(storySuitId){var req=new Proto.API.story.getRewardRequest();req.storySuitId=storySuitId;this.send(req)};storySender.prototype.getMessage=function(storyId){var req=new Proto.API.story.GetMessageRequest();req.stroyId=storyId;this.send(req)};storySender.prototype.setMessage=function(storyId,content){var req=new Proto.API.story.SetMessageRequest();req.stroyId=storyId;req.content=content;this.send(req)};storySender.prototype.GetMessage=function(stroyId){var req=new Proto.API.story.GetMessageRequest();req.stroyId=stroyId;this.send(req)};storySender.prototype.SetMessage=function(stroyId,content){var req=new Proto.API.story.SetMessageRequest();req.stroyId=stroyId;req.content=content;this.send(req)};return storySender}(Games.ProtoSender));Games.storySender=storySender})(Games||(Games={}));var Games;(function(Games){var taskHandler=(function(_super){__extends(taskHandler,_super);function taskHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.task;return _this}taskHandler.prototype.reward=function(msg){if(msg&&msg.dropout){Game.system.alertTextIconByProtoItems(msg.dropout,Games.TEXT.OrderRewardTitle,null,function(){var addFans=0;for(var index=0;index<msg.dropout.length;index++){var reward=msg.dropout[index];if(reward.itemId==5){addFans=reward.amount}}if(addFans>0){Game.system.addFansText(addFans,null,Games.TEXT.MainTaskAddFansTip,3)}})}};return taskHandler}(Games.ProtoHandler));Games.taskHandler=taskHandler})(Games||(Games={}));var Games;(function(Games){var taskSender=(function(_super){__extends(taskSender,_super);function taskSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.task;return _this}taskSender.prototype.reward=function(tId){var req=new Proto.API.task.rewardRequest();req.tId=tId;this.send(req)};return taskSender}(Games.ProtoSender));Games.taskSender=taskSender})(Games||(Games={}));var Games;(function(Games){var testHandler=(function(_super){__extends(testHandler,_super);function testHandler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.test;return _this}testHandler.prototype.AddItem=function(msg){};testHandler.prototype.AddFans=function(msg){};testHandler.prototype.AddExpect=function(msg){};testHandler.prototype.DeleteMovie=function(msg){};testHandler.prototype.AddStory=function(msg){};testHandler.prototype.AddActorSkillExp=function(msg){};testHandler.prototype.debug=function(msg){};testHandler.prototype.AddStoryProgress=function(msg){};testHandler.prototype.AddGift=function(msg){};testHandler.prototype.SetBlockLevel=function(msg){};testHandler.prototype.AddDailyTaskProgress=function(msg){};testHandler.prototype.RefreshTime=function(msg){};testHandler.prototype.addTaskProgress=function(msg){};testHandler.prototype.UpdateOscar=function(msg){};testHandler.prototype.PutOrderItems=function(msg){};testHandler.prototype.setAllStoryGold=function(msg){};testHandler.prototype.SetSecretaryStatus=function(msg){};testHandler.prototype.CleanSecretaryTimes=function(msg){};testHandler.prototype.GetRechargeGift=function(msg){};testHandler.prototype.GetAutoCooperate=function(msg){};testHandler.prototype.LockAllProduce=function(msg){};testHandler.prototype.GotoCity=function(msg){};testHandler.prototype.AddStarStory=function(msg){};testHandler.prototype.GotoCityBefore=function(msg){};testHandler.prototype.FinishGuide=function(msg){};return testHandler}(Games.ProtoHandler));Games.testHandler=testHandler})(Games||(Games={}));var Games;(function(Games){var testSender=(function(_super){__extends(testSender,_super);function testSender(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleName=Games.ProtoModuleNames.test;return _this}testSender.prototype.AddItem=function(itemId,amount){var reqData=new Proto.API.test.AddItemRequest();reqData.itemId=itemId;reqData.amount=amount;this.send(reqData);if(Game.config.item.getType(itemId)==14){Game.moduleModel.street.UpdateStreetCup(amount)}};testSender.prototype.BuildRoom=function(floor,roomType){var reqData=new Proto.API.CinemaBuild.BuildRoomRequest();reqData.floor=floor;reqData.roomType=roomType;this.send(reqData)};testSender.prototype.UpgradeRoom=function(roomId){var reqData=new Proto.API.CinemaBuild.UpgradeRoomRequest();reqData.roomId=roomId;this.send(reqData)};testSender.prototype.AddFans=function(amount){var reqData=new Proto.API.test.AddFansRequest();reqData.amount=amount;this.send(reqData)};testSender.prototype.AddSkillExp=function(actorId,amount){var reqData=new Proto.API.test.AddActorSkillExpRequest();reqData.amount=amount;reqData.actorId=actorId;this.send(reqData)};testSender.prototype.AddExpect=function(amount){var req=new Proto.API.test.AddExpectRequest();req.amount=amount;this.send(req)};testSender.prototype.DeleteMovie=function(uuid){var req=new Proto.API.test.DeleteMovieRequest();req.uuid=uuid;this.send(req)};testSender.prototype.AddStory=function(storyId){var req=new Proto.API.test.AddStoryRequest();req.storyId=storyId;this.send(req)};testSender.prototype.AddActorSkillExp=function(actorId,amount){var req=new Proto.API.test.AddActorSkillExpRequest();req.actorId=actorId;req.amount=amount;this.send(req)};testSender.prototype.debug=function(num){var req=new Proto.API.test.debugRequest();req.num=num;this.send(req)};testSender.prototype.AddStoryProgress=function(index){var req=new Proto.API.test.AddStoryProgressRequest();req.index=index;this.send(req)};testSender.prototype.AddGift=function(giftUuid,giftId,targetId,startTime,endTime,total){var req=new Proto.API.test.AddGiftRequest();req.giftUuid=giftUuid;req.giftId=giftId;req.targetId=targetId;req.startTime=startTime;req.endTime=endTime;req.total=total;this.send(req)};testSender.prototype.SetBlockLevel=function(level){var req=new Proto.API.test.SetBlockLevelRequest();req.level=level;this.send(req)};testSender.prototype.RefreshTime=function(type){var req=new Proto.API.test.RefreshTimeRequest();req.type=type;this.send(req)};testSender.prototype.addStory=function(id){var req=new Proto.API.test.AddStoryRequest();req.storyId=id;this.send(req)};testSender.prototype.UpdateOscar=function(){var req=new Proto.API.test.UpdateOscarRequest();this.send(req)};testSender.prototype.PutOrderItems=function(uuid){var req=new Proto.API.test.PutOrderItemsRequest();req.uuid=uuid;this.send(req)};testSender.prototype.setAllStoryGold=function(){var req=new Proto.API.test.setAllStoryGoldRequest();this.send(req)};testSender.prototype.SetSecretaryStatus=function(status){var req=new Proto.API.test.SetSecretaryStatusRequest();req.status=status;this.send(req)};testSender.prototype.CleanSecretaryTimes=function(){var req=new Proto.API.test.CleanSecretaryTimesRequest();this.send(req)};testSender.prototype.GetRechargeGift=function(){var req=new Proto.API.test.GetRechargeGiftRequest();this.send(req)};testSender.prototype.GetAutoCooperate=function(){var req=new Proto.API.test.GetAutoCooperateRequest();this.send(req)};testSender.prototype.LockAllProduce=function(){var req=new Proto.API.test.LockAllProduceRequest();this.send(req)};testSender.prototype.GotoCity=function(id){var req=new Proto.API.test.GotoCityRequest();req.id=id;this.send(req)};testSender.prototype.AddStarStory=function(starId,amount){var req=new Proto.API.test.AddStarStoryRequest();req.starId=starId;req.amount=amount;this.send(req)};testSender.prototype.GotoCityBefore=function(id){var req=new Proto.API.test.GotoCityBeforeRequest();req.id=id;this.send(req)};testSender.prototype.FinishGuide=function(){var req=new Proto.API.test.FinishGuideRequest();this.send(req)};return testSender}(Games.ProtoSender));Games.testSender=testSender})(Games||(Games={}));var Proto;(function(Proto){var SS;(function(SS){var DBBase=(function(){function DBBase(){}return DBBase}());SS.DBBase=DBBase;var DBObject=(function(_super){__extends(DBObject,_super);function DBObject(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.uuid="";return _this}return DBObject}(DBBase));SS.DBObject=DBObject;var ShardDBObject=(function(_super){__extends(ShardDBObject,_super);function ShardDBObject(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.uuid="";_this.entityId=0;return _this}return ShardDBObject}(DBBase));SS.ShardDBObject=ShardDBObject;var UsrData=(function(_super){__extends(UsrData,_super);function UsrData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.usrName="";_this.channel="";_this.registerTime=0;_this.registerIP="";_this.lastLoginTime=0;_this.lastLoginIP="";_this.usrState=0;_this.usrRemark="";_this.usrFreezeTime=0;return _this}return UsrData}(ShardDBObject));SS.UsrData=UsrData;var RoomInfo=(function(){function RoomInfo(){this.roomId=0;this.floor=0}return RoomInfo}());SS.RoomInfo=RoomInfo;var GameInfo=(function(_super){__extends(GameInfo,_super);function GameInfo(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.name="";_this.portrait=0;_this.sex=0;_this.level=0;_this.fans=0;_this.cup=0;_this.stall=0;_this.vipLevel=0;_this.vipExp=0;_this.extendFloor=0;_this.buildRoomInfo=null;_this.maxActor=0;_this.maxHideActor=0;_this.noseIntoNum=0;_this.noseIntoTime=0;_this.resetNoseIntoTime=0;_this.noseIntoActorEffectTime=0;_this.noseIntoActorList=null;_this.expected=0;_this.daysCultivateCount=0;_this.resetDaysCultivateCountTime=0;_this.dailyTaskUpdateTime=0;_this.achievementTaskUpdateTime=0;_this.mallLimitDailyUpdateTime=0;_this.mallLimitWeeklyUpdateTime=0;_this.findStoryTime=0;_this.lastTimeFindStory=0;_this.lastResetTime=0;_this.theaterIds=null;_this.lastGetStreetRewardTimt=0;_this.lastSendGroupRankListTime=0;_this.lastSendGroupMovieRankListTime=0;_this.sendGroupRankListTimes=0;_this.initActorId=0;return _this}return GameInfo}(ShardDBObject));SS.GameInfo=GameInfo;var GameInfoExt=(function(_super){__extends(GameInfoExt,_super);function GameInfoExt(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.perSignature="";_this.totalFilm=0;_this.numBoxOffice=0;_this.numOrders=0;_this.numProductionLine=0;_this.numOfficialBusiness=0;_this.numMeeting=0;_this.numVisit=0;_this.numGroupBest=0;_this.numBestArtDirection=0;_this.numBestPerformer=0;_this.numBestPublicPraise=0;_this.numGoldenOliveAward=0;_this.bestWordOfMouth=0;_this.bestWordOfMouthFilm="";_this.bestBoxOffice=0;_this.bestBoxOfficeFilm="";_this.numNarrativeFilm=0;_this.numActionFilm=0;_this.numAffectionalFilm=0;_this.numCartoonFilm=0;_this.numComedyFilm=0;_this.numMusicalFilm=0;_this.numHorrorFilm=0;_this.numSuspense=0;_this.portraitList=null;return _this}return GameInfoExt}(ShardDBObject));SS.GameInfoExt=GameInfoExt;var ItemDesc=(function(){function ItemDesc(){this.itemId=0;this.amount=0}return ItemDesc}());SS.ItemDesc=ItemDesc;var GMMsgLog=(function(_super){__extends(GMMsgLog,_super);function GMMsgLog(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.messageId=0;_this.publishTypeCode=0;_this.receiveCount=0;_this.receiveTime=0;return _this}return GMMsgLog}(ShardDBObject));SS.GMMsgLog=GMMsgLog;var OrderData=(function(_super){__extends(OrderData,_super);function OrderData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.orderId=0;_this.outerOrderId="";_this.productId="";_this.productNum=0;_this.createTime=0;_this.paymentTime=0;_this.handleCount=0;return _this}return OrderData}(ShardDBObject));SS.OrderData=OrderData;var Notice=(function(){function Notice(){this.title="";this.content="";this.messageDetailUrl="";this.itemList=null}return Notice}());SS.Notice=Notice;var MailDesc=(function(){function MailDesc(){this.title="";this.content="";this.itemList=null;this.createTime=0;this.IsRewardGot=false;this.isNew=false}return MailDesc}());SS.MailDesc=MailDesc;var ItemData=(function(_super){__extends(ItemData,_super);function ItemData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.itemId=0;_this.amount=0;_this.createTime=0;return _this}return ItemData}(ShardDBObject));SS.ItemData=ItemData;var StorySuitData=(function(_super){__extends(StorySuitData,_super);function StorySuitData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.storySuitId=0;_this.progress=0;_this.progress2=0;_this.status=0;return _this}return StorySuitData}(ShardDBObject));SS.StorySuitData=StorySuitData;var StoryData=(function(_super){__extends(StoryData,_super);function StoryData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.storyId=0;_this.storyProgressInfo=null;_this.status=0;_this.progress=0;_this.maxScore=0;_this.shootLastTime=0;return _this}return StoryData}(ShardDBObject));SS.StoryData=StoryData;var StoryProgress=(function(){function StoryProgress(){this.id=0;this.progress=0;this.status=0}return StoryProgress}());SS.StoryProgress=StoryProgress;var Assets=(function(){function Assets(){this.giveType=0;this.giveLevel=0;this.giveItemList=null;this.extraGiveACLimit=0}return Assets}());SS.Assets=Assets;var shootInfo=(function(){function shootInfo(){this.type=0;this.proficiencyExp=0;this.proficiencyLevel=0}return shootInfo}());SS.shootInfo=shootInfo;var skillTriggerCondition=(function(){function skillTriggerCondition(){this.type=0;this.value=0}return skillTriggerCondition}());SS.skillTriggerCondition=skillTriggerCondition;var skillInfo=(function(){function skillInfo(){this.skillId=0;this.isEffect=false;this.triggerCondition=null}return skillInfo}());SS.skillInfo=skillInfo;var ActorData=(function(_super){__extends(ActorData,_super);function ActorData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.actorId=0;_this.name="";_this.hide=false;_this.level=0;_this.levelExp=0;_this.payCheck=0;_this.stamina=0;_this.staminaLimit=0;_this.LoyaltyExp=0;_this.LoyaltyLevel=0;_this.cultivateCount=0;_this.cultivateCountLimit=0;_this.giveAssetsCount=0;_this.giveAssetsCountLimit=0;_this.giveAssetsList=null;_this.skillExp=0;_this.skillList=null;_this.shootTypeList=null;_this.spectacle=0;_this.perform=0;_this.plot=0;_this.art=0;_this.boxOfficeCount=0;_this.cupCount=0;_this.movieCount=0;_this.entertainment=0;_this.produceId=0;return _this}return ActorData}(ShardDBObject));SS.ActorData=ActorData;var CityData=(function(_super){__extends(CityData,_super);function CityData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.lastCity=0;_this.headquarters=0;_this.ambassador=null;_this.maxGold=0;_this.maxFans=0;_this.speedGold=0;_this.speedFans=0;_this.lastGold=0;_this.lastFans=0;_this.lastDropTimestamp=0;_this.lastTime=0;_this.dropList=null;_this.lastArea=0;_this.lastAreaProgress=0;_this.propagandaActor=0;_this.roadShowFlag=false;return _this}return CityData}(ShardDBObject));SS.CityData=CityData;var skillEffectInfo=(function(){function skillEffectInfo(){this.actId=0;this.value=0}return skillEffectInfo}());SS.skillEffectInfo=skillEffectInfo;var ActorSkillEffect=(function(_super){__extends(ActorSkillEffect,_super);function ActorSkillEffect(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.getGoldSpeed=0;_this.productionEarnings=0;_this.actorPaycheck=null;_this.boxOfficeEarnings=null;_this.cityGetGoldTime=0;_this.upgradeGoldCost=null;_this.shootTotalAttrIncrease=null;return _this}return ActorSkillEffect}(ShardDBObject));SS.ActorSkillEffect=ActorSkillEffect;var TempData=(function(_super){__extends(TempData,_super);function TempData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.lastResetTime=0;return _this}return TempData}(ShardDBObject));SS.TempData=TempData;var MovieData=(function(_super){__extends(MovieData,_super);function MovieData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.movieId=0;_this.name="";_this.state=0;_this.data=null;_this.movieCost=null;_this.expected=null;_this.battleData=null;_this.battleDataEx=null;_this.type=0;_this.actorShootType=null;_this.isTired=false;_this.isGetStoryGoals=false;_this.mediaVisit=null;_this.mExpected=0;_this.mediaCommend=0;_this.mediaCommendArr=null;_this.praise=0;_this.premiereBoxOffice=0;_this.extBoxOffice=0;_this.publicPraise=0;_this.runDays=null;_this.totalBoxOffice=0;_this.totalMovieCost=0;_this.evaluationCon=0;_this.attribute=null;_this.maxAttribute=null;_this.avrAttribute=null;_this.dropCount=0;_this.boxOfficeEvaluation=0;_this.extendCity=0;_this.attentionValue=0;_this.attentionProgress=0;_this.dropItemList=null;_this.contineTransceiver=0;_this.startTime=0;_this.lastTime=0;return _this}return MovieData}(ShardDBObject));SS.MovieData=MovieData;var BattleData=(function(){function BattleData(){this.actorId=0;this.propertyId=0;this.value=0}return BattleData}());SS.BattleData=BattleData;var CityGainsInfo=(function(){function CityGainsInfo(){this.itemId=0;this.speed=0;this.limit=0;this.baseNum=0}return CityGainsInfo}());SS.CityGainsInfo=CityGainsInfo;var MediaVisitDesc=(function(){function MediaVisitDesc(){this.mediaId=0;this.level=0;this.bAccept=false}return MediaVisitDesc}());SS.MediaVisitDesc=MediaVisitDesc;var ManageOrderData=(function(_super){__extends(ManageOrderData,_super);function ManageOrderData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.orderId=0;_this.items=null;_this.position=0;_this.lastTime=0;_this.delFlag=false;return _this}return ManageOrderData}(ShardDBObject));SS.ManageOrderData=ManageOrderData;var OrderItems=(function(){function OrderItems(){this.itemId=0;this.amount=0;this.portrait=0}return OrderItems}());SS.OrderItems=OrderItems;var ProgressBoxData=(function(_super){__extends(ProgressBoxData,_super);function ProgressBoxData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.moduleId=0;_this.progress=0;_this.staus=0;_this.lastTime=0;return _this}return ProgressBoxData}(ShardDBObject));SS.ProgressBoxData=ProgressBoxData;var ManageProduceData=(function(_super){__extends(ManageProduceData,_super);function ManageProduceData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.produceId=0;_this.hadNum=0;_this.actId=0;_this.level=0;_this.skills=null;_this.randomNums=null;_this.produceNum=0;_this.lastTime=0;_this.hadProduceTimes=0;return _this}return ManageProduceData}(ShardDBObject));SS.ManageProduceData=ManageProduceData;var SkillLevel=(function(){function SkillLevel(){this.skillId=0;this.level=0}return SkillLevel}());SS.SkillLevel=SkillLevel;var AttrChangeInfo=(function(){function AttrChangeInfo(){this.attrId=0;this.value=0}return AttrChangeInfo}());SS.AttrChangeInfo=AttrChangeInfo;var MovieLicenceResetTimeData=(function(_super){__extends(MovieLicenceResetTimeData,_super);function MovieLicenceResetTimeData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.lastResetTime=0;_this.dailyCount=0;_this.lastUpdateTime=0;_this.cd=0;return _this}return MovieLicenceResetTimeData}(ShardDBObject));SS.MovieLicenceResetTimeData=MovieLicenceResetTimeData;var ManageBusinessData=(function(_super){__extends(ManageBusinessData,_super);function ManageBusinessData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.businessId=0;_this.dailyCount=0;_this.lineLimit=0;_this.lastUpdateTime=0;_this.lastResetTime=0;return _this}return ManageBusinessData}(ShardDBObject));SS.ManageBusinessData=ManageBusinessData;var ManageVisitData=(function(_super){__extends(ManageVisitData,_super);function ManageVisitData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.visitId=0;_this.actId=0;_this.startTime=0;_this.lastTime=0;_this.lineLimit=0;_this.intervalTime=0;return _this}return ManageVisitData}(ShardDBObject));SS.ManageVisitData=ManageVisitData;var StoryMessageDesc=(function(){function StoryMessageDesc(){this.name="";this.userId=0;this.portrait=0;this.sex=0;this.level=0;this.timestamp=0;this.message=""}return StoryMessageDesc}());SS.StoryMessageDesc=StoryMessageDesc;var StoryMessage=(function(_super){__extends(StoryMessage,_super);function StoryMessage(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.storyId=0;_this.message=null;return _this}return StoryMessage}(DBObject));SS.StoryMessage=StoryMessage;var ActorShortDesc=(function(){function ActorShortDesc(){this.actorId=0;this.name=""}return ActorShortDesc}());SS.ActorShortDesc=ActorShortDesc;var MovieShortData=(function(){function MovieShortData(){this.userId=0;this.uuid="";this.movieId=0;this.name="";this.data=null;this.type=0;this.totalBoxOffice=0;this.boxOfficeEvaluation=0;this.mediaCommend=0;this.publicPraise=0}return MovieShortData}());SS.MovieShortData=MovieShortData;var BestMovieDesc=(function(){function BestMovieDesc(){this.movieUuid="";this.movieId=0;this.name="";this.totalBoxOffice=0}return BestMovieDesc}());SS.BestMovieDesc=BestMovieDesc;var PlayerShortData=(function(){function PlayerShortData(){this.userId=0;this.portrait=0;this.sex=0;this.name="";this.level=0;this.blockLevel=0;this.perSignature="";this.city=0;this.numActor=0;this.numBuilding=0;this.boxOfficeEvaluation=null;this.dailyBestMovie="";this.bestMovie=null}return PlayerShortData}());SS.PlayerShortData=PlayerShortData;var ServerListDesc=(function(){function ServerListDesc(){this.portrait=0;this.sex=0;this.name="";this.userId=0;this.movieUuid="";this.movieId=0;this.movieName="";this.totalBoxOffice=0}return ServerListDesc}());SS.ServerListDesc=ServerListDesc;var GroupListDesc=(function(){function GroupListDesc(){this.portrait=0;this.sex=0;this.name="";this.userId=0;this.totalBoxOffice=0}return GroupListDesc}());SS.GroupListDesc=GroupListDesc;var GroupMovieListDesc=(function(){function GroupMovieListDesc(){this.name="";this.movieUuid="";this.movieId=0;this.movieName="";this.userId=0;this.totalBoxOffice=0}return GroupMovieListDesc}());SS.GroupMovieListDesc=GroupMovieListDesc;var SelfRankListDesc=(function(){function SelfRankListDesc(){this.MainRank=0;this.groupList=0;this.serverName=""}return SelfRankListDesc}());SS.SelfRankListDesc=SelfRankListDesc;var RankListData=(function(_super){__extends(RankListData,_super);function RankListData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.entityId=0;_this.serverId=0;_this.serverUuid="";_this.groupId=0;_this.lastGroupId=0;_this.lastRank=0;_this.lastWeakRank=0;_this.propaganda_department=0;_this.isGetLastReward=false;_this.isChangeServerName=false;_this.big_sell=0;_this.totalBoxOffice=0;_this.totalBoxOfficeRank=0;_this.historyBestTotalBoxOffice=0;_this.historyBestTotalBoxOfficeRank=0;_this.historyBestTotalBexOfficeBlockLevel=0;_this.historyBestTotalBexOfficeTotal=0;_this.historyIsNew=false;_this.movies=0;_this.bestBoxOffice=0;_this.bestBoxOfficeName="";_this.bestBoxOfficeRank=0;_this.rewardFlags=null;_this.isNew=false;return _this}return RankListData}(DBObject));SS.RankListData=RankListData;var TaskData=(function(_super){__extends(TaskData,_super);function TaskData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.cid=0;_this.type=0;_this.progress=0;_this.state=0;return _this}return TaskData}(ShardDBObject));SS.TaskData=TaskData;var MallItemLimitData=(function(_super){__extends(MallItemLimitData,_super);function MallItemLimitData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.id=0;_this.type=0;_this.amount=0;return _this}return MallItemLimitData}(ShardDBObject));SS.MallItemLimitData=MallItemLimitData;var MailData=(function(_super){__extends(MailData,_super);function MailData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.title="";_this.content="";_this.itemList=null;_this.createTime=0;_this.IsRewardGot=false;_this.isNew=false;return _this}return MailData}(ShardDBObject));SS.MailData=MailData;var ManageMeetingData=(function(_super){__extends(ManageMeetingData,_super);function ManageMeetingData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.meetID=0;_this.randResult=0;_this.lastTime=0;_this.lineLimit=0;_this.intervalTime=0;return _this}return ManageMeetingData}(ShardDBObject));SS.ManageMeetingData=ManageMeetingData;var DanmuItem=(function(){function DanmuItem(){this.id=0;this.name="";this.time=0;this.msg=""}return DanmuItem}());SS.DanmuItem=DanmuItem;var DanmuData=(function(_super){__extends(DanmuData,_super);function DanmuData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.data=null;return _this}return DanmuData}(DBObject));SS.DanmuData=DanmuData;var DailySign=(function(_super){__extends(DailySign,_super);function DailySign(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.count=0;_this.updateTime=0;return _this}return DailySign}(ShardDBObject));SS.DailySign=DailySign;var SecretaryData=(function(_super){__extends(SecretaryData,_super);function SecretaryData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.secretaryType=0;_this.timeList=null;_this.lastTime=0;_this.applyFrequency=0;_this.applyLastTime=0;_this.isApply=false;return _this}return SecretaryData}(ShardDBObject));SS.SecretaryData=SecretaryData;var SecretaryKeyValue=(function(){function SecretaryKeyValue(){this.key=0;this.value=0;this.isOpen=false}return SecretaryKeyValue}());SS.SecretaryKeyValue=SecretaryKeyValue;var SevenAddUpData=(function(_super){__extends(SevenAddUpData,_super);function SevenAddUpData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.progress=0;_this.staus=0;_this.lastTime=0;return _this}return SevenAddUpData}(ShardDBObject));SS.SevenAddUpData=SevenAddUpData;var ActortExerciseData=(function(_super){__extends(ActortExerciseData,_super);function ActortExerciseData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.index=0;_this.actorUuid="";_this.startTime=0;return _this}return ActortExerciseData}(ShardDBObject));SS.ActortExerciseData=ActortExerciseData;var OscarDesc=(function(){function OscarDesc(){this.id=0;this.name="";this.playerName="";this.userId=0}return OscarDesc}());SS.OscarDesc=OscarDesc;var OscarData=(function(){function OscarData(){this.man=null;this.woman=null;this.perform=null;this.art=null;this.publicPraise=null;this.bestMan=0;this.bestWoman=0;this.bestPerform=0;this.bestArt=0;this.bestPublicPraise=0;this.blockLevel=0}return OscarData}());SS.OscarData=OscarData;var PlayerOscarData=(function(){function PlayerOscarData(){this.big_sell=0;this.movies=0}return PlayerOscarData}());SS.PlayerOscarData=PlayerOscarData;var DailyEventItem=(function(){function DailyEventItem(){this.time=0;this.uuid="";this.name=""}return DailyEventItem}());SS.DailyEventItem=DailyEventItem;var DailyEvent=(function(_super){__extends(DailyEvent,_super);function DailyEvent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.data=null;return _this}return DailyEvent}(ShardDBObject));SS.DailyEvent=DailyEvent;var GuideData=(function(_super){__extends(GuideData,_super);function GuideData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.guide=null;_this.story=null;return _this}return GuideData}(ShardDBObject));SS.GuideData=GuideData;var PlayerCooperateData=(function(_super){__extends(PlayerCooperateData,_super);function PlayerCooperateData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.lastReqTime=0;_this.lastAutoReqTime=0;return _this}return PlayerCooperateData}(ShardDBObject));SS.PlayerCooperateData=PlayerCooperateData;var AccountCooperateData=(function(_super){__extends(AccountCooperateData,_super);function AccountCooperateData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.friendEntityId="";_this.appList=null;_this.weekTimes=0;_this.lastWeek=0;_this.firstCooperate=false;_this.firstACooperate=false;_this.giveGoldTime=0;_this.giveDollarTime=0;_this.lastTimeGive=0;_this.isCaptain=false;_this.isRead=false;return _this}return AccountCooperateData}(DBObject));SS.AccountCooperateData=AccountCooperateData;var ApplyInfo=(function(){function ApplyInfo(){this.entityId="";this.lastTime=0}return ApplyInfo}());SS.ApplyInfo=ApplyInfo;var AutoCooperateData=(function(_super){__extends(AutoCooperateData,_super);function AutoCooperateData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.applyEntityId="";_this.lastTime=0;return _this}return AutoCooperateData}(DBObject));SS.AutoCooperateData=AutoCooperateData;var CooperateTaskData=(function(_super){__extends(CooperateTaskData,_super);function CooperateTaskData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.tasks=null;_this.currentStar=0;_this.progree=0;_this.captainRewardStatus=0;_this.rewardStatus=0;_this.lastTime=0;return _this}return CooperateTaskData}(DBObject));SS.CooperateTaskData=CooperateTaskData;var Ctask=(function(){function Ctask(){this.star=0;this.progree=0;this.starTasks=null}return Ctask}());SS.Ctask=Ctask;var StarTask=(function(){function StarTask(){this.taskid=0;this.taskType=0;this.itemId=0;this.captainItemNum=0;this.itemNum=0;this.needParam=null;this.progress=0;this.status=0;this.helpUuid="";this.receiveUuid=""}return StarTask}());SS.StarTask=StarTask;var CooperateOrderData=(function(_super){__extends(CooperateOrderData,_super);function CooperateOrderData(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.entityId=0;_this.portrait=0;_this.orderUuid="";_this.itemId=0;_this.amount=0;_this.lastTime=0;return _this}return CooperateOrderData}(DBObject));SS.CooperateOrderData=CooperateOrderData;var PlayerLevelUp=(function(){function PlayerLevelUp(){this.old_level=0;this.now_level=0;this.story=null}return PlayerLevelUp}());SS.PlayerLevelUp=PlayerLevelUp})(SS=Proto.SS||(Proto.SS={}))})(Proto||(Proto={}));var HttpComm=frame.comm.HttpComm;var frame;(function(frame){var comm;(function(comm){var HttpChannel=(function(_super){__extends(HttpChannel,_super);function HttpChannel(host,port,useHttps){if(useHttps===void 0){useHttps=false}var _this=_super.call(this)||this;_this._account="";_this._token="";_this._userId=0;_this._http=new comm.HttpComm(host,port,useHttps);return _this}HttpChannel.prototype.destroy=function(){this._http.destroy();this._http=null};HttpChannel.prototype.login=function(account){this._account=account};HttpChannel.prototype.loginRespondHandle=function(rsp){if(rsp&&rsp.OK){}this.event(frame.event.HttpChannelEvent.LOGIN_COMPLETE,rsp)};Object.defineProperty(HttpChannel.prototype,"http",{get:function(){return this._http},enumerable:true,configurable:true});Object.defineProperty(HttpChannel.prototype,"account",{get:function(){return this._account},set:function(value){this._account=value},enumerable:true,configurable:true});Object.defineProperty(HttpChannel.prototype,"token",{get:function(){return this._token},enumerable:true,configurable:true});Object.defineProperty(HttpChannel.prototype,"userId",{get:function(){return this._userId},set:function(value){this._userId=value},enumerable:true,configurable:true});Object.defineProperty(HttpChannel.prototype,"jwt",{set:function(jwt){this.http.setJwt(jwt)},enumerable:true,configurable:true});return HttpChannel}(laya.events.EventDispatcher));comm.HttpChannel=HttpChannel})(comm=frame.comm||(frame.comm={}))})(frame||(frame={}));var frame;(function(frame){var system;(function(system){var CallbackMappingCenter=(function(_super){__extends(CallbackMappingCenter,_super);function CallbackMappingCenter(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._callbackFunctionList=[];_this._callbackThisList=[];_this._vClassList=[];return _this}CallbackMappingCenter.prototype.register=function(callbackFunction,callbackThis,vClass){this._callbackFunctionList.push(callbackFunction);this._callbackThisList.push(callbackThis);this._vClassList.push(vClass)};CallbackMappingCenter.prototype.unRegister=function(callbackFunction){for(var i=this._callbackFunctionList.length-1;i>=0;i--){if(this._callbackFunctionList[i]==callbackFunction){this._callbackFunctionList.splice(i,1);this._callbackThisList.splice(i,1);this._vClassList.splice(i,1)}}};CallbackMappingCenter.prototype.unRegisterByThisObj=function(thisObj){for(var i=this._callbackThisList.length-1;i>=0;i--){if(this._callbackThisList[i]==thisObj){this._callbackFunctionList.splice(i,1);this._callbackThisList.splice(i,1);this._vClassList.splice(i,1)}}};CallbackMappingCenter.prototype.doCallback=function(vClassInstance,type,value){if(value===void 0){value=null}var callBackFuncList=Frame.CallbackMappingCenter.getCallFunctionList(vClassInstance);if(callBackFuncList.length>0){var callBackFunc;var callBackThis;for(var i=0;i<callBackFuncList.length;i++){callBackFunc=callBackFuncList[i];callBackThis=Frame.CallbackMappingCenter.getCallFunctionThis(vClassInstance,callBackFunc);if(callBackFunc!=null&&callBackThis!=null){callBackFunc.call(callBackThis,type,value)}}}};CallbackMappingCenter.prototype.getCallFunctionList=function(vClassInstance){var funcList=[];for(var i=0;i<this._vClassList.length;i++){if(vClassInstance instanceof this._vClassList[i]){funcList.push(this._callbackFunctionList[i])}}return funcList};CallbackMappingCenter.prototype.getCallFunctionThis=function(vClassInstance,callbackFunction){for(var i=0;i<this._vClassList.length;i++){if(this._callbackFunctionList[i]==callbackFunction&&vClassInstance instanceof this._vClassList[i]){return this._callbackThisList[i]}}return null};return CallbackMappingCenter}(frame.base.BaseSingleton));system.CallbackMappingCenter=CallbackMappingCenter})(system=frame.system||(frame.system={}))})(frame||(frame={}));var frame;(function(frame){var system;(function(system){var MessageCenter=(function(_super){__extends(MessageCenter,_super);function MessageCenter(){var _this=_super.call(this)||this;_this._typeList=[];_this._listenerList=[];_this._thisObjList=[];_this._groupList=[];return _this}MessageCenter.prototype.on=function(type,listener,thisObj,group){if(group===void 0){group=null}if(type&&listener&&type.length>0){this.off(type,listener,thisObj);this._typeList.push(type);this._listenerList.push(listener);this._thisObjList.push(thisObj);this._groupList.push(group)}};MessageCenter.prototype.off=function(type,listener,thisObj){var idx=this._listenerList.indexOf(listener);if(idx>=0&&this._typeList[idx]==type&&this._thisObjList[idx]==thisObj){this.offByIdx(idx)}};MessageCenter.prototype.offByType=function(type){if(type){for(var idx=this._typeList.length-1;idx>=0;idx--){if(this._typeList[idx]==type){this.offByIdx(idx)}}}};MessageCenter.prototype.offByThisObj=function(thisObj){if(thisObj){for(var idx=this._thisObjList.length-1;idx>=0;idx--){if(this._thisObjList[idx]==thisObj){this.offByIdx(idx)}}}};MessageCenter.prototype.offByGroup=function(group){if(group){for(var idx=this._groupList.length-1;idx>=0;idx--){if(this._groupList[idx]==group){this.offByIdx(idx)}}}};MessageCenter.prototype.offByIdx=function(idx){this._typeList.splice(idx,1);this._listenerList.splice(idx,1);this._thisObjList.splice(idx,1);this._groupList.splice(idx,1)};MessageCenter.prototype.event=function(type,data){if(data===void 0){data=null}var idx;var dispatchListenerList=[];var dispatchThisObjList=[];for(idx=0;idx<this._typeList.length;idx++){if(this._typeList[idx]==type){dispatchListenerList.push(this._listenerList[idx]);dispatchThisObjList.push(this._thisObjList[idx])}}if(dispatchListenerList.length>0){var listener;var thisObj;for(idx=0;idx<dispatchListenerList.length;idx++){listener=dispatchListenerList[idx];thisObj=dispatchThisObjList[idx];if(data==null){listener.apply(thisObj)}else{listener.apply(thisObj,[data])}}Frame.Tool.clearArray(dispatchListenerList);Frame.Tool.clearArray(dispatchThisObjList)}};return MessageCenter}(frame.base.BaseSingleton));system.MessageCenter=MessageCenter})(system=frame.system||(frame.system={}))})(frame||(frame={}));var frame;(function(frame){var system;(function(system){var ToolMod=(function(_super){__extends(ToolMod,_super);function ToolMod(){return _super!==null&&_super.apply(this,arguments)||this}ToolMod.prototype.convertAmount=function(n){if(n==undefined||n<0){return"0"}var str=n.toString();var newStr="";var idx=0;for(var i=str.length-1;i>=0;i--){newStr=str.charAt(i)+newStr;idx++;if(idx==3){if(i>0){newStr=","+newStr}idx=0}}return newStr};ToolMod.prototype.convertIntegerNum=function(amount){var str;var value;value=amount/100000000;if(value>=1&&Math.floor(value)==value){return Math.floor(value)+"亿"}value=amount/10000;if(value>=1&&Math.floor(value)==value){return Math.floor(value)+"万"}value=amount/1000;if(value>=1&&value<=9&&Math.floor(value)==value){return Math.floor(value)+"千"}return Frame.Tool.convertAmountToWan(amount)};ToolMod.prototype.convertAmountToWan=function(n,digits){if(digits===void 0){digits=1}if(n==undefined){return"0"}var bv=Math.pow(10,digits);var n1;var n2;var dot;var i;if(Math.abs(n)>=99999999){n1=Math.floor(n/(100000000));n2=Math.floor(n/(100000000/bv))-n1*bv;if(n2==0||digits<=0){return n1+"亿"}dot=".";for(i=0;i<digits-n2.toString().length;i++){dot=dot+"0"}return n1+dot+n2+"亿"}else{if(Math.abs(n)>9999){n1=Math.floor(n/(10000));n2=Math.floor(n/(10000/bv))-n1*bv;if(n2==0||digits<=0){return n1+"万"}dot=".";for(i=0;i<digits-n2.toString().length;i++){dot=dot+"0"}return n1+dot+n2+"万"}}return n.toString()};ToolMod.prototype.addArrayItem=function(arr,item){if(arr&&arr.indexOf(item)<0){arr.push(item)}};ToolMod.prototype.deleteArrayItem=function(arr,item){if(arr){var idx=arr.indexOf(item);if(idx>=0){arr.splice(idx,1)}}};ToolMod.prototype.clearArray=function(arr){if(arr){arr.splice(0,arr.length)}};ToolMod.prototype.getUnixTime=function(){return Math.floor(new Date().getTime()/1000)};ToolMod.prototype.getCurrentTime=function(){var time=new Date(Frame.Tool.getUnixTime()*1000).toString();time=time.substring(time.indexOf(":")-2);time=time.substring(0,time.lastIndexOf(":")+3);return time};ToolMod.prototype.convertResName=function(fileName){return fileName.replace(".","_")};ToolMod.prototype.filterChars=function(txt,reservedChars){var newTxt="";var mchar;for(var i=0;i<txt.length;i++){mchar=txt.charAt(i);if(reservedChars.indexOf(mchar)>=0){newTxt+=mchar}}return newTxt};ToolMod.prototype.getUrlParam=function(url,paramName){if(url&&paramName){var s1=url.indexOf("?"+paramName+"=");if(s1==-1){s1=url.indexOf("&"+paramName+"=")}if(s1>=0){s1+=paramName.length+2;var s2=url.indexOf("&",s1);var value;if(s2<0){value=url.substring(s1)}else{value=url.substring(s1,s2)}return value}}return null};ToolMod.prototype.getHostAddress=function(url,gameName){var idx=url.indexOf(gameName);if(idx>0){return url.substring(0,idx)}return url};ToolMod.prototype.getResPath=function(){var path=location.href;var idx;idx=path.indexOf("?");if(idx>0){path=path.substring(0,idx)}idx=path.indexOf("index.");if(idx>0){path=path.substring(0,idx)}if(path.substr(path.length-1,1)=="/"){path=path.substr(0,path.length-1)}path+="/resource/";return path};ToolMod.prototype.objectToStr=function(obj){var str="[";var value;for(var key in obj){value=obj[key];if(value instanceof Object||value instanceof Array){str+=this.objectToStr(value)}else{str+=(key+"="+obj[key]+" ")}}str+="]";return str};ToolMod.prototype.trimStr=function(str,maxLen,addDots){if(addDots===void 0){addDots=false}var resultStr=str;if(resultStr.length>maxLen){resultStr=resultStr.substr(0,maxLen);if(addDots){resultStr+="..."}}return resultStr};ToolMod.prototype.lightenDarkenColor=function(color,amt){var r=((color&16711680)>>16)+amt;if(r>255){r=255}var g=((color&65280)>>8)+amt;if(g>255){g=255}var b=(color&255)+amt;if(b>255){b=255}return(b|(g<<8)|(r<<16))};return ToolMod}(frame.base.BaseSingleton));system.ToolMod=ToolMod})(system=frame.system||(frame.system={}))})(frame||(frame={}));var Proto;(function(Proto){var Tooks;(function(Tooks){var GetCooperationInfoTook=(function(_super){__extends(GetCooperationInfoTook,_super);function GetCooperationInfoTook(){return _super!==null&&_super.apply(this,arguments)||this}GetCooperationInfoTook.prototype.init=function(){this.moduleName=Game.protosender.cooperate.moduleName;this.req=new Proto.API.cooperate.GetInfoRequest();this.heartbeat=5000;this.selfHeartbeat=500;this.preconditionMenuIds=[MenuId.Home,MenuId.Cooperation,MenuId.Order];this.menuId=MenuId.Cooperation};GetCooperationInfoTook.prototype.setParameter=function(){this.req.oldOrderUuids=Game.moduleModel.order.oldOrderUUids};return GetCooperationInfoTook}(Games.ProtoTookHandler));Tooks.GetCooperationInfoTook=GetCooperationInfoTook})(Tooks=Proto.Tooks||(Proto.Tooks={}))})(Proto||(Proto={}));var Proto;(function(Proto){var Tooks;(function(Tooks){var GetNoticeListTook=(function(_super){__extends(GetNoticeListTook,_super);function GetNoticeListTook(){return _super!==null&&_super.apply(this,arguments)||this}GetNoticeListTook.prototype.init=function(){};GetNoticeListTook.prototype.validate=function(){return true};GetNoticeListTook.prototype.setParameter=function(){};return GetNoticeListTook}(Games.ProtoTookHandler));Tooks.GetNoticeListTook=GetNoticeListTook})(Tooks=Proto.Tooks||(Proto.Tooks={}))})(Proto||(Proto={}));var Proto;(function(Proto){var Tooks;(function(Tooks){var GetSelfListTook=(function(_super){__extends(GetSelfListTook,_super);function GetSelfListTook(){return _super!==null&&_super.apply(this,arguments)||this}GetSelfListTook.prototype.init=function(){this.moduleName=Game.protosender.rank.moduleName;this.req=new Proto.API.rank.GetSelfListRequest();this.heartbeat=5000;this.preconditionMenuIds=[MenuId.Home];this.menuId=MenuId.Rank};GetSelfListTook.prototype.validate=function(){return true};GetSelfListTook.prototype.setParameter=function(){};return GetSelfListTook}(Games.ProtoTookHandler));Tooks.GetSelfListTook=GetSelfListTook})(Tooks=Proto.Tooks||(Proto.Tooks={}))})(Proto||(Proto={}));var View=laya.ui.View;var Dialog=laya.ui.Dialog;var ui;(function(ui){var fx;(function(fx){var dajian_01UI=(function(_super){__extends(dajian_01UI,_super);function dajian_01UI(){return _super.call(this)||this}dajian_01UI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.dajian_01UI.uiView)};dajian_01UI.uiView={type:"View",props:{},child:[{type:"Particle2D",props:{y:82,x:164,width:1,url:"Yun_01.part",height:1}},{type:"Particle2D",props:{y:82,x:164,width:1,url:"ChuiZi_01.part",height:1}}]};return dajian_01UI}(View));fx.dajian_01UI=dajian_01UI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var Effect_gain_itemUI=(function(_super){__extends(Effect_gain_itemUI,_super);function Effect_gain_itemUI(){return _super.call(this)||this}Effect_gain_itemUI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.Effect_gain_itemUI.uiView)};Effect_gain_itemUI.uiView={type:"View",props:{width:720,height:1280},child:[{type:"Image",props:{skin:"beijing_01/图层957拷贝3(2).png"}},{type:"Particle2D",props:{y:475,x:360,width:77,url:"Effect_gain_item_f1_1.part",scaleY:5,scaleX:5,height:65}},{type:"Particle2D",props:{y:475,x:360,width:63,url:"Effect_gain_item_f1_2.part",scaleY:5,scaleX:5,height:50}},{type:"Particle2D",props:{y:475,x:336,width:82,url:"Effect_gain_item_f2.part",scaleY:4.5,scaleX:4.5,height:64}},{type:"Particle2D",props:{y:475,x:360,url:"Effect_gain_item_x1.part"}},{type:"Particle2D",props:{y:475,x:360,url:"Effect_gain_item_x2.part"}},{type:"Particle2D",props:{y:475,x:360,url:"Effect_gain_item_y1.part"}},{type:"Image",props:{y:218,x:8,skin:"beijing_01/light_layer1_congrats.png"}},{type:"Image",props:{y:415,x:111,skin:"beijing_01/bg_title_congrats.png"}},{type:"Image",props:{y:429,x:154,skin:"beijing_01/font_congrats.png"}},{type:"Particle2D",props:{y:1096,x:508,url:"Effect_jiantou_01.part"}},{type:"Particle2D",props:{y:470,x:350,width:77,url:"Effect_MovieTarget_Success_f1.part",scaleY:5,scaleX:5,height:65}},{type:"Particle2D",props:{y:470,x:350,width:77,url:"Effect_MovieTarget_Success_f2.part",scaleY:5,scaleX:5,height:65}},{type:"Particle2D",props:{y:472,x:345,width:77,url:"Effect_MovieTarget_Success_f3.part",scaleY:5,scaleX:5,height:65}}]};return Effect_gain_itemUI}(View));fx.Effect_gain_itemUI=Effect_gain_itemUI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var Effect_produce_01UI=(function(_super){__extends(Effect_produce_01UI,_super);function Effect_produce_01UI(){return _super.call(this)||this}Effect_produce_01UI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.Effect_produce_01UI.uiView)};Effect_produce_01UI.uiView={type:"View",props:{width:256,height:256},child:[{type:"Particle2D",props:{y:160,x:128,url:"Effect_produce_01_1.part"}},{type:"Image",props:{y:137,x:66,width:128,skin:"ShockWave_01.png",height:64}},{type:"Image",props:{y:88,x:92,skin:"beijing_01/icon_shejitu.png"}},{type:"Particle2D",props:{y:128,x:128,width:1,url:"Effect_produce_01.part",height:1}},{type:"Particle2D",props:{y:136,x:126,url:"Effect_produce_02.part"}},{type:"Image",props:{y:86,x:82,skin:"beijing_01/zb18.png"}}]};return Effect_produce_01UI}(View));fx.Effect_produce_01UI=Effect_produce_01UI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var Effect_story_01UI=(function(_super){__extends(Effect_story_01UI,_super);function Effect_story_01UI(){return _super.call(this)||this}Effect_story_01UI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.Effect_story_01UI.uiView)};Effect_story_01UI.uiView={type:"View",props:{width:512,height:512},child:[{type:"Image",props:{y:296,x:133,skin:"jbk_souluoxiangzi.png"}},{type:"Particle2D",props:{y:295,x:253,url:"Effect_story_02.part"}},{type:"Particle2D",props:{y:310,x:259,width:84,url:"Effect_story_03.part",height:70}},{type:"Particle2D",props:{y:304,x:249,url:"Effect_story_04.part"}},{type:"Particle2D",props:{y:302,x:261,url:"Effect_story_05.part"}},{type:"Particle2D",props:{y:320,x:253,url:"Effect_story_01.part"}},{type:"Particle2D",props:{y:275,x:252,url:"fangsheguang_01.part"}}]};return Effect_story_01UI}(View));fx.Effect_story_01UI=Effect_story_01UI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var Effect_upgrade_01UI=(function(_super){__extends(Effect_upgrade_01UI,_super);function Effect_upgrade_01UI(){return _super.call(this)||this}Effect_upgrade_01UI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.Effect_upgrade_01UI.uiView)};Effect_upgrade_01UI.uiView={type:"View",props:{width:127,height:197},child:[{type:"Image",props:{skin:"beijing_01/jq_xiaoyun.png"}},{type:"Particle2D",props:{y:156,x:50,width:100,url:"Effect_upgrade_01.part",height:63}},{type:"Particle2D",props:{y:157,x:58,url:"Effect_upgrade_02.part"}}]};return Effect_upgrade_01UI}(View));fx.Effect_upgrade_01UI=Effect_upgrade_01UI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var JinBiUI=(function(_super){__extends(JinBiUI,_super);function JinBiUI(){return _super.call(this)||this}JinBiUI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.JinBiUI.uiView)};JinBiUI.uiView={type:"View",props:{},child:[{type:"Image",props:{y:78,x:135,width:145,skin:"true01.png",pivotY:63,pivotX:64,height:137}},{type:"Image",props:{y:79,x:219,width:150,skin:"true01.png",pivotY:63,pivotX:64,height:136}},{type:"Image",props:{y:86,x:193,width:106,skin:"true01.png",pivotY:63,pivotX:64,height:133}},{type:"Image",props:{y:71,x:150,width:85,skin:"钱袋01.png",height:76}},{type:"Image",props:{y:56,x:90,width:102,skin:"钱袋01.png",height:93}},{type:"Image",props:{y:59,x:185,width:102,skin:"钱袋01.png",height:86}},{type:"Particle2D",props:{y:35,x:200,width:1,url:"jinbi_02.part",height:1}},{type:"Particle2D",props:{y:121,x:190,width:1,url:"ShanGuang_01.part",height:1}}]};return JinBiUI}(View));fx.JinBiUI=JinBiUI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));(function(ui){var fx;(function(fx){var lihua_01UI=(function(_super){__extends(lihua_01UI,_super);function lihua_01UI(){return _super.call(this)||this}lihua_01UI.prototype.createChildren=function(){View.regComponent("Particle2D",laya.particle.Particle2D);_super.prototype.createChildren.call(this);this.createView(ui.fx.lihua_01UI.uiView)};lihua_01UI.uiView={type:"View",props:{width:506,height:900},child:[{type:"Image",props:{skin:"beijing_01/commer_chatu.png"}},{type:"Image",props:{y:225,x:75,skin:"beijing_01/sc_jianglimianban.png"}},{type:"Image",props:{y:271,x:246,width:256,skin:"彩带-01.png",pivotY:128,pivotX:128,height:256}},{type:"Particle2D",props:{y:273,x:252,url:"Effect_propagate_01.part"}},{type:"Particle2D",props:{y:273,x:252,url:"Effect_propagate_02.part"}},{type:"Particle2D",props:{y:273,x:252,url:"Effect_propagate_03.part"}},{type:"Particle2D",props:{y:273,x:252,url:"Effect_propagate_04.part"}},{type:"Particle2D",props:{y:-6,x:252,width:258,url:"Effect_search_01.part",height:100}}]};return lihua_01UI}(View));fx.lihua_01UI=lihua_01UI})(fx=ui.fx||(ui.fx={}))})(ui||(ui={}));var EGameDataOps=Proto.SE.EGameDataOps;var EError=Proto.SE.EError;var ECommon=Proto.SE.ECommon;var EMoneyType=Proto.SE.EMoneyType;var EGoodsFlag=Proto.SE.EGoodsFlag;var EAcceptCondition=Proto.SE.EAcceptCondition;var ECompleteCondition=Proto.SE.ECompleteCondition;var ECompleteReward=Proto.SE.ECompleteReward;var EUsrState=Proto.SE.EUsrState;var EItemNumber=Proto.SE.EItemNumber;var EPublishTypeCode=Proto.SE.EPublishTypeCode;var EChannel=Proto.SE.EChannel;var EUserSex=Proto.SE.EUserSex;var EItemCategory=Proto.SE.EItemCategory;var EItemId=Proto.SE.EItemId;var EGameDataRename=Proto.SE.EGameDataRename;var EStoryStack=Proto.SE.EStoryStack;var EStoryModule=Proto.SE.EStoryModule;var EMovieState=Proto.SE.EMovieState;var EGlobalId=Proto.SE.EGlobalId;var EMovieType=Proto.SE.EMovieType;var EBoxOfficeEvaluation=Proto.SE.EBoxOfficeEvaluation;var EProgressBoxId=Proto.SE.EProgressBoxId;var EManageProduce=Proto.SE.EManageProduce;var ERankListType=Proto.SE.ERankListType;var EAchievementState=Proto.SE.EAchievementState;var EAchievementType=Proto.SE.EAchievementType;var EMallItemLimitType=Proto.SE.EMallItemLimitType;var EManageBusiness=Proto.SE.EManageBusiness;var EManageVisit=Proto.SE.EManageVisit;var EManageOrder=Proto.SE.EManageOrder;var EMailId=Proto.SE.EMailId;var ESecretaryType=Proto.SE.ESecretaryType;var ESecretary=Proto.SE.ESecretary;var EManageMeet=Proto.SE.EManageMeet;var EOscarType=Proto.SE.EOscarType;var EGMRefreshType=Proto.SE.EGMRefreshType;var EItemUseType=Proto.SE.EItemUseType;var EGuideType=Proto.SE.EGuideType;var ENoticeType=Proto.SE.ENoticeType;var configs;(function(configs){var ConfigManagerList=(function(){function ConfigManagerList(){this.renders=[];this.action=new configs.ActionConfigReader();this.activities=new configs.ActivitiesConfigReader();this.actor=new configs.ActorConfigReader();this.actorAide=new configs.ActorAideConfigReader();this.actorAideattach=new configs.ActorAideattachConfigReader();this.actorAideIntimacy=new configs.ActorAideIntimacyConfigReader();this.actorAssets=new configs.ActorAssetsConfigReader();this.actorAssetsLv=new configs.ActorAssetsLvConfigReader();this.actorLevel=new configs.ActorLevelConfigReader();this.actorLoyalty=new configs.ActorLoyaltyConfigReader();this.actorProficiency=new configs.ActorProficiencyConfigReader();this.actorTrain=new configs.ActorTrainConfigReader();this.actorTrainLv=new configs.ActorTrainLvConfigReader();this.avatar=new configs.AvatarConfigReader();this.battleLevel=new configs.BattleLevelConfigReader();this.battleShootType=new configs.BattleShootTypeConfigReader();this.blockLevel=new configs.BlockLevelConfigReader();this.blockRankingList=new configs.BlockRankingListConfigReader();this.blockWords=new configs.BlockWordsConfigReader();this.boxTarget=new configs.BoxTargetConfigReader();this.buildingEffect=new configs.BuildingEffectConfigReader();this.buildingLevel=new configs.BuildingLevelConfigReader();this.business=new configs.BusinessConfigReader();this.cinema=new configs.CinemaConfigReader();this.city=new configs.CityConfigReader();this.cityPopularize=new configs.CityPopularizeConfigReader();this.complete=new configs.CompleteConfigReader();this.compound=new configs.CompoundConfigReader();this.cooperateTask=new configs.CooperateTaskConfigReader();this.countActivities=new configs.CountActivitiesConfigReader();this.country=new configs.CountryConfigReader();this.dailySign=new configs.DailySignConfigReader();this.dailySignTrailer=new configs.DailySignTrailerConfigReader();this.dialogue=new configs.DialogueConfigReader();this.event=new configs.EventConfigReader();this.floor=new configs.FloorConfigReader();this.gameLevel=new configs.GameLevelConfigReader();this.gameRandomName=new configs.GameRandomNameConfigReader();this.giftPackage=new configs.GiftPackageConfigReader();this.global=new configs.GlobalConfigReader();this.guidePath=new configs.GuidePathConfigReader();this.guidesystem=new configs.GuidesystemConfigReader();this.headPortrait=new configs.HeadPortraitConfigReader();this.initialActor=new configs.InitialActorConfigReader();this.item=new configs.ItemConfigReader();this.languageType=new configs.LanguageTypeConfigReader();this.loader=new configs.LoaderConfigReader();this.loading=new configs.LoadingConfigReader();this.mail=new configs.MailConfigReader();this.maintask=new configs.MaintaskConfigReader();this.meetingGame=new configs.MeetingGameConfigReader();this.meetingRewards=new configs.MeetingRewardsConfigReader();this.menu=new configs.MenuConfigReader();this.menuIndex=new configs.MenuIndexConfigReader();this.monthCard=new configs.MonthCardConfigReader();this.movieAdaptationMsg=new configs.MovieAdaptationMsgConfigReader();this.movieAudienceEvaluation=new configs.MovieAudienceEvaluationConfigReader();this.movieDrop=new configs.MovieDropConfigReader();this.movieExpect=new configs.MovieExpectConfigReader();this.movieLicence=new configs.MovieLicenceConfigReader();this.movieMediaVisit=new configs.MovieMediaVisitConfigReader();this.movieMidiaEvaluation=new configs.MovieMidiaEvaluationConfigReader();this.movieMidiaEvaluationMsg=new configs.MovieMidiaEvaluationMsgConfigReader();this.moviePopularize=new configs.MoviePopularizeConfigReader();this.movieShootType=new configs.MovieShootTypeConfigReader();this.msg=new configs.MsgConfigReader();this.msgProtoError=new configs.MsgProtoErrorConfigReader();this.npc=new configs.NpcConfigReader();this.order=new configs.OrderConfigReader();this.oscar=new configs.OscarConfigReader();this.perform=new configs.PerformConfigReader();this.playAct=new configs.PlayActConfigReader();this.playerDefault=new configs.PlayerDefaultConfigReader();this.playerLevel=new configs.PlayerLevelConfigReader();this.position=new configs.PositionConfigReader();this.produce=new configs.ProduceConfigReader();this.produceLevel=new configs.ProduceLevelConfigReader();this.produceSouvenir=new configs.ProduceSouvenirConfigReader();this.property=new configs.PropertyConfigReader();this.randomName=new configs.RandomNameConfigReader();this.randomSurname=new configs.RandomSurnameConfigReader();this.recharge=new configs.RechargeConfigReader();this.roadshow=new configs.RoadshowConfigReader();this.secretary=new configs.SecretaryConfigReader();this.secretaryGift=new configs.SecretaryGiftConfigReader();this.secretaryType=new configs.SecretaryTypeConfigReader();this.serverRankingList=new configs.ServerRankingListConfigReader();this.settingDefault=new configs.SettingDefaultConfigReader();this.shop=new configs.ShopConfigReader();this.skill=new configs.SkillConfigReader();this.skillEffect=new configs.SkillEffectConfigReader();this.skillTrigger=new configs.SkillTriggerConfigReader();this.speak=new configs.SpeakConfigReader();this.starCon=new configs.StarConConfigReader();this.story=new configs.StoryConfigReader();this.storyCharacters=new configs.StoryCharactersConfigReader();this.storyGoals=new configs.StoryGoalsConfigReader();this.storyline=new configs.StorylineConfigReader();this.storyRate=new configs.StoryRateConfigReader();this.storyStackItem=new configs.StoryStackItemConfigReader();this.storyStackSort=new configs.StoryStackSortConfigReader();this.street=new configs.StreetConfigReader();this.task=new configs.TaskConfigReader();this.test=new configs.TestConfigReader();this.turntableComplete=new configs.TurntableCompleteConfigReader();this.turntableReward=new configs.TurntableRewardConfigReader();this.type=new configs.TypeConfigReader();this.unlock=new configs.UnlockConfigReader();this.visit=new configs.VisitConfigReader();this.welfare=new configs.WelfareConfigReader();this.writer=new configs.WriterConfigReader();this.writerAbility=new configs.WriterAbilityConfigReader();this.writerAdaptEffect=new configs.WriterAdaptEffectConfigReader();this.writerLevel=new configs.WriterLevelConfigReader();this.writerSkill=new configs.WriterSkillConfigReader();this.writerStation=new configs.WriterStationConfigReader()}ConfigManagerList.prototype.initList=function(){this.renders.push(this.action);this.renders.push(this.activities);this.renders.push(this.actor);this.renders.push(this.actorAide);this.renders.push(this.actorAideattach);this.renders.push(this.actorAideIntimacy);this.renders.push(this.actorAssets);this.renders.push(this.actorAssetsLv);this.renders.push(this.actorLevel);this.renders.push(this.actorLoyalty);this.renders.push(this.actorProficiency);this.renders.push(this.actorTrain);this.renders.push(this.actorTrainLv);this.renders.push(this.avatar);this.renders.push(this.battleLevel);this.renders.push(this.battleShootType);this.renders.push(this.blockLevel);this.renders.push(this.blockRankingList);this.renders.push(this.blockWords);this.renders.push(this.boxTarget);this.renders.push(this.buildingEffect);this.renders.push(this.buildingLevel);this.renders.push(this.business);this.renders.push(this.cinema);this.renders.push(this.city);this.renders.push(this.cityPopularize);this.renders.push(this.complete);this.renders.push(this.compound);this.renders.push(this.cooperateTask);this.renders.push(this.countActivities);this.renders.push(this.country);this.renders.push(this.dailySign);this.renders.push(this.dailySignTrailer);this.renders.push(this.dialogue);this.renders.push(this.event);this.renders.push(this.floor);this.renders.push(this.gameLevel);this.renders.push(this.gameRandomName);this.renders.push(this.giftPackage);this.renders.push(this.global);this.renders.push(this.guidePath);this.renders.push(this.guidesystem);this.renders.push(this.headPortrait);this.renders.push(this.initialActor);this.renders.push(this.item);this.renders.push(this.languageType);this.renders.push(this.loader);this.renders.push(this.loading);this.renders.push(this.mail);this.renders.push(this.maintask);this.renders.push(this.meetingGame);this.renders.push(this.meetingRewards);this.renders.push(this.menu);this.renders.push(this.menuIndex);this.renders.push(this.monthCard);this.renders.push(this.movieAdaptationMsg);this.renders.push(this.movieAudienceEvaluation);this.renders.push(this.movieDrop);this.renders.push(this.movieExpect);this.renders.push(this.movieLicence);this.renders.push(this.movieMediaVisit);this.renders.push(this.movieMidiaEvaluation);this.renders.push(this.movieMidiaEvaluationMsg);this.renders.push(this.moviePopularize);this.renders.push(this.movieShootType);this.renders.push(this.msg);this.renders.push(this.msgProtoError);this.renders.push(this.npc);this.renders.push(this.order);this.renders.push(this.oscar);this.renders.push(this.perform);this.renders.push(this.playAct);this.renders.push(this.playerDefault);this.renders.push(this.playerLevel);this.renders.push(this.position);this.renders.push(this.produce);this.renders.push(this.produceLevel);this.renders.push(this.produceSouvenir);this.renders.push(this.property);this.renders.push(this.randomName);this.renders.push(this.randomSurname);this.renders.push(this.recharge);this.renders.push(this.roadshow);this.renders.push(this.secretary);this.renders.push(this.secretaryGift);this.renders.push(this.secretaryType);this.renders.push(this.serverRankingList);this.renders.push(this.settingDefault);this.renders.push(this.shop);this.renders.push(this.skill);this.renders.push(this.skillEffect);this.renders.push(this.skillTrigger);this.renders.push(this.speak);this.renders.push(this.starCon);this.renders.push(this.story);this.renders.push(this.storyCharacters);this.renders.push(this.storyGoals);this.renders.push(this.storyline);this.renders.push(this.storyRate);this.renders.push(this.storyStackItem);this.renders.push(this.storyStackSort);this.renders.push(this.street);this.renders.push(this.task);this.renders.push(this.test);this.renders.push(this.turntableComplete);this.renders.push(this.turntableReward);this.renders.push(this.type);this.renders.push(this.unlock);this.renders.push(this.visit);this.renders.push(this.welfare);this.renders.push(this.writer);this.renders.push(this.writerAbility);this.renders.push(this.writerAdaptEffect);this.renders.push(this.writerLevel);this.renders.push(this.writerSkill);this.renders.push(this.writerStation)};return ConfigManagerList}());configs.ConfigManagerList=ConfigManagerList})(configs||(configs={}));var configs;(function(configs){var ConfigManager=(function(_super){__extends(ConfigManager,_super);function ConfigManager(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.sLoadProgress=new TypedSignal();_this.sLoaded=new Signal();_this.loadProgress=0;return _this}ConfigManager.prototype.loadAll=function(){var _this=this;this.loadProgress=0;var count=this.renders.length;var loadedNum=0;var onItemLoaded=function(){loadedNum++;_this.loadProgress=loadedNum/count;_this.sLoadProgress.dispatch(_this.loadProgress);gameLaunchLoding.onLoadedConfig(loadedNum,count);if(loadedNum>=count){_this.onGameLoadedAll()}};for(var i=0;i<this.renders.length;i++){this.renders[i].load(this.configLoader,onItemLoaded)}};ConfigManager.prototype.reloadAll=function(){var _this=this;this.loadProgress=0;var count=this.renders.length;var loadedNum=0;var onItemLoaded=function(){loadedNum++;_this.loadProgress=loadedNum/count;_this.sLoadProgress.dispatch(_this.loadProgress);gameLaunchLoding.onLoadedConfig(loadedNum,count);if(loadedNum>=count){_this.onGameLoadedAll()}};for(var i=0;i<this.renders.length;i++){this.renders[i].reload(this.configLoader,onItemLoaded)}};ConfigManager.prototype.onGameLoadedAll=function(){for(var i=0;i<this.renders.length;i++){this.renders[i].onGameLoadedAll()}this.sLoaded.dispatch()};return ConfigManager}(configs.ConfigManagerList));configs.ConfigManager=ConfigManager})(configs||(configs={}));var DTItemNum=configs.DTItemNum;var DTStoryNum=configs.DTStoryNum;var DTVector2=configs.DTVector2;var DTActorSkill=configs.DTActorSkill;var DTActorStory=configs.DTActorStory;var DTActorFeature=configs.DTActorFeature;var DTActorCharacter=configs.DTActorCharacter;var DTRandomInterval=configs.DTRandomInterval;var DTShootType=configs.DTShootType;var DTStoryEffect=configs.DTStoryEffect;var DTBuildingReq=configs.DTBuildingReq;var DTlValue2=configs.DTlValue2;var DTlValue3=configs.DTlValue3;var DTDrop=configs.DTDrop;var DTPerformActoin=configs.DTPerformActoin;var DTPerformSpeak=configs.DTPerformSpeak;var DTParts=configs.DTParts;var DTProficiency=configs.DTProficiency;var ActionConfig=configs.ActionConfig;var ActivitiesConfig=configs.ActivitiesConfig;var ActorConfig=configs.ActorConfig;var ActorAideConfig=configs.ActorAideConfig;var ActorAideattachConfig=configs.ActorAideattachConfig;var ActorAideIntimacyConfig=configs.ActorAideIntimacyConfig;var ActorAssetsConfig=configs.ActorAssetsConfig;var ActorAssetsLvConfig=configs.ActorAssetsLvConfig;var ActorLevelConfig=configs.ActorLevelConfig;var ActorLoyaltyConfig=configs.ActorLoyaltyConfig;var ActorProficiencyConfig=configs.ActorProficiencyConfig;var ActorTrainConfig=configs.ActorTrainConfig;var ActorTrainLvConfig=configs.ActorTrainLvConfig;var AvatarConfig=configs.AvatarConfig;var BattleLevelConfig=configs.BattleLevelConfig;var BattleShootTypeConfig=configs.BattleShootTypeConfig;var BlockLevelConfig=configs.BlockLevelConfig;var BlockRankingListConfig=configs.BlockRankingListConfig;var BlockWordsConfig=configs.BlockWordsConfig;var BoxTargetConfig=configs.BoxTargetConfig;var BuildingEffectConfig=configs.BuildingEffectConfig;var BuildingLevelConfig=configs.BuildingLevelConfig;var BusinessConfig=configs.BusinessConfig;var CinemaConfig=configs.CinemaConfig;var CityConfig=configs.CityConfig;var CityPopularizeConfig=configs.CityPopularizeConfig;var CompleteConfig=configs.CompleteConfig;var CompoundConfig=configs.CompoundConfig;var CooperateTaskConfig=configs.CooperateTaskConfig;var CountActivitiesConfig=configs.CountActivitiesConfig;var CountryConfig=configs.CountryConfig;var DailySignConfig=configs.DailySignConfig;var DailySignTrailerConfig=configs.DailySignTrailerConfig;var DialogueConfig=configs.DialogueConfig;var EventConfig=configs.EventConfig;var FloorConfig=configs.FloorConfig;var GameLevelConfig=configs.GameLevelConfig;var GameRandomNameConfig=configs.GameRandomNameConfig;var GiftPackageConfig=configs.GiftPackageConfig;var GlobalConfig=configs.GlobalConfig;var GuidePathConfig=configs.GuidePathConfig;var GuidesystemConfig=configs.GuidesystemConfig;var HeadPortraitConfig=configs.HeadPortraitConfig;var InitialActorConfig=configs.InitialActorConfig;var ItemConfig=configs.ItemConfig;var LanguageTypeConfig=configs.LanguageTypeConfig;var LoaderConfig=configs.LoaderConfig;var LoadingConfig=configs.LoadingConfig;var MailConfig=configs.MailConfig;var MaintaskConfig=configs.MaintaskConfig;var MeetingGameConfig=configs.MeetingGameConfig;var MeetingRewardsConfig=configs.MeetingRewardsConfig;var MenuConfig=configs.MenuConfig;var MenuIndexConfig=configs.MenuIndexConfig;var MonthCardConfig=configs.MonthCardConfig;var MovieAdaptationMsgConfig=configs.MovieAdaptationMsgConfig;var MovieAudienceEvaluationConfig=configs.MovieAudienceEvaluationConfig;var MovieDropConfig=configs.MovieDropConfig;var MovieExpectConfig=configs.MovieExpectConfig;var MovieLicenceConfig=configs.MovieLicenceConfig;var MovieMediaVisitConfig=configs.MovieMediaVisitConfig;var MovieMidiaEvaluationConfig=configs.MovieMidiaEvaluationConfig;var MovieMidiaEvaluationMsgConfig=configs.MovieMidiaEvaluationMsgConfig;var MoviePopularizeConfig=configs.MoviePopularizeConfig;var MovieShootTypeConfig=configs.MovieShootTypeConfig;var MsgConfig=configs.MsgConfig;var MsgProtoErrorConfig=configs.MsgProtoErrorConfig;var NpcConfig=configs.NpcConfig;var OrderConfig=configs.OrderConfig;var OscarConfig=configs.OscarConfig;var PerformConfig=configs.PerformConfig;var PlayActConfig=configs.PlayActConfig;var PlayerDefaultConfig=configs.PlayerDefaultConfig;var PlayerLevelConfig=configs.PlayerLevelConfig;var PositionConfig=configs.PositionConfig;var ProduceConfig=configs.ProduceConfig;var ProduceLevelConfig=configs.ProduceLevelConfig;var ProduceSouvenirConfig=configs.ProduceSouvenirConfig;var PropertyConfig=configs.PropertyConfig;var RandomNameConfig=configs.RandomNameConfig;var RandomSurnameConfig=configs.RandomSurnameConfig;var RechargeConfig=configs.RechargeConfig;var RoadshowConfig=configs.RoadshowConfig;var SecretaryConfig=configs.SecretaryConfig;var SecretaryGiftConfig=configs.SecretaryGiftConfig;var SecretaryTypeConfig=configs.SecretaryTypeConfig;var ServerRankingListConfig=configs.ServerRankingListConfig;var SettingDefaultConfig=configs.SettingDefaultConfig;var ShopConfig=configs.ShopConfig;var SkillConfig=configs.SkillConfig;var SkillEffectConfig=configs.SkillEffectConfig;var SkillTriggerConfig=configs.SkillTriggerConfig;var SpeakConfig=configs.SpeakConfig;var StarConConfig=configs.StarConConfig;var StoryConfig=configs.StoryConfig;var StoryCharactersConfig=configs.StoryCharactersConfig;var StoryGoalsConfig=configs.StoryGoalsConfig;var StorylineConfig=configs.StorylineConfig;var StoryRateConfig=configs.StoryRateConfig;var StoryStackItemConfig=configs.StoryStackItemConfig;var StoryStackSortConfig=configs.StoryStackSortConfig;var StreetConfig=configs.StreetConfig;var TaskConfig=configs.TaskConfig;var TestConfig=configs.TestConfig;var TurntableCompleteConfig=configs.TurntableCompleteConfig;var TurntableRewardConfig=configs.TurntableRewardConfig;var TypeConfig=configs.TypeConfig;var UnlockConfig=configs.UnlockConfig;var VisitConfig=configs.VisitConfig;var WelfareConfig=configs.WelfareConfig;var WriterConfig=configs.WriterConfig;var WriterAbilityConfig=configs.WriterAbilityConfig;var WriterAdaptEffectConfig=configs.WriterAdaptEffectConfig;var WriterLevelConfig=configs.WriterLevelConfig;var WriterSkillConfig=configs.WriterSkillConfig;var WriterStationConfig=configs.WriterStationConfig;var Games;(function(Games){var ProtoHandlerList=(function(){function ProtoHandlerList(){this.list=[];this.account=new Games.accountHandler();this.ClientGM=new Games.ClientGMHandler();this.GameData=new Games.GameDataHandler();this.CinemaBuild=new Games.CinemaBuildHandler();this.test=new Games.testHandler();this.item=new Games.itemHandler();this.city=new Games.cityHandler();this.movie=new Games.movieHandler();this.Actor=new Games.ActorHandler();this.story=new Games.storyHandler();this.manageOrder=new Games.manageOrderHandler();this.progressBox=new Games.progressBoxHandler();this.manageProduce=new Games.manageProduceHandler();this.rank=new Games.rankHandler();this.task=new Games.taskHandler();this.mall=new Games.mallHandler();this.Mail=new Games.MailHandler();this.Gift=new Games.GiftHandler();this.manageBusiness=new Games.manageBusinessHandler();this.manageVisit=new Games.manageVisitHandler();this.manageMeeting=new Games.manageMeetingHandler();this.dailySign=new Games.dailySignHandler();this.secretary=new Games.secretaryHandler();this.sevenAddUp=new Games.sevenAddUpHandler();this.BeginnerGuide=new Games.BeginnerGuideHandler();this.Danmu=new Games.DanmuHandler();this.cooperate=new Games.cooperateHandler()}ProtoHandlerList.prototype.install=function(){this.initList()};ProtoHandlerList.prototype.initList=function(){this.list.push(this.account);this.list.push(this.ClientGM);this.list.push(this.GameData);this.list.push(this.CinemaBuild);this.list.push(this.test);this.list.push(this.item);this.list.push(this.city);this.list.push(this.movie);this.list.push(this.Actor);this.list.push(this.story);this.list.push(this.manageOrder);this.list.push(this.progressBox);this.list.push(this.manageProduce);this.list.push(this.rank);this.list.push(this.task);this.list.push(this.mall);this.list.push(this.Mail);this.list.push(this.Gift);this.list.push(this.manageBusiness);this.list.push(this.manageVisit);this.list.push(this.manageMeeting);this.list.push(this.dailySign);this.list.push(this.secretary);this.list.push(this.sevenAddUp);this.list.push(this.BeginnerGuide);this.list.push(this.Danmu);this.list.push(this.cooperate)};return ProtoHandlerList}());Games.ProtoHandlerList=ProtoHandlerList})(Games||(Games={}));var Games;(function(Games){var ProtoSenderList=(function(){function ProtoSenderList(){this.list=[];this.account=new Games.accountSender();this.ClientGM=new Games.ClientGMSender();this.GameData=new Games.GameDataSender();this.CinemaBuild=new Games.CinemaBuildSender();this.test=new Games.testSender();this.item=new Games.itemSender();this.city=new Games.citySender();this.movie=new Games.movieSender();this.Actor=new Games.ActorSender();this.story=new Games.storySender();this.manageOrder=new Games.manageOrderSender();this.progressBox=new Games.progressBoxSender();this.manageProduce=new Games.manageProduceSender();this.rank=new Games.rankSender();this.task=new Games.taskSender();this.mall=new Games.mallSender();this.Mail=new Games.MailSender();this.Gift=new Games.GiftSender();this.manageBusiness=new Games.manageBusinessSender();this.manageVisit=new Games.manageVisitSender();this.manageMeeting=new Games.manageMeetingSender();this.dailySign=new Games.dailySignSender();this.secretary=new Games.secretarySender();this.sevenAddUp=new Games.sevenAddUpSender();this.BeginnerGuide=new Games.BeginnerGuideSender();this.Danmu=new Games.DanmuSender();this.cooperate=new Games.cooperateSender()}ProtoSenderList.prototype.install=function(){this.initList()};ProtoSenderList.prototype.initList=function(){this.list.push(this.account);this.list.push(this.ClientGM);this.list.push(this.GameData);this.list.push(this.CinemaBuild);this.list.push(this.test);this.list.push(this.item);this.list.push(this.city);this.list.push(this.movie);this.list.push(this.Actor);this.list.push(this.story);this.list.push(this.manageOrder);this.list.push(this.progressBox);this.list.push(this.manageProduce);this.list.push(this.rank);this.list.push(this.task);this.list.push(this.mall);this.list.push(this.Mail);this.list.push(this.Gift);this.list.push(this.manageBusiness);this.list.push(this.manageVisit);this.list.push(this.manageMeeting);this.list.push(this.dailySign);this.list.push(this.secretary);this.list.push(this.sevenAddUp);this.list.push(this.BeginnerGuide);this.list.push(this.Danmu);this.list.push(this.cooperate)};return ProtoSenderList}());Games.ProtoSenderList=ProtoSenderList})(Games||(Games={}));var AssetManager=Games.AssetManager;var ConfigManager=configs.ConfigManager;var ModelManager=Games.ModelManager;var Handler=laya.utils.Handler;var Loader=laya.net.Loader;var TEXT=Games.TEXT;var Skeleton=laya.ani.bone.Skeleton;var Templet=laya.ani.bone.Templet;var Texture=Laya.Texture;var Sprite=laya.display.Sprite;var Rectangle=laya.maths.Rectangle;var Game=(function(){function Game(){}Object.defineProperty(Game,"protosender",{get:function(){if(!Game._protosender){Game._protosender=new Games.ProtoSenderList();var server=Game.channel.serverItem;console.log("服务器：name="+server.name+", ip="+server.ip+", port="+server.port+", https="+server.https);Game.installProto(server.ip,server.port,server.https)}return Game._protosender},enumerable:true,configurable:true});Game.install=function(){if(!Games.GameLaunch.isRunEnd){return}if(Game._isInstall){return}Game._isInstall=true;gameLaunchLoding.onLoadedAllScript();var stage=Laya.stage;var fstage=fairygui.GRoot.inst;Game.loader=Games.LoaderManager.getInstance();Game.installer.install()};Game.installProto=function(ip,port,useHttps){if(ip===void 0){ip="172.16.0.116"}if(port===void 0){port=8360}if(useHttps===void 0){useHttps=false}Game.protosender.install();Game.protohandler.install();Game.proto.install(ip,port,useHttps)};Game.onInstallComplete=function(){console.log("Game.onInstallComplete");Game.sound.install();Game.tick.install();Game.tickhandler.start();Game.menu.open(MenuId.Login);gameLaunchLoding.onEnd();var test=Proto.API.test};Game.test1=function(){};Game.installer=new Games.GameInstaller();Game.menu=new Games.MenuManager();Game.guiRes=new Games.GuiResPackageConfigReader();Game.spriteRes=new Games.SpriteResPackageConfigReader();Game.system=new Games.SystemMessag;Game.guide=new Games.GuideManager();Game.guideUI=new Games.GuideWindow();Game.typeWrite=new Games.TypeWriteManager();Game.localStorage=Games.GameLocalStorage.Instance;Game.proto=new Games.ProtoManager();Game.protohandler=new Games.ProtoHandlerList();Game.protoOkEvent=new Emitter();Game.protoFailEvent=new Emitter();Game.event=new Emitter();Game.time=new Games.GameTimeData;Game.Fx=new FxManager();Game.asset=new AssetManager();Game.config=new ConfigManager();Game.lang=LangManager.Instance;Game.moduleModel=new ModelManager();Game.sound=new Games.AudioManager();Game.tick=new Games.TickManager();Game.tickhandler=Games.TickHandlerManager.Instance;Game._isInstall=false;return Game}());var User=new Games.UserData();setTimeout(function(){Game.install()},500);